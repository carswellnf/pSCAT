function p(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var s={exports:{}};s.exports=l;var g=s.exports.append=f,h=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function f(r,t){if(typeof r!="string")throw new TypeError("header argument is required");if(!t)throw new TypeError("field argument is required");for(var e=Array.isArray(t)?t:d(String(t)),a=0;a<e.length;a++)if(!h.test(e[a]))throw new TypeError("field argument contains an invalid header name");if(r==="*")return r;var n=r,o=d(r.toLowerCase());if(e.indexOf("*")!==-1||o.indexOf("*")!==-1)return"*";for(var i=0;i<e.length;i++){var u=e[i].toLowerCase();o.indexOf(u)===-1&&(o.push(u),n=n?n+", "+e[i]:e[i])}return n}function d(r){for(var t=0,e=[],a=0,n=0,o=r.length;n<o;n++)switch(r.charCodeAt(n)){case 32:a===t&&(a=t=n+1);break;case 44:e.push(r.substring(a,t)),a=t=n+1;break;default:t=n+1;break}return e.push(r.substring(a,t)),e}function l(r,t){if(!r||!r.getHeader||!r.setHeader)throw new TypeError("res argument is required");var e=r.getHeader("Vary")||"",a=Array.isArray(e)?e.join(", "):String(e);(e=f(a,t))&&r.setHeader("Vary",e)}var y=s.exports,c=p(y);export{g as append,c as default};
