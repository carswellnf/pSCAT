function I1(Zu){return Zu&&Zu.__esModule&&Object.prototype.hasOwnProperty.call(Zu,"default")?Zu.default:Zu}var Pp={exports:{}};(function(Zu,N1){(function(Th,xf){Zu.exports=xf()})(self,function(){return function(){var Th={79288:function(tt,U,t){var E=t(3400),S={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in S){var L=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");E.addStyleRule(L,S[i])}},86712:function(tt,U,t){tt.exports=t(84224)},37240:function(tt,U,t){tt.exports=t(51132)},29744:function(tt,U,t){tt.exports=t(94456)},29352:function(tt,U,t){tt.exports=t(67244)},96144:function(tt,U,t){tt.exports=t(97776)},53219:function(tt,U,t){tt.exports=t(61712)},4624:function(tt,U,t){tt.exports=t(95856)},54543:function(tt,U,t){tt.exports=t(54272)},45e3:function(tt,U,t){tt.exports=t(85404)},62300:function(tt,U,t){tt.exports=t(26048)},6920:function(tt,U,t){tt.exports=t(66240)},10264:function(tt,U,t){tt.exports=t(40448)},32016:function(tt,U,t){tt.exports=t(64884)},27528:function(tt,U,t){tt.exports=t(15088)},75556:function(tt,U,t){tt.exports=t(76744)},39204:function(tt,U,t){tt.exports=t(94704)},73996:function(tt,U,t){tt.exports=t(62396)},16489:function(tt,U,t){tt.exports=t(32028)},5e3:function(tt,U,t){tt.exports=t(81932)},77280:function(tt,U,t){tt.exports=t(45536)},33992:function(tt,U,t){tt.exports=t(42600)},17600:function(tt,U,t){tt.exports=t(21536)},49116:function(tt,U,t){tt.exports=t(65664)},46808:function(tt,U,t){tt.exports=t(29044)},36168:function(tt,U,t){tt.exports=t(48928)},13792:function(tt,U,t){var E=t(32016);E.register([t(37240),t(29352),t(5e3),t(33992),t(17600),t(49116),t(6920),t(67484),t(79440),t(39204),t(83096),t(36168),t(20260),t(63560),t(65832),t(46808),t(73996),t(48824),t(89904),t(25120),t(13752),t(4340),t(62300),t(29800),t(8363),t(54543),t(86636),t(42192),t(32140),t(77280),t(89296),t(56816),t(70192),t(45e3),t(27528),t(84764),t(3920),t(50248),t(4624),t(69967),t(10264),t(86152),t(53219),t(81604),t(63796),t(29744),t(89336),t(86712),t(75556),t(16489),t(97312),t(96144)]),tt.exports=E},3920:function(tt,U,t){tt.exports=t(43480)},25120:function(tt,U,t){tt.exports=t(6296)},4340:function(tt,U,t){tt.exports=t(7404)},86152:function(tt,U,t){tt.exports=t(65456)},56816:function(tt,U,t){tt.exports=t(22020)},89296:function(tt,U,t){tt.exports=t(29928)},20260:function(tt,U,t){tt.exports=t(75792)},32140:function(tt,U,t){tt.exports=t(156)},84764:function(tt,U,t){tt.exports=t(45499)},48824:function(tt,U,t){tt.exports=t(3296)},69967:function(tt,U,t){tt.exports=t(4184)},8363:function(tt,U,t){tt.exports=t(36952)},86636:function(tt,U,t){tt.exports=t(38983)},70192:function(tt,U,t){tt.exports=t(11572)},81604:function(tt,U,t){tt.exports=t(76924)},63796:function(tt,U,t){tt.exports=t(62944)},89336:function(tt,U,t){tt.exports=t(95443)},67484:function(tt,U,t){tt.exports=t(34864)},97312:function(tt,U,t){tt.exports=t(76272)},42192:function(tt,U,t){tt.exports=t(97924)},29800:function(tt,U,t){tt.exports=t(15436)},63560:function(tt,U,t){tt.exports=t(5621)},89904:function(tt,U,t){tt.exports=t(91304)},50248:function(tt,U,t){tt.exports=t(41724)},65832:function(tt,U,t){tt.exports=t(31991)},79440:function(tt,U,t){tt.exports=t(22869)},13752:function(tt,U,t){tt.exports=t(67776)},83096:function(tt,U,t){tt.exports=t(95952)},72196:function(tt){tt.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(tt,U,t){var E=t(72196),S=t(25376),i=t(33816),L=t(31780).templatedArray;t(36208),tt.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:S({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:E.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:E.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:S({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(tt,U,t){var E=t(3400),S=t(54460),i=t(23816).draw;tt.exports=function(v){var d=v._fullLayout,r=E.filterVisible(d.annotations);if(r.length&&v._fullData.length)return E.syncOrAsync([i,L],v)};function L(v){var d=v._fullLayout;E.filterVisible(d.annotations).forEach(function(r){var e=S.getFromId(v,r.xref),l=S.getFromId(v,r.yref),n=S.getRefType(r.xref),s=S.getRefType(r.yref);r._extremes={},n==="range"&&T(r,e),s==="range"&&T(r,l)})}function T(v,d){var r=d._id,e=r.charAt(0),l=v[e],n=v["a"+e],s=v[e+"ref"],o=v["a"+e+"ref"],f=v["_"+e+"padplus"],b=v["_"+e+"padminus"],h={x:1,y:-1}[e]*v[e+"shift"],_=3*v.arrowsize*v.arrowwidth||0,a=_+h,c=_-h,p=3*v.startarrowsize*v.arrowwidth||0,x=p+h,k=p-h,y;if(o===s){var A=S.findExtremes(d,[d.r2c(l)],{ppadplus:a,ppadminus:c}),C=S.findExtremes(d,[d.r2c(n)],{ppadplus:Math.max(f,x),ppadminus:Math.max(b,k)});y={min:[A.min[0],C.min[0]],max:[A.max[0],C.max[0]]}}else x=n?x+n:x,k=n?k-n:k,y=S.findExtremes(d,[d.r2c(l)],{ppadplus:Math.max(f,a,x),ppadminus:Math.max(b,c,k)});v._extremes[r]=y}},42300:function(tt,U,t){var E=t(3400),S=t(24040),i=t(31780).arrayEditor;tt.exports={hasClickToShow:L,onClick:T};function L(r,e){var l=v(r,e);return l.on.length>0||l.explicitOff.length>0}function T(r,e){var l=v(r,e),n=l.on,s=l.off.concat(l.explicitOff),o={},f=r._fullLayout.annotations,b,h;if(n.length||s.length){for(b=0;b<n.length;b++)h=i(r.layout,"annotations",f[n[b]]),h.modifyItem("visible",!0),E.extendFlat(o,h.getUpdateObj());for(b=0;b<s.length;b++)h=i(r.layout,"annotations",f[s[b]]),h.modifyItem("visible",!1),E.extendFlat(o,h.getUpdateObj());return S.call("update",r,{},o)}}function v(r,e){var l=r._fullLayout.annotations,n=[],s=[],o=[],f=(e||[]).length,b,h,_,a,c,p,x,k;for(b=0;b<l.length;b++)if(_=l[b],a=_.clicktoshow,a){for(h=0;h<f;h++)if(c=e[h],p=c.xaxis,x=c.yaxis,p._id===_.xref&&x._id===_.yref&&p.d2r(c.x)===d(_._xclick,p)&&x.d2r(c.y)===d(_._yclick,x)){_.visible?a==="onout"?k=s:k=o:k=n,k.push(b);break}h===f&&_.visible&&a==="onout"&&s.push(b)}return{on:n,off:s,explicitOff:o}}function d(r,e){return e.type==="log"?e.l2r(r):e.d2r(r)}},87192:function(tt,U,t){var E=t(3400),S=t(76308);tt.exports=function(i,L,T,v){v("opacity");var d=v("bgcolor"),r=v("bordercolor"),e=S.opacity(r);v("borderpad");var l=v("borderwidth"),n=v("showarrow");v("text",n?" ":T._dfltTitle.annotation),v("textangle"),E.coerceFont(v,"font",T.font),v("width"),v("align");var s=v("height");if(s&&v("valign"),n){var o=v("arrowside"),f,b;o.indexOf("end")!==-1&&(f=v("arrowhead"),b=v("arrowsize")),o.indexOf("start")!==-1&&(v("startarrowhead",f),v("startarrowsize",b)),v("arrowcolor",e?L.bordercolor:S.defaultLine),v("arrowwidth",(e&&l||1)*2),v("standoff"),v("startstandoff")}var h=v("hovertext"),_=T.hoverlabel||{};if(h){var a=v("hoverlabel.bgcolor",_.bgcolor||(S.opacity(d)?S.rgb(d):S.defaultLine)),c=v("hoverlabel.bordercolor",_.bordercolor||S.contrast(a)),p=E.extendFlat({},_.font);p.color||(p.color=c),E.coerceFont(v,"hoverlabel.font",p)}v("captureevents",!!h)}},26828:function(tt,U,t){var E=t(38248),S=t(36896);tt.exports=function(i,L,T,v){L=L||{};var d=T==="log"&&L.type==="linear",r=T==="linear"&&L.type==="log";if(!(d||r))return;var e=i._fullLayout.annotations,l=L._id.charAt(0),n,s;function o(b){var h=n[b],_=null;d?_=S(h,L.range):_=Math.pow(10,h),E(_)||(_=null),v(s+b,_)}for(var f=0;f<e.length;f++)n=e[f],s="annotations["+f+"].",n[l+"ref"]===L._id&&o(l),n["a"+l+"ref"]===L._id&&o("a"+l)}},45216:function(tt,U,t){var E=t(3400),S=t(54460),i=t(51272),L=t(87192),T=t(13916);tt.exports=function(d,r){i(d,r,{name:"annotations",handleItemDefaults:v})};function v(d,r,e){function l(u,m){return E.coerce(d,r,T,u,m)}var n=l("visible"),s=l("clicktoshow");if(n||s){L(d,r,e,l);for(var o=r.showarrow,f=["x","y"],b=[-10,-30],h={_fullLayout:e},_=0;_<2;_++){var a=f[_],c=S.coerceRef(d,r,h,a,"","paper");if(c!=="paper"){var p=S.getFromId(h,c);p._annIndices.push(r._index)}if(S.coercePosition(r,h,l,c,a,.5),o){var x="a"+a,k=S.coerceRef(d,r,h,x,"pixel",["pixel","paper"]);k!=="pixel"&&k!==c&&(k=r[x]="pixel");var y=k==="pixel"?b[_]:.4;S.coercePosition(r,h,l,k,x,y)}l(a+"anchor"),l(a+"shift")}if(E.noneOrAll(d,r,["x","y"]),o&&E.noneOrAll(d,r,["ax","ay"]),s){var A=l("xclick"),C=l("yclick");r._xclick=A===void 0?r.x:S.cleanPosition(A,h,r.xref),r._yclick=C===void 0?r.y:S.cleanPosition(C,h,r.yref)}}}},23816:function(tt,U,t){var E=t(33428),S=t(24040),i=t(7316),L=t(3400),T=L.strTranslate,v=t(54460),d=t(76308),r=t(43616),e=t(93024),l=t(72736),n=t(93972),s=t(86476),o=t(31780).arrayEditor,f=t(33652);tt.exports={draw:b,drawOne:h,drawRaw:a};function b(c){var p=c._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var x=0;x<p.annotations.length;x++)p.annotations[x].visible&&h(c,x);return i.previousPromises(c)}function h(c,p){var x=c._fullLayout,k=x.annotations[p]||{},y=v.getFromId(c,k.xref),A=v.getFromId(c,k.yref);y&&y.setScale(),A&&A.setScale(),a(c,k,p,!1,y,A)}function _(c,p,x,k,y){var A=y[x],C=y[x+"ref"],u=x.indexOf("y")!==-1,m=v.getRefType(C)==="domain",M=u?k.h:k.w;return c?m?A+(u?-p:p)/c._length:c.p2r(c.r2p(A)+p):A+(u?-p:p)/M}function a(c,p,x,k,y,A){var C=c._fullLayout,u=c._fullLayout._size,m=c._context.edits,M,w;k?(M="annotation-"+k,w=k+".annotations"):(M="annotation",w="annotations");var z=o(c.layout,w,p),O=z.modifyBase,D=z.modifyItem,P=z.getUpdateObj;C._infolayer.selectAll("."+M+'[data-index="'+x+'"]').remove();var F="clip"+C._uid+"_ann"+x;if(!p._input||p.visible===!1){E.selectAll("#"+F).remove();return}var R={x:{},y:{}},N=+p.textangle||0,B=C._infolayer.append("g").classed(M,!0).attr("data-index",String(x)).style("opacity",p.opacity),q=B.append("g").classed("annotation-text-g",!0),V=m[p.showarrow?"annotationTail":"annotationPosition"],J=p.captureevents||m.annotationText||V;function it(ft){var yt={index:x,annotation:p._input,fullAnnotation:p,event:ft};return k&&(yt.subplotId=k),yt}var nt=q.append("g").style("pointer-events",J?"all":null).call(n,"pointer").on("click",function(){c._dragging=!1,c.emit("plotly_clickannotation",it(E.event))});p.hovertext&&nt.on("mouseover",function(){var ft=p.hoverlabel,yt=ft.font,xt=this.getBoundingClientRect(),Lt=c.getBoundingClientRect();e.loneHover({x0:xt.left-Lt.left,x1:xt.right-Lt.left,y:(xt.top+xt.bottom)/2-Lt.top,text:p.hovertext,color:ft.bgcolor,borderColor:ft.bordercolor,fontFamily:yt.family,fontSize:yt.size,fontColor:yt.color,fontWeight:yt.weight,fontStyle:yt.style,fontVariant:yt.variant},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:c})}).on("mouseout",function(){e.loneUnhover(C._hoverlayer.node())});var Y=p.borderwidth,Z=p.borderpad,$=Y+Z,G=nt.append("rect").attr("class","bg").style("stroke-width",Y+"px").call(d.stroke,p.bordercolor).call(d.fill,p.bgcolor),rt=p.width||p.height,ot=C._topclips.selectAll("#"+F).data(rt?[0]:[]);ot.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),ot.exit().remove();var W=p.font,H=C._meta?L.templateString(p.text,C._meta):p.text,at=nt.append("text").classed("annotation-text",!0).text(H);function Q(ft){return ft.call(r.font,W).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),l.convertToTspans(ft,c,ct),ft}function ct(){var ft=at.selectAll("a");if(ft.size()===1&&ft.text()===at.text()){var yt=nt.insert("a",":first-child").attr({"xlink:xlink:href":ft.attr("xlink:href"),"xlink:xlink:show":ft.attr("xlink:show")}).style({cursor:"pointer"});yt.node().appendChild(G.node())}var xt=nt.select(".annotation-text-math-group"),Lt=!xt.empty(),gt=r.bBox((Lt?xt:at).node()),mt=gt.width,vt=gt.height,At=p.width||mt,Ot=p.height||vt,Pt=Math.round(At+2*$),Et=Math.round(Ot+2*$);function Nt(vr,$e){return $e==="auto"&&(vr<.3333333333333333?$e="left":vr>.6666666666666666?$e="right":$e="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[$e]}for(var ne=!1,Gt=["x","y"],pe=0;pe<Gt.length;pe++){var Vt=Gt[pe],ae=p[Vt+"ref"]||Vt,oe=p["a"+Vt+"ref"],ce={x:y,y:A}[Vt],le=(N+(Vt==="x"?0:-90))*Math.PI/180,ye=Pt*Math.cos(le),Tt=Et*Math.sin(le),Ft=Math.abs(ye)+Math.abs(Tt),$t=p[Vt+"anchor"],Wt=p[Vt+"shift"]*(Vt==="x"?1:-1),Bt=R[Vt],Mt,St,Dt,dt,ht,bt=v.getRefType(ae);if(ce&&bt!=="domain"){var zt=ce.r2fraction(p[Vt]);(zt<0||zt>1)&&(oe===ae?(zt=ce.r2fraction(p["a"+Vt]),(zt<0||zt>1)&&(ne=!0)):ne=!0),Mt=ce._offset+ce.r2p(p[Vt]),dt=.5}else{var qt=bt==="domain";Vt==="x"?(Dt=p[Vt],Mt=qt?ce._offset+ce._length*Dt:Mt=u.l+u.w*Dt):(Dt=1-p[Vt],Mt=qt?ce._offset+ce._length*Dt:Mt=u.t+u.h*Dt),dt=p.showarrow?.5:Dt}if(p.showarrow){Bt.head=Mt;var te=p["a"+Vt];if(ht=ye*Nt(.5,p.xanchor)-Tt*Nt(.5,p.yanchor),oe===ae){var re=v.getRefType(oe);re==="domain"?(Vt==="y"&&(te=1-te),Bt.tail=ce._offset+ce._length*te):re==="paper"?Vt==="y"?(te=1-te,Bt.tail=u.t+u.h*te):Bt.tail=u.l+u.w*te:Bt.tail=ce._offset+ce.r2p(te),St=ht}else Bt.tail=Mt+te,St=ht+te;Bt.text=Bt.tail+ht;var Ye=C[Vt==="x"?"width":"height"];if(ae==="paper"&&(Bt.head=L.constrain(Bt.head,1,Ye-1)),oe==="pixel"){var Be=-Math.max(Bt.tail-3,Bt.text),ge=Math.min(Bt.tail+3,Bt.text)-Ye;Be>0?(Bt.tail+=Be,Bt.text+=Be):ge>0&&(Bt.tail-=ge,Bt.text-=ge)}Bt.tail+=Wt,Bt.head+=Wt}else ht=Ft*Nt(dt,$t),St=ht,Bt.text=Mt+ht;Bt.text+=Wt,ht+=Wt,St+=Wt,p["_"+Vt+"padplus"]=Ft/2+St,p["_"+Vt+"padminus"]=Ft/2-St,p["_"+Vt+"size"]=Ft,p["_"+Vt+"shift"]=ht}if(ne){nt.remove();return}var be=0,Ne=0;if(p.align!=="left"&&(be=(At-mt)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Ne=(Ot-vt)*(p.valign==="middle"?.5:1)),Lt)xt.select("svg").attr({x:$+be-1,y:$+Ne}).call(r.setClipUrl,rt?F:null,c);else{var pr=$+Ne-gt.top,fe=$+be-gt.left;at.call(l.positionText,fe,pr).call(r.setClipUrl,rt?F:null,c)}ot.select("rect").call(r.setRect,$,$,At,Ot),G.call(r.setRect,Y/2,Y/2,Pt-Y,Et-Y),nt.call(r.setTranslate,Math.round(R.x.text-Pt/2),Math.round(R.y.text-Et/2)),q.attr({transform:"rotate("+N+","+R.x.text+","+R.y.text+")"});var De=function(vr,$e){B.selectAll(".annotation-arrow-g").remove();var Kt=R.x.head,ie=R.y.head,he=R.x.tail+vr,Ae=R.y.tail+$e,Ee=R.x.text+vr,Fe=R.y.text+$e,Re=L.rotationXYMatrix(N,Ee,Fe),Ce=L.apply2DTransform(Re),We=L.apply2DTransform2(Re),er=+G.attr("width"),Ue=+G.attr("height"),ar=Ee-.5*er,It=ar+er,Ut=Fe-.5*Ue,Me=Ut+Ue,ke=[[ar,Ut,ar,Me],[ar,Me,It,Me],[It,Me,It,Ut],[It,Ut,ar,Ut]].map(We);if(!ke.reduce(function(Mr,$r){return Mr^!!L.segmentsIntersect(Kt,ie,Kt+1e6,ie+1e6,$r[0],$r[1],$r[2],$r[3])},!1)){ke.forEach(function(Mr){var $r=L.segmentsIntersect(he,Ae,Kt,ie,Mr[0],Mr[1],Mr[2],Mr[3]);$r&&(he=$r.x,Ae=$r.y)});var qe=p.arrowwidth,Ke=p.arrowcolor,Je=p.arrowside,Ve=B.append("g").style({opacity:d.opacity(Ke)}).classed("annotation-arrow-g",!0),Pe=Ve.append("path").attr("d","M"+he+","+Ae+"L"+Kt+","+ie).style("stroke-width",qe+"px").call(d.stroke,d.rgb(Ke));if(f(Pe,Je,p),m.annotationPosition&&Pe.node().parentNode&&!k){var rr=Kt,lr=ie;if(p.standoff){var cr=Math.sqrt(Math.pow(Kt-he,2)+Math.pow(ie-Ae,2));rr+=p.standoff*(he-Kt)/cr,lr+=p.standoff*(Ae-ie)/cr}var ir=Ve.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(he-rr)+","+(Ae-lr),transform:T(rr,lr)}).style("stroke-width",qe+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)"),Er,kr;s.init({element:ir.node(),gd:c,prepFn:function(){var Mr=r.getTranslate(nt);Er=Mr.x,kr=Mr.y,y&&y.autorange&&O(y._name+".autorange",!0),A&&A.autorange&&O(A._name+".autorange",!0)},moveFn:function(Mr,$r){var Gr=Ce(Er,kr),vn=Gr[0]+Mr,yn=Gr[1]+$r;nt.call(r.setTranslate,vn,yn),D("x",_(y,Mr,"x",u,p)),D("y",_(A,$r,"y",u,p)),p.axref===p.xref&&D("ax",_(y,Mr,"ax",u,p)),p.ayref===p.yref&&D("ay",_(A,$r,"ay",u,p)),Ve.attr("transform",T(Mr,$r)),q.attr({transform:"rotate("+N+","+vn+","+yn+")"})},doneFn:function(){S.call("_guiRelayout",c,P());var Mr=document.querySelector(".js-notes-box-panel");Mr&&Mr.redraw(Mr.selectedObj)}})}}};if(p.showarrow&&De(0,0),V){var Ge;s.init({element:nt.node(),gd:c,prepFn:function(){Ge=q.attr("transform")},moveFn:function(vr,$e){var Kt="pointer";if(p.showarrow)p.axref===p.xref?D("ax",_(y,vr,"ax",u,p)):D("ax",p.ax+vr),p.ayref===p.yref?D("ay",_(A,$e,"ay",u.w,p)):D("ay",p.ay+$e),De(vr,$e);else{if(k)return;var ie,he;if(y)ie=_(y,vr,"x",u,p);else{var Ae=p._xsize/u.w,Ee=p.x+(p._xshift-p.xshift)/u.w-Ae/2;ie=s.align(Ee+vr/u.w,Ae,0,1,p.xanchor)}if(A)he=_(A,$e,"y",u,p);else{var Fe=p._ysize/u.h,Re=p.y-(p._yshift+p.yshift)/u.h-Fe/2;he=s.align(Re-$e/u.h,Fe,0,1,p.yanchor)}D("x",ie),D("y",he),(!y||!A)&&(Kt=s.getCursor(y?.5:ie,A?.5:he,p.xanchor,p.yanchor))}q.attr({transform:T(vr,$e)+Ge}),n(nt,Kt)},clickFn:function(vr,$e){p.captureevents&&c.emit("plotly_clickannotation",it($e))},doneFn:function(){n(nt),S.call("_guiRelayout",c,P());var vr=document.querySelector(".js-notes-box-panel");vr&&vr.redraw(vr.selectedObj)}})}}m.annotationText?at.call(l.makeEditable,{delegate:nt,gd:c}).call(Q).on("edit",function(ft){p.text=ft,this.call(Q),D("text",ft),y&&y.autorange&&O(y._name+".autorange",!0),A&&A.autorange&&O(A._name+".autorange",!0),S.call("_guiRelayout",c,P())}):at.call(Q)}},33652:function(tt,U,t){var E=t(33428),S=t(76308),i=t(72196),L=t(3400),T=L.strScale,v=L.strRotate,d=L.strTranslate;tt.exports=function(r,e,l){var n=r.node(),s=i[l.arrowhead||0],o=i[l.startarrowhead||0],f=(l.arrowwidth||1)*(l.arrowsize||1),b=(l.arrowwidth||1)*(l.startarrowsize||1),h=e.indexOf("start")>=0,_=e.indexOf("end")>=0,a=s.backoff*f+l.standoff,c=o.backoff*b+l.startstandoff,p,x,k,y;if(n.nodeName==="line"){p={x:+r.attr("x1"),y:+r.attr("y1")},x={x:+r.attr("x2"),y:+r.attr("y2")};var A=p.x-x.x,C=p.y-x.y;if(k=Math.atan2(C,A),y=k+Math.PI,a&&c&&a+c>Math.sqrt(A*A+C*C)){B();return}if(a){if(a*a>A*A+C*C){B();return}var u=a*Math.cos(k),m=a*Math.sin(k);x.x+=u,x.y+=m,r.attr({x2:x.x,y2:x.y})}if(c){if(c*c>A*A+C*C){B();return}var M=c*Math.cos(k),w=c*Math.sin(k);p.x-=M,p.y-=w,r.attr({x1:p.x,y1:p.y})}}else if(n.nodeName==="path"){var z=n.getTotalLength(),O="";if(z<a+c){B();return}var D=n.getPointAtLength(0),P=n.getPointAtLength(.1);k=Math.atan2(D.y-P.y,D.x-P.x),p=n.getPointAtLength(Math.min(c,z)),O="0px,"+c+"px,";var F=n.getPointAtLength(z),R=n.getPointAtLength(z-.1);y=Math.atan2(F.y-R.y,F.x-R.x),x=n.getPointAtLength(Math.max(0,z-a));var N=O?c+a:a;O+=z-N+"px,"+z+"px",r.style("stroke-dasharray",O)}function B(){r.style("stroke-dasharray","0px,100px")}function q(V,J,it,nt){V.path&&(V.noRotate&&(it=0),E.select(n.parentNode).append("path").attr({class:r.attr("class"),d:V.path,transform:d(J.x,J.y)+v(it*180/Math.PI)+T(nt)}).style({fill:S.rgb(l.arrowcolor),"stroke-width":0}))}h&&q(o,p,k,b),_&&q(s,x,y,f)}},79180:function(tt,U,t){var E=t(23816),S=t(42300);tt.exports={moduleType:"component",name:"annotations",layoutAttributes:t(13916),supplyLayoutDefaults:t(45216),includeBasePlot:t(36632)("annotations"),calcAutorange:t(90272),draw:E.draw,drawOne:E.drawOne,drawRaw:E.drawRaw,hasClickToShow:S.hasClickToShow,onClick:S.onClick,convertCoords:t(26828)}},45899:function(tt,U,t){var E=t(13916),S=t(67824).overrideAll,i=t(31780).templatedArray;tt.exports=S(i("annotation",{visible:E.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:E.xanchor,xshift:E.xshift,yanchor:E.yanchor,yshift:E.yshift,text:E.text,textangle:E.textangle,font:E.font,width:E.width,height:E.height,opacity:E.opacity,align:E.align,valign:E.valign,bgcolor:E.bgcolor,bordercolor:E.bordercolor,borderpad:E.borderpad,borderwidth:E.borderwidth,showarrow:E.showarrow,arrowcolor:E.arrowcolor,arrowhead:E.arrowhead,startarrowhead:E.startarrowhead,arrowside:E.arrowside,arrowsize:E.arrowsize,startarrowsize:E.startarrowsize,arrowwidth:E.arrowwidth,standoff:E.standoff,startstandoff:E.startstandoff,hovertext:E.hovertext,hoverlabel:E.hoverlabel,captureevents:E.captureevents}),"calc","from-root")},42456:function(tt,U,t){var E=t(3400),S=t(54460);tt.exports=function(L){for(var T=L.fullSceneLayout,v=T.annotations,d=0;d<v.length;d++)i(v[d],L);L.fullLayout._infolayer.selectAll(".annotation-"+L.id).remove()};function i(L,T){var v=T.fullSceneLayout,d=v.domain,r=T.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},E.extendFlat(L._xa,e),S.setConvert(L._xa),L._xa._offset=r.l+d.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(d.x[1]-d.x[0])},L._ya={},E.extendFlat(L._ya,e),S.setConvert(L._ya),L._ya._offset=r.t+(1-d.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(d.y[1]-d.y[0])}}},52808:function(tt,U,t){var E=t(3400),S=t(54460),i=t(51272),L=t(87192),T=t(45899);tt.exports=function(d,r,e){i(d,r,{name:"annotations",handleItemDefaults:v,fullLayout:e.fullLayout})};function v(d,r,e,l){function n(f,b){return E.coerce(d,r,T,f,b)}function s(f){var b=f+"axis",h={_fullLayout:{}};return h._fullLayout[b]=e[b],S.coercePosition(r,h,n,f,f,.5)}var o=n("visible");o&&(L(d,r,l.fullLayout,n),s("x"),s("y"),s("z"),E.noneOrAll(d,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),E.noneOrAll(d,r,["ax","ay"])))}},71836:function(tt,U,t){var E=t(23816).drawRaw,S=t(94424),i=["x","y","z"];tt.exports=function(L){for(var T=L.fullSceneLayout,v=L.dataScale,d=T.annotations,r=0;r<d.length;r++){for(var e=d[r],l=!1,n=0;n<3;n++){var s=i[n],o=e[s],f=T[s+"axis"],b=f.r2fraction(o);if(b<0||b>1){l=!0;break}}l?L.fullLayout._infolayer.select(".annotation-"+L.id+'[data-index="'+r+'"]').remove():(e._pdata=S(L.glplot.cameraParams,[T.xaxis.r2l(e.x)*v[0],T.yaxis.r2l(e.y)*v[1],T.zaxis.r2l(e.z)*v[2]]),E(L.graphDiv,e,r,L.id,e._xa,e._ya))}}},56864:function(tt,U,t){var E=t(24040),S=t(3400);tt.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(45899)}}},layoutAttributes:t(45899),handleDefaults:t(52808),includeBasePlot:i,convert:t(42456),draw:t(71836)};function i(L,T){var v=E.subplotsRegistry.gl3d;if(v)for(var d=v.attrRegex,r=Object.keys(L),e=0;e<r.length;e++){var l=r[e];d.test(l)&&(L[l].annotations||[]).length&&(S.pushUnique(T._basePlotModules,v),S.pushUnique(T._subplots.gl3d,l))}}},54976:function(tt,U,t){tt.exports=t(38700),t(15168),t(67020),t(89792),t(55668),t(65168),t(2084),t(26368),t(24747),t(65616),t(30632),t(73040),t(1104),t(51456),t(4592),t(45348)},97776:function(tt,U,t){var E=t(54976),S=t(3400),i=t(39032),L=i.EPOCHJD,T=i.ONEDAY,v={valType:"enumerated",values:S.sortObjectKeys(E.calendars),editType:"calc",dflt:"gregorian"},d=function(y,A,C,u){var m={};return m[C]=v,S.coerce(y,A,m,C,u)},r=function(y,A,C,u){for(var m=0;m<C.length;m++)d(y,A,C[m]+"calendar",u.calendar)},e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},l={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},s="##",o={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function f(y,A,C){for(var u=Math.floor((A+.05)/T)+L,m=h(C).fromJD(u),M=0,w,z,O,D,P;(M=y.indexOf("%",M))!==-1;)w=y.charAt(M+1),w==="0"||w==="-"||w==="_"?(O=3,z=y.charAt(M+2),w==="_"&&(w="-")):(z=w,w="0",O=2),D=o[z],D?(D===s?P=s:P=m.formatDate(D[w]),y=y.substr(0,M)+P+y.substr(M+O),M+=P.length):M+=O;return y}var b={};function h(y){var A=b[y];return A||(A=b[y]=E.instance(y),A)}function _(y){return S.extendFlat({},v,{description:y})}function a(y){return"Sets the calendar system to use with `"+y+"` date data."}var c={xcalendar:_(a("x"))},p=S.extendFlat({},c,{ycalendar:_(a("y"))}),x=S.extendFlat({},p,{zcalendar:_(a("z"))}),k=_(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));tt.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:x,surface:x,mesh3d:x,scattergl:p,ohlc:c,candlestick:c},layout:{calendar:_(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:_(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:_(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:d,handleTraceDefaults:r,CANONICAL_SUNDAY:l,CANONICAL_TICK:e,DFLTRANGE:n,getCal:h,worldCalFmt:f}},22548:function(tt,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},76308:function(tt,U,t){var E=t(49760),S=t(38248),i=t(38116).isTypedArray,L=tt.exports={},T=t(22548);L.defaults=T.defaults;var v=L.defaultLine=T.defaultLine;L.lightLine=T.lightLine;var d=L.background=T.background;L.tinyRGB=function(e){var l=e.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},L.rgb=function(e){return L.tinyRGB(E(e))},L.opacity=function(e){return e?E(e).getAlpha():0},L.addOpacity=function(e,l){var n=E(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+l+")"},L.combine=function(e,l){var n=E(e).toRgb();if(n.a===1)return E(e).toRgbString();var s=E(l||d).toRgb(),o=s.a===1?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a},f={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return E(f).toRgbString()},L.interpolate=function(e,l,n){var s=E(e).toRgb(),o=E(l).toRgb(),f={r:n*s.r+(1-n)*o.r,g:n*s.g+(1-n)*o.g,b:n*s.b+(1-n)*o.b};return E(f).toRgbString()},L.contrast=function(e,l,n){var s=E(e);s.getAlpha()!==1&&(s=E(L.combine(e,d)));var o=s.isDark()?l?s.lighten(l):d:n?s.darken(n):v;return o.toString()},L.stroke=function(e,l){var n=E(l);e.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(e,l){var n=E(l);e.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(e){if(!(!e||typeof e!="object")){var l=Object.keys(e),n,s,o,f;for(n=0;n<l.length;n++)if(o=l[n],f=e[o],o.substr(o.length-5)==="color")if(Array.isArray(f))for(s=0;s<f.length;s++)f[s]=r(f[s]);else e[o]=r(f);else if(o.substr(o.length-10)==="colorscale"&&Array.isArray(f))for(s=0;s<f.length;s++)Array.isArray(f[s])&&(f[s][1]=r(f[s][1]));else if(Array.isArray(f)){var b=f[0];if(!Array.isArray(b)&&b&&typeof b=="object")for(s=0;s<f.length;s++)L.clean(f[s])}else f&&typeof f=="object"&&!i(f)&&L.clean(f)}};function r(e){if(S(e)||typeof e!="string")return e;var l=e.trim();if(l.substr(0,3)!=="rgb")return e;var n=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var s=n[1].trim().split(/\s*[\s,]\s*/),o=l.charAt(3)==="a"&&s.length===4;if(!o&&s.length!==3)return e;for(var f=0;f<s.length;f++){if(!s[f].length||(s[f]=Number(s[f]),!(s[f]>=0)))return e;if(f===3)s[f]>1&&(s[f]=1);else if(s[f]>=1)return e}var b=Math.round(s[0]*255)+", "+Math.round(s[1]*255)+", "+Math.round(s[2]*255);return o?"rgba("+b+", "+s[3]+")":"rgb("+b+")"}},42996:function(tt,U,t){var E=t(94724),S=t(25376),i=t(92880).extendFlat,L=t(67824).overrideAll;tt.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:E.linecolor,outlinewidth:E.linewidth,bordercolor:E.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:i({},E.ticks,{dflt:""}),ticklabeloverflow:i({},E.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:S({}),tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,separatethousands:E.separatethousands,exponentformat:E.exponentformat,minexponent:E.minexponent,showexponent:E.showexponent,title:{text:{valType:"string"},font:S({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:S({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(tt){tt.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(tt,U,t){var E=t(3400),S=t(31780),i=t(26332),L=t(25404),T=t(95936),v=t(42568),d=t(42996);tt.exports=function(r,e,l){var n=S.newContainer(e,"colorbar"),s=r.colorbar||{};function o(F,R){return E.coerce(s,n,d,F,R)}var f=l.margin||{t:0,b:0,l:0,r:0},b=l.width-f.l-f.r,h=l.height-f.t-f.b,_=o("orientation"),a=_==="v",c=o("thicknessmode");o("thickness",c==="fraction"?30/(a?b:h):30);var p=o("lenmode");o("len",p==="fraction"?1:a?h:b);var x=o("yref"),k=o("xref"),y=x==="paper",A=k==="paper",C,u,m,M="left";a?(m="middle",M=A?"left":"right",C=A?1.02:1,u=.5):(m=y?"bottom":"top",M="center",C=.5,u=y?1.02:1),E.coerce(s,n,{x:{valType:"number",min:A?-2:0,max:A?3:1,dflt:C}},"x"),E.coerce(s,n,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:u}},"y"),o("xanchor",M),o("xpad"),o("yanchor",m),o("ypad"),E.noneOrAll(s,n,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var w=E.coerce(s,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:a?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",w.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(s,n,o,"linear");var z=l.font,O={noAutotickangles:!0,outerTicks:!1,font:z};w.indexOf("inside")!==-1&&(O.bgColor="black"),v(s,n,o,"linear",O),T(s,n,o,"linear",O),L(s,n,o,"linear",O),o("title.text",l._dfltTitle.colorbar);var D=n.showticklabels?n.tickfont:z,P=E.extendFlat({},D,{weight:z.weight,style:z.style,variant:z.variant,color:z.color,size:E.bigFont(D.size)});E.coerceFont(o,"title.font",P),o("title.side",a?"top":"right")}},37848:function(tt,U,t){var E=t(33428),S=t(49760),i=t(7316),L=t(24040),T=t(54460),v=t(86476),d=t(3400),r=d.strTranslate,e=t(92880).extendFlat,l=t(93972),n=t(43616),s=t(76308),o=t(81668),f=t(72736),b=t(94288).flipScale,h=t(28336),_=t(37668),a=t(94724),c=t(84284),p=c.LINE_SPACING,x=c.FROM_TL,k=c.FROM_BR,y=t(63964).cn;function A(z){var O=z._fullLayout,D=O._infolayer.selectAll("g."+y.colorbar).data(C(z),function(P){return P._id});D.enter().append("g").attr("class",function(P){return P._id}).classed(y.colorbar,!0),D.each(function(P){var F=E.select(this);d.ensureSingle(F,"rect",y.cbbg),d.ensureSingle(F,"g",y.cbfills),d.ensureSingle(F,"g",y.cblines),d.ensureSingle(F,"g",y.cbaxis,function(N){N.classed(y.crisp,!0)}),d.ensureSingle(F,"g",y.cbtitleunshift,function(N){N.append("g").classed(y.cbtitle,!0)}),d.ensureSingle(F,"rect",y.cboutline);var R=u(F,P,z);R&&R.then&&(z._promises||[]).push(R),z._context.edits.colorbarPosition&&m(F,P,z)}),D.exit().each(function(P){i.autoMargin(z,P._id)}).remove(),D.order()}function C(z){var O=z._fullLayout,D=z.calcdata,P=[],F,R,N,B;function q(W){return e(W,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function V(){typeof B.calc=="function"?B.calc(z,N,F):(F._fillgradient=R.reversescale?b(R.colorscale):R.colorscale,F._zrange=[R[B.min],R[B.max]])}for(var J=0;J<D.length;J++){var it=D[J];if(N=it[0].trace,!!N._module){var nt=N._module.colorbar;if(N.visible===!0&&nt)for(var Y=Array.isArray(nt),Z=Y?nt:[nt],$=0;$<Z.length;$++){B=Z[$];var G=B.container;R=G?N[G]:N,R&&R.showscale&&(F=q(R.colorbar),F._id="cb"+N.uid+(Y&&G?"-"+G:""),F._traceIndex=N.index,F._propPrefix=(G?G+".":"")+"colorbar.",F._meta=N._meta,V(),P.push(F))}}}for(var rt in O._colorAxes)if(R=O[rt],R.showscale){var ot=O._colorAxes[rt];F=q(R.colorbar),F._id="cb"+rt,F._propPrefix=rt+".colorbar.",F._meta=O._meta,B={min:"cmin",max:"cmax"},ot[0]!=="heatmap"&&(N=ot[1],B.calc=N._module.colorbar.calc),V(),P.push(F)}return P}function u(z,O,D){var P=O.orientation==="v",F=O.len,R=O.lenmode,N=O.thickness,B=O.thicknessmode,q=O.outlinewidth,V=O.borderwidth,J=O.bgcolor,it=O.xanchor,nt=O.yanchor,Y=O.xpad,Z=O.ypad,$=O.x,G=P?O.y:1-O.y,rt=O.yref==="paper",ot=O.xref==="paper",W=D._fullLayout,H=W._size,at=O._fillcolor,Q=O._line,ct=O.title,ft=ct.side,yt=O._zrange||E.extent((typeof at=="function"?at:Q.color).domain()),xt=typeof Q.color=="function"?Q.color:function(){return Q.color},Lt=typeof at=="function"?at:function(){return at},gt=O._levels,mt=M(D,O,yt),vt=mt.fill,At=mt.line,Ot=Math.round(N*(B==="fraction"?P?H.w:H.h:1)),Pt=Ot/(P?H.w:H.h),Et=Math.round(F*(R==="fraction"?P?H.h:H.w:1)),Nt=Et/(P?H.h:H.w),ne=ot?H.w:D._fullLayout.width,Gt=rt?H.h:D._fullLayout.height,pe=Math.round(P?$*ne+Y:G*Gt+Z),Vt={center:.5,right:1}[it]||0,ae={top:1,middle:.5}[nt]||0,oe=P?$-Vt*Pt:G-ae*Pt,ce=P?G-ae*Nt:$-Vt*Nt,le=Math.round(P?Gt*(1-ce):ne*ce);O._lenFrac=Nt,O._thickFrac=Pt,O._uFrac=oe,O._vFrac=ce;var ye=O._axis=w(D,O,yt);ye.position=Pt+(P?$+Y/H.w:G+Z/H.h);var Tt=["top","bottom"].indexOf(ft)!==-1;if(P&&Tt&&(ye.title.side=ft,ye.titlex=$+Y/H.w,ye.titley=ce+(ct.side==="top"?Nt-Z/H.h:Z/H.h)),!P&&!Tt&&(ye.title.side=ft,ye.titley=G+Z/H.h,ye.titlex=ce+Y/H.w),Q.color&&O.tickmode==="auto"){ye.tickmode="linear",ye.tick0=gt.start;var Ft=gt.size,$t=d.constrain(Et/50,4,15)+1,Wt=(yt[1]-yt[0])/((O.nticks||$t)*Ft);if(Wt>1){var Bt=Math.pow(10,Math.floor(Math.log(Wt)/Math.LN10));Ft*=Bt*d.roundUp(Wt/Bt,[2,5,10]),(Math.abs(gt.start)/gt.size+1e-6)%1<2e-6&&(ye.tick0=0)}ye.dtick=Ft}ye.domain=P?[ce+Z/H.h,ce+Nt-Z/H.h]:[ce+Y/H.w,ce+Nt-Y/H.w],ye.setScale(),z.attr("transform",r(Math.round(H.l),Math.round(H.t)));var Mt=z.select("."+y.cbtitleunshift).attr("transform",r(-Math.round(H.l),-Math.round(H.t))),St=ye.ticklabelposition,Dt=ye.title.font.size,dt=z.select("."+y.cbaxis),ht,bt=0,zt=0;function qt(ge,be){var Ne={propContainer:ye,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:W._dfltTitle.colorbar,containerGroup:z.select("."+y.cbtitle)},pr=ge.charAt(0)==="h"?ge.substr(1):"h"+ge;z.selectAll("."+pr+",."+pr+"-math-group").remove(),o.draw(D,ge,e(Ne,be||{}))}function te(){if(P&&Tt||!P&&!Tt){var ge,be;ft==="top"&&(ge=Y+H.l+ne*$,be=Z+H.t+Gt*(1-ce-Nt)+3+Dt*.75),ft==="bottom"&&(ge=Y+H.l+ne*$,be=Z+H.t+Gt*(1-ce)-3-Dt*.25),ft==="right"&&(be=Z+H.t+Gt*G+3+Dt*.75,ge=Y+H.l+ne*ce),qt(ye._id+"title",{attributes:{x:ge,y:be,"text-anchor":P?"start":"middle"}})}}function re(){if(P&&!Tt||!P&&Tt){var ge=ye.position||0,be=ye._offset+ye._length/2,Ne,pr;if(ft==="right")pr=be,Ne=H.l+ne*ge+10+Dt*(ye.showticklabels?1:.5);else if(Ne=be,ft==="bottom"&&(pr=H.t+Gt*ge+10+(St.indexOf("inside")===-1?ye.tickfont.size:0)+(ye.ticks!=="intside"&&O.ticklen||0)),ft==="top"){var fe=ct.text.split("<br>").length;pr=H.t+Gt*ge+10-Ot-p*Dt*fe}qt((P?"h":"v")+ye._id+"title",{avoid:{selection:E.select(D).selectAll("g."+ye._id+"tick"),side:ft,offsetTop:P?0:H.t,offsetLeft:P?H.l:0,maxShift:P?W.width:W.height},attributes:{x:Ne,y:pr,"text-anchor":"middle"},transform:{rotate:P?-90:0,offset:0}})}}function Ye(){if(!P&&!Tt||P&&Tt){var ge=z.select("."+y.cbtitle),be=ge.select("text"),Ne=[-q/2,q/2],pr=ge.select(".h"+ye._id+"title-math-group").node(),fe=15.6;be.node()&&(fe=parseInt(be.node().style.fontSize,10)*p);var De;if(pr?(De=n.bBox(pr),zt=De.width,bt=De.height,bt>fe&&(Ne[1]-=(bt-fe)/2)):be.node()&&!be.classed(y.jsPlaceholder)&&(De=n.bBox(be.node()),zt=De.width,bt=De.height),P){if(bt){if(bt+=5,ft==="top")ye.domain[1]-=bt/H.h,Ne[1]*=-1;else{ye.domain[0]+=bt/H.h;var Ge=f.lineCount(be);Ne[1]+=(1-Ge)*fe}ge.attr("transform",r(Ne[0],Ne[1])),ye.setScale()}}else zt&&(ft==="right"&&(ye.domain[0]+=(zt+Dt/2)/H.w),ge.attr("transform",r(Ne[0],Ne[1])),ye.setScale())}z.selectAll("."+y.cbfills+",."+y.cblines).attr("transform",P?r(0,Math.round(H.h*(1-ye.domain[1]))):r(Math.round(H.w*ye.domain[0]),0)),dt.attr("transform",P?r(0,Math.round(-H.t)):r(Math.round(-H.l),0));var vr=z.select("."+y.cbfills).selectAll("rect."+y.cbfill).attr("style","").data(vt);vr.enter().append("rect").classed(y.cbfill,!0).attr("style",""),vr.exit().remove();var $e=yt.map(ye.c2p).map(Math.round).sort(function(Ee,Fe){return Ee-Fe});vr.each(function(Ee,Fe){var Re=[Fe===0?yt[0]:(vt[Fe]+vt[Fe-1])/2,Fe===vt.length-1?yt[1]:(vt[Fe]+vt[Fe+1])/2].map(ye.c2p).map(Math.round);P&&(Re[1]=d.constrain(Re[1]+(Re[1]>Re[0])?1:-1,$e[0],$e[1]));var Ce=E.select(this).attr(P?"x":"y",pe).attr(P?"y":"x",E.min(Re)).attr(P?"width":"height",Math.max(Ot,2)).attr(P?"height":"width",Math.max(E.max(Re)-E.min(Re),2));if(O._fillgradient)n.gradient(Ce,D,O._id,P?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var We=Lt(Ee).replace("e-","");Ce.attr("fill",S(We).toHexString())}});var Kt=z.select("."+y.cblines).selectAll("path."+y.cbline).data(Q.color&&Q.width?At:[]);Kt.enter().append("path").classed(y.cbline,!0),Kt.exit().remove(),Kt.each(function(Ee){var Fe=pe,Re=Math.round(ye.c2p(Ee))+Q.width/2%1;E.select(this).attr("d","M"+(P?Fe+","+Re:Re+","+Fe)+(P?"h":"v")+Ot).call(n.lineGroupStyle,Q.width,xt(Ee),Q.dash)}),dt.selectAll("g."+ye._id+"tick,path").remove();var ie=pe+Ot+(q||0)/2-(O.ticks==="outside"?1:0),he=T.calcTicks(ye),Ae=T.getTickSigns(ye)[2];return T.drawTicks(D,ye,{vals:ye.ticks==="inside"?T.clipEnds(ye,he):he,layer:dt,path:T.makeTickPath(ye,ie,Ae),transFn:T.makeTransTickFn(ye)}),T.drawLabels(D,ye,{vals:he,layer:dt,transFn:T.makeTransTickLabelFn(ye),labelFns:T.makeLabelFns(ye,ie)})}function Be(){var ge,be=Ot+q/2;St.indexOf("inside")===-1&&(ge=n.bBox(dt.node()),be+=P?ge.width:ge.height),ht=Mt.select("text");var Ne=0,pr=P&&ft==="top",fe=!P&&ft==="right",De=0;if(ht.node()&&!ht.classed(y.jsPlaceholder)){var Ge,vr=Mt.select(".h"+ye._id+"title-math-group").node();vr&&(P&&Tt||!P&&!Tt)?(ge=n.bBox(vr),Ne=ge.width,Ge=ge.height):(ge=n.bBox(Mt.node()),Ne=ge.right-H.l-(P?pe:le),Ge=ge.bottom-H.t-(P?le:pe),!P&&ft==="top"&&(be+=ge.height,De=ge.height)),fe&&(ht.attr("transform",r(Ne/2+Dt/2,0)),Ne*=2),be=Math.max(be,P?Ne:Ge)}var $e=(P?Y:Z)*2+be+V+q/2,Kt=0;!P&&ct.text&&nt==="bottom"&&G<=0&&(Kt=$e/2,$e+=Kt,De+=Kt),W._hColorbarMoveTitle=Kt,W._hColorbarMoveCBTitle=De;var ie=V+q,he=(P?pe:le)-ie/2-(P?Y:0),Ae=(P?le:pe)-(P?Et:Z+De-Kt);z.select("."+y.cbbg).attr("x",he).attr("y",Ae).attr(P?"width":"height",Math.max($e-Kt,2)).attr(P?"height":"width",Math.max(Et+ie,2)).call(s.fill,J).call(s.stroke,O.bordercolor).style("stroke-width",V);var Ee=fe?Math.max(Ne-10,0):0;z.selectAll("."+y.cboutline).attr("x",(P?pe:le+Y)+Ee).attr("y",(P?le+Z-Et:pe)+(pr?bt:0)).attr(P?"width":"height",Math.max(Ot,2)).attr(P?"height":"width",Math.max(Et-(P?2*Z+bt:2*Y+Ee),2)).call(s.stroke,O.outlinecolor).style({fill:"none","stroke-width":q});var Fe=P?Vt*$e:0,Re=P?0:(1-ae)*$e-De;if(Fe=ot?H.l-Fe:-Fe,Re=rt?H.t-Re:-Re,z.attr("transform",r(Fe,Re)),!P&&(V||S(J).getAlpha()&&!S.equals(W.paper_bgcolor,J))){var Ce=dt.selectAll("text"),We=Ce[0].length,er=z.select("."+y.cbbg).node(),Ue=n.bBox(er),ar=n.getTranslate(z),It=2;Ce.each(function(lr,cr){var ir=0,Er=We-1;if(cr===ir||cr===Er){var kr=n.bBox(this),Mr=n.getTranslate(this),$r;if(cr===Er){var Gr=kr.right+Mr.x,vn=Ue.right+ar.x+le-V-It+$;$r=vn-Gr,$r>0&&($r=0)}else if(cr===ir){var yn=kr.left+Mr.x,hr=Ue.left+ar.x+le+V+It;$r=hr-yn,$r<0&&($r=0)}$r&&(We<3?this.setAttribute("transform","translate("+$r+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ut={},Me=x[it],ke=k[it],qe=x[nt],Ke=k[nt],Je=$e-Ot;P?(R==="pixels"?(Ut.y=G,Ut.t=Et*qe,Ut.b=Et*Ke):(Ut.t=Ut.b=0,Ut.yt=G+F*qe,Ut.yb=G-F*Ke),B==="pixels"?(Ut.x=$,Ut.l=$e*Me,Ut.r=$e*ke):(Ut.l=Je*Me,Ut.r=Je*ke,Ut.xl=$-N*Me,Ut.xr=$+N*ke)):(R==="pixels"?(Ut.x=$,Ut.l=Et*Me,Ut.r=Et*ke):(Ut.l=Ut.r=0,Ut.xl=$+F*Me,Ut.xr=$-F*ke),B==="pixels"?(Ut.y=1-G,Ut.t=$e*qe,Ut.b=$e*Ke):(Ut.t=Je*qe,Ut.b=Je*Ke,Ut.yt=G-N*qe,Ut.yb=G+N*Ke));var Ve=O.y<.5?"b":"t",Pe=O.x<.5?"l":"r";D._fullLayout._reservedMargin[O._id]={};var rr={r:W.width-he-Fe,l:he+Ut.r,b:W.height-Ae-Re,t:Ae+Ut.b};ot&&rt?i.autoMargin(D,O._id,Ut):ot?D._fullLayout._reservedMargin[O._id][Ve]=rr[Ve]:rt||P?D._fullLayout._reservedMargin[O._id][Pe]=rr[Pe]:D._fullLayout._reservedMargin[O._id][Ve]=rr[Ve]}return d.syncOrAsync([i.previousPromises,te,Ye,re,i.previousPromises,Be],D)}function m(z,O,D){var P=O.orientation==="v",F=D._fullLayout,R=F._size,N,B,q;v.init({element:z.node(),gd:D,prepFn:function(){N=z.attr("transform"),l(z)},moveFn:function(V,J){z.attr("transform",N+r(V,J)),B=v.align((P?O._uFrac:O._vFrac)+V/R.w,P?O._thickFrac:O._lenFrac,0,1,O.xanchor),q=v.align((P?O._vFrac:1-O._uFrac)-J/R.h,P?O._lenFrac:O._thickFrac,0,1,O.yanchor);var it=v.getCursor(B,q,O.xanchor,O.yanchor);l(z,it)},doneFn:function(){if(l(z),B!==void 0&&q!==void 0){var V={};V[O._propPrefix+"x"]=B,V[O._propPrefix+"y"]=q,O._traceIndex!==void 0?L.call("_guiRestyle",D,V,O._traceIndex):L.call("_guiRelayout",D,V)}}})}function M(z,O,D){var P=O._levels,F=[],R=[],N,B,q=P.end+P.size/100,V=P.size,J=1.001*D[0]-.001*D[1],it=1.001*D[1]-.001*D[0];for(B=0;B<1e5&&(N=P.start+B*V,!(V>0?N>=q:N<=q));B++)N>J&&N<it&&F.push(N);if(O._fillgradient)R=[0];else if(typeof O._fillcolor=="function"){var nt=O._filllevels;if(nt)for(q=nt.end+nt.size/100,V=nt.size,B=0;B<1e5&&(N=nt.start+B*V,!(V>0?N>=q:N<=q));B++)N>D[0]&&N<D[1]&&R.push(N);else R=F.map(function(Y){return Y-P.size/2}),R.push(R[R.length-1]+P.size)}else O._fillcolor&&typeof O._fillcolor=="string"&&(R=[0]);return P.size<0&&(F.reverse(),R.reverse()),{line:F,fill:R}}function w(z,O,D){var P=z._fullLayout,F=O.orientation==="v",R={type:"linear",range:D,tickmode:O.tickmode,nticks:O.nticks,tick0:O.tick0,dtick:O.dtick,tickvals:O.tickvals,ticktext:O.ticktext,ticks:O.ticks,ticklen:O.ticklen,tickwidth:O.tickwidth,tickcolor:O.tickcolor,showticklabels:O.showticklabels,labelalias:O.labelalias,ticklabelposition:O.ticklabelposition,ticklabeloverflow:O.ticklabeloverflow,ticklabelstep:O.ticklabelstep,tickfont:O.tickfont,tickangle:O.tickangle,tickformat:O.tickformat,exponentformat:O.exponentformat,minexponent:O.minexponent,separatethousands:O.separatethousands,showexponent:O.showexponent,showtickprefix:O.showtickprefix,tickprefix:O.tickprefix,showticksuffix:O.showticksuffix,ticksuffix:O.ticksuffix,title:O.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},N=F?"y":"x",B={type:"linear",_id:N+O._id},q={letter:N,font:P.font,noAutotickangles:N==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:P.calendar};function V(J,it){return d.coerce(R,B,a,J,it)}return h(R,B,V,q,P),_(R,B,V,q),B}tt.exports={draw:A}},90553:function(tt,U,t){var E=t(3400);tt.exports=function(S){return E.isPlainObject(S.colorbar)}},55080:function(tt,U,t){tt.exports={moduleType:"component",name:"colorbar",attributes:t(42996),supplyDefaults:t(64013),draw:t(37848).draw,hasColorbar:t(90553)}},49084:function(tt,U,t){var E=t(42996),S=t(53756).counter,i=t(95376),L=t(88304).scales;i(L);function T(v){return"`"+v+"`"}tt.exports=function(v,d){v=v||"",d=d||{};var r=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var e="noScale"in d?d.noScale:v==="marker.line",l="showScaleDflt"in d?d.showScaleDflt:r==="z",n=typeof d.colorscaleDflt=="string"?L[d.colorscaleDflt]:null,s=d.editTypeOverride||"",o=v?v+".":"",f;"colorAttr"in d?(f=d.colorAttr,d.colorAttr):(f={z:"z",c:"color"}[r],""+T(o+f));var b=r+"auto",h=r+"min",_=r+"max",a=r+"mid",c={};c[h]=c[_]=void 0;var p={};p[b]=!1;var x={};return f==="color"&&(x.color={valType:"color",arrayOk:!0,editType:s||"style"},d.anim&&(x.color.anim=!0)),x[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},x[h]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:p},x[_]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:p},x[a]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},x.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},e||(x.showscale={valType:"boolean",dflt:l,editType:"calc"},x.colorbar=E),d.noColorAxis||(x.coloraxis={valType:"subplotid",regex:S("coloraxis"),dflt:null,editType:"calc"}),x}},47128:function(tt,U,t){var E=t(38248),S=t(3400),i=t(94288).extractOpts;tt.exports=function(L,T,v){var d=L._fullLayout,r=v.vals,e=v.containerStr,l=e?S.nestedProperty(T,e).get():T,n=i(l),s=n.auto!==!1,o=n.min,f=n.max,b=n.mid,h=function(){return S.aggNums(Math.min,null,r)},_=function(){return S.aggNums(Math.max,null,r)};if(o===void 0?o=h():s&&(l._colorAx&&E(o)?o=Math.min(o,h()):o=h()),f===void 0?f=_():s&&(l._colorAx&&E(f)?f=Math.max(f,_()):f=_()),s&&b!==void 0&&(f-b>b-o?o=b-(f-b):f-b<b-o&&(f=b+(b-o))),o===f&&(o-=.5,f+=.5),n._sync("min",o),n._sync("max",f),n.autocolorscale){var a;o*f<0?a=d.colorscale.diverging:o>=0?a=d.colorscale.sequential:a=d.colorscale.sequentialminus,n._sync("colorscale",a)}}},95504:function(tt,U,t){var E=t(3400),S=t(94288).hasColorscale,i=t(94288).extractOpts;tt.exports=function(L,T){function v(o,f){var b=o["_"+f];b!==void 0&&(o[f]=b)}function d(o,f){var b=f.container?E.nestedProperty(o,f.container).get():o;if(b)if(b.coloraxis)b._colorAx=T[b.coloraxis];else{var h=i(b),_=h.auto;(_||h.min===void 0)&&v(b,f.min),(_||h.max===void 0)&&v(b,f.max),h.autocolorscale&&v(b,"colorscale")}}for(var r=0;r<L.length;r++){var e=L[r],l=e._module.colorbar;if(l)if(Array.isArray(l))for(var n=0;n<l.length;n++)d(e,l[n]);else d(e,l);S(e,"marker.line")&&d(e,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in T._colorAxes)d(T[s],{min:"cmin",max:"cmax"})}},27260:function(tt,U,t){var E=t(38248),S=t(3400),i=t(90553),L=t(64013),T=t(88304).isValid,v=t(24040).traceIs;function d(r,e){var l=e.slice(0,e.length-1);return e?S.nestedProperty(r,l).get()||{}:r}tt.exports=function r(e,l,n,s,o){var f=o.prefix,b=o.cLetter,h="_module"in l,_=d(e,f),a=d(l,f),c=d(l._template||{},f)||{},p=function(){return delete e.coloraxis,delete l.coloraxis,r(e,l,n,s,o)};if(h){var x=n._colorAxes||{},k=s(f+"coloraxis");if(k){var y=v(l,"contour")&&S.nestedProperty(l,"contours.coloring").get()||"heatmap",A=x[k];A?(A[2].push(p),A[0]!==y&&(A[0]=!1,S.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[k]=[y,l,[p]];return}}var C=_[b+"min"],u=_[b+"max"],m=E(C)&&E(u)&&C<u,M=s(f+b+"auto",!m);M?s(f+b+"mid"):(s(f+b+"min"),s(f+b+"max"));var w=_.colorscale,z=c.colorscale,O;if(w!==void 0&&(O=!T(w)),z!==void 0&&(O=!T(z)),s(f+"autocolorscale",O),s(f+"colorscale"),s(f+"reversescale"),f!=="marker.line."){var D;f&&h&&(D=i(_));var P=s(f+"showscale",D);P&&(f&&c&&(a._template=c),L(_,a,n))}}},94288:function(tt,U,t){var E=t(33428),S=t(49760),i=t(38248),L=t(3400),T=t(76308),v=t(88304).isValid;function d(h,_,a){var c=_?L.nestedProperty(h,_).get()||{}:h,p=c[a||"color"];p&&p._inputArray&&(p=p._inputArray);var x=!1;if(L.isArrayOrTypedArray(p)){for(var k=0;k<p.length;k++)if(i(p[k])){x=!0;break}}return L.isPlainObject(c)&&(x||c.showscale===!0||i(c.cmin)&&i(c.cmax)||v(c.colorscale)||L.isPlainObject(c.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function l(h){var _=h._colorAx,a=_||h,c={},p,x,k;for(x=0;x<r.length;x++)k=r[x],c[k]=a[k];if(_)for(p="c",x=0;x<e.length;x++)k=e[x],c[k]=a["c"+k];else{var y;for(x=0;x<e.length;x++){if(k=e[x],y="c"+k,y in a){c[k]=a[y];continue}y="z"+k,y in a&&(c[k]=a[y])}p=y.charAt(0)}return c._sync=function(A,C){var u=e.indexOf(A)!==-1?p+A:A;a[u]=a["_"+u]=C},c}function n(h){for(var _=l(h),a=_.min,c=_.max,p=_.reversescale?s(_.colorscale):_.colorscale,x=p.length,k=new Array(x),y=new Array(x),A=0;A<x;A++){var C=p[A];k[A]=a+C[0]*(c-a),y[A]=C[1]}return{domain:k,range:y}}function s(h){for(var _=h.length,a=new Array(_),c=_-1,p=0;c>=0;c--,p++){var x=h[c];a[p]=[1-x[0],x[1]]}return a}function o(h,_){_=_||{};for(var a=h.domain,c=h.range,p=c.length,x=new Array(p),k=0;k<p;k++){var y=S(c[k]).toRgb();x[k]=[y.r,y.g,y.b,y.a]}var A=E.scale.linear().domain(a).range(x).clamp(!0),C=_.noNumericCheck,u=_.returnArray,m;return C&&u?m=A:C?m=function(M){return b(A(M))}:u?m=function(M){return i(M)?A(M):S(M).isValid()?M:T.defaultLine}:m=function(M){return i(M)?b(A(M)):S(M).isValid()?M:T.defaultLine},m.domain=A.domain,m.range=function(){return c},m}function f(h,_){return o(n(h),_)}function b(h){var _={r:h[0],g:h[1],b:h[2],a:h[3]};return S(_).toRgbString()}tt.exports={hasColorscale:d,extractOpts:l,extractScale:n,flipScale:s,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:f}},8932:function(tt,U,t){var E=t(88304),S=t(94288);tt.exports={moduleType:"component",name:"colorscale",attributes:t(49084),layoutAttributes:t(92332),supplyLayoutDefaults:t(51608),handleDefaults:t(27260),crossTraceDefaults:t(95504),calc:t(47128),scales:E.scales,defaultScale:E.defaultScale,getScale:E.get,isValidScale:E.isValid,hasColorscale:S.hasColorscale,extractOpts:S.extractOpts,extractScale:S.extractScale,flipScale:S.flipScale,makeColorScaleFunc:S.makeColorScaleFunc,makeColorScaleFuncFromTrace:S.makeColorScaleFuncFromTrace}},92332:function(tt,U,t){var E=t(92880).extendFlat,S=t(49084),i=t(88304).scales;tt.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:E({_isSubplotObj:!0,editType:"calc"},S("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(tt,U,t){var E=t(3400),S=t(31780),i=t(92332),L=t(27260);tt.exports=function(T,v){function d(b,h){return E.coerce(T,v,i,b,h)}d("colorscale.sequential"),d("colorscale.sequentialminus"),d("colorscale.diverging");var r=v._colorAxes,e,l;function n(b,h){return E.coerce(e,l,i.coloraxis,b,h)}for(var s in r){var o=r[s];if(o[0])e=T[s]||{},l=S.newContainer(v,s,"coloraxis"),l._name=s,L(e,l,v,n,{prefix:"",cLetter:"c"});else{for(var f=0;f<o[2].length;f++)o[2][f]();delete v._colorAxes[s]}}}},88304:function(tt,U,t){var E=t(49760),S={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=S.RdBu;function L(d,r){if(r||(r=i),!d)return r;function e(){try{d=S[d]||JSON.parse(d)}catch{d=r}}return typeof d=="string"&&(e(),typeof d=="string"&&e()),T(d)?d:r}function T(d){var r=0;if(!Array.isArray(d)||d.length<2||!d[0]||!d[d.length-1]||+d[0][0]!=0||+d[d.length-1][0]!=1)return!1;for(var e=0;e<d.length;e++){var l=d[e];if(l.length!==2||+l[0]<r||!E(l[1]).isValid())return!1;r=+l[0]}return!0}function v(d){return S[d]!==void 0?!0:T(d)}tt.exports={scales:S,defaultScale:i,get:L,isValid:v}},78316:function(tt){tt.exports=function(U,t,E,S,i){var L=(U-E)/(S-E),T=L+t/(S-E),v=(L+T)/2;return i==="left"||i==="bottom"?L:i==="center"||i==="middle"?v:i==="right"||i==="top"?T:L<.6666666666666666-v?L:T>1.3333333333333333-v?T:v}},67416:function(tt,U,t){var E=t(3400),S=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];tt.exports=function(i,L,T,v){return T==="left"?i=0:T==="center"?i=1:T==="right"?i=2:i=E.constrain(Math.floor(i*3),0,2),v==="bottom"?L=0:v==="middle"?L=1:v==="top"?L=2:L=E.constrain(Math.floor(L*3),0,2),S[L][i]}},72760:function(tt,U){U.selectMode=function(t){return t==="lasso"||t==="select"},U.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},U.openMode=function(t){return t==="drawline"||t==="drawopenpath"},U.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},U.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},U.selectingOrDrawing=function(t){return U.freeMode(t)||U.rectMode(t)}},86476:function(tt,U,t){var E=t(29128),S=t(52264),i=t(89184),L=t(3400).removeElement,T=t(33816),v=tt.exports={};v.align=t(78316),v.getCursor=t(67416);var d=t(2616);v.unhover=d.wrapped,v.unhoverRaw=d.raw,v.init=function(l){var n=l.gd,s=1,o=n._context.doubleClickDelay,f=l.element,b,h,_,a,c,p,x,k;n._mouseDownTime||(n._mouseDownTime=0),f.style.pointerEvents="all",f.onmousedown=C,i?(f._ontouchstart&&f.removeEventListener("touchstart",f._ontouchstart),f._ontouchstart=C,f.addEventListener("touchstart",C,{passive:!1})):f.ontouchstart=C;function y(M,w,z){return Math.abs(M)<z&&(M=0),Math.abs(w)<z&&(w=0),[M,w]}var A=l.clampFn||y;function C(M){n._dragged=!1,n._dragging=!0;var w=e(M);b=w[0],h=w[1],x=M.target,p=M,k=M.buttons===2||M.ctrlKey,typeof M.clientX>"u"&&typeof M.clientY>"u"&&(M.clientX=b,M.clientY=h),_=new Date().getTime(),_-n._mouseDownTime<o?s+=1:(s=1,n._mouseDownTime=_),l.prepFn&&l.prepFn(M,b,h),S&&!k?(c=r(),c.style.cursor=window.getComputedStyle(f).cursor):S||(c=document,a=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(f).cursor),document.addEventListener("mouseup",m),document.addEventListener("touchend",m),l.dragmode!==!1&&(M.preventDefault(),document.addEventListener("mousemove",u),document.addEventListener("touchmove",u,{passive:!1}))}function u(M){M.preventDefault();var w=e(M),z=l.minDrag||T.MINDRAG,O=A(w[0]-b,w[1]-h,z),D=O[0],P=O[1];(D||P)&&(n._dragged=!0,v.unhover(n,M)),n._dragged&&l.moveFn&&!k&&(n._dragdata={element:f,dx:D,dy:P},l.moveFn(D,P))}function m(M){if(delete n._dragdata,l.dragmode!==!1&&(M.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("touchmove",u)),document.removeEventListener("mouseup",m),document.removeEventListener("touchend",m),S?L(c):a&&(c.documentElement.style.cursor=a,a=null),!n._dragging){n._dragged=!1;return}if(n._dragging=!1,new Date().getTime()-n._mouseDownTime>o&&(s=Math.max(s-1,1)),n._dragged)l.doneFn&&l.doneFn();else if(l.clickFn&&l.clickFn(s,p),!k){var w;try{w=new MouseEvent("click",M)}catch{var z=e(M);w=document.createEvent("MouseEvents"),w.initMouseEvent("click",M.bubbles,M.cancelable,M.view,M.detail,M.screenX,M.screenY,z[0],z[1],M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,M.relatedTarget)}x.dispatchEvent(w)}n._dragging=!1,n._dragged=!1}};function r(){var l=document.createElement("div");l.className="dragcover";var n=l.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(l),l}v.coverSlip=r;function e(l){return E(l.changedTouches?l.changedTouches[0]:l,document.body)}},2616:function(tt,U,t){var E=t(95924),S=t(91200),i=t(52200).getGraphDiv,L=t(92456),T=tt.exports={};T.wrapped=function(v,d,r){v=i(v),v._fullLayout&&S.clear(v._fullLayout._uid+L.HOVERID),T.raw(v,d,r)},T.raw=function(v,d){var r=v._fullLayout,e=v._hoverdata;d||(d={}),!(d.target&&!v._dragged&&E.triggerHandler(v,"plotly_beforehover",d)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),v._hoverdata=void 0,d.target&&e&&v.emit("plotly_unhover",{event:d,points:e}))}},98192:function(tt,U){U.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(tt,U,t){var E=t(33428),S=t(3400),i=S.numberFormat,L=t(38248),T=t(49760),v=t(24040),d=t(76308),r=t(8932),e=S.strTranslate,l=t(72736),n=t(9616),s=t(84284),o=s.LINE_SPACING,f=t(13448).DESELECTDIM,b=t(43028),h=t(7152),_=t(10624).appendArrayPointValue,a=tt.exports={};a.font=function(gt,mt,vt,At,Ot,Pt,Et){S.isPlainObject(mt)&&(Et=mt.variant,Pt=mt.style,Ot=mt.weight,At=mt.color,vt=mt.size,mt=mt.family),mt&&gt.style("font-family",mt),vt+1&&gt.style("font-size",vt+"px"),At&&gt.call(d.fill,At),Ot&&gt.style("font-weight",Ot),Pt&&gt.style("font-style",Pt),Et&&gt.style("font-variant",Et)},a.setPosition=function(gt,mt,vt){gt.attr("x",mt).attr("y",vt)},a.setSize=function(gt,mt,vt){gt.attr("width",mt).attr("height",vt)},a.setRect=function(gt,mt,vt,At,Ot){gt.call(a.setPosition,mt,vt).call(a.setSize,At,Ot)},a.translatePoint=function(gt,mt,vt,At){var Ot=vt.c2p(gt.x),Pt=At.c2p(gt.y);if(L(Ot)&&L(Pt)&&mt.node())mt.node().nodeName==="text"?mt.attr("x",Ot).attr("y",Pt):mt.attr("transform",e(Ot,Pt));else return!1;return!0},a.translatePoints=function(gt,mt,vt){gt.each(function(At){var Ot=E.select(this);a.translatePoint(At,Ot,mt,vt)})},a.hideOutsideRangePoint=function(gt,mt,vt,At,Ot,Pt){mt.attr("display",vt.isPtWithinRange(gt,Ot)&&At.isPtWithinRange(gt,Pt)?null:"none")},a.hideOutsideRangePoints=function(gt,mt){if(mt._hasClipOnAxisFalse){var vt=mt.xaxis,At=mt.yaxis;gt.each(function(Ot){var Pt=Ot[0].trace,Et=Pt.xcalendar,Nt=Pt.ycalendar,ne=v.traceIs(Pt,"bar-like")?".bartext":".point,.textpoint";gt.selectAll(ne).each(function(Gt){a.hideOutsideRangePoint(Gt,E.select(this),vt,At,Et,Nt)})})}},a.crispRound=function(gt,mt,vt){return!mt||!L(mt)?vt||0:gt._context.staticPlot?mt:mt<1?1:Math.round(mt)},a.singleLineStyle=function(gt,mt,vt,At,Ot){mt.style("fill","none");var Pt=(((gt||[])[0]||{}).trace||{}).line||{},Et=vt||Pt.width||0,Nt=Ot||Pt.dash||"";d.stroke(mt,At||Pt.color),a.dashLine(mt,Nt,Et)},a.lineGroupStyle=function(gt,mt,vt,At){gt.style("fill","none").each(function(Ot){var Pt=(((Ot||[])[0]||{}).trace||{}).line||{},Et=mt||Pt.width||0,Nt=At||Pt.dash||"";E.select(this).call(d.stroke,vt||Pt.color).call(a.dashLine,Nt,Et)})},a.dashLine=function(gt,mt,vt){vt=+vt||0,mt=a.dashStyle(mt,vt),gt.style({"stroke-dasharray":mt,"stroke-width":vt+"px"})},a.dashStyle=function(gt,mt){mt=+mt||1;var vt=Math.max(mt,3);return gt==="solid"?gt="":gt==="dot"?gt=vt+"px,"+vt+"px":gt==="dash"?gt=3*vt+"px,"+3*vt+"px":gt==="longdash"?gt=5*vt+"px,"+5*vt+"px":gt==="dashdot"?gt=3*vt+"px,"+vt+"px,"+vt+"px,"+vt+"px":gt==="longdashdot"&&(gt=5*vt+"px,"+2*vt+"px,"+vt+"px,"+2*vt+"px"),gt};function c(gt,mt,vt,At){var Ot=mt.fillpattern,Pt=mt.fillgradient,Et=Ot&&a.getPatternAttr(Ot.shape,0,"");if(Et){var Nt=a.getPatternAttr(Ot.bgcolor,0,null),ne=a.getPatternAttr(Ot.fgcolor,0,null),Gt=Ot.fgopacity,pe=a.getPatternAttr(Ot.size,0,8),Vt=a.getPatternAttr(Ot.solidity,0,.3),ae=mt.uid;a.pattern(gt,"point",vt,ae,Et,pe,Vt,void 0,Ot.fillmode,Nt,ne,Gt)}else if(Pt&&Pt.type!=="none"){var oe=Pt.type,ce="scatterfill-"+mt.uid;if(At&&(ce="legendfill-"+mt.uid),!At&&(Pt.start!==void 0||Pt.stop!==void 0)){var le,ye;oe==="horizontal"?(le={x:Pt.start,y:0},ye={x:Pt.stop,y:0}):oe==="vertical"&&(le={x:0,y:Pt.start},ye={x:0,y:Pt.stop}),le.x=mt._xA.c2p(le.x===void 0?mt._extremes.x.min[0].val:le.x,!0),le.y=mt._yA.c2p(le.y===void 0?mt._extremes.y.min[0].val:le.y,!0),ye.x=mt._xA.c2p(ye.x===void 0?mt._extremes.x.max[0].val:ye.x,!0),ye.y=mt._yA.c2p(ye.y===void 0?mt._extremes.y.max[0].val:ye.y,!0),gt.call(u,vt,ce,"linear",Pt.colorscale,"fill",le,ye,!0,!1)}else oe==="horizontal"&&(oe=oe+"reversed"),gt.call(a.gradient,vt,ce,oe,Pt.colorscale,"fill")}else mt.fillcolor&&gt.call(d.fill,mt.fillcolor)}a.singleFillStyle=function(gt,mt){var vt=E.select(gt.node()),At=vt.data(),Ot=((At[0]||[])[0]||{}).trace||{};c(gt,Ot,mt,!1)},a.fillGroupStyle=function(gt,mt,vt){gt.style("stroke-width",0).each(function(At){var Ot=E.select(this);At[0].trace&&c(Ot,At[0].trace,mt,vt)})};var p=t(71984);a.symbolNames=[],a.symbolFuncs=[],a.symbolBackOffs=[],a.symbolNeedLines={},a.symbolNoDot={},a.symbolNoFill={},a.symbolList=[],Object.keys(p).forEach(function(gt){var mt=p[gt],vt=mt.n;a.symbolList.push(vt,String(vt),gt,vt+100,String(vt+100),gt+"-open"),a.symbolNames[vt]=gt,a.symbolFuncs[vt]=mt.f,a.symbolBackOffs[vt]=mt.backoff||0,mt.needLine&&(a.symbolNeedLines[vt]=!0),mt.noDot?a.symbolNoDot[vt]=!0:a.symbolList.push(vt+200,String(vt+200),gt+"-dot",vt+300,String(vt+300),gt+"-open-dot"),mt.noFill&&(a.symbolNoFill[vt]=!0)});var x=a.symbolNames.length,k="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";a.symbolNumber=function(gt){if(L(gt))gt=+gt;else if(typeof gt=="string"){var mt=0;gt.indexOf("-open")>0&&(mt=100,gt=gt.replace("-open","")),gt.indexOf("-dot")>0&&(mt+=200,gt=gt.replace("-dot","")),gt=a.symbolNames.indexOf(gt),gt>=0&&(gt+=mt)}return gt%100>=x||gt>=400?0:Math.floor(Math.max(gt,0))};function y(gt,mt,vt,At){var Ot=gt%100;return a.symbolFuncs[Ot](mt,vt,At)+(gt>=200?k:"")}var A=i("~f"),C={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};a.gradient=function(gt,mt,vt,At,Ot,Pt){var Et=C[At];return u(gt,mt,vt,Et.type,Ot,Pt,Et.start,Et.stop,!1,Et.reversed)};function u(gt,mt,vt,At,Ot,Pt,Et,Nt,ne,Gt){var pe=Ot.length,Vt;At==="linear"?Vt={node:"linearGradient",attrs:{x1:Et.x,y1:Et.y,x2:Nt.x,y2:Nt.y,gradientUnits:ne?"userSpaceOnUse":"objectBoundingBox"},reversed:Gt}:At==="radial"&&(Vt={node:"radialGradient",reversed:Gt});for(var ae=new Array(pe),oe=0;oe<pe;oe++)Vt.reversed?ae[pe-1-oe]=[A((1-Ot[oe][0])*100),Ot[oe][1]]:ae[oe]=[A(Ot[oe][0]*100),Ot[oe][1]];var ce=mt._fullLayout,le="g"+ce._uid+"-"+vt,ye=ce._defs.select(".gradients").selectAll("#"+le).data([At+ae.join(";")],S.identity);ye.exit().remove(),ye.enter().append(Vt.node).each(function(){var Tt=E.select(this);Vt.attrs&&Tt.attr(Vt.attrs),Tt.attr("id",le);var Ft=Tt.selectAll("stop").data(ae);Ft.exit().remove(),Ft.enter().append("stop"),Ft.each(function($t){var Wt=T($t[1]);E.select(this).attr({offset:$t[0]+"%","stop-color":d.tinyRGB(Wt),"stop-opacity":Wt.getAlpha()})})}),gt.style(Pt,Y(le,mt)).style(Pt+"-opacity",null),gt.classed("gradient_filled",!0)}a.pattern=function(gt,mt,vt,At,Ot,Pt,Et,Nt,ne,Gt,pe,Vt){var ae=mt==="legend";Nt&&(ne==="overlay"?(Gt=Nt,pe=d.contrast(Gt)):(Gt=void 0,pe=Nt));var oe=vt._fullLayout,ce="p"+oe._uid+"-"+At,le,ye,Tt=function(qt,te,re,Ye,Be){return Ye+(Be-Ye)*(qt-te)/(re-te)},Ft,$t,Wt,Bt,Mt={},St=T(pe),Dt=d.tinyRGB(St),dt=St.getAlpha(),ht=Vt*dt;switch(Ot){case"/":le=Pt*Math.sqrt(2),ye=Pt*Math.sqrt(2),Ft="M-"+le/4+","+ye/4+"l"+le/2+",-"+ye/2+"M0,"+ye+"L"+le+",0M"+le/4*3+","+ye/4*5+"l"+le/2+",-"+ye/2,$t=Et*Pt,Bt="path",Mt={d:Ft,opacity:ht,stroke:Dt,"stroke-width":$t+"px"};break;case"\\":le=Pt*Math.sqrt(2),ye=Pt*Math.sqrt(2),Ft="M"+le/4*3+",-"+ye/4+"l"+le/2+","+ye/2+"M0,0L"+le+","+ye+"M-"+le/4+","+ye/4*3+"l"+le/2+","+ye/2,$t=Et*Pt,Bt="path",Mt={d:Ft,opacity:ht,stroke:Dt,"stroke-width":$t+"px"};break;case"x":le=Pt*Math.sqrt(2),ye=Pt*Math.sqrt(2),Ft="M-"+le/4+","+ye/4+"l"+le/2+",-"+ye/2+"M0,"+ye+"L"+le+",0M"+le/4*3+","+ye/4*5+"l"+le/2+",-"+ye/2+"M"+le/4*3+",-"+ye/4+"l"+le/2+","+ye/2+"M0,0L"+le+","+ye+"M-"+le/4+","+ye/4*3+"l"+le/2+","+ye/2,$t=Pt-Pt*Math.sqrt(1-Et),Bt="path",Mt={d:Ft,opacity:ht,stroke:Dt,"stroke-width":$t+"px"};break;case"|":le=Pt,ye=Pt,Bt="path",Ft="M"+le/2+",0L"+le/2+","+ye,$t=Et*Pt,Bt="path",Mt={d:Ft,opacity:ht,stroke:Dt,"stroke-width":$t+"px"};break;case"-":le=Pt,ye=Pt,Bt="path",Ft="M0,"+ye/2+"L"+le+","+ye/2,$t=Et*Pt,Bt="path",Mt={d:Ft,opacity:ht,stroke:Dt,"stroke-width":$t+"px"};break;case"+":le=Pt,ye=Pt,Bt="path",Ft="M"+le/2+",0L"+le/2+","+ye+"M0,"+ye/2+"L"+le+","+ye/2,$t=Pt-Pt*Math.sqrt(1-Et),Bt="path",Mt={d:Ft,opacity:ht,stroke:Dt,"stroke-width":$t+"px"};break;case".":le=Pt,ye=Pt,Et<Math.PI/4?Wt=Math.sqrt(Et*Pt*Pt/Math.PI):Wt=Tt(Et,Math.PI/4,1,Pt/2,Pt/Math.sqrt(2)),Bt="circle",Mt={cx:le/2,cy:ye/2,r:Wt,opacity:ht,fill:Dt};break}var bt=[Ot||"noSh",Gt||"noBg",pe||"noFg",Pt,Et].join(";"),zt=oe._defs.select(".patterns").selectAll("#"+ce).data([bt],S.identity);zt.exit().remove(),zt.enter().append("pattern").each(function(){var qt=E.select(this);if(qt.attr({id:ce,width:le+"px",height:ye+"px",patternUnits:"userSpaceOnUse",patternTransform:ae?"scale(0.8)":""}),Gt){var te=T(Gt),re=d.tinyRGB(te),Ye=te.getAlpha(),Be=qt.selectAll("rect").data([0]);Be.exit().remove(),Be.enter().append("rect").attr({width:le+"px",height:ye+"px",fill:re,"fill-opacity":Ye})}var ge=qt.selectAll(Bt).data([0]);ge.exit().remove(),ge.enter().append(Bt).attr(Mt)}),gt.style("fill",Y(ce,vt)).style("fill-opacity",null),gt.classed("pattern_filled",!0)},a.initGradients=function(gt){var mt=gt._fullLayout,vt=S.ensureSingle(mt._defs,"g","gradients");vt.selectAll("linearGradient,radialGradient").remove(),E.select(gt).selectAll(".gradient_filled").classed("gradient_filled",!1)},a.initPatterns=function(gt){var mt=gt._fullLayout,vt=S.ensureSingle(mt._defs,"g","patterns");vt.selectAll("pattern").remove(),E.select(gt).selectAll(".pattern_filled").classed("pattern_filled",!1)},a.getPatternAttr=function(gt,mt,vt){return gt&&S.isArrayOrTypedArray(gt)?mt<gt.length?gt[mt]:vt:gt},a.pointStyle=function(gt,mt,vt,At){if(gt.size()){var Ot=a.makePointStyleFns(mt);gt.each(function(Pt){a.singlePointStyle(Pt,E.select(this),mt,Ot,vt,At)})}},a.singlePointStyle=function(gt,mt,vt,At,Ot,Pt){var Et=vt.marker,Nt=Et.line;if(Pt&&Pt.i>=0&&gt.i===void 0&&(gt.i=Pt.i),mt.style("opacity",At.selectedOpacityFn?At.selectedOpacityFn(gt):gt.mo===void 0?Et.opacity:gt.mo),At.ms2mrc){var ne;gt.ms==="various"||Et.size==="various"?ne=3:ne=At.ms2mrc(gt.ms),gt.mrc=ne,At.selectedSizeFn&&(ne=gt.mrc=At.selectedSizeFn(gt));var Gt=a.symbolNumber(gt.mx||Et.symbol)||0;gt.om=Gt%200>=100;var pe=Lt(gt,vt),Vt=G(gt,vt);mt.attr("d",y(Gt,ne,pe,Vt))}var ae=!1,oe,ce,le;if(gt.so)le=Nt.outlierwidth,ce=Nt.outliercolor,oe=Et.outliercolor;else{var ye=(Nt||{}).width;le=(gt.mlw+1||ye+1||(gt.trace?(gt.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in gt?ce=gt.mlcc=At.lineScale(gt.mlc):S.isArrayOrTypedArray(Nt.color)?ce=d.defaultLine:ce=Nt.color,S.isArrayOrTypedArray(Et.color)&&(oe=d.defaultLine,ae=!0),"mc"in gt?oe=gt.mcc=At.markerScale(gt.mc):oe=Et.color||Et.colors||"rgba(0,0,0,0)",At.selectedColorFn&&(oe=At.selectedColorFn(gt))}if(gt.om)mt.call(d.stroke,oe).style({"stroke-width":(le||1)+"px",fill:"none"});else{mt.style("stroke-width",(gt.isBlank?0:le)+"px");var Tt=Et.gradient,Ft=gt.mgt;Ft?ae=!0:Ft=Tt&&Tt.type,S.isArrayOrTypedArray(Ft)&&(Ft=Ft[0],C[Ft]||(Ft=0));var $t=Et.pattern,Wt=$t&&a.getPatternAttr($t.shape,gt.i,"");if(Ft&&Ft!=="none"){var Bt=gt.mgc;Bt?ae=!0:Bt=Tt.color;var Mt=vt.uid;ae&&(Mt+="-"+gt.i),a.gradient(mt,Ot,Mt,Ft,[[0,Bt],[1,oe]],"fill")}else if(Wt){var St=!1,Dt=$t.fgcolor;!Dt&&Pt&&Pt.color&&(Dt=Pt.color,St=!0);var dt=a.getPatternAttr(Dt,gt.i,Pt&&Pt.color||null),ht=a.getPatternAttr($t.bgcolor,gt.i,null),bt=$t.fgopacity,zt=a.getPatternAttr($t.size,gt.i,8),qt=a.getPatternAttr($t.solidity,gt.i,.3);St=St||gt.mcc||S.isArrayOrTypedArray($t.shape)||S.isArrayOrTypedArray($t.bgcolor)||S.isArrayOrTypedArray($t.fgcolor)||S.isArrayOrTypedArray($t.size)||S.isArrayOrTypedArray($t.solidity);var te=vt.uid;St&&(te+="-"+gt.i),a.pattern(mt,"point",Ot,te,Wt,zt,qt,gt.mcc,$t.fillmode,ht,dt,bt)}else S.isArrayOrTypedArray(oe)?d.fill(mt,oe[gt.i]):d.fill(mt,oe);le&&d.stroke(mt,ce)}},a.makePointStyleFns=function(gt){var mt={},vt=gt.marker;return mt.markerScale=a.tryColorscale(vt,""),mt.lineScale=a.tryColorscale(vt,"line"),v.traceIs(gt,"symbols")&&(mt.ms2mrc=b.isBubble(gt)?h(gt):function(){return(vt.size||6)/2}),gt.selectedpoints&&S.extendFlat(mt,a.makeSelectedPointStyleFns(gt)),mt},a.makeSelectedPointStyleFns=function(gt){var mt={},vt=gt.selected||{},At=gt.unselected||{},Ot=gt.marker||{},Pt=vt.marker||{},Et=At.marker||{},Nt=Ot.opacity,ne=Pt.opacity,Gt=Et.opacity,pe=ne!==void 0,Vt=Gt!==void 0;(S.isArrayOrTypedArray(Nt)||pe||Vt)&&(mt.selectedOpacityFn=function(Wt){var Bt=Wt.mo===void 0?Ot.opacity:Wt.mo;return Wt.selected?pe?ne:Bt:Vt?Gt:f*Bt});var ae=Ot.color,oe=Pt.color,ce=Et.color;(oe||ce)&&(mt.selectedColorFn=function(Wt){var Bt=Wt.mcc||ae;return Wt.selected?oe||Bt:ce||Bt});var le=Ot.size,ye=Pt.size,Tt=Et.size,Ft=ye!==void 0,$t=Tt!==void 0;return v.traceIs(gt,"symbols")&&(Ft||$t)&&(mt.selectedSizeFn=function(Wt){var Bt=Wt.mrc||le/2;return Wt.selected?Ft?ye/2:Bt:$t?Tt/2:Bt}),mt},a.makeSelectedTextStyleFns=function(gt){var mt={},vt=gt.selected||{},At=gt.unselected||{},Ot=gt.textfont||{},Pt=vt.textfont||{},Et=At.textfont||{},Nt=Ot.color,ne=Pt.color,Gt=Et.color;return mt.selectedTextColorFn=function(pe){var Vt=pe.tc||Nt;return pe.selected?ne||Vt:Gt||(ne?Vt:d.addOpacity(Vt,f))},mt},a.selectedPointStyle=function(gt,mt){if(!(!gt.size()||!mt.selectedpoints)){var vt=a.makeSelectedPointStyleFns(mt),At=mt.marker||{},Ot=[];vt.selectedOpacityFn&&Ot.push(function(Pt,Et){Pt.style("opacity",vt.selectedOpacityFn(Et))}),vt.selectedColorFn&&Ot.push(function(Pt,Et){d.fill(Pt,vt.selectedColorFn(Et))}),vt.selectedSizeFn&&Ot.push(function(Pt,Et){var Nt=Et.mx||At.symbol||0,ne=vt.selectedSizeFn(Et);Pt.attr("d",y(a.symbolNumber(Nt),ne,Lt(Et,mt),G(Et,mt))),Et.mrc2=ne}),Ot.length&&gt.each(function(Pt){for(var Et=E.select(this),Nt=0;Nt<Ot.length;Nt++)Ot[Nt](Et,Pt)})}},a.tryColorscale=function(gt,mt){var vt=mt?S.nestedProperty(gt,mt).get():gt;if(vt){var At=vt.color;if((vt.colorscale||vt._colorAx)&&S.isArrayOrTypedArray(At))return r.makeColorScaleFuncFromTrace(vt)}return S.identity};var m={start:1,end:-1,middle:0,bottom:1,top:-1};function M(gt,mt,vt,At,Ot){var Pt=E.select(gt.node().parentNode),Et=mt.indexOf("top")!==-1?"top":mt.indexOf("bottom")!==-1?"bottom":"middle",Nt=mt.indexOf("left")!==-1?"end":mt.indexOf("right")!==-1?"start":"middle",ne=At?At/.8+1:0,Gt=(l.lineCount(gt)-1)*o+1,pe=m[Nt]*ne,Vt=vt*.75+m[Et]*ne+(m[Et]-1)*Gt*vt/2;gt.attr("text-anchor",Nt),Ot||Pt.attr("transform",e(pe,Vt))}function w(gt,mt){var vt=gt.ts||mt.textfont.size;return L(vt)&&vt>0?vt:0}a.textPointStyle=function(gt,mt,vt){if(gt.size()){var At;if(mt.selectedpoints){var Ot=a.makeSelectedTextStyleFns(mt);At=Ot.selectedTextColorFn}var Pt=mt.texttemplate,Et=vt._fullLayout;gt.each(function(Nt){var ne=E.select(this),Gt=Pt?S.extractOption(Nt,mt,"txt","texttemplate"):S.extractOption(Nt,mt,"tx","text");if(!Gt&&Gt!==0){ne.remove();return}if(Pt){var pe=mt._module.formatLabels,Vt=pe?pe(Nt,mt,Et):{},ae={};_(ae,mt,Nt.i);var oe=mt._meta||{};Gt=S.texttemplateString(Gt,Vt,Et._d3locale,ae,Nt,oe)}var ce=Nt.tp||mt.textposition,le=w(Nt,mt),ye=At?At(Nt):Nt.tc||mt.textfont.color;ne.call(a.font,{family:Nt.tf||mt.textfont.family,weight:Nt.tw||mt.textfont.weight,style:Nt.ty||mt.textfont.style,variant:Nt.tv||mt.textfont.variant,size:le,color:ye}).text(Gt).call(l.convertToTspans,vt).call(M,ce,le,Nt.mrc)})}},a.selectedTextStyle=function(gt,mt){if(!(!gt.size()||!mt.selectedpoints)){var vt=a.makeSelectedTextStyleFns(mt);gt.each(function(At){var Ot=E.select(this),Pt=vt.selectedTextColorFn(At),Et=At.tp||mt.textposition,Nt=w(At,mt);d.fill(Ot,Pt);var ne=v.traceIs(mt,"bar-like");M(Ot,Et,Nt,At.mrc2||At.mrc,ne)})}};var z=.5;a.smoothopen=function(gt,mt){if(gt.length<3)return"M"+gt.join("L");var vt="M"+gt[0],At=[],Ot;for(Ot=1;Ot<gt.length-1;Ot++)At.push(N(gt[Ot-1],gt[Ot],gt[Ot+1],mt));for(vt+="Q"+At[0][0]+" "+gt[1],Ot=2;Ot<gt.length-1;Ot++)vt+="C"+At[Ot-2][1]+" "+At[Ot-1][0]+" "+gt[Ot];return vt+="Q"+At[gt.length-3][1]+" "+gt[gt.length-1],vt},a.smoothclosed=function(gt,mt){if(gt.length<3)return"M"+gt.join("L")+"Z";var vt="M"+gt[0],At=gt.length-1,Ot=[N(gt[At],gt[0],gt[1],mt)],Pt;for(Pt=1;Pt<At;Pt++)Ot.push(N(gt[Pt-1],gt[Pt],gt[Pt+1],mt));for(Ot.push(N(gt[At-1],gt[At],gt[0],mt)),Pt=1;Pt<=At;Pt++)vt+="C"+Ot[Pt-1][1]+" "+Ot[Pt][0]+" "+gt[Pt];return vt+="C"+Ot[At][1]+" "+Ot[0][0]+" "+gt[0]+"Z",vt};var O,D;function P(gt,mt,vt){return vt&&(gt=V(gt)),mt?R(gt[1]):F(gt[0])}function F(gt){var mt=E.round(gt,2);return O=mt,mt}function R(gt){var mt=E.round(gt,2);return D=mt,mt}function N(gt,mt,vt,At){var Ot=gt[0]-mt[0],Pt=gt[1]-mt[1],Et=vt[0]-mt[0],Nt=vt[1]-mt[1],ne=Math.pow(Ot*Ot+Pt*Pt,z/2),Gt=Math.pow(Et*Et+Nt*Nt,z/2),pe=(Gt*Gt*Ot-ne*ne*Et)*At,Vt=(Gt*Gt*Pt-ne*ne*Nt)*At,ae=3*Gt*(ne+Gt),oe=3*ne*(ne+Gt);return[[F(mt[0]+(ae&&pe/ae)),R(mt[1]+(ae&&Vt/ae))],[F(mt[0]-(oe&&pe/oe)),R(mt[1]-(oe&&Vt/oe))]]}var B={hv:function(gt,mt,vt){return"H"+F(mt[0])+"V"+P(mt,1,vt)},vh:function(gt,mt,vt){return"V"+R(mt[1])+"H"+P(mt,0,vt)},hvh:function(gt,mt,vt){return"H"+F((gt[0]+mt[0])/2)+"V"+R(mt[1])+"H"+P(mt,0,vt)},vhv:function(gt,mt,vt){return"V"+R((gt[1]+mt[1])/2)+"H"+F(mt[0])+"V"+P(mt,1,vt)}},q=function(gt,mt,vt){return"L"+P(mt,0,vt)+","+P(mt,1,vt)};a.steps=function(gt){var mt=B[gt]||q;return function(vt){for(var At="M"+F(vt[0][0])+","+R(vt[0][1]),Ot=vt.length,Pt=1;Pt<Ot;Pt++)At+=mt(vt[Pt-1],vt[Pt],Pt===Ot-1);return At}};function V(gt,mt){var vt=gt.backoff,At=gt.trace,Ot=gt.d,Pt=gt.i;if(vt&&At&&At.marker&&At.marker.angle%360===0&&At.line&&At.line.shape!=="spline"){var Et=S.isArrayOrTypedArray(vt),Nt=gt,ne=mt?mt[0]:O||0,Gt=mt?mt[1]:D||0,pe=Nt[0],Vt=Nt[1],ae=pe-ne,oe=Vt-Gt,ce=Math.atan2(oe,ae),le=Et?vt[Pt]:vt;if(le==="auto"){var ye=Nt.i;At.type==="scatter"&&ye--;var Tt=Nt.marker,Ft=Tt.symbol;S.isArrayOrTypedArray(Ft)&&(Ft=Ft[ye]);var $t=Tt.size;S.isArrayOrTypedArray($t)&&($t=$t[ye]),le=Tt?a.symbolBackOffs[a.symbolNumber(Ft)]*$t:0,le+=a.getMarkerStandoff(Ot[ye],At)||0}var Wt=pe-le*Math.cos(ce),Bt=Vt-le*Math.sin(ce);(Wt<=pe&&Wt>=ne||Wt>=pe&&Wt<=ne)&&(Bt<=Vt&&Bt>=Gt||Bt>=Vt&&Bt<=Gt)&&(gt=[Wt,Bt])}return gt}a.applyBackoff=V,a.makeTester=function(){var gt=S.ensureSingleById(E.select("body"),"svg","js-plotly-tester",function(vt){vt.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),mt=S.ensureSingle(gt,"path","js-reference-point",function(vt){vt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});a.tester=gt,a.testref=mt},a.savedBBoxes={};var J=0,it=1e4;a.bBox=function(gt,mt,vt){vt||(vt=nt(gt));var At;if(vt){if(At=a.savedBBoxes[vt],At)return S.extendFlat({},At)}else if(gt.childNodes.length===1){var Ot=gt.childNodes[0];if(vt=nt(Ot),vt){var Pt=+Ot.getAttribute("x")||0,Et=+Ot.getAttribute("y")||0,Nt=Ot.getAttribute("transform");if(!Nt){var ne=a.bBox(Ot,!1,vt);return Pt&&(ne.left+=Pt,ne.right+=Pt),Et&&(ne.top+=Et,ne.bottom+=Et),ne}if(vt+="~"+Pt+"~"+Et+"~"+Nt,At=a.savedBBoxes[vt],At)return S.extendFlat({},At)}}var Gt,pe;mt?Gt=gt:(pe=a.tester.node(),Gt=gt.cloneNode(!0),pe.appendChild(Gt)),E.select(Gt).attr("transform",null).call(l.positionText,0,0);var Vt=Gt.getBoundingClientRect(),ae=a.testref.node().getBoundingClientRect();mt||pe.removeChild(Gt);var oe={height:Vt.height,width:Vt.width,left:Vt.left-ae.left,top:Vt.top-ae.top,right:Vt.right-ae.left,bottom:Vt.bottom-ae.top};return J>=it&&(a.savedBBoxes={},J=0),vt&&(a.savedBBoxes[vt]=oe),J++,S.extendFlat({},oe)};function nt(gt){var mt=gt.getAttribute("data-unformatted");if(mt!==null)return mt+gt.getAttribute("data-math")+gt.getAttribute("text-anchor")+gt.getAttribute("style")}a.setClipUrl=function(gt,mt,vt){gt.attr("clip-path",Y(mt,vt))};function Y(gt,mt){if(!gt)return null;var vt=mt._context,At=vt._exportedPlot?"":vt._baseUrl||"";return At?"url('"+At+"#"+gt+"')":"url(#"+gt+")"}a.getTranslate=function(gt){var mt=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,vt=gt.attr?"attr":"getAttribute",At=gt[vt]("transform")||"",Ot=At.replace(mt,function(Pt,Et,Nt){return[Et,Nt].join(" ")}).split(" ");return{x:+Ot[0]||0,y:+Ot[1]||0}},a.setTranslate=function(gt,mt,vt){var At=/(\btranslate\(.*?\);?)/,Ot=gt.attr?"attr":"getAttribute",Pt=gt.attr?"attr":"setAttribute",Et=gt[Ot]("transform")||"";return mt=mt||0,vt=vt||0,Et=Et.replace(At,"").trim(),Et+=e(mt,vt),Et=Et.trim(),gt[Pt]("transform",Et),Et},a.getScale=function(gt){var mt=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,vt=gt.attr?"attr":"getAttribute",At=gt[vt]("transform")||"",Ot=At.replace(mt,function(Pt,Et,Nt){return[Et,Nt].join(" ")}).split(" ");return{x:+Ot[0]||1,y:+Ot[1]||1}},a.setScale=function(gt,mt,vt){var At=/(\bscale\(.*?\);?)/,Ot=gt.attr?"attr":"getAttribute",Pt=gt.attr?"attr":"setAttribute",Et=gt[Ot]("transform")||"";return mt=mt||1,vt=vt||1,Et=Et.replace(At,"").trim(),Et+="scale("+mt+","+vt+")",Et=Et.trim(),gt[Pt]("transform",Et),Et};var Z=/\s*sc.*/;a.setPointGroupScale=function(gt,mt,vt){if(mt=mt||1,vt=vt||1,!!gt){var At=mt===1&&vt===1?"":"scale("+mt+","+vt+")";gt.each(function(){var Ot=(this.getAttribute("transform")||"").replace(Z,"");Ot+=At,Ot=Ot.trim(),this.setAttribute("transform",Ot)})}};var $=/translate\([^)]*\)\s*$/;a.setTextPointsScale=function(gt,mt,vt){gt&&gt.each(function(){var At,Ot=E.select(this),Pt=Ot.select("text");if(Pt.node()){var Et=parseFloat(Pt.attr("x")||0),Nt=parseFloat(Pt.attr("y")||0),ne=(Ot.attr("transform")||"").match($);mt===1&&vt===1?At=[]:At=[e(Et,Nt),"scale("+mt+","+vt+")",e(-Et,-Nt)],ne&&At.push(ne),Ot.attr("transform",At.join(""))}})};function G(gt,mt){var vt;return gt&&(vt=gt.mf),vt===void 0&&(vt=mt.marker&&mt.marker.standoff||0),!mt._geo&&!mt._xA?-vt:vt}a.getMarkerStandoff=G;var rt=Math.atan2,ot=Math.cos,W=Math.sin;function H(gt,mt){var vt=mt[0],At=mt[1];return[vt*ot(gt)-At*W(gt),vt*W(gt)+At*ot(gt)]}var at,Q,ct,ft,yt,xt;function Lt(gt,mt){var vt=gt.ma;vt===void 0&&(vt=mt.marker.angle,(!vt||S.isArrayOrTypedArray(vt))&&(vt=0));var At,Ot,Pt=mt.marker.angleref;if(Pt==="previous"||Pt==="north"){if(mt._geo){var Et=mt._geo.project(gt.lonlat);At=Et[0],Ot=Et[1]}else{var Nt=mt._xA,ne=mt._yA;if(Nt&&ne)At=Nt.c2p(gt.x),Ot=ne.c2p(gt.y);else return 90}if(mt._geo){var Gt=gt.lonlat[0],pe=gt.lonlat[1],Vt=mt._geo.project([Gt,pe+1e-5]),ae=mt._geo.project([Gt+1e-5,pe]),oe=rt(ae[1]-Ot,ae[0]-At),ce=rt(Vt[1]-Ot,Vt[0]-At),le;if(Pt==="north")le=vt/180*Math.PI;else if(Pt==="previous"){var ye=Gt/180*Math.PI,Tt=pe/180*Math.PI,Ft=at/180*Math.PI,$t=Q/180*Math.PI,Wt=Ft-ye,Bt=ot($t)*W(Wt),Mt=W($t)*ot(Tt)-ot($t)*W(Tt)*ot(Wt);le=-rt(Bt,Mt)-Math.PI,at=Gt,Q=pe}var St=H(oe,[ot(le),0]),Dt=H(ce,[W(le),0]);vt=rt(St[1]+Dt[1],St[0]+Dt[0])/Math.PI*180,Pt==="previous"&&!(xt===mt.uid&&gt.i===yt+1)&&(vt=null)}if(Pt==="previous"&&!mt._geo)if(xt===mt.uid&&gt.i===yt+1&&L(At)&&L(Ot)){var dt=At-ct,ht=Ot-ft,bt=mt.line&&mt.line.shape||"",zt=bt.slice(bt.length-1);zt==="h"&&(ht=0),zt==="v"&&(dt=0),vt+=rt(ht,dt)/Math.PI*180+90}else vt=null}return ct=At,ft=Ot,yt=gt.i,xt=mt.uid,vt}a.getMarkerAngle=Lt},71984:function(tt,U,t){var E=t(21984),S=t(33428).round,i="M0,0Z",L=Math.sqrt(2),T=Math.sqrt(3),v=Math.PI,d=Math.cos,r=Math.sin;tt.exports={circle:{n:0,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c="M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z";return _?f(h,_,c):c}},square:{n:1,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")}},diamond:{n:2,f:function(b,h,_){if(e(h))return i;var a=S(b*1.3,2);return f(h,_,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z")}},cross:{n:3,f:function(b,h,_){if(e(h))return i;var a=S(b*.4,2),c=S(b*1.2,2);return f(h,_,"M"+c+","+a+"H"+a+"V"+c+"H-"+a+"V"+a+"H-"+c+"V-"+a+"H-"+a+"V-"+c+"H"+a+"V-"+a+"H"+c+"Z")}},x:{n:4,f:function(b,h,_){if(e(h))return i;var a=S(b*.8/L,2),c="l"+a+","+a,p="l"+a+",-"+a,x="l-"+a+",-"+a,k="l-"+a+","+a;return f(h,_,"M0,"+a+c+p+x+p+x+k+x+k+c+k+c+"Z")}},"triangle-up":{n:5,f:function(b,h,_){if(e(h))return i;var a=S(b*2/T,2),c=S(b/2,2),p=S(b,2);return f(h,_,"M-"+a+","+c+"H"+a+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(b,h,_){if(e(h))return i;var a=S(b*2/T,2),c=S(b/2,2),p=S(b,2);return f(h,_,"M-"+a+",-"+c+"H"+a+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(b,h,_){if(e(h))return i;var a=S(b*2/T,2),c=S(b/2,2),p=S(b,2);return f(h,_,"M"+c+",-"+a+"V"+a+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(b,h,_){if(e(h))return i;var a=S(b*2/T,2),c=S(b/2,2),p=S(b,2);return f(h,_,"M-"+c+",-"+a+"V"+a+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(b,h,_){if(e(h))return i;var a=S(b*.6,2),c=S(b*1.2,2);return f(h,_,"M-"+c+",-"+a+"H"+a+"V"+c+"Z")}},"triangle-se":{n:10,f:function(b,h,_){if(e(h))return i;var a=S(b*.6,2),c=S(b*1.2,2);return f(h,_,"M"+a+",-"+c+"V"+a+"H-"+c+"Z")}},"triangle-sw":{n:11,f:function(b,h,_){if(e(h))return i;var a=S(b*.6,2),c=S(b*1.2,2);return f(h,_,"M"+c+","+a+"H-"+a+"V-"+c+"Z")}},"triangle-nw":{n:12,f:function(b,h,_){if(e(h))return i;var a=S(b*.6,2),c=S(b*1.2,2);return f(h,_,"M-"+a+","+c+"V-"+a+"H"+c+"Z")}},pentagon:{n:13,f:function(b,h,_){if(e(h))return i;var a=S(b*.951,2),c=S(b*.588,2),p=S(-b,2),x=S(b*-.309,2),k=S(b*.809,2);return f(h,_,"M"+a+","+x+"L"+c+","+k+"H-"+c+"L-"+a+","+x+"L0,"+p+"Z")}},hexagon:{n:14,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b/2,2),p=S(b*T/2,2);return f(h,_,"M"+p+",-"+c+"V"+c+"L0,"+a+"L-"+p+","+c+"V-"+c+"L0,-"+a+"Z")}},hexagon2:{n:15,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b/2,2),p=S(b*T/2,2);return f(h,_,"M-"+c+","+p+"H"+c+"L"+a+",0L"+c+",-"+p+"H-"+c+"L-"+a+",0Z")}},octagon:{n:16,f:function(b,h,_){if(e(h))return i;var a=S(b*.924,2),c=S(b*.383,2);return f(h,_,"M-"+c+",-"+a+"H"+c+"L"+a+",-"+c+"V"+c+"L"+c+","+a+"H-"+c+"L-"+a+","+c+"V-"+c+"Z")}},star:{n:17,f:function(b,h,_){if(e(h))return i;var a=b*1.4,c=S(a*.225,2),p=S(a*.951,2),x=S(a*.363,2),k=S(a*.588,2),y=S(-a,2),A=S(a*-.309,2),C=S(a*.118,2),u=S(a*.809,2),m=S(a*.382,2);return f(h,_,"M"+c+","+A+"H"+p+"L"+x+","+C+"L"+k+","+u+"L0,"+m+"L-"+k+","+u+"L-"+x+","+C+"L-"+p+","+A+"H-"+c+"L0,"+y+"Z")}},hexagram:{n:18,f:function(b,h,_){if(e(h))return i;var a=S(b*.66,2),c=S(b*.38,2),p=S(b*.76,2);return f(h,_,"M-"+p+",0l-"+c+",-"+a+"h"+p+"l"+c+",-"+a+"l"+c+","+a+"h"+p+"l-"+c+","+a+"l"+c+","+a+"h-"+p+"l-"+c+","+a+"l-"+c+",-"+a+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(b,h,_){if(e(h))return i;var a=S(b*T*.8,2),c=S(b*.8,2),p=S(b*1.6,2),x=S(b*4,2),k="A "+x+","+x+" 0 0 1 ";return f(h,_,"M-"+a+","+c+k+a+","+c+k+"0,-"+p+k+"-"+a+","+c+"Z")}},"star-triangle-down":{n:20,f:function(b,h,_){if(e(h))return i;var a=S(b*T*.8,2),c=S(b*.8,2),p=S(b*1.6,2),x=S(b*4,2),k="A "+x+","+x+" 0 0 1 ";return f(h,_,"M"+a+",-"+c+k+"-"+a+",-"+c+k+"0,"+p+k+a+",-"+c+"Z")}},"star-square":{n:21,f:function(b,h,_){if(e(h))return i;var a=S(b*1.1,2),c=S(b*2,2),p="A "+c+","+c+" 0 0 1 ";return f(h,_,"M-"+a+",-"+a+p+"-"+a+","+a+p+a+","+a+p+a+",-"+a+p+"-"+a+",-"+a+"Z")}},"star-diamond":{n:22,f:function(b,h,_){if(e(h))return i;var a=S(b*1.4,2),c=S(b*1.9,2),p="A "+c+","+c+" 0 0 1 ";return f(h,_,"M-"+a+",0"+p+"0,"+a+p+a+",0"+p+"0,-"+a+p+"-"+a+",0Z")}},"diamond-tall":{n:23,f:function(b,h,_){if(e(h))return i;var a=S(b*.7,2),c=S(b*1.4,2);return f(h,_,"M0,"+c+"L"+a+",0L0,-"+c+"L-"+a+",0Z")}},"diamond-wide":{n:24,f:function(b,h,_){if(e(h))return i;var a=S(b*1.4,2),c=S(b*.7,2);return f(h,_,"M0,"+c+"L"+a+",0L0,-"+c+"L-"+a+",0Z")}},hourglass:{n:25,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+","+a+"H-"+a+"L"+a+",-"+a+"H-"+a+"Z")},noDot:!0},bowtie:{n:26,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+","+a+"V-"+a+"L-"+a+","+a+"V-"+a+"Z")},noDot:!0},"circle-cross":{n:27,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b/L,2);return f(h,_,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(b,h,_){if(e(h))return i;var a=S(b*1.3,2);return f(h,_,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM0,-"+a+"V"+a+"M-"+a+",0H"+a)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(b,h,_){if(e(h))return i;var a=S(b*1.3,2),c=S(b*.65,2);return f(h,_,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(b,h,_){if(e(h))return i;var a=S(b*1.4,2);return f(h,_,"M0,"+a+"V-"+a+"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(b,h,_){if(e(h))return i;var a=S(b*1.2,2),c=S(b*.85,2);return f(h,_,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(b,h,_){if(e(h))return i;var a=S(b/2,2),c=S(b,2);return f(h,_,"M"+a+","+c+"V-"+c+"M"+(a-c)+",-"+c+"V"+c+"M"+c+","+a+"H-"+c+"M-"+c+","+(a-c)+"H"+c)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(b,h,_){if(e(h))return i;var a=S(b*1.2,2),c=S(b*1.6,2),p=S(b*.8,2);return f(h,_,"M-"+a+","+p+"L0,0M"+a+","+p+"L0,0M0,-"+c+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(b,h,_){if(e(h))return i;var a=S(b*1.2,2),c=S(b*1.6,2),p=S(b*.8,2);return f(h,_,"M-"+a+",-"+p+"L0,0M"+a+",-"+p+"L0,0M0,"+c+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(b,h,_){if(e(h))return i;var a=S(b*1.2,2),c=S(b*1.6,2),p=S(b*.8,2);return f(h,_,"M"+p+","+a+"L0,0M"+p+",-"+a+"L0,0M-"+c+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(b,h,_){if(e(h))return i;var a=S(b*1.2,2),c=S(b*1.6,2),p=S(b*.8,2);return f(h,_,"M-"+p+","+a+"L0,0M-"+p+",-"+a+"L0,0M"+c+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(b,h,_){if(e(h))return i;var a=S(b*1.4,2);return f(h,_,"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(b,h,_){if(e(h))return i;var a=S(b*1.4,2);return f(h,_,"M0,"+a+"V-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(b,h,_){if(e(h))return i;var a=S(b,2);return f(h,_,"M"+a+","+a+"L-"+a+",-"+a)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b*2,2);return f(h,_,"M0,0L-"+a+","+c+"H"+a+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b*2,2);return f(h,_,"M0,0L-"+a+",-"+c+"H"+a+"Z")},noDot:!0},"arrow-left":{n:47,f:function(b,h,_){if(e(h))return i;var a=S(b*2,2),c=S(b,2);return f(h,_,"M0,0L"+a+",-"+c+"V"+c+"Z")},noDot:!0},"arrow-right":{n:48,f:function(b,h,_){if(e(h))return i;var a=S(b*2,2),c=S(b,2);return f(h,_,"M0,0L-"+a+",-"+c+"V"+c+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b*2,2);return f(h,_,"M-"+a+",0H"+a+"M0,0L-"+a+","+c+"H"+a+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(b,h,_){if(e(h))return i;var a=S(b,2),c=S(b*2,2);return f(h,_,"M-"+a+",0H"+a+"M0,0L-"+a+",-"+c+"H"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(b,h,_){if(e(h))return i;var a=S(b*2,2),c=S(b,2);return f(h,_,"M0,-"+c+"V"+c+"M0,0L"+a+",-"+c+"V"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(b,h,_){if(e(h))return i;var a=S(b*2,2),c=S(b,2);return f(h,_,"M0,-"+c+"V"+c+"M0,0L-"+a+",-"+c+"V"+c+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(b,h,_){if(e(h))return i;var a=v/2.5,c=2*b*d(a),p=2*b*r(a);return f(h,_,"M0,0L"+-c+","+p+"L"+c+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(b,h,_){if(e(h))return i;var a=v/4,c=2*b*d(a),p=2*b*r(a);return f(h,_,"M0,0L"+-c+","+p+"A "+2*b+","+2*b+" 0 0 1 "+c+","+p+"Z")},backoff:.4,noDot:!0}};function e(b){return b===null}var l,n,s,o;function f(b,h,_){if((!b||b%360===0)&&!h)return _;if(s===b&&o===h&&l===_)return n;s=b,o=h,l=_;function a(O,D){var P=d(O),F=r(O),R=D[0],N=D[1]+(h||0);return[R*P-N*F,R*F+N*P]}for(var c=b/180*v,p=0,x=0,k=E(_),y="",A=0;A<k.length;A++){var C=k[A],u=C[0],m=p,M=x;if(u==="M"||u==="L")p=+C[1],x=+C[2];else if(u==="m"||u==="l")p+=+C[1],x+=+C[2];else if(u==="H")p=+C[1];else if(u==="h")p+=+C[1];else if(u==="V")x=+C[1];else if(u==="v")x+=+C[1];else if(u==="A"){p=+C[1],x=+C[2];var w=a(c,[+C[6],+C[7]]);C[6]=w[0],C[7]=w[1],C[3]=+C[3]+b}(u==="H"||u==="V")&&(u="L"),(u==="h"||u==="v")&&(u="l"),(u==="m"||u==="l")&&(p-=m,x-=M);var z=a(c,[p,x]);(u==="H"||u==="V")&&(u="L"),(u==="M"||u==="L"||u==="m"||u==="l")&&(C[1]=z[0],C[2]=z[1]),C[0]=u,y+=C[0]+C.slice(1).join(",")}return n=y,y}},97644:function(tt){tt.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(tt,U,t){var E=t(38248),S=t(24040),i=t(54460),L=t(3400),T=t(93792);tt.exports=function(d){for(var r=d.calcdata,e=0;e<r.length;e++){var l=r[e],n=l[0].trace;if(n.visible===!0&&S.traceIs(n,"errorBarsOK")){var s=i.getFromId(d,n.xaxis),o=i.getFromId(d,n.yaxis);v(l,n,s,"x"),v(l,n,o,"y")}}};function v(d,r,e,l){var n=r["error_"+l]||{},s=n.visible&&["linear","log"].indexOf(e.type)!==-1,o=[];if(s){for(var f=T(n),b=0;b<d.length;b++){var h=d[b],_=h.i;if(_===void 0)_=b;else if(_===null)continue;var a=h[l];if(E(e.c2l(a))){var c=f(a,_);if(E(c[0])&&E(c[1])){var p=h[l+"s"]=a-c[0],x=h[l+"h"]=a+c[1];o.push(p,x)}}}var k=e._id,y=r._extremes[k],A=i.findExtremes(e,o,L.extendFlat({tozero:y.opts.tozero},{padded:!0}));y.min=y.min.concat(A.min),y.max=y.max.concat(A.max)}}},93792:function(tt){tt.exports=function(t){var E=t.type,S=t.symmetric;if(E==="data"){var i=t.array||[];if(S)return function(d,r){var e=+i[r];return[e,e]};var L=t.arrayminus||[];return function(d,r){var e=+i[r],l=+L[r];return!isNaN(e)||!isNaN(l)?[l||0,e||0]:[NaN,NaN]}}else{var T=U(E,t.value),v=U(E,t.valueminus);return S||t.valueminus===void 0?function(d){var r=T(d);return[r,r]}:function(d){return[v(d),T(d)]}}};function U(t,E){if(t==="percent")return function(S){return Math.abs(S*E/100)};if(t==="constant")return function(){return Math.abs(E)};if(t==="sqrt")return function(S){return Math.sqrt(Math.abs(S))}}},65200:function(tt,U,t){var E=t(38248),S=t(24040),i=t(3400),L=t(31780),T=t(97644);tt.exports=function(v,d,r,e){var l="error_"+e.axis,n=L.newContainer(d,l),s=v[l]||{};function o(p,x){return i.coerce(s,n,T,p,x)}var f=s.array!==void 0||s.value!==void 0||s.type==="sqrt",b=o("visible",f);if(b!==!1){var h=o("type","array"in s?"data":"percent"),_=!0;h!=="sqrt"&&(_=o("symmetric",!((h==="data"?"arrayminus":"valueminus")in s))),h==="data"?(o("array"),o("traceref"),_||(o("arrayminus"),o("tracerefminus"))):(h==="percent"||h==="constant")&&(o("value"),_||o("valueminus"));var a="copy_"+e.inherit+"style";if(e.inherit){var c=d["error_"+e.inherit];(c||{}).visible&&o(a,!(s.color||E(s.thickness)||E(s.width)))}(!e.inherit||!n[a])&&(o("color",r),o("thickness"),o("width",S.traceIs(d,"gl3d")?0:4))}}},64968:function(tt,U,t){var E=t(3400),S=t(67824).overrideAll,i=t(97644),L={error_x:E.extendFlat({},i),error_y:E.extendFlat({},i)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var T={error_x:E.extendFlat({},i),error_y:E.extendFlat({},i),error_z:E.extendFlat({},i)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,tt.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:S(T,"calc","nested"),scattergl:S(L,"calc","nested")}},supplyDefaults:t(65200),calc:t(14880),makeComputeError:t(93792),plot:t(78512),style:t(92036),hoverInfo:v};function v(d,r,e){(r.error_y||{}).visible&&(e.yerr=d.yh-d.y,r.error_y.symmetric||(e.yerrneg=d.y-d.ys)),(r.error_x||{}).visible&&(e.xerr=d.xh-d.x,r.error_x.symmetric||(e.xerrneg=d.x-d.xs))}},78512:function(tt,U,t){var E=t(33428),S=t(38248),i=t(43616),L=t(43028);tt.exports=function(v,d,r,e){var l,n=r.xaxis,s=r.yaxis,o=e&&e.duration>0,f=v._context.staticPlot;d.each(function(b){var h=b[0].trace,_=h.error_x||{},a=h.error_y||{},c;h.ids&&(c=function(y){return y.id});var p=L.hasMarkers(h)&&h.marker.maxdisplayed>0;!a.visible&&!_.visible&&(b=[]);var x=E.select(this).selectAll("g.errorbar").data(b,c);if(x.exit().remove(),!!b.length){_.visible||x.selectAll("path.xerror").remove(),a.visible||x.selectAll("path.yerror").remove(),x.style("opacity",1);var k=x.enter().append("g").classed("errorbar",!0);o&&k.style("opacity",0).transition().duration(e.duration).style("opacity",1),i.setClipUrl(x,r.layerClipId,v),x.each(function(y){var A=E.select(this),C=T(y,n,s);if(!(p&&!y.vis)){var u,m=A.select("path.yerror");if(a.visible&&S(C.x)&&S(C.yh)&&S(C.ys)){var M=a.width;u="M"+(C.x-M)+","+C.yh+"h"+2*M+"m-"+M+",0V"+C.ys,C.noYS||(u+="m-"+M+",0h"+2*M),l=!m.size(),l?m=A.append("path").style("vector-effect",f?"none":"non-scaling-stroke").classed("yerror",!0):o&&(m=m.transition().duration(e.duration).ease(e.easing)),m.attr("d",u)}else m.remove();var w=A.select("path.xerror");if(_.visible&&S(C.y)&&S(C.xh)&&S(C.xs)){var z=(_.copy_ystyle?a:_).width;u="M"+C.xh+","+(C.y-z)+"v"+2*z+"m0,-"+z+"H"+C.xs,C.noXS||(u+="m0,-"+z+"v"+2*z),l=!w.size(),l?w=A.append("path").style("vector-effect",f?"none":"non-scaling-stroke").classed("xerror",!0):o&&(w=w.transition().duration(e.duration).ease(e.easing)),w.attr("d",u)}else w.remove()}})}})};function T(v,d,r){var e={x:d.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(e.yh=r.c2p(v.yh),e.ys=r.c2p(v.ys),S(e.ys)||(e.noYS=!0,e.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(e.xh=d.c2p(v.xh),e.xs=d.c2p(v.xs),S(e.xs)||(e.noXS=!0,e.xs=d.c2p(v.xs,!0))),e}},92036:function(tt,U,t){var E=t(33428),S=t(76308);tt.exports=function(i){i.each(function(L){var T=L[0].trace,v=T.error_y||{},d=T.error_x||{},r=E.select(this);r.selectAll("path.yerror").style("stroke-width",v.thickness+"px").call(S.stroke,v.color),d.copy_ystyle&&(d=v),r.selectAll("path.xerror").style("stroke-width",d.thickness+"px").call(S.stroke,d.color)})}},55756:function(tt,U,t){var E=t(25376),S=t(65460).hoverlabel,i=t(92880).extendFlat;tt.exports={hoverlabel:{bgcolor:i({},S.bgcolor,{arrayOk:!0}),bordercolor:i({},S.bordercolor,{arrayOk:!0}),font:E({arrayOk:!0,editType:"none"}),align:i({},S.align,{arrayOk:!0}),namelength:i({},S.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(tt,U,t){var E=t(3400),S=t(24040);tt.exports=function(L){var T=L.calcdata,v=L._fullLayout;function d(s){return function(o){return E.coerceHoverinfo({hoverinfo:o},{_module:s._module},v)}}for(var r=0;r<T.length;r++){var e=T[r],l=e[0].trace;if(!S.traceIs(l,"pie-like")){var n=S.traceIs(l,"2dMap")?i:E.fillArray;n(l.hoverinfo,e,"hi",d(l)),l.hovertemplate&&n(l.hovertemplate,e,"ht"),l.hoverlabel&&(n(l.hoverlabel.bgcolor,e,"hbg"),n(l.hoverlabel.bordercolor,e,"hbc"),n(l.hoverlabel.font.size,e,"hts"),n(l.hoverlabel.font.color,e,"htc"),n(l.hoverlabel.font.family,e,"htf"),n(l.hoverlabel.font.weight,e,"htw"),n(l.hoverlabel.font.style,e,"hty"),n(l.hoverlabel.font.variant,e,"htv"),n(l.hoverlabel.namelength,e,"hnl"),n(l.hoverlabel.align,e,"hta"))}}};function i(L,T,v,d){d=d||E.identity,Array.isArray(L)&&(T[0][v]=d(L))}},62376:function(tt,U,t){var E=t(24040),S=t(83292).hover;tt.exports=function(i,L,T){var v=E.getComponentMethod("annotations","onClick")(i,i._hoverdata);T!==void 0&&S(i,L,T,!0);function d(){i.emit("plotly_click",{points:i._hoverdata,event:L})}i._hoverdata&&L&&L.target&&(v&&v.then?v.then(d):d(),L.stopImmediatePropagation&&L.stopImmediatePropagation())}},92456:function(tt){tt.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(tt,U,t){var E=t(3400),S=t(55756),i=t(16132);tt.exports=function(L,T,v,d){function r(l,n){return E.coerce(L,T,S,l,n)}var e=E.extendFlat({},d.hoverlabel);T.hovertemplate&&(e.namelength=-1),i(L,T,r,e)}},10624:function(tt,U,t){var E=t(3400);U.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},U.isTraceInSubplots=function(d,r){if(d.type==="splom"){for(var e=d.xaxes||[],l=d.yaxes||[],n=0;n<e.length;n++)for(var s=0;s<l.length;s++)if(r.indexOf(e[n]+l[s])!==-1)return!0;return!1}return r.indexOf(U.getSubplot(d))!==-1},U.flat=function(d,r){for(var e=new Array(d.length),l=0;l<d.length;l++)e[l]=r;return e},U.p2c=function(d,r){for(var e=new Array(d.length),l=0;l<d.length;l++)e[l]=d[l].p2c(r);return e},U.getDistanceFunction=function(d,r,e,l){return d==="closest"?l||U.quadrature(r,e):d.charAt(0)==="x"?r:e},U.getClosest=function(d,r,e){if(e.index!==!1)e.index>=0&&e.index<d.length?e.distance=0:e.index=!1;else for(var l=0;l<d.length;l++){var n=r(d[l]);n<=e.distance&&(e.index=l,e.distance=n)}return e},U.inbox=function(d,r,e){return d*r<0||d===0?e:1/0},U.quadrature=function(d,r){return function(e){var l=d(e),n=r(e);return Math.sqrt(l*l+n*n)}},U.makeEventData=function(d,r,e){var l="index"in d?d.index:d.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:l};if(r._indexToPoints){var s=r._indexToPoints[l];s.length===1?n.pointIndex=s[0]:n.pointIndices=s}else n.pointIndex=l;return r._module.eventData?n=r._module.eventData(n,d,r,e,l):("xVal"in d?n.x=d.xVal:"x"in d&&(n.x=d.x),"yVal"in d?n.y=d.yVal:"y"in d&&(n.y=d.y),d.xa&&(n.xaxis=d.xa),d.ya&&(n.yaxis=d.ya),d.zLabelVal!==void 0&&(n.z=d.zLabelVal)),U.appendArrayPointValue(n,r,l),n},U.appendArrayPointValue=function(d,r,e){var l=r._arrayAttrs;if(l)for(var n=0;n<l.length;n++){var s=l[n],o=i(s);if(d[o]===void 0){var f=E.nestedProperty(r,s).get(),b=L(f,e);b!==void 0&&(d[o]=b)}}},U.appendArrayMultiPointValues=function(d,r,e){var l=r._arrayAttrs;if(l)for(var n=0;n<l.length;n++){var s=l[n],o=i(s);if(d[o]===void 0){for(var f=E.nestedProperty(r,s).get(),b=new Array(e.length),h=0;h<e.length;h++)b[h]=L(f,e[h]);d[o]=b}}};var S={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(d){return S[d]||d}function L(d,r){if(Array.isArray(r)){if(Array.isArray(d)&&Array.isArray(d[r[0]]))return d[r[0]][r[1]]}else return d[r]}var T={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(d){return typeof d!="string"?!1:!!v[d]},U.isXYhover=function(d){return typeof d!="string"?!1:!!T[d]}},83292:function(tt,U,t){var E=t(33428),S=t(38248),i=t(49760),L=t(3400),T=L.pushUnique,v=L.strTranslate,d=L.strRotate,r=t(95924),e=t(72736),l=t(72213),n=t(43616),s=t(76308),o=t(86476),f=t(54460),b=t(24040),h=t(10624),_=t(92456),a=t(77864),c=t(31140),p=_.YANGLE,x=Math.PI*p/180,k=1/Math.sin(x),y=Math.cos(x),A=Math.sin(x),C=_.HOVERARROWSIZE,u=_.HOVERTEXTPAD,m={box:!0,ohlc:!0,violin:!0,candlestick:!0},M={scatter:!0,scattergl:!0,splom:!0};function w(W,H){return W.distance-H.distance}U.hover=function(W,H,at,Q){W=L.getGraphDiv(W);var ct=H.target;L.throttle(W._fullLayout._uid+_.HOVERID,_.HOVERMINTIME,function(){z(W,H,at,Q,ct)})},U.loneHover=function(W,H){var at=!0;Array.isArray(W)||(at=!1,W=[W]);var Q=H.gd,ct=G(Q),ft=rt(Q),yt=W.map(function(Et){var Nt=Et._x0||Et.x0||Et.x||0,ne=Et._x1||Et.x1||Et.x||0,Gt=Et._y0||Et.y0||Et.y||0,pe=Et._y1||Et.y1||Et.y||0,Vt=Et.eventData;if(Vt){var ae=Math.min(Nt,ne),oe=Math.max(Nt,ne),ce=Math.min(Gt,pe),le=Math.max(Gt,pe),ye=Et.trace;if(b.traceIs(ye,"gl3d")){var Tt=Q._fullLayout[ye.scene]._scene.container,Ft=Tt.offsetLeft,$t=Tt.offsetTop;ae+=Ft,oe+=Ft,ce+=$t,le+=$t}Vt.bbox={x0:ae+ft,x1:oe+ft,y0:ce+ct,y1:le+ct},H.inOut_bbox&&H.inOut_bbox.push(Vt.bbox)}else Vt=!1;return{color:Et.color||s.defaultLine,x0:Et.x0||Et.x||0,x1:Et.x1||Et.x||0,y0:Et.y0||Et.y||0,y1:Et.y1||Et.y||0,xLabel:Et.xLabel,yLabel:Et.yLabel,zLabel:Et.zLabel,text:Et.text,name:Et.name,idealAlign:Et.idealAlign,borderColor:Et.borderColor,fontFamily:Et.fontFamily,fontSize:Et.fontSize,fontColor:Et.fontColor,fontWeight:Et.fontWeight,fontStyle:Et.fontStyle,fontVariant:Et.fontVariant,nameLength:Et.nameLength,textAlign:Et.textAlign,trace:Et.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Et.hovertemplate||!1,hovertemplateLabels:Et.hovertemplateLabels||!1,eventData:Vt}}),xt=!1,Lt=P(yt,{gd:Q,hovermode:"closest",rotateLabels:xt,bgColor:H.bgColor||s.background,container:E.select(H.container),outerContainer:H.outerContainer||H.container}),gt=Lt.hoverLabels,mt=5,vt=0,At=0;gt.sort(function(Et,Nt){return Et.y0-Nt.y0}).each(function(Et,Nt){var ne=Et.y0-Et.by/2;ne-mt<vt?Et.offset=vt-ne+mt:Et.offset=0,vt=ne+Et.by+Et.offset,Nt===H.anchorIndex&&(At=Et.offset)}).each(function(Et){Et.offset-=At});var Ot=Q._fullLayout._invScaleX,Pt=Q._fullLayout._invScaleY;return q(gt,xt,Ot,Pt),at?gt:gt.node()};function z(W,H,at,Q,ct){at||(at="xy");var ft=Array.isArray(at)?at:[at],yt,xt=W._fullLayout,Lt=xt.hoversubplots,gt=xt._plots||[],mt=gt[at],vt=xt._has("cartesian"),At=H.hovermode||xt.hovermode,Ot=(At||"").charAt(0)==="x",Pt=(At||"").charAt(0)==="y",Et,Nt;if(vt&&(Ot||Pt)&&Lt==="axis"){for(var ne=ft.length,Gt=0;Gt<ne;Gt++)if(yt=ft[Gt],gt[yt]){Et=f.getFromId(W,yt,"x"),Nt=f.getFromId(W,yt,"y");var pe=(Ot?Et:Nt)._subplotsWith;if(pe&&pe.length)for(var Vt=0;Vt<pe.length;Vt++)T(ft,pe[Vt])}}if(mt&&Lt!=="single"){var ae=mt.overlays.map(function(Cn){return Cn.id});ft=ft.concat(ae)}for(var oe=ft.length,ce=new Array(oe),le=new Array(oe),ye=!1,Tt=0;Tt<oe;Tt++)if(yt=ft[Tt],gt[yt])ye=!0,ce[Tt]=gt[yt].xaxis,le[Tt]=gt[yt].yaxis;else if(xt[yt]&&xt[yt]._subplot){var Ft=xt[yt]._subplot;ce[Tt]=Ft.xaxis,le[Tt]=Ft.yaxis}else{L.warn("Unrecognized subplot: "+yt);return}if(At&&!ye&&(At="closest"),["x","y","closest","x unified","y unified"].indexOf(At)===-1||!W.calcdata||W.querySelector(".zoombox")||W._dragging)return o.unhoverRaw(W,H);var $t=xt.hoverdistance;$t===-1&&($t=1/0);var Wt=xt.spikedistance;Wt===-1&&(Wt=1/0);var Bt=[],Mt=[],St,Dt,dt,ht,bt,zt,qt,te,re,Ye,Be,ge,be,Ne={hLinePoint:null,vLinePoint:null},pr=!1;if(Array.isArray(H))for(At="array",dt=0;dt<H.length;dt++)bt=W.calcdata[H[dt].curveNumber||0],bt&&(zt=bt[0].trace,bt[0].trace.hoverinfo!=="skip"&&(Mt.push(bt),zt.orientation==="h"&&(pr=!0)));else{var fe=W.calcdata.slice();for(fe.sort(function(Cn,ur){var qr=Cn[0].trace.zorder||0,Ur=ur[0].trace.zorder||0;return qr-Ur}),ht=0;ht<fe.length;ht++)bt=fe[ht],zt=bt[0].trace,zt.hoverinfo!=="skip"&&h.isTraceInSubplots(zt,ft)&&(Mt.push(bt),zt.orientation==="h"&&(pr=!0));var De=!ct,Ge,vr;if(De)"xpx"in H?Ge=H.xpx:Ge=ce[0]._length/2,"ypx"in H?vr=H.ypx:vr=le[0]._length/2;else{if(r.triggerHandler(W,"plotly_beforehover",H)===!1)return;var $e=ct.getBoundingClientRect();Ge=H.clientX-$e.left,vr=H.clientY-$e.top,xt._calcInverseTransform(W);var Kt=L.apply3DTransform(xt._invTransform)(Ge,vr);if(Ge=Kt[0],vr=Kt[1],Ge<0||Ge>ce[0]._length||vr<0||vr>le[0]._length)return o.unhoverRaw(W,H)}if(H.pointerX=Ge+ce[0]._offset,H.pointerY=vr+le[0]._offset,"xval"in H?St=h.flat(ft,H.xval):St=h.p2c(ce,Ge),"yval"in H?Dt=h.flat(ft,H.yval):Dt=h.p2c(le,vr),!S(St[0])||!S(Dt[0]))return L.warn("Fx.hover failed",H,W),o.unhoverRaw(W,H)}var ie=1/0;function he(Cn,ur){for(ht=0;ht<Mt.length;ht++)if(bt=Mt[ht],!(!bt||!bt[0]||!bt[0].trace)&&(zt=bt[0].trace,!(zt.visible!==!0||zt._length===0)&&["carpet","contourcarpet"].indexOf(zt._module.name)===-1)){if(re=At,h.isUnifiedHover(re)&&(re=re.charAt(0)),zt.type==="splom"?(te=0,qt=ft[te]):(qt=h.getSubplot(zt),te=ft.indexOf(qt)),ge={cd:bt,trace:zt,xa:ce[te],ya:le[te],maxHoverDistance:$t,maxSpikeDistance:Wt,index:!1,distance:Math.min(ie,$t),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:s.defaultLine,name:zt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},xt[qt]&&(ge.subplot=xt[qt]._subplot),xt._splomScenes&&xt._splomScenes[zt.uid]&&(ge.scene=xt._splomScenes[zt.uid]),re==="array"){var qr=H[ht];"pointNumber"in qr?(ge.index=qr.pointNumber,re="closest"):(re="","xval"in qr&&(Ye=qr.xval,re="x"),"yval"in qr&&(Be=qr.yval,re=re?"closest":"y"))}else Cn!==void 0&&ur!==void 0?(Ye=Cn,Be=ur):(Ye=St[te],Be=Dt[te]);if(be=Bt.length,$t!==0)if(zt._module&&zt._module.hoverPoints){var Ur=zt._module.hoverPoints(ge,Ye,Be,re,{finiteRange:!0,hoverLayer:xt._hoverlayer,hoversubplots:Lt,gd:W});if(Ur)for(var nn,En=0;En<Ur.length;En++)nn=Ur[En],S(nn.x0)&&S(nn.y0)&&Bt.push(V(nn,At))}else L.log("Unrecognized trace type in hover:",zt);if(At==="closest"&&Bt.length>be&&(Bt.splice(0,be),ie=Bt[0].distance),vt&&Wt!==0&&Bt.length===0){ge.distance=Wt,ge.index=!1;var sn=zt._module.hoverPoints(ge,Ye,Be,"closest",{hoverLayer:xt._hoverlayer});if(sn&&(sn=sn.filter(function(dr){return dr.spikeDistance<=Wt})),sn&&sn.length){var An,Ln=sn.filter(function(dr){return dr.xa.showspikes&&dr.xa.spikesnap!=="hovered data"});if(Ln.length){var qn=Ln[0];S(qn.x0)&&S(qn.y0)&&(An=Ee(qn),(!Ne.vLinePoint||Ne.vLinePoint.spikeDistance>An.spikeDistance)&&(Ne.vLinePoint=An))}var ii=sn.filter(function(dr){return dr.ya.showspikes&&dr.ya.spikesnap!=="hovered data"});if(ii.length){var Li=ii[0];S(Li.x0)&&S(Li.y0)&&(An=Ee(Li),(!Ne.hLinePoint||Ne.hLinePoint.spikeDistance>An.spikeDistance)&&(Ne.hLinePoint=An))}}}}}he();function Ae(Cn,ur,qr){for(var Ur=null,nn=1/0,En,sn=0;sn<Cn.length;sn++)Et&&Et._id!==Cn[sn].xa._id||Nt&&Nt._id!==Cn[sn].ya._id||(En=Cn[sn].spikeDistance,qr&&sn===0&&(En=-1/0),En<=nn&&En<=ur&&(Ur=Cn[sn],nn=En));return Ur}function Ee(Cn){return Cn?{xa:Cn.xa,ya:Cn.ya,x:Cn.xSpike!==void 0?Cn.xSpike:(Cn.x0+Cn.x1)/2,y:Cn.ySpike!==void 0?Cn.ySpike:(Cn.y0+Cn.y1)/2,distance:Cn.distance,spikeDistance:Cn.spikeDistance,curveNumber:Cn.trace.index,color:Cn.color,pointNumber:Cn.index}:null}var Fe={fullLayout:xt,container:xt._hoverlayer,event:H},Re=W._spikepoints,Ce={vLinePoint:Ne.vLinePoint,hLinePoint:Ne.hLinePoint};W._spikepoints=Ce;var We=function(){var Cn=Bt.filter(function(qr){return Et&&Et._id===qr.xa._id&&Nt&&Nt._id===qr.ya._id}),ur=Bt.filter(function(qr){return!(Et&&Et._id===qr.xa._id&&Nt&&Nt._id===qr.ya._id)});Cn.sort(w),ur.sort(w),Bt=Cn.concat(ur),Bt=Z(Bt,At)};We();var er=At.charAt(0),Ue=(er==="x"||er==="y")&&Bt[0]&&M[Bt[0].trace.type];if(vt&&Wt!==0&&Bt.length!==0){var ar=Bt.filter(function(Cn){return Cn.ya.showspikes}),It=Ae(ar,Wt,Ue);Ne.hLinePoint=Ee(It);var Ut=Bt.filter(function(Cn){return Cn.xa.showspikes}),Me=Ae(Ut,Wt,Ue);Ne.vLinePoint=Ee(Me)}if(Bt.length===0){var ke=o.unhoverRaw(W,H);return vt&&(Ne.hLinePoint!==null||Ne.vLinePoint!==null)&&nt(Re)&&J(W,Ne,Fe),ke}if(vt&&nt(Re)&&J(W,Ne,Fe),h.isXYhover(re)&&Bt[0].length!==0&&Bt[0].trace.type!=="splom"){var qe=Bt[0];m[qe.trace.type]?Bt=Bt.filter(function(Cn){return Cn.trace.index===qe.trace.index}):Bt=[qe];var Ke=Bt.length,Je=$("x",qe,xt),Ve=$("y",qe,xt);he(Je,Ve);var Pe=[],rr={},lr=0,cr=function(Cn){var ur=m[Cn.trace.type]?O(Cn):Cn.trace.index;if(!rr[ur])lr++,rr[ur]=lr,Pe.push(Cn);else{var qr=rr[ur]-1,Ur=Pe[qr];qr>0&&Math.abs(Cn.distance)<Math.abs(Ur.distance)&&(Pe[qr]=Cn)}},ir;for(ir=0;ir<Ke;ir++)cr(Bt[ir]);for(ir=Bt.length-1;ir>Ke-1;ir--)cr(Bt[ir]);Bt=Pe,We()}var Er=W._hoverdata,kr=[],Mr=G(W),$r=rt(W);for(dt=0;dt<Bt.length;dt++){var Gr=Bt[dt],vn=h.makeEventData(Gr,Gr.trace,Gr.cd);if(Gr.hovertemplate!==!1){var yn=!1;Gr.cd[Gr.index]&&Gr.cd[Gr.index].ht&&(yn=Gr.cd[Gr.index].ht),Gr.hovertemplate=yn||Gr.trace.hovertemplate||!1}if(Gr.xa&&Gr.ya){var hr=Gr.x0+Gr.xa._offset,Lr=Gr.x1+Gr.xa._offset,Ir=Gr.y0+Gr.ya._offset,Rr=Gr.y1+Gr.ya._offset,on=Math.min(hr,Lr),an=Math.max(hr,Lr),gn=Math.min(Ir,Rr),Mn=Math.max(Ir,Rr);vn.bbox={x0:on+$r,x1:an+$r,y0:gn+Mr,y1:Mn+Mr}}Gr.eventData=[vn],kr.push(vn)}W._hoverdata=kr;var Pn=At==="y"&&(Mt.length>1||Bt.length>1)||At==="closest"&&pr&&Bt.length>1,Kn=s.combine(xt.plot_bgcolor||s.background,xt.paper_bgcolor),ai=P(Bt,{gd:W,hovermode:At,rotateLabels:Pn,bgColor:Kn,container:xt._hoverlayer,outerContainer:xt._paper.node(),commonLabelOpts:xt.hoverlabel,hoverdistance:xt.hoverdistance}),ui=ai.hoverLabels;if(h.isUnifiedHover(At)||(R(ui,Pn,xt,ai.commonLabelBoundingBox),q(ui,Pn,xt._invScaleX,xt._invScaleY)),ct&&ct.tagName){var ni=b.getComponentMethod("annotations","hasClickToShow")(W,kr);l(E.select(ct),ni?"pointer":"")}!ct||Q||!it(W,H,Er)||(Er&&W.emit("plotly_unhover",{event:H,points:Er}),W.emit("plotly_hover",{event:H,points:W._hoverdata,xaxes:ce,yaxes:le,xvals:St,yvals:Dt}))}function O(W){return[W.trace.index,W.index,W.x0,W.y0,W.name,W.attr,W.xa?W.xa._id:"",W.ya?W.ya._id:""].join(",")}var D=/<extra>([\s\S]*)<\/extra>/;function P(W,H){var at=H.gd,Q=at._fullLayout,ct=H.hovermode,ft=H.rotateLabels,yt=H.bgColor,xt=H.container,Lt=H.outerContainer,gt=H.commonLabelOpts||{};if(W.length===0)return[[]];var mt=H.fontFamily||_.HOVERFONT,vt=H.fontSize||_.HOVERFONTSIZE,At=H.fontWeight||Q.font.weight,Ot=H.fontStyle||Q.font.style,Pt=H.fontVariant||Q.font.variant,Et=W[0],Nt=Et.xa,ne=Et.ya,Gt=ct.charAt(0),pe=Gt+"Label",Vt=Et[pe];if(Vt===void 0&&Nt.type==="multicategory")for(var ae=0;ae<W.length&&(Vt=W[ae][pe],Vt===void 0);ae++);var oe=ot(at,Lt),ce=oe.top,le=oe.width,ye=oe.height,Tt=Vt!==void 0&&Et.distance<=H.hoverdistance&&(ct==="x"||ct==="y");if(Tt){var Ft=!0,$t,Wt;for($t=0;$t<W.length;$t++)if(Ft&&W[$t].zLabel===void 0&&(Ft=!1),Wt=W[$t].hoverinfo||W[$t].trace.hoverinfo,Wt){var Bt=Array.isArray(Wt)?Wt:Wt.split("+");if(Bt.indexOf("all")===-1&&Bt.indexOf(ct)===-1){Tt=!1;break}}Ft&&(Tt=!1)}var Mt=xt.selectAll("g.axistext").data(Tt?[0]:[]);Mt.enter().append("g").classed("axistext",!0),Mt.exit().remove();var St={minX:0,maxX:0,minY:0,maxY:0};if(Mt.each(function(){var Ue=E.select(this),ar=L.ensureSingle(Ue,"path","",function(hr){hr.style({"stroke-width":"1px"})}),It=L.ensureSingle(Ue,"text","",function(hr){hr.attr("data-notex",1)}),Ut=gt.bgcolor||s.defaultLine,Me=gt.bordercolor||s.contrast(Ut),ke=s.contrast(Ut),qe={weight:gt.font.weight||At,style:gt.font.style||Ot,variant:gt.font.variant||Pt,family:gt.font.family||mt,size:gt.font.size||vt,color:gt.font.color||ke};ar.style({fill:Ut,stroke:Me}),It.text(Vt).call(n.font,qe).call(e.positionText,0,0).call(e.convertToTspans,at),Ue.attr("transform","");var Ke=ot(at,It.node()),Je,Ve;if(ct==="x"){var Pe=Nt.side==="top"?"-":"";It.attr("text-anchor","middle").call(e.positionText,0,Nt.side==="top"?ce-Ke.bottom-C-u:ce-Ke.top+C+u),Je=Nt._offset+(Et.x0+Et.x1)/2,Ve=ne._offset+(Nt.side==="top"?0:ne._length);var rr=Ke.width/2+u,lr=Je;Je<rr?lr=rr:Je>Q.width-rr&&(lr=Q.width-rr),ar.attr("d","M"+(Je-lr)+",0L"+(Je-lr+C)+","+Pe+C+"H"+rr+"v"+Pe+(u*2+Ke.height)+"H"+-rr+"V"+Pe+C+"H"+(Je-lr-C)+"Z"),Je=lr,St.minX=Je-rr,St.maxX=Je+rr,Nt.side==="top"?(St.minY=Ve-(u*2+Ke.height),St.maxY=Ve-u):(St.minY=Ve+u,St.maxY=Ve+(u*2+Ke.height))}else{var cr,ir,Er;ne.side==="right"?(cr="start",ir=1,Er="",Je=Nt._offset+Nt._length):(cr="end",ir=-1,Er="-",Je=Nt._offset),Ve=ne._offset+(Et.y0+Et.y1)/2,It.attr("text-anchor",cr),ar.attr("d","M0,0L"+Er+C+","+C+"V"+(u+Ke.height/2)+"h"+Er+(u*2+Ke.width)+"V-"+(u+Ke.height/2)+"H"+Er+C+"V-"+C+"Z"),St.minY=Ve-(u+Ke.height/2),St.maxY=Ve+(u+Ke.height/2),ne.side==="right"?(St.minX=Je+C,St.maxX=Je+C+(u*2+Ke.width)):(St.minX=Je-C-(u*2+Ke.width),St.maxX=Je-C);var kr=Ke.height/2,Mr=ce-Ke.top-kr,$r="clip"+Q._uid+"commonlabel"+ne._id,Gr;if(Je<Ke.width+2*u+C){Gr="M-"+(C+u)+"-"+kr+"h-"+(Ke.width-u)+"V"+kr+"h"+(Ke.width-u)+"Z";var vn=Ke.width-Je+u;e.positionText(It,vn,Mr),cr==="end"&&It.selectAll("tspan").each(function(){var hr=E.select(this),Lr=n.tester.append("text").text(hr.text()).call(n.font,qe),Ir=ot(at,Lr.node());Math.round(Ir.width)<Math.round(Ke.width)&&hr.attr("x",vn-Ir.width),Lr.remove()})}else e.positionText(It,ir*(u+C),Mr),Gr=null;var yn=Q._topclips.selectAll("#"+$r).data(Gr?[0]:[]);yn.enter().append("clipPath").attr("id",$r).append("path"),yn.exit().remove(),yn.select("path").attr("d",Gr),n.setClipUrl(It,Gr?$r:null,at)}Ue.attr("transform",v(Je,Ve))}),h.isUnifiedHover(ct)){xt.selectAll("g.hovertext").remove();var Dt=W.filter(function(Ue){return Ue.hoverinfo!=="none"});if(Dt.length===0)return[];var dt=Q.hoverlabel,ht=dt.font,bt={showlegend:!0,legend:{title:{text:Vt,font:ht},font:ht,bgcolor:dt.bgcolor,bordercolor:dt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Q.legend?Q.legend.traceorder:void 0,orientation:"v"}},zt={font:ht};a(bt,zt,at._fullData);var qt=zt.legend;qt.entries=[];for(var te=0;te<Dt.length;te++){var re=Dt[te];if(re.hoverinfo!=="none"){var Ye=F(re,!0,ct,Q,Vt),Be=Ye[0],ge=Ye[1];re.name=ge,ge!==""?re.text=ge+" : "+Be:re.text=Be;var be=re.cd[re.index];be&&(be.mc&&(re.mc=be.mc),be.mcc&&(re.mc=be.mcc),be.mlc&&(re.mlc=be.mlc),be.mlcc&&(re.mlc=be.mlcc),be.mlw&&(re.mlw=be.mlw),be.mrc&&(re.mrc=be.mrc),be.dir&&(re.dir=be.dir)),re._distinct=!0,qt.entries.push([re])}}qt.entries.sort(function(Ue,ar){return Ue[0].trace.index-ar[0].trace.index}),qt.layer=xt,qt._inHover=!0,qt._groupTitleFont=dt.grouptitlefont,c(at,qt);var Ne=xt.select("g.legend"),pr=ot(at,Ne.node()),fe=pr.width+2*u,De=pr.height+2*u,Ge=Dt[0],vr=(Ge.x0+Ge.x1)/2,$e=(Ge.y0+Ge.y1)/2,Kt=!(b.traceIs(Ge.trace,"bar-like")||b.traceIs(Ge.trace,"box-violin")),ie,he;Gt==="y"?Kt?(he=$e-u,ie=$e+u):(he=Math.min.apply(null,Dt.map(function(Ue){return Math.min(Ue.y0,Ue.y1)})),ie=Math.max.apply(null,Dt.map(function(Ue){return Math.max(Ue.y0,Ue.y1)}))):he=ie=L.mean(Dt.map(function(Ue){return(Ue.y0+Ue.y1)/2}))-De/2;var Ae,Ee;Gt==="x"?Kt?(Ae=vr+u,Ee=vr-u):(Ae=Math.max.apply(null,Dt.map(function(Ue){return Math.max(Ue.x0,Ue.x1)})),Ee=Math.min.apply(null,Dt.map(function(Ue){return Math.min(Ue.x0,Ue.x1)}))):Ae=Ee=L.mean(Dt.map(function(Ue){return(Ue.x0+Ue.x1)/2}))-fe/2;var Fe=Nt._offset,Re=ne._offset;ie+=Re,Ae+=Fe,Ee+=Fe-fe,he+=Re-De;var Ce,We;return Ae+fe<le&&Ae>=0?Ce=Ae:Ee+fe<le&&Ee>=0?Ce=Ee:Fe+fe<le?Ce=Fe:Ae-vr<vr-Ee+fe?Ce=le-fe:Ce=0,Ce+=u,ie+De<ye&&ie>=0?We=ie:he+De<ye&&he>=0?We=he:Re+De<ye?We=Re:ie-$e<$e-he+De?We=ye-De:We=0,We+=u,Ne.attr("transform",v(Ce-1,We-1)),Ne}var er=xt.selectAll("g.hovertext").data(W,function(Ue){return O(Ue)});return er.enter().append("g").classed("hovertext",!0).each(function(){var Ue=E.select(this);Ue.append("rect").call(s.fill,s.addOpacity(yt,.8)),Ue.append("text").classed("name",!0),Ue.append("path").style("stroke-width","1px"),Ue.append("text").classed("nums",!0).call(n.font,{weight:At,style:Ot,variant:Pt,family:mt,size:vt})}),er.exit().remove(),er.each(function(Ue){var ar=E.select(this).attr("transform",""),It=Ue.color;Array.isArray(It)&&(It=It[Ue.eventData[0].pointNumber]);var Ut=Ue.bgcolor||It,Me=s.combine(s.opacity(Ut)?Ut:s.defaultLine,yt),ke=s.combine(s.opacity(It)?It:s.defaultLine,yt),qe=Ue.borderColor||s.contrast(Me),Ke=F(Ue,Tt,ct,Q,Vt,ar),Je=Ke[0],Ve=Ke[1],Pe=ar.select("text.nums").call(n.font,{family:Ue.fontFamily||mt,size:Ue.fontSize||vt,color:Ue.fontColor||qe,weight:Ue.fontWeight||At,style:Ue.fontStyle||Ot,variant:Ue.fontVariant||Pt}).text(Je).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,at),rr=ar.select("text.name"),lr=0,cr=0;if(Ve&&Ve!==Je){rr.call(n.font,{family:Ue.fontFamily||mt,size:Ue.fontSize||vt,color:ke,weight:Ue.fontWeight||At,style:Ue.fontStyle||Ot,variant:Ue.fontVariant||Pt}).text(Ve).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,at);var ir=ot(at,rr.node());lr=ir.width+2*u,cr=ir.height+2*u}else rr.remove(),ar.select("rect").remove();ar.select("path").style({fill:Me,stroke:qe});var Er=Ue.xa._offset+(Ue.x0+Ue.x1)/2,kr=Ue.ya._offset+(Ue.y0+Ue.y1)/2,Mr=Math.abs(Ue.x1-Ue.x0),$r=Math.abs(Ue.y1-Ue.y0),Gr=ot(at,Pe.node()),vn=Gr.width/Q._invScaleX,yn=Gr.height/Q._invScaleY;Ue.ty0=(ce-Gr.top)/Q._invScaleY,Ue.bx=vn+2*u,Ue.by=Math.max(yn+2*u,cr),Ue.anchor="start",Ue.txwidth=vn,Ue.tx2width=lr,Ue.offset=0;var hr=(vn+C+u+lr)*Q._invScaleX,Lr,Ir;if(ft)Ue.pos=Er,Lr=kr+$r/2+hr<=ye,Ir=kr-$r/2-hr>=0,(Ue.idealAlign==="top"||!Lr)&&Ir?(kr-=$r/2,Ue.anchor="end"):Lr?(kr+=$r/2,Ue.anchor="start"):Ue.anchor="middle",Ue.crossPos=kr;else{if(Ue.pos=kr,Lr=Er+Mr/2+hr<=le,Ir=Er-Mr/2-hr>=0,(Ue.idealAlign==="left"||!Lr)&&Ir)Er-=Mr/2,Ue.anchor="end";else if(Lr)Er+=Mr/2,Ue.anchor="start";else{Ue.anchor="middle";var Rr=hr/2,on=Er+Rr-le,an=Er-Rr;on>0&&(Er-=on),an<0&&(Er+=-an)}Ue.crossPos=Er}Pe.attr("text-anchor",Ue.anchor),lr&&rr.attr("text-anchor",Ue.anchor),ar.attr("transform",v(Er,kr)+(ft?d(p):""))}),{hoverLabels:er,commonLabelBoundingBox:St}}function F(W,H,at,Q,ct,ft){var yt="",xt="";W.nameOverride!==void 0&&(W.name=W.nameOverride),W.name&&(W.trace._meta&&(W.name=L.templateString(W.name,W.trace._meta)),yt=Y(W.name,W.nameLength));var Lt=at.charAt(0),gt=Lt==="x"?"y":"x";W.zLabel!==void 0?(W.xLabel!==void 0&&(xt+="x: "+W.xLabel+"<br>"),W.yLabel!==void 0&&(xt+="y: "+W.yLabel+"<br>"),W.trace.type!=="choropleth"&&W.trace.type!=="choroplethmapbox"&&(xt+=(xt?"z: ":"")+W.zLabel)):H&&W[Lt+"Label"]===ct?xt=W[gt+"Label"]||"":W.xLabel===void 0?W.yLabel!==void 0&&W.trace.type!=="scattercarpet"&&(xt=W.yLabel):W.yLabel===void 0?xt=W.xLabel:xt="("+W.xLabel+", "+W.yLabel+")",(W.text||W.text===0)&&!Array.isArray(W.text)&&(xt+=(xt?"<br>":"")+W.text),W.extraText!==void 0&&(xt+=(xt?"<br>":"")+W.extraText),ft&&xt===""&&!W.hovertemplate&&(yt===""&&ft.remove(),xt=yt);var mt=W.hovertemplate||!1;if(mt){var vt=W.hovertemplateLabels||W;W[Lt+"Label"]!==ct&&(vt[Lt+"other"]=vt[Lt+"Val"],vt[Lt+"otherLabel"]=vt[Lt+"Label"]),xt=L.hovertemplateString(mt,vt,Q._d3locale,W.eventData[0]||{},W.trace._meta),xt=xt.replace(D,function(At,Ot){return yt=Y(Ot,W.nameLength),""})}return[xt,yt]}function R(W,H,at,Q){var ct=H?"xa":"ya",ft=H?"ya":"xa",yt=0,xt=1,Lt=W.size(),gt=new Array(Lt),mt=0,vt=Q.minX,At=Q.maxX,Ot=Q.minY,Pt=Q.maxY,Et=function(St){return St*at._invScaleX},Nt=function(St){return St*at._invScaleY};W.each(function(St){var Dt=St[ct],dt=St[ft],ht=Dt._id.charAt(0)==="x",bt=Dt.range;mt===0&&bt&&bt[0]>bt[1]!==ht&&(xt=-1);var zt=0,qt=ht?at.width:at.height;if(at.hovermode==="x"||at.hovermode==="y"){var te=N(St,H),re=St.anchor,Ye=re==="end"?-1:1,Be,ge;if(re==="middle")Be=St.crossPos+(ht?Nt(te.y-St.by/2):Et(St.bx/2+St.tx2width/2)),ge=Be+(ht?Nt(St.by):Et(St.bx));else if(ht)Be=St.crossPos+Nt(C+te.y)-Nt(St.by/2-C),ge=Be+Nt(St.by);else{var be=Et(Ye*C+te.x),Ne=be+Et(Ye*St.bx);Be=St.crossPos+Math.min(be,Ne),ge=St.crossPos+Math.max(be,Ne)}ht?Ot!==void 0&&Pt!==void 0&&Math.min(ge,Pt)-Math.max(Be,Ot)>1&&(dt.side==="left"?(zt=dt._mainLinePosition,qt=at.width):qt=dt._mainLinePosition):vt!==void 0&&At!==void 0&&Math.min(ge,At)-Math.max(Be,vt)>1&&(dt.side==="top"?(zt=dt._mainLinePosition,qt=at.height):qt=dt._mainLinePosition)}gt[mt++]=[{datum:St,traceIndex:St.trace.index,dp:0,pos:St.pos,posref:St.posref,size:St.by*(ht?k:1)/2,pmin:zt,pmax:qt}]}),gt.sort(function(St,Dt){return St[0].posref-Dt[0].posref||xt*(Dt[0].traceIndex-St[0].traceIndex)});var ne,Gt,pe,Vt,ae,oe,ce;function le(St){var Dt=St[0],dt=St[St.length-1];if(Gt=Dt.pmin-Dt.pos-Dt.dp+Dt.size,pe=dt.pos+dt.dp+dt.size-Dt.pmax,Gt>.01){for(ae=St.length-1;ae>=0;ae--)St[ae].dp+=Gt;ne=!1}if(!(pe<.01)){if(Gt<-.01){for(ae=St.length-1;ae>=0;ae--)St[ae].dp-=pe;ne=!1}if(ne){var ht=0;for(Vt=0;Vt<St.length;Vt++)oe=St[Vt],oe.pos+oe.dp+oe.size>Dt.pmax&&ht++;for(Vt=St.length-1;Vt>=0&&!(ht<=0);Vt--)oe=St[Vt],oe.pos>Dt.pmax-1&&(oe.del=!0,ht--);for(Vt=0;Vt<St.length&&!(ht<=0);Vt++)if(oe=St[Vt],oe.pos<Dt.pmin+1)for(oe.del=!0,ht--,pe=oe.size*2,ae=St.length-1;ae>=0;ae--)St[ae].dp-=pe;for(Vt=St.length-1;Vt>=0&&!(ht<=0);Vt--)oe=St[Vt],oe.pos+oe.dp+oe.size>Dt.pmax&&(oe.del=!0,ht--)}}}for(;!ne&&yt<=Lt;){for(yt++,ne=!0,Vt=0;Vt<gt.length-1;){var ye=gt[Vt],Tt=gt[Vt+1],Ft=ye[ye.length-1],$t=Tt[0];if(Gt=Ft.pos+Ft.dp+Ft.size-$t.pos-$t.dp+$t.size,Gt>.01&&Ft.pmin===$t.pmin&&Ft.pmax===$t.pmax){for(ae=Tt.length-1;ae>=0;ae--)Tt[ae].dp+=Gt;for(ye.push.apply(ye,Tt),gt.splice(Vt+1,1),ce=0,ae=ye.length-1;ae>=0;ae--)ce+=ye[ae].dp;for(pe=ce/ye.length,ae=ye.length-1;ae>=0;ae--)ye[ae].dp-=pe;ne=!1}else Vt++}gt.forEach(le)}for(Vt=gt.length-1;Vt>=0;Vt--){var Wt=gt[Vt];for(ae=Wt.length-1;ae>=0;ae--){var Bt=Wt[ae],Mt=Bt.datum;Mt.offset=Bt.dp,Mt.del=Bt.del}}}function N(W,H){var at=0,Q=W.offset;return H&&(Q*=-A,at=W.offset*y),{x:at,y:Q}}function B(W){var H={start:1,end:-1,middle:0}[W.anchor],at=H*(C+u),Q=at+H*(W.txwidth+u),ct=W.anchor==="middle";return ct&&(at-=W.tx2width/2,Q+=W.txwidth/2+u),{alignShift:H,textShiftX:at,text2ShiftX:Q}}function q(W,H,at,Q){var ct=function(yt){return yt*at},ft=function(yt){return yt*Q};W.each(function(yt){var xt=E.select(this);if(yt.del)return xt.remove();var Lt=xt.select("text.nums"),gt=yt.anchor,mt=gt==="end"?-1:1,vt=B(yt),At=N(yt,H),Ot=At.x,Pt=At.y,Et=gt==="middle";xt.select("path").attr("d",Et?"M-"+ct(yt.bx/2+yt.tx2width/2)+","+ft(Pt-yt.by/2)+"h"+ct(yt.bx)+"v"+ft(yt.by)+"h-"+ct(yt.bx)+"Z":"M0,0L"+ct(mt*C+Ot)+","+ft(C+Pt)+"v"+ft(yt.by/2-C)+"h"+ct(mt*yt.bx)+"v-"+ft(yt.by)+"H"+ct(mt*C+Ot)+"V"+ft(Pt-C)+"Z");var Nt=Ot+vt.textShiftX,ne=Pt+yt.ty0-yt.by/2+u,Gt=yt.textAlign||"auto";Gt!=="auto"&&(Gt==="left"&&gt!=="start"?(Lt.attr("text-anchor","start"),Nt=Et?-yt.bx/2-yt.tx2width/2+u:-yt.bx-u):Gt==="right"&&gt!=="end"&&(Lt.attr("text-anchor","end"),Nt=Et?yt.bx/2-yt.tx2width/2-u:yt.bx+u)),Lt.call(e.positionText,ct(Nt),ft(ne)),yt.tx2width&&(xt.select("text.name").call(e.positionText,ct(vt.text2ShiftX+vt.alignShift*u+Ot),ft(Pt+yt.ty0-yt.by/2+u)),xt.select("rect").call(n.setRect,ct(vt.text2ShiftX+(vt.alignShift-1)*yt.tx2width/2+Ot),ft(Pt-yt.by/2-1),ct(yt.tx2width),ft(yt.by+2)))})}function V(W,H){var at=W.index,Q=W.trace||{},ct=W.cd[0],ft=W.cd[at]||{};function yt(At){return At||S(At)&&At===0}var xt=Array.isArray(at)?function(At,Ot){var Pt=L.castOption(ct,at,At);return yt(Pt)?Pt:L.extractOption({},Q,"",Ot)}:function(At,Ot){return L.extractOption(ft,Q,At,Ot)};function Lt(At,Ot,Pt){var Et=xt(Ot,Pt);yt(Et)&&(W[At]=Et)}if(Lt("hoverinfo","hi","hoverinfo"),Lt("bgcolor","hbg","hoverlabel.bgcolor"),Lt("borderColor","hbc","hoverlabel.bordercolor"),Lt("fontFamily","htf","hoverlabel.font.family"),Lt("fontSize","hts","hoverlabel.font.size"),Lt("fontColor","htc","hoverlabel.font.color"),Lt("fontWeight","htw","hoverlabel.font.weight"),Lt("fontStyle","hty","hoverlabel.font.style"),Lt("fontVariant","htv","hoverlabel.font.variant"),Lt("nameLength","hnl","hoverlabel.namelength"),Lt("textAlign","hta","hoverlabel.align"),W.posref=H==="y"||H==="closest"&&Q.orientation==="h"?W.xa._offset+(W.x0+W.x1)/2:W.ya._offset+(W.y0+W.y1)/2,W.x0=L.constrain(W.x0,0,W.xa._length),W.x1=L.constrain(W.x1,0,W.xa._length),W.y0=L.constrain(W.y0,0,W.ya._length),W.y1=L.constrain(W.y1,0,W.ya._length),W.xLabelVal!==void 0&&(W.xLabel="xLabel"in W?W.xLabel:f.hoverLabelText(W.xa,W.xLabelVal,Q.xhoverformat),W.xVal=W.xa.c2d(W.xLabelVal)),W.yLabelVal!==void 0&&(W.yLabel="yLabel"in W?W.yLabel:f.hoverLabelText(W.ya,W.yLabelVal,Q.yhoverformat),W.yVal=W.ya.c2d(W.yLabelVal)),W.zLabelVal!==void 0&&W.zLabel===void 0&&(W.zLabel=String(W.zLabelVal)),!isNaN(W.xerr)&&!(W.xa.type==="log"&&W.xerr<=0)){var gt=f.tickText(W.xa,W.xa.c2l(W.xerr),"hover").text;W.xerrneg!==void 0?W.xLabel+=" +"+gt+" / -"+f.tickText(W.xa,W.xa.c2l(W.xerrneg),"hover").text:W.xLabel+=" \xB1 "+gt,H==="x"&&(W.distance+=1)}if(!isNaN(W.yerr)&&!(W.ya.type==="log"&&W.yerr<=0)){var mt=f.tickText(W.ya,W.ya.c2l(W.yerr),"hover").text;W.yerrneg!==void 0?W.yLabel+=" +"+mt+" / -"+f.tickText(W.ya,W.ya.c2l(W.yerrneg),"hover").text:W.yLabel+=" \xB1 "+mt,H==="y"&&(W.distance+=1)}var vt=W.hoverinfo||W.trace.hoverinfo;return vt&&vt!=="all"&&(vt=Array.isArray(vt)?vt:vt.split("+"),vt.indexOf("x")===-1&&(W.xLabel=void 0),vt.indexOf("y")===-1&&(W.yLabel=void 0),vt.indexOf("z")===-1&&(W.zLabel=void 0),vt.indexOf("text")===-1&&(W.text=void 0),vt.indexOf("name")===-1&&(W.name=void 0)),W}function J(W,H,at){var Q=at.container,ct=at.fullLayout,ft=ct._size,yt=at.event,xt=!!H.hLinePoint,Lt=!!H.vLinePoint,gt,mt;if(Q.selectAll(".spikeline").remove(),!!(Lt||xt)){var vt=s.combine(ct.plot_bgcolor,ct.paper_bgcolor);if(xt){var At=H.hLinePoint,Ot,Pt;gt=At&&At.xa,mt=At&&At.ya;var Et=mt.spikesnap;Et==="cursor"?(Ot=yt.pointerX,Pt=yt.pointerY):(Ot=gt._offset+At.x,Pt=mt._offset+At.y);var Nt=i.readability(At.color,vt)<1.5?s.contrast(vt):At.color,ne=mt.spikemode,Gt=mt.spikethickness,pe=mt.spikecolor||Nt,Vt=f.getPxPosition(W,mt),ae,oe;if(ne.indexOf("toaxis")!==-1||ne.indexOf("across")!==-1){if(ne.indexOf("toaxis")!==-1&&(ae=Vt,oe=Ot),ne.indexOf("across")!==-1){var ce=mt._counterDomainMin,le=mt._counterDomainMax;mt.anchor==="free"&&(ce=Math.min(ce,mt.position),le=Math.max(le,mt.position)),ae=ft.l+ce*ft.w,oe=ft.l+le*ft.w}Q.insert("line",":first-child").attr({x1:ae,x2:oe,y1:Pt,y2:Pt,"stroke-width":Gt,stroke:pe,"stroke-dasharray":n.dashStyle(mt.spikedash,Gt)}).classed("spikeline",!0).classed("crisp",!0),Q.insert("line",":first-child").attr({x1:ae,x2:oe,y1:Pt,y2:Pt,"stroke-width":Gt+2,stroke:vt}).classed("spikeline",!0).classed("crisp",!0)}ne.indexOf("marker")!==-1&&Q.insert("circle",":first-child").attr({cx:Vt+(mt.side!=="right"?Gt:-Gt),cy:Pt,r:Gt,fill:pe}).classed("spikeline",!0)}if(Lt){var ye=H.vLinePoint,Tt,Ft;gt=ye&&ye.xa,mt=ye&&ye.ya;var $t=gt.spikesnap;$t==="cursor"?(Tt=yt.pointerX,Ft=yt.pointerY):(Tt=gt._offset+ye.x,Ft=mt._offset+ye.y);var Wt=i.readability(ye.color,vt)<1.5?s.contrast(vt):ye.color,Bt=gt.spikemode,Mt=gt.spikethickness,St=gt.spikecolor||Wt,Dt=f.getPxPosition(W,gt),dt,ht;if(Bt.indexOf("toaxis")!==-1||Bt.indexOf("across")!==-1){if(Bt.indexOf("toaxis")!==-1&&(dt=Dt,ht=Ft),Bt.indexOf("across")!==-1){var bt=gt._counterDomainMin,zt=gt._counterDomainMax;gt.anchor==="free"&&(bt=Math.min(bt,gt.position),zt=Math.max(zt,gt.position)),dt=ft.t+(1-zt)*ft.h,ht=ft.t+(1-bt)*ft.h}Q.insert("line",":first-child").attr({x1:Tt,x2:Tt,y1:dt,y2:ht,"stroke-width":Mt,stroke:St,"stroke-dasharray":n.dashStyle(gt.spikedash,Mt)}).classed("spikeline",!0).classed("crisp",!0),Q.insert("line",":first-child").attr({x1:Tt,x2:Tt,y1:dt,y2:ht,"stroke-width":Mt+2,stroke:vt}).classed("spikeline",!0).classed("crisp",!0)}Bt.indexOf("marker")!==-1&&Q.insert("circle",":first-child").attr({cx:Tt,cy:Dt-(gt.side!=="top"?Mt:-Mt),r:Mt,fill:St}).classed("spikeline",!0)}}}function it(W,H,at){if(!at||at.length!==W._hoverdata.length)return!0;for(var Q=at.length-1;Q>=0;Q--){var ct=at[Q],ft=W._hoverdata[Q];if(ct.curveNumber!==ft.curveNumber||String(ct.pointNumber)!==String(ft.pointNumber)||String(ct.pointNumbers)!==String(ft.pointNumbers))return!0}return!1}function nt(W,H){return!H||H.vLinePoint!==W._spikepoints.vLinePoint||H.hLinePoint!==W._spikepoints.hLinePoint}function Y(W,H){return e.plainText(W||"",{len:H,allowedTags:["br","sub","sup","b","i","em"]})}function Z(W,H){for(var at=H.charAt(0),Q=[],ct=[],ft=[],yt=0;yt<W.length;yt++){var xt=W[yt];b.traceIs(xt.trace,"bar-like")||b.traceIs(xt.trace,"box-violin")?ft.push(xt):xt.trace[at+"period"]?ct.push(xt):Q.push(xt)}return Q.concat(ct).concat(ft)}function $(W,H,at){var Q=H[W+"a"],ct=H[W+"Val"],ft=H.cd[0];if(Q.type==="category"||Q.type==="multicategory")ct=Q._categoriesMap[ct];else if(Q.type==="date"){var yt=H.trace[W+"periodalignment"];if(yt){var xt=H.cd[H.index],Lt=xt[W+"Start"];Lt===void 0&&(Lt=xt[W]);var gt=xt[W+"End"];gt===void 0&&(gt=xt[W]);var mt=gt-Lt;yt==="end"?ct+=mt:yt==="middle"&&(ct+=mt/2)}ct=Q.d2c(ct)}return ft&&ft.t&&ft.t.posLetter===Q._id&&(at.boxmode==="group"||at.violinmode==="group")&&(ct+=ft.t.dPos),ct}function G(W){return W.offsetTop+W.clientTop}function rt(W){return W.offsetLeft+W.clientLeft}function ot(W,H){var at=W._fullLayout,Q=H.getBoundingClientRect(),ct=Q.left,ft=Q.top,yt=ct+Q.width,xt=ft+Q.height,Lt=L.apply3DTransform(at._invTransform)(ct,ft),gt=L.apply3DTransform(at._invTransform)(yt,xt),mt=Lt[0],vt=Lt[1],At=gt[0],Ot=gt[1];return{x:mt,y:vt,width:At-mt,height:Ot-vt,top:Math.min(vt,Ot),left:Math.min(mt,At),right:Math.max(mt,At),bottom:Math.max(vt,Ot)}}},16132:function(tt,U,t){var E=t(3400),S=t(76308),i=t(10624).isUnifiedHover;tt.exports=function(L,T,v,d){d=d||{};var r=T.legend;function e(l){d.font[l]||(d.font[l]=r?T.legend.font[l]:T.font[l])}T&&i(T.hovermode)&&(d.font||(d.font={}),e("size"),e("family"),e("color"),e("weight"),e("style"),e("variant"),r?(d.bgcolor||(d.bgcolor=S.combine(T.legend.bgcolor,T.paper_bgcolor)),d.bordercolor||(d.bordercolor=T.legend.bordercolor)):d.bgcolor||(d.bgcolor=T.paper_bgcolor)),v("hoverlabel.bgcolor",d.bgcolor),v("hoverlabel.bordercolor",d.bordercolor),v("hoverlabel.namelength",d.namelength),E.coerceFont(v,"hoverlabel.font",d.font),v("hoverlabel.align",d.align)}},41008:function(tt,U,t){var E=t(3400),S=t(65460);tt.exports=function(i,L){function T(v,d){return L[v]!==void 0?L[v]:E.coerce(i,L,S,v,d)}return T("clickmode"),T("hoversubplots"),T("hovermode")}},93024:function(tt,U,t){var E=t(33428),S=t(3400),i=t(86476),L=t(10624),T=t(65460),v=t(83292);tt.exports={moduleType:"component",name:"fx",constants:t(92456),schema:{layout:T},attributes:t(55756),layoutAttributes:T,supplyLayoutGlobalDefaults:t(81976),supplyDefaults:t(95448),supplyLayoutDefaults:t(88336),calc:t(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:e,hover:v.hover,unhover:i.unhover,loneHover:v.loneHover,loneUnhover:d,click:t(62376)};function d(l){var n=S.isD3Selection(l)?l:E.select(l);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(l,n,s){return S.castOption(l,n,"hoverlabel."+s)}function e(l,n,s){function o(f){return S.coerceHoverinfo({hoverinfo:f},{_module:l._module},n)}return S.castOption(l,s,"hoverinfo",o)}},65460:function(tt,U,t){var E=t(92456),S=t(25376),i=S({editType:"none"});i.family.dflt=E.HOVERFONT,i.size.dflt=E.HOVERFONTSIZE,tt.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:S({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(tt,U,t){var E=t(3400),S=t(65460),i=t(41008),L=t(16132);tt.exports=function(T,v){function d(o,f){return E.coerce(T,v,S,o,f)}var r=i(T,v);r&&(d("hoverdistance"),d("spikedistance"));var e=d("dragmode");e==="select"&&d("selectdirection");var l=v._has("mapbox"),n=v._has("geo"),s=v._basePlotModules.length;v.dragmode==="zoom"&&((l||n)&&s===1||l&&n&&s===2)&&(v.dragmode="pan"),L(T,v,d),E.coerceFont(d,"hoverlabel.grouptitlefont",v.hoverlabel.font)}},81976:function(tt,U,t){var E=t(3400),S=t(16132),i=t(65460);tt.exports=function(L,T){function v(d,r){return E.coerce(L,T,i,d,r)}S(L,T,v)}},12704:function(tt,U,t){var E=t(3400),S=t(53756).counter,i=t(86968).u,L=t(33816).idRegex,T=t(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[S("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(s,o,f){var b=o[f+"axes"],h=Object.keys((s._splomAxes||{})[f]||{});if(Array.isArray(b))return b;if(h.length)return h}function r(s,o){var f=s.grid||{},b=d(o,f,"x"),h=d(o,f,"y");if(!s.grid&&!b&&!h)return;var _=Array.isArray(f.subplots)&&Array.isArray(f.subplots[0]),a=Array.isArray(b),c=Array.isArray(h),p=a&&b!==f.xaxes&&c&&h!==f.yaxes,x,k;_?(x=f.subplots.length,k=f.subplots[0].length):(c&&(x=h.length),a&&(k=b.length));var y=T.newContainer(o,"grid");function A(F,R){return E.coerce(f,y,v,F,R)}var C=A("rows",x),u=A("columns",k);if(!(C*u>1)){delete o.grid;return}if(!_&&!a&&!c){var m=A("pattern")==="independent";m&&(_=!0)}y._hasSubplotGrid=_;var M=A("roworder"),w=M==="top to bottom",z=_?.2:.1,O=_?.3:.1,D,P;p&&o._splomGridDflt&&(D=o._splomGridDflt.xside,P=o._splomGridDflt.yside),y._domains={x:e("x",A,z,D,u),y:e("y",A,O,P,C,w)}}function e(s,o,f,b,h,_){var a=o(s+"gap",f),c=o("domain."+s);o(s+"side",b);for(var p=new Array(h),x=c[0],k=(c[1]-x)/(h-a),y=k*(1-a),A=0;A<h;A++){var C=x+k*A;p[_?h-1-A:A]=[C,C+y]}return p}function l(s,o){var f=o.grid;if(!(!f||!f._domains)){var b=s.grid||{},h=o._subplots,_=f._hasSubplotGrid,a=f.rows,c=f.columns,p=f.pattern==="independent",x,k,y,A,C,u,m,M=f._axisMap={};if(_){var w=b.subplots||[];u=f.subplots=new Array(a);var z=1;for(x=0;x<a;x++){var O=u[x]=new Array(c),D=w[x]||[];for(k=0;k<c;k++)if(p?(C=z===1?"xy":"x"+z+"y"+z,z++):C=D[k],O[k]="",h.cartesian.indexOf(C)!==-1){if(m=C.indexOf("y"),y=C.slice(0,m),A=C.slice(m),M[y]!==void 0&&M[y]!==k||M[A]!==void 0&&M[A]!==x)continue;O[k]=C,M[y]=k,M[A]=x}}}else{var P=d(o,b,"x"),F=d(o,b,"y");f.xaxes=n(P,h.xaxis,c,M,"x"),f.yaxes=n(F,h.yaxis,a,M,"y")}var R=f._anchors={},N=f.roworder==="top to bottom";for(var B in M){var q=B.charAt(0),V=f[q+"side"],J,it,nt;if(V.length<8)R[B]="free";else if(q==="x"){if(V.charAt(0)==="t"===N?(J=0,it=1,nt=a):(J=a-1,it=-1,nt=-1),_){var Y=M[B];for(x=J;x!==nt;x+=it)if(C=u[x][Y],!!C&&(m=C.indexOf("y"),C.slice(0,m)===B)){R[B]=C.slice(m);break}}else for(x=J;x!==nt;x+=it)if(A=f.yaxes[x],h.cartesian.indexOf(B+A)!==-1){R[B]=A;break}}else if(V.charAt(0)==="l"?(J=0,it=1,nt=c):(J=c-1,it=-1,nt=-1),_){var Z=M[B];for(x=J;x!==nt;x+=it)if(C=u[Z][x],!!C&&(m=C.indexOf("y"),C.slice(m)===B)){R[B]=C.slice(0,m);break}}else for(x=J;x!==nt;x+=it)if(y=f.xaxes[x],h.cartesian.indexOf(y+B)!==-1){R[B]=y;break}}}}function n(s,o,f,b,h){var _=new Array(f),a;function c(p,x){o.indexOf(x)!==-1&&b[x]===void 0?(_[p]=x,b[x]=p):_[p]=""}if(Array.isArray(s))for(a=0;a<f;a++)c(a,s[a]);else for(c(0,h),a=1;a<f;a++)c(a,h+(a+1));return _}tt.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:l}},65760:function(tt,U,t){var E=t(33816),S=t(31780).templatedArray;t(36208),tt.exports=S("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",E.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",E.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(tt,U,t){var E=t(38248),S=t(36896);tt.exports=function(i,L,T,v){L=L||{};var d=T==="log"&&L.type==="linear",r=T==="linear"&&L.type==="log";if(d||r){for(var e=i._fullLayout.images,l=L._id.charAt(0),n,s,o=0;o<e.length;o++)if(n=e[o],s="images["+o+"].",n[l+"ref"]===L._id){var f=n[l],b=n["size"+l],h=null,_=null;if(d){h=S(f,L.range);var a=b/Math.pow(10,h)/2;_=2*Math.log(a+Math.sqrt(1+a*a))/Math.LN10}else h=Math.pow(10,f),_=h*(Math.pow(10,b/2)-Math.pow(10,-b/2));E(h)?E(_)||(_=null):(h=null,_=null),v(s+l,h),v(s+"size"+l,_)}}}},25024:function(tt,U,t){var E=t(3400),S=t(54460),i=t(51272),L=t(65760),T="images";tt.exports=function(d,r){var e={name:T,handleItemDefaults:v};i(d,r,e)};function v(d,r,e){function l(c,p){return E.coerce(d,r,L,c,p)}var n=l("source"),s=l("visible",!!n);if(!s)return r;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var o={_fullLayout:e},f=["x","y"],b=0;b<2;b++){var h=f[b],_=S.coerceRef(d,r,o,h,"paper",void 0);if(_!=="paper"){var a=S.getFromId(o,_);a._imgIndices.push(r._index)}S.coercePosition(r,o,l,_,h,0)}return r}},60963:function(tt,U,t){var E=t(33428),S=t(43616),i=t(54460),L=t(79811),T=t(9616);tt.exports=function(v){var d=v._fullLayout,r=[],e={},l=[],n,s;for(s=0;s<d.images.length;s++){var o=d.images[s];if(o.visible)if(o.layer==="below"&&o.xref!=="paper"&&o.yref!=="paper"){n=L.ref2id(o.xref)+L.ref2id(o.yref);var f=d._plots[n];if(!f){l.push(o);continue}f.mainplot&&(n=f.mainplot.id),e[n]||(e[n]=[]),e[n].push(o)}else o.layer==="above"?r.push(o):l.push(o)}var b={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function h(y){var A=E.select(this);if(this._imgSrc!==y.source)if(A.attr("xmlns",T.svg),y.source&&y.source.slice(0,5)==="data:")A.attr("xlink:href",y.source),this._imgSrc=y.source;else{var C=new Promise((function(u){var m=new Image;this.img=m,m.setAttribute("crossOrigin","anonymous"),m.onerror=M,m.onload=function(){var w=document.createElement("canvas");w.width=this.width,w.height=this.height;var z=w.getContext("2d",{willReadFrequently:!0});z.drawImage(this,0,0);var O=w.toDataURL("image/png");A.attr("xlink:href",O),u()},A.on("error",M),m.src=y.source,this._imgSrc=y.source;function M(){A.remove(),u()}}).bind(this));v._promises.push(C)}}function _(y){var A=E.select(this),C=i.getFromId(v,y.xref),u=i.getFromId(v,y.yref),m=i.getRefType(y.xref)==="domain",M=i.getRefType(y.yref)==="domain",w=d._size,z,O;C!==void 0?z=typeof y.xref=="string"&&m?C._length*y.sizex:Math.abs(C.l2p(y.sizex)-C.l2p(0)):z=y.sizex*w.w,u!==void 0?O=typeof y.yref=="string"&&M?u._length*y.sizey:Math.abs(u.l2p(y.sizey)-u.l2p(0)):O=y.sizey*w.h;var D=z*b.x[y.xanchor].offset,P=O*b.y[y.yanchor].offset,F=b.x[y.xanchor].sizing+b.y[y.yanchor].sizing,R,N;switch(C!==void 0?R=typeof y.xref=="string"&&m?C._length*y.x+C._offset:C.r2p(y.x)+C._offset:R=y.x*w.w+w.l,R+=D,u!==void 0?N=typeof y.yref=="string"&&M?u._length*(1-y.y)+u._offset:u.r2p(y.y)+u._offset:N=w.h-y.y*w.h+w.t,N+=P,y.sizing){case"fill":F+=" slice";break;case"stretch":F="none";break}A.attr({x:R,y:N,width:z,height:O,preserveAspectRatio:F,opacity:y.opacity});var B=C&&i.getRefType(y.xref)!=="domain"?C._id:"",q=u&&i.getRefType(y.yref)!=="domain"?u._id:"",V=B+q;S.setClipUrl(A,V?"clip"+d._uid+V:null,v)}var a=d._imageLowerLayer.selectAll("image").data(l),c=d._imageUpperLayer.selectAll("image").data(r);a.enter().append("image"),c.enter().append("image"),a.exit().remove(),c.exit().remove(),a.each(function(y){h.bind(this)(y),_.bind(this)(y)}),c.each(function(y){h.bind(this)(y),_.bind(this)(y)});var p=Object.keys(d._plots);for(s=0;s<p.length;s++){n=p[s];var x=d._plots[n];if(x.imagelayer){var k=x.imagelayer.selectAll("image").data(e[n]||[]);k.enter().append("image"),k.exit().remove(),k.each(function(y){h.bind(this)(y),_.bind(this)(y)})}}}},7402:function(tt,U,t){tt.exports={moduleType:"component",name:"images",layoutAttributes:t(65760),supplyLayoutDefaults:t(25024),includeBasePlot:t(36632)("images"),draw:t(60963),convertCoords:t(63556)}},3800:function(tt,U,t){var E=t(25376),S=t(22548);tt.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:E({editType:"legend"}),grouptitlefont:E({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:E({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(tt){tt.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(tt,U,t){var E=t(24040),S=t(3400),i=t(31780),L=t(45464),T=t(3800),v=t(64859),d=t(42451);function r(e,l,n,s){var o=l[e]||{},f=i.newContainer(n,e);function b(nt,Y){return S.coerce(o,f,T,nt,Y)}var h=S.coerceFont(b,"font",n.font);b("bgcolor",n.paper_bgcolor),b("bordercolor");var _=b("visible");if(_){for(var a,c=function(nt,Y){var Z=a._input,$=a;return S.coerce(Z,$,L,nt,Y)},p=n.font||{},x=S.coerceFont(b,"grouptitlefont",S.extendFlat({},p,{size:Math.round(p.size*1.1)})),k=0,y=!1,A="normal",C=(n.shapes||[]).filter(function(nt){return nt.showlegend}),u=s.concat(C).filter(function(nt){return e===(nt.legend||"legend")}),m=0;m<u.length;m++)if(a=u[m],!!a.visible){var M=a._isShape;(a.showlegend||a._dfltShowLegend&&!(a._module&&a._module.attributes&&a._module.attributes.showlegend&&a._module.attributes.showlegend.dflt===!1))&&(k++,a.showlegend&&(y=!0,(!M&&E.traceIs(a,"pie-like")||a._input.showlegend===!0)&&k++),S.coerceFont(c,"legendgrouptitle.font",x)),(!M&&E.traceIs(a,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(a.fill)!==-1)&&(A=d.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),a.legendgroup!==void 0&&a.legendgroup!==""&&(A=d.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var w=S.coerce(l,n,v,"showlegend",y&&k>(e==="legend"?1:0));if(w===!1&&(n[e]=void 0),!(w===!1&&!o.uirevision)&&(b("uirevision",n.uirevision),w!==!1)){b("borderwidth");var z=b("orientation"),O=b("yref"),D=b("xref"),P=z==="h",F=O==="paper",R=D==="paper",N,B,q,V="left";P?(N=0,E.getComponentMethod("rangeslider","isVisible")(l.xaxis)?F?(B=1.1,q="bottom"):(B=1,q="top"):F?(B=-.1,q="top"):(B=0,q="bottom")):(B=1,q="auto",R?N=1.02:(N=1,V="right")),S.coerce(o,f,{x:{valType:"number",editType:"legend",min:R?-2:0,max:R?3:1,dflt:N}},"x"),S.coerce(o,f,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:B}},"y"),b("traceorder",A),d.isGrouped(n[e])&&b("tracegroupgap"),b("entrywidth"),b("entrywidthmode"),b("indentation"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("groupclick"),b("xanchor",V),b("yanchor",q),b("valign"),S.noneOrAll(o,f,["x","y"]);var J=b("title.text");if(J){b("title.side",P?"left":"top");var it=S.extendFlat({},h,{size:S.bigFont(h.size)});S.coerceFont(b,"title.font",it)}}}}tt.exports=function(e,l,n){var s,o=n.slice(),f=l.shapes;if(f)for(s=0;s<f.length;s++){var b=f[s];if(b.showlegend){var h={_input:b._input,visible:b.visible,showlegend:b.showlegend,legend:b.legend};o.push(h)}}var _=["legend"];for(s=0;s<o.length;s++)S.pushUnique(_,o[s].legend);for(l._legends=[],s=0;s<_.length;s++){var a=_[s];r(a,e,l,o),l[a]&&l[a].visible&&(l[a]._id=a),l._legends.push(a)}}},31140:function(tt,U,t){var E=t(33428),S=t(3400),i=t(7316),L=t(24040),T=t(95924),v=t(86476),d=t(43616),r=t(76308),e=t(72736),l=t(33048),n=t(65196),s=t(84284),o=s.LINE_SPACING,f=s.FROM_TL,b=s.FROM_BR,h=t(35456),_=t(2012),a=t(42451),c=1,p=/^legend[0-9]*$/;tt.exports=function(N,B){if(B)k(N,B);else{var q=N._fullLayout,V=q._legends,J=q._infolayer.selectAll('[class^="legend"]');J.each(function(){var Z=E.select(this),$=Z.attr("class"),G=$.split(" ")[0];G.match(p)&&V.indexOf(G)===-1&&Z.remove()});for(var it=0;it<V.length;it++){var nt=V[it],Y=N._fullLayout[nt];k(N,Y)}}};function x(N,B,q){if(!(B.title.side!=="top center"&&B.title.side!=="top right")){var V=B.title.font,J=V.size*o,it=0,nt=N.node(),Y=d.bBox(nt).width;B.title.side==="top center"?it=.5*(B._width-2*q-2*n.titlePad-Y):B.title.side==="top right"&&(it=B._width-2*q-2*n.titlePad-Y),e.positionText(N,q+n.titlePad+it,q+J)}}function k(N,B){var q=B||{},V=N._fullLayout,J=R(q),it,nt,Y=q._inHover;if(Y?(nt=q.layer,it="hover"):(nt=V._infolayer,it=J),!!nt){it+=V._uid,N._legendMouseDownTime||(N._legendMouseDownTime=0);var Z;if(Y){if(!q.entries)return;Z=h(q.entries,q)}else{for(var $=(N.calcdata||[]).slice(),G=V.shapes,rt=0;rt<G.length;rt++){var ot=G[rt];if(ot.showlegend){var W={_isShape:!0,_fullInput:ot,index:ot._index,name:ot.name||ot.label.text||"shape "+ot._index,legend:ot.legend,legendgroup:ot.legendgroup,legendgrouptitle:ot.legendgrouptitle,legendrank:ot.legendrank,legendwidth:ot.legendwidth,showlegend:ot.showlegend,visible:ot.visible,opacity:ot.opacity,mode:ot.type==="line"?"lines":"markers",line:ot.line,marker:{line:ot.line,color:ot.fillcolor,size:12,symbol:ot.type==="rect"?"square":ot.type==="circle"?"circle":"hexagon2"}};$.push([{trace:W}])}}Z=V.showlegend&&h($,q,V._legends.length>1)}var H=V.hiddenlabels||[];if(!Y&&(!V.showlegend||!Z.length))return nt.selectAll("."+J).remove(),V._topdefs.select("#"+it).remove(),i.autoMargin(N,J);var at=S.ensureSingle(nt,"g",J,function(vt){Y||vt.attr("pointer-events","all")}),Q=S.ensureSingleById(V._topdefs,"clipPath",it,function(vt){vt.append("rect")}),ct=S.ensureSingle(at,"rect","bg",function(vt){vt.attr("shape-rendering","crispEdges")});ct.call(r.stroke,q.bordercolor).call(r.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px");var ft=S.ensureSingle(at,"g","scrollbox"),yt=q.title;q._titleWidth=0,q._titleHeight=0;var xt;yt.text?(xt=S.ensureSingle(ft,"text",J+"titletext"),xt.attr("text-anchor","start").call(d.font,yt.font).text(yt.text),M(xt,ft,N,q,c)):ft.selectAll("."+J+"titletext").remove();var Lt=S.ensureSingle(at,"rect","scrollbar",function(vt){vt.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),gt=ft.selectAll("g.groups").data(Z);gt.enter().append("g").attr("class","groups"),gt.exit().remove();var mt=gt.selectAll("g.traces").data(S.identity);mt.enter().append("g").attr("class","traces"),mt.exit().remove(),mt.style("opacity",function(vt){var At=vt[0].trace;return L.traceIs(At,"pie-like")?H.indexOf(vt[0].label)!==-1?.5:1:At.visible==="legendonly"?.5:1}).each(function(){E.select(this).call(C,N,q)}).call(_,N,q).each(function(){Y||E.select(this).call(m,N,J)}),S.syncOrAsync([i.previousPromises,function(){return O(N,gt,mt,q)},function(){var vt=V._size,At=q.borderwidth,Ot=q.xref==="paper",Pt=q.yref==="paper";if(yt.text&&x(xt,q,At),!Y){var Et,Nt;Ot?Et=vt.l+vt.w*q.x-f[P(q)]*q._width:Et=V.width*q.x-f[P(q)]*q._width,Pt?Nt=vt.t+vt.h*(1-q.y)-f[F(q)]*q._effHeight:Nt=V.height*(1-q.y)-f[F(q)]*q._effHeight;var ne=D(N,J,Et,Nt);if(ne)return;if(V.margin.autoexpand){var Gt=Et,pe=Nt;Et=Ot?S.constrain(Et,0,V.width-q._width):Gt,Nt=Pt?S.constrain(Nt,0,V.height-q._effHeight):pe,Et!==Gt&&S.log("Constrain "+J+".x to make legend fit inside graph"),Nt!==pe&&S.log("Constrain "+J+".y to make legend fit inside graph")}d.setTranslate(at,Et,Nt)}if(Lt.on(".drag",null),at.on("wheel",null),Y||q._height<=q._maxHeight||N._context.staticPlot){var Vt=q._effHeight;Y&&(Vt=q._height),ct.attr({width:q._width-At,height:Vt-At,x:At/2,y:At/2}),d.setTranslate(ft,0,0),Q.select("rect").attr({width:q._width-2*At,height:Vt-2*At,x:At,y:At}),d.setClipUrl(ft,it,N),d.setRect(Lt,0,0,0,0),delete q._scrollY}else{var ae=Math.max(n.scrollBarMinHeight,q._effHeight*q._effHeight/q._height),oe=q._effHeight-ae-2*n.scrollBarMargin,ce=q._height-q._effHeight,le=oe/ce,ye=Math.min(q._scrollY||0,ce);ct.attr({width:q._width-2*At+n.scrollBarWidth+n.scrollBarMargin,height:q._effHeight-At,x:At/2,y:At/2}),Q.select("rect").attr({width:q._width-2*At+n.scrollBarWidth+n.scrollBarMargin,height:q._effHeight-2*At,x:At,y:At+ye}),d.setClipUrl(ft,it,N),Dt(ye,ae,le),at.on("wheel",function(){ye=S.constrain(q._scrollY+E.event.deltaY/oe*ce,0,ce),Dt(ye,ae,le),ye!==0&&ye!==ce&&E.event.preventDefault()});var Tt,Ft,$t,Wt=function(qt,te,re){var Ye=(re-te)/le+qt;return S.constrain(Ye,0,ce)},Bt=function(qt,te,re){var Ye=(te-re)/le+qt;return S.constrain(Ye,0,ce)},Mt=E.behavior.drag().on("dragstart",function(){var qt=E.event.sourceEvent;qt.type==="touchstart"?Tt=qt.changedTouches[0].clientY:Tt=qt.clientY,$t=ye}).on("drag",function(){var qt=E.event.sourceEvent;qt.buttons===2||qt.ctrlKey||(qt.type==="touchmove"?Ft=qt.changedTouches[0].clientY:Ft=qt.clientY,ye=Wt($t,Tt,Ft),Dt(ye,ae,le))});Lt.call(Mt);var St=E.behavior.drag().on("dragstart",function(){var qt=E.event.sourceEvent;qt.type==="touchstart"&&(Tt=qt.changedTouches[0].clientY,$t=ye)}).on("drag",function(){var qt=E.event.sourceEvent;qt.type==="touchmove"&&(Ft=qt.changedTouches[0].clientY,ye=Bt($t,Tt,Ft),Dt(ye,ae,le))});ft.call(St)}function Dt(qt,te,re){q._scrollY=N._fullLayout[J]._scrollY=qt,d.setTranslate(ft,0,-qt),d.setRect(Lt,q._width,n.scrollBarMargin+qt*re,n.scrollBarWidth,te),Q.select("rect").attr("y",At+qt)}if(N._context.edits.legendPosition){var dt,ht,bt,zt;at.classed("cursor-move",!0),v.init({element:at.node(),gd:N,prepFn:function(){var qt=d.getTranslate(at);bt=qt.x,zt=qt.y},moveFn:function(qt,te){var re=bt+qt,Ye=zt+te;d.setTranslate(at,re,Ye),dt=v.align(re,q._width,vt.l,vt.l+vt.w,q.xanchor),ht=v.align(Ye+q._height,-q._height,vt.t+vt.h,vt.t,q.yanchor)},doneFn:function(){if(dt!==void 0&&ht!==void 0){var qt={};qt[J+".x"]=dt,qt[J+".y"]=ht,L.call("_guiRelayout",N,qt)}},clickFn:function(qt,te){var re=nt.selectAll("g.traces").filter(function(){var Ye=this.getBoundingClientRect();return te.clientX>=Ye.left&&te.clientX<=Ye.right&&te.clientY>=Ye.top&&te.clientY<=Ye.bottom});re.size()>0&&A(N,at,re,qt,te)}})}}],N)}}function y(N,B,q){var V=N[0],J=V.width,it=B.entrywidthmode,nt=V.trace.legendwidth||B.entrywidth;return it==="fraction"?B._maxWidth*nt:q+(nt||J)}function A(N,B,q,V,J){var it=q.data()[0][0].trace,nt={event:J,node:q.node(),curveNumber:it.index,expandedIndex:it._expandedIndex,data:N.data,layout:N.layout,frames:N._transitionData._frames,config:N._context,fullData:N._fullData,fullLayout:N._fullLayout};it._group&&(nt.group=it._group),L.traceIs(it,"pie-like")&&(nt.label=q.datum()[0].label);var Y=T.triggerHandler(N,"plotly_legendclick",nt);if(V===1){if(Y===!1)return;B._clickTimeout=setTimeout(function(){N._fullLayout&&l(q,N,V)},N._context.doubleClickDelay)}else if(V===2){B._clickTimeout&&clearTimeout(B._clickTimeout),N._legendMouseDownTime=0;var Z=T.triggerHandler(N,"plotly_legenddoubleclick",nt);Z!==!1&&Y!==!1&&l(q,N,V)}}function C(N,B,q){var V=R(q),J=N.data()[0][0],it=J.trace,nt=L.traceIs(it,"pie-like"),Y=!q._inHover&&B._context.edits.legendText&&!nt,Z=q._maxNameLength,$,G;J.groupTitle?($=J.groupTitle.text,G=J.groupTitle.font):(G=q.font,q.entries?$=J.text:($=nt?J.label:it.name,it._meta&&($=S.templateString($,it._meta))));var rt=S.ensureSingle(N,"text",V+"text");rt.attr("text-anchor","start").call(d.font,G).text(Y?u($,Z):$);var ot=q.indentation+q.itemwidth+n.itemGap*2;e.positionText(rt,ot,0),Y?rt.call(e.makeEditable,{gd:B,text:$}).call(M,N,B,q).on("edit",function(W){this.text(u(W,Z)).call(M,N,B,q);var H=J.trace._fullInput||{},at={};if(L.hasTransform(H,"groupby")){var Q=L.getTransformIndices(H,"groupby"),ct=Q[Q.length-1],ft=S.keyedContainer(H,"transforms["+ct+"].styles","target","value.name");ft.set(J.trace._group,W),at=ft.constructUpdate()}else at.name=W;return H._isShape?L.call("_guiRelayout",B,"shapes["+it.index+"].name",at.name):L.call("_guiRestyle",B,at,it.index)}):M(rt,N,B,q)}function u(N,B){var q=Math.max(4,B);if(N&&N.trim().length>=q/2)return N;N=N||"";for(var V=q-N.length;V>0;V--)N+=" ";return N}function m(N,B,q){var V=B._context.doubleClickDelay,J,it=1,nt=S.ensureSingle(N,"rect",q+"toggle",function(Y){B._context.staticPlot||Y.style("cursor","pointer").attr("pointer-events","all"),Y.call(r.fill,"rgba(0,0,0,0)")});B._context.staticPlot||(nt.on("mousedown",function(){J=new Date().getTime(),J-B._legendMouseDownTime<V?it+=1:(it=1,B._legendMouseDownTime=J)}),nt.on("mouseup",function(){if(!(B._dragged||B._editing)){var Y=B._fullLayout[q];new Date().getTime()-B._legendMouseDownTime>V&&(it=Math.max(it-1,1)),A(B,Y,N,it,E.event)}}))}function M(N,B,q,V,J){V._inHover&&N.attr("data-notex",!0),e.convertToTspans(N,q,function(){w(B,q,V,J)})}function w(N,B,q,V){var J=N.data()[0][0];if(!q._inHover&&J&&!J.trace.showlegend){N.remove();return}var it=N.select("g[class*=math-group]"),nt=it.node(),Y=R(q);q||(q=B._fullLayout[Y]);var Z=q.borderwidth,$;V===c?$=q.title.font:J.groupTitle?$=J.groupTitle.font:$=q.font;var G=$.size*o,rt,ot;if(nt){var W=d.bBox(nt);rt=W.height,ot=W.width,V===c?d.setTranslate(it,Z,Z+rt*.75):d.setTranslate(it,0,rt*.25)}else{var H="."+Y+(V===c?"title":"")+"text",at=N.select(H),Q=e.lineCount(at),ct=at.node();if(rt=G*Q,ot=ct?d.bBox(ct).width:0,V===c)q.title.side==="left"&&(ot+=n.itemGap*2),e.positionText(at,Z+n.titlePad,Z+G);else{var ft=n.itemGap*2+q.indentation+q.itemwidth;J.groupTitle&&(ft=n.itemGap,ot-=q.indentation+q.itemwidth),e.positionText(at,ft,-G*((Q-1)/2-.3))}}V===c?(q._titleWidth=ot,q._titleHeight=rt):(J.lineHeight=G,J.height=Math.max(rt,16)+3,J.width=ot)}function z(N){var B=0,q=0,V=N.title.side;return V&&(V.indexOf("left")!==-1&&(B=N._titleWidth),V.indexOf("top")!==-1&&(q=N._titleHeight)),[B,q]}function O(N,B,q,V){var J=N._fullLayout,it=R(V);V||(V=J[it]);var nt=J._size,Y=a.isVertical(V),Z=a.isGrouped(V),$=V.entrywidthmode==="fraction",G=V.borderwidth,rt=2*G,ot=n.itemGap,W=V.indentation+V.itemwidth+ot*2,H=2*(G+ot),at=F(V),Q=V.y<0||V.y===0&&at==="top",ct=V.y>1||V.y===1&&at==="bottom",ft=V.tracegroupgap,yt={};V._maxHeight=Math.max(Q||ct?J.height/2:nt.h,30);var xt=0;V._width=0,V._height=0;var Lt=z(V);if(Y)q.each(function($t){var Wt=$t[0].height;d.setTranslate(this,G+Lt[0],G+Lt[1]+V._height+Wt/2+ot),V._height+=Wt,V._width=Math.max(V._width,$t[0].width)}),xt=W+V._width,V._width+=ot+W+rt,V._height+=H,Z&&(B.each(function($t,Wt){d.setTranslate(this,0,Wt*V.tracegroupgap)}),V._height+=(V._lgroupsLength-1)*V.tracegroupgap);else{var gt=P(V),mt=V.x<0||V.x===0&&gt==="right",vt=V.x>1||V.x===1&&gt==="left",At=ct||Q,Ot=J.width/2;V._maxWidth=Math.max(mt?At&&gt==="left"?nt.l+nt.w:Ot:vt?At&&gt==="right"?nt.r+nt.w:Ot:nt.w,2*W);var Pt=0,Et=0;q.each(function($t){var Wt=y($t,V,W);Pt=Math.max(Pt,Wt),Et+=Wt}),xt=null;var Nt=0;if(Z){var ne=0,Gt=0,pe=0;B.each(function(){var $t=0,Wt=0;E.select(this).selectAll("g.traces").each(function(Mt){var St=y(Mt,V,W),Dt=Mt[0].height;d.setTranslate(this,Lt[0],Lt[1]+G+ot+Dt/2+Wt),Wt+=Dt,$t=Math.max($t,St),yt[Mt[0].trace.legendgroup]=$t});var Bt=$t+ot;Gt>0&&Bt+G+Gt>V._maxWidth?(Nt=Math.max(Nt,Gt),Gt=0,pe+=ne+ft,ne=Wt):ne=Math.max(ne,Wt),d.setTranslate(this,Gt,pe),Gt+=Bt}),V._width=Math.max(Nt,Gt)+G,V._height=pe+ne+H}else{var Vt=q.size(),ae=Et+rt+(Vt-1)*ot<V._maxWidth,oe=0,ce=0,le=0,ye=0;q.each(function($t){var Wt=$t[0].height,Bt=y($t,V,W),Mt=ae?Bt:Pt;$||(Mt+=ot),Mt+G+ce-ot>=V._maxWidth&&(Nt=Math.max(Nt,ye),ce=0,le+=oe,V._height+=oe,oe=0),d.setTranslate(this,Lt[0]+G+ce,Lt[1]+G+le+Wt/2+ot),ye=ce+Bt+ot,ce+=Mt,oe=Math.max(oe,Wt)}),ae?(V._width=ce+rt,V._height=oe+H):(V._width=Math.max(Nt,ye)+rt,V._height+=oe+H)}}V._width=Math.ceil(Math.max(V._width+Lt[0],V._titleWidth+2*(G+n.titlePad))),V._height=Math.ceil(Math.max(V._height+Lt[1],V._titleHeight+2*(G+n.itemGap))),V._effHeight=Math.min(V._height,V._maxHeight);var Tt=N._context.edits,Ft=Tt.legendText||Tt.legendPosition;q.each(function($t){var Wt=E.select(this).select("."+it+"toggle"),Bt=$t[0].height,Mt=$t[0].trace.legendgroup,St=y($t,V,W);Z&&Mt!==""&&(St=yt[Mt]);var Dt=Ft?W:xt||St;!Y&&!$&&(Dt+=ot/2),d.setRect(Wt,0,-Bt/2,Dt,Bt)})}function D(N,B,q,V){var J=N._fullLayout,it=J[B],nt=P(it),Y=F(it),Z=it.xref==="paper",$=it.yref==="paper";N._fullLayout._reservedMargin[B]={};var G=it.y<.5?"b":"t",rt=it.x<.5?"l":"r",ot={r:J.width-q,l:q+it._width,b:J.height-V,t:V+it._effHeight};if(Z&&$)return i.autoMargin(N,B,{x:it.x,y:it.y,l:it._width*f[nt],r:it._width*b[nt],b:it._effHeight*b[Y],t:it._effHeight*f[Y]});Z?N._fullLayout._reservedMargin[B][G]=ot[G]:$||it.orientation==="v"?N._fullLayout._reservedMargin[B][rt]=ot[rt]:N._fullLayout._reservedMargin[B][G]=ot[G]}function P(N){return S.isRightAnchor(N)?"right":S.isCenterAnchor(N)?"center":"left"}function F(N){return S.isBottomAnchor(N)?"bottom":S.isMiddleAnchor(N)?"middle":"top"}function R(N){return N._id||"legend"}},35456:function(tt,U,t){var E=t(24040),S=t(42451);tt.exports=function(i,L,T){var v=L._inHover,d=S.isGrouped(L),r=S.isReversed(L),e={},l=[],n=!1,s={},o=0,f=0,b,h;function _(R,N,B){if(L.visible!==!1&&!(T&&R!==L._id))if(N===""||!S.isGrouped(L)){var q="~~i"+o;l.push(q),e[q]=[B],o++}else l.indexOf(N)===-1?(l.push(N),n=!0,e[N]=[B]):e[N].push(B)}for(b=0;b<i.length;b++){var a=i[b],c=a[0],p=c.trace,x=p.legend,k=p.legendgroup;if(!(!v&&(!p.visible||!p.showlegend)))if(E.traceIs(p,"pie-like"))for(s[k]||(s[k]={}),h=0;h<a.length;h++){var y=a[h].label;s[k][y]||(_(x,k,{label:y,color:a[h].color,i:a[h].i,trace:p,pts:a[h].pts}),s[k][y]=!0,f=Math.max(f,(y||"").length))}else _(x,k,c),f=Math.max(f,(p.name||"").length)}if(!l.length)return[];var A=!n||!d,C=[];for(b=0;b<l.length;b++){var u=e[l[b]];A?C.push(u[0]):C.push(u)}for(A&&(C=[C]),b=0;b<C.length;b++){var m=1/0;for(h=0;h<C[b].length;h++){var M=C[b][h].trace.legendrank;m>M&&(m=M)}C[b][0]._groupMinRank=m,C[b][0]._preGroupSort=b}var w=function(R,N){return R[0]._groupMinRank-N[0]._groupMinRank||R[0]._preGroupSort-N[0]._preGroupSort},z=function(R,N){return R.trace.legendrank-N.trace.legendrank||R._preSort-N._preSort};for(C.forEach(function(R,N){R[0]._preGroupSort=N}),C.sort(w),b=0;b<C.length;b++){C[b].forEach(function(R,N){R._preSort=N}),C[b].sort(z);var O=C[b][0].trace,D=null;for(h=0;h<C[b].length;h++){var P=C[b][h].trace.legendgrouptitle;if(P&&P.text){D=P,v&&(P.font=L._groupTitleFont);break}}if(r&&C[b].reverse(),D){var F=!1;for(h=0;h<C[b].length;h++)if(E.traceIs(C[b][h].trace,"pie-like")){F=!0;break}C[b].unshift({i:-1,groupTitle:D,noClick:F,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:L.groupclick==="toggleitem"?!0:O.visible}})}for(h=0;h<C[b].length;h++)C[b][h]=[C[b][h]]}return L._lgroupsLength=C.length,L._maxNameLength=f,C}},33048:function(tt,U,t){var E=t(24040),S=t(3400),i=S.pushUnique,L=!0;tt.exports=function(T,v,d){var r=v._fullLayout;if(v._dragged||v._editing)return;var e=r.legend.itemclick,l=r.legend.itemdoubleclick,n=r.legend.groupclick;d===1&&e==="toggle"&&l==="toggleothers"&&L&&v.data&&v._context.showTips&&S.notifier(S._(v,"Double-click on legend to isolate one trace"),"long"),L=!1;var s;if(d===1?s=e:d===2&&(s=l),!s)return;var o=n==="togglegroup",f=r.hiddenlabels?r.hiddenlabels.slice():[],b=T.data()[0][0];if(b.groupTitle&&b.noClick)return;var h=v._fullData,_=(r.shapes||[]).filter(function(At){return At.showlegend}),a=h.concat(_),c=b.trace;c._isShape&&(c=c._fullInput);var p=c.legendgroup,x,k,y,A,C,u,m={},M=[],w=[],z=[];function O(At,Ot){var Pt=M.indexOf(At),Et=m.visible;return Et||(Et=m.visible=[]),M.indexOf(At)===-1&&(M.push(At),Pt=M.length-1),Et[Pt]=Ot,Pt}var D=(r.shapes||[]).map(function(At){return At._input}),P=!1;function F(At,Ot){D[At].visible=Ot,P=!0}function R(At,Ot){if(!(b.groupTitle&&!o)){var Pt=At._fullInput||At,Et=Pt._isShape,Nt=Pt.index;if(Nt===void 0&&(Nt=Pt._index),E.hasTransform(Pt,"groupby")){var ne=w[Nt];if(!ne){var Gt=E.getTransformIndices(Pt,"groupby"),pe=Gt[Gt.length-1];ne=S.keyedContainer(Pt,"transforms["+pe+"].styles","target","value.visible"),w[Nt]=ne}var Vt=ne.get(At._group);Vt===void 0&&(Vt=!0),Vt!==!1&&ne.set(At._group,Ot),z[Nt]=O(Nt,Pt.visible!==!1)}else{var ae=Pt.visible===!1?!1:Ot;Et?F(Nt,ae):O(Nt,ae)}}}var N=c.legend,B=c._fullInput,q=B&&B._isShape;if(!q&&E.traceIs(c,"pie-like")){var V=b.label,J=f.indexOf(V);if(s==="toggle")J===-1?f.push(V):f.splice(J,1);else if(s==="toggleothers"){var it=J!==-1,nt=[];for(x=0;x<v.calcdata.length;x++){var Y=v.calcdata[x];for(k=0;k<Y.length;k++){var Z=Y[k],$=Z.label;N===Y[0].trace.legend&&V!==$&&(f.indexOf($)===-1&&(it=!0),i(f,$),nt.push($))}}if(!it)for(var G=0;G<nt.length;G++){var rt=f.indexOf(nt[G]);rt!==-1&&f.splice(rt,1)}}E.call("_guiRelayout",v,"hiddenlabels",f)}else{var ot=p&&p.length,W=[],H;if(ot)for(x=0;x<a.length;x++)H=a[x],H.visible&&H.legendgroup===p&&W.push(x);if(s==="toggle"){var at;switch(c.visible){case!0:at="legendonly";break;case!1:at=!1;break;case"legendonly":at=!0;break}if(ot)if(o)for(x=0;x<a.length;x++){var Q=a[x];Q.visible!==!1&&Q.legendgroup===p&&R(Q,at)}else R(c,at);else R(c,at)}else if(s==="toggleothers"){var ct,ft,yt,xt,Lt,gt=!0;for(x=0;x<a.length;x++)if(Lt=a[x],ct=Lt===c,yt=Lt.showlegend!==!0,!(ct||yt)&&(ft=ot&&Lt.legendgroup===p,!ft&&Lt.legend===N&&Lt.visible===!0&&!E.traceIs(Lt,"notLegendIsolatable"))){gt=!1;break}for(x=0;x<a.length;x++)if(Lt=a[x],!(Lt.visible===!1||Lt.legend!==N)&&!E.traceIs(Lt,"notLegendIsolatable"))switch(c.visible){case"legendonly":R(Lt,!0);break;case!0:xt=gt?!0:"legendonly",ct=Lt===c,yt=Lt.showlegend!==!0&&!Lt.legendgroup,ft=ct||ot&&Lt.legendgroup===p,R(Lt,ft||yt?!0:xt);break}}for(x=0;x<w.length;x++)if(y=w[x],!!y){var mt=y.constructUpdate(),vt=Object.keys(mt);for(k=0;k<vt.length;k++)A=vt[k],u=m[A]=m[A]||[],u[z[x]]=mt[A]}for(C=Object.keys(m),x=0;x<C.length;x++)for(A=C[x],k=0;k<M.length;k++)m[A].hasOwnProperty(k)||(m[A][k]=void 0);P?E.call("_guiUpdate",v,m,{shapes:D},M):E.call("_guiRestyle",v,m,M)}}},42451:function(tt,U){U.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(t){return t.orientation!=="h"},U.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},2780:function(tt,U,t){tt.exports={moduleType:"component",name:"legend",layoutAttributes:t(3800),supplyLayoutDefaults:t(77864),draw:t(31140),style:t(2012)}},2012:function(tt,U,t){var E=t(33428),S=t(24040),i=t(3400),L=i.strTranslate,T=t(43616),v=t(76308),d=t(94288).extractOpts,r=t(43028),e=t(10528),l=t(69656).castOption,n=t(65196),s=12,o=5,f=2,b=10,h=5;tt.exports=function(p,x,k){var y=x._fullLayout;k||(k=y.legend);var A=k.itemsizing==="constant",C=k.itemwidth,u=(C+n.itemGap*2)/2,m=L(u,0),M=function(nt,Y,Z,$){var G;if(nt+1)G=nt;else if(Y&&Y.width>0)G=Y.width;else return 0;return A?$:Math.min(G,Z)};p.each(function(nt){var Y=E.select(this),Z=i.ensureSingle(Y,"g","layers");Z.style("opacity",nt[0].trace.opacity);var $=k.indentation,G=k.valign,rt=nt[0].lineHeight,ot=nt[0].height;if(G==="middle"&&$===0||!rt||!ot)Z.attr("transform",null);else{var W={top:1,bottom:-1}[G],H=W*(.5*(rt-ot+3))||0,at=k.indentation;Z.attr("transform",L(at,H))}var Q=Z.selectAll("g.legendfill").data([nt]);Q.enter().append("g").classed("legendfill",!0);var ct=Z.selectAll("g.legendlines").data([nt]);ct.enter().append("g").classed("legendlines",!0);var ft=Z.selectAll("g.legendsymbols").data([nt]);ft.enter().append("g").classed("legendsymbols",!0),ft.selectAll("g.legendpoints").data([nt]).enter().append("g").classed("legendpoints",!0)}).each(it).each(O).each(P).each(D).each(R).each(V).each(q).each(w).each(z).each(N).each(B);function w(nt){var Y=a(nt),Z=Y.showFill,$=Y.showLine,G=Y.showGradientLine,rt=Y.showGradientFill,ot=Y.anyFill,W=Y.anyLine,H=nt[0],at=H.trace,Q,ct,ft=d(at),yt=ft.colorscale,xt=ft.reversescale,Lt=function(Et){if(Et.size())if(Z)T.fillGroupStyle(Et,x,!0);else{var Nt="legendfill-"+at.uid;T.gradient(Et,x,Nt,_(xt),yt,"fill")}},gt=function(Et){if(Et.size()){var Nt="legendline-"+at.uid;T.lineGroupStyle(Et),T.gradient(Et,x,Nt,_(xt),yt,"stroke")}},mt=r.hasMarkers(at)||!ot?"M5,0":W?"M5,-2":"M5,-3",vt=E.select(this),At=vt.select(".legendfill").selectAll("path").data(Z||rt?[nt]:[]);if(At.enter().append("path").classed("js-fill",!0),At.exit().remove(),At.attr("d",mt+"h"+C+"v6h-"+C+"z").call(Lt),$||G){var Ot=M(void 0,at.line,b,o);ct=i.minExtend(at,{line:{width:Ot}}),Q=[i.minExtend(H,{trace:ct})]}var Pt=vt.select(".legendlines").selectAll("path").data($||G?[Q]:[]);Pt.enter().append("path").classed("js-line",!0),Pt.exit().remove(),Pt.attr("d",mt+(G?"l"+C+",0.0001":"h"+C)).call($?T.lineGroupStyle:gt)}function z(nt){var Y=a(nt),Z=Y.anyFill,$=Y.anyLine,G=Y.showLine,rt=Y.showMarker,ot=nt[0],W=ot.trace,H=!rt&&!$&&!Z&&r.hasText(W),at,Q;function ct(At,Ot,Pt,Et){var Nt=i.nestedProperty(W,At).get(),ne=i.isArrayOrTypedArray(Nt)&&Ot?Ot(Nt):Nt;if(A&&ne&&Et!==void 0&&(ne=Et),Pt){if(ne<Pt[0])return Pt[0];if(ne>Pt[1])return Pt[1]}return ne}function ft(At){return ot._distinct&&ot.index&&At[ot.index]?At[ot.index]:At[0]}if(rt||H||G){var yt={},xt={};if(rt){yt.mc=ct("marker.color",ft),yt.mx=ct("marker.symbol",ft),yt.mo=ct("marker.opacity",i.mean,[.2,1]),yt.mlc=ct("marker.line.color",ft),yt.mlw=ct("marker.line.width",i.mean,[0,5],f),xt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Lt=ct("marker.size",i.mean,[2,16],s);yt.ms=Lt,xt.marker.size=Lt}G&&(xt.line={width:ct("line.width",ft,[0,10],o)}),H&&(yt.tx="Aa",yt.tp=ct("textposition",ft),yt.ts=10,yt.tc=ct("textfont.color",ft),yt.tf=ct("textfont.family",ft),yt.tw=ct("textfont.weight",ft),yt.ty=ct("textfont.style",ft),yt.tv=ct("textfont.variant",ft)),at=[i.minExtend(ot,yt)],Q=i.minExtend(W,xt),Q.selectedpoints=null,Q.texttemplate=null}var gt=E.select(this).select("g.legendpoints"),mt=gt.selectAll("path.scatterpts").data(rt?at:[]);mt.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),mt.exit().remove(),mt.call(T.pointStyle,Q,x),rt&&(at[0].mrc=3);var vt=gt.selectAll("g.pointtext").data(H?at:[]);vt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),vt.exit().remove(),vt.selectAll("text").call(T.textPointStyle,Q,x)}function O(nt){var Y=nt[0].trace,Z=Y.type==="waterfall";if(nt[0]._distinct&&Z){var $=nt[0].trace[nt[0].dir].marker;return nt[0].mc=$.color,nt[0].mlw=$.line.width,nt[0].mlc=$.line.color,F(nt,this,"waterfall")}var G=[];Y.visible&&Z&&(G=nt[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var rt=E.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(G);rt.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),rt.exit().remove(),rt.each(function(ot){var W=E.select(this),H=Y[ot[0]].marker,at=M(void 0,H.line,h,f);W.attr("d",ot[1]).style("stroke-width",at+"px").call(v.fill,H.color),at&&W.call(v.stroke,H.line.color)})}function D(nt){F(nt,this)}function P(nt){F(nt,this,"funnel")}function F(nt,Y,Z){var $=nt[0].trace,G=$.marker||{},rt=G.line||{},ot=G.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",W=Z?$.visible&&$.type===Z:S.traceIs($,"bar"),H=E.select(Y).select("g.legendpoints").selectAll("path.legend"+Z).data(W?[nt]:[]);H.enter().append("path").classed("legend"+Z,!0).attr("d",ot).attr("transform",m),H.exit().remove(),H.each(function(at){var Q=E.select(this),ct=at[0],ft=M(ct.mlw,G.line,h,f);Q.style("stroke-width",ft+"px");var yt=ct.mcc;if(!k._inHover&&"mc"in ct){var xt=d(G),Lt=xt.mid;Lt===void 0&&(Lt=(xt.max+xt.min)/2),yt=T.tryColorscale(G,"")(Lt)}var gt=yt||ct.mc||G.color,mt=G.pattern,vt=mt&&T.getPatternAttr(mt.shape,0,"");if(vt){var At=T.getPatternAttr(mt.bgcolor,0,null),Ot=T.getPatternAttr(mt.fgcolor,0,null),Pt=mt.fgopacity,Et=c(mt.size,8,10),Nt=c(mt.solidity,.5,1),ne="legend-"+$.uid;Q.call(T.pattern,"legend",x,ne,vt,Et,Nt,yt,mt.fillmode,At,Ot,Pt)}else Q.call(v.fill,gt);ft&&v.stroke(Q,ct.mlc||rt.color)})}function R(nt){var Y=nt[0].trace,Z=E.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&S.traceIs(Y,"box-violin")?[nt]:[]);Z.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),Z.exit().remove(),Z.each(function(){var $=E.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&v.opacity(Y.fillcolor)===0&&v.opacity((Y.line||{}).color)===0){var G=i.minExtend(Y,{marker:{size:A?s:i.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Z.call(T.pointStyle,G,x)}else{var rt=M(void 0,Y.line,h,f);$.style("stroke-width",rt+"px").call(v.fill,Y.fillcolor),rt&&v.stroke($,Y.line.color)}})}function N(nt){var Y=nt[0].trace,Z=E.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[nt,nt]:[]);Z.enter().append("path").classed("legendcandle",!0).attr("d",function($,G){return G?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function($,G){var rt=E.select(this),ot=Y[G?"increasing":"decreasing"],W=M(void 0,ot.line,h,f);rt.style("stroke-width",W+"px").call(v.fill,ot.fillcolor),W&&v.stroke(rt,ot.line.color)})}function B(nt){var Y=nt[0].trace,Z=E.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[nt,nt]:[]);Z.enter().append("path").classed("legendohlc",!0).attr("d",function($,G){return G?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function($,G){var rt=E.select(this),ot=Y[G?"increasing":"decreasing"],W=M(void 0,ot.line,h,f);rt.style("fill","none").call(T.dashLine,ot.line.dash,W),W&&v.stroke(rt,ot.line.color)})}function q(nt){J(nt,this,"pie")}function V(nt){J(nt,this,"funnelarea")}function J(nt,Y,Z){var $=nt[0],G=$.trace,rt=Z?G.visible&&G.type===Z:S.traceIs(G,Z),ot=E.select(Y).select("g.legendpoints").selectAll("path.legend"+Z).data(rt?[nt]:[]);if(ot.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),ot.exit().remove(),ot.size()){var W=G.marker||{},H=M(l(W.line.width,$.pts),W.line,h,f),at="pieLike",Q=i.minExtend(G,{marker:{line:{width:H}}},at),ct=i.minExtend($,{trace:Q},at);e(ot,ct,Q,x)}}function it(nt){var Y=nt[0].trace,Z,$=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":$=[["M-15,-2V4H15V-2Z"]],Z=!0;break;case"choropleth":case"choroplethmapbox":$=[["M-6,-6V6H6V-6Z"]],Z=!0;break;case"densitymapbox":$=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Z="radial";break;case"cone":$=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Z=!1;break;case"streamtube":$=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Z=!1;break;case"surface":$=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Z=!0;break;case"mesh3d":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!1;break;case"volume":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!0;break;case"isosurface":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Z=!1;break}var G=E.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data($);G.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),G.exit().remove(),G.each(function(rt,ot){var W=E.select(this),H=d(Y),at=H.colorscale,Q=H.reversescale,ct=function(Lt){if(Lt.size()){var gt="legendfill-"+Y.uid;T.gradient(Lt,x,gt,_(Q,Z==="radial"),at,"fill")}},ft;if(at){if(!Z){var yt=at.length;ft=ot===0?at[Q?yt-1:0][1]:ot===1?at[Q?0:yt-1][1]:at[Math.floor((yt-1)/2)][1]}}else{var xt=Y.vertexcolor||Y.facecolor||Y.color;ft=i.isArrayOrTypedArray(xt)?xt[ot]||xt[0]:xt}W.attr("d",rt[0]),ft?W.call(v.fill,ft):W.call(ct)})}};function _(p,x){var k=x?"radial":"horizontal";return k+(p?"":"reversed")}function a(p){var x=p[0].trace,k=x.contours,y=r.hasLines(x),A=r.hasMarkers(x),C=x.visible&&x.fill&&x.fill!=="none",u=!1,m=!1;if(k){var M=k.coloring;M==="lines"?u=!0:y=M==="none"||M==="heatmap"||k.showlines,k.type==="constraint"?C=k._operation!=="=":(M==="fill"||M==="heatmap")&&(m=!0)}return{showMarker:A,showLine:y,showFill:C,showGradientLine:u,showGradientFill:m,anyLine:y||u,anyFill:C||m}}function c(p,x,k){return p&&i.isArrayOrTypedArray(p)?x:p>k?k:p}},66540:function(tt,U,t){t(76052),tt.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(tt,U,t){var E=t(24040),S=t(7316),i=t(79811),L=t(9224),T=t(4016).eraseActiveShape,v=t(3400),d=v._,r=tt.exports={};r.toImage={name:"toImage",title:function(p){var x=p._context.toImageButtonOptions||{},k=x.format||"png";return k==="png"?d(p,"Download plot as a png"):d(p,"Download plot")},icon:L.camera,click:function(p){var x=p._context.toImageButtonOptions,k={format:x.format||"png"};v.notifier(d(p,"Taking snapshot - this may take a few seconds"),"long"),k.format!=="svg"&&v.isIE()&&(v.notifier(d(p,"IE only supports svg.  Changing format to svg."),"long"),k.format="svg"),["filename","width","height","scale"].forEach(function(y){y in x&&(k[y]=x[y])}),E.call("downloadImage",p,k).then(function(y){v.notifier(d(p,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){v.notifier(d(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(p){return d(p,"Edit in Chart Studio")},icon:L.disk,click:function(p){S.sendDataToCloud(p)}},r.editInChartStudio={name:"editInChartStudio",title:function(p){return d(p,"Edit in Chart Studio")},icon:L.pencil,click:function(p){S.sendDataToCloud(p)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:e},r.pan2d={name:"pan2d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:e},r.select2d={name:"select2d",_cat:"select",title:function(p){return d(p,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:e},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return d(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:e},r.drawclosedpath={name:"drawclosedpath",title:function(p){return d(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:e},r.drawopenpath={name:"drawopenpath",title:function(p){return d(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:e},r.drawline={name:"drawline",title:function(p){return d(p,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:e},r.drawrect={name:"drawrect",title:function(p){return d(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:e},r.drawcircle={name:"drawcircle",title:function(p){return d(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:e},r.eraseshape={name:"eraseshape",title:function(p){return d(p,"Erase active shape")},icon:L.eraseshape,click:T},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:e},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:e},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return d(p,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:e},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return d(p,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:e},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return d(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:e},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return d(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:e};function e(p,x){var k=x.currentTarget,y=k.getAttribute("data-attr"),A=k.getAttribute("data-val")||!0,C=p._fullLayout,u={},m=i.list(p,null,!0),M=C._cartesianSpikesEnabled,w,z;if(y==="zoom"){var O=A==="in"?.5:2,D=(1+O)/2,P=(1-O)/2,F;for(z=0;z<m.length;z++)if(w=m[z],!w.fixedrange)if(F=w._name,A==="auto")u[F+".autorange"]=!0;else if(A==="reset")w._rangeInitial0===void 0&&w._rangeInitial1===void 0?u[F+".autorange"]=!0:w._rangeInitial0===void 0?(u[F+".autorange"]=w._autorangeInitial,u[F+".range"]=[null,w._rangeInitial1]):w._rangeInitial1===void 0?(u[F+".range"]=[w._rangeInitial0,null],u[F+".autorange"]=w._autorangeInitial):u[F+".range"]=[w._rangeInitial0,w._rangeInitial1],w._showSpikeInitial!==void 0&&(u[F+".showspikes"]=w._showSpikeInitial,M==="on"&&!w._showSpikeInitial&&(M="off"));else{var R=[w.r2l(w.range[0]),w.r2l(w.range[1])],N=[D*R[0]+P*R[1],D*R[1]+P*R[0]];u[F+".range[0]"]=w.l2r(N[0]),u[F+".range[1]"]=w.l2r(N[1])}}else y==="hovermode"&&(A==="x"||A==="y")&&(A=C._isHoriz?"y":"x",k.setAttribute("data-val",A)),u[y]=A;C._cartesianSpikesEnabled=M,E.call("_guiRelayout",p,u)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:l},r.pan3d={name:"pan3d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:l},r.orbitRotation={name:"orbitRotation",title:function(p){return d(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:l},r.tableRotation={name:"tableRotation",title:function(p){return d(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:l};function l(p,x){for(var k=x.currentTarget,y=k.getAttribute("data-attr"),A=k.getAttribute("data-val")||!0,C=p._fullLayout._subplots.gl3d||[],u={},m=y.split("."),M=0;M<C.length;M++)u[C[M]+"."+m[1]]=A;var w=A==="pan"?A:"zoom";u.dragmode=w,E.call("_guiRelayout",p,u)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return d(p,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return d(p,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(p,x){for(var k=x.currentTarget,y=k.getAttribute("data-attr"),A=y==="resetLastSave",C=y==="resetDefault",u=p._fullLayout,m=u._subplots.gl3d||[],M={},w=0;w<m.length;w++){var z=m[w],O=z+".camera",D=z+".aspectratio",P=z+".aspectmode",F=u[z]._scene,R;A?(M[O+".up"]=F.viewInitial.up,M[O+".eye"]=F.viewInitial.eye,M[O+".center"]=F.viewInitial.center,R=!0):C&&(M[O+".up"]=null,M[O+".eye"]=null,M[O+".center"]=null,R=!0),R&&(M[D+".x"]=F.viewInitial.aspectratio.x,M[D+".y"]=F.viewInitial.aspectratio.y,M[D+".z"]=F.viewInitial.aspectratio.z,M[P]=F.viewInitial.aspectmode)}E.call("_guiRelayout",p,M)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:o};function s(p,x){var k=x.currentTarget,y=k._previousVal,A=p._fullLayout,C=A._subplots.gl3d||[],u=["xaxis","yaxis","zaxis"],m={},M={};if(y)M=y,k._previousVal=null;else{for(var w=0;w<C.length;w++){var z=C[w],O=A[z],D=z+".hovermode";m[D]=O.hovermode,M[D]=!1;for(var P=0;P<3;P++){var F=u[P],R=z+"."+F+".showspikes";M[R]=!1,m[R]=O[F].showspikes}}k._previousVal=m}return M}function o(p,x){var k=s(p,x);E.call("_guiRelayout",p,k)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:f},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:f},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return d(p,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:f},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function f(p,x){for(var k=x.currentTarget,y=k.getAttribute("data-attr"),A=k.getAttribute("data-val")||!0,C=p._fullLayout,u=C._subplots.geo||[],m=0;m<u.length;m++){var M=u[m],w=C[M];if(y==="zoom"){var z=w.projection.scale,O=A==="in"?2*z:.5*z;E.call("_guiRelayout",p,M+".projection.scale",O)}}y==="reset"&&c(p,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function b(p){var x=p._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(p){var x=b(p);E.call("_guiRelayout",p,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(p){return d(p,"Reset view")},icon:L.home,click:function(p){for(var x={"node.groups":[],"node.x":[],"node.y":[]},k=0;k<p._fullData.length;k++){var y=p._fullData[k]._viewInitial;x["node.groups"].push(y.node.groups.slice()),x["node.x"].push(y.node.x.slice()),x["node.y"].push(y.node.y.slice())}E.call("restyle",p,x)}},r.toggleHover={name:"toggleHover",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(p,x){var k=s(p,x);k.hovermode=b(p),E.call("_guiRelayout",p,k)}},r.resetViews={name:"resetViews",title:function(p){return d(p,"Reset views")},icon:L.home,click:function(p,x){var k=x.currentTarget;k.setAttribute("data-attr","zoom"),k.setAttribute("data-val","reset"),e(p,x),k.setAttribute("data-attr","resetLastSave"),n(p,x),c(p,"geo"),c(p,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(p){return d(p,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var x=p._fullLayout,k=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=k==="on"?"off":"on",E.call("_guiRelayout",p,_(p))}};function _(p){for(var x=p._fullLayout,k=x._cartesianSpikesEnabled==="on",y=i.list(p,null,!0),A={},C=0;C<y.length;C++){var u=y[C];A[u._name+".showspikes"]=k?!0:u._showSpikeInitial}return A}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return d(p,"Reset view")},attr:"reset",icon:L.home,click:function(p){c(p,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:a},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:a};function a(p,x){for(var k=x.currentTarget,y=k.getAttribute("data-val"),A=p._fullLayout,C=A._subplots.mapbox||[],u=1.05,m={},M=0;M<C.length;M++){var w=C[M],z=A[w].zoom,O=y==="in"?u*z:z/u;m[w+".zoom"]=O}E.call("_guiRelayout",p,m)}function c(p,x){for(var k=p._fullLayout,y=k._subplots[x]||[],A={},C=0;C<y.length;C++)for(var u=y[C],m=k[u]._subplot,M=m.viewInitial,w=Object.keys(M),z=0;z<w.length;z++){var O=w[z];A[u+"."+O]=M[O]}E.call("_guiRelayout",p,A)}},76052:function(tt,U,t){var E=t(44248),S=Object.keys(E),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),T=[],v=function(d){if(L.indexOf(d._cat||d.name)===-1){var r=d.name,e=(d._cat||d.name).toLowerCase();T.indexOf(r)===-1&&T.push(r),T.indexOf(e)===-1&&T.push(e)}};S.forEach(function(d){v(E[d])}),T.sort(),tt.exports={DRAW_MODES:i,backButtons:L,foreButtons:T}},90824:function(tt,U,t){var E=t(3400),S=t(76308),i=t(31780),L=t(66540);tt.exports=function(T,v){var d=T.modebar||{},r=i.newContainer(v,"modebar");function e(n,s){return E.coerce(d,r,L,n,s)}e("orientation"),e("bgcolor",S.addOpacity(v.paper_bgcolor,.5));var l=S.contrast(S.rgb(v.modebar.bgcolor));e("color",S.addOpacity(l,.3)),e("activecolor",S.addOpacity(l,.7)),e("uirevision",v.uirevision),e("add"),e("remove")}},45460:function(tt,U,t){tt.exports={moduleType:"component",name:"modebar",layoutAttributes:t(66540),supplyLayoutDefaults:t(90824),manage:t(18816)}},18816:function(tt,U,t){var E=t(79811),S=t(43028),i=t(24040),L=t(10624).isUnifiedHover,T=t(66400),v=t(44248),d=t(76052).DRAW_MODES,r=t(3400).extendDeep;tt.exports=function(b){var h=b._fullLayout,_=b._context,a=h._modeBar;if(!_.displayModeBar&&!_.watermark){a&&(a.destroy(),delete h._modeBar);return}if(!Array.isArray(_.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(_.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var c=_.modeBarButtons,p;Array.isArray(c)&&c.length?p=f(c):!_.displayModeBar&&_.watermark?p=[]:p=e(b),a?a.update(b,p):h._modeBar=T(b,p)};function e(b){var h=b._fullLayout,_=b._fullData,a=b._context;function c(W,H){if(typeof H=="string"){if(H.toLowerCase()===W.toLowerCase())return!0}else{var at=H.name,Q=H._cat||H.name;if(at===W||Q===W.toLowerCase())return!0}return!1}var p=h.modebar.add;typeof p=="string"&&(p=[p]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var k=a.modeBarButtonsToAdd.concat(p.filter(function(W){for(var H=0;H<a.modeBarButtonsToRemove.length;H++)if(c(W,a.modeBarButtonsToRemove[H]))return!1;return!0})),y=a.modeBarButtonsToRemove.concat(x.filter(function(W){for(var H=0;H<a.modeBarButtonsToAdd.length;H++)if(c(W,a.modeBarButtonsToAdd[H]))return!1;return!0})),A=h._has("cartesian"),C=h._has("gl3d"),u=h._has("geo"),m=h._has("pie"),M=h._has("funnelarea"),w=h._has("gl2d"),z=h._has("ternary"),O=h._has("mapbox"),D=h._has("polar"),P=h._has("smith"),F=h._has("sankey"),R=l(h),N=L(h.hovermode),B=[];function q(W){if(W.length){for(var H=[],at=0;at<W.length;at++){for(var Q=W[at],ct=v[Q],ft=ct.name.toLowerCase(),yt=(ct._cat||ct.name).toLowerCase(),xt=!1,Lt=0;Lt<y.length;Lt++){var gt=y[Lt].toLowerCase();if(gt===ft||gt===yt){xt=!0;break}}xt||H.push(v[Q])}B.push(H)}}var V=["toImage"];a.showEditInChartStudio?V.push("editInChartStudio"):a.showSendToCloud&&V.push("sendDataToCloud"),q(V);var J=[],it=[],nt=[],Y=[];(A||w||m||M||z)+u+C+O+D+P>1?(it=["toggleHover"],nt=["resetViews"]):u?(J=["zoomInGeo","zoomOutGeo"],it=["hoverClosestGeo"],nt=["resetGeo"]):C?(it=["hoverClosest3d"],nt=["resetCameraDefault3d","resetCameraLastSave3d"]):O?(J=["zoomInMapbox","zoomOutMapbox"],it=["toggleHover"],nt=["resetViewMapbox"]):w?it=["hoverClosestGl2d"]:m?it=["hoverClosestPie"]:F?(it=["hoverClosestCartesian","hoverCompareCartesian"],nt=["resetViewSankey"]):it=["toggleHover"],A&&(it=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(s(_)||N)&&(it=[]),(A||w)&&!R&&(J=["zoomIn2d","zoomOut2d","autoScale2d"],nt[0]!=="resetViews"&&(nt=["resetScale2d"])),C?Y=["zoom3d","pan3d","orbitRotation","tableRotation"]:(A||w)&&!R||z?Y=["zoom2d","pan2d"]:O||u?Y=["pan2d"]:D&&(Y=["zoom2d"]),n(_)&&Y.push("select2d","lasso2d");var Z=[],$=function(W){Z.indexOf(W)===-1&&it.indexOf(W)!==-1&&Z.push(W)};if(Array.isArray(k)){for(var G=[],rt=0;rt<k.length;rt++){var ot=k[rt];typeof ot=="string"?(ot=ot.toLowerCase(),d.indexOf(ot)!==-1?(h._has("mapbox")||h._has("cartesian"))&&Y.push(ot):ot==="togglespikelines"?$("toggleSpikelines"):ot==="togglehover"?$("toggleHover"):ot==="hovercompare"?$("hoverCompareCartesian"):ot==="hoverclosest"?($("hoverClosestCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie")):ot==="v1hovermode"&&($("toggleHover"),$("hoverClosestCartesian"),$("hoverCompareCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie"))):G.push(ot)}k=G}return q(Y),q(J.concat(nt)),q(Z),o(B,k)}function l(b){for(var h=E.list({_fullLayout:b},null,!0),_=0;_<h.length;_++)if(!h[_].fixedrange)return!1;return!0}function n(b){for(var h=!1,_=0;_<b.length&&!h;_++){var a=b[_];!a._module||!a._module.selectPoints||(i.traceIs(a,"scatter-like")?(S.hasMarkers(a)||S.hasText(a))&&(h=!0):i.traceIs(a,"box-violin")?(a.boxpoints==="all"||a.points==="all")&&(h=!0):h=!0)}return h}function s(b){for(var h=0;h<b.length;h++)if(!i.traceIs(b[h],"noHover"))return!1;return!0}function o(b,h){if(h.length)if(Array.isArray(h[0]))for(var _=0;_<h.length;_++)b.push(h[_]);else b.push(h);return b}function f(b){for(var h=r([],b),_=0;_<h.length;_++)for(var a=h[_],c=0;c<a.length;c++){var p=a[c];if(typeof p=="string")if(v[p]!==void 0)h[_][c]=v[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(tt,U,t){var E=t(33428),S=t(38248),i=t(3400),L=t(9224),T=t(25788).version,v=new DOMParser;function d(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=d.prototype;r.update=function(n,s){this.graphInfo=n;var o=this.graphInfo._context,f=this.graphInfo._fullLayout,b="modebar-"+f._uid;this.element.setAttribute("id",b),this._uid=b,this.element.className="modebar",o.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),f.modebar.orientation==="v"&&(this.element.className+=" vertical",s=s.reverse());var h=f.modebar,_=o.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(b),i.addRelatedStyleRule(b,_+"#"+b+" .modebar-group","background-color: "+h.bgcolor),i.addRelatedStyleRule(b,"#"+b+" .modebar-btn .icon path","fill: "+h.color),i.addRelatedStyleRule(b,"#"+b+" .modebar-btn:hover .icon path","fill: "+h.activecolor),i.addRelatedStyleRule(b,"#"+b+" .modebar-btn.active .icon path","fill: "+h.activecolor);var a=!this.hasButtons(s),c=this.hasLogo!==o.displaylogo,p=this.locale!==o.locale;if(this.locale=o.locale,(a||c||p)&&(this.removeAllButtons(),this.updateButtons(s),o.watermark||o.displaylogo)){var x=this.getLogo();o.watermark&&(x.className=x.className+" watermark"),f.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var s=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var f=s.createGroup();o.forEach(function(b){var h=b.name;if(!h)throw new Error("must provide button 'name' in button config");if(s.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");s.buttonsNames.push(h);var _=s.createButton(b);s.buttonElements.push(_),f.appendChild(_)}),s.element.appendChild(f)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var s=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var f=n.title;f===void 0?f=n.name:typeof f=="function"&&(f=f(this.graphInfo)),(f||f===0)&&o.setAttribute("data-title",f),n.attr!==void 0&&o.setAttribute("data-attr",n.attr);var b=n.val;b!==void 0&&(typeof b=="function"&&(b=b(this.graphInfo)),o.setAttribute("data-val",b));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(a){n.click(s.graphInfo,a),s.updateActiveButton(a.currentTarget)}),o.setAttribute("data-toggle",n.toggle||!1),n.toggle&&E.select(o).classed("active",!0);var _=n.icon;return typeof _=="function"?o.appendChild(_()):o.appendChild(this.createIcon(_||L.question)),o.setAttribute("data-gravity",n.gravity||"n"),o},r.createIcon=function(n){var s=S(n.height)?Number(n.height):n.ascent-n.descent,o="http://www.w3.org/2000/svg",f;if(n.path){f=document.createElementNS(o,"svg"),f.setAttribute("viewBox",[0,0,n.width,s].join(" ")),f.setAttribute("class","icon");var b=document.createElementNS(o,"path");b.setAttribute("d",n.path),n.transform?b.setAttribute("transform",n.transform):n.ascent!==void 0&&b.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),f.appendChild(b)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");f=h.childNodes[0]}return f.setAttribute("height","1em"),f.setAttribute("width","1em"),f},r.updateActiveButton=function(n){var s=this.graphInfo._fullLayout,o=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(f){var b=f.getAttribute("data-val")||!0,h=f.getAttribute("data-attr"),_=f.getAttribute("data-toggle")==="true",a=E.select(f);if(_)h===o&&a.classed("active",!a.classed("active"));else{var c=h===null?h:i.nestedProperty(s,h).get();a.classed("active",c===b)}})},r.hasButtons=function(n){var s=this.buttons;if(!s||n.length!==s.length)return!1;for(var o=0;o<n.length;++o){if(n[o].length!==s[o].length)return!1;for(var f=0;f<n[o].length;f++)if(n[o][f].name!==s[o][f].name)return!1}return!0};function e(n){return n+" (v"+T+")"}r.getLogo=function(){var n=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",e(i._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(s),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function l(n,s){var o=n._fullLayout,f=new d({graphInfo:n,container:o._modebardiv.node(),buttons:s});return o._privateplot&&E.select(f.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),f}tt.exports=l},26680:function(tt,U,t){var E=t(25376),S=t(22548),i=t(31780).templatedArray,L=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});tt.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:E({editType:"plot"}),bgcolor:{valType:"color",dflt:S.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(tt){tt.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(tt,U,t){var E=t(3400),S=t(76308),i=t(31780),L=t(51272),T=t(26680),v=t(85984);tt.exports=function(e,l,n,s,o){var f=e.rangeselector||{},b=i.newContainer(l,"rangeselector");function h(x,k){return E.coerce(f,b,T,x,k)}var _=L(f,b,{name:"buttons",handleItemDefaults:d,calendar:o}),a=h("visible",_.length>0);if(a){var c=r(l,n,s);h("x",c[0]),h("y",c[1]),E.noneOrAll(e,l,["x","y"]),h("xanchor"),h("yanchor"),E.coerceFont(h,"font",n.font);var p=h("bgcolor");h("activecolor",S.contrast(p,v.lightAmount,v.darkAmount)),h("bordercolor"),h("borderwidth")}};function d(e,l,n,s){var o=s.calendar;function f(_,a){return E.coerce(e,l,T.buttons,_,a)}var b=f("visible");if(b){var h=f("step");h!=="all"&&(o&&o!=="gregorian"&&(h==="month"||h==="year")?l.stepmode="backward":f("stepmode"),f("count")),f("label")}}function r(e,l,n){for(var s=n.filter(function(h){return l[h].anchor===e._id}),o=0,f=0;f<s.length;f++){var b=l[s[f]].domain;b&&(o=Math.max(b[1],o))}return[e.domain[0],o+v.yPad]}},50216:function(tt,U,t){var E=t(33428),S=t(24040),i=t(7316),L=t(76308),T=t(43616),v=t(3400),d=v.strTranslate,r=t(72736),e=t(79811),l=t(84284),n=l.LINE_SPACING,s=l.FROM_TL,o=l.FROM_BR,f=t(85984),b=t(48040);tt.exports=function(A){var C=A._fullLayout,u=C._infolayer.selectAll(".rangeselector").data(h(A),_);u.enter().append("g").classed("rangeselector",!0),u.exit().remove(),u.style({cursor:"pointer","pointer-events":"all"}),u.each(function(m){var M=E.select(this),w=m,z=w.rangeselector,O=M.selectAll("g.button").data(v.filterVisible(z.buttons));O.enter().append("g").classed("button",!0),O.exit().remove(),O.each(function(D){var P=E.select(this),F=b(w,D);D._isActive=a(w,D,F),P.call(c,z,D),P.call(x,z,D,A),P.on("click",function(){A._dragged||S.call("_guiRelayout",A,F)}),P.on("mouseover",function(){D._isHovered=!0,P.call(c,z,D)}),P.on("mouseout",function(){D._isHovered=!1,P.call(c,z,D)})}),y(A,O,z,w._name,M)})};function h(A){for(var C=e.list(A,"x",!0),u=[],m=0;m<C.length;m++){var M=C[m];M.rangeselector&&M.rangeselector.visible&&u.push(M)}return u}function _(A){return A._id}function a(A,C,u){if(C.step==="all")return A.autorange===!0;var m=Object.keys(u);return A.range[0]===u[m[0]]&&A.range[1]===u[m[1]]}function c(A,C,u){var m=v.ensureSingle(A,"rect","selector-rect",function(M){M.attr("shape-rendering","crispEdges")});m.attr({rx:f.rx,ry:f.ry}),m.call(L.stroke,C.bordercolor).call(L.fill,p(C,u)).style("stroke-width",C.borderwidth+"px")}function p(A,C){return C._isActive||C._isHovered?A.activecolor:A.bgcolor}function x(A,C,u,m){function M(z){r.convertToTspans(z,m)}var w=v.ensureSingle(A,"text","selector-text",function(z){z.attr("text-anchor","middle")});w.call(T.font,C.font).text(k(u,m._fullLayout._meta)).call(M)}function k(A,C){return A.label?C?v.templateString(A.label,C):A.label:A.step==="all"?"all":A.count+A.step.charAt(0)}function y(A,C,u,m,M){var w=0,z=0,O=u.borderwidth;C.each(function(){var B=E.select(this),q=B.select(".selector-text"),V=u.font.size*n,J=Math.max(V*r.lineCount(q),16)+3;z=Math.max(z,J)}),C.each(function(){var B=E.select(this),q=B.select(".selector-rect"),V=B.select(".selector-text"),J=V.node()&&T.bBox(V.node()).width,it=u.font.size*n,nt=r.lineCount(V),Y=Math.max(J+10,f.minButtonWidth);B.attr("transform",d(O+w,O)),q.attr({x:0,y:0,width:Y,height:z}),r.positionText(V,Y/2,z/2-(nt-1)*it/2+3),w+=Y+5});var D=A._fullLayout._size,P=D.l+D.w*u.x,F=D.t+D.h*(1-u.y),R="left";v.isRightAnchor(u)&&(P-=w,R="right"),v.isCenterAnchor(u)&&(P-=w/2,R="center");var N="top";v.isBottomAnchor(u)&&(F-=z,N="bottom"),v.isMiddleAnchor(u)&&(F-=z/2,N="middle"),w=Math.ceil(w),z=Math.ceil(z),P=Math.round(P),F=Math.round(F),i.autoMargin(A,m+"-range-selector",{x:u.x,y:u.y,l:w*s[R],r:w*o[R],b:z*o[N],t:z*s[N]}),M.attr("transform",d(P,F))}},48040:function(tt,U,t){var E=t(73220),S=t(3400).titleCase;tt.exports=function(L,T){var v=L._name,d={};if(T.step==="all")d[v+".autorange"]=!0;else{var r=i(L,T);d[v+".range[0]"]=r[0],d[v+".range[1]"]=r[1]}return d};function i(L,T){var v=L.range,d=new Date(L.r2l(v[1])),r=T.step,e=E["utc"+S(r)],l=T.count,n;switch(T.stepmode){case"backward":n=L.l2r(+e.offset(d,-l));break;case"todate":var s=e.offset(d,-l);n=L.l2r(+e.ceil(s));break}var o=v[1];return[n,o]}},41152:function(tt,U,t){tt.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(26680)}}},layoutAttributes:t(26680),handleDefaults:t(22148),draw:t(50216)}},11200:function(tt,U,t){var E=t(22548);tt.exports={bgcolor:{valType:"color",dflt:E.background,editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(tt,U,t){var E=t(79811).list,S=t(19280).getAutoRange,i=t(74636);tt.exports=function(L){for(var T=E(L,"x",!0),v=0;v<T.length;v++){var d=T[v],r=d[i.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=S(L,d))}}},74636:function(tt){tt.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(tt,U,t){var E=t(3400),S=t(31780),i=t(79811),L=t(11200),T=t(10936);tt.exports=function(v,d,r){var e=v[r],l=d[r];if(!(e.rangeslider||d._requestRangeslider[l._id]))return;E.isPlainObject(e.rangeslider)||(e.rangeslider={});var n=e.rangeslider,s=S.newContainer(l,"rangeslider");function o(u,m){return E.coerce(n,s,L,u,m)}var f,b;function h(u,m){return E.coerce(f,b,T,u,m)}var _=o("visible");if(_){o("bgcolor",d.plot_bgcolor),o("bordercolor"),o("borderwidth"),o("thickness"),o("autorange",!l.isValidRange(n.range)),o("range");var a=d._subplots;if(a)for(var c=a.cartesian.filter(function(u){return u.substr(0,u.indexOf("y"))===i.name2id(r)}).map(function(u){return u.substr(u.indexOf("y"),u.length)}),p=E.simpleMap(c,i.id2name),x=0;x<p.length;x++){var k=p[x];f=n[k]||{},b=S.newContainer(s,k,"yaxis");var y=d[k],A;f.range&&y.isValidRange(f.range)&&(A="fixed");var C=h("rangemode",A);C!=="match"&&h("range",y.range.slice())}s._input=n}}},20060:function(tt,U,t){var E=t(33428),S=t(24040),i=t(7316),L=t(3400),T=L.strTranslate,v=t(43616),d=t(76308),r=t(81668),e=t(57952),l=t(79811),n=t(86476),s=t(93972),o=t(74636);tt.exports=function(C){for(var u=C._fullLayout,m=u._rangeSliderData,M=0;M<m.length;M++){var w=m[M][o.name];w._clipId=w._id+"-"+u._uid}function z(D){return D._name}var O=u._infolayer.selectAll("g."+o.containerClassName).data(m,z);O.exit().each(function(D){var P=D[o.name];u._topdefs.select("#"+P._clipId).remove()}).remove(),m.length!==0&&(O.enter().append("g").classed(o.containerClassName,!0).attr("pointer-events","all"),O.each(function(D){var P=E.select(this),F=D[o.name],R=u[l.id2name(D.anchor)],N=F[l.id2name(D.anchor)];if(F.range){var B=L.simpleMap(F.range,D.r2l),q=L.simpleMap(D.range,D.r2l),V;q[0]<q[1]?V=[Math.min(B[0],q[0]),Math.max(B[1],q[1])]:V=[Math.max(B[0],q[0]),Math.min(B[1],q[1])],F.range=F._input.range=L.simpleMap(V,D.l2r)}D.cleanRange("rangeslider.range");var J=u._size,it=D.domain;F._width=J.w*(it[1]-it[0]);var nt=Math.round(J.l+J.w*it[0]),Y=Math.round(J.t+J.h*(1-D._counterDomainMin)+(D.side==="bottom"?D._depth:0)+F._offsetShift+o.extraPad);P.attr("transform",T(nt,Y)),F._rl=L.simpleMap(F.range,D.r2l);var Z=F._rl[0],$=F._rl[1],G=$-Z;if(F.p2d=function(xt){return xt/F._width*G+Z},F.d2p=function(xt){return(xt-Z)/G*F._width},D.rangebreaks){var rt=D.locateBreaks(Z,$);if(rt.length){var ot,W,H=0;for(ot=0;ot<rt.length;ot++)W=rt[ot],H+=W.max-W.min;var at=F._width/($-Z-H),Q=[-at*Z];for(ot=0;ot<rt.length;ot++)W=rt[ot],Q.push(Q[Q.length-1]-at*(W.max-W.min));for(F.d2p=function(xt){for(var Lt=Q[0],gt=0;gt<rt.length;gt++){var mt=rt[gt];if(xt>=mt.max)Lt=Q[gt+1];else if(xt<mt.min)break}return Lt+at*xt},ot=0;ot<rt.length;ot++)W=rt[ot],W.pmin=F.d2p(W.min),W.pmax=F.d2p(W.max);F.p2d=function(xt){for(var Lt=Q[0],gt=0;gt<rt.length;gt++){var mt=rt[gt];if(xt>=mt.pmax)Lt=Q[gt+1];else if(xt<mt.pmin)break}return(xt-Lt)/at}}}if(N.rangemode!=="match"){var ct=R.r2l(N.range[0]),ft=R.r2l(N.range[1]),yt=ft-ct;F.d2pOppAxis=function(xt){return(xt-ct)/yt*F._height}}P.call(a,C,D,F).call(c,C,D,F).call(p,C,D,F).call(k,C,D,F,N).call(y,C,D,F).call(A,C,D,F),b(P,C,D,F),_(P,C,D,F,R,N),D.side==="bottom"&&r.draw(C,D._id+"title",{propContainer:D,propName:D._name+".title",placeholder:u._dfltTitle.x,attributes:{x:D._offset+D._length/2,y:Y+F._height+F._offsetShift+10+1.5*D.title.font.size,"text-anchor":"middle"}})}))};function f(C){return typeof C.clientX=="number"?C.clientX:C.touches&&C.touches.length>0?C.touches[0].clientX:0}function b(C,u,m,M){if(u._context.staticPlot)return;var w=C.select("rect."+o.slideBoxClassName).node(),z=C.select("rect."+o.grabAreaMinClassName).node(),O=C.select("rect."+o.grabAreaMaxClassName).node();function D(){var P=E.event,F=P.target,R=f(P),N=R-C.node().getBoundingClientRect().left,B=M.d2p(m._rl[0]),q=M.d2p(m._rl[1]),V=n.coverSlip();this.addEventListener("touchmove",J),this.addEventListener("touchend",it),V.addEventListener("mousemove",J),V.addEventListener("mouseup",it);function J(nt){var Y=f(nt),Z=+Y-R,$,G,rt;switch(F){case w:if(rt="ew-resize",B+Z>m._length||q+Z<0)return;$=B+Z,G=q+Z;break;case z:if(rt="col-resize",B+Z>m._length)return;$=B+Z,G=q;break;case O:if(rt="col-resize",q+Z<0)return;$=B,G=q+Z;break;default:rt="ew-resize",$=N,G=N+Z;break}if(G<$){var ot=G;G=$,$=ot}M._pixelMin=$,M._pixelMax=G,s(E.select(V),rt),h(C,u,m,M)}function it(){V.removeEventListener("mousemove",J),V.removeEventListener("mouseup",it),this.removeEventListener("touchmove",J),this.removeEventListener("touchend",it),L.removeElement(V)}}C.on("mousedown",D),C.on("touchstart",D)}function h(C,u,m,M){function w(D){return m.l2r(L.constrain(D,M._rl[0],M._rl[1]))}var z=w(M.p2d(M._pixelMin)),O=w(M.p2d(M._pixelMax));window.requestAnimationFrame(function(){S.call("_guiRelayout",u,m._name+".range",[z,O])})}function _(C,u,m,M,w,z){var O=o.handleWidth/2;function D(nt){return L.constrain(nt,0,M._width)}function P(nt){return L.constrain(nt,0,M._height)}function F(nt){return L.constrain(nt,-O,M._width+O)}var R=D(M.d2p(m._rl[0])),N=D(M.d2p(m._rl[1]));if(C.select("rect."+o.slideBoxClassName).attr("x",R).attr("width",N-R),C.select("rect."+o.maskMinClassName).attr("width",R),C.select("rect."+o.maskMaxClassName).attr("x",N).attr("width",M._width-N),z.rangemode!=="match"){var B=M._height-P(M.d2pOppAxis(w._rl[1])),q=M._height-P(M.d2pOppAxis(w._rl[0]));C.select("rect."+o.maskMinOppAxisClassName).attr("x",R).attr("height",B).attr("width",N-R),C.select("rect."+o.maskMaxOppAxisClassName).attr("x",R).attr("y",q).attr("height",M._height-q).attr("width",N-R),C.select("rect."+o.slideBoxClassName).attr("y",B).attr("height",q-B)}var V=.5,J=Math.round(F(R-O))-V,it=Math.round(F(N-O))+V;C.select("g."+o.grabberMinClassName).attr("transform",T(J,V)),C.select("g."+o.grabberMaxClassName).attr("transform",T(it,V))}function a(C,u,m,M){var w=L.ensureSingle(C,"rect",o.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),z=M.borderwidth%2===0?M.borderwidth:M.borderwidth-1,O=-M._offsetShift,D=v.crispRound(u,M.borderwidth);w.attr({width:M._width+z,height:M._height+z,transform:T(O,O),"stroke-width":D}).call(d.stroke,M.bordercolor).call(d.fill,M.bgcolor)}function c(C,u,m,M){var w=u._fullLayout,z=L.ensureSingleById(w._topdefs,"clipPath",M._clipId,function(O){O.append("rect").attr({x:0,y:0})});z.select("rect").attr({width:M._width,height:M._height})}function p(C,u,m,M){var w=u.calcdata,z=C.selectAll("g."+o.rangePlotClassName).data(m._subplotsWith,L.identity);z.enter().append("g").attr("class",function(D){return o.rangePlotClassName+" "+D}).call(v.setClipUrl,M._clipId,u),z.order(),z.exit().remove();var O;z.each(function(D,P){var F=E.select(this),R=P===0,N=l.getFromId(u,D,"y"),B=N._name,q=M[B],V={data:[],layout:{xaxis:{type:m.type,domain:[0,1],range:M.range.slice(),calendar:m.calendar},width:M._width,height:M._height,margin:{t:0,b:0,l:0,r:0}},_context:u._context};m.rangebreaks&&(V.layout.xaxis.rangebreaks=m.rangebreaks),V.layout[B]={type:N.type,domain:[0,1],range:q.rangemode!=="match"?q.range.slice():N.range.slice(),calendar:N.calendar},N.rangebreaks&&(V.layout[B].rangebreaks=N.rangebreaks),i.supplyDefaults(V);var J=V._fullLayout.xaxis,it=V._fullLayout[B];J.clearCalc(),J.setScale(),it.clearCalc(),it.setScale();var nt={id:D,plotgroup:F,xaxis:J,yaxis:it,isRangePlot:!0};R?O=nt:(nt.mainplot="xy",nt.mainplotinfo=O),e.rangePlot(u,nt,x(w,D))})}function x(C,u){for(var m=[],M=0;M<C.length;M++){var w=C[M],z=w[0].trace;z.xaxis+z.yaxis===u&&m.push(w)}return m}function k(C,u,m,M,w){var z=L.ensureSingle(C,"rect",o.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});z.attr("height",M._height).call(d.fill,o.maskColor);var O=L.ensureSingle(C,"rect",o.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(O.attr("height",M._height).call(d.fill,o.maskColor),w.rangemode!=="match"){var D=L.ensureSingle(C,"rect",o.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});D.attr("width",M._width).call(d.fill,o.maskOppAxisColor);var P=L.ensureSingle(C,"rect",o.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});P.attr("width",M._width).style("border-top",o.maskOppBorder).call(d.fill,o.maskOppAxisColor)}}function y(C,u,m,M){if(!u._context.staticPlot){var w=L.ensureSingle(C,"rect",o.slideBoxClassName,function(z){z.attr({y:0,cursor:o.slideBoxCursor,"shape-rendering":"crispEdges"})});w.attr({height:M._height,fill:o.slideBoxFill})}}function A(C,u,m,M){var w=L.ensureSingle(C,"g",o.grabberMinClassName),z=L.ensureSingle(C,"g",o.grabberMaxClassName),O={x:0,width:o.handleWidth,rx:o.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":o.handleStrokeWidth,"shape-rendering":"crispEdges"},D={y:Math.round(M._height/4),height:Math.round(M._height/2)},P=L.ensureSingle(w,"rect",o.handleMinClassName,function(q){q.attr(O)});P.attr(D);var F=L.ensureSingle(z,"rect",o.handleMaxClassName,function(q){q.attr(O)});F.attr(D);var R={width:o.grabAreaWidth,x:0,y:0,fill:o.grabAreaFill,cursor:u._context.staticPlot?void 0:o.grabAreaCursor},N=L.ensureSingle(w,"rect",o.grabAreaMinClassName,function(q){q.attr(R)});N.attr("height",M._height);var B=L.ensureSingle(z,"rect",o.grabAreaMaxClassName,function(q){q.attr(R)});B.attr("height",M._height)}},97944:function(tt,U,t){var E=t(79811),S=t(72736),i=t(74636),L=t(84284).LINE_SPACING,T=i.name;function v(d){var r=d&&d[T];return r&&r.visible}U.isVisible=v,U.makeData=function(d){var r=E.list({_fullLayout:d},"x",!0),e=d.margin,l=[];if(!d._has("gl2d"))for(var n=0;n<r.length;n++){var s=r[n];if(v(s)){l.push(s);var o=s[T];o._id=T+s._id,o._height=(d.height-e.b-e.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}d._rangeSliderData=l},U.autoMarginOpts=function(d,r){var e=d._fullLayout,l=r[T],n=r._id.charAt(0),s=0,o=0;if(r.side==="bottom"&&(s=r._depth,r.title.text!==e._dfltTitle[n])){o=1.5*r.title.font.size+10+l._offsetShift;var f=(r.title.text.match(S.BR_TAG_ALL)||[]).length;o+=f*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:l._height+s+Math.max(e.margin.b,o),pad:i.extraPad+l._offsetShift*2}}},49692:function(tt,U,t){var E=t(3400),S=t(11200),i=t(10936),L=t(97944);tt.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:E.extendFlat({},S,{yaxis:i})}}},layoutAttributes:t(11200),handleDefaults:t(94040),calcAutorange:t(26652),draw:t(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(tt){tt.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(tt,U,t){var E=t(13916),S=t(52904).line,i=t(98192).u,L=t(92880).extendFlat,T=t(67824).overrideAll,v=t(31780).templatedArray;t(36208),tt.exports=T(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},E.xref,{}),yref:L({},E.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:S.color,width:L({},S.width,{min:1,dflt:1}),dash:L({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(tt){tt.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(tt,U,t){var E=t(3400),S=t(54460),i=t(51272),L=t(93956),T=t(65152);tt.exports=function(d,r){i(d,r,{name:"selections",handleItemDefaults:v});for(var e=r.selections,l=0;l<e.length;l++){var n=e[l];n&&n.path===void 0&&(n.x0===void 0||n.x1===void 0||n.y0===void 0||n.y1===void 0)&&(r.selections[l]=null)}};function v(d,r,e){function l(w,z){return E.coerce(d,r,L,w,z)}var n=l("path"),s=n?"path":"rect",o=l("type",s),f=o!=="path";f&&delete r.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var b=["x","y"],h=0;h<2;h++){var _=b[h],a={_fullLayout:e},c,p,x,k=S.coerceRef(d,r,a,_);if(c=S.getFromId(a,k),c._selectionIndices.push(r._index),x=T.rangeToShapePosition(c),p=T.shapePositionToRange(c),f){var y=_+"0",A=_+"1",C=d[y],u=d[A];d[y]=p(d[y],!0),d[A]=p(d[A],!0),S.coercePosition(r,a,l,k,y),S.coercePosition(r,a,l,k,A);var m=r[y],M=r[A];m!==void 0&&M!==void 0&&(r[y]=x(m),r[A]=x(M),d[y]=C,d[A]=u)}}f&&E.noneOrAll(d,r,["x0","x1","y0","y1"])}},23640:function(tt,U,t){var E=t(9856).readPaths,S=t(55496),i=t(1936).clearOutlineControllers,L=t(76308),T=t(43616),v=t(31780).arrayEditor,d=t(65152),r=d.getPathString;tt.exports={draw:e,drawOne:n,activateLastSelection:f};function e(h){var _=h._fullLayout;i(h),_._selectionLayer.selectAll("path").remove();for(var a in _._plots){var c=_._plots[a].selectionLayer;c&&c.selectAll("path").remove()}for(var p=0;p<_.selections.length;p++)n(h,p)}function l(h){return h._context.editSelection}function n(h,_){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+_+'"]').remove();var a=d.makeSelectionsOptionsAndPlotinfo(h,_),c=a.options,p=a.plotinfo;if(!c._input)return;x(h._fullLayout._selectionLayer);function x(k){var y=r(h,c),A={"data-index":_,"fill-rule":"evenodd",d:y},C=c.opacity,u="rgba(0,0,0,0)",m=c.line.color||L.contrast(h._fullLayout.plot_bgcolor),M=c.line.width,w=c.line.dash;M||(M=5,w="solid");var z=l(h)&&h._fullLayout._activeSelectionIndex===_;z&&(u=h._fullLayout.activeselection.fillcolor,C=h._fullLayout.activeselection.opacity);for(var O=[],D=1;D>=0;D--){var P=k.append("path").attr(A).style("opacity",D?.1:C).call(L.stroke,m).call(L.fill,u).call(T.dashLine,D?"solid":w,D?4+M:M);if(s(P,h,c),z){var F=v(h.layout,"selections",c);P.style({cursor:"move"});var R={element:P.node(),plotinfo:p,gd:h,editHelpers:F,isActiveSelection:!0},N=E(y,h);S(N,P,R)}else P.style("pointer-events",D?"all":"none");O[D]=P}var B=O[0],q=O[1];q.node().addEventListener("click",function(){return o(h,B)})}}function s(h,_,a){var c=a.xref+a.yref;T.setClipUrl(h,"clip"+_._fullLayout._uid+c,_)}function o(h,_){if(l(h)){var a=_.node(),c=+a.getAttribute("data-index");if(c>=0){if(c===h._fullLayout._activeSelectionIndex){b(h);return}h._fullLayout._activeSelectionIndex=c,h._fullLayout._deactivateSelection=b,e(h)}}}function f(h){if(l(h)){var _=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=_,h._fullLayout._deactivateSelection=b,e(h)}}function b(h){if(l(h)){var _=h._fullLayout._activeSelectionIndex;_>=0&&(i(h),delete h._fullLayout._activeSelectionIndex,e(h))}}},34200:function(tt,U,t){var E=t(98192).u,S=t(92880).extendFlat;tt.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:S({},E,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(tt){tt.exports=function(U,t,E){E("newselection.mode");var S=E("newselection.line.width");S&&(E("newselection.line.color"),E("newselection.line.dash")),E("activeselection.fillcolor"),E("activeselection.opacity")}},5968:function(tt,U,t){var E=t(72760),S=E.selectMode,i=t(1936),L=i.clearOutline,T=t(9856),v=T.readPaths,d=T.writePaths,r=T.fixDatesForPaths;tt.exports=function(e,l){if(e.length){var n=e[0][0];if(n){var s=n.getAttribute("d"),o=l.gd,f=o._fullLayout.newselection,b=l.plotinfo,h=b.xaxis,_=b.yaxis,a=l.isActiveSelection,c=l.dragmode,p=(o.layout||{}).selections||[];if(!S(c)&&a!==void 0){var x=o._fullLayout._activeSelectionIndex;if(x<p.length)switch(o._fullLayout.selections[x].type){case"rect":c="select";break;case"path":c="lasso";break}}var k=v(s,o,b,a),y={xref:h._id,yref:_._id,opacity:f.opacity,line:{color:f.line.color,width:f.line.width,dash:f.line.dash}},A;k.length===1&&(A=k[0]),A&&A.length===5&&c==="select"?(y.type="rect",y.x0=A[0][1],y.y0=A[0][2],y.x1=A[2][1],y.y1=A[2][2]):(y.type="path",h&&_&&r(k,h,_),y.path=d(k),A=null),L(o);for(var C=l.editHelpers,u=(C||{}).modifyItem,m=[],M=0;M<p.length;M++){var w=o._fullLayout.selections[M];if(!w){m[M]=w;continue}if(m[M]=w._input,a!==void 0&&M===o._fullLayout._activeSelectionIndex){var z=y;switch(w.type){case"rect":u("x0",z.x0),u("x1",z.x1),u("y0",z.y0),u("y1",z.y1);break;case"path":u("path",z.path);break}}}return a===void 0?(m.push(y),m):C?C.getUpdateObj():{}}}}},5840:function(tt,U,t){var E=t(3400).strTranslate;function S(v,d){switch(v.type){case"log":return v.p2d(d);case"date":return v.p2r(d,0,v.calendar);default:return v.p2r(d)}}function i(v,d){switch(v.type){case"log":return v.d2p(d);case"date":return v.r2p(d,0,v.calendar);default:return v.r2p(d)}}function L(v){var d=v._id.charAt(0)==="y"?1:0;return function(r){return S(v,r[d])}}function T(v){return E(v.xaxis._offset,v.yaxis._offset)}tt.exports={p2r:S,r2p:i,axValue:L,getTransform:T}},22676:function(tt,U,t){var E=t(23640),S=t(43156);tt.exports={moduleType:"component",name:"selections",layoutAttributes:t(93956),supplyLayoutDefaults:t(74224),supplyDrawNewSelectionDefaults:t(81004),includeBasePlot:t(36632)("selections"),draw:E.draw,drawOne:E.drawOne,reselect:S.reselect,prepSelect:S.prepSelect,clearOutline:S.clearOutline,clearSelectionsCache:S.clearSelectionsCache,selectOnClick:S.selectOnClick}},43156:function(tt,U,t){var E=t(14756),S=t(61456),i=t(24040),L=t(43616).dashStyle,T=t(76308),v=t(93024),d=t(10624).makeEventData,r=t(72760),e=r.freeMode,l=r.rectMode,n=r.drawMode,s=r.openMode,o=r.selectMode,f=t(65152),b=t(85448),h=t(55496),_=t(1936).clearOutline,a=t(9856),c=a.handleEllipse,p=a.readPaths,x=t(93940).newShapes,k=t(5968),y=t(23640).activateLastSelection,A=t(3400),C=A.sorterAsc,u=t(92065),m=t(91200),M=t(79811).getFromId,w=t(73696),z=t(39172).redrawReglTraces,O=t(83280),D=O.MINSELECT,P=u.filter,F=u.tester,R=t(5840),N=R.p2r,B=R.axValue,q=R.getTransform;function V(Bt){return Bt.subplot!==void 0}function J(Bt,Mt,St,Dt,dt){var ht=!V(Dt),bt=e(dt),zt=l(dt),qt=s(dt),te=n(dt),re=o(dt),Ye=dt==="drawline",Be=dt==="drawcircle",ge=Ye||Be,be=Dt.gd,Ne=be._fullLayout,pr=re&&Ne.newselection.mode==="immediate"&&ht,fe=Ne._zoomlayer,De=Dt.element.getBoundingClientRect(),Ge=Dt.plotinfo,vr=q(Ge),$e=Mt-De.left,Kt=St-De.top;Ne._calcInverseTransform(be);var ie=A.apply3DTransform(Ne._invTransform)($e,Kt);$e=ie[0],Kt=ie[1];var he=Ne._invScaleX,Ae=Ne._invScaleY,Ee=$e,Fe=Kt,Re="M"+$e+","+Kt,Ce=Dt.xaxes[0],We=Dt.yaxes[0],er=Ce._length,Ue=We._length,ar=Bt.altKey&&!(n(dt)&&qt),It,Ut,Me,ke,qe,Ke,Je;G(Bt,be,Dt),bt&&(It=P([[$e,Kt]],O.BENDPX));var Ve=fe.selectAll("path.select-outline-"+Ge.id).data([1]),Pe=te?Ne.newshape:Ne.newselection;te&&(Dt.hasText=Pe.label.text||Pe.label.texttemplate);var rr=te&&!qt?Pe.fillcolor:"rgba(0,0,0,0)",lr=Pe.line.color||(ht?T.contrast(be._fullLayout.plot_bgcolor):"#7f7f7f");Ve.enter().append("path").attr("class","select-outline select-outline-"+Ge.id).style({opacity:te?Pe.opacity/2:1,"stroke-dasharray":L(Pe.line.dash,Pe.line.width),"stroke-width":Pe.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,lr).call(T.fill,rr).attr("fill-rule","evenodd").classed("cursor-move",!!te).attr("transform",vr).attr("d",Re+"Z");var cr=fe.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",vr).attr("d","M0,0Z");if(te&&Dt.hasText){var ir=fe.select(".label-temp");ir.empty()&&(ir=fe.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Er=Ne._uid+O.SELECTID,kr=[],Mr=at(be,Dt.xaxes,Dt.yaxes,Dt.subplot);pr&&!Bt.shiftKey&&(Dt._clearSubplotSelections=function(){if(ht){var Gr=Ce._id,vn=We._id;Gt(be,Gr,vn,Mr);for(var yn=(be.layout||{}).selections||[],hr=[],Lr=!1,Ir=0;Ir<yn.length;Ir++){var Rr=Ne.selections[Ir];Rr.xref!==Gr||Rr.yref!==vn?hr.push(yn[Ir]):Lr=!0}Lr&&(be._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",be,{selections:hr}))}});var $r=Tt(Dt);Dt.moveFn=function(Gr,vn){Dt._clearSubplotSelections&&(Dt._clearSubplotSelections(),Dt._clearSubplotSelections=void 0),Ee=Math.max(0,Math.min(er,he*Gr+$e)),Fe=Math.max(0,Math.min(Ue,Ae*vn+Kt));var yn=Math.abs(Ee-$e),hr=Math.abs(Fe-Kt);if(zt){var Lr,Ir,Rr;if(re){var on=Ne.selectdirection;switch(on==="any"?hr<Math.min(yn*.6,D)?Lr="h":yn<Math.min(hr*.6,D)?Lr="v":Lr="d":Lr=on,Lr){case"h":Ir=Be?Ue/2:0,Rr=Ue;break;case"v":Ir=Be?er/2:0,Rr=er;break}}if(te)switch(Ne.newshape.drawdirection){case"vertical":Lr="h",Ir=Be?Ue/2:0,Rr=Ue;break;case"horizontal":Lr="v",Ir=Be?er/2:0,Rr=er;break;case"ortho":yn<hr?(Lr="h",Ir=Kt,Rr=Fe):(Lr="v",Ir=$e,Rr=Ee);break;default:Lr="d"}Lr==="h"?(ke=ge?c(Be,[Ee,Ir],[Ee,Rr]):[[$e,Ir],[$e,Rr],[Ee,Rr],[Ee,Ir]],ke.xmin=ge?Ee:Math.min($e,Ee),ke.xmax=ge?Ee:Math.max($e,Ee),ke.ymin=Math.min(Ir,Rr),ke.ymax=Math.max(Ir,Rr),cr.attr("d","M"+ke.xmin+","+(Kt-D)+"h-4v"+2*D+"h4ZM"+(ke.xmax-1)+","+(Kt-D)+"h4v"+2*D+"h-4Z")):Lr==="v"?(ke=ge?c(Be,[Ir,Fe],[Rr,Fe]):[[Ir,Kt],[Ir,Fe],[Rr,Fe],[Rr,Kt]],ke.xmin=Math.min(Ir,Rr),ke.xmax=Math.max(Ir,Rr),ke.ymin=ge?Fe:Math.min(Kt,Fe),ke.ymax=ge?Fe:Math.max(Kt,Fe),cr.attr("d","M"+($e-D)+","+ke.ymin+"v-4h"+2*D+"v4ZM"+($e-D)+","+(ke.ymax-1)+"v4h"+2*D+"v-4Z")):Lr==="d"&&(ke=ge?c(Be,[$e,Kt],[Ee,Fe]):[[$e,Kt],[$e,Fe],[Ee,Fe],[Ee,Kt]],ke.xmin=Math.min($e,Ee),ke.xmax=Math.max($e,Ee),ke.ymin=Math.min(Kt,Fe),ke.ymax=Math.max(Kt,Fe),cr.attr("d","M0,0Z"))}else bt&&(It.addPt([Ee,Fe]),ke=It.filtered);if(Dt.selectionDefs&&Dt.selectionDefs.length?(Me=vt(Dt.mergedPolygons,ke,ar),ke.subtract=ar,Ut=$(Dt.selectionDefs.concat([ke]))):(Me=[ke],Ut=F(ke)),h(Ot(Me,qt),Ve,Dt),re){var an=Et(be,!1),gn=an.eventData?an.eventData.points.slice():[];an=Et(be,!1,Ut,Mr,Dt),Ut=an.selectionTesters,Je=an.eventData;var Mn;It?Mn=It.filtered:Mn=ce(Me),m.throttle(Er,O.SELECTDELAY,function(){kr=Pt(Ut,Mr);for(var Pn=kr.slice(),Kn=0;Kn<gn.length;Kn++){for(var ai=gn[Kn],ui=!1,ni=0;ni<Pn.length;ni++)if(Pn[ni].curveNumber===ai.curveNumber&&Pn[ni].pointNumber===ai.pointNumber){ui=!0;break}ui||Pn.push(ai)}Pn.length&&(Je||(Je={}),Je.points=Pn),$r(Je,Mn),Ft(be,Je)})}},Dt.clickFn=function(Gr,vn){if(cr.remove(),be._fullLayout._activeShapeIndex>=0){be._fullLayout._deactivateShape(be);return}if(!te){var yn=Ne.clickmode;m.done(Er).then(function(){if(m.clear(Er),Gr===2){for(Ve.remove(),qe=0;qe<Mr.length;qe++)Ke=Mr[qe],Ke._module.selectPoints(Ke,!1);if(gt(be,Mr),W(Dt),Wt(be),Mr.length){var hr=Mr[0].xaxis,Lr=Mr[0].yaxis;if(hr&&Lr){for(var Ir=[],Rr=be._fullLayout.selections,on=0;on<Rr.length;on++){var an=Rr[on];an&&(an.xref!==hr._id||an.yref!==Lr._id)&&Ir.push(an)}Ir.length<Rr.length&&(be._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",be,{selections:Ir}))}}}else yn.indexOf("select")>-1&&it(vn,be,Dt.xaxes,Dt.yaxes,Dt.subplot,Dt,Ve),yn==="event"&&$t(be,void 0);v.click(be,vn,Ge.id)}).catch(A.error)}},Dt.doneFn=function(){cr.remove(),m.done(Er).then(function(){m.clear(Er),!pr&&ke&&Dt.selectionDefs&&(ke.subtract=ar,Dt.selectionDefs.push(ke),Dt.mergedPolygons.length=0,[].push.apply(Dt.mergedPolygons,Me)),(pr||te)&&W(Dt,pr),Dt.doneFnCompleted&&Dt.doneFnCompleted(kr),re&&$t(be,Je)}).catch(A.error)}}function it(Bt,Mt,St,Dt,dt,ht,bt){var zt=Mt._hoverdata,qt=Mt._fullLayout,te=qt.clickmode,re=te.indexOf("event")>-1,Ye=[],Be,ge,be,Ne,pr,fe,De,Ge,vr,$e;if(ct(zt)){G(Bt,Mt,ht),Be=at(Mt,St,Dt,dt);var Kt=ft(zt,Be),ie=Kt.pointNumbers.length>0;if(ie?xt(Be,Kt):Lt(Be)&&(De=yt(Kt))){for(bt&&bt.remove(),$e=0;$e<Be.length;$e++)ge=Be[$e],ge._module.selectPoints(ge,!1);gt(Mt,Be),W(ht),re&&Wt(Mt)}else{Ge=Bt.shiftKey&&(De!==void 0?De:yt(Kt)),be=nt(Kt.pointNumber,Kt.searchInfo,Ge);var he=ht.selectionDefs.concat([be]);for(Ne=$(he),$e=0;$e<Be.length;$e++)if(pr=Be[$e]._module.selectPoints(Be[$e],Ne),fe=At(pr,Be[$e]),Ye.length)for(var Ae=0;Ae<fe.length;Ae++)Ye.push(fe[Ae]);else Ye=fe;if(vr={points:Ye},gt(Mt,Be,vr),be&&ht&&ht.selectionDefs.push(be),bt){var Ee=ht.mergedPolygons,Fe=s(ht.dragmode);h(Ot(Ee,Fe),bt,ht)}re&&$t(Mt,vr)}}}function nt(Bt,Mt,St){return{pointNumber:Bt,searchInfo:Mt,subtract:!!St}}function Y(Bt){return"pointNumber"in Bt&&"searchInfo"in Bt}function Z(Bt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Mt,St,Dt,dt){var ht=Bt.searchInfo.cd[0].trace._expandedIndex,bt=dt.cd[0].trace._expandedIndex;return bt===ht&&Dt===Bt.pointNumber},isRect:!1,degenerate:!1,subtract:!!Bt.subtract}}function $(Bt){if(!Bt.length)return;for(var Mt=[],St=Y(Bt[0])?0:Bt[0][0][0],Dt=St,dt=Y(Bt[0])?0:Bt[0][0][1],ht=dt,bt=0;bt<Bt.length;bt++)if(Y(Bt[bt]))Mt.push(Z(Bt[bt]));else{var zt=F(Bt[bt]);zt.subtract=!!Bt[bt].subtract,Mt.push(zt),St=Math.min(St,zt.xmin),Dt=Math.max(Dt,zt.xmax),dt=Math.min(dt,zt.ymin),ht=Math.max(ht,zt.ymax)}function qt(te,re,Ye,Be){for(var ge=!1,be=0;be<Mt.length;be++)Mt[be].contains(te,re,Ye,Be)&&(ge=!Mt[be].subtract);return ge}return{xmin:St,xmax:Dt,ymin:dt,ymax:ht,pts:[],contains:qt,isRect:!1,degenerate:!1}}function G(Bt,Mt,St){var Dt=Mt._fullLayout,dt=St.plotinfo,ht=St.dragmode,bt=Dt._lastSelectedSubplot&&Dt._lastSelectedSubplot===dt.id,zt=(Bt.shiftKey||Bt.altKey)&&!(n(ht)&&s(ht));bt&&zt&&dt.selection&&dt.selection.selectionDefs&&!St.selectionDefs?(St.selectionDefs=dt.selection.selectionDefs,St.mergedPolygons=dt.selection.mergedPolygons):(!zt||!dt.selection)&&W(St),bt||(_(Mt),Dt._lastSelectedSubplot=dt.id)}function rt(Bt){return Bt._fullLayout._activeShapeIndex>=0}function ot(Bt){return Bt._fullLayout._activeSelectionIndex>=0}function W(Bt,Mt){var St=Bt.dragmode,Dt=Bt.plotinfo,dt=Bt.gd;rt(dt)&&dt._fullLayout._deactivateShape(dt),ot(dt)&&dt._fullLayout._deactivateSelection(dt);var ht=dt._fullLayout,bt=ht._zoomlayer,zt=n(St),qt=o(St);if(zt||qt){var te=bt.selectAll(".select-outline-"+Dt.id);if(te&&dt._fullLayout._outlining){var re;zt&&(re=x(te,Bt)),re&&i.call("_guiRelayout",dt,{shapes:re});var Ye;qt&&!V(Bt)&&(Ye=k(te,Bt)),Ye&&(dt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",dt,{selections:Ye}).then(function(){Mt&&y(dt)})),dt._fullLayout._outlining=!1}}Dt.selection={},Dt.selection.selectionDefs=Bt.selectionDefs=[],Dt.selection.mergedPolygons=Bt.mergedPolygons=[]}function H(Bt){return Bt._id}function at(Bt,Mt,St,Dt){if(!Bt.calcdata)return[];var dt=[],ht=Mt.map(H),bt=St.map(H),zt,qt,te;for(te=0;te<Bt.calcdata.length;te++)if(zt=Bt.calcdata[te],qt=zt[0].trace,!(qt.visible!==!0||!qt._module||!qt._module.selectPoints))if(V({subplot:Dt})&&(qt.subplot===Dt||qt.geo===Dt))dt.push(Q(qt._module,zt,Mt[0],St[0]));else if(qt.type==="splom"){if(qt._xaxes[ht[0]]&&qt._yaxes[bt[0]]){var re=Q(qt._module,zt,Mt[0],St[0]);re.scene=Bt._fullLayout._splomScenes[qt.uid],dt.push(re)}}else if(qt.type==="sankey"){var Ye=Q(qt._module,zt,Mt[0],St[0]);dt.push(Ye)}else{if(ht.indexOf(qt.xaxis)===-1&&(!qt._xA||!qt._xA.overlaying)||bt.indexOf(qt.yaxis)===-1&&(!qt._yA||!qt._yA.overlaying))continue;dt.push(Q(qt._module,zt,M(Bt,qt.xaxis),M(Bt,qt.yaxis)))}return dt}function Q(Bt,Mt,St,Dt){return{_module:Bt,cd:Mt,xaxis:St,yaxis:Dt}}function ct(Bt){return Bt&&Array.isArray(Bt)&&Bt[0].hoverOnBox!==!0}function ft(Bt,Mt){var St=Bt[0],Dt=-1,dt=[],ht,bt;for(bt=0;bt<Mt.length;bt++)if(ht=Mt[bt],St.fullData._expandedIndex===ht.cd[0].trace._expandedIndex){if(St.hoverOnBox===!0)break;St.pointNumber!==void 0?Dt=St.pointNumber:St.binNumber!==void 0&&(Dt=St.binNumber,dt=St.pointNumbers);break}return{pointNumber:Dt,pointNumbers:dt,searchInfo:ht}}function yt(Bt){var Mt=Bt.searchInfo.cd[0].trace,St=Bt.pointNumber,Dt=Bt.pointNumbers,dt=Dt.length>0,ht=dt?Dt[0]:St;return Mt.selectedpoints?Mt.selectedpoints.indexOf(ht)>-1:!1}function xt(Bt,Mt){var St=[],Dt,dt,ht,bt;for(bt=0;bt<Bt.length;bt++)Dt=Bt[bt],Dt.cd[0].trace.selectedpoints&&Dt.cd[0].trace.selectedpoints.length>0&&St.push(Dt);if(St.length===1&&(ht=St[0]===Mt.searchInfo,ht&&(dt=Mt.searchInfo.cd[0].trace,dt.selectedpoints.length===Mt.pointNumbers.length))){for(bt=0;bt<Mt.pointNumbers.length;bt++)if(dt.selectedpoints.indexOf(Mt.pointNumbers[bt])<0)return!1;return!0}return!1}function Lt(Bt){var Mt=0,St,Dt,dt;for(dt=0;dt<Bt.length;dt++)if(St=Bt[dt],Dt=St.cd[0].trace,Dt.selectedpoints&&(Dt.selectedpoints.length>1||(Mt+=Dt.selectedpoints.length,Mt>1)))return!1;return Mt===1}function gt(Bt,Mt,St){var Dt;for(Dt=0;Dt<Mt.length;Dt++){var dt=Mt[Dt].cd[0].trace._fullInput,ht=Bt._fullLayout._tracePreGUI[dt.uid]||{};ht.selectedpoints===void 0&&(ht.selectedpoints=dt._input.selectedpoints||null)}var bt;if(St){var zt=St.points||[];for(Dt=0;Dt<Mt.length;Dt++)bt=Mt[Dt].cd[0].trace,bt._input.selectedpoints=bt._fullInput.selectedpoints=[],bt._fullInput!==bt&&(bt.selectedpoints=[]);for(var qt=0;qt<zt.length;qt++){var te=zt[qt],re=te.data,Ye=te.fullData,Be=te.pointIndex,ge=te.pointIndices;ge?([].push.apply(re.selectedpoints,ge),bt._fullInput!==bt&&[].push.apply(Ye.selectedpoints,ge)):(re.selectedpoints.push(Be),bt._fullInput!==bt&&Ye.selectedpoints.push(Be))}}else for(Dt=0;Dt<Mt.length;Dt++)bt=Mt[Dt].cd[0].trace,delete bt.selectedpoints,delete bt._input.selectedpoints,bt._fullInput!==bt&&delete bt._fullInput.selectedpoints;mt(Bt,Mt)}function mt(Bt,Mt){for(var St=!1,Dt=0;Dt<Mt.length;Dt++){var dt=Mt[Dt],ht=dt.cd;i.traceIs(ht[0].trace,"regl")&&(St=!0);var bt=dt._module,zt=bt.styleOnSelect||bt.style;zt&&(zt(Bt,ht,ht[0].node3),ht[0].nodeRangePlot3&&zt(Bt,ht,ht[0].nodeRangePlot3))}St&&(w(Bt),z(Bt))}function vt(Bt,Mt,St){for(var Dt=St?E.difference:E.union,dt=Dt({regions:Bt},{regions:[Mt]}),ht=dt.regions.reverse(),bt=0;bt<ht.length;bt++){var zt=ht[bt];zt.subtract=ae(zt,ht.slice(0,bt))}return ht}function At(Bt,Mt){if(Array.isArray(Bt))for(var St=Mt.cd,Dt=Mt.cd[0].trace,dt=0;dt<Bt.length;dt++)Bt[dt]=d(Bt[dt],Dt,St);return Bt}function Ot(Bt,Mt){for(var St=[],Dt=0;Dt<Bt.length;Dt++){St[Dt]=[];for(var dt=0;dt<Bt[Dt].length;dt++){St[Dt][dt]=[],St[Dt][dt][0]=dt?"L":"M";for(var ht=0;ht<Bt[Dt][dt].length;ht++)St[Dt][dt].push(Bt[Dt][dt][ht])}Mt||St[Dt].push(["Z",St[Dt][0][1],St[Dt][0][2]])}return St}function Pt(Bt,Mt){for(var St=[],Dt,dt=[],ht,bt=0;bt<Mt.length;bt++){var zt=Mt[bt];ht=zt._module.selectPoints(zt,Bt),dt.push(ht),Dt=At(ht,zt),St=St.concat(Dt)}return St}function Et(Bt,Mt,St,Dt,dt){var ht=!!Dt,bt,zt,qt;dt&&(bt=dt.plotinfo,zt=dt.xaxes[0]._id,qt=dt.yaxes[0]._id);var te=[],re=[],Ye=Vt(Bt),Be=Bt._fullLayout;if(bt){var ge=Be._zoomlayer,be=Be.dragmode,Ne=n(be),pr=o(be);if(Ne||pr){var fe=M(Bt,zt,"x"),De=M(Bt,qt,"y");if(fe&&De){var Ge=ge.selectAll(".select-outline-"+bt.id);if(Ge&&Bt._fullLayout._outlining&&Ge.length){for(var vr=Ge[0][0],$e=vr.getAttribute("d"),Kt=p($e,Bt,bt),ie=[],he=0;he<Kt.length;he++){for(var Ae=Kt[he],Ee=[],Fe=0;Fe<Ae.length;Fe++)Ee.push([oe(fe,Ae[Fe][1]),oe(De,Ae[Fe][2])]);Ee.xref=zt,Ee.yref=qt,Ee.subtract=ae(Ee,ie),ie.push(Ee)}Ye=Ye.concat(ie)}}}}var Re=zt&&qt?[zt+qt]:Be._subplots.cartesian;Nt(Bt);for(var Ce={},We=0;We<Re.length;We++){var er=Re[We],Ue=er.indexOf("y"),ar=er.slice(0,Ue),It=er.slice(Ue),Ut=zt&&qt?St:void 0;if(Ut=pe(Ye,ar,It,Ut),Ut){var Me=Dt;if(!ht){var ke=M(Bt,ar,"x"),qe=M(Bt,It,"y");Me=at(Bt,[ke],[qe],er);for(var Ke=0;Ke<Me.length;Ke++){var Je=Me[Ke],Ve=Je.cd[0],Pe=Ve.trace;if(Je._module.name==="scattergl"&&!Ve.t.xpx){var rr=Pe.x,lr=Pe.y,cr=Pe._length;Ve.t.xpx=[],Ve.t.ypx=[];for(var ir=0;ir<cr;ir++)Ve.t.xpx[ir]=ke.c2p(rr[ir]),Ve.t.ypx[ir]=qe.c2p(lr[ir])}Je._module.name==="splom"&&(Ce[Pe.uid]||(Ce[Pe.uid]=!0))}}var Er=Pt(Ut,Me);te=te.concat(Er),re=re.concat(Me)}}var kr={points:te};gt(Bt,re,kr);var Mr=Be.clickmode,$r=Mr.indexOf("event")>-1&&Mt;if(!bt&&Mt){var Gr=Vt(Bt,!0);if(Gr.length){var vn=Gr[0].xref,yn=Gr[0].yref;if(vn&&yn){var hr=ce(Gr),Lr=ye([M(Bt,vn,"x"),M(Bt,yn,"y")]);Lr(kr,hr)}}Bt._fullLayout._noEmitSelectedAtStart?Bt._fullLayout._noEmitSelectedAtStart=!1:$r&&$t(Bt,kr),Be._reselect=!1}if(!bt&&Be._deselect){var Ir=Be._deselect;zt=Ir.xref,qt=Ir.yref,ne(zt,qt,re)||Gt(Bt,zt,qt,Dt),$r&&(kr.points.length?$t(Bt,kr):Wt(Bt)),Be._deselect=!1}return{eventData:kr,selectionTesters:St}}function Nt(Bt){var Mt=Bt.calcdata;if(Mt)for(var St=0;St<Mt.length;St++){var Dt=Mt[St][0],dt=Dt.trace,ht=Bt._fullLayout._splomScenes;if(ht){var bt=ht[dt.uid];bt&&(bt.selectBatch=[])}}}function ne(Bt,Mt,St){for(var Dt=0;Dt<St.length;Dt++){var dt=St[Dt];if(dt.xaxis&&dt.xaxis._id===Bt&&dt.yaxis&&dt.yaxis._id===Mt)return!0}return!1}function Gt(Bt,Mt,St,Dt){Dt=at(Bt,[M(Bt,Mt,"x")],[M(Bt,St,"y")],Mt+St);for(var dt=0;dt<Dt.length;dt++){var ht=Dt[dt];ht._module.selectPoints(ht,!1)}gt(Bt,Dt)}function pe(Bt,Mt,St,Dt){for(var dt,ht=0;ht<Bt.length;ht++){var bt=Bt[ht];if(!(Mt!==bt.xref||St!==bt.yref))if(dt){var zt=!!bt.subtract;dt=vt(dt,bt,zt),Dt=$(dt)}else dt=[bt],Dt=F(bt)}return Dt}function Vt(Bt,Mt){for(var St=[],Dt=Bt._fullLayout,dt=Dt.selections,ht=dt.length,bt=0;bt<ht;bt++)if(!(Mt&&bt!==Dt._activeSelectionIndex)){var zt=dt[bt];if(zt){var qt=zt.xref,te=zt.yref,re=M(Bt,qt,"x"),Ye=M(Bt,te,"y"),Be,ge,be,Ne,pr;if(zt.type==="rect"){pr=[];var fe=oe(re,zt.x0),De=oe(re,zt.x1),Ge=oe(Ye,zt.y0),vr=oe(Ye,zt.y1);pr=[[fe,Ge],[fe,vr],[De,vr],[De,Ge]],Be=Math.min(fe,De),ge=Math.max(fe,De),be=Math.min(Ge,vr),Ne=Math.max(Ge,vr),pr.xmin=Be,pr.xmax=ge,pr.ymin=be,pr.ymax=Ne,pr.xref=qt,pr.yref=te,pr.subtract=!1,pr.isRect=!0,St.push(pr)}else if(zt.type==="path")for(var $e=zt.path.split("Z"),Kt=[],ie=0;ie<$e.length;ie++){var he=$e[ie];if(he){he+="Z";var Ae=f.extractPathCoords(he,b.paramIsX,"raw"),Ee=f.extractPathCoords(he,b.paramIsY,"raw");Be=1/0,ge=-1/0,be=1/0,Ne=-1/0,pr=[];for(var Fe=0;Fe<Ae.length;Fe++){var Re=oe(re,Ae[Fe]),Ce=oe(Ye,Ee[Fe]);pr.push([Re,Ce]),Be=Math.min(Re,Be),ge=Math.max(Re,ge),be=Math.min(Ce,be),Ne=Math.max(Ce,Ne)}pr.xmin=Be,pr.xmax=ge,pr.ymin=be,pr.ymax=Ne,pr.xref=qt,pr.yref=te,pr.subtract=ae(pr,Kt),Kt.push(pr),St.push(pr)}}}}return St}function ae(Bt,Mt){for(var St=!1,Dt=0;Dt<Mt.length;Dt++)for(var dt=Mt[Dt],ht=0;ht<Bt.length;ht++)if(S(Bt[ht],dt)){St=!St;break}return St}function oe(Bt,Mt){return Bt.type==="date"&&(Mt=Mt.replace("_"," ")),Bt.type==="log"?Bt.c2p(Mt):Bt.r2p(Mt,null,Bt.calendar)}function ce(Bt){for(var Mt=Bt.length,St=[],Dt=0;Dt<Mt;Dt++){var dt=Bt[Dt];St=St.concat(dt),St=St.concat([dt[0]])}return le(St)}function le(Bt){return Bt.isRect=Bt.length===5&&Bt[0][0]===Bt[4][0]&&Bt[0][1]===Bt[4][1]&&Bt[0][0]===Bt[1][0]&&Bt[2][0]===Bt[3][0]&&Bt[0][1]===Bt[3][1]&&Bt[1][1]===Bt[2][1]||Bt[0][1]===Bt[1][1]&&Bt[2][1]===Bt[3][1]&&Bt[0][0]===Bt[3][0]&&Bt[1][0]===Bt[2][0],Bt.isRect&&(Bt.xmin=Math.min(Bt[0][0],Bt[2][0]),Bt.xmax=Math.max(Bt[0][0],Bt[2][0]),Bt.ymin=Math.min(Bt[0][1],Bt[2][1]),Bt.ymax=Math.max(Bt[0][1],Bt[2][1])),Bt}function ye(Bt){return function(Mt,St){for(var Dt,dt,ht=0;ht<Bt.length;ht++){var bt=Bt[ht],zt=bt._id,qt=zt.charAt(0);if(St.isRect){Dt||(Dt={});var te=St[qt+"min"],re=St[qt+"max"];te!==void 0&&re!==void 0&&(Dt[zt]=[N(bt,te),N(bt,re)].sort(C))}else dt||(dt={}),dt[zt]=St.map(B(bt))}Dt&&(Mt.range=Dt),dt&&(Mt.lassoPoints=dt)}}function Tt(Bt){var Mt=Bt.plotinfo;return Mt.fillRangeItems||ye(Bt.xaxes.concat(Bt.yaxes))}function Ft(Bt,Mt){Bt.emit("plotly_selecting",Mt)}function $t(Bt,Mt){Mt&&(Mt.selections=(Bt.layout||{}).selections||[]),Bt.emit("plotly_selected",Mt)}function Wt(Bt){Bt.emit("plotly_deselect",null)}tt.exports={reselect:Et,prepSelect:J,clearOutline:_,clearSelectionsCache:W,selectOnClick:it}},46056:function(tt,U,t){var E=t(13916),S=t(25376),i=t(52904).line,L=t(98192).u,T=t(92880).extendFlat,v=t(31780).templatedArray;t(36208);var d=t(45464),r=t(21776).ye,e=t(97728);tt.exports=v("shape",{visible:T({},d.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:T({},d.legend,{editType:"calc+arraydraw"}),legendgroup:T({},d.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:T({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:S({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:T({},d.legendrank,{editType:"calc+arraydraw"}),legendwidth:T({},d.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:T({},E.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},E.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},i.color,{editType:"arraydraw"}),width:T({},i.width,{editType:"calc+arraydraw"}),dash:T({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(e)}),font:S({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(tt,U,t){var E=t(3400),S=t(54460),i=t(85448),L=t(65152);tt.exports=function(e){var l=e._fullLayout,n=E.filterVisible(l.shapes);if(!(!n.length||!e._fullData.length))for(var s=0;s<n.length;s++){var o=n[s];o._extremes={};var f,b,h=S.getRefType(o.xref),_=S.getRefType(o.yref);if(o.xref!=="paper"&&h!=="domain"){var a=o.xsizemode==="pixel"?o.xanchor:o.x0,c=o.xsizemode==="pixel"?o.xanchor:o.x1;f=S.getFromId(e,o.xref),b=r(f,a,c,o.path,i.paramIsX),b&&(o._extremes[f._id]=S.findExtremes(f,b,T(o)))}if(o.yref!=="paper"&&_!=="domain"){var p=o.ysizemode==="pixel"?o.yanchor:o.y0,x=o.ysizemode==="pixel"?o.yanchor:o.y1;f=S.getFromId(e,o.yref),b=r(f,p,x,o.path,i.paramIsY),b&&(o._extremes[f._id]=S.findExtremes(f,b,v(o)))}}};function T(e){return d(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function v(e){return d(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function d(e,l,n,s,o,f){var b=e/2,h=f;if(l==="pixel"){var _=o?L.extractPathCoords(o,f?i.paramIsY:i.paramIsX):[n,s],a=E.aggNums(Math.max,null,_),c=E.aggNums(Math.min,null,_),p=c<0?Math.abs(c)+b:b,x=a>0?a+b:b;return{ppad:b,ppadplus:h?p:x,ppadminus:h?x:p}}else return{ppad:b}}function r(e,l,n,s,o){var f=e.type==="category"||e.type==="multicategory"?e.r2c:e.d2c;if(l!==void 0)return[f(l),f(n)];if(s){var b=1/0,h=-1/0,_=s.match(i.segmentRE),a,c,p,x,k;for(e.type==="date"&&(f=L.decodeDate(f)),a=0;a<_.length;a++)c=_[a],p=o[c.charAt(0)].drawn,p!==void 0&&(x=_[a].substr(1).match(i.paramRE),!(!x||x.length<p)&&(k=f(x[p]),k<b&&(b=k),k>h&&(h=k)));if(h>=b)return[b,h]}}},85448:function(tt){tt.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(tt,U,t){var E=t(3400),S=t(54460),i=t(51272),L=t(46056),T=t(65152);tt.exports=function(r,e){i(r,e,{name:"shapes",handleItemDefaults:d})};function v(r,e){return r?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function d(r,e,l){function n(Y,Z){return E.coerce(r,e,L,Y,Z)}e._isShape=!0;var s=n("visible");if(s){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),E.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var f=n("path"),b=f?"path":"rect",h=n("type",b),_=h!=="path";_&&delete e.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var a=n("line.width");a&&(n("line.color"),n("line.dash"));for(var c=n("xsizemode"),p=n("ysizemode"),x=["x","y"],k=0;k<2;k++){var y=x[k],A=y+"anchor",C=y==="x"?c:p,u={_fullLayout:l},m,M,w,z=S.coerceRef(r,e,u,y,void 0,"paper"),O=S.getRefType(z);if(O==="range"?(m=S.getFromId(u,z),m._shapeIndices.push(e._index),w=T.rangeToShapePosition(m),M=T.shapePositionToRange(m)):M=w=E.identity,_){var D=.25,P=.75,F=y+"0",R=y+"1",N=r[F],B=r[R];r[F]=M(r[F],!0),r[R]=M(r[R],!0),C==="pixel"?(n(F,0),n(R,10)):(S.coercePosition(e,u,n,z,F,D),S.coercePosition(e,u,n,z,R,P)),e[F]=w(e[F]),e[R]=w(e[R]),r[F]=N,r[R]=B}if(C==="pixel"){var q=r[A];r[A]=M(r[A],!0),S.coercePosition(e,u,n,z,A,.25),e[A]=w(e[A]),r[A]=q}}_&&E.noneOrAll(r,e,["x0","x1","y0","y1"]);var V=h==="line",J,it;if(_&&(J=n("label.texttemplate")),J||(it=n("label.text")),it||J){n("label.textangle");var nt=n("label.textposition",V?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(V,nt)),n("label.padding"),E.coerceFont(n,"label.font",l.font)}}}},60728:function(tt,U,t){var E=t(3400),S=t(54460),i=t(72736),L=t(43616),T=t(9856).readPaths,v=t(65152),d=v.getPathString,r=t(97728),e=t(84284).FROM_TL;tt.exports=function(s,o,f,b){if(b.selectAll(".shape-label").remove(),!!(f.label.text||f.label.texttemplate)){var h;if(f.label.texttemplate){var _={};if(f.type!=="path"){var a=S.getFromId(s,f.xref),c=S.getFromId(s,f.yref);for(var p in r){var x=r[p](f,a,c);x!==void 0&&(_[p]=x)}}h=E.texttemplateStringForShapes(f.label.texttemplate,{},s._fullLayout._d3locale,_)}else h=f.label.text;var k={"data-index":o},y=f.label.font,A={"data-notex":1},C=b.append("g").attr(k).classed("shape-label",!0),u=C.append("text").attr(A).classed("shape-label-text",!0).text(h),m,M,w,z;if(f.path){var O=d(s,f),D=T(O,s);m=1/0,w=1/0,M=-1/0,z=-1/0;for(var P=0;P<D.length;P++)for(var F=0;F<D[P].length;F++)for(var R=D[P][F],N=1;N<R.length;N+=2){var B=R[N],q=R[N+1];m=Math.min(m,B),M=Math.max(M,B),w=Math.min(w,q),z=Math.max(z,q)}}else{var V=S.getFromId(s,f.xref),J=S.getRefType(f.xref),it=S.getFromId(s,f.yref),nt=S.getRefType(f.yref),Y=v.getDataToPixel(s,V,!1,J),Z=v.getDataToPixel(s,it,!0,nt);m=Y(f.x0),M=Y(f.x1),w=Z(f.y0),z=Z(f.y1)}var $=f.label.textangle;$==="auto"&&(f.type==="line"?$=l(m,w,M,z):$=0),u.call(function(at){return at.call(L.font,y).attr({}),i.convertToTspans(at,s),at});var G=L.bBox(u.node()),rt=n(m,w,M,z,f,$,G),ot=rt.textx,W=rt.texty,H=rt.xanchor;u.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[H],y:W,x:ot,transform:"rotate("+$+","+ot+","+W+")"}).call(i.positionText,ot,W)}};function l(s,o,f,b){var h,_;return _=Math.abs(f-s),f>=s?h=o-b:h=b-o,-180/Math.PI*Math.atan2(h,_)}function n(s,o,f,b,h,_,a){var c=h.label.textposition,p=h.label.textangle,x=h.label.padding,k=h.type,y=Math.PI/180*_,A=Math.sin(y),C=Math.cos(y),u=h.label.xanchor,m=h.label.yanchor,M,w,z,O;if(k==="line"){c==="start"?(M=s,w=o):c==="end"?(M=f,w=b):(M=(s+f)/2,w=(o+b)/2),u==="auto"&&(c==="start"?p==="auto"?f>s?u="left":f<s?u="right":u="center":f>s?u="right":f<s?u="left":u="center":c==="end"?p==="auto"?f>s?u="right":f<s?u="left":u="center":f>s?u="left":f<s?u="right":u="center":u="center");var D={left:1,center:0,right:-1},P={bottom:-1,middle:0,top:1};if(p==="auto"){var F=P[m];z=-x*A*F,O=x*C*F}else{var R=D[u],N=P[m];z=x*R,O=x*N}M=M+z,w=w+O}else z=x+3,c.indexOf("right")!==-1?(M=Math.max(s,f)-z,u==="auto"&&(u="right")):c.indexOf("left")!==-1?(M=Math.min(s,f)+z,u==="auto"&&(u="left")):(M=(s+f)/2,u==="auto"&&(u="center")),c.indexOf("top")!==-1?w=Math.min(o,b):c.indexOf("bottom")!==-1?w=Math.max(o,b):w=(o+b)/2,O=x,m==="bottom"?w=w-O:m==="top"&&(w=w+O);var B=e[m],q=h.label.font.size,V=a.height,J=(V*B-q)*A,it=-(V*B-q)*C;return{textx:M+J,texty:w+it,xanchor:u}}},55496:function(tt,U,t){var E=t(3400),S=E.strTranslate,i=t(86476),L=t(72760),T=L.drawMode,v=L.selectMode,d=t(24040),r=t(76308),e=t(7e3),l=e.i000,n=e.i090,s=e.i180,o=e.i270,f=t(1936),b=f.clearOutlineControllers,h=t(9856),_=h.pointsOnRectangle,a=h.pointsOnEllipse,c=h.writePaths,p=t(93940).newShapes,x=t(93940).createShapeObj,k=t(5968),y=t(60728);tt.exports=function m(M,w,z,O){O||(O=0);var D=z.gd;function P(){m(M,w,z,O++),(a(M[0])||z.hasText)&&F({redrawing:!0})}function F(vt){var At={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,At=p(w,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,At=k(w,z),D._fullLayout._reselect=!0),Object.keys(At).length&&d.call((vt||{}).redrawing?"relayout":"_guiRelayout",D,At)}var R=D._fullLayout,N=R._zoomlayer,B=z.dragmode,q=T(B),V=v(B);(q||V)&&(D._fullLayout._outlining=!0),b(D),w.attr("d",c(M));var J,it,nt,Y,Z;if(!O&&(z.isActiveShape||z.isActiveSelection)){Z=A([],M);var $=N.append("g").attr("class","outline-controllers");ct($),mt()}if(q&&z.hasText){var G=N.select(".label-temp"),rt=x(w,z,z.dragmode);y(D,"label-temp",rt,G)}function ot(vt){nt=+vt.srcElement.getAttribute("data-i"),Y=+vt.srcElement.getAttribute("data-j"),J[nt][Y].moveFn=W}function W(vt,At){if(M.length){var Ot=Z[nt][Y][1],Pt=Z[nt][Y][2],Et=M[nt],Nt=Et.length;if(_(Et)){var ne=vt,Gt=At;if(z.isActiveSelection){var pe=C(Et,Y);pe[1]===Et[Y][1]?Gt=0:ne=0}for(var Vt=0;Vt<Nt;Vt++)if(Vt!==Y){var ae=Et[Vt];ae[1]===Et[Y][1]&&(ae[1]=Ot+ne),ae[2]===Et[Y][2]&&(ae[2]=Pt+Gt)}if(Et[Y][1]=Ot+ne,Et[Y][2]=Pt+Gt,!_(Et))for(var oe=0;oe<Nt;oe++)for(var ce=0;ce<Et[oe].length;ce++)Et[oe][ce]=Z[nt][oe][ce]}else Et[Y][1]=Ot+vt,Et[Y][2]=Pt+At;P()}}function H(){F()}function at(){if(M.length&&M[nt]&&M[nt].length){for(var vt=[],At=0;At<M[nt].length;At++)At!==Y&&vt.push(M[nt][At]);vt.length>1&&!(vt.length===2&&vt[1][0]==="Z")&&(Y===0&&(vt[0][0]="M"),M[nt]=vt,P(),F())}}function Q(vt,At){if(vt===2){nt=+At.srcElement.getAttribute("data-i"),Y=+At.srcElement.getAttribute("data-j");var Ot=M[nt];!_(Ot)&&!a(Ot)&&at()}}function ct(vt){J=[];for(var At=0;At<M.length;At++){var Ot=M[At],Pt=_(Ot),Et=!Pt&&a(Ot);J[At]=[];for(var Nt=Ot.length,ne=0;ne<Nt;ne++)if(Ot[ne][0]!=="Z"&&!(Et&&ne!==l&&ne!==n&&ne!==s&&ne!==o)){var Gt=Pt&&z.isActiveSelection,pe;Gt&&(pe=C(Ot,ne));var Vt=Ot[ne][1],ae=Ot[ne][2],oe=vt.append(Gt?"rect":"circle").attr("data-i",At).attr("data-j",ne).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Gt){var ce=pe[1]-Vt,le=pe[2]-ae,ye=le?5:Math.max(Math.min(25,Math.abs(ce)-5),5),Tt=ce?5:Math.max(Math.min(25,Math.abs(le)-5),5);oe.classed(le?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ye).attr("height",Tt).attr("x",Vt-ye/2).attr("y",ae-Tt/2).attr("transform",S(ce/2,le/2))}else oe.classed("cursor-grab",!0).attr("r",5).attr("cx",Vt).attr("cy",ae);J[At][ne]={element:oe.node(),gd:D,prepFn:ot,doneFn:H,clickFn:Q},i.init(J[At][ne])}}}function ft(vt,At){if(M.length)for(var Ot=0;Ot<M.length;Ot++)for(var Pt=0;Pt<M[Ot].length;Pt++)for(var Et=0;Et+2<M[Ot][Pt].length;Et+=2)M[Ot][Pt][Et+1]=Z[Ot][Pt][Et+1]+vt,M[Ot][Pt][Et+2]=Z[Ot][Pt][Et+2]+At}function yt(vt,At){ft(vt,At),P()}function xt(vt){nt=+vt.srcElement.getAttribute("data-i"),nt||(nt=0),it[nt].moveFn=yt}function Lt(){F()}function gt(vt){vt===2&&u(D)}function mt(){if(it=[],!!M.length){var vt=0;it[vt]={element:w[0][0],gd:D,prepFn:xt,doneFn:Lt,clickFn:gt},i.init(it[vt])}}};function A(m,M){for(var w=0;w<M.length;w++){var z=M[w];m[w]=[];for(var O=0;O<z.length;O++){m[w][O]=[];for(var D=0;D<z[O].length;D++)m[w][O][D]=z[O][D]}}return m}function C(m,M){var w=m[M][1],z=m[M][2],O=m.length,D,P,F;return D=(M+1)%O,P=m[D][1],F=m[D][2],P===w&&F===z&&(D=(M+2)%O,P=m[D][1],F=m[D][2]),[D,P,F]}function u(m){if(v(m._fullLayout.dragmode)){b(m);var M=m._fullLayout._activeSelectionIndex,w=(m.layout||{}).selections||[];if(M<w.length){for(var z=[],O=0;O<w.length;O++)O!==M&&z.push(w[O]);delete m._fullLayout._activeSelectionIndex;var D=m._fullLayout.selections[M];m._fullLayout._deselect={xref:D.xref,yref:D.yref},d.call("_guiRelayout",m,{selections:z})}}}},4016:function(tt,U,t){var E=t(33428),S=t(24040),i=t(3400),L=t(54460),T=t(9856).readPaths,v=t(55496),d=t(60728),r=t(1936).clearOutlineControllers,e=t(76308),l=t(43616),n=t(31780).arrayEditor,s=t(86476),o=t(93972),f=t(85448),b=t(65152),h=b.getPathString;tt.exports={draw:_,drawOne:p,eraseActiveShape:u,drawLabel:d};function _(m){var M=m._fullLayout;M._shapeUpperLayer.selectAll("path").remove(),M._shapeLowerLayer.selectAll("path").remove(),M._shapeUpperLayer.selectAll("text").remove(),M._shapeLowerLayer.selectAll("text").remove();for(var w in M._plots){var z=M._plots[w].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var O=0;O<M.shapes.length;O++)M.shapes[O].visible===!0&&p(m,O)}function a(m){return!!m._fullLayout._outlining}function c(m){return!m._context.edits.shapePosition}function p(m,M){m._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+M+'"]').remove();var w=b.makeShapesOptionsAndPlotinfo(m,M),z=w.options,O=w.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer==="above")P(m._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")P(m._fullLayout._shapeLowerLayer);else if(z.layer==="between")P(O.shapelayerBetween);else if(O._hadPlotinfo){var D=O.mainplotinfo||O;P(D.shapelayer)}else P(m._fullLayout._shapeLowerLayer);function P(F){var R=h(m,z),N={"data-index":M,"fill-rule":z.fillrule,d:R},B=z.opacity,q=z.fillcolor,V=z.line.width?z.line.color:"rgba(0,0,0,0)",J=z.line.width,it=z.line.dash;!J&&z.editable===!0&&(J=5,it="solid");var nt=R[R.length-1]!=="Z",Y=c(m)&&z.editable&&m._fullLayout._activeShapeIndex===M;Y&&(q=nt?"rgba(0,0,0,0)":m._fullLayout.activeshape.fillcolor,B=m._fullLayout.activeshape.opacity);var Z=F.append("g").classed("shape-group",!0).attr({"data-index":M}),$=Z.append("path").attr(N).style("opacity",B).call(e.stroke,V).call(e.fill,q).call(l.dashLine,it,J);x(Z,m,z),d(m,M,z,Z);var G;if((Y||m._context.edits.shapePosition)&&(G=n(m.layout,"shapes",z)),Y){$.style({cursor:"move"});var rt={element:$.node(),plotinfo:O,gd:m,editHelpers:G,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},ot=T(R,m);v(ot,$,rt)}else m._context.edits.shapePosition?k(m,$,z,M,F,G):z.editable===!0&&$.style("pointer-events",nt||e.opacity(q)*B<=.5?"stroke":"all");$.node().addEventListener("click",function(){return A(m,$)})}}function x(m,M,w){var z=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(m,z?"clip"+M._fullLayout._uid+z:null,M)}function k(m,M,w,z,O,D){var P=10,F=10,R=w.xsizemode==="pixel",N=w.ysizemode==="pixel",B=w.type==="line",q=w.type==="path",V=D.modifyItem,J,it,nt,Y,Z,$,G,rt,ot,W,H,at,Q,ct,ft,yt=E.select(M.node().parentNode),xt=L.getFromId(m,w.xref),Lt=L.getRefType(w.xref),gt=L.getFromId(m,w.yref),mt=L.getRefType(w.yref),vt=b.getDataToPixel(m,xt,!1,Lt),At=b.getDataToPixel(m,gt,!0,mt),Ot=b.getPixelToData(m,xt,!1,Lt),Pt=b.getPixelToData(m,gt,!0,mt),Et=Gt(),Nt={element:Et.node(),gd:m,prepFn:ae,doneFn:oe,clickFn:ce},ne;s.init(Nt),Et.node().onmousemove=Vt;function Gt(){return B?pe():M}function pe(){var Wt=10,Bt=Math.max(w.line.width,Wt),Mt=O.append("g").attr("data-index",z).attr("drag-helper",!0);Mt.append("path").attr("d",M.attr("d")).style({cursor:"move","stroke-width":Bt,"stroke-opacity":"0"});var St={"fill-opacity":"0"},Dt=Math.max(Bt/2,Wt);return Mt.append("circle").attr({"data-line-point":"start-point",cx:R?vt(w.xanchor)+w.x0:vt(w.x0),cy:N?At(w.yanchor)-w.y0:At(w.y0),r:Dt}).style(St).classed("cursor-grab",!0),Mt.append("circle").attr({"data-line-point":"end-point",cx:R?vt(w.xanchor)+w.x1:vt(w.x1),cy:N?At(w.yanchor)-w.y1:At(w.y1),r:Dt}).style(St).classed("cursor-grab",!0),Mt}function Vt(Wt){if(a(m)){ne=null;return}if(B)Wt.target.tagName==="path"?ne="move":ne=Wt.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Bt=Nt.element.getBoundingClientRect(),Mt=Bt.right-Bt.left,St=Bt.bottom-Bt.top,Dt=Wt.clientX-Bt.left,dt=Wt.clientY-Bt.top,ht=!q&&Mt>P&&St>F&&!Wt.shiftKey?s.getCursor(Dt/Mt,1-dt/St):"move";o(M,ht),ne=ht.split("-")[0]}}function ae(Wt){a(m)||(R&&(Z=vt(w.xanchor)),N&&($=At(w.yanchor)),w.type==="path"?ft=w.path:(J=R?w.x0:vt(w.x0),it=N?w.y0:At(w.y0),nt=R?w.x1:vt(w.x1),Y=N?w.y1:At(w.y1)),J<nt?(ot=J,Q="x0",W=nt,ct="x1"):(ot=nt,Q="x1",W=J,ct="x0"),!N&&it<Y||N&&it>Y?(G=it,H="y0",rt=Y,at="y1"):(G=Y,H="y1",rt=it,at="y0"),Vt(Wt),Tt(O,w),$t(M,w,m),Nt.moveFn=ne==="move"?le:ye,Nt.altKey=Wt.altKey)}function oe(){a(m)||(o(M),Ft(O),x(M,m,w),S.call("_guiRelayout",m,D.getUpdateObj()))}function ce(){a(m)||Ft(O)}function le(Wt,Bt){if(w.type==="path"){var Mt=function(dt){return dt},St=Mt,Dt=Mt;R?V("xanchor",w.xanchor=Ot(Z+Wt)):(St=function(dt){return Ot(vt(dt)+Wt)},xt&&xt.type==="date"&&(St=b.encodeDate(St))),N?V("yanchor",w.yanchor=Pt($+Bt)):(Dt=function(dt){return Pt(At(dt)+Bt)},gt&&gt.type==="date"&&(Dt=b.encodeDate(Dt))),V("path",w.path=y(ft,St,Dt))}else R?V("xanchor",w.xanchor=Ot(Z+Wt)):(V("x0",w.x0=Ot(J+Wt)),V("x1",w.x1=Ot(nt+Wt))),N?V("yanchor",w.yanchor=Pt($+Bt)):(V("y0",w.y0=Pt(it+Bt)),V("y1",w.y1=Pt(Y+Bt)));M.attr("d",h(m,w)),Tt(O,w),d(m,z,w,yt)}function ye(Wt,Bt){if(q){var Mt=function(fe){return fe},St=Mt,Dt=Mt;R?V("xanchor",w.xanchor=Ot(Z+Wt)):(St=function(fe){return Ot(vt(fe)+Wt)},xt&&xt.type==="date"&&(St=b.encodeDate(St))),N?V("yanchor",w.yanchor=Pt($+Bt)):(Dt=function(fe){return Pt(At(fe)+Bt)},gt&&gt.type==="date"&&(Dt=b.encodeDate(Dt))),V("path",w.path=y(ft,St,Dt))}else if(B){if(ne==="resize-over-start-point"){var dt=J+Wt,ht=N?it-Bt:it+Bt;V("x0",w.x0=R?dt:Ot(dt)),V("y0",w.y0=N?ht:Pt(ht))}else if(ne==="resize-over-end-point"){var bt=nt+Wt,zt=N?Y-Bt:Y+Bt;V("x1",w.x1=R?bt:Ot(bt)),V("y1",w.y1=N?zt:Pt(zt))}}else{var qt=function(fe){return ne.indexOf(fe)!==-1},te=qt("n"),re=qt("s"),Ye=qt("w"),Be=qt("e"),ge=te?G+Bt:G,be=re?rt+Bt:rt,Ne=Ye?ot+Wt:ot,pr=Be?W+Wt:W;N&&(te&&(ge=G-Bt),re&&(be=rt-Bt)),(!N&&be-ge>F||N&&ge-be>F)&&(V(H,w[H]=N?ge:Pt(ge)),V(at,w[at]=N?be:Pt(be))),pr-Ne>P&&(V(Q,w[Q]=R?Ne:Ot(Ne)),V(ct,w[ct]=R?pr:Ot(pr)))}M.attr("d",h(m,w)),Tt(O,w),d(m,z,w,yt)}function Tt(Wt,Bt){(R||N)&&Mt();function Mt(){var St=Bt.type!=="path",Dt=Wt.selectAll(".visual-cue").data([0]),dt=1;Dt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":dt}).classed("visual-cue",!0);var ht=vt(R?Bt.xanchor:i.midRange(St?[Bt.x0,Bt.x1]:b.extractPathCoords(Bt.path,f.paramIsX))),bt=At(N?Bt.yanchor:i.midRange(St?[Bt.y0,Bt.y1]:b.extractPathCoords(Bt.path,f.paramIsY)));if(ht=b.roundPositionForSharpStrokeRendering(ht,dt),bt=b.roundPositionForSharpStrokeRendering(bt,dt),R&&N){var zt="M"+(ht-1-dt)+","+(bt-1-dt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Dt.attr("d",zt)}else if(R){var qt="M"+(ht-1-dt)+","+(bt-9-dt)+"v18 h2 v-18 Z";Dt.attr("d",qt)}else{var te="M"+(ht-9-dt)+","+(bt-1-dt)+"h18 v2 h-18 Z";Dt.attr("d",te)}}}function Ft(Wt){Wt.selectAll(".visual-cue").remove()}function $t(Wt,Bt,Mt){var St=Bt.xref,Dt=Bt.yref,dt=L.getFromId(Mt,St),ht=L.getFromId(Mt,Dt),bt="";St!=="paper"&&!dt.autorange&&(bt+=St),Dt!=="paper"&&!ht.autorange&&(bt+=Dt),l.setClipUrl(Wt,bt?"clip"+Mt._fullLayout._uid+bt:null,Mt)}}function y(m,M,w){return m.replace(f.segmentRE,function(z){var O=0,D=z.charAt(0),P=f.paramIsX[D],F=f.paramIsY[D],R=f.numParams[D],N=z.substr(1).replace(f.paramRE,function(B){return O>=R||(P[O]?B=M(B):F[O]&&(B=w(B)),O++),B});return D+N})}function A(m,M){if(c(m)){var w=M.node(),z=+w.getAttribute("data-index");if(z>=0){if(z===m._fullLayout._activeShapeIndex){C(m);return}m._fullLayout._activeShapeIndex=z,m._fullLayout._deactivateShape=C,_(m)}}}function C(m){if(c(m)){var M=m._fullLayout._activeShapeIndex;M>=0&&(r(m),delete m._fullLayout._activeShapeIndex,_(m))}}function u(m){if(c(m)){r(m);var M=m._fullLayout._activeShapeIndex,w=(m.layout||{}).shapes||[];if(M<w.length){for(var z=[],O=0;O<w.length;O++)O!==M&&z.push(w[O]);return delete m._fullLayout._activeShapeIndex,S.call("_guiRelayout",m,{shapes:z})}}}},92872:function(tt,U,t){var E=t(67824).overrideAll,S=t(45464),i=t(25376),L=t(98192).u,T=t(92880).extendFlat,v=t(21776).ye,d=t(97728);tt.exports=E({newshape:{visible:T({},S.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:T({},S.legend,{}),legendgroup:T({},S.legendgroup,{}),legendgrouptitle:{text:T({},S.legendgrouptitle.text,{}),font:i({})},legendrank:T({},S.legendrank,{}),legendwidth:T({},S.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:T({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:T({},S.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(d)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(tt){var U=32;tt.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(tt,U,t){var E=t(76308),S=t(3400);function i(L,T){return L?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}tt.exports=function(L,T,v){v("newshape.visible"),v("newshape.name"),v("newshape.showlegend"),v("newshape.legend"),v("newshape.legendwidth"),v("newshape.legendgroup"),v("newshape.legendgrouptitle.text"),S.coerceFont(v,"newshape.legendgrouptitle.font"),v("newshape.legendrank"),v("newshape.drawdirection"),v("newshape.layer"),v("newshape.fillcolor"),v("newshape.fillrule"),v("newshape.opacity");var d=v("newshape.line.width");if(d){var r=(L||{}).plot_bgcolor||"#FFF";v("newshape.line.color",E.contrast(r)),v("newshape.line.dash")}var e=L.dragmode==="drawline",l=v("newshape.label.text"),n=v("newshape.label.texttemplate");if(l||n){v("newshape.label.textangle");var s=v("newshape.label.textposition",e?"middle":"middle center");v("newshape.label.xanchor"),v("newshape.label.yanchor",i(e,s)),v("newshape.label.padding"),S.coerceFont(v,"newshape.label.font",T.font)}v("activeshape.fillcolor"),v("activeshape.opacity")}},9856:function(tt,U,t){var E=t(21984),S=t(7e3),i=S.CIRCLE_SIDES,L=S.SQRT2,T=t(5840),v=T.p2r,d=T.r2p,r=[0,3,4,5,6,1,2],e=[0,3,4,1,2];U.writePaths=function(s){var o=s.length;if(!o)return"M0,0Z";for(var f="",b=0;b<o;b++)for(var h=s[b].length,_=0;_<h;_++){var a=s[b][_][0];if(a==="Z")f+="Z";else for(var c=s[b][_].length,p=0;p<c;p++){var x=p;a==="Q"||a==="S"?x=e[p]:a==="C"&&(x=r[p]),f+=s[b][_][x],p>0&&p<c-1&&(f+=",")}}return f},U.readPaths=function(s,o,f,b){var h=E(s),_=[],a=-1,c=function(){a++,_[a]=[]},p,x=0,k=0,y,A,C=function(){y=x,A=k};C();for(var u=0;u<h.length;u++){var m=[],M,w,z,O,D=h[u][0],P=D;switch(D){case"M":c(),x=+h[u][1],k=+h[u][2],m.push([P,x,k]),C();break;case"Q":case"S":M=+h[u][1],z=+h[u][2],x=+h[u][3],k=+h[u][4],m.push([P,x,k,M,z]);break;case"C":M=+h[u][1],z=+h[u][2],w=+h[u][3],O=+h[u][4],x=+h[u][5],k=+h[u][6],m.push([P,x,k,M,z,w,O]);break;case"T":case"L":x=+h[u][1],k=+h[u][2],m.push([P,x,k]);break;case"H":P="L",x=+h[u][1],m.push([P,x,k]);break;case"V":P="L",k=+h[u][1],m.push([P,x,k]);break;case"A":P="L";var F=+h[u][1],R=+h[u][2];+h[u][4]||(F=-F,R=-R);var N=x-F,B=k;for(p=1;p<=i/2;p++){var q=2*Math.PI*p/i;m.push([P,N+F*Math.cos(q),B+R*Math.sin(q)])}break;case"Z":(x!==y||k!==A)&&(x=y,k=A,m.push([P,x,k]));break}for(var V=(f||{}).domain,J=o._fullLayout._size,it=f&&f.xsizemode==="pixel",nt=f&&f.ysizemode==="pixel",Y=b===!1,Z=0;Z<m.length;Z++){for(p=0;p+2<7;p+=2){var $=m[Z][p+1],G=m[Z][p+2];$===void 0||G===void 0||(x=$,k=G,f&&(f.xaxis&&f.xaxis.p2r?(Y&&($-=f.xaxis._offset),it?$=d(f.xaxis,f.xanchor)+$:$=v(f.xaxis,$)):(Y&&($-=J.l),V?$=V.x[0]+$/J.w:$=$/J.w),f.yaxis&&f.yaxis.p2r?(Y&&(G-=f.yaxis._offset),nt?G=d(f.yaxis,f.yanchor)-G:G=v(f.yaxis,G)):(Y&&(G-=J.t),V?G=V.y[1]-G/J.h:G=1-G/J.h)),m[Z][p+1]=$,m[Z][p+2]=G)}_[a].push(m[Z].slice())}}return _};function l(s,o){return Math.abs(s-o)<=1e-6}function n(s,o){var f=o[1]-s[1],b=o[2]-s[2];return Math.sqrt(f*f+b*b)}U.pointsOnRectangle=function(s){var o=s.length;if(o!==5)return!1;for(var f=1;f<3;f++){var b=s[0][f]-s[1][f],h=s[3][f]-s[2][f];if(!l(b,h))return!1;var _=s[0][f]-s[3][f],a=s[1][f]-s[2][f];if(!l(_,a))return!1}return!l(s[0][1],s[1][1])&&!l(s[0][1],s[3][1])?!1:!!(n(s[0],s[1])*n(s[0],s[3]))},U.pointsOnEllipse=function(s){var o=s.length;if(o!==i+1)return!1;o=i;for(var f=0;f<o;f++){var b=(o*2-f)%o,h=(o/2+b)%o,_=(o/2+f)%o;if(!l(n(s[f],s[_]),n(s[b],s[h])))return!1}return!0},U.handleEllipse=function(s,o,f){if(!s)return[o,f];var b=U.ellipseOver({x0:o[0],y0:o[1],x1:f[0],y1:f[1]}),h=(b.x1+b.x0)/2,_=(b.y1+b.y0)/2,a=(b.x1-b.x0)/2,c=(b.y1-b.y0)/2;a||(a=c=c/L),c||(c=a=a/L);for(var p=[],x=0;x<i;x++){var k=x*2*Math.PI/i;p.push([h+a*Math.cos(k),_+c*Math.sin(k)])}return p},U.ellipseOver=function(s){var o=s.x0,f=s.y0,b=s.x1,h=s.y1,_=b-o,a=h-f;o-=_,f-=a;var c=(o+b)/2,p=(f+h)/2,x=L;return _*=x,a*=x,{x0:c-_,y0:p-a,x1:c+_,y1:p+a}},U.fixDatesForPaths=function(s,o,f){var b=o.type==="date",h=f.type==="date";if(!b&&!h)return s;for(var _=0;_<s.length;_++)for(var a=0;a<s[_].length;a++)for(var c=0;c+2<s[_][a].length;c+=2)b&&(s[_][a][c+1]=s[_][a][c+1].replace(" ","_")),h&&(s[_][a][c+2]=s[_][a][c+2].replace(" ","_"));return s}},93940:function(tt,U,t){var E=t(72760),S=E.drawMode,i=E.openMode,L=t(7e3),T=L.i000,v=L.i090,d=L.i180,r=L.i270,e=L.cos45,l=L.sin45,n=t(5840),s=n.p2r,o=n.r2p,f=t(1936),b=f.clearOutline,h=t(9856),_=h.readPaths,a=h.writePaths,c=h.ellipseOver,p=h.fixDatesForPaths;function x(y,A){if(y.length){var C=y[0][0];if(C){var u=A.gd,m=A.isActiveShape,M=A.dragmode,w=(u.layout||{}).shapes||[];if(!S(M)&&m!==void 0){var z=u._fullLayout._activeShapeIndex;if(z<w.length)switch(u._fullLayout.shapes[z].type){case"rect":M="drawrect";break;case"circle":M="drawcircle";break;case"line":M="drawline";break;case"path":var O=w[z].path||"";O[O.length-1]==="Z"?M="drawclosedpath":M="drawopenpath";break}}var D=k(y,A,M);b(u);for(var P=A.editHelpers,F=(P||{}).modifyItem,R=[],N=0;N<w.length;N++){var B=u._fullLayout.shapes[N];if(R[N]=B._input,m!==void 0&&N===u._fullLayout._activeShapeIndex){var q=D;switch(B.type){case"line":case"rect":case"circle":F("x0",q.x0),F("x1",q.x1),F("y0",q.y0),F("y1",q.y1);break;case"path":F("path",q.path);break}}}return m===void 0?(R.push(D),R):P?P.getUpdateObj():{}}}}function k(y,A,C){var u=y[0][0],m=A.gd,M=u.getAttribute("d"),w=m._fullLayout.newshape,z=A.plotinfo,O=A.isActiveShape,D=z.xaxis,P=z.yaxis,F=!!z.domain||!z.xaxis,R=!!z.domain||!z.yaxis,N=i(C),B=_(M,m,z,O),q={editable:!0,visible:w.visible,name:w.name,showlegend:w.showlegend,legend:w.legend,legendwidth:w.legendwidth,legendgroup:w.legendgroup,legendgrouptitle:{text:w.legendgrouptitle.text,font:w.legendgrouptitle.font},legendrank:w.legendrank,label:w.label,xref:F?"paper":D._id,yref:R?"paper":P._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};N||(q.fillcolor=w.fillcolor,q.fillrule=w.fillrule);var V;if(B.length===1&&(V=B[0]),V&&V.length===5&&C==="drawrect")q.type="rect",q.x0=V[0][1],q.y0=V[0][2],q.x1=V[2][1],q.y1=V[2][2];else if(V&&C==="drawline")q.type="line",q.x0=V[0][1],q.y0=V[0][2],q.x1=V[1][1],q.y1=V[1][2];else if(V&&C==="drawcircle"){q.type="circle";var J=V[T][1],it=V[v][1],nt=V[d][1],Y=V[r][1],Z=V[T][2],$=V[v][2],G=V[d][2],rt=V[r][2],ot=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),W=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");ot&&(J=o(z.xaxis,J),it=o(z.xaxis,it),nt=o(z.xaxis,nt),Y=o(z.xaxis,Y)),W&&(Z=o(z.yaxis,Z),$=o(z.yaxis,$),G=o(z.yaxis,G),rt=o(z.yaxis,rt));var H=(it+Y)/2,at=(Z+G)/2,Q=(Y-it+nt-J)/2,ct=(rt-$+G-Z)/2,ft=c({x0:H,y0:at,x1:H+Q*e,y1:at+ct*l});ot&&(ft.x0=s(z.xaxis,ft.x0),ft.x1=s(z.xaxis,ft.x1)),W&&(ft.y0=s(z.yaxis,ft.y0),ft.y1=s(z.yaxis,ft.y1)),q.x0=ft.x0,q.y0=ft.y0,q.x1=ft.x1,q.y1=ft.y1}else q.type="path",D&&P&&p(B,D,P),q.path=a(B),V=null;return q}tt.exports={newShapes:x,createShapeObj:k}},1936:function(tt){function U(E){var S=E._fullLayout._zoomlayer;S&&S.selectAll(".outline-controllers").remove()}function t(E){var S=E._fullLayout._zoomlayer;S&&S.selectAll(".select-outline").remove(),E._fullLayout._outlining=!1}tt.exports={clearOutlineControllers:U,clearOutline:t}},65152:function(tt,U,t){var E=t(85448),S=t(3400),i=t(54460);U.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(v){return v}},U.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(v){return v}},U.decodeDate=function(T){return function(v){return v.replace&&(v=v.replace("_"," ")),T(v)}},U.encodeDate=function(T){return function(v){return T(v).replace(" ","_")}},U.extractPathCoords=function(T,v,d){var r=[],e=T.match(E.segmentRE);return e.forEach(function(l){var n=v[l.charAt(0)].drawn;if(n!==void 0){var s=l.substr(1).match(E.paramRE);if(!(!s||s.length<n)){var o=s[n],f=d?o:S.cleanNumber(o);r.push(f)}}}),r},U.getDataToPixel=function(T,v,d,r){var e=T._fullLayout._size,l;if(v)if(r==="domain")l=function(s){return v._length*(d?1-s:s)+v._offset};else{var n=U.shapePositionToRange(v);l=function(s){return v._offset+v.r2p(n(s,!0))},v.type==="date"&&(l=U.decodeDate(l))}else d?l=function(s){return e.t+e.h*(1-s)}:l=function(s){return e.l+e.w*s};return l},U.getPixelToData=function(T,v,d,r){var e=T._fullLayout._size,l;if(v)if(r==="domain")l=function(s){var o=(s-v._offset)/v._length;return d?1-o:o};else{var n=U.rangeToShapePosition(v);l=function(s){return n(v.p2r(s-v._offset))}}else d?l=function(s){return 1-(s-e.t)/e.h}:l=function(s){return(s-e.l)/e.w};return l},U.roundPositionForSharpStrokeRendering=function(T,v){var d=Math.round(v%2)===1,r=Math.round(T);return d?r+.5:r},U.makeShapesOptionsAndPlotinfo=function(T,v){var d=T._fullLayout.shapes[v]||{},r=T._fullLayout._plots[d.xref+d.yref],e=!!r;return e?r._hadPlotinfo=!0:(r={},d.xref&&d.xref!=="paper"&&(r.xaxis=T._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(r.yaxis=T._fullLayout[d.yref+"axis"])),r.xsizemode=d.xsizemode,r.ysizemode=d.ysizemode,r.xanchor=d.xanchor,r.yanchor=d.yanchor,{options:d,plotinfo:r}},U.makeSelectionsOptionsAndPlotinfo=function(T,v){var d=T._fullLayout.selections[v]||{},r=T._fullLayout._plots[d.xref+d.yref],e=!!r;return e?r._hadPlotinfo=!0:(r={},d.xref&&(r.xaxis=T._fullLayout[d.xref+"axis"]),d.yref&&(r.yaxis=T._fullLayout[d.yref+"axis"])),{options:d,plotinfo:r}},U.getPathString=function(T,v){var d=v.type,r=i.getRefType(v.xref),e=i.getRefType(v.yref),l=i.getFromId(T,v.xref),n=i.getFromId(T,v.yref),s=T._fullLayout._size,o,f,b,h,_,a,c,p;if(l?r==="domain"?f=function(z){return l._offset+l._length*z}:(o=U.shapePositionToRange(l),f=function(z){return l._offset+l.r2p(o(z,!0))}):f=function(z){return s.l+s.w*z},n?e==="domain"?h=function(z){return n._offset+n._length*(1-z)}:(b=U.shapePositionToRange(n),h=function(z){return n._offset+n.r2p(b(z,!0))}):h=function(z){return s.t+s.h*(1-z)},d==="path")return l&&l.type==="date"&&(f=U.decodeDate(f)),n&&n.type==="date"&&(h=U.decodeDate(h)),L(v,f,h);if(v.xsizemode==="pixel"){var x=f(v.xanchor);_=x+v.x0,a=x+v.x1}else _=f(v.x0),a=f(v.x1);if(v.ysizemode==="pixel"){var k=h(v.yanchor);c=k-v.y0,p=k-v.y1}else c=h(v.y0),p=h(v.y1);if(d==="line")return"M"+_+","+c+"L"+a+","+p;if(d==="rect")return"M"+_+","+c+"H"+a+"V"+p+"H"+_+"Z";var y=(_+a)/2,A=(c+p)/2,C=Math.abs(y-_),u=Math.abs(A-c),m="A"+C+","+u,M=y+C+","+A,w=y+","+(A-u);return"M"+M+m+" 0 1,1 "+w+m+" 0 0,1 "+M+"Z"};function L(T,v,d){var r=T.path,e=T.xsizemode,l=T.ysizemode,n=T.xanchor,s=T.yanchor;return r.replace(E.segmentRE,function(o){var f=0,b=o.charAt(0),h=E.paramIsX[b],_=E.paramIsY[b],a=E.numParams[b],c=o.substr(1).replace(E.paramRE,function(p){return h[f]?e==="pixel"?p=v(n)+Number(p):p=v(p):_[f]&&(l==="pixel"?p=d(s)-Number(p):p=d(p)),f++,f>a&&(p="X"),p});return f>a&&(c=c.replace(/[\s,]*X.*/,""),S.log("Ignoring extra params in segment "+o)),b+c})}},41592:function(tt,U,t){var E=t(4016);tt.exports={moduleType:"component",name:"shapes",layoutAttributes:t(46056),supplyLayoutDefaults:t(43712),supplyDrawNewShapeDefaults:t(65144),includeBasePlot:t(36632)("shapes"),calcAutorange:t(96084),draw:E.draw,drawOne:E.drawOne}},97728:function(tt){function U(o,f){return f?f.d2l(o):o}function t(o,f){return f?f.l2d(o):o}function E(o){return o.x0}function S(o){return o.x1}function i(o){return o.y0}function L(o){return o.y1}function T(o,f){return U(o.x1,f)-U(o.x0,f)}function v(o,f,b){return U(o.y1,b)-U(o.y0,b)}function d(o,f){return Math.abs(T(o,f))}function r(o,f,b){return Math.abs(v(o,f,b))}function e(o,f,b){return o.type!=="line"?void 0:Math.sqrt(Math.pow(T(o,f),2)+Math.pow(v(o,f,b),2))}function l(o,f){return t((U(o.x1,f)+U(o.x0,f))/2,f)}function n(o,f,b){return t((U(o.y1,b)+U(o.y0,b))/2,b)}function s(o,f,b){return o.type!=="line"?void 0:v(o,f,b)/T(o,f)}tt.exports={x0:E,x1:S,y0:i,y1:L,slope:s,dx:T,dy:v,width:d,height:r,length:e,xcenter:l,ycenter:n}},89861:function(tt,U,t){var E=t(25376),S=t(66741),i=t(92880).extendDeepAll,L=t(67824).overrideAll,T=t(85656),v=t(31780).templatedArray,d=t(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});tt.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(S({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:E({})},font:E({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},60876:function(tt){tt.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(tt,U,t){var E=t(3400),S=t(51272),i=t(89861),L=t(60876),T=L.name,v=i.steps;tt.exports=function(e,l){S(e,l,{name:T,handleItemDefaults:d})};function d(e,l,n){function s(p,x){return E.coerce(e,l,i,p,x)}for(var o=S(e,l,{name:"steps",handleItemDefaults:r}),f=0,b=0;b<o.length;b++)o[b].visible&&f++;var h;if(f<2?h=l.visible=!1:h=s("visible"),!!h){l._stepCount=f;var _=l._visibleSteps=E.filterVisible(o),a=s("active");(o[a]||{}).visible||(l.active=_[0]._index),s("x"),s("y"),E.noneOrAll(e,l,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),E.coerceFont(s,"font",n.font);var c=s("currentvalue.visible");c&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),E.coerceFont(s,"currentvalue.font",l.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function r(e,l){function n(f,b){return E.coerce(e,l,v,f,b)}var s;if(e.method!=="skip"&&!Array.isArray(e.args)?s=l.visible=!1:s=n("visible"),s){n("method"),n("args");var o=n("label","step-"+l._index);n("value",o),n("execute")}}},79664:function(tt,U,t){var E=t(33428),S=t(7316),i=t(76308),L=t(43616),T=t(3400),v=T.strTranslate,d=t(72736),r=t(31780).arrayEditor,e=t(60876),l=t(84284),n=l.LINE_SPACING,s=l.FROM_TL,o=l.FROM_BR;tt.exports=function(P){var F=P._context.staticPlot,R=P._fullLayout,N=b(R,P),B=R._infolayer.selectAll("g."+e.containerClassName).data(N.length>0?[0]:[]);B.enter().append("g").classed(e.containerClassName,!0).style("cursor",F?null:"ew-resize");function q(nt){nt._commandObserver&&(nt._commandObserver.remove(),delete nt._commandObserver),S.autoMargin(P,f(nt))}if(B.exit().each(function(){E.select(this).selectAll("g."+e.groupClassName).each(q)}).remove(),N.length!==0){var V=B.selectAll("g."+e.groupClassName).data(N,h);V.enter().append("g").classed(e.groupClassName,!0),V.exit().each(q).remove();for(var J=0;J<N.length;J++){var it=N[J];_(P,it)}V.each(function(nt){var Y=E.select(this);m(nt),S.manageCommandObserver(P,nt,nt._visibleSteps,function(Z){var $=Y.data()[0];$.active!==Z.index&&($._dragging||A(P,Y,$,Z.index,!1,!0))}),a(P,E.select(this),nt)})}};function f(P){return e.autoMarginIdRoot+P._index}function b(P,F){for(var R=P[e.name],N=[],B=0;B<R.length;B++){var q=R[B];q.visible&&(q._gd=F,N.push(q))}return N}function h(P){return P._index}function _(P,F){var R=L.tester.selectAll("g."+e.labelGroupClass).data(F._visibleSteps);R.enter().append("g").classed(e.labelGroupClass,!0);var N=0,B=0;R.each(function(rt){var ot=E.select(this),W=x(ot,{step:rt},F),H=W.node();if(H){var at=L.bBox(H);B=Math.max(B,at.height),N=Math.max(N,at.width)}}),R.remove();var q=F._dims={};q.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var V=P._fullLayout._size;q.lx=V.l+V.w*F.x,q.ly=V.t+V.h*(1-F.y),F.lenmode==="fraction"?q.outerLength=Math.round(V.w*F.len):q.outerLength=F.len,q.inputAreaStart=0,q.inputAreaLength=Math.round(q.outerLength-F.pad.l-F.pad.r);var J=q.inputAreaLength-2*e.stepInset,it=J/(F._stepCount-1),nt=N+e.labelPadding;if(q.labelStride=Math.max(1,Math.ceil(nt/it)),q.labelHeight=B,q.currentValueMaxWidth=0,q.currentValueHeight=0,q.currentValueTotalHeight=0,q.currentValueMaxLines=1,F.currentvalue.visible){var Y=L.tester.append("g");R.each(function(rt){var ot=c(Y,F,rt.label),W=ot.node()&&L.bBox(ot.node())||{width:0,height:0},H=d.lineCount(ot);q.currentValueMaxWidth=Math.max(q.currentValueMaxWidth,Math.ceil(W.width)),q.currentValueHeight=Math.max(q.currentValueHeight,Math.ceil(W.height)),q.currentValueMaxLines=Math.max(q.currentValueMaxLines,H)}),q.currentValueTotalHeight=q.currentValueHeight+F.currentvalue.offset,Y.remove()}q.height=q.currentValueTotalHeight+e.tickOffset+F.ticklen+e.labelOffset+q.labelHeight+F.pad.t+F.pad.b;var Z="left";T.isRightAnchor(F)&&(q.lx-=q.outerLength,Z="right"),T.isCenterAnchor(F)&&(q.lx-=q.outerLength/2,Z="center");var $="top";T.isBottomAnchor(F)&&(q.ly-=q.height,$="bottom"),T.isMiddleAnchor(F)&&(q.ly-=q.height/2,$="middle"),q.outerLength=Math.ceil(q.outerLength),q.height=Math.ceil(q.height),q.lx=Math.round(q.lx),q.ly=Math.round(q.ly);var G={y:F.y,b:q.height*o[$],t:q.height*s[$]};F.lenmode==="fraction"?(G.l=0,G.xl=F.x-F.len*s[Z],G.r=0,G.xr=F.x+F.len*o[Z]):(G.x=F.x,G.l=q.outerLength*s[Z],G.r=q.outerLength*o[Z]),S.autoMargin(P,f(F),G)}function a(P,F,R){(R.steps[R.active]||{}).visible||(R.active=R._visibleSteps[0]._index),F.call(c,R).call(D,R).call(k,R).call(u,R).call(O,P,R).call(p,P,R);var N=R._dims;L.setTranslate(F,N.lx+R.pad.l,N.ly+R.pad.t),F.call(M,R,!1),F.call(c,R)}function c(P,F,R){if(F.currentvalue.visible){var N=F._dims,B,q;switch(F.currentvalue.xanchor){case"right":B=N.inputAreaLength-e.currentValueInset-N.currentValueMaxWidth,q="left";break;case"center":B=N.inputAreaLength*.5,q="middle";break;default:B=e.currentValueInset,q="left"}var V=T.ensureSingle(P,"text",e.labelClass,function($){$.attr({"text-anchor":q,"data-notex":1})}),J=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof R=="string")J+=R;else{var it=F.steps[F.active].label,nt=F._gd._fullLayout._meta;nt&&(it=T.templateString(it,nt)),J+=it}F.currentvalue.suffix&&(J+=F.currentvalue.suffix),V.call(L.font,F.currentvalue.font).text(J).call(d.convertToTspans,F._gd);var Y=d.lineCount(V),Z=(N.currentValueMaxLines+1-Y)*F.currentvalue.font.size*n;return d.positionText(V,B,Z),V}}function p(P,F,R){var N=T.ensureSingle(P,"rect",e.gripRectClass,function(B){B.call(C,F,P,R).style("pointer-events","all")});N.attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(i.stroke,R.bordercolor).call(i.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px")}function x(P,F,R){var N=T.ensureSingle(P,"text",e.labelClass,function(V){V.attr({"text-anchor":"middle","data-notex":1})}),B=F.step.label,q=R._gd._fullLayout._meta;return q&&(B=T.templateString(B,q)),N.call(L.font,R.font).text(B).call(d.convertToTspans,R._gd),N}function k(P,F){var R=T.ensureSingle(P,"g",e.labelsClass),N=F._dims,B=R.selectAll("g."+e.labelGroupClass).data(N.labelSteps);B.enter().append("g").classed(e.labelGroupClass,!0),B.exit().remove(),B.each(function(q){var V=E.select(this);V.call(x,q,F),L.setTranslate(V,w(F,q.fraction),e.tickOffset+F.ticklen+F.font.size*n+e.labelOffset+N.currentValueTotalHeight)})}function y(P,F,R,N,B){var q=Math.round(N*(R._stepCount-1)),V=R._visibleSteps[q]._index;V!==R.active&&A(P,F,R,V,!0,B)}function A(P,F,R,N,B,q){var V=R.active;R.active=N,r(P.layout,e.name,R).applyUpdate("active",N);var J=R.steps[R.active];F.call(M,R,q),F.call(c,R),P.emit("plotly_sliderchange",{slider:R,step:R.steps[R.active],interaction:B,previousActive:V}),J&&J.method&&B&&(F._nextMethod?(F._nextMethod.step=J,F._nextMethod.doCallback=B,F._nextMethod.doTransition=q):(F._nextMethod={step:J,doCallback:B,doTransition:q},F._nextMethodRaf=window.requestAnimationFrame(function(){var it=F._nextMethod.step;it.method&&(it.execute&&S.executeAPICommand(P,it.method,it.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function C(P,F,R){if(F._context.staticPlot)return;var N=R.node(),B=E.select(F);function q(){return R.data()[0]}function V(){var J=q();F.emit("plotly_sliderstart",{slider:J});var it=R.select("."+e.gripRectClass);E.event.stopPropagation(),E.event.preventDefault(),it.call(i.fill,J.activebgcolor);var nt=z(J,E.mouse(N)[0]);y(F,R,J,nt,!0),J._dragging=!0;function Y(){var $=q(),G=z($,E.mouse(N)[0]);y(F,R,$,G,!1)}B.on("mousemove",Y),B.on("touchmove",Y);function Z(){var $=q();$._dragging=!1,it.call(i.fill,$.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),F.emit("plotly_sliderend",{slider:$,step:$.steps[$.active]})}B.on("mouseup",Z),B.on("touchend",Z)}P.on("mousedown",V),P.on("touchstart",V)}function u(P,F){var R=P.selectAll("rect."+e.tickRectClass).data(F._visibleSteps),N=F._dims;R.enter().append("rect").classed(e.tickRectClass,!0),R.exit().remove(),R.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),R.each(function(B,q){var V=q%N.labelStride===0,J=E.select(this);J.attr({height:V?F.ticklen:F.minorticklen}).call(i.fill,F.tickcolor),L.setTranslate(J,w(F,q/(F._stepCount-1))-.5*F.tickwidth,(V?e.tickOffset:e.minorTickOffset)+N.currentValueTotalHeight)})}function m(P){var F=P._dims;F.labelSteps=[];for(var R=P._stepCount,N=0;N<R;N+=F.labelStride)F.labelSteps.push({fraction:N/(R-1),step:P._visibleSteps[N]})}function M(P,F,R){for(var N=P.select("rect."+e.gripRectClass),B=0,q=0;q<F._stepCount;q++)if(F._visibleSteps[q]._index===F.active){B=q;break}var V=w(F,B/(F._stepCount-1));if(!F._invokingCommand){var J=N;R&&F.transition.duration>0&&(J=J.transition().duration(F.transition.duration).ease(F.transition.easing)),J.attr("transform",v(V-e.gripWidth*.5,F._dims.currentValueTotalHeight))}}function w(P,F){var R=P._dims;return R.inputAreaStart+e.stepInset+(R.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,F))}function z(P,F){var R=P._dims;return Math.min(1,Math.max(0,(F-e.stepInset-R.inputAreaStart)/(R.inputAreaLength-2*e.stepInset-2*R.inputAreaStart)))}function O(P,F,R){var N=R._dims,B=T.ensureSingle(P,"rect",e.railTouchRectClass,function(q){q.call(C,F,P,R).style("pointer-events","all")});B.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,e.tickOffset+R.ticklen+N.labelHeight)}).call(i.fill,R.bgcolor).attr("opacity",0),L.setTranslate(B,0,N.currentValueTotalHeight)}function D(P,F){var R=F._dims,N=R.inputAreaLength-e.railInset*2,B=T.ensureSingle(P,"rect",e.railRectClass);B.attr({width:N,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),L.setTranslate(B,e.railInset,(R.inputAreaWidth-e.railWidth)*.5+R.currentValueTotalHeight)}},97544:function(tt,U,t){var E=t(60876);tt.exports={moduleType:"component",name:E.name,layoutAttributes:t(89861),supplyLayoutDefaults:t(8132),draw:t(79664)}},81668:function(tt,U,t){var E=t(33428),S=t(38248),i=t(7316),L=t(24040),T=t(3400),v=T.strTranslate,d=t(43616),r=t(76308),e=t(72736),l=t(13448),n=t(84284).OPPOSITE_SIDE,s=/ [XY][0-9]* /;function o(f,b,h){var _=h.propContainer,a=h.propName,c=h.placeholder,p=h.traceIndex,x=h.avoid||{},k=h.attributes,y=h.transform,A=h.containerGroup,C=f._fullLayout,u=1,m=!1,M=_.title,w=(M&&M.text?M.text:"").trim(),z=M&&M.font?M.font:{},O=z.family,D=z.size,P=z.color,F=z.weight,R=z.style,N=z.variant,B;a==="title.text"?B="titleText":a.indexOf("axis")!==-1?B="axisTitleText":a.indexOf("colorbar"!==-1)&&(B="colorbarTitleText");var q=f._context.edits[B];w===""?u=0:w.replace(s," % ")===c.replace(s," % ")&&(u=.2,m=!0,q||(w="")),h._meta?w=T.templateString(w,h._meta):C._meta&&(w=T.templateString(w,C._meta));var V=w||q,J;A||(A=T.ensureSingle(C._infolayer,"g","g-"+b),J=C._hColorbarMoveTitle);var it=A.selectAll("text").data(V?[0]:[]);if(it.enter().append("text"),it.text(w).attr("class",b),it.exit().remove(),!V)return A;function nt(G){T.syncOrAsync([Y,Z],G)}function Y(G){var rt;return!y&&J&&(y={}),y?(rt="",y.rotate&&(rt+="rotate("+[y.rotate,k.x,k.y]+")"),(y.offset||J)&&(rt+=v(0,(y.offset||0)-(J||0)))):rt=null,G.attr("transform",rt),G.style({"font-family":O,"font-size":E.round(D,2)+"px",fill:r.rgb(P),opacity:u*r.opacity(P),"font-weight":F,"font-style":R,"font-variant":N}).attr(k).call(e.convertToTspans,f),i.previousPromises(f)}function Z(G){var rt=E.select(G.node().parentNode);if(x&&x.selection&&x.side&&w){rt.attr("transform",null);var ot=n[x.side],W=x.side==="left"||x.side==="top"?-1:1,H=S(x.pad)?x.pad:2,at=d.bBox(rt.node()),Q={t:0,b:0,l:0,r:0},ct=f._fullLayout._reservedMargin;for(var ft in ct)for(var yt in ct[ft]){var xt=ct[ft][yt];Q[yt]=Math.max(Q[yt],xt)}var Lt={left:Q.l,top:Q.t,right:C.width-Q.r,bottom:C.height-Q.b},gt=x.maxShift||W*(Lt[x.side]-at[x.side]),mt=0;if(gt<0)mt=gt;else{var vt=x.offsetLeft||0,At=x.offsetTop||0;at.left-=vt,at.right-=vt,at.top-=At,at.bottom-=At,x.selection.each(function(){var Pt=d.bBox(this);T.bBoxIntersect(at,Pt,H)&&(mt=Math.max(mt,W*(Pt[x.side]-at[ot])+H))}),mt=Math.min(gt,mt),_._titleScoot=Math.abs(mt)}if(mt>0||gt<0){var Ot={left:[-mt,0],right:[mt,0],top:[0,-mt],bottom:[0,mt]}[x.side];rt.attr("transform",v(Ot[0],Ot[1]))}}}it.call(nt);function $(){u=0,m=!0,it.text(c).on("mouseover.opacity",function(){E.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){E.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}return q&&(w?it.on(".opacity",null):$(),it.call(e.makeEditable,{gd:f}).on("edit",function(G){p!==void 0?L.call("_guiRestyle",f,a,G,p):L.call("_guiRelayout",f,a,G)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(nt)}).on("input",function(G){this.text(G||" ").call(e.positionText,k.x,k.y)})),it.classed("js-placeholder",m),A}tt.exports={draw:o}},88444:function(tt,U,t){var E=t(25376),S=t(22548),i=t(92880).extendFlat,L=t(67824).overrideAll,T=t(66741),v=t(31780).templatedArray,d=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});tt.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(T({editType:"arraydraw"}),{}),font:E({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:S.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(tt){tt.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},91384:function(tt,U,t){var E=t(3400),S=t(51272),i=t(88444),L=t(73712),T=L.name,v=i.buttons;tt.exports=function(e,l){var n={name:T,handleItemDefaults:d};S(e,l,n)};function d(e,l,n){function s(b,h){return E.coerce(e,l,i,b,h)}var o=S(e,l,{name:"buttons",handleItemDefaults:r}),f=s("visible",o.length>0);f&&(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),E.noneOrAll(e,l,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),E.coerceFont(s,"font",n.font),s("bgcolor",n.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function r(e,l){function n(o,f){return E.coerce(e,l,v,o,f)}var s=n("visible",e.method==="skip"||Array.isArray(e.args));s&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(tt,U,t){var E=t(33428),S=t(7316),i=t(76308),L=t(43616),T=t(3400),v=t(72736),d=t(31780).arrayEditor,r=t(84284).LINE_SPACING,e=t(73712),l=t(37400);tt.exports=function(w){var z=w._fullLayout,O=T.filterVisible(z[e.name]);function D(J){S.autoMargin(w,u(J))}var P=z._menulayer.selectAll("g."+e.containerClassName).data(O.length>0?[0]:[]);if(P.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),P.exit().each(function(){E.select(this).selectAll("g."+e.headerGroupClassName).each(D)}).remove(),O.length!==0){var F=P.selectAll("g."+e.headerGroupClassName).data(O,n);F.enter().append("g").classed(e.headerGroupClassName,!0);for(var R=T.ensureSingle(P,"g",e.dropdownButtonGroupClassName,function(J){J.style("pointer-events","all")}),N=0;N<O.length;N++){var B=O[N];C(w,B)}var q="updatemenus"+z._uid,V=new l(w,R,q);F.enter().size()&&(R.node().parentNode.appendChild(R.node()),R.call(M)),F.exit().each(function(J){R.call(M),D(J)}).remove(),F.each(function(J){var it=E.select(this),nt=J.type==="dropdown"?R:null;S.manageCommandObserver(w,J,J.buttons,function(Y){f(w,J,J.buttons[Y.index],it,nt,V,Y.index,!0)}),J.type==="dropdown"?(b(w,it,R,V,J),o(R,J)&&h(w,it,R,V,J)):h(w,it,null,null,J)})}};function n(w){return w._index}function s(w){return+w.attr(e.menuIndexAttrName)==-1}function o(w,z){return+w.attr(e.menuIndexAttrName)===z._index}function f(w,z,O,D,P,F,R,N){z.active=R,d(w.layout,e.name,z).applyUpdate("active",R),z.type==="buttons"?h(w,D,null,null,z):z.type==="dropdown"&&(P.attr(e.menuIndexAttrName,"-1"),b(w,D,P,F,z),N||h(w,D,P,F,z))}function b(w,z,O,D,P){var F=T.ensureSingle(z,"g",e.headerClassName,function(it){it.style("pointer-events","all")}),R=P._dims,N=P.active,B=P.buttons[N]||e.blankHeaderOpts,q={y:P.pad.t,yPad:0,x:P.pad.l,xPad:0,index:0},V={width:R.headerWidth,height:R.headerHeight};F.call(c,P,B,w).call(m,P,q,V);var J=T.ensureSingle(z,"text",e.headerArrowClassName,function(it){it.attr("text-anchor","end").call(L.font,P.font).text(e.arrowSymbol[P.direction])});J.attr({x:R.headerWidth-e.arrowOffsetX+P.pad.l,y:R.headerHeight/2+e.textOffsetY+P.pad.t}),F.on("click",function(){O.call(M,String(o(O,P)?-1:P._index)),h(w,z,O,D,P)}),F.on("mouseover",function(){F.call(y)}),F.on("mouseout",function(){F.call(A,P)}),L.setTranslate(z,R.lx,R.ly)}function h(w,z,O,D,P){O||(O=z,O.attr("pointer-events","all"));var F=!s(O)||P.type==="buttons"?P.buttons:[],R=P.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,N=O.selectAll("g."+R).data(T.filterVisible(F)),B=N.enter().append("g").classed(R,!0),q=N.exit();P.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),q.transition().attr("opacity","0").remove()):q.remove();var V=0,J=0,it=P._dims,nt=["up","down"].indexOf(P.direction)!==-1;P.type==="dropdown"&&(nt?J=it.headerHeight+e.gapButtonHeader:V=it.headerWidth+e.gapButtonHeader),P.type==="dropdown"&&P.direction==="up"&&(J=-e.gapButtonHeader+e.gapButton-it.openHeight),P.type==="dropdown"&&P.direction==="left"&&(V=-e.gapButtonHeader+e.gapButton-it.openWidth);var Y={x:it.lx+V+P.pad.l,y:it.ly+J+P.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},Z={l:Y.x+P.borderwidth,t:Y.y+P.borderwidth};N.each(function($,G){var rt=E.select(this);rt.call(c,P,$,w).call(m,P,Y),rt.on("click",function(){E.event.defaultPrevented||($.execute&&($.args2&&P.active===G?(f(w,P,$,z,O,D,-1),S.executeAPICommand(w,$.method,$.args2)):(f(w,P,$,z,O,D,G),S.executeAPICommand(w,$.method,$.args))),w.emit("plotly_buttonclicked",{menu:P,button:$,active:P.active}))}),rt.on("mouseover",function(){rt.call(y)}),rt.on("mouseout",function(){rt.call(A,P),N.call(k,P)})}),N.call(k,P),nt?(Z.w=Math.max(it.openWidth,it.headerWidth),Z.h=Y.y-Z.t):(Z.w=Y.x-Z.l,Z.h=Math.max(it.openHeight,it.headerHeight)),Z.direction=P.direction,D&&(N.size()?_(w,z,O,D,P,Z):a(D))}function _(w,z,O,D,P,F){var R=P.direction,N=R==="up"||R==="down",B=P._dims,q=P.active,V,J,it;if(N)for(J=0,it=0;it<q;it++)J+=B.heights[it]+e.gapButton;else for(V=0,it=0;it<q;it++)V+=B.widths[it]+e.gapButton;D.enable(F,V,J),D.hbar&&D.hbar.attr("opacity","0").transition().attr("opacity","1"),D.vbar&&D.vbar.attr("opacity","0").transition().attr("opacity","1")}function a(w){var z=!!w.hbar,O=!!w.vbar;z&&w.hbar.transition().attr("opacity","0").each("end",function(){z=!1,O||w.disable()}),O&&w.vbar.transition().attr("opacity","0").each("end",function(){O=!1,z||w.disable()})}function c(w,z,O,D){w.call(p,z).call(x,z,O,D)}function p(w,z){var O=T.ensureSingle(w,"rect",e.itemRectClassName,function(D){D.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})});O.call(i.stroke,z.bordercolor).call(i.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function x(w,z,O,D){var P=T.ensureSingle(w,"text",e.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),F=O.label,R=D._fullLayout._meta;R&&(F=T.templateString(F,R)),P.call(L.font,z.font).text(F).call(v.convertToTspans,D)}function k(w,z){var O=z.active;w.each(function(D,P){var F=E.select(this);P===O&&z.showactive&&F.select("rect."+e.itemRectClassName).call(i.fill,e.activeColor)})}function y(w){w.select("rect."+e.itemRectClassName).call(i.fill,e.hoverColor)}function A(w,z){w.select("rect."+e.itemRectClassName).call(i.fill,z.bgcolor)}function C(w,z){var O=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},D=L.tester.selectAll("g."+e.dropdownButtonClassName).data(T.filterVisible(z.buttons));D.enter().append("g").classed(e.dropdownButtonClassName,!0);var P=["up","down"].indexOf(z.direction)!==-1;D.each(function(V,J){var it=E.select(this);it.call(c,z,V,w);var nt=it.select("."+e.itemTextClassName),Y=nt.node()&&L.bBox(nt.node()).width,Z=Math.max(Y+e.textPadX,e.minWidth),$=z.font.size*r,G=v.lineCount(nt),rt=Math.max($*G,e.minHeight)+e.textOffsetY;rt=Math.ceil(rt),Z=Math.ceil(Z),O.widths[J]=Z,O.heights[J]=rt,O.height1=Math.max(O.height1,rt),O.width1=Math.max(O.width1,Z),P?(O.totalWidth=Math.max(O.totalWidth,Z),O.openWidth=O.totalWidth,O.totalHeight+=rt+e.gapButton,O.openHeight+=rt+e.gapButton):(O.totalWidth+=Z+e.gapButton,O.openWidth+=Z+e.gapButton,O.totalHeight=Math.max(O.totalHeight,rt),O.openHeight=O.totalHeight)}),P?O.totalHeight-=e.gapButton:O.totalWidth-=e.gapButton,O.headerWidth=O.width1+e.arrowPadX,O.headerHeight=O.height1,z.type==="dropdown"&&(P?(O.width1+=e.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=e.arrowPadX),D.remove();var F=O.totalWidth+z.pad.l+z.pad.r,R=O.totalHeight+z.pad.t+z.pad.b,N=w._fullLayout._size;O.lx=N.l+N.w*z.x,O.ly=N.t+N.h*(1-z.y);var B="left";T.isRightAnchor(z)&&(O.lx-=F,B="right"),T.isCenterAnchor(z)&&(O.lx-=F/2,B="center");var q="top";T.isBottomAnchor(z)&&(O.ly-=R,q="bottom"),T.isMiddleAnchor(z)&&(O.ly-=R/2,q="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),S.autoMargin(w,u(z),{x:z.x,y:z.y,l:F*({right:1,center:.5}[B]||0),r:F*({left:1,center:.5}[B]||0),b:R*({top:1,middle:.5}[q]||0),t:R*({bottom:1,middle:.5}[q]||0)})}function u(w){return e.autoMarginIdRoot+w._index}function m(w,z,O,D){D=D||{};var P=w.select("."+e.itemRectClassName),F=w.select("."+e.itemTextClassName),R=z.borderwidth,N=O.index,B=z._dims;L.setTranslate(w,R+O.x,R+O.y);var q=["up","down"].indexOf(z.direction)!==-1,V=D.height||(q?B.heights[N]:B.height1);P.attr({x:0,y:0,width:D.width||(q?B.width1:B.widths[N]),height:V});var J=z.font.size*r,it=v.lineCount(F),nt=(it-1)*J/2;v.positionText(F,e.textOffsetX,V/2-nt+e.textOffsetY),q?O.y+=B.heights[N]+O.yPad:O.x+=B.widths[N]+O.xPad,O.index++}function M(w,z){w.attr(e.menuIndexAttrName,z||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}},76908:function(tt,U,t){var E=t(73712);tt.exports={moduleType:"component",name:E.name,layoutAttributes:t(88444),supplyLayoutDefaults:t(91384),draw:t(14420)}},37400:function(tt,U,t){tt.exports=T;var E=t(33428),S=t(76308),i=t(43616),L=t(3400);function T(v,d,r){this.gd=v,this.container=d,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(v,d,r){var e=this.gd._fullLayout,l=e.width,n=e.height;this.position=v;var s=this.position.l,o=this.position.w,f=this.position.t,b=this.position.h,h=this.position.direction,_=h==="down",a=h==="left",c=h==="right",p=h==="up",x=o,k=b,y,A,C,u;!_&&!a&&!c&&!p&&(this.position.direction="down",_=!0);var m=_||p;m?(y=s,A=y+x,_?(C=f,u=Math.min(C+k,n),k=u-C):(u=f+k,C=Math.max(u-k,0),k=u-C)):(C=f,u=C+k,a?(A=s+x,y=Math.max(A-x,0),x=A-y):(y=s,A=Math.min(y+x,l),x=A-y)),this._box={l:y,t:C,w:x,h:k};var M=o>x,w=T.barLength+2*T.barPad,z=T.barWidth+2*T.barPad,O=s,D=f+b;D+z>n&&(D=n-z);var P=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);P.exit().on(".drag",null).remove(),P.enter().append("rect").classed("scrollbar-horizontal",!0).call(S.fill,T.barColor),M?(this.hbar=P.attr({rx:T.barRadius,ry:T.barRadius,x:O,y:D,width:w,height:z}),this._hbarXMin=O+w/2,this._hbarTranslateMax=x-w):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=b>k,R=T.barWidth+2*T.barPad,N=T.barLength+2*T.barPad,B=s+o,q=f;B+R>l&&(B=l-R);var V=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-vertical",!0).call(S.fill,T.barColor),F?(this.vbar=V.attr({rx:T.barRadius,ry:T.barRadius,x:B,y:q,width:R,height:N}),this._vbarYMin=q+N/2,this._vbarTranslateMax=k-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var J=this.id,it=y-.5,nt=F?A+R+.5:A+.5,Y=C-.5,Z=M?u+z+.5:u+.5,$=e._topdefs.selectAll("#"+J).data(M||F?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",J).append("rect"),M||F?(this._clipRect=$.select("rect").attr({x:Math.floor(it),y:Math.floor(Y),width:Math.ceil(nt)-Math.floor(it),height:Math.ceil(Z)-Math.floor(Y)}),this.container.call(i.setClipUrl,J,this.gd),this.bg.attr({x:s,y:f,width:o,height:b})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),M||F){var G=E.behavior.drag().on("dragstart",function(){E.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(G);var rt=E.behavior.drag().on("dragstart",function(){E.event.sourceEvent.preventDefault(),E.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(rt),F&&this.vbar.on(".drag",null).call(rt)}this.setTranslate(d,r)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var v=this.translateX,d=this.translateY;this.hbar&&(v-=E.event.dx),this.vbar&&(d-=E.event.dy),this.setTranslate(v,d)},T.prototype._onBoxWheel=function(){var v=this.translateX,d=this.translateY;this.hbar&&(v+=E.event.deltaY),this.vbar&&(d+=E.event.deltaY),this.setTranslate(v,d)},T.prototype._onBarDrag=function(){var v=this.translateX,d=this.translateY;if(this.hbar){var r=v+this._hbarXMin,e=r+this._hbarTranslateMax,l=L.constrain(E.event.x,r,e),n=(l-r)/(e-r),s=this.position.w-this._box.w;v=n*s}if(this.vbar){var o=d+this._vbarYMin,f=o+this._vbarTranslateMax,b=L.constrain(E.event.y,o,f),h=(b-o)/(f-o),_=this.position.h-this._box.h;d=h*_}this.setTranslate(v,d)},T.prototype.setTranslate=function(v,d){var r=this.position.w-this._box.w,e=this.position.h-this._box.h;if(v=L.constrain(v||0,0,r),d=L.constrain(d||0,0,e),this.translateX=v,this.translateY=d,this.container.call(i.setTranslate,this._box.l-this.position.l-v,this._box.t-this.position.t-d),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+v-.5),y:Math.floor(this.position.t+d-.5)}),this.hbar){var l=v/r;this.hbar.call(i.setTranslate,v+l*this._hbarTranslateMax,d)}if(this.vbar){var n=d/e;this.vbar.call(i.setTranslate,v,d+n*this._vbarTranslateMax)}}},84284:function(tt){tt.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(tt){tt.exports={axisRefDescription:function(U,t,E){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+E+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",t,"and the",E,"of the domain of the","second",U,"axis."].join(" ")}}},48164:function(tt){tt.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}},26880:function(tt){tt.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(tt){tt.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(tt){tt.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(tt){tt.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}},13448:function(tt){tt.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(tt){tt.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(tt,U){U.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],U.STYLE=U.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")},9616:function(tt,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},64884:function(tt,U,t){U.version=t(25788).version,t(88324),t(79288);for(var E=t(24040),S=U.register=E.register,i=t(22448),L=Object.keys(i),T=0;T<L.length;T++){var v=L[T];v.charAt(0)!=="_"&&(U[v]=i[v]),S({moduleType:"apiMethod",name:v,fn:i[v]})}S(t(65875)),S([t(79180),t(56864),t(22676),t(41592),t(7402),t(76908),t(97544),t(49692),t(41152),t(12704),t(64968),t(8932),t(55080),t(2780),t(93024),t(45460)]),S([t(6580),t(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(S(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=t(9224);var d=t(93024),r=t(7316);U.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},U.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},U.Snapshot=t(78904),U.PlotSchema=t(73060)},9224:function(tt){tt.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(tt,U){U.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=.3333333333333333},U.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>.3333333333333333&&t.x<.6666666666666666},U.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=.6666666666666666},U.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=.6666666666666666},U.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>.3333333333333333&&t.y<.6666666666666666},U.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=.3333333333333333}},11864:function(tt,U,t){var E=t(20435),S=E.mod,i=E.modHalf,L=Math.PI,T=2*L;function v(_){return _/180*L}function d(_){return _/L*180}function r(_){return Math.abs(_[1]-_[0])>T-1e-14}function e(_,a){return i(a-_,T)}function l(_,a){return Math.abs(e(_,a))}function n(_,a){if(r(a))return!0;var c,p;a[0]<a[1]?(c=a[0],p=a[1]):(c=a[1],p=a[0]),c=S(c,T),p=S(p,T),c>p&&(p+=T);var x=S(_,T),k=x+T;return x>=c&&x<=p||k>=c&&k<=p}function s(_,a,c,p){if(!n(a,p))return!1;var x,k;return c[0]<c[1]?(x=c[0],k=c[1]):(x=c[1],k=c[0]),_>=x&&_<=k}function o(_,a,c,p,x,k,y){x=x||0,k=k||0;var A=r([c,p]),C,u,m,M,w;A?(C=0,u=L,m=T):c<p?(C=c,m=p):(C=p,m=c),_<a?(M=_,w=a):(M=a,w=_);function z(F,R){return[F*Math.cos(R)+x,k-F*Math.sin(R)]}var O=Math.abs(m-C)<=L?0:1;function D(F,R,N){return"A"+[F,F]+" "+[0,O,N]+" "+z(F,R)}var P;return A?M===null?P="M"+z(w,C)+D(w,u,0)+D(w,m,0)+"Z":P="M"+z(M,C)+D(M,u,0)+D(M,m,0)+"ZM"+z(w,C)+D(w,u,1)+D(w,m,1)+"Z":M===null?(P="M"+z(w,C)+D(w,m,0),y&&(P+="L0,0Z")):P="M"+z(M,C)+"L"+z(w,C)+D(w,m,0)+"L"+z(M,m)+D(M,C,1)+"Z",P}function f(_,a,c,p,x){return o(null,_,a,c,p,x,0)}function b(_,a,c,p,x){return o(null,_,a,c,p,x,1)}function h(_,a,c,p,x,k){return o(_,a,c,p,x,k,1)}tt.exports={deg2rad:v,rad2deg:d,angleDelta:e,angleDist:l,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:s,pathArc:f,pathSector:b,pathAnnulus:h}},38116:function(tt,U,t){var E=t(83160).decode,S=t(63620),i=Array.isArray,L=ArrayBuffer,T=DataView;function v(o){return L.isView(o)&&!(o instanceof T)}U.isTypedArray=v;function d(o){return i(o)||v(o)}U.isArrayOrTypedArray=d;function r(o){return!d(o[0])}U.isArray1D=r,U.ensureArray=function(o,f){return i(o)||(o=[]),o.length=f,o};var e={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};e.uint8c=e.u1c,e.uint8=e.u1,e.int8=e.i1,e.uint16=e.u2,e.int16=e.i2,e.uint32=e.u4,e.int32=e.i4,e.float32=e.f4,e.float64=e.f8;function l(o){return o.constructor===ArrayBuffer}U.isArrayBuffer=l,U.decodeTypedArraySpec=function(o){var f=[],b=n(o),h=b.dtype,_=e[h];if(!_)throw new Error('Error in dtype: "'+h+'"');var a=_.BYTES_PER_ELEMENT,c=b.bdata;l(c)||(c=E(c));var p=b.shape===void 0?[c.byteLength/a]:(""+b.shape).split(",");p.reverse();var x=p.length,k,y,A=+p[0],C=a*A,u=0;if(x===1)f=new _(c);else if(x===2)for(k=+p[1],y=0;y<k;y++)f[y]=new _(c,u,A),u+=C;else if(x===3){k=+p[1];for(var m=+p[2],M=0;M<m;M++)for(f[M]=[],y=0;y<k;y++)f[M][y]=new _(c,u,A),u+=C}else throw new Error("ndim: "+x+'is not supported with the shape:"'+b.shape+'"');return f.bdata=b.bdata,f.dtype=b.dtype,f.shape=p.reverse().join(","),o._inputArray=f,f},U.isTypedArraySpec=function(o){return S(o)&&o.hasOwnProperty("dtype")&&typeof o.dtype=="string"&&o.hasOwnProperty("bdata")&&(typeof o.bdata=="string"||l(o.bdata))&&(o.shape===void 0||o.hasOwnProperty("shape")&&(typeof o.shape=="string"||typeof o.shape=="number"))};function n(o){return{bdata:o.bdata,dtype:o.dtype,shape:o.shape}}U.concat=function(){var o=[],f=!0,b=0,h,_,a,c,p,x,k,y;for(a=0;a<arguments.length;a++)c=arguments[a],x=c.length,x&&(_?o.push(c):(_=c,p=x),i(c)?h=!1:(f=!1,b?h!==c.constructor&&(h=!1):h=c.constructor),b+=x);if(!b)return[];if(!o.length)return _;if(f)return _.concat.apply(_,o);if(h){for(k=new h(b),k.set(_),a=0;a<o.length;a++)c=o[a],k.set(c,p),p+=c.length;return k}for(k=new Array(b),y=0;y<_.length;y++)k[y]=_[y];for(a=0;a<o.length;a++){for(c=o[a],y=0;y<c.length;y++)k[p+y]=c[y];p+=y}return k},U.maxRowLength=function(o){return s(o,Math.max,0)},U.minRowLength=function(o){return s(o,Math.min,1/0)};function s(o,f,b){if(d(o))if(d(o[0])){for(var h=b,_=0;_<o.length;_++)h=f(h,o[_].length);return h}else return o.length;return 0}},54037:function(tt,U,t){var E=t(38248),S=t(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;tt.exports=function(L){return typeof L=="string"&&(L=L.replace(i,"")),E(L)?Number(L):S}},73696:function(tt){tt.exports=function(U){var t=U._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(E){E.regl&&E.regl.clear({color:!0,depth:!0})})}},75352:function(tt){tt.exports=function(U){U._responsiveChartHandler&&(window.removeEventListener("resize",U._responsiveChartHandler),delete U._responsiveChartHandler)}},63064:function(tt,U,t){var E=t(38248),S=t(49760),i=t(45464),L=t(88304),T=t(76308),v=t(13448).DESELECTDIM,d=t(22296),r=t(53756).counter,e=t(20435).modHalf,l=t(38116).isArrayOrTypedArray,n=t(38116).isTypedArraySpec,s=t(38116).decodeTypedArraySpec;U.valObjectMeta={data_array:{coerceFunction:function(f,b,h){b.set(l(f)?f:n(f)?s(f):h)}},enumerated:{coerceFunction:function(f,b,h,_){_.coerceNumber&&(f=+f),_.values.indexOf(f)===-1?b.set(h):b.set(f)},validateFunction:function(f,b){b.coerceNumber&&(f=+f);for(var h=b.values,_=0;_<h.length;_++){var a=String(h[_]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var c=new RegExp(a.substr(1,a.length-2));if(c.test(f))return!0}else if(f===h[_])return!0}return!1}},boolean:{coerceFunction:function(f,b,h){f===!0||f===!1?b.set(f):b.set(h)}},number:{coerceFunction:function(f,b,h,_){!E(f)||_.min!==void 0&&f<_.min||_.max!==void 0&&f>_.max?b.set(h):b.set(+f)}},integer:{coerceFunction:function(f,b,h,_){f%1||!E(f)||_.min!==void 0&&f<_.min||_.max!==void 0&&f>_.max?b.set(h):b.set(+f)}},string:{coerceFunction:function(f,b,h,_){if(typeof f!="string"){var a=typeof f=="number";_.strict===!0||!a?b.set(h):b.set(String(f))}else _.noBlank&&!f?b.set(h):b.set(f)}},color:{coerceFunction:function(f,b,h){S(f).isValid()?b.set(f):b.set(h)}},colorlist:{coerceFunction:function(f,b,h){function _(a){return S(a).isValid()}!Array.isArray(f)||!f.length?b.set(h):f.every(_)?b.set(f):b.set(h)}},colorscale:{coerceFunction:function(f,b,h){b.set(L.get(f,h))}},angle:{coerceFunction:function(f,b,h){f==="auto"?b.set("auto"):E(f)?b.set(e(+f,360)):b.set(h)}},subplotid:{coerceFunction:function(f,b,h,_){var a=_.regex||r(h);if(typeof f=="string"&&a.test(f)){b.set(f);return}b.set(h)},validateFunction:function(f,b){var h=b.dflt;return f===h?!0:typeof f!="string"?!1:!!r(h).test(f)}},flaglist:{coerceFunction:function(f,b,h,_){if((_.extras||[]).indexOf(f)!==-1){b.set(f);return}if(typeof f!="string"){b.set(h);return}for(var a=f.split("+"),c=0;c<a.length;){var p=a[c];_.flags.indexOf(p)===-1||a.indexOf(p)<c?a.splice(c,1):c++}a.length?b.set(a.join("+")):b.set(h)}},any:{coerceFunction:function(f,b,h){f===void 0?b.set(h):b.set(n(f)?s(f):f)}},info_array:{coerceFunction:function(f,b,h,_){function a(D,P,F){var R,N={set:function(B){R=B}};return F===void 0&&(F=P.dflt),U.valObjectMeta[P.valType].coerceFunction(D,N,F,P),R}if(n(f)&&(f=s(f)),!l(f)){b.set(h);return}var c=_.dimensions===2||_.dimensions==="1-2"&&Array.isArray(f)&&l(f[0]),p=_.items,x=[],k=Array.isArray(p),y=k&&c&&l(p[0]),A=c&&k&&!y,C=k&&!A?p.length:f.length,u,m,M,w,z,O;if(h=Array.isArray(h)?h:[],c)for(u=0;u<C;u++)for(x[u]=[],M=l(f[u])?f[u]:[],A?z=p.length:k?z=p[u].length:z=M.length,m=0;m<z;m++)A?w=p[m]:k?w=p[u][m]:w=p,O=a(M[m],w,(h[u]||[])[m]),O!==void 0&&(x[u][m]=O);else for(u=0;u<C;u++)O=a(f[u],k?p[u]:p,h[u]),O!==void 0&&(x[u]=O);b.set(x)},validateFunction:function(f,b){if(!l(f))return!1;var h=b.items,_=Array.isArray(h),a=b.dimensions===2;if(!b.freeLength&&f.length!==h.length)return!1;for(var c=0;c<f.length;c++)if(a){if(!l(f[c])||!b.freeLength&&f[c].length!==h[c].length)return!1;for(var p=0;p<f[c].length;p++)if(!o(f[c][p],_?h[c][p]:h))return!1}else if(!o(f[c],_?h[c]:h))return!1;return!0}}},U.coerce=function(f,b,h,_,a){var c=d(h,_).get(),p=d(f,_),x=d(b,_),k=p.get(),y=b._template;if(k===void 0&&y&&(k=d(y,_).get(),y=0),a===void 0&&(a=c.dflt),c.arrayOk){if(l(k))return x.set(k),k;if(n(k))return k=s(k),x.set(k),k}var A=U.valObjectMeta[c.valType].coerceFunction;A(k,x,a,c);var C=x.get();return y&&C===a&&!o(k,c)&&(k=d(y,_).get(),A(k,x,a,c),C=x.get()),C},U.coerce2=function(f,b,h,_,a){var c=d(f,_),p=U.coerce(f,b,h,_,a),x=c.get();return x!=null?p:!1},U.coerceFont=function(f,b,h,_){_||(_={});var a={};return h=h||{},a.family=f(b+".family",h.family),a.size=f(b+".size",h.size),a.color=f(b+".color",h.color),a.weight=f(b+".weight",h.weight),a.style=f(b+".style",h.style),_.noFontVariant||(a.variant=f(b+".variant",h.variant)),a},U.coercePattern=function(f,b,h,_){var a=f(b+".shape");if(a){f(b+".solidity"),f(b+".size");var c=f(b+".fillmode"),p=c==="overlay";if(!_){var x=f(b+".bgcolor",p?h:void 0);f(b+".fgcolor",p?T.contrast(x):h)}f(b+".fgopacity",p?.5:1)}},U.coerceHoverinfo=function(f,b,h){var _=b._module.attributes,a=_.hoverinfo?_:i,c=a.hoverinfo,p;if(h._dataLength===1){var x=c.dflt==="all"?c.flags.slice():c.dflt.split("+");x.splice(x.indexOf("name"),1),p=x.join("+")}return U.coerce(f,b,a,"hoverinfo",p)},U.coerceSelectionMarkerOpacity=function(f,b){if(f.marker){var h=f.marker.opacity;if(h!==void 0){var _,a;!l(h)&&!f.selected&&!f.unselected&&(_=h,a=v*h),b("selected.marker.opacity",_),b("unselected.marker.opacity",a)}}};function o(f,b){var h=U.valObjectMeta[b.valType];if(b.arrayOk&&l(f))return!0;if(h.validateFunction)return h.validateFunction(f,b);var _={},a=_,c={set:function(p){a=p}};return h.coerceFunction(f,c,_,b),a!==_}U.validate=o},67555:function(tt,U,t){var E=t(94336).Yn,S=t(38248),i=t(24248),L=t(20435).mod,T=t(39032),v=T.BADNUM,d=T.ONEDAY,r=T.ONEHOUR,e=T.ONEMIN,l=T.ONESEC,n=T.EPOCHJD,s=t(24040),o=t(94336).E9,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function _(P){return P&&s.componentsRegistry.calendars&&typeof P=="string"&&P!=="gregorian"}U.dateTick0=function(P,F){var R=a(P,!!F);if(F<2)return R;var N=U.dateTime2ms(R,P);return N+=d*(F-1),U.ms2DateTime(N,0,P)};function a(P,F){return _(P)?F?s.getComponentMethod("calendars","CANONICAL_SUNDAY")[P]:s.getComponentMethod("calendars","CANONICAL_TICK")[P]:F?"2000-01-02":"2000-01-01"}U.dfltRange=function(P){return _(P)?s.getComponentMethod("calendars","DFLTRANGE")[P]:["2000-01-01","2001-01-01"]},U.isJSDate=function(P){return typeof P=="object"&&P!==null&&typeof P.getTime=="function"};var c,p;U.dateTime2ms=function(P,F){if(U.isJSDate(P)){var R=P.getTimezoneOffset()*e,N=(P.getUTCMinutes()-P.getMinutes())*e+(P.getUTCSeconds()-P.getSeconds())*l+(P.getUTCMilliseconds()-P.getMilliseconds());if(N){var B=3*e;R=R-B/2+L(N-R+B/2,B)}return P=Number(P)-R,P>=c&&P<=p?P:v}if(typeof P!="string"&&typeof P!="number")return v;P=String(P);var q=_(F),V=P.charAt(0);q&&(V==="G"||V==="g")&&(P=P.substr(1),F="");var J=q&&F.substr(0,7)==="chinese",it=P.match(J?b:f);if(!it)return v;var nt=it[1],Y=it[3]||"1",Z=Number(it[5]||1),$=Number(it[7]||0),G=Number(it[9]||0),rt=Number(it[11]||0);if(q){if(nt.length===2)return v;nt=Number(nt);var ot;try{var W=s.getComponentMethod("calendars","getCal")(F);if(J){var H=Y.charAt(Y.length-1)==="i";Y=parseInt(Y,10),ot=W.newDate(nt,W.toMonthIndex(nt,Y,H),Z)}else ot=W.newDate(nt,Number(Y),Z)}catch{return v}return ot?(ot.toJD()-n)*d+$*r+G*e+rt*l:v}nt.length===2?nt=(Number(nt)+2e3-h)%100+h:nt=Number(nt),Y-=1;var at=new Date(Date.UTC(2e3,Y,Z,$,G));return at.setUTCFullYear(nt),at.getUTCMonth()!==Y||at.getUTCDate()!==Z?v:at.getTime()+rt*l},c=U.MIN_MS=U.dateTime2ms("-9999"),p=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(P,F){return U.dateTime2ms(P,F)!==v};function x(P,F){return String(P+Math.pow(10,F)).substr(1)}var k=90*d,y=3*r,A=5*e;U.ms2DateTime=function(P,F,R){if(typeof P!="number"||!(P>=c&&P<=p))return v;F||(F=0);var N=Math.floor(L(P+.05,1)*10),B=Math.round(P-N/10),q,V,J,it,nt,Y;if(_(R)){var Z=Math.floor(B/d)+n,$=Math.floor(L(P,d));try{q=s.getComponentMethod("calendars","getCal")(R).fromJD(Z).formatDate("yyyy-mm-dd")}catch{q=o("G%Y-%m-%d")(new Date(B))}if(q.charAt(0)==="-")for(;q.length<11;)q="-0"+q.substr(1);else for(;q.length<10;)q="0"+q;V=F<k?Math.floor($/r):0,J=F<k?Math.floor($%r/e):0,it=F<y?Math.floor($%e/l):0,nt=F<A?$%l*10+N:0}else Y=new Date(B),q=o("%Y-%m-%d")(Y),V=F<k?Y.getUTCHours():0,J=F<k?Y.getUTCMinutes():0,it=F<y?Y.getUTCSeconds():0,nt=F<A?Y.getUTCMilliseconds()*10+N:0;return C(q,V,J,it,nt)},U.ms2DateTimeLocal=function(P){if(!(P>=c+d&&P<=p-d))return v;var F=Math.floor(L(P+.05,1)*10),R=new Date(Math.round(P-F/10)),N=E("%Y-%m-%d")(R),B=R.getHours(),q=R.getMinutes(),V=R.getSeconds(),J=R.getUTCMilliseconds()*10+F;return C(N,B,q,V,J)};function C(P,F,R,N,B){if((F||R||N||B)&&(P+=" "+x(F,2)+":"+x(R,2),(N||B)&&(P+=":"+x(N,2),B))){for(var q=4;B%10===0;)q-=1,B/=10;P+="."+x(B,q)}return P}U.cleanDate=function(P,F,R){if(P===v)return F;if(U.isJSDate(P)||typeof P=="number"&&isFinite(P)){if(_(R))return i.error("JS Dates and milliseconds are incompatible with world calendars",P),F;if(P=U.ms2DateTimeLocal(+P),!P&&F!==void 0)return F}else if(!U.isDateTime(P,R))return i.error("unrecognized date",P),F;return P};var u=/%\d?f/g,m=/%h/g,M={1:"1",2:"1",3:"2",4:"2"};function w(P,F,R,N){P=P.replace(u,function(q){var V=Math.min(+q.charAt(1)||6,6),J=(F/1e3%1+2).toFixed(V).substr(2).replace(/0+$/,"")||"0";return J});var B=new Date(Math.floor(F+.05));if(P=P.replace(m,function(){return M[R("%q")(B)]}),_(N))try{P=s.getComponentMethod("calendars","worldCalFmt")(P,F,N)}catch{return"Invalid"}return R(P)(B)}var z=[59,59.9,59.99,59.999,59.9999];function O(P,F){var R=L(P+.05,d),N=x(Math.floor(R/r),2)+":"+x(L(Math.floor(R/e),60),2);if(F!=="M"){S(F)||(F=0);var B=Math.min(L(P/l,60),z[F]),q=(100+B).toFixed(F).substr(1);F>0&&(q=q.replace(/0+$/,"").replace(/[\.]$/,"")),N+=":"+q}return N}U.formatDate=function(P,F,R,N,B,q){if(B=_(B)&&B,!F)if(R==="y")F=q.year;else if(R==="m")F=q.month;else if(R==="d")F=q.dayMonth+`
`+q.year;else return O(P,R)+`
`+w(q.dayMonthYear,P,N,B);return w(F,P,N,B)};var D=3*d;U.incrementMonth=function(P,F,R){R=_(R)&&R;var N=L(P,d);if(P=Math.round(P-N),R)try{var B=Math.round(P/d)+n,q=s.getComponentMethod("calendars","getCal")(R),V=q.fromJD(B);return F%12?q.add(V,F,"m"):q.add(V,F/12,"y"),(V.toJD()-n)*d+N}catch{i.error("invalid ms "+P+" in calendar "+R)}var J=new Date(P+D);return J.setUTCMonth(J.getUTCMonth()+F)+N-D},U.findExactDates=function(P,F){for(var R=0,N=0,B=0,q=0,V,J,it=_(F)&&s.getComponentMethod("calendars","getCal")(F),nt=0;nt<P.length;nt++){if(J=P[nt],!S(J)){q++;continue}if(!(J%d))if(it)try{V=it.fromJD(J/d+n),V.day()===1?V.month()===1?R++:N++:B++}catch{}else V=new Date(J),V.getUTCDate()===1?V.getUTCMonth()===0?R++:N++:B++}N+=R,B+=N;var Y=P.length-q;return{exactYears:R/Y,exactMonths:N/Y,exactDays:B/Y}}},52200:function(tt,U,t){var E=t(33428),S=t(24248),i=t(52248),L=t(36524);function T(h){var _;if(typeof h=="string"){if(_=document.getElementById(h),_===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return _}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var _=E.select(h);return _.node()instanceof HTMLElement&&_.size()&&_.classed("js-plotly-plot")}function d(h){var _=h&&h.parentNode;_&&_.removeChild(h)}function r(h,_){e("global",h,_)}function e(h,_,a){var c="plotly.js-style-"+h,p=document.getElementById(c);p||(p=document.createElement("style"),p.setAttribute("id",c),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var x=p.sheet;x.insertRule?x.insertRule(_+"{"+a+"}",0):x.addRule?x.addRule(_,a,0):S.warn("addStyleRule failed")}function l(h){var _="plotly.js-style-"+h,a=document.getElementById(_);a&&d(a)}function n(h){var _=o(h),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return _.forEach(function(c){var p=s(c);if(p){var x=i.convertCssMatrix(p);a=L.multiply(a,a,x)}}),a}function s(h){var _=window.getComputedStyle(h,null),a=_.getPropertyValue("-webkit-transform")||_.getPropertyValue("-moz-transform")||_.getPropertyValue("-ms-transform")||_.getPropertyValue("-o-transform")||_.getPropertyValue("transform");return a==="none"?null:a.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(c){return+c})}function o(h){for(var _=[];f(h);)_.push(h),h=h.parentNode;return _}function f(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function b(h,_){return h&&_&&h.top===_.top&&h.left===_.left&&h.right===_.right&&h.bottom===_.bottom}tt.exports={getGraphDiv:T,isPlotDiv:v,removeElement:d,addStyleRule:r,addRelatedStyleRule:e,deleteRelatedStyleRule:l,getFullTransformMatrix:n,getElementTransformMatrix:s,getElementAndAncestors:o,equalDomRects:b}},95924:function(tt,U,t){var E=t(61252).EventEmitter,S={init:function(i){if(i._ev instanceof E)return i;var L=new E,T=new E;return i._ev=L,i._internalEv=T,i.on=L.on.bind(L),i.once=L.once.bind(L),i.removeListener=L.removeListener.bind(L),i.removeAllListeners=L.removeAllListeners.bind(L),i._internalOn=T.on.bind(T),i._internalOnce=T.once.bind(T),i._removeInternalListener=T.removeListener.bind(T),i._removeAllInternalListeners=T.removeAllListeners.bind(T),i.emit=function(v,d){typeof jQuery<"u"&&jQuery(i).trigger(v,d),L.emit(v,d),T.emit(v,d)},i},triggerHandler:function(i,L,T){var v,d;typeof jQuery<"u"&&(v=jQuery(i).triggerHandler(L,T));var r=i._ev;if(!r)return v;var e=r._events[L];if(!e)return v;function l(s){if(s.listener){if(r.removeListener(L,s.listener),!s.fired)return s.fired=!0,s.listener.apply(r,[T])}else return s.apply(r,[T])}e=Array.isArray(e)?e:[e];var n;for(n=0;n<e.length-1;n++)l(e[n]);return d=l(e[n]),v!==void 0?v:d},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};tt.exports=S},92880:function(tt,U,t){var E=t(63620),S=Array.isArray;function i(T,v){var d,r;for(d=0;d<T.length;d++){if(r=T[d],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[d]=r)}return!0}U.extendFlat=function(){return L(arguments,!1,!1,!1)},U.extendDeep=function(){return L(arguments,!0,!1,!1)},U.extendDeepAll=function(){return L(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(T,v,d,r){var e=T[0],l=T.length,n,s,o,f,b,h,_;if(l===2&&S(e)&&S(T[1])&&e.length===0){if(_=i(T[1],e),_)return e;e.splice(0,e.length)}for(var a=1;a<l;a++){n=T[a];for(s in n)o=e[s],f=n[s],r&&S(f)?e[s]=f:v&&f&&(E(f)||(b=S(f)))?(b?(b=!1,h=o&&S(o)?o:[]):h=o&&E(o)?o:{},e[s]=L([h,f],v,d,r)):(typeof f<"u"||d)&&(e[s]=f)}return e}},68944:function(tt){tt.exports=function(U){for(var t={},E=[],S=0,i=0;i<U.length;i++){var L=U[i];t[L]!==1&&(t[L]=1,E[S++]=L)}return E}},43880:function(tt){tt.exports=function(S){for(var i=E(S)?t:U,L=[],T=0;T<S.length;T++){var v=S[T];i(v)&&L.push(v)}return L};function U(S){return S.visible===!0}function t(S){var i=S[0].trace;return i.visible===!0&&i._length!==0}function E(S){return Array.isArray(S)&&Array.isArray(S[0])&&S[0][0]&&S[0][0].trace}},27144:function(tt,U,t){var E=t(33428),S=t(36116),i=t(40440),L=t(77844),T=t(42428),v=t(35536),d=t(24248),r=t(63620),e=t(22296),l=t(92065),n=Object.keys(S),s={"ISO-3":v,"USA-states":v,"country names":o};function o(x){for(var k=0;k<n.length;k++){var y=n[k],A=new RegExp(S[y]);if(A.test(x.trim().toLowerCase()))return y}return d.log("Unrecognized country name: "+x+"."),!1}function f(x,k,y){if(!k||typeof k!="string")return!1;var A=s[x](k),C,u,m;if(A){if(x==="USA-states")for(C=[],m=0;m<y.length;m++)u=y[m],u.properties&&u.properties.gu&&u.properties.gu==="USA"&&C.push(u);else C=y;for(m=0;m<C.length;m++)if(u=C[m],u.id===A)return u;d.log(["Location with id",A,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function b(x){var k=x.geometry,y=k.coordinates,A=x.id,C=[],u,m,M,w;function z(O){for(var D=0;D<O.length-1;D++)if(O[D][0]>0&&O[D+1][0]<0)return D;return null}switch(A==="RUS"||A==="FJI"?u=function(O){var D;if(z(O)===null)D=O;else for(D=new Array(O.length),w=0;w<O.length;w++)D[w]=[O[w][0]<0?O[w][0]+360:O[w][0],O[w][1]];C.push(l.tester(D))}:A==="ATA"?u=function(O){var D=z(O);if(D===null)return C.push(l.tester(O));var P=new Array(O.length+1),F=0;for(w=0;w<O.length;w++)w>D?P[F++]=[O[w][0]+360,O[w][1]]:w===D?(P[F++]=O[w],P[F++]=[O[w][0],-90]):P[F++]=O[w];var R=l.tester(P);R.pts.pop(),C.push(R)}:u=function(O){C.push(l.tester(O))},k.type){case"MultiPolygon":for(m=0;m<y.length;m++)for(M=0;M<y[m].length;M++)u(y[m][M]);break;case"Polygon":for(m=0;m<y.length;m++)u(y[m]);break}return C}function h(x){var k=x.geojson,y=window.PlotlyGeoAssets||{},A=typeof k=="string"?y[k]:k;return r(A)?A:(d.error("Oops ... something went wrong when fetching "+k),!1)}function _(x){var k=x[0].trace,y=h(k);if(!y)return!1;var A={},C=[],u;for(u=0;u<k._length;u++){var m=x[u];(m.loc||m.loc===0)&&(A[m.loc]=m)}function M(O){var D=e(O,k.featureidkey||"id").get(),P=A[D];if(P){var F=O.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var R={type:"Feature",id:D,geometry:F,properties:{}};R.properties.ct=a(R),P.fIn=O,P.fOut=R,C.push(R)}else d.log(["Location",P.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete A[D]}switch(y.type){case"FeatureCollection":var w=y.features;for(u=0;u<w.length;u++)M(w[u]);break;case"Feature":M(y);break;default:return d.warn(["Invalid GeoJSON type",(y.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var z in A)d.log(["Location *"+z+"*","does not have a matching feature with id-key","*"+k.featureidkey+"*."].join(" "));return C}function a(x){var k=x.geometry,y;if(k.type==="MultiPolygon")for(var A=k.coordinates,C=0,u=0;u<A.length;u++){var m={type:"Polygon",coordinates:A[u]},M=i.default(m);M>C&&(C=M,y=m)}else y=k;return L.default(y).geometry.coordinates}function c(x){var k=window.PlotlyGeoAssets||{},y=[];function A(w){return new Promise(function(z,O){E.json(w,function(D,P){if(D){delete k[w];var F=D.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return O(new Error(F))}return k[w]=P,z(P)})})}function C(w){return new Promise(function(z,O){var D=0,P=setInterval(function(){if(k[w]&&k[w]!=="pending")return clearInterval(P),z(k[w]);if(D>100)return clearInterval(P),O("Unexpected error while fetching from "+w);D++},50)})}for(var u=0;u<x.length;u++){var m=x[u][0].trace,M=m.geojson;typeof M=="string"&&(k[M]?k[M]==="pending"&&y.push(C(M)):(k[M]="pending",y.push(A(M))))}return y}function p(x){return T.default(x)}tt.exports={locationToFeature:f,feature2polygons:b,getTraceGeojson:h,extractTraceFeature:_,fetchTraceGeoData:c,computeBbox:p}},44808:function(tt,U,t){var E=t(39032).BADNUM;U.calcTraceToLineCoords=function(S){for(var i=S[0].trace,L=i.connectgaps,T=[],v=[],d=0;d<S.length;d++){var r=S[d],e=r.lonlat;e[0]!==E?v.push(e):!L&&v.length>0&&(T.push(v),v=[])}return v.length>0&&T.push(v),T},U.makeLine=function(S){return S.length===1?{type:"LineString",coordinates:S[0]}:{type:"MultiLineString",coordinates:S}},U.makePolygon=function(S){if(S.length===1)return{type:"Polygon",coordinates:S};for(var i=new Array(S.length),L=0;L<S.length;L++)i[L]=[S[L]];return{type:"MultiPolygon",coordinates:i}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(tt,U,t){var E=t(20435).mod;U.segmentsIntersect=S;function S(d,r,e,l,n,s,o,f){var b=e-d,h=n-d,_=o-n,a=l-r,c=s-r,p=f-s,x=b*p-_*a;if(x===0)return null;var k=(h*p-_*c)/x,y=(h*a-b*c)/x;return y<0||y>1||k<0||k>1?null:{x:d+b*k,y:r+a*k}}U.segmentDistance=function(d,r,e,l,n,s,o,f){if(S(d,r,e,l,n,s,o,f))return 0;var b=e-d,h=l-r,_=o-n,a=f-s,c=b*b+h*h,p=_*_+a*a,x=Math.min(i(b,h,c,n-d,s-r),i(b,h,c,o-d,f-r),i(_,a,p,d-n,r-s),i(_,a,p,e-n,l-s));return Math.sqrt(x)};function i(d,r,e,l,n){var s=l*d+n*r;if(s<0)return l*l+n*n;if(s>e){var o=l-d,f=n-r;return o*o+f*f}else{var b=l*r-n*d;return b*b/e}}var L,T,v;U.getTextLocation=function(d,r,e,l){if((d!==T||l!==v)&&(L={},T=d,v=l),L[e])return L[e];var n=d.getPointAtLength(E(e-l/2,r)),s=d.getPointAtLength(E(e+l/2,r)),o=Math.atan((s.y-n.y)/(s.x-n.x)),f=d.getPointAtLength(E(e,r)),b=(f.x*4+n.x+s.x)/6,h=(f.y*4+n.y+s.y)/6,_={x:b,y:h,theta:o};return L[e]=_,_},U.clearLocationCache=function(){T=null},U.getVisibleSegment=function(d,r,e){var l=r.left,n=r.right,s=r.top,o=r.bottom,f=0,b=d.getTotalLength(),h=b,_,a;function c(x){var k=d.getPointAtLength(x);x===0?_=k:x===b&&(a=k);var y=k.x<l?l-k.x:k.x>n?k.x-n:0,A=k.y<s?s-k.y:k.y>o?k.y-o:0;return Math.sqrt(y*y+A*A)}for(var p=c(f);p;){if(f+=p+e,f>h)return;p=c(f)}for(p=c(h);p;){if(h-=p+e,f>h)return;p=c(h)}return{min:f,max:h,len:h-f,total:b,isClosed:f===0&&h===b&&Math.abs(_.x-a.x)<.1&&Math.abs(_.y-a.y)<.1}},U.findPointOnPath=function(d,r,e,l){l=l||{};for(var n=l.pathLength||d.getTotalLength(),s=l.tolerance||.001,o=l.iterationLimit||30,f=d.getPointAtLength(0)[e]>d.getPointAtLength(n)[e]?-1:1,b=0,h=0,_=n,a,c,p;b<o;){if(a=(h+_)/2,c=d.getPointAtLength(a),p=c[e]-r,Math.abs(p)<s)return c;f*p>0?_=a:h=a,b++}return c}},33040:function(tt,U,t){var E=t(38248),S=t(49760),i=t(72160),L=t(8932),T=t(22548).defaultLine,v=t(38116).isArrayOrTypedArray,d=i(T),r=1;function e(f,b){var h=f;return h[3]*=b,h}function l(f){if(E(f))return d;var b=i(f);return b.length?b:d}function n(f){return E(f)?f:r}function s(f,b,h){var _=f.color;_&&_._inputArray&&(_=_._inputArray);var a=v(_),c=v(b),p=L.extractOpts(f),x=[],k,y,A,C,u;if(p.colorscale!==void 0?k=L.makeColorScaleFuncFromTrace(f):k=l,a?y=function(M,w){return M[w]===void 0?d:i(k(M[w]))}:y=l,c?A=function(M,w){return M[w]===void 0?r:n(M[w])}:A=n,a||c)for(var m=0;m<h;m++)C=y(_,m),u=A(b,m),x[m]=e(C,u);else x=e(i(_),b);return x}function o(f){var b=L.extractOpts(f),h=b.colorscale;return b.reversescale&&(h=L.flipScale(b.colorscale)),h.map(function(_){var a=_[0],c=S(_[1]),p=c.toRgb();return{index:a,rgb:[p.r,p.g,p.b,p.a]}})}tt.exports={formatColor:s,parseColorScale:o}},71688:function(tt,U,t){var E=t(35536);function S(i){return[i]}tt.exports={keyFun:function(i){return i.key},repeat:S,descend:E,wrap:S,unwrap:function(i){return i[0]}}},35536:function(tt){tt.exports=function(U){return U}},1396:function(tt){tt.exports=function(U,t){if(!t)return U;var E=1/Math.abs(t),S=E>1?(E*U+E*t)/E:U+t,i=String(S).length;if(i>16){var L=String(t).length,T=String(U).length;if(i>=T+L){var v=parseFloat(S).toPrecision(12);v.indexOf("e+")===-1&&(S=+v)}}return S}},3400:function(tt,U,t){var E=t(33428),S=t(94336).E9,i=t(57624).E9,L=t(38248),T=t(39032),v=T.FP_SAFE,d=-v,r=T.BADNUM,e=tt.exports={};e.adjustFormat=function(rt){return!rt||/^\d[.]\df/.test(rt)||/[.]\d%/.test(rt)?rt:rt==="0.f"?"~f":/^\d%/.test(rt)?"~%":/^\ds/.test(rt)?"~s":!/^[~,.0$]/.test(rt)&&/[&fps]/.test(rt)?"~"+rt:rt};var l={};e.warnBadFormat=function(rt){var ot=String(rt);l[ot]||(l[ot]=1,e.warn('encountered bad format: "'+ot+'"'))},e.noFormat=function(rt){return String(rt)},e.numberFormat=function(rt){var ot;try{ot=i(e.adjustFormat(rt))}catch{return e.warnBadFormat(rt),e.noFormat}return ot},e.nestedProperty=t(22296),e.keyedContainer=t(37804),e.relativeAttr=t(23193),e.isPlainObject=t(63620),e.toLogRange=t(36896),e.relinkPrivateKeys=t(51528);var n=t(38116);e.isArrayBuffer=n.isArrayBuffer,e.isTypedArray=n.isTypedArray,e.isArrayOrTypedArray=n.isArrayOrTypedArray,e.isArray1D=n.isArray1D,e.ensureArray=n.ensureArray,e.concat=n.concat,e.maxRowLength=n.maxRowLength,e.minRowLength=n.minRowLength;var s=t(20435);e.mod=s.mod,e.modHalf=s.modHalf;var o=t(63064);e.valObjectMeta=o.valObjectMeta,e.coerce=o.coerce,e.coerce2=o.coerce2,e.coerceFont=o.coerceFont,e.coercePattern=o.coercePattern,e.coerceHoverinfo=o.coerceHoverinfo,e.coerceSelectionMarkerOpacity=o.coerceSelectionMarkerOpacity,e.validate=o.validate;var f=t(67555);e.dateTime2ms=f.dateTime2ms,e.isDateTime=f.isDateTime,e.ms2DateTime=f.ms2DateTime,e.ms2DateTimeLocal=f.ms2DateTimeLocal,e.cleanDate=f.cleanDate,e.isJSDate=f.isJSDate,e.formatDate=f.formatDate,e.incrementMonth=f.incrementMonth,e.dateTick0=f.dateTick0,e.dfltRange=f.dfltRange,e.findExactDates=f.findExactDates,e.MIN_MS=f.MIN_MS,e.MAX_MS=f.MAX_MS;var b=t(14952);e.findBin=b.findBin,e.sorterAsc=b.sorterAsc,e.sorterDes=b.sorterDes,e.distinctVals=b.distinctVals,e.roundUp=b.roundUp,e.sort=b.sort,e.findIndexOfMin=b.findIndexOfMin,e.sortObjectKeys=t(95376);var h=t(63084);e.aggNums=h.aggNums,e.len=h.len,e.mean=h.mean,e.median=h.median,e.midRange=h.midRange,e.variance=h.variance,e.stdev=h.stdev,e.interp=h.interp;var _=t(52248);e.init2dArray=_.init2dArray,e.transposeRagged=_.transposeRagged,e.dot=_.dot,e.translationMatrix=_.translationMatrix,e.rotationMatrix=_.rotationMatrix,e.rotationXYMatrix=_.rotationXYMatrix,e.apply3DTransform=_.apply3DTransform,e.apply2DTransform=_.apply2DTransform,e.apply2DTransform2=_.apply2DTransform2,e.convertCssMatrix=_.convertCssMatrix,e.inverseTransformMatrix=_.inverseTransformMatrix;var a=t(11864);e.deg2rad=a.deg2rad,e.rad2deg=a.rad2deg,e.angleDelta=a.angleDelta,e.angleDist=a.angleDist,e.isFullCircle=a.isFullCircle,e.isAngleInsideSector=a.isAngleInsideSector,e.isPtInsideSector=a.isPtInsideSector,e.pathArc=a.pathArc,e.pathSector=a.pathSector,e.pathAnnulus=a.pathAnnulus;var c=t(98308);e.isLeftAnchor=c.isLeftAnchor,e.isCenterAnchor=c.isCenterAnchor,e.isRightAnchor=c.isRightAnchor,e.isTopAnchor=c.isTopAnchor,e.isMiddleAnchor=c.isMiddleAnchor,e.isBottomAnchor=c.isBottomAnchor;var p=t(92348);e.segmentsIntersect=p.segmentsIntersect,e.segmentDistance=p.segmentDistance,e.getTextLocation=p.getTextLocation,e.clearLocationCache=p.clearLocationCache,e.getVisibleSegment=p.getVisibleSegment,e.findPointOnPath=p.findPointOnPath;var x=t(92880);e.extendFlat=x.extendFlat,e.extendDeep=x.extendDeep,e.extendDeepAll=x.extendDeepAll,e.extendDeepNoArrays=x.extendDeepNoArrays;var k=t(24248);e.log=k.log,e.warn=k.warn,e.error=k.error;var y=t(53756);e.counterRegex=y.counter;var A=t(91200);e.throttle=A.throttle,e.throttleDone=A.done,e.clearThrottle=A.clear;var C=t(52200);e.getGraphDiv=C.getGraphDiv,e.isPlotDiv=C.isPlotDiv,e.removeElement=C.removeElement,e.addStyleRule=C.addStyleRule,e.addRelatedStyleRule=C.addRelatedStyleRule,e.deleteRelatedStyleRule=C.deleteRelatedStyleRule,e.getFullTransformMatrix=C.getFullTransformMatrix,e.getElementTransformMatrix=C.getElementTransformMatrix,e.getElementAndAncestors=C.getElementAndAncestors,e.equalDomRects=C.equalDomRects,e.clearResponsive=t(75352),e.preserveDrawingBuffer=t(34296),e.makeTraceGroups=t(30988),e._=t(98356),e.notifier=t(41792),e.filterUnique=t(68944),e.filterVisible=t(43880),e.pushUnique=t(52416),e.increment=t(1396),e.cleanNumber=t(54037),e.ensureNumber=function(rt){return L(rt)?(rt=Number(rt),rt>v||rt<d?r:rt):r},e.isIndex=function(rt,ot){return ot!==void 0&&rt>=ot?!1:L(rt)&&rt>=0&&rt%1===0},e.noop=t(16628),e.identity=t(35536),e.repeat=function(rt,ot){for(var W=new Array(ot),H=0;H<ot;H++)W[H]=rt;return W},e.swapAttrs=function(rt,ot,W,H){W||(W="x"),H||(H="y");for(var at=0;at<ot.length;at++){var Q=ot[at],ct=e.nestedProperty(rt,Q.replace("?",W)),ft=e.nestedProperty(rt,Q.replace("?",H)),yt=ct.get();ct.set(ft.get()),ft.set(yt)}},e.raiseToTop=function(rt){rt.parentNode.appendChild(rt)},e.cancelTransition=function(rt){return rt.transition().duration(0)},e.constrain=function(rt,ot,W){return ot>W?Math.max(W,Math.min(ot,rt)):Math.max(ot,Math.min(W,rt))},e.bBoxIntersect=function(rt,ot,W){return W=W||0,rt.left<=ot.right+W&&ot.left<=rt.right+W&&rt.top<=ot.bottom+W&&ot.top<=rt.bottom+W},e.simpleMap=function(rt,ot,W,H,at){for(var Q=rt.length,ct=new Array(Q),ft=0;ft<Q;ft++)ct[ft]=ot(rt[ft],W,H,at);return ct},e.randstr=function rt(ot,W,H,at){if(H||(H=16),W===void 0&&(W=24),W<=0)return"0";var Q=Math.log(Math.pow(2,W))/Math.log(H),ct="",ft,yt,xt;for(ft=2;Q===1/0;ft*=2)Q=Math.log(Math.pow(2,W/ft))/Math.log(H)*ft;var Lt=Q-Math.floor(Q);for(ft=0;ft<Math.floor(Q);ft++)xt=Math.floor(Math.random()*H).toString(H),ct=xt+ct;Lt&&(yt=Math.pow(H,Lt),xt=Math.floor(Math.random()*yt).toString(H),ct=xt+ct);var gt=parseInt(ct,H);return ot&&ot[ct]||gt!==1/0&&gt>=Math.pow(2,W)?at>10?(e.warn("randstr failed uniqueness"),ct):rt(ot,W,H,(at||0)+1):ct},e.OptionControl=function(rt,ot){rt||(rt={}),ot||(ot="opt");var W={};return W.optionList=[],W._newoption=function(H){H[ot]=rt,W[H.name]=H,W.optionList.push(H)},W["_"+ot]=rt,W},e.smooth=function(rt,ot){if(ot=Math.round(ot)||0,ot<2)return rt;var W=rt.length,H=2*W,at=2*ot-1,Q=new Array(at),ct=new Array(W),ft,yt,xt,Lt;for(ft=0;ft<at;ft++)Q[ft]=(1-Math.cos(Math.PI*(ft+1)/ot))/(2*ot);for(ft=0;ft<W;ft++){for(Lt=0,yt=0;yt<at;yt++)xt=ft+yt+1-ot,xt<-W?xt-=H*Math.round(xt/H):xt>=H&&(xt-=H*Math.floor(xt/H)),xt<0?xt=-1-xt:xt>=W&&(xt=H-1-xt),Lt+=rt[xt]*Q[yt];ct[ft]=Lt}return ct},e.syncOrAsync=function(rt,ot,W){var H,at;function Q(){return e.syncOrAsync(rt,ot,W)}for(;rt.length;)if(at=rt.splice(0,1)[0],H=at(ot),H&&H.then)return H.then(Q);return W&&W(ot)},e.stripTrailingSlash=function(rt){return rt.substr(-1)==="/"?rt.substr(0,rt.length-1):rt},e.noneOrAll=function(rt,ot,W){if(rt){var H=!1,at=!0,Q,ct;for(Q=0;Q<W.length;Q++)ct=rt[W[Q]],ct!=null?H=!0:at=!1;if(H&&!at)for(Q=0;Q<W.length;Q++)rt[W[Q]]=ot[W[Q]]}},e.mergeArray=function(rt,ot,W,H){var at=typeof H=="function";if(e.isArrayOrTypedArray(rt))for(var Q=Math.min(rt.length,ot.length),ct=0;ct<Q;ct++){var ft=rt[ct];ot[ct][W]=at?H(ft):ft}},e.mergeArrayCastPositive=function(rt,ot,W){return e.mergeArray(rt,ot,W,function(H){var at=+H;return isFinite(at)&&at>0?at:0})},e.fillArray=function(rt,ot,W,H){if(H=H||e.identity,e.isArrayOrTypedArray(rt))for(var at=0;at<ot.length;at++)ot[at][W]=H(rt[at])},e.castOption=function(rt,ot,W,H){H=H||e.identity;var at=e.nestedProperty(rt,W).get();return e.isArrayOrTypedArray(at)?Array.isArray(ot)&&e.isArrayOrTypedArray(at[ot[0]])?H(at[ot[0]][ot[1]]):H(at[ot]):at},e.extractOption=function(rt,ot,W,H){if(W in rt)return rt[W];var at=e.nestedProperty(ot,H).get();if(!Array.isArray(at))return at};function u(rt){var ot={};for(var W in rt)for(var H=rt[W],at=0;at<H.length;at++)ot[H[at]]=+W;return ot}e.tagSelected=function(rt,ot,W){var H=ot.selectedpoints,at=ot._indexToPoints,Q;at&&(Q=u(at));function ct(gt){return gt!==void 0&&gt<rt.length}for(var ft=0;ft<H.length;ft++){var yt=H[ft];if(e.isIndex(yt)||e.isArrayOrTypedArray(yt)&&e.isIndex(yt[0])&&e.isIndex(yt[1])){var xt=Q?Q[yt]:yt,Lt=W?W[xt]:xt;ct(Lt)&&(rt[Lt].selected=1)}}},e.selIndices2selPoints=function(rt){var ot=rt.selectedpoints,W=rt._indexToPoints;if(W){for(var H=u(W),at=[],Q=0;Q<ot.length;Q++){var ct=ot[Q];if(e.isIndex(ct)){var ft=H[ct];e.isIndex(ft)&&at.push(ft)}}return at}else return ot},e.getTargetArray=function(rt,ot){var W=ot.target;if(typeof W=="string"&&W){var H=e.nestedProperty(rt,W).get();return e.isArrayOrTypedArray(H)?H:!1}else if(e.isArrayOrTypedArray(W))return W;return!1};function m(rt,ot,W){var H={};typeof ot!="object"&&(ot={});var at=W==="pieLike"?-1:3,Q=Object.keys(rt),ct,ft,yt;for(ct=0;ct<Q.length;ct++)ft=Q[ct],yt=rt[ft],!(ft.charAt(0)==="_"||typeof yt=="function")&&(ft==="module"?H[ft]=yt:Array.isArray(yt)?ft==="colorscale"||at===-1?H[ft]=yt.slice():H[ft]=yt.slice(0,at):e.isTypedArray(yt)?at===-1?H[ft]=yt.subarray():H[ft]=yt.subarray(0,at):yt&&typeof yt=="object"?H[ft]=m(rt[ft],ot[ft],W):H[ft]=yt);for(Q=Object.keys(ot),ct=0;ct<Q.length;ct++)ft=Q[ct],yt=ot[ft],(typeof yt!="object"||!(ft in H)||typeof H[ft]!="object")&&(H[ft]=yt);return H}e.minExtend=m,e.titleCase=function(rt){return rt.charAt(0).toUpperCase()+rt.substr(1)},e.containsAny=function(rt,ot){for(var W=0;W<ot.length;W++)if(rt.indexOf(ot[W])!==-1)return!0;return!1},e.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var M=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return M.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;e.isIOS=function(){return w.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var rt=z.exec(window.navigator.userAgent);if(rt&&rt.length===2){var ot=parseInt(rt[1]);if(!isNaN(ot))return ot}return null},e.isD3Selection=function(rt){return rt instanceof E.selection},e.ensureSingle=function(rt,ot,W,H){var at=rt.select(ot+(W?"."+W:""));if(at.size())return at;var Q=rt.append(ot);return W&&Q.classed(W,!0),H&&Q.call(H),Q},e.ensureSingleById=function(rt,ot,W,H){var at=rt.select(ot+"#"+W);if(at.size())return at;var Q=rt.append(ot).attr("id",W);return H&&Q.call(H),Q},e.objectFromPath=function(rt,ot){for(var W=rt.split("."),H,at=H={},Q=0;Q<W.length;Q++){var ct=W[Q],ft=null,yt=W[Q].match(/(.*)\[([0-9]+)\]/);yt?(ct=yt[1],ft=yt[2],H=H[ct]=[],Q===W.length-1?H[ft]=ot:H[ft]={},H=H[ft]):(Q===W.length-1?H[ct]=ot:H[ct]={},H=H[ct])}return at};var O=/^([^\[\.]+)\.(.+)?/,D=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function P(rt){return rt.slice(0,2)==="__"}e.expandObjectPaths=function(rt){var ot,W,H,at,Q,ct,ft;if(typeof rt=="object"&&!Array.isArray(rt)){for(W in rt)if(rt.hasOwnProperty(W))if(ot=W.match(O)){if(at=rt[W],H=ot[1],P(H))continue;delete rt[W],rt[H]=e.extendDeepNoArrays(rt[H]||{},e.objectFromPath(W,e.expandObjectPaths(at))[H])}else if(ot=W.match(D)){if(at=rt[W],H=ot[1],P(H))continue;if(Q=parseInt(ot[2]),delete rt[W],rt[H]=rt[H]||[],ot[3]===".")ft=ot[4],ct=rt[H][Q]=rt[H][Q]||{},e.extendDeepNoArrays(ct,e.objectFromPath(ft,e.expandObjectPaths(at)));else{if(P(H))continue;rt[H][Q]=e.expandObjectPaths(at)}}else{if(P(W))continue;rt[W]=e.expandObjectPaths(rt[W])}}return rt},e.numSeparate=function(rt,ot,W){if(W||(W=!1),typeof ot!="string"||ot.length===0)throw new Error("Separator string required for formatting!");typeof rt=="number"&&(rt=String(rt));var H=/(\d+)(\d{3})/,at=ot.charAt(0),Q=ot.charAt(1),ct=rt.split("."),ft=ct[0],yt=ct.length>1?at+ct[1]:"";if(Q&&(ct.length>1||ft.length>4||W))for(;H.test(ft);)ft=ft.replace(H,"$1"+Q+"$2");return ft+yt},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;e.templateString=function(rt,ot){var W={};return rt.replace(e.TEMPLATE_STRING_REGEX,function(H,at){var Q;return F.test(at)?Q=ot[at]:(W[at]=W[at]||e.nestedProperty(ot,at).get,Q=W[at]()),e.isValidTextValue(Q)?Q:""})};var R={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return it.apply(R,arguments)};var N={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return it.apply(N,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function q(rt){var ot=rt.match(B);return ot?{key:ot[1],op:ot[2],number:Number(ot[3])}:{key:rt,op:null,number:null}}var V={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return it.apply(V,arguments)};var J=/^[:|\|]/;function it(rt,ot,W){var H=this,at=arguments;ot||(ot={});var Q={};return rt.replace(e.TEMPLATE_STRING_REGEX,function(ct,ft,yt){var xt=ft==="xother"||ft==="yother",Lt=ft==="_xother"||ft==="_yother",gt=ft==="_xother_"||ft==="_yother_",mt=ft==="xother_"||ft==="yother_",vt=xt||Lt||mt||gt,At=ft;(Lt||gt)&&(At=At.substring(1)),(mt||gt)&&(At=At.substring(0,At.length-1));var Ot=null,Pt=null;if(H.parseMultDiv){var Et=q(At);At=Et.key,Ot=Et.op,Pt=Et.number}var Nt;if(vt){if(Nt=ot[At],Nt===void 0)return""}else{var ne,Gt;for(Gt=3;Gt<at.length;Gt++)if(ne=at[Gt],!!ne){if(ne.hasOwnProperty(At)){Nt=ne[At];break}if(F.test(At)||(Nt=e.nestedProperty(ne,At).get(),Nt=Q[At]||e.nestedProperty(ne,At).get(),Nt&&(Q[At]=Nt)),Nt!==void 0)break}}if(Nt!==void 0&&(Ot==="*"&&(Nt*=Pt),Ot==="/"&&(Nt/=Pt)),Nt===void 0&&H)return H.count<H.max&&(e.warn("Variable '"+At+"' in "+H.name+" could not be found!"),Nt=ct),H.count===H.max&&e.warn("Too many "+H.name+" warnings - additional warnings will be suppressed"),H.count++,ct;if(yt){var pe;if(yt[0]===":"&&(pe=W?W.numberFormat:e.numberFormat,Nt!==""&&(Nt=pe(yt.replace(J,""))(Nt))),yt[0]==="|"){pe=W?W.timeFormat:S;var Vt=e.dateTime2ms(Nt);Nt=e.formatDate(Vt,yt.replace(J,""),!1,pe)}}else{var ae=At+"Label";ot.hasOwnProperty(ae)&&(Nt=ot[ae])}return vt&&(Nt="("+Nt+")",(Lt||gt)&&(Nt=" "+Nt),(mt||gt)&&(Nt=Nt+" ")),Nt})}var nt=48,Y=57;e.subplotSort=function(rt,ot){for(var W=Math.min(rt.length,ot.length)+1,H=0,at=0,Q=0;Q<W;Q++){var ct=rt.charCodeAt(Q)||0,ft=ot.charCodeAt(Q)||0,yt=ct>=nt&&ct<=Y,xt=ft>=nt&&ft<=Y;if(yt&&(H=10*H+ct-nt),xt&&(at=10*at+ft-nt),!yt||!xt){if(H!==at)return H-at;if(ct!==ft)return ct-ft}}return at-H};var Z=2e9;e.seedPseudoRandom=function(){Z=2e9},e.pseudoRandom=function(){var rt=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-rt)<429496729?e.pseudoRandom():Z/4294967296},e.fillText=function(rt,ot,W){var H=Array.isArray(W)?function(ct){W.push(ct)}:function(ct){W.text=ct},at=e.extractOption(rt,ot,"htx","hovertext");if(e.isValidTextValue(at))return H(at);var Q=e.extractOption(rt,ot,"tx","text");if(e.isValidTextValue(Q))return H(Q)},e.isValidTextValue=function(rt){return rt||rt===0},e.formatPercent=function(rt,ot){ot=ot||0;for(var W=(Math.round(100*rt*Math.pow(10,ot))*Math.pow(.1,ot)).toFixed(ot)+"%",H=0;H<ot;H++)W.indexOf(".")!==-1&&(W=W.replace("0%","%"),W=W.replace(".%","%"));return W},e.isHidden=function(rt){var ot=window.getComputedStyle(rt).display;return!ot||ot==="none"},e.strTranslate=function(rt,ot){return rt||ot?"translate("+rt+","+ot+")":""},e.strRotate=function(rt){return rt?"rotate("+rt+")":""},e.strScale=function(rt){return rt!==1?"scale("+rt+")":""},e.getTextTransform=function(rt){var ot=rt.noCenter,W=rt.textX,H=rt.textY,at=rt.targetX,Q=rt.targetY,ct=rt.anchorX||0,ft=rt.anchorY||0,yt=rt.rotate,xt=rt.scale;return xt?xt>1&&(xt=1):xt=0,e.strTranslate(at-xt*(W+ct),Q-xt*(H+ft))+e.strScale(xt)+(yt?"rotate("+yt+(ot?"":" "+W+" "+H)+")":"")},e.setTransormAndDisplay=function(rt,ot){rt.attr("transform",e.getTextTransform(ot)),rt.style("display",ot.scale?null:"none")},e.ensureUniformFontSize=function(rt,ot){var W=e.extendFlat({},ot);return W.size=Math.max(ot.size,rt._fullLayout.uniformtext.minsize||0),W},e.join2=function(rt,ot,W){var H=rt.length;return H>1?rt.slice(0,-1).join(ot)+W+rt[H-1]:rt.join(ot)},e.bigFont=function(rt){return Math.round(1.2*rt)};var $=e.getFirefoxVersion(),G=$!==null&&$<86;e.getPositionFromD3Event=function(){return G?[E.event.layerX,E.event.layerY]:[E.event.offsetX,E.event.offsetY]}},63620:function(tt){tt.exports=function(U){return window&&window.process&&window.process.versions?Object.prototype.toString.call(U)==="[object Object]":Object.prototype.toString.call(U)==="[object Object]"&&Object.getPrototypeOf(U).hasOwnProperty("hasOwnProperty")}},37804:function(tt,U,t){var E=t(22296),S=/^\w*$/,i=0,L=1,T=2,v=3,d=4;tt.exports=function(r,e,l,n){l=l||"name",n=n||"value";var s,o,f,b={};e&&e.length?(f=E(r,e),o=f.get()):o=r,e=e||"";var h={};if(o)for(s=0;s<o.length;s++)h[o[s][l]]=s;var _=S.test(n),a={set:function(c,p){var x=p===null?d:i;if(!o){if(!f||x===d)return;o=[],f.set(o)}var k=h[c];if(k===void 0){if(x===d)return;x=x|v,k=o.length,h[c]=k}else p!==(_?o[k][n]:E(o[k],n).get())&&(x=x|T);var y=o[k]=o[k]||{};return y[l]=c,_?y[n]=p:E(y,n).set(p),p!==null&&(x=x&~d),b[k]=b[k]|x,a},get:function(c){if(o){var p=h[c];if(p!==void 0)return _?o[p][n]:E(o[p],n).get()}},rename:function(c,p){var x=h[c];return x===void 0||(b[x]=b[x]|L,h[p]=x,delete h[c],o[x][l]=p),a},remove:function(c){var p=h[c];if(p===void 0)return a;var x=o[p];if(Object.keys(x).length>2)return b[p]=b[p]|T,a.set(c,null);if(_){for(s=p;s<o.length;s++)b[s]=b[s]|v;for(s=p;s<o.length;s++)h[o[s][l]]--;o.splice(p,1),delete h[c]}else E(x,n).set(null),b[p]=b[p]|T|d;return a},constructUpdate:function(){for(var c,p,x={},k=Object.keys(b),y=0;y<k.length;y++)p=k[y],c=e+"["+p+"]",o[p]?(b[p]&L&&(x[c+"."+l]=o[p][l]),b[p]&T&&(_?x[c+"."+n]=b[p]&d?null:o[p][n]:x[c+"."+n]=b[p]&d?null:E(o[p],n).get())):x[c]=null;return x}};return a}},98356:function(tt,U,t){var E=t(24040);tt.exports=function(S,i){for(var L=S._context.locale,T=0;T<2;T++){for(var v=S._context.locales,d=0;d<2;d++){var r=(v[L]||{}).dictionary;if(r){var e=r[i];if(e)return e}v=E.localeRegistry}var l=L.split("-")[0];if(l===L)break;L=l}return i}},24248:function(tt,U,t){var E=t(20556).dfltConfig,S=t(41792),i=tt.exports={};i.log=function(){var L;if(E.logging>1){var T=["LOG:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.trace.apply(console,T)}if(E.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);S(v.join("<br>"),"long")}},i.warn=function(){var L;if(E.logging>0){var T=["WARN:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.trace.apply(console,T)}if(E.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);S(v.join("<br>"),"stick")}},i.error=function(){var L;if(E.logging>0){var T=["ERROR:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.error.apply(console,T)}if(E.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);S(v.join("<br>"),"stick")}}},30988:function(tt,U,t){var E=t(33428);tt.exports=function(S,i,L){var T=S.selectAll("g."+L.replace(/\s/g,".")).data(i,function(d){return d[0].trace.uid});T.exit().remove(),T.enter().append("g").attr("class",L),T.order();var v=S.classed("rangeplot")?"nodeRangePlot3":"node3";return T.each(function(d){d[0][v]=E.select(this)}),T}},52248:function(tt,U,t){var E=t(36524);U.init2dArray=function(S,i){for(var L=new Array(S),T=0;T<S;T++)L[T]=new Array(i);return L},U.transposeRagged=function(S){var i=0,L=S.length,T,v;for(T=0;T<L;T++)i=Math.max(i,S[T].length);var d=new Array(i);for(T=0;T<i;T++)for(d[T]=new Array(L),v=0;v<L;v++)d[T][v]=S[v][T];return d},U.dot=function(S,i){if(!(S.length&&i.length)||S.length!==i.length)return null;var L=S.length,T,v;if(S[0].length)for(T=new Array(L),v=0;v<L;v++)T[v]=U.dot(S[v],i);else if(i[0].length){var d=U.transposeRagged(i);for(T=new Array(d.length),v=0;v<d.length;v++)T[v]=U.dot(S,d[v])}else for(T=0,v=0;v<L;v++)T+=S[v]*i[v];return T},U.translationMatrix=function(S,i){return[[1,0,S],[0,1,i],[0,0,1]]},U.rotationMatrix=function(S){var i=S*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},U.rotationXYMatrix=function(S,i,L){return U.dot(U.dot(U.translationMatrix(i,L),U.rotationMatrix(S)),U.translationMatrix(-i,-L))},U.apply3DTransform=function(S){return function(){var i=arguments,L=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return U.dot(S,[L[0],L[1],L[2],1]).slice(0,3)}},U.apply2DTransform=function(S){return function(){var i=arguments;i.length===3&&(i=i[0]);var L=arguments.length===1?i[0]:[i[0],i[1]];return U.dot(S,[L[0],L[1],1]).slice(0,2)}},U.apply2DTransform2=function(S){var i=U.apply2DTransform(S);return function(L){return i(L.slice(0,2)).concat(i(L.slice(2,4)))}},U.convertCssMatrix=function(S){if(S){var i=S.length;if(i===16)return S;if(i===6)return[S[0],S[1],0,0,S[2],S[3],0,0,0,0,1,0,S[4],S[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(S){var i=[];return E.invert(i,S),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(tt){function U(E,S){var i=E%S;return i<0?i+S:i}function t(E,S){return Math.abs(E)>S/2?E-Math.round(E/S)*S:E}tt.exports={mod:U,modHalf:t}},22296:function(tt,U,t){var E=t(38248),S=t(38116).isArrayOrTypedArray;tt.exports=function(n,s){if(E(s))s=String(s);else if(typeof s!="string"||s.substr(s.length-4)==="[-1]")throw"bad property string";var o=s.split("."),f,b,h,_;for(_=0;_<o.length;_++)if(String(o[_]).slice(0,2)==="__")throw"bad property string";for(_=0;_<o.length;){if(f=String(o[_]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),f){if(f[1])o[_]=f[1];else if(_===0)o.splice(0,1);else throw"bad property string";for(b=f[2].substr(1,f[2].length-2).split("]["),h=0;h<b.length;h++)_++,o.splice(_,0,Number(b[h]))}_++}return typeof n!="object"?l(n,s,o):{set:v(n,o,s),get:i(n,o),astr:s,parts:o,obj:n}};function i(n,s){return function(){var o=n,f,b,h,_,a;for(_=0;_<s.length-1;_++){if(f=s[_],f===-1){for(b=!0,h=[],a=0;a<o.length;a++)h[a]=i(o[a],s.slice(_+1))(),h[a]!==h[0]&&(b=!1);return b?h[0]:h}if(typeof f=="number"&&!S(o)||(o=o[f],typeof o!="object"||o===null))return}if(!(typeof o!="object"||o===null)&&(h=o[s[_]],h!==null))return h}}var L=/(^|\.)args\[/;function T(n,s){return n===void 0||n===null&&!s.match(L)}function v(n,s,o){return function(f){var b=n,h="",_=T(f,o),a,c;for(c=0;c<s.length-1;c++){if(a=s[c],typeof a=="number"&&!S(b))throw"array index but container is not an array";if(a===-1){if(_=!r(b,s.slice(c+1),f,o),_)break;return}if(!e(b,a,s[c+1],_))break;if(b=b[a],typeof b!="object"||b===null)throw"container is not an object";h=d(h,a)}if(_){if(c===s.length-1&&(delete b[s[c]],Array.isArray(b)&&+s[c]===b.length-1))for(;b.length&&b[b.length-1]===void 0;)b.pop()}else b[s[c]]=f}}function d(n,s){var o=s;return E(s)?o="["+s+"]":n&&(o="."+s),n+o}function r(n,s,o,f){var b=S(o),h=!0,_=o,a=f.replace("-1",0),c=b?!1:T(o,a),p=s[0],x;for(x=0;x<n.length;x++)a=f.replace("-1",x),b&&(_=o[x%o.length],c=T(_,a)),c&&(h=!1),e(n,x,p,c)&&v(n[x],s,f.replace("-1",x))(_);return h}function e(n,s,o,f){if(n[s]===void 0){if(f)return!1;typeof o=="number"?n[s]=[]:n[s]={}}return!0}function l(n,s,o){return{set:function(){throw"bad container"},get:function(){},astr:s,parts:o,obj:n}}},16628:function(tt){tt.exports=function(){}},41792:function(tt,U,t){var E=t(33428),S=t(38248),i=[];tt.exports=function(L,T){if(i.indexOf(L)!==-1)return;i.push(L);var v=1e3;S(T)?v=T:T==="long"&&(v=3e3);var d=E.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);var r=d.selectAll(".notifier-note").data(i);function e(l){l.duration(700).style("opacity",0).each("end",function(n){var s=i.indexOf(n);s!==-1&&i.splice(s,1),E.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(l){var n=E.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(e)});for(var s=n.append("p"),o=l.split(/<br\s*\/?>/g),f=0;f<o.length;f++)f&&s.append("br"),s.append("span").text(o[f]);T==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(e)})}},72213:function(tt,U,t){var E=t(93972),S="data-savedcursor",i="!!";tt.exports=function(L,T){var v=L.attr(S);if(T){if(!v){for(var d=(L.attr("class")||"").split(" "),r=0;r<d.length;r++){var e=d[r];e.indexOf("cursor-")===0&&L.attr(S,e.substr(7)).classed(e,!1)}L.attr(S)||L.attr(S,i)}E(L,T)}else v&&(L.attr(S,null),v===i?E(L):E(L,v))}},92065:function(tt,U,t){var E=t(52248).dot,S=t(39032).BADNUM,i=tt.exports={};i.tester=function(L){var T=L.slice(),v=T[0][0],d=v,r=T[0][1],e=r,l;for((T[T.length-1][0]!==T[0][0]||T[T.length-1][1]!==T[0][1])&&T.push(T[0]),l=1;l<T.length;l++)v=Math.min(v,T[l][0]),d=Math.max(d,T[l][0]),r=Math.min(r,T[l][1]),e=Math.max(e,T[l][1]);var n=!1,s;T.length===5&&(T[0][0]===T[1][0]?T[2][0]===T[3][0]&&T[0][1]===T[3][1]&&T[1][1]===T[2][1]&&(n=!0,s=function(_){return _[0]===T[0][0]}):T[0][1]===T[1][1]&&T[2][1]===T[3][1]&&T[0][0]===T[3][0]&&T[1][0]===T[2][0]&&(n=!0,s=function(_){return _[1]===T[0][1]}));function o(_,a){var c=_[0],p=_[1];return!(c===S||c<v||c>d||p===S||p<r||p>e||a&&s(_))}function f(_,a){var c=_[0],p=_[1];if(c===S||c<v||c>d||p===S||p<r||p>e)return!1;var x=T.length,k=T[0][0],y=T[0][1],A=0,C,u,m,M,w;for(C=1;C<x;C++)if(u=k,m=y,k=T[C][0],y=T[C][1],M=Math.min(u,k),!(c<M||c>Math.max(u,k)||p>Math.max(m,y)))if(p<Math.min(m,y))c!==M&&A++;else{if(k===u?w=p:w=m+(c-u)*(y-m)/(k-u),p===w)return!(C===1&&a);p<=w&&c!==M&&A++}return A%2===1}var b=!0,h=T[0];for(l=1;l<T.length;l++)if(h[0]!==T[l][0]||h[1]!==T[l][1]){b=!1;break}return{xmin:v,xmax:d,ymin:r,ymax:e,pts:T,contains:n?o:f,isRect:n,degenerate:b}},i.isSegmentBent=function(L,T,v,d){var r=L[T],e=[L[v][0]-r[0],L[v][1]-r[1]],l=E(e,e),n=Math.sqrt(l),s=[-e[1]/n,e[0]/n],o,f,b;for(o=T+1;o<v;o++)if(f=[L[o][0]-r[0],L[o][1]-r[1]],b=E(f,e),b<0||b>l||Math.abs(E(f,s))>d)return!0;return!1},i.filter=function(L,T){var v=[L[0]],d=0,r=0;function e(n){L.push(n);var s=v.length,o=d;v.splice(r+1);for(var f=o+1;f<L.length;f++)(f===L.length-1||i.isSegmentBent(L,o,f+1,T))&&(v.push(L[f]),v.length<s-2&&(d=f,r=v.length-1),o=f)}if(L.length>1){var l=L.pop();e(l)}return{addPt:e,raw:L,filtered:v}}},5048:function(tt,U,t){var E=t(16576),S=t(28624);tt.exports=function(i,L,T){var v=i._fullLayout,d=!0;return v._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(T);return}if(!(r.pick&&!v._has("parcoords"))){try{r.regl=S({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:i._context.plotGlPixelRatio||t.g.devicePixelRatio,extensions:L||[],cachedCode:T||{}})}catch{d=!1}r.regl||(d=!1),d&&this.addEventListener("webglcontextlost",function(e){i&&i.emit&&i.emit("plotly_webglcontextlost",{event:e,layer:r.key})},!1)}}),d||E({container:v._glcontainer.node()}),d}},34296:function(tt,U,t){var E=t(38248),S=t(25928);tt.exports=function(L){var T;if(L&&L.hasOwnProperty("userAgent")?T=L.userAgent:T=i(),typeof T!="string")return!0;var v=S({ua:{headers:{"user-agent":T}},tablet:!0,featureDetect:!1});if(!v)for(var d=T.split(" "),r=1;r<d.length;r++){var e=d[r];if(e.indexOf("Safari")!==-1)for(var l=r-1;l>-1;l--){var n=d[l];if(n.substr(0,8)==="Version/"){var s=n.substr(8).split(".")[0];if(E(s)&&(s=+s),s>=13)return!0}}}return v};function i(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(tt){tt.exports=function(U,t){if(t instanceof RegExp){for(var E=t.toString(),S=0;S<U.length;S++)if(U[S]instanceof RegExp&&U[S].toString()===E)return U;U.push(t)}else(t||t===0)&&U.indexOf(t)===-1&&U.push(t);return U}},94552:function(tt,U,t){var E=t(3400),S=t(20556).dfltConfig;function i(T,v){for(var d=[],r,e=0;e<v.length;e++)r=v[e],r===T?d[e]=r:typeof r=="object"?d[e]=Array.isArray(r)?E.extendDeep([],r):E.extendDeepAll({},r):d[e]=r;return d}var L={};L.add=function(T,v,d,r,e){var l,n;if(T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},n=T.undoQueue.index,T.autoplay){T.undoQueue.inSequence||(T.autoplay=!1);return}!T.undoQueue.sequence||T.undoQueue.beginSequence?(l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(n,T.undoQueue.queue.length-n,l),T.undoQueue.index+=1):l=T.undoQueue.queue[n-1],T.undoQueue.beginSequence=!1,l&&(l.undo.calls.unshift(v),l.undo.args.unshift(d),l.redo.calls.push(r),l.redo.args.push(e)),T.undoQueue.queue.length>S.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--)},L.startSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},L.stopSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},L.undo=function(T){var v,d;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index<=0)){for(T.undoQueue.index--,v=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,d=0;d<v.undo.calls.length;d++)L.plotDo(T,v.undo.calls[d],v.undo.args[d]);T.undoQueue.inSequence=!1,T.autoplay=!1}},L.redo=function(T){var v,d;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index>=T.undoQueue.queue.length)){for(v=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,d=0;d<v.redo.calls.length;d++)L.plotDo(T,v.redo.calls[d],v.redo.args[d]);T.undoQueue.inSequence=!1,T.autoplay=!1,T.undoQueue.index++}},L.plotDo=function(T,v,d){T.autoplay=!0,d=i(T,d),v.apply(null,d)},tt.exports=L},53756:function(tt,U){U.counter=function(t,E,S,i){var L=(E||"")+(S?"":"$"),T=i===!1?"":"^";return t==="xy"?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(T+t+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(tt){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;tt.exports=function(E,S){for(;S;){var i=E.match(U);if(i)E=i[1];else if(E.match(t))E="";else throw new Error("bad relativeAttr call:"+[E,S]);if(S.charAt(0)==="^")S=S.slice(1);else break}return E&&S.charAt(0)!=="["?E+"."+S:E+S}},51528:function(tt,U,t){var E=t(38116).isArrayOrTypedArray,S=t(63620);tt.exports=function i(L,T){for(var v in T){var d=T[v],r=L[v];if(r!==d)if(v.charAt(0)==="_"||typeof d=="function"){if(v in L)continue;L[v]=d}else if(E(d)&&E(r)&&S(d[0])){if(v==="customdata"||v==="ids")continue;for(var e=Math.min(d.length,r.length),l=0;l<e;l++)r[l]!==d[l]&&S(d[l])&&S(r[l])&&i(r[l],d[l])}else S(d)&&S(r)&&(i(r,d),Object.keys(r).length||delete L[v])}}},14952:function(tt,U,t){var E=t(38248),S=t(24248),i=t(35536),L=t(39032).BADNUM,T=1e-9;U.findBin=function(l,n,s){if(E(n.start))return s?Math.ceil((l-n.start)/n.size-T)-1:Math.floor((l-n.start)/n.size+T);var o=0,f=n.length,b=0,h=f>1?(n[f-1]-n[0])/(f-1):1,_,a;for(h>=0?a=s?v:d:a=s?e:r,l+=h*T*(s?-1:1)*(h>=0?1:-1);o<f&&b++<100;)_=Math.floor((o+f)/2),a(n[_],l)?o=_+1:f=_;return b>90&&S.log("Long binary search..."),o-1};function v(l,n){return l<n}function d(l,n){return l<=n}function r(l,n){return l>n}function e(l,n){return l>=n}U.sorterAsc=function(l,n){return l-n},U.sorterDes=function(l,n){return n-l},U.distinctVals=function(l){var n=l.slice();n.sort(U.sorterAsc);var s;for(s=n.length-1;s>-1&&n[s]===L;s--);for(var o=n[s]-n[0]||1,f=o/(s||1)/1e4,b=[],h,_=0;_<=s;_++){var a=n[_],c=a-h;h===void 0?(b.push(a),h=a):c>f&&(o=Math.min(o,c),b.push(a),h=a)}return{vals:b,minDiff:o}},U.roundUp=function(l,n,s){for(var o=0,f=n.length-1,b,h=0,_=s?0:1,a=s?1:0,c=s?Math.ceil:Math.floor;o<f&&h++<100;)b=c((o+f)/2),n[b]<=l?o=b+_:f=b-a;return n[o]},U.sort=function(l,n){for(var s=0,o=0,f=1;f<l.length;f++){var b=n(l[f],l[f-1]);if(b<0?s=1:b>0&&(o=1),s&&o)return l.sort(n)}return o?l:l.reverse()},U.findIndexOfMin=function(l,n){n=n||i;for(var s=1/0,o,f=0;f<l.length;f++){var b=n(l[f]);b<s&&(s=b,o=f)}return o}},93972:function(tt){tt.exports=function(U,t){(U.attr("class")||"").split(" ").forEach(function(E){E.indexOf("cursor-")===0&&U.classed(E,!1)}),t&&U.classed("cursor-"+t,!0)}},16576:function(tt,U,t){var E=t(76308),S=function(){};tt.exports=function(i){for(var L in i)typeof i[L]=="function"&&(i[L]=S);i.destroy=function(){i.container.parentNode.removeChild(i.container)};var T=document.createElement("div");T.className="no-webgl",T.style.cursor="pointer",T.style.fontSize="24px",T.style.color=E.defaults[0],T.style.position="absolute",T.style.left=T.style.top="0px",T.style.width=T.style.height="100%",T.style["background-color"]=E.lightLine,T.style["z-index"]=30;var v=document.createElement("p");return v.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",v.style.position="relative",v.style.top="50%",v.style.left="50%",v.style.height="30%",v.style.width="50%",v.style.margin="-15% 0 0 -25%",T.appendChild(v),i.container.appendChild(T),i.container.style.background="#FFFFFF",i.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(tt){tt.exports=function(U){return Object.keys(U).sort()}},63084:function(tt,U,t){var E=t(38248),S=t(38116).isArrayOrTypedArray;U.aggNums=function(i,L,T,v){var d,r;if((!v||v>T.length)&&(v=T.length),E(L)||(L=!1),S(T[0])){for(r=new Array(v),d=0;d<v;d++)r[d]=U.aggNums(i,L,T[d]);T=r}for(d=0;d<v;d++)E(L)?E(T[d])&&(L=i(+L,+T[d])):L=T[d];return L},U.len=function(i){return U.aggNums(function(L){return L+1},0,i)},U.mean=function(i,L){return L||(L=U.len(i)),U.aggNums(function(T,v){return T+v},0,i)/L},U.midRange=function(i){if(!(i===void 0||i.length===0))return(U.aggNums(Math.max,null,i)+U.aggNums(Math.min,null,i))/2},U.variance=function(i,L,T){return L||(L=U.len(i)),E(T)||(T=U.mean(i,L)),U.aggNums(function(v,d){return v+Math.pow(d-T,2)},0,i)/L},U.stdev=function(i,L,T){return Math.sqrt(U.variance(i,L,T))},U.median=function(i){var L=i.slice().sort();return U.interp(L,.5)},U.interp=function(i,L){if(!E(L))throw"n should be a finite number";if(L=L*i.length-.5,L<0)return i[0];if(L>i.length-1)return i[i.length-1];var T=L%1;return T*i[Math.ceil(L)]+(1-T)*i[Math.floor(L)]}},43080:function(tt,U,t){var E=t(72160);function S(i){return i?E(i):[0,0,0,1]}tt.exports=S},9188:function(tt,U,t){var E=t(2264),S=t(43616),i=t(3400),L=null;function T(){if(L!==null)return L;L=!1;var v=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!v){var d=Array.from(E.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=d.some(function(s){return r.apply(null,s)});else{var e=S.tester.append("image").attr("style",E.STYLE),l=window.getComputedStyle(e.node()),n=l.imageRendering;L=d.some(function(s){var o=s[1];return n===o||n===o.toLowerCase()}),e.remove()}}return L}tt.exports=T},72736:function(tt,U,t){var E=t(33428),S=t(3400),i=S.strTranslate,L=t(9616),T=t(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(R,N,B){var q=R.text(),V=!R.attr("data-notex")&&N&&N._context.typesetMath&&typeof MathJax<"u"&&q.match(v),J=E.select(R.node().parentNode);if(J.empty())return;var it=R.attr("class")?R.attr("class").split(" ")[0]:"text";it+="-math",J.selectAll("svg."+it).remove(),J.selectAll("g."+it+"-group").remove(),R.style("display",null).attr({"data-unformatted":q,"data-math":"N"});function nt(){J.empty()||(it=R.attr("class")+"-math",J.select("svg."+it).remove()),R.text("").style("white-space","pre");var Y=O(R.node(),q);Y&&R.style("pointer-events","all"),U.positionText(R),B&&B.call(R)}return V?(N&&N._promises||[]).push(new Promise(function(Y){R.style("display","none");var Z=parseInt(R.node().style.fontSize,10),$={fontSize:Z};n(V[2],$,function(G,rt,ot){J.selectAll("svg."+it).remove(),J.selectAll("g."+it+"-group").remove();var W=G&&G.select("svg");if(!W||!W.node()){nt(),Y();return}var H=J.append("g").classed(it+"-group",!0).attr({"pointer-events":"none","data-unformatted":q,"data-math":"Y"});H.node().appendChild(W.node()),rt&&rt.node()&&W.node().insertBefore(rt.node().cloneNode(!0),W.node().firstChild);var at=ot.width,Q=ot.height;W.attr({class:it,height:Q,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ct=R.node().style.fill||"black",ft=W.select("g");ft.attr({fill:ct,stroke:ct});var yt=ft.node().getBoundingClientRect(),xt=yt.width,Lt=yt.height;(xt>at||Lt>Q)&&(W.style("overflow","hidden"),yt=W.node().getBoundingClientRect(),xt=yt.width,Lt=yt.height);var gt=+R.attr("x"),mt=+R.attr("y"),vt=Z||R.node().getBoundingClientRect().height,At=-vt/4;if(it[0]==="y")H.attr({transform:"rotate("+[-90,gt,mt]+")"+i(-xt/2,At-Lt/2)});else if(it[0]==="l")mt=At-Lt/2;else if(it[0]==="a"&&it.indexOf("atitle")!==0)gt=0,mt=At;else{var Ot=R.attr("text-anchor");gt=gt-xt*(Ot==="middle"?.5:Ot==="end"?1:0),mt=mt+At-Lt/2}W.attr({x:gt,y:mt}),B&&B.call(R,H),Y(H)})})):nt(),R};var d=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function e(R){return R.replace(d,"\\lt ").replace(r,"\\gt ")}var l=[["$","$"],["\\(","\\)"]];function n(R,N,B){var q=parseInt((MathJax.version||"").split(".")[0]);if(q!==2&&q!==3){S.warn("No MathJax version:",MathJax.version);return}var V,J,it,nt,Y=function(){return J=S.extendDeepAll({},MathJax.Hub.config),it=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:l},displayAlign:"left"})},Z=function(){J=S.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=l},$=function(){if(V=MathJax.Hub.config.menuSettings.renderer,V!=="SVG")return MathJax.Hub.setRenderer("SVG")},G=function(){V=MathJax.config.startup.output,V!=="svg"&&(MathJax.config.startup.output="svg")},rt=function(){var ct="math-output-"+S.randstr({},64);nt=E.select("body").append("div").attr({id:ct}).style({visibility:"hidden",position:"absolute","font-size":N.fontSize+"px"}).text(e(R));var ft=nt.node();return q===2?MathJax.Hub.Typeset(ft):MathJax.typeset([ft])},ot=function(){var ct=nt.select(q===2?".MathJax_SVG":".MathJax"),ft=!ct.empty()&&nt.select("svg").node();if(!ft)S.log("There was an error in the tex syntax.",R),B();else{var yt=ft.getBoundingClientRect(),xt;q===2?xt=E.select("body").select("#MathJax_SVG_glyphs"):xt=ct.select("defs"),B(ct,xt,yt)}nt.remove()},W=function(){if(V!=="SVG")return MathJax.Hub.setRenderer(V)},H=function(){V!=="svg"&&(MathJax.config.startup.output=V)},at=function(){return it!==void 0&&(MathJax.Hub.processSectionDelay=it),MathJax.Hub.Config(J)},Q=function(){MathJax.config=J};q===2?MathJax.Hub.Queue(Y,$,rt,ot,W,at):q===3&&(Z(),G(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){rt(),ot(),H(),Q()}))}var s={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},f={sub:"-0.21em",sup:"0.42em"},b="\u200B",h=["http:","https:","mailto:","",void 0,":"],_=U.NEWLINES=/(\r\n?|\n)/g,a=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,k=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,A=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function C(R,N){if(!R)return null;var B=R.match(N),q=B&&(B[3]||B[4]);return q&&w(q)}var u=/(^|;)\s*color:/;U.plainText=function(R,N){N=N||{};for(var B=N.len!==void 0&&N.len!==-1?N.len:1/0,q=N.allowedTags!==void 0?N.allowedTags:["br"],V="...",J=V.length,it=R.split(a),nt=[],Y="",Z=0,$=0;$<it.length;$++){var G=it[$],rt=G.match(c),ot=rt&&rt[2].toLowerCase();if(ot)q.indexOf(ot)!==-1&&(nt.push(G),Y=ot);else{var W=G.length;if(Z+W<B)nt.push(G),Z+=W;else if(Z<B){var H=B-Z;Y&&(Y!=="br"||H<=J||W<=J)&&nt.pop(),B>J?nt.push(G.substr(0,H-J)+V):nt.push(G.substr(0,H));break}Y=""}}return nt.join("")};var m={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function w(R){return R.replace(M,function(N,B){var q;return B.charAt(0)==="#"?q=z(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):q=m[B],q||N})}U.convertEntities=w;function z(R){if(!(R>1114111)){var N=String.fromCodePoint;if(N)return N(R);var B=String.fromCharCode;return R<=65535?B(R):B((R>>10)+55232,R%1024+56320)}}function O(R,N){N=N.replace(_," ");var B=!1,q=[],V,J=-1;function it(){J++;var Lt=document.createElementNS(L.svg,"tspan");E.select(Lt).attr({class:"line",dy:J*T+"em"}),R.appendChild(Lt),V=Lt;var gt=q;if(q=[{node:Lt}],gt.length>1)for(var mt=1;mt<gt.length;mt++)nt(gt[mt])}function nt(Lt){var gt=Lt.type,mt={},vt;if(gt==="a"){vt="a";var At=Lt.target,Ot=Lt.href,Pt=Lt.popup;Ot&&(mt={"xlink:xlink:show":At==="_blank"||At.charAt(0)!=="_"?"new":"replace",target:At,"xlink:xlink:href":Ot},Pt&&(mt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Pt+'");return false;'))}else vt="tspan";Lt.style&&(mt.style=Lt.style);var Et=document.createElementNS(L.svg,vt);if(gt==="sup"||gt==="sub"){Y(V,b),V.appendChild(Et);var Nt=document.createElementNS(L.svg,"tspan");Y(Nt,b),E.select(Nt).attr("dy",f[gt]),mt.dy=o[gt],V.appendChild(Et),V.appendChild(Nt)}else V.appendChild(Et);E.select(Et).attr(mt),V=Lt.node=Et,q.push(Lt)}function Y(Lt,gt){Lt.appendChild(document.createTextNode(gt))}function Z(Lt){if(q.length===1){S.log("Ignoring unexpected end tag </"+Lt+">.",N);return}var gt=q.pop();Lt!==gt.type&&S.log("Start tag <"+gt.type+"> doesnt match end tag <"+Lt+">. Pretending it did match.",N),V=q[q.length-1].node}var $=p.test(N);$?it():(V=R,q=[{node:R}]);for(var G=N.split(a),rt=0;rt<G.length;rt++){var ot=G[rt],W=ot.match(c),H=W&&W[2].toLowerCase(),at=s[H];if(H==="br")it();else if(at===void 0)Y(V,w(ot));else if(W[1])Z(H);else{var Q=W[4],ct={type:H},ft=C(Q,x);if(ft?(ft=ft.replace(u,"$1 fill:"),at&&(ft+=";"+at)):at&&(ft=at),ft&&(ct.style=ft),H==="a"){B=!0;var yt=C(Q,k);if(yt){var xt=D(yt);xt&&(ct.href=xt,ct.target=C(Q,y)||"_blank",ct.popup=C(Q,A))}}nt(ct)}}return B}function D(R){var N=encodeURI(decodeURI(R)),B=document.createElement("a"),q=document.createElement("a");B.href=R,q.href=N;var V=B.protocol,J=q.protocol;return h.indexOf(V)!==-1&&h.indexOf(J)!==-1?N:""}U.sanitizeHTML=function(R){R=R.replace(_," ");for(var N=document.createElement("p"),B=N,q=[],V=R.split(a),J=0;J<V.length;J++){var it=V[J],nt=it.match(c),Y=nt&&nt[2].toLowerCase();if(Y in s)if(nt[1])q.length&&(B=q.pop());else{var Z=nt[4],$=C(Z,x),G=$?{style:$}:{};if(Y==="a"){var rt=C(Z,k);if(rt){var ot=D(rt);if(ot){G.href=ot;var W=C(Z,y);W&&(G.target=W)}}}var H=document.createElement(Y);B.appendChild(H),E.select(H).attr(G),B=H,q.push(H)}else B.appendChild(document.createTextNode(w(it)))}var at="innerHTML";return N[at]},U.lineCount=function(R){return R.selectAll("tspan.line").size()||1},U.positionText=function(R,N,B){return R.each(function(){var q=E.select(this);function V(nt,Y){return Y===void 0?(Y=q.attr(nt),Y===null&&(q.attr(nt,0),Y=0)):q.attr(nt,Y),Y}var J=V("x",N),it=V("y",B);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:J,y:it})})};function P(R,N,B){var q=B.horizontalAlign,V=B.verticalAlign||"top",J=R.node().getBoundingClientRect(),it=N.node().getBoundingClientRect(),nt,Y,Z;return V==="bottom"?Y=function(){return J.bottom-nt.height}:V==="middle"?Y=function(){return J.top+(J.height-nt.height)/2}:Y=function(){return J.top},q==="right"?Z=function(){return J.right-nt.width}:q==="center"?Z=function(){return J.left+(J.width-nt.width)/2}:Z=function(){return J.left},function(){nt=this.node().getBoundingClientRect();var $=Z()-it.left,G=Y()-it.top,rt=B.gd||{};if(B.gd){rt._fullLayout._calcInverseTransform(rt);var ot=S.apply3DTransform(rt._fullLayout._invTransform)($,G);$=ot[0],G=ot[1]}return this.style({top:G+"px",left:$+"px","z-index":1e3}),this}}var F="1px ";U.makeTextShadow=function(R){var N=F,B=F,q=F;return N+B+q+R+", -"+N+"-"+B+q+R+", "+N+"-"+B+q+R+", -"+N+B+q+R},U.makeEditable=function(R,N){var B=N.gd,q=N.delegate,V=E.dispatch("edit","input","cancel"),J=q||R;if(R.style({"pointer-events":q?"none":"all"}),R.size()!==1)throw new Error("boo");function it(){Y(),R.style({opacity:0});var Z=J.attr("class"),$;Z?$="."+Z.split(" ")[0]+"-math-group":$="[class*=-math-group]",$&&E.select(R.node().parentNode).select($).style({opacity:0})}function nt(Z){var $=Z.node(),G=document.createRange();G.selectNodeContents($);var rt=window.getSelection();rt.removeAllRanges(),rt.addRange(G),$.focus()}function Y(){var Z=E.select(B),$=Z.select(".svg-container"),G=$.append("div"),rt=R.node().style,ot=parseFloat(rt.fontSize||12),W=N.text;W===void 0&&(W=R.attr("data-unformatted")),G.classed("plugin-editable editable",!0).style({position:"absolute","font-family":rt.fontFamily||"Arial","font-size":ot,color:N.fill||rt.fill||"black",opacity:1,"background-color":N.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ot/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(W).call(P(R,$,N)).on("blur",function(){B._editing=!1,R.text(this.textContent).style({opacity:1});var H=E.select(this).attr("class"),at;H?at="."+H.split(" ")[0]+"-math-group":at="[class*=-math-group]",at&&E.select(R.node().parentNode).select(at).style({opacity:0});var Q=this.textContent;E.select(this).transition().duration(0).remove(),E.select(document).on("mouseup",null),V.edit.call(R,Q)}).on("focus",function(){var H=this;B._editing=!0,E.select(document).on("mouseup",function(){if(E.event.target===H)return!1;document.activeElement===G.node()&&G.node().blur()})}).on("keyup",function(){E.event.which===27?(B._editing=!1,R.style({opacity:1}),E.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),V.cancel.call(R,this.textContent)):(V.input.call(R,this.textContent),E.select(this).call(P(R,$,N)))}).on("keydown",function(){E.event.which===13&&this.blur()}).call(nt)}return N.immediate?it():J.on("click",it),E.rebind(R,V,"on")}},91200:function(tt,U){var t={};U.throttle=function(S,i,L){var T=t[S],v=Date.now();if(!T){for(var d in t)t[d].ts<v-6e4&&delete t[d];T=t[S]={ts:0,timer:null}}E(T);function r(){L(),T.ts=Date.now(),T.onDone&&(T.onDone(),T.onDone=null)}if(v>T.ts+i){r();return}T.timer=setTimeout(function(){r(),T.timer=null},i)},U.done=function(S){var i=t[S];return!i||!i.timer?Promise.resolve():new Promise(function(L){var T=i.onDone;i.onDone=function(){T&&T(),L(),i.onDone=null}})},U.clear=function(S){if(S)E(t[S]),delete t[S];else for(var i in t)U.clear(i)};function E(S){S&&S.timer!==null&&(clearTimeout(S.timer),S.timer=null)}},36896:function(tt,U,t){var E=t(38248);tt.exports=function(S,i){if(S>0)return Math.log(S)/Math.LN10;var L=Math.log(Math.min(i[0],i[1]))/Math.LN10;return E(L)||(L=Math.log(Math.max(i[0],i[1]))/Math.LN10-6),L}},59972:function(tt,U,t){var E=tt.exports={},S=t(79552).locationmodeToLayer,i=t(55712).NO;E.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},E.getTopojsonPath=function(L,T){return L+T+".json"},E.getTopojsonFeatures=function(L,T){var v=S[L.locationmode],d=T.objects[v];return i(T,d).features}},11680:function(tt){tt.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(tt){tt.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(tt,U,t){var E=t(24040);tt.exports=function(S){for(var i=E.layoutArrayContainers,L=E.layoutArrayRegexes,T=S.split("[")[0],v,d,r=0;r<L.length;r++)if(d=S.match(L[r]),d&&d.index===0){v=d[0];break}if(v||(v=i[i.indexOf(T)]),!v)return!1;var e=S.substr(v.length);return e?(d=e.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),d?{array:v,index:Number(d[1]),property:d[3]||""}:!1):{array:v,index:"",property:""}}},67824:function(tt,U,t){var E=t(92880).extendFlat,S=t(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},T=i.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");tt.exports={traces:i,layout:L,traceFlags:function(){return d(T)},layoutFlags:function(){return d(v)},update:function(l,n){var s=n.editType;if(s&&s!=="none")for(var o=s.split("+"),f=0;f<o.length;f++)l[o[f]]=!0},overrideAll:r};function d(l){for(var n={},s=0;s<l.length;s++)n[l[s]]=!1;return n}function r(l,n,s){var o=E({},l);for(var f in o){var b=o[f];S(b)&&(o[f]=e(b,n,s,f))}return s==="from-root"&&(o.editType=n),o}function e(l,n,s,o){if(l.valType){var f=E({},l);if(f.editType=n,Array.isArray(l.items)){f.items=new Array(l.items.length);for(var b=0;b<l.items.length;b++)f.items[b]=e(l.items[b],n)}return f}else return r(l,n,o.charAt(0)==="_"?"nested":"from-root")}},93404:function(tt,U,t){var E=t(38248),S=t(61784),i=t(24040),L=t(3400),T=t(7316),v=t(79811),d=t(76308),r=v.cleanId,e=v.getFromTrace,l=i.traceIs;U.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&L.log("Clearing previous rejected promises from queue."),p._promises=[]},U.cleanLayout=function(p){var x,k;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var y=(T.subplotsRegistry.cartesian||{}).attrRegex,A=(T.subplotsRegistry.polar||{}).attrRegex,C=(T.subplotsRegistry.ternary||{}).attrRegex,u=(T.subplotsRegistry.gl3d||{}).attrRegex,m=Object.keys(p);for(x=0;x<m.length;x++){var M=m[x];if(y&&y.test(M)){var w=p[M];w.anchor&&w.anchor!=="free"&&(w.anchor=r(w.anchor)),w.overlaying&&(w.overlaying=r(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),w.insiderange&&delete w.range,delete w.islog,delete w.isdate,delete w.categories,h(w,"domain")&&delete w.domain,w.autotick!==void 0&&(w.tickmode===void 0&&(w.tickmode=w.autotick?"auto":"linear"),delete w.autotick),s(w)}else if(A&&A.test(M)){var z=p[M];s(z.radialaxis)}else if(C&&C.test(M)){var O=p[M];s(O.aaxis),s(O.baxis),s(O.caxis)}else if(u&&u.test(M)){var D=p[M],P=D.cameraposition;if(Array.isArray(P)&&P[0].length===4){var F=P[0],R=P[1],N=P[2],B=S([],F),q=[];for(k=0;k<3;++k)q[k]=R[k]+N*B[2+4*k];D.camera={eye:{x:q[0],y:q[1],z:q[2]},center:{x:R[0],y:R[1],z:R[2]},up:{x:0,y:0,z:1}},delete D.cameraposition}s(D.xaxis),s(D.yaxis),s(D.zaxis)}}var V=Array.isArray(p.annotations)?p.annotations.length:0;for(x=0;x<V;x++){var J=p.annotations[x];L.isPlainObject(J)&&(J.ref&&(J.ref==="paper"?(J.xref="paper",J.yref="paper"):J.ref==="data"&&(J.xref="x",J.yref="y"),delete J.ref),n(J,"xref"),n(J,"yref"))}var it=Array.isArray(p.shapes)?p.shapes.length:0;for(x=0;x<it;x++){var nt=p.shapes[x];L.isPlainObject(nt)&&(n(nt,"xref"),n(nt,"yref"))}var Y=Array.isArray(p.images)?p.images.length:0;for(x=0;x<Y;x++){var Z=p.images[x];L.isPlainObject(Z)&&(n(Z,"xref"),n(Z,"yref"))}var $=p.legend;return $&&($.x>3?($.x=1.02,$.xanchor="left"):$.x<-2&&($.x=-.02,$.xanchor="right"),$.y>3?($.y=1.02,$.yanchor="bottom"):$.y<-2&&($.y=-.02,$.yanchor="top")),s(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),d.clean(p),p.template&&p.template.layout&&U.cleanLayout(p.template.layout),p};function n(p,x){var k=p[x],y=x.charAt(0);k&&k!=="paper"&&(p[x]=r(k,y,!0))}function s(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(k,y){var A=p[k],C=p.title&&p.title[y];A&&!C&&(p.title||(p.title={}),p.title[y]=p[k],delete p[k])}}U.cleanData=function(p){for(var x=0;x<p.length;x++){var k=p[x],y;if(k.type==="histogramy"&&"xbins"in k&&!("ybins"in k)&&(k.ybins=k.xbins,delete k.xbins),k.error_y&&"opacity"in k.error_y){var A=d.defaults,C=k.error_y.color||(l(k,"bar")?d.defaultLine:A[x%A.length]);k.error_y.color=d.addOpacity(d.rgb(C),d.opacity(C)*k.error_y.opacity),delete k.error_y.opacity}if("bardir"in k&&(k.bardir==="h"&&(l(k,"bar")||k.type.substr(0,9)==="histogram")&&(k.orientation="h",U.swapXYData(k)),delete k.bardir),k.type==="histogramy"&&U.swapXYData(k),(k.type==="histogramx"||k.type==="histogramy")&&(k.type="histogram"),"scl"in k&&!("colorscale"in k)&&(k.colorscale=k.scl,delete k.scl),"reversescl"in k&&!("reversescale"in k)&&(k.reversescale=k.reversescl,delete k.reversescl),k.xaxis&&(k.xaxis=r(k.xaxis,"x")),k.yaxis&&(k.yaxis=r(k.yaxis,"y")),l(k,"gl3d")&&k.scene&&(k.scene=T.subplotsRegistry.gl3d.cleanId(k.scene)),!l(k,"pie-like")&&!l(k,"bar-like"))if(Array.isArray(k.textposition))for(y=0;y<k.textposition.length;y++)k.textposition[y]=b(k.textposition[y]);else k.textposition&&(k.textposition=b(k.textposition));var u=i.getModule(k);if(u&&u.colorbar){var m=u.colorbar.container,M=m?k[m]:k;M&&M.colorscale&&(M.colorscale==="YIGnBu"&&(M.colorscale="YlGnBu"),M.colorscale==="YIOrRd"&&(M.colorscale="YlOrRd"))}if(k.type==="surface"&&L.isPlainObject(k.contours)){var w=["x","y","z"];for(y=0;y<w.length;y++){var z=k.contours[w[y]];L.isPlainObject(z)&&(z.highlightColor&&(z.highlightcolor=z.highlightColor,delete z.highlightColor),z.highlightWidth&&(z.highlightwidth=z.highlightWidth,delete z.highlightWidth))}}if(k.type==="candlestick"||k.type==="ohlc"){var O=(k.increasing||{}).showlegend!==!1,D=(k.decreasing||{}).showlegend!==!1,P=o(k.increasing),F=o(k.decreasing);if(P!==!1&&F!==!1){var R=f(P,F,O,D);R&&(k.name=R)}else(P||F)&&!k.name&&(k.name=P||F)}if(Array.isArray(k.transforms)){var N=k.transforms;for(y=0;y<N.length;y++){var B=N[y];if(L.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var q=B.styles,V=Object.keys(q);B.styles=[];for(var J=0;J<V.length;J++)B.styles.push({target:V[J],value:q[V[J]]})}break}}}h(k,"line")&&delete k.line,"marker"in k&&(h(k.marker,"line")&&delete k.marker.line,h(k,"marker")&&delete k.marker),d.clean(k),k.autobinx&&(delete k.autobinx,delete k.xbins),k.autobiny&&(delete k.autobiny,delete k.ybins),s(k),k.colorbar&&s(k.colorbar),k.marker&&k.marker.colorbar&&s(k.marker.colorbar),k.line&&k.line.colorbar&&s(k.line.colorbar),k.aaxis&&s(k.aaxis),k.baxis&&s(k.baxis)}};function o(p){if(!L.isPlainObject(p))return!1;var x=p.name;return delete p.name,delete p.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function f(p,x,k,y){if(k&&!y)return p;if(y&&!k||!p.trim())return x;if(!x.trim())return p;var A=Math.min(p.length,x.length),C;for(C=0;C<A&&p.charAt(C)===x.charAt(C);C++);var u=p.substr(0,C);return u.trim()}function b(p){var x="middle",k="center";return typeof p=="string"&&(p.indexOf("top")!==-1?x="top":p.indexOf("bottom")!==-1&&(x="bottom"),p.indexOf("left")!==-1?k="left":p.indexOf("right")!==-1&&(k="right")),x+" "+k}function h(p,x){return x in p&&typeof p[x]=="object"&&Object.keys(p[x]).length===0}U.swapXYData=function(p){var x;if(L.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var k=p.error_y,y="copy_ystyle"in k?k.copy_ystyle:!(k.color||k.thickness||k.width);L.swapAttrs(p,["error_?.copy_ystyle"]),y&&L.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var A=p.hoverinfo.split("+");for(x=0;x<A.length;x++)A[x]==="x"?A[x]="y":A[x]==="y"&&(A[x]="x");p.hoverinfo=A.join("+")}},U.coerceTraceIndices=function(p,x){if(E(x))return[x];if(!Array.isArray(x)||!x.length)return p.data.map(function(A,C){return C});if(Array.isArray(x)){for(var k=[],y=0;y<x.length;y++)L.isIndex(x[y],p.data.length)?k.push(x[y]):L.warn("trace index (",x[y],") is not a number or is out of bounds");return k}return x},U.manageArrayContainers=function(p,x,k){var y=p.obj,A=p.parts,C=A.length,u=A[C-1],m=E(u);if(m&&x===null){var M=A.slice(0,C-1).join("."),w=L.nestedProperty(y,M).get();w.splice(u,1)}else m&&p.get()===void 0&&p.get()===void 0&&(k[p.astr]=null),p.set(x)};var _=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function a(p){var x=p.search(_);if(x>0)return p.substr(0,x)}U.hasParent=function(p,x){for(var k=a(x);k;){if(k in p)return!0;k=a(k)}return!1};var c=["x","y","z"];U.clearAxisTypes=function(p,x,k){for(var y=0;y<x.length;y++)for(var A=p._fullData[y],C=0;C<3;C++){var u=e(p,A,c[C]);if(u&&u.type!=="log"){var m=u._name,M=u._id.substr(1);if(M.substr(0,5)==="scene"){if(k[M]!==void 0)continue;m=M+"."+m}var w=m+".type";k[m]===void 0&&k[w]===void 0&&L.nestedProperty(p.layout,w).set(null)}}}},22448:function(tt,U,t){var E=t(36424);U._doPlot=E._doPlot,U.newPlot=E.newPlot,U.restyle=E.restyle,U.relayout=E.relayout,U.redraw=E.redraw,U.update=E.update,U._guiRestyle=E._guiRestyle,U._guiRelayout=E._guiRelayout,U._guiUpdate=E._guiUpdate,U._storeDirectGUIEdit=E._storeDirectGUIEdit,U.react=E.react,U.extendTraces=E.extendTraces,U.prependTraces=E.prependTraces,U.addTraces=E.addTraces,U.deleteTraces=E.deleteTraces,U.moveTraces=E.moveTraces,U.purge=E.purge,U.addFrames=E.addFrames,U.deleteFrames=E.deleteFrames,U.animate=E.animate,U.setPlotConfig=E.setPlotConfig;var S=t(52200).getGraphDiv,i=t(4016).eraseActiveShape;U.deleteActiveShape=function(T){return i(S(T))},U.toImage=t(67024),U.validate=t(21480),U.downloadImage=t(39792);var L=t(94828);U.makeTemplate=L.makeTemplate,U.validateTemplate=L.validateTemplate},17680:function(tt,U,t){var E=t(63620),S=t(16628),i=t(24248),L=t(14952).sorterAsc,T=t(24040);U.containerArrayMatch=t(69820);var v=U.isAddVal=function(r){return r==="add"||E(r)},d=U.isRemoveVal=function(r){return r===null||r==="remove"};U.applyContainerArrayChanges=function(r,e,l,n,s){var o=e.astr,f=T.getComponentMethod(o,"supplyLayoutDefaults"),b=T.getComponentMethod(o,"draw"),h=T.getComponentMethod(o,"drawOne"),_=n.replot||n.recalc||f===S||b===S,a=r.layout,c=r._fullLayout;if(l[""]){Object.keys(l).length>1&&i.warn("Full array edits are incompatible with other edits",o);var p=l[""][""];if(d(p))e.set(null);else if(Array.isArray(p))e.set(p);else return i.warn("Unrecognized full array edit value",o,p),!0;return _?!1:(f(a,c),b(r),!0)}var x=Object.keys(l).map(Number).sort(L),k=e.get(),y=k||[],A=s(c,o).get(),C=[],u=-1,m=y.length,M,w,z,O,D,P,F,R;for(M=0;M<x.length;M++){if(z=x[M],O=l[z],D=Object.keys(O),P=O[""],F=v(P),z<0||z>y.length-(F?0:1)){i.warn("index out of range",o,z);continue}if(P!==void 0)D.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",o,z),d(P)?C.push(z):F?(P==="add"&&(P={}),y.splice(z,0,P),A&&A.splice(z,0,{})):i.warn("Unrecognized full object edit value",o,z,P),u===-1&&(u=z);else for(w=0;w<D.length;w++)R=o+"["+z+"].",s(y[z],D[w],R).set(O[D[w]])}for(M=C.length-1;M>=0;M--)y.splice(C[M],1),A&&A.splice(C[M],1);if(y.length?k||e.set(y):e.set(null),_)return!1;if(f(a,c),h!==S){var N;if(u===-1)N=x;else{for(m=Math.max(y.length,m),N=[],M=0;M<x.length&&(z=x[M],!(z>=u));M++)N.push(z);for(M=u;M<m;M++)N.push(M)}for(M=0;M<N.length;M++)h(r,N[M])}else b(r);return!0}},36424:function(tt,U,t){var E=t(33428),S=t(38248),i=t(52264),L=t(3400),T=L.nestedProperty,v=t(95924),d=t(94552),r=t(24040),e=t(73060),l=t(7316),n=t(54460),s=t(96312),o=t(94724),f=t(43616),b=t(76308),h=t(42464).initInteractions,_=t(9616),a=t(22676).clearOutline,c=t(20556).dfltConfig,p=t(17680),x=t(93404),k=t(39172),y=t(67824),A=t(33816).AX_NAME_PATTERN,C=0,u=5;function m(ht,bt,zt,qt){var te;if(ht=L.getGraphDiv(ht),v.init(ht),L.isPlainObject(bt)){var re=bt;bt=re.data,zt=re.layout,qt=re.config,te=re.frames}var Ye=v.triggerHandler(ht,"plotly_beforeplot",[bt,zt,qt]);if(Ye===!1)return Promise.reject();!bt&&!zt&&!L.isPlotDiv(ht)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ht);function Be(){if(te)return U.addFrames(ht,te)}D(ht,qt),zt||(zt={}),E.select(ht).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(ht._promises)||(ht._promises=[]);var ge=(ht.data||[]).length===0&&Array.isArray(bt);Array.isArray(bt)&&(x.cleanData(bt),ge?ht.data=bt:ht.data.push.apply(ht.data,bt),ht.empty=!1),(!ht.layout||ge)&&(ht.layout=x.cleanLayout(zt)),l.supplyDefaults(ht);var be=ht._fullLayout,Ne=be._has("cartesian");be._replotting=!0,(ge||be._shouldCreateBgLayer)&&(dt(ht),be._shouldCreateBgLayer&&delete be._shouldCreateBgLayer),f.initGradients(ht),f.initPatterns(ht),ge&&n.saveShowSpikeInitial(ht);var pr=!ht.calcdata||ht.calcdata.length!==(ht._fullData||[]).length;pr&&l.doCalcdata(ht);for(var fe=0;fe<ht.calcdata.length;fe++)ht.calcdata[fe][0].trace=ht._fullData[fe];ht._context.responsive?ht._responsiveChartHandler||(ht._responsiveChartHandler=function(){L.isHidden(ht)||l.resize(ht)},window.addEventListener("resize",ht._responsiveChartHandler)):L.clearResponsive(ht);var De=L.extendFlat({},be._size),Ge=0;function vr(){for(var Re=be._basePlotModules,Ce=0;Ce<Re.length;Ce++)Re[Ce].drawFramework&&Re[Ce].drawFramework(ht);!be._glcanvas&&be._has("gl")&&(be._glcanvas=be._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(ar){return ar.key}),be._glcanvas.enter().append("canvas").attr("class",function(ar){return"gl-canvas gl-canvas-"+ar.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var We=ht._context.plotGlPixelRatio;if(be._glcanvas){be._glcanvas.attr("width",be.width*We).attr("height",be.height*We).style("width",be.width+"px").style("height",be.height+"px");var er=be._glcanvas.data()[0].regl;if(er&&(Math.floor(be.width*We)!==er._gl.drawingBufferWidth||Math.floor(be.height*We)!==er._gl.drawingBufferHeight)){var Ue="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Ge)L.error(Ue);else return L.log(Ue+" Clearing graph and plotting again."),l.cleanPlot([],{},ht._fullData,be),l.supplyDefaults(ht),be=ht._fullLayout,l.doCalcdata(ht),Ge++,vr()}}return be.modebar.orientation==="h"?be._modebardiv.style("height",null).style("width","100%"):be._modebardiv.style("width",null).style("height",be.height+"px"),l.previousPromises(ht)}function $e(){if(l.clearAutoMarginIds(ht),k.drawMarginPushers(ht),n.allowAutoMargin(ht),ht._fullLayout.title.text&&ht._fullLayout.title.automargin&&l.allowAutoMargin(ht,"title.automargin"),be._has("pie"))for(var Re=ht._fullData,Ce=0;Ce<Re.length;Ce++){var We=Re[Ce];We.type==="pie"&&We.automargin&&l.allowAutoMargin(ht,"pie."+We.uid+".automargin")}return l.doAutoMargin(ht),l.previousPromises(ht)}function Kt(){if(l.didMarginChange(De,be._size))return L.syncOrAsync([$e,k.layoutStyles],ht)}function ie(){if(!pr){he();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),he],ht)}function he(){ht._transitioning||(k.doAutoRangeAndConstraints(ht),ge&&n.saveRangeInitial(ht),r.getComponentMethod("rangeslider","calcAutorange")(ht))}function Ae(){return n.draw(ht,ge?"":"redraw")}var Ee=[l.previousPromises,Be,vr,$e,Kt];Ne&&Ee.push(ie),Ee.push(k.layoutStyles),Ne&&Ee.push(Ae,function(Re){var Ce=Re._fullLayout._insideTickLabelsUpdaterange;if(Ce)return Re._fullLayout._insideTickLabelsUpdaterange=void 0,yt(Re,Ce).then(function(){n.saveRangeInitial(Re,!0)})}),Ee.push(k.drawData,k.finalDraw,h,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,l.previousPromises);var Fe=L.syncOrAsync(Ee,ht);return(!Fe||!Fe.then)&&(Fe=Promise.resolve()),Fe.then(function(){return M(ht),ht})}function M(ht){var bt=ht._fullLayout;bt._redrawFromAutoMarginCount?bt._redrawFromAutoMarginCount--:ht.emit("plotly_afterplot")}function w(ht){return L.extendFlat(c,ht)}function z(ht,bt){try{ht._fullLayout._paper.style("background",bt)}catch(zt){L.error(zt)}}function O(ht,bt){var zt=b.combine(bt,"white");z(ht,zt)}function D(ht,bt){if(!ht._context){ht._context=L.extendDeep({},c);var zt=E.select("base");ht._context._baseUrl=zt.size()&&zt.attr("href")?window.location.href.split("#")[0]:""}var qt=ht._context,te,re,Ye;if(bt){for(re=Object.keys(bt),te=0;te<re.length;te++)Ye=re[te],!(Ye==="editable"||Ye==="edits")&&Ye in qt&&(Ye==="setBackground"&&bt[Ye]==="opaque"?qt[Ye]=O:qt[Ye]=bt[Ye]);bt.plot3dPixelRatio&&!qt.plotGlPixelRatio&&(qt.plotGlPixelRatio=qt.plot3dPixelRatio);var Be=bt.editable;if(Be!==void 0)for(qt.editable=Be,re=Object.keys(qt.edits),te=0;te<re.length;te++)qt.edits[re[te]]=Be;if(bt.edits)for(re=Object.keys(bt.edits),te=0;te<re.length;te++)Ye=re[te],Ye in qt.edits&&(qt.edits[Ye]=bt.edits[Ye]);qt._exportedPlot=bt._exportedPlot}qt.staticPlot&&(qt.editable=!1,qt.edits={},qt.autosizable=!1,qt.scrollZoom=!1,qt.doubleClick=!1,qt.showTips=!1,qt.showLink=!1,qt.displayModeBar=!1),qt.displayModeBar==="hover"&&!i&&(qt.displayModeBar=!0),(qt.setBackground==="transparent"||typeof qt.setBackground!="function")&&(qt.setBackground=z),qt._hasZeroHeight=qt._hasZeroHeight||ht.clientHeight===0,qt._hasZeroWidth=qt._hasZeroWidth||ht.clientWidth===0;var ge=qt.scrollZoom,be=qt._scrollZoom={};if(ge===!0)be.cartesian=1,be.gl3d=1,be.geo=1,be.mapbox=1;else if(typeof ge=="string"){var Ne=ge.split("+");for(te=0;te<Ne.length;te++)be[Ne[te]]=1}else ge!==!1&&(be.gl3d=1,be.geo=1,be.mapbox=1)}function P(ht){if(ht=L.getGraphDiv(ht),!L.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht);return x.cleanData(ht.data),x.cleanLayout(ht.layout),ht.calcdata=void 0,U._doPlot(ht).then(function(){return ht.emit("plotly_redraw"),ht})}function F(ht,bt,zt,qt){return ht=L.getGraphDiv(ht),l.cleanPlot([],{},ht._fullData||[],ht._fullLayout||{}),l.purge(ht),U._doPlot(ht,bt,zt,qt)}function R(ht,bt){var zt=bt+1,qt=[],te,re;for(te=0;te<ht.length;te++)re=ht[te],re<0?qt.push(zt+re):qt.push(re);return qt}function N(ht,bt,zt){var qt,te;for(qt=0;qt<bt.length;qt++){if(te=bt[qt],te!==parseInt(te,10))throw new Error("all values in "+zt+" must be integers");if(te>=ht.data.length||te<-ht.data.length)throw new Error(zt+" must be valid indices for gd.data.");if(bt.indexOf(te,qt+1)>-1||te>=0&&bt.indexOf(-ht.data.length+te)>-1||te<0&&bt.indexOf(ht.data.length+te)>-1)throw new Error("each index in "+zt+" must be unique.")}}function B(ht,bt,zt){if(!Array.isArray(ht.data))throw new Error("gd.data must be an array.");if(typeof bt>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(bt)||(bt=[bt]),N(ht,bt,"currentIndices"),typeof zt<"u"&&!Array.isArray(zt)&&(zt=[zt]),typeof zt<"u"&&N(ht,zt,"newIndices"),typeof zt<"u"&&bt.length!==zt.length)throw new Error("current and new indices must be of equal length.")}function q(ht,bt,zt){var qt,te;if(!Array.isArray(ht.data))throw new Error("gd.data must be an array.");if(typeof bt>"u")throw new Error("traces must be defined.");for(Array.isArray(bt)||(bt=[bt]),qt=0;qt<bt.length;qt++)if(te=bt[qt],typeof te!="object"||Array.isArray(te)||te===null)throw new Error("all values in traces array must be non-array objects");if(typeof zt<"u"&&!Array.isArray(zt)&&(zt=[zt]),typeof zt<"u"&&zt.length!==bt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function V(ht,bt,zt,qt){var te=L.isPlainObject(qt);if(!Array.isArray(ht.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(bt))throw new Error("update must be a key:value object");if(typeof zt>"u")throw new Error("indices must be an integer or array of integers");N(ht,zt,"indices");for(var re in bt){if(!Array.isArray(bt[re])||bt[re].length!==zt.length)throw new Error("attribute "+re+" must be an array of length equal to indices array length");if(te&&(!(re in qt)||!Array.isArray(qt[re])||qt[re].length!==bt[re].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function J(ht,bt,zt,qt){var te=L.isPlainObject(qt),re=[],Ye,Be,ge,be,Ne;Array.isArray(zt)||(zt=[zt]),zt=R(zt,ht.data.length-1);for(var pr in bt)for(var fe=0;fe<zt.length;fe++){if(Ye=ht.data[zt[fe]],ge=T(Ye,pr),Be=ge.get(),be=bt[pr][fe],!L.isArrayOrTypedArray(be))throw new Error("attribute: "+pr+" index: "+fe+" must be an array");if(!L.isArrayOrTypedArray(Be))throw new Error("cannot extend missing or non-array attribute: "+pr);if(Be.constructor!==be.constructor)throw new Error("cannot extend array with an array of a different type: "+pr);Ne=te?qt[pr][fe]:qt,S(Ne)||(Ne=-1),re.push({prop:ge,target:Be,insert:be,maxp:Math.floor(Ne)})}return re}function it(ht,bt,zt,qt,te){V(ht,bt,zt,qt);for(var re=J(ht,bt,zt,qt),Ye={},Be={},ge=0;ge<re.length;ge++){var be=re[ge].prop,Ne=re[ge].maxp,pr=te(re[ge].target,re[ge].insert,Ne);be.set(pr[0]),Array.isArray(Ye[be.astr])||(Ye[be.astr]=[]),Ye[be.astr].push(pr[1]),Array.isArray(Be[be.astr])||(Be[be.astr]=[]),Be[be.astr].push(re[ge].target.length)}return{update:Ye,maxPoints:Be}}function nt(ht,bt){var zt=new ht.constructor(ht.length+bt.length);return zt.set(ht),zt.set(bt,ht.length),zt}function Y(ht,bt,zt,qt){ht=L.getGraphDiv(ht);function te(ge,be,Ne){var pr,fe;if(L.isTypedArray(ge))if(Ne<0){var De=new ge.constructor(0),Ge=nt(ge,be);Ne<0?(pr=Ge,fe=De):(pr=De,fe=Ge)}else if(pr=new ge.constructor(Ne),fe=new ge.constructor(ge.length+be.length-Ne),Ne===be.length)pr.set(be),fe.set(ge);else if(Ne<be.length){var vr=be.length-Ne;pr.set(be.subarray(vr)),fe.set(ge),fe.set(be.subarray(0,vr),ge.length)}else{var $e=Ne-be.length,Kt=ge.length-$e;pr.set(ge.subarray(Kt)),pr.set(be,$e),fe.set(ge.subarray(0,Kt))}else pr=ge.concat(be),fe=Ne>=0&&Ne<pr.length?pr.splice(0,pr.length-Ne):[];return[pr,fe]}var re=it(ht,bt,zt,qt,te),Ye=U.redraw(ht),Be=[ht,re.update,zt,re.maxPoints];return d.add(ht,U.prependTraces,Be,Y,arguments),Ye}function Z(ht,bt,zt,qt){ht=L.getGraphDiv(ht);function te(ge,be,Ne){var pr,fe;if(L.isTypedArray(ge))if(Ne<=0){var De=new ge.constructor(0),Ge=nt(be,ge);Ne<0?(pr=Ge,fe=De):(pr=De,fe=Ge)}else if(pr=new ge.constructor(Ne),fe=new ge.constructor(ge.length+be.length-Ne),Ne===be.length)pr.set(be),fe.set(ge);else if(Ne<be.length){var vr=be.length-Ne;pr.set(be.subarray(0,vr)),fe.set(be.subarray(vr)),fe.set(ge,vr)}else{var $e=Ne-be.length;pr.set(be),pr.set(ge.subarray(0,$e),be.length),fe.set(ge.subarray($e))}else pr=be.concat(ge),fe=Ne>=0&&Ne<pr.length?pr.splice(Ne,pr.length):[];return[pr,fe]}var re=it(ht,bt,zt,qt,te),Ye=U.redraw(ht),Be=[ht,re.update,zt,re.maxPoints];return d.add(ht,U.extendTraces,Be,Z,arguments),Ye}function $(ht,bt,zt){ht=L.getGraphDiv(ht);var qt=[],te=U.deleteTraces,re=$,Ye=[ht,qt],Be=[ht,bt],ge,be;for(q(ht,bt,zt),Array.isArray(bt)||(bt=[bt]),bt=bt.map(function(Ne){return L.extendFlat({},Ne)}),x.cleanData(bt),ge=0;ge<bt.length;ge++)ht.data.push(bt[ge]);for(ge=0;ge<bt.length;ge++)qt.push(-bt.length+ge);if(typeof zt>"u")return be=U.redraw(ht),d.add(ht,te,Ye,re,Be),be;Array.isArray(zt)||(zt=[zt]);try{B(ht,qt,zt)}catch(Ne){throw ht.data.splice(ht.data.length-bt.length,bt.length),Ne}return d.startSequence(ht),d.add(ht,te,Ye,re,Be),be=U.moveTraces(ht,qt,zt),d.stopSequence(ht),be}function G(ht,bt){ht=L.getGraphDiv(ht);var zt=[],qt=U.addTraces,te=G,re=[ht,zt,bt],Ye=[ht,bt],Be,ge;if(typeof bt>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(bt)||(bt=[bt]),N(ht,bt,"indices"),bt=R(bt,ht.data.length-1),bt.sort(L.sorterDes),Be=0;Be<bt.length;Be+=1)ge=ht.data.splice(bt[Be],1)[0],zt.push(ge);var be=U.redraw(ht);return d.add(ht,qt,re,te,Ye),be}function rt(ht,bt,zt){ht=L.getGraphDiv(ht);var qt=[],te=[],re=rt,Ye=rt,Be=[ht,zt,bt],ge=[ht,bt,zt],be;if(B(ht,bt,zt),bt=Array.isArray(bt)?bt:[bt],typeof zt>"u")for(zt=[],be=0;be<bt.length;be++)zt.push(-bt.length+be);for(zt=Array.isArray(zt)?zt:[zt],bt=R(bt,ht.data.length-1),zt=R(zt,ht.data.length-1),be=0;be<ht.data.length;be++)bt.indexOf(be)===-1&&qt.push(ht.data[be]);for(be=0;be<bt.length;be++)te.push({newIndex:zt[be],trace:ht.data[bt[be]]});for(te.sort(function(pr,fe){return pr.newIndex-fe.newIndex}),be=0;be<te.length;be+=1)qt.splice(te[be].newIndex,0,te[be].trace);ht.data=qt;var Ne=U.redraw(ht);return d.add(ht,re,Be,Ye,ge),Ne}function ot(ht,bt,zt,qt){ht=L.getGraphDiv(ht),x.clearPromiseQueue(ht);var te={};if(typeof bt=="string")te[bt]=zt;else if(L.isPlainObject(bt))te=L.extendFlat({},bt),qt===void 0&&(qt=zt);else return L.warn("Restyle fail.",bt,zt,qt),Promise.reject();Object.keys(te).length&&(ht.changed=!0);var re=x.coerceTraceIndices(ht,qt),Ye=ct(ht,te,re),Be=Ye.flags;Be.calc&&(ht.calcdata=void 0),Be.clearAxisTypes&&x.clearAxisTypes(ht,re,{});var ge=[];Be.fullReplot?ge.push(U._doPlot):(ge.push(l.previousPromises),l.supplyDefaults(ht),Be.markerSize&&(l.doCalcdata(ht),Lt(ge)),Be.style&&ge.push(k.doTraceStyle),Be.colorbars&&ge.push(k.doColorBars),ge.push(M)),ge.push(l.rehover,l.redrag,l.reselect),d.add(ht,ot,[ht,Ye.undoit,Ye.traces],ot,[ht,Ye.redoit,Ye.traces]);var be=L.syncOrAsync(ge,ht);return(!be||!be.then)&&(be=Promise.resolve()),be.then(function(){return ht.emit("plotly_restyle",Ye.eventData),ht})}function W(ht){return ht===void 0?null:ht}function H(ht,bt){return bt?function(zt,qt,te){var re=T(zt,qt),Ye=re.set;return re.set=function(Be){var ge=(te||"")+qt;at(ge,re.get(),Be,ht),Ye(Be)},re}:T}function at(ht,bt,zt,qt){if(Array.isArray(bt)||Array.isArray(zt))for(var te=Array.isArray(bt)?bt:[],re=Array.isArray(zt)?zt:[],Ye=Math.max(te.length,re.length),Be=0;Be<Ye;Be++)at(ht+"["+Be+"]",te[Be],re[Be],qt);else if(L.isPlainObject(bt)||L.isPlainObject(zt)){var ge=L.isPlainObject(bt)?bt:{},be=L.isPlainObject(zt)?zt:{},Ne=L.extendFlat({},ge,be);for(var pr in Ne)at(ht+"."+pr,ge[pr],be[pr],qt)}else qt[ht]===void 0&&(qt[ht]=W(bt))}function Q(ht,bt,zt){for(var qt in zt){var te=T(ht,qt);at(qt,te.get(),zt[qt],bt)}}function ct(ht,bt,zt){var qt=ht._fullLayout,te=ht._fullData,re=ht.data,Ye=qt._guiEditing,Be=H(qt._preGUI,Ye),ge=L.extendDeepAll({},bt),be;ft(bt);var Ne=y.traceFlags(),pr={},fe={},De;function Ge(){return zt.map(function(){})}function vr(yn){var hr=n.id2name(yn);De.indexOf(hr)===-1&&De.push(hr)}function $e(yn){return"LAYOUT"+yn+".autorange"}function Kt(yn){return"LAYOUT"+yn+".range"}function ie(yn){for(var hr=yn;hr<te.length;hr++)if(te[hr]._input===re[yn])return te[hr]}function he(yn,hr,Lr){if(Array.isArray(yn)){yn.forEach(function(an){he(an,hr,Lr)});return}if(!(yn in bt||x.hasParent(bt,yn))){var Ir;if(yn.substr(0,6)==="LAYOUT")Ir=Be(ht.layout,yn.replace("LAYOUT",""));else{var Rr=zt[Lr],on=qt._tracePreGUI[ie(Rr)._fullInput.uid];Ir=H(on,Ye)(re[Rr],yn)}yn in fe||(fe[yn]=Ge()),fe[yn][Lr]===void 0&&(fe[yn][Lr]=W(Ir.get())),hr!==void 0&&Ir.set(hr)}}function Ae(yn){return function(hr){return te[hr][yn]}}function Ee(yn){return function(hr,Lr){return hr===!1?te[zt[Lr]][yn]:null}}for(var Fe in bt){if(x.hasParent(bt,Fe))throw new Error("cannot set "+Fe+" and a parent attribute simultaneously");var Re=bt[Fe],Ce,We,er,Ue,ar,It;if((Fe==="autobinx"||Fe==="autobiny")&&(Fe=Fe.charAt(Fe.length-1)+"bins",Array.isArray(Re)?Re=Re.map(Ee(Fe)):Re===!1?Re=zt.map(Ae(Fe)):Re=null),pr[Fe]=Re,Fe.substr(0,6)==="LAYOUT"){er=Be(ht.layout,Fe.replace("LAYOUT","")),fe[Fe]=[W(er.get())],er.set(Array.isArray(Re)?Re[0]:Re),Ne.calc=!0;continue}for(fe[Fe]=Ge(),be=0;be<zt.length;be++){Ce=re[zt[be]],We=ie(zt[be]);var Ut=qt._tracePreGUI[We._fullInput.uid];if(er=H(Ut,Ye)(Ce,Fe),Ue=er.get(),ar=Array.isArray(Re)?Re[be%Re.length]:Re,ar!==void 0){var Me=er.parts[er.parts.length-1],ke=Fe.substr(0,Fe.length-Me.length-1),qe=ke?ke+".":"",Ke=ke?T(We,ke).get():We;if(It=e.getTraceValObject(We,er.parts),It&&It.impliedEdits&&ar!==null)for(var Je in It.impliedEdits)he(L.relativeAttr(Fe,Je),It.impliedEdits[Je],be);else if((Me==="thicknessmode"||Me==="lenmode")&&Ue!==ar&&(ar==="fraction"||ar==="pixels")&&Ke){var Ve=qt._size,Pe=Ke.orient,rr=Pe==="top"||Pe==="bottom";if(Me==="thicknessmode"){var lr=rr?Ve.h:Ve.w;he(qe+"thickness",Ke.thickness*(ar==="fraction"?1/lr:lr),be)}else{var cr=rr?Ve.w:Ve.h;he(qe+"len",Ke.len*(ar==="fraction"?1/cr:cr),be)}}else if(Fe==="type"&&(ar==="pie"!=(Ue==="pie")||ar==="funnelarea"!=(Ue==="funnelarea"))){var ir="x",Er="y";(ar==="bar"||Ue==="bar")&&Ce.orientation==="h"&&(ir="y",Er="x"),L.swapAttrs(Ce,["?","?src"],"labels",ir),L.swapAttrs(Ce,["d?","?0"],"label",ir),L.swapAttrs(Ce,["?","?src"],"values",Er),Ue==="pie"||Ue==="funnelarea"?(T(Ce,"marker.color").set(T(Ce,"marker.colors").get()),qt._pielayer.selectAll("g.trace").remove()):r.traceIs(Ce,"cartesian")&&T(Ce,"marker.colors").set(T(Ce,"marker.color").get())}fe[Fe][be]=W(Ue);var kr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(kr.indexOf(Fe)!==-1){if(Fe==="orientation"){er.set(ar);var Mr=Ce.x&&!Ce.y?"h":"v";if((er.get()||Mr)===We.orientation)continue}else Fe==="orientationaxes"&&(Ce.orientation={v:"h",h:"v"}[We.orientation]);x.swapXYData(Ce),Ne.calc=Ne.clearAxisTypes=!0}else l.dataArrayContainers.indexOf(er.parts[0])!==-1?(x.manageArrayContainers(er,ar,fe),Ne.calc=!0):(It?It.arrayOk&&!r.traceIs(We,"regl")&&(L.isArrayOrTypedArray(ar)||L.isArrayOrTypedArray(Ue))?Ne.calc=!0:y.update(Ne,It):Ne.calc=!0,er.set(ar))}}if(["swapxyaxes","orientationaxes"].indexOf(Fe)!==-1&&n.swap(ht,zt),Fe==="orientationaxes"){var $r=T(ht.layout,"hovermode"),Gr=$r.get();Gr==="x"?$r.set("y"):Gr==="y"?$r.set("x"):Gr==="x unified"?$r.set("y unified"):Gr==="y unified"&&$r.set("x unified")}if(["orientation","type"].indexOf(Fe)!==-1){for(De=[],be=0;be<zt.length;be++){var vn=re[zt[be]];r.traceIs(vn,"cartesian")&&(vr(vn.xaxis||"x"),vr(vn.yaxis||"y"))}he(De.map($e),!0,0),he(De.map(Kt),[0,1],0)}}return(Ne.calc||Ne.plot)&&(Ne.fullReplot=!0),{flags:Ne,undoit:fe,redoit:pr,traces:zt,eventData:L.extendDeepNoArrays([],[ge,zt])}}function ft(ht){var bt=L.counterRegex("axis",".title",!1,!1),zt=/colorbar\.title$/,qt=Object.keys(ht),te,re,Ye;for(te=0;te<qt.length;te++)re=qt[te],Ye=ht[re],(re==="title"||bt.test(re)||zt.test(re))&&(typeof Ye=="string"||typeof Ye=="number")?Be(re,re.replace("title","title.text")):re.indexOf("titlefont")>-1&&re.indexOf("grouptitlefont")===-1?Be(re,re.replace("titlefont","title.font")):re.indexOf("titleposition")>-1?Be(re,re.replace("titleposition","title.position")):re.indexOf("titleside")>-1?Be(re,re.replace("titleside","title.side")):re.indexOf("titleoffset")>-1&&Be(re,re.replace("titleoffset","title.offset"));function Be(ge,be){ht[be]=ht[ge],delete ht[ge]}}function yt(ht,bt,zt){ht=L.getGraphDiv(ht),x.clearPromiseQueue(ht);var qt={};if(typeof bt=="string")qt[bt]=zt;else if(L.isPlainObject(bt))qt=L.extendFlat({},bt);else return L.warn("Relayout fail.",bt,zt),Promise.reject();Object.keys(qt).length&&(ht.changed=!0);var te=At(ht,qt),re=te.flags;re.calc&&(ht.calcdata=void 0);var Ye=[l.previousPromises];re.layoutReplot?Ye.push(k.layoutReplot):Object.keys(qt).length&&(xt(ht,re,te)||l.supplyDefaults(ht),re.legend&&Ye.push(k.doLegend),re.layoutstyle&&Ye.push(k.layoutStyles),re.axrange&&Lt(Ye,te.rangesAltered),re.ticks&&Ye.push(k.doTicksRelayout),re.modebar&&Ye.push(k.doModeBar),re.camera&&Ye.push(k.doCamera),re.colorbars&&Ye.push(k.doColorBars),Ye.push(M)),Ye.push(l.rehover,l.redrag,l.reselect),d.add(ht,yt,[ht,te.undoit],yt,[ht,te.redoit]);var Be=L.syncOrAsync(Ye,ht);return(!Be||!Be.then)&&(Be=Promise.resolve(ht)),Be.then(function(){return ht.emit("plotly_relayout",te.eventData),ht})}function xt(ht,bt,zt){var qt=ht._fullLayout;if(!bt.axrange)return!1;for(var te in bt)if(te!=="axrange"&&bt[te])return!1;var re,Ye,Be=function(De,Ge){return L.coerce(re,Ye,o,De,Ge)},ge={};for(var be in zt.rangesAltered){var Ne=n.id2name(be);if(re=ht.layout[Ne],Ye=qt[Ne],s(re,Ye,Be,ge),Ye._matchGroup){for(var pr in Ye._matchGroup)if(pr!==be){var fe=qt[n.id2name(pr)];fe.autorange=Ye.autorange,fe.range=Ye.range.slice(),fe._input.range=Ye.range.slice()}}}return!0}function Lt(ht,bt){var zt=bt?function(qt){var te=[],re=!0;for(var Ye in bt){var Be=n.getFromId(qt,Ye);if(te.push(Ye),(Be.ticklabelposition||"").indexOf("inside")!==-1&&Be._anchorAxis&&te.push(Be._anchorAxis._id),Be._matchGroup)for(var ge in Be._matchGroup)bt[ge]||te.push(ge)}return n.draw(qt,te,{skipTitle:re})}:function(qt){return n.draw(qt,"redraw")};ht.push(a,k.doAutoRangeAndConstraints,zt,k.drawData,k.finalDraw)}var gt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,mt=/^[xyz]axis[0-9]*\.autorange$/,vt=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function At(ht,bt){var zt=ht.layout,qt=ht._fullLayout,te=qt._guiEditing,re=H(qt._preGUI,te),Ye=Object.keys(bt),Be=n.list(ht),ge=L.extendDeepAll({},bt),be={},Ne,pr,fe;for(ft(bt),Ye=Object.keys(bt),pr=0;pr<Ye.length;pr++)if(Ye[pr].indexOf("allaxes")===0){for(fe=0;fe<Be.length;fe++){var De=Be[fe]._id.substr(1),Ge=De.indexOf("scene")!==-1?De+".":"",vr=Ye[pr].replace("allaxes",Ge+Be[fe]._name);bt[vr]||(bt[vr]=bt[Ye[pr]])}delete bt[Ye[pr]]}var $e=y.layoutFlags(),Kt={},ie={};function he(on,an){if(Array.isArray(on)){on.forEach(function(Mn){he(Mn,an)});return}if(!(on in bt||x.hasParent(bt,on))){var gn=re(zt,on);on in ie||(ie[on]=W(gn.get())),an!==void 0&&gn.set(an)}}var Ae={},Ee;function Fe(on){var an=n.name2id(on.split(".")[0]);return Ae[an]=1,an}for(var Re in bt){if(x.hasParent(bt,Re))throw new Error("cannot set "+Re+" and a parent attribute simultaneously");for(var Ce=re(zt,Re),We=bt[Re],er=Ce.parts.length,Ue=er-1;Ue>0&&typeof Ce.parts[Ue]!="string";)Ue--;var ar=Ce.parts[Ue],It=Ce.parts[Ue-1]+"."+ar,Ut=Ce.parts.slice(0,Ue).join("."),Me=T(ht.layout,Ut).get(),ke=T(qt,Ut).get(),qe=Ce.get();if(We!==void 0){Kt[Re]=We,ie[Re]=ar==="reverse"?We:W(qe);var Ke=e.getLayoutValObject(qt,Ce.parts);if(Ke&&Ke.impliedEdits&&We!==null)for(var Je in Ke.impliedEdits)he(L.relativeAttr(Re,Je),Ke.impliedEdits[Je]);if(["width","height"].indexOf(Re)!==-1)if(We){he("autosize",null);var Ve=Re==="height"?"width":"height";he(Ve,qt[Ve])}else qt[Re]=ht._initialAutoSize[Re];else if(Re==="autosize")he("width",We?null:qt.width),he("height",We?null:qt.height);else if(It.match(gt))Fe(It),T(qt,Ut+"._inputRange").set(null);else if(It.match(mt)){Fe(It),T(qt,Ut+"._inputRange").set(null);var Pe=T(qt,Ut).get();Pe._inputDomain&&(Pe._input.domain=Pe._inputDomain.slice())}else It.match(vt)&&T(qt,Ut+"._inputDomain").set(null);if(ar==="type"){Ee=Me;var rr=ke.type==="linear"&&We==="log",lr=ke.type==="log"&&We==="linear";if(rr||lr){if(!Ee||!Ee.range)he(Ut+".autorange",!0);else if(ke.autorange)rr&&(Ee.range=Ee.range[1]>Ee.range[0]?[1,2]:[2,1]);else{var cr=Ee.range[0],ir=Ee.range[1];rr?(cr<=0&&ir<=0&&he(Ut+".autorange",!0),cr<=0?cr=ir/1e6:ir<=0&&(ir=cr/1e6),he(Ut+".range[0]",Math.log(cr)/Math.LN10),he(Ut+".range[1]",Math.log(ir)/Math.LN10)):(he(Ut+".range[0]",Math.pow(10,cr)),he(Ut+".range[1]",Math.pow(10,ir)))}Array.isArray(qt._subplots.polar)&&qt._subplots.polar.length&&qt[Ce.parts[0]]&&Ce.parts[1]==="radialaxis"&&delete qt[Ce.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(ht,ke,We,he),r.getComponentMethod("images","convertCoords")(ht,ke,We,he)}else he(Ut+".autorange",!0),he(Ut+".range",null);T(qt,Ut+"._inputRange").set(null)}else if(ar.match(A)){var Er=T(qt,Re).get(),kr=(We||{}).type;(!kr||kr==="-")&&(kr="linear"),r.getComponentMethod("annotations","convertCoords")(ht,Er,kr,he),r.getComponentMethod("images","convertCoords")(ht,Er,kr,he)}var Mr=p.containerArrayMatch(Re);if(Mr){Ne=Mr.array,pr=Mr.index;var $r=Mr.property,Gr=Ke||{editType:"calc"};pr!==""&&$r===""&&(p.isAddVal(We)?ie[Re]=null:p.isRemoveVal(We)?ie[Re]=(T(zt,Ne).get()||[])[pr]:L.warn("unrecognized full object value",bt)),y.update($e,Gr),be[Ne]||(be[Ne]={});var vn=be[Ne][pr];vn||(vn=be[Ne][pr]={}),vn[$r]=We,delete bt[Re]}else ar==="reverse"?(Me.range?Me.range.reverse():(he(Ut+".autorange",!0),Me.range=[1,0]),ke.autorange?$e.calc=!0:$e.plot=!0):(Re==="dragmode"&&(We===!1&&qe!==!1||We!==!1&&qe===!1)||qt._has("scatter-like")&&qt._has("regl")&&Re==="dragmode"&&(We==="lasso"||We==="select")&&!(qe==="lasso"||qe==="select")||qt._has("gl2d")?$e.plot=!0:Ke?y.update($e,Ke):$e.calc=!0,Ce.set(We))}}for(Ne in be){var yn=p.applyContainerArrayChanges(ht,re(zt,Ne),be[Ne],$e,re);yn||($e.plot=!0)}for(var hr in Ae){Ee=n.getFromId(ht,hr);var Lr=Ee&&Ee._constraintGroup;if(Lr){$e.calc=!0;for(var Ir in Lr)Ae[Ir]||(n.getFromId(ht,Ir)._constraintShrinkable=!0)}}(Ot(ht)||bt.height||bt.width)&&($e.plot=!0);var Rr=qt.shapes;for(pr=0;pr<Rr.length;pr++)if(Rr[pr].showlegend){$e.calc=!0;break}return($e.plot||$e.calc)&&($e.layoutReplot=!0),{flags:$e,rangesAltered:Ae,undoit:ie,redoit:Kt,eventData:ge}}function Ot(ht){var bt=ht._fullLayout,zt=bt.width,qt=bt.height;return ht.layout.autosize&&l.plotAutoSize(ht,ht.layout,bt),bt.width!==zt||bt.height!==qt}function Pt(ht,bt,zt,qt){ht=L.getGraphDiv(ht),x.clearPromiseQueue(ht),L.isPlainObject(bt)||(bt={}),L.isPlainObject(zt)||(zt={}),Object.keys(bt).length&&(ht.changed=!0),Object.keys(zt).length&&(ht.changed=!0);var te=x.coerceTraceIndices(ht,qt),re=ct(ht,L.extendFlat({},bt),te),Ye=re.flags,Be=At(ht,L.extendFlat({},zt)),ge=Be.flags;(Ye.calc||ge.calc)&&(ht.calcdata=void 0),Ye.clearAxisTypes&&x.clearAxisTypes(ht,te,zt);var be=[];ge.layoutReplot?be.push(k.layoutReplot):Ye.fullReplot?be.push(U._doPlot):(be.push(l.previousPromises),xt(ht,ge,Be)||l.supplyDefaults(ht),Ye.style&&be.push(k.doTraceStyle),(Ye.colorbars||ge.colorbars)&&be.push(k.doColorBars),ge.legend&&be.push(k.doLegend),ge.layoutstyle&&be.push(k.layoutStyles),ge.axrange&&Lt(be,Be.rangesAltered),ge.ticks&&be.push(k.doTicksRelayout),ge.modebar&&be.push(k.doModeBar),ge.camera&&be.push(k.doCamera),be.push(M)),be.push(l.rehover,l.redrag,l.reselect),d.add(ht,Pt,[ht,re.undoit,Be.undoit,re.traces],Pt,[ht,re.redoit,Be.redoit,re.traces]);var Ne=L.syncOrAsync(be,ht);return(!Ne||!Ne.then)&&(Ne=Promise.resolve(ht)),Ne.then(function(){return ht.emit("plotly_update",{data:re.eventData,layout:Be.eventData}),ht})}function Et(ht){return function(bt){bt._fullLayout._guiEditing=!0;var zt=ht.apply(null,arguments);return bt._fullLayout._guiEditing=!1,zt}}var Nt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ne=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Gt(ht,bt){for(var zt=0;zt<bt.length;zt++){var qt=bt[zt],te=ht.match(qt.pattern);if(te){var re=te[1]||"";return{head:re,tail:ht.substr(re.length+1),attr:qt.attr}}}}function pe(ht,bt){var zt=T(bt,ht).get();if(zt!==void 0)return zt;var qt=ht.split(".");for(qt.pop();qt.length>1;)if(qt.pop(),zt=T(bt,qt.join(".")+".uirevision").get(),zt!==void 0)return zt;return bt.uirevision}function Vt(ht,bt){for(var zt=0;zt<bt.length;zt++)if(bt[zt]._fullInput.uid===ht)return zt;return-1}function ae(ht,bt,zt){for(var qt=0;qt<bt.length;qt++)if(bt[qt].uid===ht)return qt;return!bt[zt]||bt[zt].uid?-1:zt}function oe(ht,bt){var zt=L.isPlainObject(ht),qt=Array.isArray(ht);return zt||qt?(zt&&L.isPlainObject(bt)||qt&&Array.isArray(bt))&&JSON.stringify(ht)===JSON.stringify(bt):ht===bt}function ce(ht,bt,zt,qt){var te=qt._preGUI,re,Ye,Be,ge,be,Ne,pr,fe,De,Ge,vr=[],$e={},Kt={};for(re in te){if(be=Gt(re,Nt),be){if(De=be.head,Ge=be.tail,Ye=be.attr||De+".uirevision",Be=T(qt,Ye).get(),ge=Be&&pe(Ye,bt),ge&&ge===Be){if(Ne=te[re],Ne===null&&(Ne=void 0),pr=T(bt,re),fe=pr.get(),oe(fe,Ne)){fe===void 0&&Ge==="autorange"&&vr.push(De),pr.set(W(T(qt,re).get()));continue}else if(Ge==="autorange"||Ge.substr(0,6)==="range["){var ie=te[De+".range[0]"],he=te[De+".range[1]"],Ae=te[De+".autorange"];if(Ae||Ae===null&&ie===null&&he===null){if(!(De in $e)){var Ee=T(bt,De).get();$e[De]=Ee&&(Ee.autorange||Ee.autorange!==!1&&(!Ee.range||Ee.range.length!==2))}if($e[De]){pr.set(W(T(qt,re).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+re);delete te[re],be&&be.tail.substr(0,6)==="range["&&(Kt[be.head]=1)}for(var Fe=0;Fe<vr.length;Fe++){var Re=vr[Fe];if(Kt[Re]){var Ce=T(bt,Re).get();Ce&&delete Ce.autorange}}var We=qt._tracePreGUI;for(var er in We){var Ue=We[er],ar=null,It;for(re in Ue){if(!ar){var Ut=Vt(er,zt);if(Ut<0){delete We[er];break}var Me=zt[Ut];It=Me._fullInput;var ke=ae(er,ht,It.index);if(ke<0){delete We[er];break}ar=ht[ke]}if(be=Gt(re,ne),be){if(be.attr?(Be=T(qt,be.attr).get(),ge=Be&&pe(be.attr,bt)):(Be=It.uirevision,ge=ar.uirevision,ge===void 0&&(ge=bt.uirevision)),ge&&ge===Be&&(Ne=Ue[re],Ne===null&&(Ne=void 0),pr=T(ar,re),fe=pr.get(),oe(fe,Ne))){pr.set(W(T(It,re).get()));continue}}else L.warn("unrecognized GUI edit: "+re+" in trace uid "+er);delete Ue[re]}}}function le(ht,bt,zt,qt){var te,re;function Ye(){return U.addFrames(ht,te)}ht=L.getGraphDiv(ht),x.clearPromiseQueue(ht);var Be=ht._fullData,ge=ht._fullLayout;if(!L.isPlotDiv(ht)||!Be||!ge)re=U.newPlot(ht,bt,zt,qt);else{if(L.isPlainObject(bt)){var be=bt;bt=be.data,zt=be.layout,qt=be.config,te=be.frames}var Ne=!1;if(qt){var pr=L.extendDeep({},ht._context);ht._context=void 0,D(ht,qt),Ne=$t(pr,ht._context)}ht.data=bt||[],x.cleanData(ht.data),ht.layout=zt||{},x.cleanLayout(ht.layout),ce(ht.data,ht.layout,Be,ge),l.supplyDefaults(ht,{skipUpdateCalc:!0});var fe=ht._fullData,De=ht._fullLayout,Ge=De.datarevision===void 0,vr=De.transition,$e=Tt(ht,ge,De,Ge,vr),Kt=$e.newDataRevision,ie=ye(ht,Be,fe,Ge,vr,Kt);if(Ot(ht)&&($e.layoutReplot=!0),ie.calc||$e.calc){ht.calcdata=void 0;for(var he=Object.getOwnPropertyNames(De),Ae=0;Ae<he.length;Ae++){var Ee=he[Ae],Fe=Ee.substring(0,5);if(Fe==="xaxis"||Fe==="yaxis"){var Re=De[Ee]._emptyCategories;Re&&Re()}}}else l.supplyDefaultsUpdateCalc(ht.calcdata,fe);var Ce=[];if(te&&(ht._transitionData={},l.createTransitionData(ht),Ce.push(Ye)),De.transition&&!Ne&&(ie.anim||$e.anim))$e.ticks&&Ce.push(k.doTicksRelayout),l.doCalcdata(ht),k.doAutoRangeAndConstraints(ht),Ce.push(function(){return l.transitionFromReact(ht,ie,$e,ge)});else if(ie.fullReplot||$e.layoutReplot||Ne)ht._fullLayout._skipDefaults=!0,Ce.push(U._doPlot);else{for(var We in $e.arrays){var er=$e.arrays[We];if(er.length){var Ue=r.getComponentMethod(We,"drawOne");if(Ue!==L.noop)for(var ar=0;ar<er.length;ar++)Ue(ht,er[ar]);else{var It=r.getComponentMethod(We,"draw");if(It===L.noop)throw new Error("cannot draw components: "+We);It(ht)}}}Ce.push(l.previousPromises),ie.style&&Ce.push(k.doTraceStyle),(ie.colorbars||$e.colorbars)&&Ce.push(k.doColorBars),$e.legend&&Ce.push(k.doLegend),$e.layoutstyle&&Ce.push(k.layoutStyles),$e.axrange&&Lt(Ce),$e.ticks&&Ce.push(k.doTicksRelayout),$e.modebar&&Ce.push(k.doModeBar),$e.camera&&Ce.push(k.doCamera),Ce.push(M)}Ce.push(l.rehover,l.redrag,l.reselect),re=L.syncOrAsync(Ce,ht),(!re||!re.then)&&(re=Promise.resolve(ht))}return re.then(function(){return ht.emit("plotly_react",{data:bt,layout:zt}),ht})}function ye(ht,bt,zt,qt,te,re){var Ye=bt.length===zt.length;if(!te&&!Ye)return{fullReplot:!0,calc:!0};var Be=y.traceFlags();Be.arrays={},Be.nChanges=0,Be.nChangesAnim=0;var ge,be;function Ne(De){var Ge=e.getTraceValObject(be,De);return!be._module.animatable&&Ge.anim&&(Ge.anim=!1),Ge}var pr={getValObject:Ne,flags:Be,immutable:qt,transition:te,newDataRevision:re,gd:ht},fe={};for(ge=0;ge<bt.length;ge++)if(zt[ge]){if(be=zt[ge]._fullInput,l.hasMakesDataTransform(be)&&(be=zt[ge]),fe[be.uid])continue;fe[be.uid]=1,Ft(bt[ge]._fullInput,be,[],pr)}return(Be.calc||Be.plot)&&(Be.fullReplot=!0),te&&Be.nChanges&&Be.nChangesAnim&&(Be.anim=Be.nChanges===Be.nChangesAnim&&Ye?"all":"some"),Be}function Tt(ht,bt,zt,qt,te){var re=y.layoutFlags();re.arrays={},re.rangesAltered={},re.nChanges=0,re.nChangesAnim=0;function Ye(ge){return e.getLayoutValObject(zt,ge)}var Be={getValObject:Ye,flags:re,immutable:qt,transition:te,gd:ht};return Ft(bt,zt,[],Be),(re.plot||re.calc)&&(re.layoutReplot=!0),te&&re.nChanges&&re.nChangesAnim&&(re.anim=re.nChanges===re.nChangesAnim?"all":"some"),re}function Ft(ht,bt,zt,qt){var te,re,Ye,Be=qt.getValObject,ge=qt.flags,be=qt.immutable,Ne=qt.inArray,pr=qt.arrayIndex;function fe(){var Ut=te.editType;if(Ne&&Ut.indexOf("arraydraw")!==-1){L.pushUnique(ge.arrays[Ne],pr);return}y.update(ge,te),Ut!=="none"&&ge.nChanges++,qt.transition&&te.anim&&ge.nChangesAnim++,(gt.test(Ye)||mt.test(Ye))&&(ge.rangesAltered[zt[0]]=1),vt.test(Ye)&&T(bt,"_inputDomain").set(null),re==="datarevision"&&(ge.newDataRevision=1)}function De(Ut){return Ut.valType==="data_array"||Ut.arrayOk}for(re in ht){if(ge.calc&&!qt.transition)return;var Ge=ht[re],vr=bt[re],$e=zt.concat(re);if(Ye=$e.join("."),!(re.charAt(0)==="_"||typeof Ge=="function"||Ge===vr)){if((re==="tick0"||re==="dtick")&&zt[0]!=="geo"){var Kt=bt.tickmode;if(Kt==="auto"||Kt==="array"||!Kt)continue}if(!(re==="range"&&bt.autorange)&&!((re==="zmin"||re==="zmax")&&bt.type==="contourcarpet")&&(te=Be($e),!!te&&!(te._compareAsJSON&&JSON.stringify(Ge)===JSON.stringify(vr)))){var ie=te.valType,he,Ae=De(te),Ee=Array.isArray(Ge),Fe=Array.isArray(vr);if(Ee&&Fe){var Re="_input_"+re,Ce=ht[Re],We=bt[Re];if(Array.isArray(Ce)&&Ce===We)continue}if(vr===void 0)Ae&&Ee?ge.calc=!0:fe();else if(te._isLinkedToArray){var er=[],Ue=!1;Ne||(ge.arrays[re]=er);var ar=Math.min(Ge.length,vr.length),It=Math.max(Ge.length,vr.length);if(ar!==It)if(te.editType==="arraydraw")Ue=!0;else{fe();continue}for(he=0;he<ar;he++)Ft(Ge[he],vr[he],$e.concat(he),L.extendFlat({inArray:re,arrayIndex:he},qt));if(Ue)for(he=ar;he<It;he++)er.push(he)}else!ie&&L.isPlainObject(Ge)?Ft(Ge,vr,$e,qt):Ae?Ee&&Fe?(be&&(ge.calc=!0),(be||qt.newDataRevision)&&fe()):Ee!==Fe?ge.calc=!0:fe():Ee&&Fe?(Ge.length!==vr.length||String(Ge)!==String(vr))&&fe():fe()}}}for(re in bt)if(!(re in ht||re.charAt(0)==="_"||typeof bt[re]=="function"))if(te=Be(zt.concat(re)),De(te)&&Array.isArray(bt[re])){ge.calc=!0;return}else fe()}function $t(ht,bt){var zt;for(zt in ht)if(zt.charAt(0)!=="_"){var qt=ht[zt],te=bt[zt];if(qt!==te)if(L.isPlainObject(qt)&&L.isPlainObject(te)){if($t(qt,te))return!0}else if(Array.isArray(qt)&&Array.isArray(te)){if(qt.length!==te.length)return!0;for(var re=0;re<qt.length;re++)if(qt[re]!==te[re])if(L.isPlainObject(qt[re])&&L.isPlainObject(te[re])){if($t(qt[re],te[re]))return!0}else return!0}else return!0}}function Wt(ht,bt,zt){if(ht=L.getGraphDiv(ht),!L.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var qt=ht._transitionData;qt._frameQueue||(qt._frameQueue=[]),zt=l.supplyAnimationDefaults(zt);var te=zt.transition,re=zt.frame;qt._frameWaitingCnt===void 0&&(qt._frameWaitingCnt=0);function Ye(be){return Array.isArray(te)?be>=te.length?te[0]:te[be]:te}function Be(be){return Array.isArray(re)?be>=re.length?re[0]:re[be]:re}function ge(be,Ne){var pr=0;return function(){if(be&&++pr===Ne)return be()}}return new Promise(function(be,Ne){function pr(){if(qt._frameQueue.length!==0){for(;qt._frameQueue.length;){var ar=qt._frameQueue.pop();ar.onInterrupt&&ar.onInterrupt()}ht.emit("plotly_animationinterrupted",[])}}function fe(ar){if(ar.length!==0){for(var It=0;It<ar.length;It++){var Ut;ar[It].type==="byname"?Ut=l.computeFrame(ht,ar[It].name):Ut=ar[It].data;var Me=Be(It),ke=Ye(It);ke.duration=Math.min(ke.duration,Me.duration);var qe={frame:Ut,name:ar[It].name,frameOpts:Me,transitionOpts:ke};It===ar.length-1&&(qe.onComplete=ge(be,2),qe.onInterrupt=Ne),qt._frameQueue.push(qe)}zt.mode==="immediate"&&(qt._lastFrameAt=-1/0),qt._animationRaf||vr()}}function De(){ht.emit("plotly_animated"),window.cancelAnimationFrame(qt._animationRaf),qt._animationRaf=null}function Ge(){qt._currentFrame&&qt._currentFrame.onComplete&&qt._currentFrame.onComplete();var ar=qt._currentFrame=qt._frameQueue.shift();if(ar){var It=ar.name?ar.name.toString():null;ht._fullLayout._currentFrame=It,qt._lastFrameAt=Date.now(),qt._timeToNext=ar.frameOpts.duration,l.transition(ht,ar.frame.data,ar.frame.layout,x.coerceTraceIndices(ht,ar.frame.traces),ar.frameOpts,ar.transitionOpts).then(function(){ar.onComplete&&ar.onComplete()}),ht.emit("plotly_animatingframe",{name:It,frame:ar.frame,animation:{frame:ar.frameOpts,transition:ar.transitionOpts}})}else De()}function vr(){ht.emit("plotly_animating"),qt._lastFrameAt=-1/0,qt._timeToNext=0,qt._runningTransitions=0,qt._currentFrame=null;var ar=function(){qt._animationRaf=window.requestAnimationFrame(ar),Date.now()-qt._lastFrameAt>qt._timeToNext&&Ge()};ar()}var $e=0;function Kt(ar){return Array.isArray(te)?$e>=te.length?ar.transitionOpts=te[$e]:ar.transitionOpts=te[0]:ar.transitionOpts=te,$e++,ar}var ie,he,Ae=[],Ee=bt==null,Fe=Array.isArray(bt),Re=!Ee&&!Fe&&L.isPlainObject(bt);if(Re)Ae.push({type:"object",data:Kt(L.extendFlat({},bt))});else if(Ee||["string","number"].indexOf(typeof bt)!==-1)for(ie=0;ie<qt._frames.length;ie++)he=qt._frames[ie],he&&(Ee||String(he.group)===String(bt))&&Ae.push({type:"byname",name:String(he.name),data:Kt({name:he.name})});else if(Fe)for(ie=0;ie<bt.length;ie++){var Ce=bt[ie];["number","string"].indexOf(typeof Ce)!==-1?(Ce=String(Ce),Ae.push({type:"byname",name:Ce,data:Kt({name:Ce})})):L.isPlainObject(Ce)&&Ae.push({type:"object",data:Kt(L.extendFlat({},Ce))})}for(ie=0;ie<Ae.length;ie++)if(he=Ae[ie],he.type==="byname"&&!qt._frameHash[he.data.name]){L.warn('animate failure: frame not found: "'+he.data.name+'"'),Ne();return}["next","immediate"].indexOf(zt.mode)!==-1&&pr(),zt.direction==="reverse"&&Ae.reverse();var We=ht._fullLayout._currentFrame;if(We&&zt.fromcurrent){var er=-1;for(ie=0;ie<Ae.length;ie++)if(he=Ae[ie],he.type==="byname"&&he.name===We){er=ie;break}if(er>0&&er<Ae.length-1){var Ue=[];for(ie=0;ie<Ae.length;ie++)he=Ae[ie],(Ae[ie].type!=="byname"||ie>er)&&Ue.push(he);Ae=Ue}}Ae.length>0?fe(Ae):(ht.emit("plotly_animated"),be())})}function Bt(ht,bt,zt){if(ht=L.getGraphDiv(ht),bt==null)return Promise.resolve();if(!L.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var qt,te,re,Ye,Be=ht._transitionData._frames,ge=ht._transitionData._frameHash;if(!Array.isArray(bt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+bt);var be=Be.length+bt.length*2,Ne=[],pr={};for(qt=bt.length-1;qt>=0;qt--)if(L.isPlainObject(bt[qt])){var fe=bt[qt].name,De=(ge[fe]||pr[fe]||{}).name,Ge=bt[qt].name,vr=ge[De]||pr[De];De&&Ge&&typeof Ge=="number"&&vr&&C<u&&(C++,L.warn('addFrames: overwriting frame "'+(ge[De]||pr[De]).name+'" with a frame whose name of type "number" also equates to "'+De+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),C===u&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),pr[fe]={name:fe},Ne.push({frame:l.supplyFrameDefaults(bt[qt]),index:zt&&zt[qt]!==void 0&&zt[qt]!==null?zt[qt]:be+qt})}Ne.sort(function(Re,Ce){return Re.index>Ce.index?-1:Re.index<Ce.index?1:0});var $e=[],Kt=[],ie=Be.length;for(qt=Ne.length-1;qt>=0;qt--){if(te=Ne[qt].frame,typeof te.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!te.name)for(;ge[te.name="frame "+ht._transitionData._counter++];);if(ge[te.name]){for(re=0;re<Be.length&&(Be[re]||{}).name!==te.name;re++);$e.push({type:"replace",index:re,value:te}),Kt.unshift({type:"replace",index:re,value:Be[re]})}else Ye=Math.max(0,Math.min(Ne[qt].index,ie)),$e.push({type:"insert",index:Ye,value:te}),Kt.unshift({type:"delete",index:Ye}),ie++}var he=l.modifyFrames,Ae=l.modifyFrames,Ee=[ht,Kt],Fe=[ht,$e];return d&&d.add(ht,he,Ee,Ae,Fe),l.modifyFrames(ht,$e)}function Mt(ht,bt){if(ht=L.getGraphDiv(ht),!L.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht);var zt,qt,te=ht._transitionData._frames,re=[],Ye=[];if(!bt)for(bt=[],zt=0;zt<te.length;zt++)bt.push(zt);for(bt=bt.slice(),bt.sort(),zt=bt.length-1;zt>=0;zt--)qt=bt[zt],re.push({type:"delete",index:qt}),Ye.unshift({type:"insert",index:qt,value:te[qt]});var Be=l.modifyFrames,ge=l.modifyFrames,be=[ht,Ye],Ne=[ht,re];return d&&d.add(ht,Be,be,ge,Ne),l.modifyFrames(ht,re)}function St(ht){ht=L.getGraphDiv(ht);var bt=ht._fullLayout||{},zt=ht._fullData||[];return l.cleanPlot([],{},zt,bt),l.purge(ht),v.purge(ht),bt._container&&bt._container.remove(),delete ht._context,ht}function Dt(ht){var bt=ht._fullLayout,zt=ht.getBoundingClientRect();if(!L.equalDomRects(zt,bt._lastBBox)){var qt=bt._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(ht));bt._invScaleX=Math.sqrt(qt[0][0]*qt[0][0]+qt[0][1]*qt[0][1]+qt[0][2]*qt[0][2]),bt._invScaleY=Math.sqrt(qt[1][0]*qt[1][0]+qt[1][1]*qt[1][1]+qt[1][2]*qt[1][2]),bt._lastBBox=zt}}function dt(ht){var bt=E.select(ht),zt=ht._fullLayout;if(zt._calcInverseTransform=Dt,zt._calcInverseTransform(ht),zt._container=bt.selectAll(".plot-container").data([0]),zt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),zt._paperdiv=zt._container.selectAll(".svg-container").data([0]),zt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),zt._glcontainer=zt._paperdiv.selectAll(".gl-container").data([{}]),zt._glcontainer.enter().append("div").classed("gl-container",!0),zt._paperdiv.selectAll(".main-svg").remove(),zt._paperdiv.select(".modebar-container").remove(),zt._paper=zt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),zt._toppaper=zt._paperdiv.append("svg").classed("main-svg",!0),zt._modebardiv=zt._paperdiv.append("div"),delete zt._modeBar,zt._hoverpaper=zt._paperdiv.append("svg").classed("main-svg",!0),!zt._uid){var qt={};E.selectAll("defs").each(function(){this.id&&(qt[this.id.split("-")[1]]=1)}),zt._uid=L.randstr(qt)}zt._paperdiv.selectAll(".main-svg").attr(_.svgAttrs),zt._defs=zt._paper.append("defs").attr("id","defs-"+zt._uid),zt._clips=zt._defs.append("g").classed("clips",!0),zt._topdefs=zt._toppaper.append("defs").attr("id","topdefs-"+zt._uid),zt._topclips=zt._topdefs.append("g").classed("clips",!0),zt._bgLayer=zt._paper.append("g").classed("bglayer",!0),zt._draggers=zt._paper.append("g").classed("draglayer",!0);var te=zt._paper.append("g").classed("layer-below",!0);zt._imageLowerLayer=te.append("g").classed("imagelayer",!0),zt._shapeLowerLayer=te.append("g").classed("shapelayer",!0),zt._cartesianlayer=zt._paper.append("g").classed("cartesianlayer",!0),zt._polarlayer=zt._paper.append("g").classed("polarlayer",!0),zt._smithlayer=zt._paper.append("g").classed("smithlayer",!0),zt._ternarylayer=zt._paper.append("g").classed("ternarylayer",!0),zt._geolayer=zt._paper.append("g").classed("geolayer",!0),zt._funnelarealayer=zt._paper.append("g").classed("funnelarealayer",!0),zt._pielayer=zt._paper.append("g").classed("pielayer",!0),zt._iciclelayer=zt._paper.append("g").classed("iciclelayer",!0),zt._treemaplayer=zt._paper.append("g").classed("treemaplayer",!0),zt._sunburstlayer=zt._paper.append("g").classed("sunburstlayer",!0),zt._indicatorlayer=zt._toppaper.append("g").classed("indicatorlayer",!0),zt._glimages=zt._paper.append("g").classed("glimages",!0);var re=zt._toppaper.append("g").classed("layer-above",!0);zt._imageUpperLayer=re.append("g").classed("imagelayer",!0),zt._shapeUpperLayer=re.append("g").classed("shapelayer",!0),zt._selectionLayer=zt._toppaper.append("g").classed("selectionlayer",!0),zt._infolayer=zt._toppaper.append("g").classed("infolayer",!0),zt._menulayer=zt._toppaper.append("g").classed("menulayer",!0),zt._zoomlayer=zt._toppaper.append("g").classed("zoomlayer",!0),zt._hoverlayer=zt._hoverpaper.append("g").classed("hoverlayer",!0),zt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ht.emit("plotly_framework")}U.animate=Wt,U.addFrames=Bt,U.deleteFrames=Mt,U.addTraces=$,U.deleteTraces=G,U.extendTraces=Y,U.moveTraces=rt,U.prependTraces=Z,U.newPlot=F,U._doPlot=m,U.purge=St,U.react=le,U.redraw=P,U.relayout=yt,U.restyle=ot,U.setPlotConfig=w,U.update=Pt,U._guiRelayout=Et(yt),U._guiRestyle=Et(ot),U._guiUpdate=Et(Pt),U._storeDirectGUIEdit=Q},20556:function(tt){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function E(S,i){for(var L in S){var T=S[L];T.valType?i[L]=T.dflt:(i[L]||(i[L]={}),E(T,i[L]))}}E(U,t),tt.exports={configAttributes:U,dfltConfig:t}},73060:function(tt,U,t){var E=t(24040),S=t(3400),i=t(45464),L=t(64859),T=t(16672),v=t(85656),d=t(20556).configAttributes,r=t(67824),e=S.extendDeepAll,l=S.isPlainObject,n=S.isArrayOrTypedArray,s=S.nestedProperty,o=S.valObjectMeta,f="_isSubplotObj",b="_isLinkedToArray",h="_arrayAttrRegexps",_="_deprecated",a=[f,b,h,_];U.IS_SUBPLOT_OBJ=f,U.IS_LINKED_TO_ARRAY=b,U.DEPRECATED=_,U.UNDERSCORE_ATTRS=a,U.get=function(){var D={};E.allTypes.forEach(function(F){D[F]=k(F)});var P={};return Object.keys(E.transformsRegistry).forEach(function(F){P[F]=A(F)}),{defs:{valObjects:o,metaKeys:a.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:D,layout:y(),transforms:P,frames:C(),animation:u(v),config:u(d)}},U.crawl=function(D,P,F,R){var N=F||0;R=R||"",Object.keys(D).forEach(function(B){var q=D[B];if(a.indexOf(B)===-1){var V=(R?R+".":"")+B;P(q,B,D,N,V),!U.isValObject(q)&&l(q)&&B!=="impliedEdits"&&U.crawl(q,P,N+1,V)}})},U.isValObject=function(D){return D&&D.valType!==void 0},U.findArrayAttributes=function(D){var P=[],F=[],R=[],N,B;function q(Z,$,G,rt){F=F.slice(0,rt).concat([$]),R=R.slice(0,rt).concat([Z&&Z._isLinkedToArray]);var ot=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(F[rt-1]==="colorbar"&&($==="ticktext"||$==="tickvals"));ot&&V(N,0,"")}function V(Z,$,G){var rt=Z[F[$]],ot=G+F[$];if($===F.length-1)n(rt)&&P.push(B+ot);else if(R[$]){if(Array.isArray(rt))for(var W=0;W<rt.length;W++)l(rt[W])&&V(rt[W],$+1,ot+"["+W+"].")}else l(rt)&&V(rt,$+1,ot+".")}N=D,B="",U.crawl(i,q),D._module&&D._module.attributes&&U.crawl(D._module.attributes,q);var J=D.transforms;if(J)for(var it=0;it<J.length;it++){var nt=J[it],Y=nt._module;Y&&(B="transforms["+it+"].",N=nt,U.crawl(Y.attributes,q))}return P},U.getTraceValObject=function(D,P){var F=P[0],R=1,N,B;if(F==="transforms"){if(P.length===1)return i.transforms;var q=D.transforms;if(!Array.isArray(q)||!q.length)return!1;var V=P[1];if(!x(V)||V>=q.length)return!1;N=(E.transformsRegistry[q[V].type]||{}).attributes,B=N&&N[P[2]],R=3}else{var J=D._module;if(J||(J=(E.modules[D.type||i.type.dflt]||{})._module),!J)return!1;if(N=J.attributes,B=N&&N[F],!B){var it=J.basePlotModule;it&&it.attributes&&(B=it.attributes[F])}B||(B=i[F])}return p(B,P,R)},U.getLayoutValObject=function(D,P){var F=c(D,P[0]);return p(F,P,1)};function c(D,P){var F,R,N,B,q=D._basePlotModules;if(q){var V;for(F=0;F<q.length;F++){if(N=q[F],N.attrRegex&&N.attrRegex.test(P)){if(N.layoutAttrOverrides)return N.layoutAttrOverrides;!V&&N.layoutAttributes&&(V=N.layoutAttributes)}var J=N.baseLayoutAttrOverrides;if(J&&P in J)return J[P]}if(V)return V}var it=D._modules;if(it){for(F=0;F<it.length;F++)if(B=it[F].layoutAttributes,B&&P in B)return B[P]}for(R in E.componentsRegistry){if(N=E.componentsRegistry[R],N.name==="colorscale"&&P.indexOf("coloraxis")===0)return N.layoutAttributes[P];if(!N.schema&&P===N.name)return N.layoutAttributes}return P in L?L[P]:!1}function p(D,P,F){if(!D)return!1;if(D._isLinkedToArray){if(x(P[F]))F++;else if(F<P.length)return!1}for(;F<P.length;F++){var R=D[P[F]];if(l(R))D=R;else break;if(F===P.length-1)break;if(D._isLinkedToArray){if(F++,!x(P[F]))return!1}else if(D.valType==="info_array"){F++;var N=P[F];if(!x(N))return!1;var B=D.items;if(Array.isArray(B)){if(N>=B.length)return!1;if(D.dimensions===2){if(F++,P.length===F)return D;var q=P[F];if(!x(q))return!1;D=B[N][q]}else D=B[N]}else D=B}}return D}function x(D){return D===Math.round(D)&&D>=0}function k(D){var P,F;P=E.modules[D]._module,F=P.basePlotModule;var R={};R.type=null;var N=e({},i),B=e({},P.attributes);U.crawl(B,function(J,it,nt,Y,Z){s(N,Z).set(void 0),J===void 0&&s(B,Z).set(void 0)}),e(R,N),E.traceIs(D,"noOpacity")&&delete R.opacity,E.traceIs(D,"showLegend")||(delete R.showlegend,delete R.legendgroup),E.traceIs(D,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),P.selectPoints||delete R.selectedpoints,e(R,B),F.attributes&&e(R,F.attributes),R.type=D;var q={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:D,attributes:u(R)};if(P.layoutAttributes){var V={};e(V,P.layoutAttributes),q.layoutAttributes=u(V)}return P.animatable||U.crawl(q,function(J){U.isValObject(J)&&"anim"in J&&delete J.anim}),q}function y(){var D={},P,F;e(D,L);for(P in E.subplotsRegistry)if(F=E.subplotsRegistry[P],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var R=0;R<F.attr.length;R++)z(D,F,F.attr[R]);else{var N=F.attr==="subplot"?F.name:F.attr;z(D,F,N)}for(P in E.componentsRegistry){F=E.componentsRegistry[P];var B=F.schema;if(B&&(B.subplots||B.layout)){var q=B.subplots;if(q&&q.xaxis&&!q.yaxis)for(var V in q.xaxis)delete D.yaxis[V];delete D.xaxis.shift,delete D.xaxis.autoshift}else F.name==="colorscale"?e(D,F.layoutAttributes):F.layoutAttributes&&O(D,F.layoutAttributes,F.name)}return{layoutAttributes:u(D)}}function A(D){var P=E.transformsRegistry[D],F=e({},P.attributes);return Object.keys(E.componentsRegistry).forEach(function(R){var N=E.componentsRegistry[R];N.schema&&N.schema.transforms&&N.schema.transforms[D]&&Object.keys(N.schema.transforms[D]).forEach(function(B){O(F,N.schema.transforms[D][B],B)})}),{attributes:u(F)}}function C(){var D={frames:e({},T)};return u(D),D.frames}function u(D){return m(D),M(D),w(D),D}function m(D){function P(R){return{valType:"string",editType:"none"}}function F(R,N,B){U.isValObject(R)?(R.arrayOk===!0||R.valType==="data_array")&&(B[N+"src"]=P()):l(R)&&(R.role="object")}U.crawl(D,F)}function M(D){function P(F,R,N){if(F){var B=F[b];B&&(delete F[b],N[R]={items:{}},N[R].items[B]=F,N[R].role="object")}}U.crawl(D,P)}function w(D){function P(F){for(var R in F)if(l(F[R]))P(F[R]);else if(Array.isArray(F[R]))for(var N=0;N<F[R].length;N++)P(F[R][N]);else F[R]instanceof RegExp&&(F[R]=F[R].toString())}P(D)}function z(D,P,F){var R=s(D,F),N=e({},P.layoutAttributes);N[f]=!0,R.set(N)}function O(D,P,F){var R=s(D,F);R.set(e(R.get()||{},P))}},31780:function(tt,U,t){var E=t(3400),S=t(45464),i="templateitemname",L={name:{valType:"string",editType:"none"}};L[i]={valType:"string",editType:"calc"},U.templatedArray=function(d,r){return r._isLinkedToArray=d,r.name=L.name,r[i]=L[i],r},U.traceTemplater=function(d){var r={},e,l;for(e in d)l=d[e],Array.isArray(l)&&l.length&&(r[e]=0);function n(s){e=E.coerce(s,{},S,"type");var o={type:e,_template:null};if(e in r){l=d[e];var f=r[e]%l.length;r[e]++,o._template=l[f]}return o}return{newTrace:n}},U.newContainer=function(d,r,e){var l=d._template,n=l&&(l[r]||e&&l[e]);E.isPlainObject(n)||(n=null);var s=d[r]={_template:n};return s},U.arrayTemplater=function(d,r,e){var l=d._template,n=l&&l[v(r)],s=l&&l[r];(!Array.isArray(s)||!s.length)&&(s=[]);var o={};function f(h){var _={name:h.name,_input:h},a=_[i]=h[i];if(!T(a))return _._template=n,_;for(var c=0;c<s.length;c++){var p=s[c];if(p.name===a)return o[a]=1,_._template=p,_}return _[e]=h[e]||!1,_._template=!1,_}function b(){for(var h=[],_=0;_<s.length;_++){var a=s[_],c=a.name;if(T(c)&&!o[c]){var p={_template:a,name:c,_input:{_templateitemname:c}};p[i]=a[i],h.push(p),o[c]=1}}return h}return{newItem:f,defaultItems:b}};function T(d){return d&&typeof d=="string"}function v(d){var r=d.length-1;return d.charAt(r)!=="s"&&E.warn("bad argument to arrayDefaultKey: "+d),d.substr(0,d.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(d,r,e){var l=(E.nestedProperty(d,r).get()||[]).length,n=e._index,s=n>=l&&(e._input||{})._templateitemname;s&&(n=l);var o=r+"["+n+"]",f;function b(){f={},s&&(f[o]={},f[o][i]=s)}b();function h(p,x){f[p]=x}function _(p,x){s?E.nestedProperty(f[o],p).set(x):f[o+"."+p]=x}function a(){var p=f;return b(),p}function c(p,x){p&&_(p,x);var k=a();for(var y in k)E.nestedProperty(d,y).set(k[y])}return{modifyBase:h,modifyItem:_,getUpdateObj:a,applyUpdate:c}}},39172:function(tt,U,t){var E=t(33428),S=t(24040),i=t(7316),L=t(3400),T=t(72736),v=t(73696),d=t(76308),r=t(43616),e=t(81668),l=t(45460),n=t(54460),s=t(84284),o=t(71888),f=o.enforce,b=o.clean,h=t(19280).doAutoRange,_="start",a="middle",c="end";U.layoutStyles=function(F){return L.syncOrAsync([i.doAutoMargin,x],F)};function p(F,R,N){for(var B=0;B<N.length;B++){var q=N[B][0],V=N[B][1];if(!(q[0]>=F[1]||q[1]<=F[0])&&V[0]<R[1]&&V[1]>R[0])return!0}return!1}function x(F){var R=F._fullLayout,N=R._size,B=N.p,q=n.list(F,"",!0),V,J,it,nt,Y,Z;if(R._paperdiv.style({width:F._context.responsive&&R.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":R.width+"px",height:F._context.responsive&&R.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":R.height+"px"}).selectAll(".main-svg").call(r.setSize,R.width,R.height),F._context.setBackground(F,R.paper_bgcolor),U.drawMainTitle(F),l.manage(F),!R._has("cartesian"))return i.previousPromises(F);function $(St,Dt,dt){var ht=St._lw/2;if(St._id.charAt(0)==="x"){if(Dt){if(dt==="top")return Dt._offset-B-ht}else return N.t+N.h*(1-(St.position||0))+ht%1;return Dt._offset+Dt._length+B+ht}if(Dt){if(dt==="right")return Dt._offset+Dt._length+B+ht}else return N.l+N.w*(St.position||0)+ht%1;return Dt._offset-B-ht}for(V=0;V<q.length;V++){nt=q[V];var G=nt._anchorAxis;nt._linepositions={},nt._lw=r.crispRound(F,nt.linewidth,1),nt._mainLinePosition=$(nt,G,nt.side),nt._mainMirrorPosition=nt.mirror&&G?$(nt,G,s.OPPOSITE_SIDE[nt.side]):null}var rt=[],ot=[],W=[],H=d.opacity(R.paper_bgcolor)===1&&d.opacity(R.plot_bgcolor)===1&&R.paper_bgcolor===R.plot_bgcolor;for(J in R._plots)if(it=R._plots[J],it.mainplot)it.bg&&it.bg.remove(),it.bg=void 0;else{var at=it.xaxis.domain,Q=it.yaxis.domain,ct=it.plotgroup;if(p(at,Q,W)){var ft=ct.node(),yt=it.bg=L.ensureSingle(ct,"rect","bg");ft.insertBefore(yt.node(),ft.childNodes[0]),ot.push(J)}else ct.select("rect.bg").remove(),W.push([at,Q]),H||(rt.push(J),ot.push(J))}var xt=R._bgLayer.selectAll(".bg").data(rt);for(xt.enter().append("rect").classed("bg",!0),xt.exit().remove(),xt.each(function(St){R._plots[St].bg=E.select(this)}),V=0;V<ot.length;V++)it=R._plots[ot[V]],Y=it.xaxis,Z=it.yaxis,it.bg&&Y._offset!==void 0&&Z._offset!==void 0&&it.bg.call(r.setRect,Y._offset-B,Z._offset-B,Y._length+2*B,Z._length+2*B).call(d.fill,R.plot_bgcolor).style("stroke-width",0);if(!R._hasOnlyLargeSploms)for(J in R._plots){it=R._plots[J],Y=it.xaxis,Z=it.yaxis;var Lt=it.clipId="clip"+R._uid+J+"plot",gt=L.ensureSingleById(R._clips,"clipPath",Lt,function(St){St.classed("plotclip",!0).append("rect")});it.clipRect=gt.select("rect").attr({width:Y._length,height:Z._length}),r.setTranslate(it.plot,Y._offset,Z._offset);var mt,vt;it._hasClipOnAxisFalse?(mt=null,vt=Lt):(mt=Lt,vt=null),r.setClipUrl(it.plot,mt,F),it.layerClipId=vt}var At,Ot,Pt,Et,Nt,ne,Gt,pe,Vt,ae,oe,ce,le;function ye(St){return"M"+At+","+St+"H"+Ot}function Tt(St){return"M"+Y._offset+","+St+"h"+Y._length}function Ft(St){return"M"+St+","+pe+"V"+Gt}function $t(St){return Z._shift!==void 0&&(St+=Z._shift),"M"+St+","+Z._offset+"v"+Z._length}function Wt(St,Dt,dt){if(!St.showline||J!==St._mainSubplot)return"";if(!St._anchorAxis)return dt(St._mainLinePosition);var ht=Dt(St._mainLinePosition);return St.mirror&&(ht+=Dt(St._mainMirrorPosition)),ht}for(J in R._plots){it=R._plots[J],Y=it.xaxis,Z=it.yaxis;var Bt="M0,0";k(Y,J)&&(Nt=A(Y,"left",Z,q),At=Y._offset-(Nt?B+Nt:0),ne=A(Y,"right",Z,q),Ot=Y._offset+Y._length+(ne?B+ne:0),Pt=$(Y,Z,"bottom"),Et=$(Y,Z,"top"),le=!Y._anchorAxis||J!==Y._mainSubplot,le&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[J]=[Pt,Et]),Bt=Wt(Y,ye,Tt),le&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(Bt+=ye(Pt)+ye(Et)),it.xlines.style("stroke-width",Y._lw+"px").call(d.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),it.xlines.attr("d",Bt);var Mt="M0,0";k(Z,J)&&(oe=A(Z,"bottom",Y,q),Gt=Z._offset+Z._length+(oe?B:0),ce=A(Z,"top",Y,q),pe=Z._offset-(ce?B:0),Vt=$(Z,Y,"left"),ae=$(Z,Y,"right"),le=!Z._anchorAxis||J!==Z._mainSubplot,le&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[J]=[Vt,ae]),Mt=Wt(Z,Ft,$t),le&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(Mt+=Ft(Vt)+Ft(ae)),it.ylines.style("stroke-width",Z._lw+"px").call(d.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),it.ylines.attr("d",Mt)}return n.makeClipPaths(F),i.previousPromises(F)}function k(F,R){return(F.ticks||F.showline)&&(R===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function y(F,R,N){if(!N.showline||!N._lw)return!1;if(N.mirror==="all"||N.mirror==="allticks")return!0;var B=N._anchorAxis;if(!B)return!1;var q=s.FROM_BL[R];return N.side===R?B.domain[q]===F.domain[q]:N.mirror&&B.domain[1-q]===F.domain[1-q]}function A(F,R,N,B){if(y(F,R,N))return N._lw;for(var q=0;q<B.length;q++){var V=B[q];if(V._mainAxis===N._mainAxis&&y(F,R,V))return V._lw}return 0}U.drawMainTitle=function(F){var R=F._fullLayout.title,N=F._fullLayout,B=D(N),q=P(N),V=z(N,q),J=w(N,B);if(e.draw(F,"gtitle",{propContainer:N,propName:"title.text",placeholder:N._dfltTitle.plot,attributes:{x:J,y:V,"text-anchor":B,dy:q}}),R.text&&R.automargin){var it=E.selectAll(".gtitle"),nt=r.bBox(it.node()).height,Y=m(F,R,nt);if(Y>0){M(F,V,Y,nt),it.attr({x:J,y:V,"text-anchor":B,dy:O(R.yanchor)}).call(T.positionText,J,V);var Z=(R.text.match(T.BR_TAG_ALL)||[]).length;if(Z){var $=s.LINE_SPACING*Z+s.MID_SHIFT;R.y===0&&($=-$),it.selectAll(".line").each(function(){var G=+this.getAttribute("dy").slice(0,-2)-$+"em";this.setAttribute("dy",G)})}}}};function C(F,R,N,B,q){var V=R.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,J=L.isTopAnchor(R)?B:B-q,it=N==="b"?V-J:J;return L.isTopAnchor(R)&&N==="t"||L.isBottomAnchor(R)&&N==="b"?!1:it<q}function u(F,R,N,B,q){var V=0;return N==="middle"&&(V+=q/2),F==="t"?(N==="top"&&(V+=q),V+=B-R*B):(N==="bottom"&&(V+=q),V+=R*B),V}function m(F,R,N){var B=R.y,q=R.yanchor,V=B>.5?"t":"b",J=F._fullLayout.margin[V],it=0;return R.yref==="paper"?it=N+R.pad.t+R.pad.b:R.yref==="container"&&(it=u(V,B,q,F._fullLayout.height,N)+R.pad.t+R.pad.b),it>J?it:0}function M(F,R,N,B){var q="title.automargin",V=F._fullLayout.title,J=V.y>.5?"t":"b",it={x:V.x,y:V.y,t:0,b:0},nt={};V.yref==="paper"&&C(F,V,J,R,B)?it[J]=N:V.yref==="container"&&(nt[J]=N,F._fullLayout._reservedMargin[q]=nt),i.allowAutoMargin(F,q),i.autoMargin(F,q,it)}function w(F,R){var N=F.title,B=F._size,q=0;switch(R===_?q=N.pad.l:R===c&&(q=-N.pad.r),N.xref){case"paper":return B.l+B.w*N.x+q;case"container":default:return F.width*N.x+q}}function z(F,R){var N=F.title,B=F._size,q=0;if(R==="0em"||!R?q=-N.pad.b:R===s.CAP_SHIFT+"em"&&(q=N.pad.t),N.y==="auto")return B.t/2;switch(N.yref){case"paper":return B.t+B.h-B.h*N.y+q;case"container":default:return F.height-F.height*N.y+q}}function O(F){return F==="top"?s.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":s.MID_SHIFT+"em"}function D(F){var R=F.title,N=a;return L.isRightAnchor(R)?N=c:L.isLeftAnchor(R)&&(N=_),N}function P(F){var R=F.title,N="0em";return L.isTopAnchor(R)?N=s.CAP_SHIFT+"em":L.isMiddleAnchor(R)&&(N=s.MID_SHIFT+"em"),N}U.doTraceStyle=function(F){var R=F.calcdata,N=[],B;for(B=0;B<R.length;B++){var q=R[B],V=q[0]||{},J=V.trace||{},it=J._module||{},nt=it.arraysToCalcdata;nt&&nt(q,J);var Y=it.editStyle;Y&&N.push({fn:Y,cd0:V})}if(N.length){for(B=0;B<N.length;B++){var Z=N[B];Z.fn(F,Z.cd0)}v(F),U.redrawReglTraces(F)}return i.style(F),S.getComponentMethod("legend","draw")(F),i.previousPromises(F)},U.doColorBars=function(F){return S.getComponentMethod("colorbar","draw")(F),i.previousPromises(F)},U.layoutReplot=function(F){var R=F.layout;return F.layout=void 0,S.call("_doPlot",F,"",R)},U.doLegend=function(F){return S.getComponentMethod("legend","draw")(F),i.previousPromises(F)},U.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(S.subplotsRegistry.splom.updateGrid(F),v(F),U.redrawReglTraces(F)),U.drawMainTitle(F),i.previousPromises(F)},U.doModeBar=function(F){var R=F._fullLayout;l.manage(F);for(var N=0;N<R._basePlotModules.length;N++){var B=R._basePlotModules[N].updateFx;B&&B(F)}return i.previousPromises(F)},U.doCamera=function(F){for(var R=F._fullLayout,N=R._subplots.gl3d,B=0;B<N.length;B++){var q=R[N[B]],V=q._scene;V.setViewport(q)}},U.drawData=function(F){var R=F._fullLayout;v(F);for(var N=R._basePlotModules,B=0;B<N.length;B++)N[B].plot(F);return U.redrawReglTraces(F),i.style(F),S.getComponentMethod("selections","draw")(F),S.getComponentMethod("shapes","draw")(F),S.getComponentMethod("annotations","draw")(F),S.getComponentMethod("images","draw")(F),R._replotting=!1,i.previousPromises(F)},U.redrawReglTraces=function(F){var R=F._fullLayout;if(R._has("regl")){var N=F._fullData,B=[],q=[],V,J;for(R._hasOnlyLargeSploms&&R._splomGrid.draw(),V=0;V<N.length;V++){var it=N[V];it.visible===!0&&it._length!==0&&(it.type==="splom"?R._splomScenes[it.uid].draw():it.type==="scattergl"?L.pushUnique(B,it.xaxis+it.yaxis):it.type==="scatterpolargl"&&L.pushUnique(q,it.subplot))}for(V=0;V<B.length;V++)J=R._plots[B[V]],J._scene&&J._scene.draw();for(V=0;V<q.length;V++)J=R[q[V]]._subplot,J._scene&&J._scene.draw()}},U.doAutoRangeAndConstraints=function(F){for(var R=n.list(F,"",!0),N,B={},q=0;q<R.length;q++)if(N=R[q],!B[N._id]){B[N._id]=1,b(F,N),h(F,N);var V=N._matchGroup;if(V)for(var J in V){var it=n.getFromId(F,J);h(F,it,N.range),B[J]=1}}f(F)},U.finalDraw=function(F){S.getComponentMethod("rangeslider","draw")(F),S.getComponentMethod("rangeselector","draw")(F)},U.drawMarginPushers=function(F){S.getComponentMethod("legend","draw")(F),S.getComponentMethod("rangeselector","draw")(F),S.getComponentMethod("sliders","draw")(F),S.getComponentMethod("updatemenus","draw")(F),S.getComponentMethod("colorbar","draw")(F)}},94828:function(tt,U,t){var E=t(3400),S=E.isPlainObject,i=t(73060),L=t(7316),T=t(45464),v=t(31780),d=t(20556).dfltConfig;U.makeTemplate=function(h){h=E.isPlainObject(h)?h:E.getGraphDiv(h),h=E.extendDeep({_context:d},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var _=h.data||[],a=h.layout||{};a._basePlotModules=h._fullLayout._basePlotModules,a._modules=h._fullLayout._modules;var c={data:{},layout:{}};_.forEach(function(w){var z={};l(w,z,s.bind(null,w));var O=E.coerce(w,{},T,"type"),D=c.data[O];D||(D=c.data[O]=[]),D.push(z)}),l(a,c.layout,n.bind(null,a)),delete c.layout.template;var p=a.template;if(S(p)){var x=p.layout,k,y,A,C,u,m;S(x)&&r(x,c.layout);var M=p.data;if(S(M)){for(y in c.data)if(A=M[y],Array.isArray(A)){for(u=c.data[y],m=u.length,C=A.length,k=0;k<m;k++)r(A[k%C],u[k]);for(k=m;k<C;k++)u.push(E.extendDeep({},A[k]))}for(y in M)y in c.data||(c.data[y]=E.extendDeep([],M[y]))}}return c};function r(h,_){h=E.extendDeep({},h);var a=Object.keys(h).sort(),c,p;function x(u,m,M){if(S(m)&&S(u))r(u,m);else if(Array.isArray(m)&&Array.isArray(u)){var w=v.arrayTemplater({_template:h},M);for(p=0;p<m.length;p++){var z=m[p],O=w.newItem(z)._template;O&&r(O,z)}var D=w.defaultItems();for(p=0;p<D.length;p++)m.push(D[p]._template);for(p=0;p<m.length;p++)delete m[p].templateitemname}}for(c=0;c<a.length;c++){var k=a[c],y=h[k];if(k in _?x(y,_[k],k):_[k]=y,e(k)===k)for(var A in _){var C=e(A);A!==C&&C===k&&!(A in h)&&x(y,_[A],k)}}}function e(h){return h.replace(/[0-9]+$/,"")}function l(h,_,a,c,p){var x=p&&a(p);for(var k in h){var y=h[k],A=o(h,k,c),C=o(h,k,p),u=a(C);if(!u){var m=e(k);m!==k&&(C=o(h,m,p),u=a(C))}if(!(x&&x===u)&&!(!u||u._noTemplating||u.valType==="data_array"||u.arrayOk&&Array.isArray(y)))if(!u.valType&&S(y))l(y,_,a,A,C);else if(u._isLinkedToArray&&Array.isArray(y))for(var M=!1,w=0,z={},O=0;O<y.length;O++){var D=y[O];if(S(D)){var P=D.name;if(P)z[P]||(l(D,_,a,o(y,w,A),o(y,w,C)),w++,z[P]=1);else if(!M){var F=v.arrayDefaultKey(k),R=o(h,F,c),N=o(y,w,A);l(D,_,a,N,o(y,w,C));var B=E.nestedProperty(_,N),q=E.nestedProperty(_,R);q.set(B.get()),B.set(null),M=!0}}}else{var V=E.nestedProperty(_,A);V.set(y)}}}function n(h,_){return i.getLayoutValObject(h,E.nestedProperty({},_).parts)}function s(h,_){return i.getTraceValObject(h,E.nestedProperty({},_).parts)}function o(h,_,a){var c;return a?Array.isArray(h)?c=a+"["+_+"]":c=a+"."+_:c=_,c}U.validateTemplate=function(h,_){var a=E.extendDeep({},{_context:d,data:h.data,layout:h.layout}),c=a.layout||{};S(_)||(_=c.template||{});var p=_.layout,x=_.data,k=[];a.layout=c,a.layout.template=_,L.supplyDefaults(a);var y=a._fullLayout,A=a._fullData,C={};function u(R,N){for(var B in R)if(B.charAt(0)!=="_"&&S(R[B])){var q=e(B),V=[],J;for(J=0;J<N.length;J++)V.push(o(R,B,N[J])),q!==B&&V.push(o(R,q,N[J]));for(J=0;J<V.length;J++)C[V[J]]=1;u(R[B],V)}}function m(R,N){for(var B in R)if(B.indexOf("defaults")===-1&&S(R[B])){var q=o(R,B,N);C[q]?m(R[B],q):k.push({code:"unused",path:q})}}if(S(p)?(u(y,["layout"]),m(p,"layout")):k.push({code:"layout"}),!S(x))k.push({code:"data"});else{for(var M={},w,z=0;z<A.length;z++){var O=A[z];w=O.type,M[w]=(M[w]||0)+1,O._fullInput._template||k.push({code:"missing",index:O._fullInput.index,traceType:w})}for(w in x){var D=x[w].length,P=M[w]||0;D>P?k.push({code:"unused",traceType:w,templateCount:D,dataCount:P}):P>D&&k.push({code:"reused",traceType:w,templateCount:D,dataCount:P})}}function F(R,N){for(var B in R)if(B.charAt(0)!=="_"){var q=R[B],V=o(R,B,N);S(q)?(Array.isArray(R)&&q._template===!1&&q.templateitemname&&k.push({code:"missing",path:V,templateitemname:q.templateitemname}),F(q,V)):Array.isArray(q)&&f(q)&&F(q,V)}}if(F({data:A,layout:y},""),k.length)return k.map(b)};function f(h){for(var _=0;_<h.length;_++)if(S(h[_]))return!0}function b(h){var _;switch(h.code){case"data":_="The template has no key data.";break;case"layout":_="The template has no key layout.";break;case"missing":h.path?_="There are no templates for item "+h.path+" with name "+h.templateitemname:_="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?_="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?_="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":_="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":_="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=_,h}},67024:function(tt,U,t){var E=t(38248),S=t(36424),i=t(7316),L=t(3400),T=t(81792),v=t(37164),d=t(63268),r=t(25788).version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function l(n,s){s=s||{};var o,f,b,h;L.isPlainObject(n)?(o=n.data||[],f=n.layout||{},b=n.config||{},h={}):(n=L.getGraphDiv(n),o=L.extendDeep([],n.data),f=L.extendDeep({},n.layout),b=n._context,h=n._fullLayout||{});function _(P){return!(P in s)||L.validate(s[P],e[P])}if(!_("width")&&s.width!==null||!_("height")&&s.height!==null)throw new Error("Height and width should be pixel values.");if(!_("format"))throw new Error("Export format is not "+L.join2(e.format.values,", "," or ")+".");var a={};function c(P,F){return L.coerce(s,a,e,P,F)}var p=c("format"),x=c("width"),k=c("height"),y=c("scale"),A=c("setBackground"),C=c("imageDataOnly"),u=document.createElement("div");u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);var m=L.extendFlat({},f);x?m.width=x:s.width===null&&E(h.width)&&(m.width=h.width),k?m.height=k:s.height===null&&E(h.height)&&(m.height=h.height);var M=L.extendFlat({},b,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),w=T.getRedrawFunc(u);function z(){return new Promise(function(P){setTimeout(P,T.getDelay(u._fullLayout))})}function O(){return new Promise(function(P,F){var R=v(u,p,y),N=u._fullLayout.width,B=u._fullLayout.height;function q(){S.purge(u),document.body.removeChild(u)}if(p==="full-json"){var V=i.graphJson(u,!1,"keepdata","object",!0,!0);return V.version=r,V=JSON.stringify(V),q(),P(C?V:T.encodeJSON(V))}if(q(),p==="svg")return P(C?R:T.encodeSVG(R));var J=document.createElement("canvas");J.id=L.randstr(),d({format:p,width:N,height:B,scale:y,canvas:J,svg:R,promise:!0}).then(P).catch(F)})}function D(P){return C?P.replace(T.IMAGE_URL_PREFIX,""):P}return new Promise(function(P,F){S.newPlot(u,o,m,M).then(w).then(z).then(O).then(function(R){P(D(R))}).catch(function(R){F(R)})})}tt.exports=l},21480:function(tt,U,t){var E=t(3400),S=t(7316),i=t(73060),L=t(20556).dfltConfig,T=E.isPlainObject,v=Array.isArray,d=E.isArrayOrTypedArray;tt.exports=function(a,c){a===void 0&&(a=[]),c===void 0&&(c={});var p=i.get(),x=[],k={_context:E.extendFlat({},L)},y,A;v(a)?(k.data=E.extendDeep([],a),y=a):(k.data=[],y=[],x.push(s("array","data"))),T(c)?(k.layout=E.extendDeep({},c),A=c):(k.layout={},A={},arguments.length>1&&x.push(s("object","layout"))),S.supplyDefaults(k);for(var C=k._fullData,u=y.length,m=0;m<u;m++){var M=y[m],w=["data",m];if(!T(M)){x.push(s("object",w));continue}var z=C[m],O=z.type,D=p.traces[O].attributes;D.type={valType:"enumerated",values:[O]},z.visible===!1&&M.visible!==!1&&x.push(s("invisible",w)),r(M,z,D,x,w);var P=M.transforms,F=z.transforms;if(P){v(P)||x.push(s("array",w,["transforms"])),w.push("transforms");for(var R=0;R<P.length;R++){var N=["transforms",R],B=P[R].type;if(!T(P[R])){x.push(s("object",w,N));continue}var q=p.transforms[B]?p.transforms[B].attributes:{};q.type={valType:"enumerated",values:Object.keys(p.transforms)},r(P[R],F[R],q,x,w,N)}}}var V=k._fullLayout,J=e(p,C);return r(A,V,J,x,"layout"),x.length===0?void 0:x};function r(a,c,p,x,k,y){y=y||[];for(var A=Object.keys(a),C=0;C<A.length;C++){var u=A[C];if(u!=="transforms"){var m=y.slice();m.push(u);var M=a[u],w=c[u],z=f(p,u),O=(z||{}).valType,D=O==="info_array",P=O==="colorscale",F=(z||{}).items;if(!o(p,u))x.push(s("schema",k,m));else if(T(M)&&T(w)&&O!=="any")r(M,w,z,x,k,m);else if(D&&v(M)){M.length>w.length&&x.push(s("unused",k,m.concat(w.length)));var R=w.length,N=Array.isArray(F);N&&(R=Math.min(R,F.length));var B,q,V,J,it;if(z.dimensions===2)for(q=0;q<R;q++)if(v(M[q])){M[q].length>w[q].length&&x.push(s("unused",k,m.concat(q,w[q].length)));var nt=w[q].length;for(B=0;B<(N?Math.min(nt,F[q].length):nt);B++)V=N?F[q][B]:F,J=M[q][B],it=w[q][B],E.validate(J,V)?it!==J&&it!==+J&&x.push(s("dynamic",k,m.concat(q,B),J,it)):x.push(s("value",k,m.concat(q,B),J))}else x.push(s("array",k,m.concat(q),M[q]));else for(q=0;q<R;q++)V=N?F[q]:F,J=M[q],it=w[q],E.validate(J,V)?it!==J&&it!==+J&&x.push(s("dynamic",k,m.concat(q),J,it)):x.push(s("value",k,m.concat(q),J))}else if(z.items&&!D&&v(M)){var Y=F[Object.keys(F)[0]],Z=[],$,G;for($=0;$<w.length;$++){var rt=w[$]._index||$;if(G=m.slice(),G.push(rt),T(M[rt])&&T(w[$])){Z.push(rt);var ot=M[rt],W=w[$];T(ot)&&ot.visible!==!1&&W.visible===!1?x.push(s("invisible",k,G)):r(ot,W,Y,x,k,G)}}for($=0;$<M.length;$++)G=m.slice(),G.push($),T(M[$])?Z.indexOf($)===-1&&x.push(s("unused",k,G)):x.push(s("object",k,G,M[$]))}else!T(M)&&T(w)?x.push(s("object",k,m,M)):!d(M)&&d(w)&&!D&&!P?x.push(s("array",k,m,M)):u in c?E.validate(M,z)?z.valType==="enumerated"&&(z.coerceNumber&&M!==+w||M!==w)&&x.push(s("dynamic",k,m,M,w)):x.push(s("value",k,m,M)):x.push(s("unused",k,m,M))}}return x}function e(a,c){for(var p=a.layout.layoutAttributes,x=0;x<c.length;x++){var k=c[x],y=a.traces[k.type],A=y.layoutAttributes;A&&(k.subplot?E.extendFlat(p[y.attributes.subplot.dflt],A):E.extendFlat(p,A))}return p}var l={object:function(a,c){var p;return a==="layout"&&c===""?p="The layout argument":a[0]==="data"&&c===""?p="Trace "+a[1]+" in the data argument":p=n(a)+"key "+c,p+" must be linked to an object container"},array:function(a,c){var p;return a==="data"?p="The data argument":p=n(a)+"key "+c,p+" must be linked to an array container"},schema:function(a,c){return n(a)+"key "+c+" is not part of the schema"},unused:function(a,c,p){var x=T(p)?"container":"key";return n(a)+x+" "+c+" did not get coerced"},dynamic:function(a,c,p,x){return[n(a)+"key",c,"(set to '"+p+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(a,c){return(c?n(a)+"item "+c:"Trace "+a[1])+" got defaulted to be not visible"},value:function(a,c,p){return[n(a)+"key "+c,"is set to an invalid value ("+p+")"].join(" ")}};function n(a){return v(a)?"In data trace "+a[1]+", ":"In "+a+", "}function s(a,c,p,x,k){p=p||"";var y,A;v(c)?(y=c[0],A=c[1]):(y=c,A=null);var C=_(p),u=l[a](c,C,x,k);return E.log(u),{code:a,container:y,trace:A,path:p,astr:C,msg:u}}function o(a,c){var p=h(c),x=p.keyMinusId,k=p.id;return x in a&&a[x]._isSubplotObj&&k?!0:c in a}function f(a,c){if(c in a)return a[c];var p=h(c);return a[p.keyMinusId]}var b=E.counterRegex("([a-z]+)");function h(a){var c=a.match(b);return{keyMinusId:c&&c[1],id:c&&c[2]}}function _(a){if(!v(a))return String(a);for(var c="",p=0;p<a.length;p++){var x=a[p];typeof x=="number"?c=c.substr(0,c.length-1)+"["+x+"]":c+=x,p<a.length-1&&(c+=".")}return c}},85656:function(tt){tt.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(tt,U,t){var E=t(3400),S=t(31780);tt.exports=function(i,L,T){var v=T.name,d=T.inclusionAttr||"visible",r=L[v],e=E.isArrayOrTypedArray(i[v])?i[v]:[],l=L[v]=[],n=S.arrayTemplater(L,v,d),s,o;for(s=0;s<e.length;s++){var f=e[s];E.isPlainObject(f)?o=n.newItem(f):(o=n.newItem({}),o[d]=!1),o._index=s,o[d]!==!1&&T.handleItemDefaults(f,o,L,T),l.push(o)}var b=n.defaultItems();for(s=0;s<b.length;s++)o=b[s],o._index=l.length,T.handleItemDefaults({},o,L,T,{}),l.push(o);if(E.isArrayOrTypedArray(r)){var h=Math.min(r.length,l.length);for(s=0;s<h;s++)E.relinkPrivateKeys(l[s],r[s])}return l}},45464:function(tt,U,t){var E=t(25376),S=t(55756);tt.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:E({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:S.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(tt,U,t){var E=t(38248),S=t(3400),i=S.dateTime2ms,L=S.incrementMonth,T=t(39032),v=T.ONEAVGMONTH;tt.exports=function(d,r,e,l){if(r.type!=="date")return{vals:l};var n=d[e+"periodalignment"];if(!n)return{vals:l};var s=d[e+"period"],o;if(E(s)){if(s=+s,s<=0)return{vals:l}}else if(typeof s=="string"&&s.charAt(0)==="M"){var f=+s.substring(1);if(f>0&&Math.round(f)===f)o=f;else return{vals:l}}for(var b=r.calendar,h=n==="start",_=n==="end",a=d[e+"period0"],c=i(a,b)||0,p=[],x=[],k=[],y=l.length,A=0;A<y;A++){var C=l[A],u,m,M;if(o){for(u=Math.round((C-c)/(o*v)),M=L(c,o*u,b);M>C;)M=L(M,-o,b);for(;M<=C;)M=L(M,o,b);m=L(M,-o,b)}else{for(u=Math.round((C-c)/s),M=c+u*s;M>C;)M-=s;for(;M<=C;)M+=s;m=M-s}p[A]=h?m:_?M:(m+M)/2,x[A]=m,k[A]=M}return{vals:p,starts:x,ends:k}}},26720:function(tt){tt.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(tt,U,t){var E=t(33428),S=t(38248),i=t(3400),L=t(39032).FP_SAFE,T=t(24040),v=t(43616),d=t(79811),r=d.getFromId,e=d.isLinked;tt.exports={applyAutorangeOptions:m,getAutoRange:l,makePadFn:s,doAutoRange:h,findExtremes:_,concatExtremes:b};function l(M,w){var z,O,D=[],P=M._fullLayout,F=s(P,w,0),R=s(P,w,1),N=b(M,w),B=N.min,q=N.max;if(B.length===0||q.length===0)return i.simpleMap(w.range,w.r2l);var V=B[0].val,J=q[0].val;for(z=1;z<B.length&&V===J;z++)V=Math.min(V,B[z].val);for(z=1;z<q.length&&V===J;z++)J=Math.max(J,q[z].val);var it=w.autorange,nt=it==="reversed"||it==="min reversed"||it==="max reversed";if(!nt&&w.range){var Y=i.simpleMap(w.range,w.r2l);nt=Y[1]<Y[0]}w.autorange==="reversed"&&(w.autorange=!0);var Z=w.rangemode,$=Z==="tozero",G=Z==="nonnegative",rt=w._length,ot=rt/10,W=0,H,at,Q,ct,ft,yt;for(z=0;z<B.length;z++)for(H=B[z],O=0;O<q.length;O++)at=q[O],yt=at.val-H.val-n(w,H.val,at.val),yt>0&&(ft=rt-F(H)-R(at),ft>ot?yt/ft>W&&(Q=H,ct=at,W=yt/ft):yt/rt>W&&(Q={val:H.val,nopad:1},ct={val:at.val,nopad:1},W=yt/rt));function xt(At,Ot){return Math.max(At,R(Ot))}if(V===J){var Lt=V-1,gt=V+1;if($)if(V===0)D=[0,1];else{var mt=(V>0?q:B).reduce(xt,0),vt=V/(1-Math.min(.5,mt/rt));D=V>0?[0,vt]:[vt,0]}else G?D=[Math.max(0,Lt),Math.max(1,gt)]:D=[Lt,gt]}else $?(Q.val>=0&&(Q={val:0,nopad:1}),ct.val<=0&&(ct={val:0,nopad:1})):G&&(Q.val-W*F(Q)<0&&(Q={val:0,nopad:1}),ct.val<=0&&(ct={val:1,nopad:1})),W=(ct.val-Q.val-n(w,H.val,at.val))/(rt-F(Q)-R(ct)),D=[Q.val-W*F(Q),ct.val+W*R(ct)];return D=m(D,w),w.limitRange&&w.limitRange(),nt&&D.reverse(),i.simpleMap(D,w.l2r||Number)}function n(M,w,z){var O=0;if(M.rangebreaks)for(var D=M.locateBreaks(w,z),P=0;P<D.length;P++){var F=D[P];O+=F.max-F.min}return O}function s(M,w,z){var O=.05*w._length,D=w._anchorAxis||{};if((w.ticklabelposition||"").indexOf("inside")!==-1||(D.ticklabelposition||"").indexOf("inside")!==-1){var P=w.isReversed();if(!P){var F=i.simpleMap(w.range,w.r2l);P=F[1]<F[0]}P&&(z=!z)}var R=0;return e(M,w._id)||(R=f(M,w,z)),O=Math.max(R,O),w.constrain==="domain"&&w._inputDomain&&(O*=(w._inputDomain[1]-w._inputDomain[0])/(w.domain[1]-w.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?O:R)}}var o=3;function f(M,w,z){var O=0,D=w._id.charAt(0)==="x";for(var P in M._plots){var F=M._plots[P];if(!(w._id!==F.xaxis._id&&w._id!==F.yaxis._id)){var R=(D?F.yaxis:F.xaxis)||{};if((R.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(R.side==="left"||R.side==="bottom")||z&&(R.side==="top"||R.side==="right"))){if(R._vals){var N=i.deg2rad(R._tickAngles[R._id+"tick"]||0),B=Math.abs(Math.cos(N)),q=Math.abs(Math.sin(N));if(!R._vals[0].bb){var V=R._id+"tick",J=R._selections[V];J.each(function(G){var rt=E.select(this),ot=rt.select(".text-math-group");ot.empty()&&(G.bb=v.bBox(rt.node()))})}for(var it=0;it<R._vals.length;it++){var nt=R._vals[it],Y=nt.bb;if(Y){var Z=2*o+Y.width,$=2*o+Y.height;O=Math.max(O,D?Math.max(Z*B,$*q):Math.max($*B,Z*q))}}}R.ticks==="inside"&&R.ticklabelposition==="inside"&&(O+=R.ticklen||0)}}}return O}function b(M,w,z){var O=w._id,D=M._fullData,P=M._fullLayout,F=[],R=[],N,B,q;function V(Z,$){for(N=0;N<$.length;N++){var G=Z[$[N]],rt=(G._extremes||{})[O];if(G.visible===!0&&rt){for(B=0;B<rt.min.length;B++)q=rt.min[B],a(F,q.val,q.pad,{extrapad:q.extrapad});for(B=0;B<rt.max.length;B++)q=rt.max[B],c(R,q.val,q.pad,{extrapad:q.extrapad})}}}if(V(D,w._traceIndices),V(P.annotations||[],w._annIndices||[]),V(P.shapes||[],w._shapeIndices||[]),w._matchGroup&&!z){for(var J in w._matchGroup)if(J!==w._id){var it=r(M,J),nt=b(M,it,!0),Y=w._length/it._length;for(B=0;B<nt.min.length;B++)q=nt.min[B],a(F,q.val,q.pad*Y,{extrapad:q.extrapad});for(B=0;B<nt.max.length;B++)q=nt.max[B],c(R,q.val,q.pad*Y,{extrapad:q.extrapad})}}return{min:F,max:R}}function h(M,w,z){if(w.setScale(),w.autorange){w.range=z?z.slice():l(M,w),w._r=w.range.slice(),w._rl=i.simpleMap(w._r,w.r2l);var O=w._input,D={};D[w._attr+".range"]=w.range,D[w._attr+".autorange"]=w.autorange,T.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,D),O.range=w.range.slice(),O.autorange=w.autorange}var P=w._anchorAxis;if(P&&P.rangeslider){var F=P.rangeslider[w._name];F&&F.rangemode==="auto"&&(F.range=l(M,w)),P._input.rangeslider[w._name]=i.extendFlat({},F)}}function _(M,w,z){z||(z={}),M._m||M.setScale();var O=[],D=[],P=w.length,F=z.padded||!1,R=z.tozero&&(M.type==="linear"||M.type==="-"),N=M.type==="log",B=!1,q=z.vpadLinearized||!1,V,J,it,nt,Y,Z,$,G,rt;function ot(xt){if(Array.isArray(xt))return B=!0,function(gt){return Math.max(Number(xt[gt]||0),0)};var Lt=Math.max(Number(xt||0),0);return function(){return Lt}}var W=ot((M._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),H=ot((M._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),at=ot(z.vpadplus||z.vpad),Q=ot(z.vpadminus||z.vpad);if(!B){if(G=1/0,rt=-1/0,N)for(V=0;V<P;V++)J=w[V],J<G&&J>0&&(G=J),J>rt&&J<L&&(rt=J);else for(V=0;V<P;V++)J=w[V],J<G&&J>-L&&(G=J),J>rt&&J<L&&(rt=J);w=[G,rt],P=2}var ct={tozero:R,extrapad:F};function ft(xt){it=w[xt],S(it)&&(Z=W(xt),$=H(xt),q?(nt=M.c2l(it)-Q(xt),Y=M.c2l(it)+at(xt)):(G=it-Q(xt),rt=it+at(xt),N&&G<rt/10&&(G=rt/10),nt=M.c2l(G),Y=M.c2l(rt)),R&&(nt=Math.min(0,nt),Y=Math.max(0,Y)),x(nt)&&a(O,nt,$,ct),x(Y)&&c(D,Y,Z,ct))}var yt=Math.min(6,P);for(V=0;V<yt;V++)ft(V);for(V=P-1;V>=yt;V--)ft(V);return{min:O,max:D,opts:z}}function a(M,w,z,O){p(M,w,z,O,k)}function c(M,w,z,O){p(M,w,z,O,y)}function p(M,w,z,O,D){for(var P=O.tozero,F=O.extrapad,R=!0,N=0;N<M.length&&R;N++){var B=M[N];if(D(B.val,w)&&B.pad>=z&&(B.extrapad||!F)){R=!1;break}else D(w,B.val)&&B.pad<=z&&(F||!B.extrapad)&&(M.splice(N,1),N--)}if(R){var q=P&&w===0;M.push({val:w,pad:q?0:z,extrapad:q?!1:F})}}function x(M){return S(M)&&Math.abs(M)<L}function k(M,w){return M<=w}function y(M,w){return M>=w}function A(M,w){var z=w.autorangeoptions;return z&&z.minallowed!==void 0&&u(w,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&u(w,z.clipmin,z.clipmax)?Math.max(M,w.d2l(z.clipmin)):M}function C(M,w){var z=w.autorangeoptions;return z&&z.maxallowed!==void 0&&u(w,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&u(w,z.clipmin,z.clipmax)?Math.min(M,w.d2l(z.clipmax)):M}function u(M,w,z){return w!==void 0&&z!==void 0?(w=M.d2l(w),z=M.d2l(z),w<z):!0}function m(M,w){if(!w||!w.autorangeoptions)return M;var z=M[0],O=M[1],D=w.autorangeoptions.include;if(D!==void 0){var P=w.d2l(z),F=w.d2l(O);i.isArrayOrTypedArray(D)||(D=[D]);for(var R=0;R<D.length;R++){var N=w.d2l(D[R]);P>=N&&(P=N,z=N),F<=N&&(F=N,O=N)}}return z=A(z,w),O=C(O,w),[z,O]}},76808:function(tt){tt.exports=function(U,t,E){var S,i;if(E){var L=t==="reversed"||t==="min reversed"||t==="max reversed";S=E[L?1:0],i=E[L?0:1]}var T=U("autorangeoptions.minallowed",i===null?S:void 0),v=U("autorangeoptions.maxallowed",S===null?i:void 0);T===void 0&&U("autorangeoptions.clipmin"),v===void 0&&U("autorangeoptions.clipmax"),U("autorangeoptions.include")}},54460:function(tt,U,t){var E=t(33428),S=t(38248),i=t(7316),L=t(24040),T=t(3400),v=T.strTranslate,d=t(72736),r=t(81668),e=t(76308),l=t(43616),n=t(94724),s=t(98728),o=t(39032),f=o.ONEMAXYEAR,b=o.ONEAVGYEAR,h=o.ONEMINYEAR,_=o.ONEMAXQUARTER,a=o.ONEAVGQUARTER,c=o.ONEMINQUARTER,p=o.ONEMAXMONTH,x=o.ONEAVGMONTH,k=o.ONEMINMONTH,y=o.ONEWEEK,A=o.ONEDAY,C=A/2,u=o.ONEHOUR,m=o.ONEMIN,M=o.ONESEC,w=o.MINUS_SIGN,z=o.BADNUM,O={K:"zeroline"},D={K:"gridline",L:"path"},P={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},R={K:"tick",L:"text"},N={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=t(84284),q=B.MID_SHIFT,V=B.CAP_SHIFT,J=B.LINE_SPACING,it=B.OPPOSITE_SIDE,nt=3,Y=tt.exports={};Y.setConvert=t(78344);var Z=t(52976),$=t(79811),G=$.idSort,rt=$.isLinked;Y.id2name=$.id2name,Y.name2id=$.name2id,Y.cleanId=$.cleanId,Y.list=$.list,Y.listIds=$.listIds,Y.getFromId=$.getFromId,Y.getFromTrace=$.getFromTrace;var ot=t(19280);Y.getAutoRange=ot.getAutoRange,Y.findExtremes=ot.findExtremes;var W=1e-4;function H(It){var Ut=(It[1]-It[0])*W;return[It[0]-Ut,It[1]+Ut]}Y.coerceRef=function(It,Ut,Me,ke,qe,Ke){var Je=ke.charAt(ke.length-1),Ve=Me._fullLayout._subplots[Je+"axis"],Pe=ke+"ref",rr={};return qe||(qe=Ve[0]||(typeof Ke=="string"?Ke:Ke[0])),Ke||(Ke=qe),Ve=Ve.concat(Ve.map(function(lr){return lr+" domain"})),rr[Pe]={valType:"enumerated",values:Ve.concat(Ke?typeof Ke=="string"?[Ke]:Ke:[]),dflt:qe},T.coerce(It,Ut,rr,Pe)},Y.getRefType=function(It){return It===void 0?It:It==="paper"?"paper":It==="pixel"?"pixel":/( domain)$/.test(It)?"domain":"range"},Y.coercePosition=function(It,Ut,Me,ke,qe,Ke){var Je,Ve,Pe=Y.getRefType(ke);if(Pe!=="range")Je=T.ensureNumber,Ve=Me(qe,Ke);else{var rr=Y.getFromId(Ut,ke);Ke=rr.fraction2r(Ke),Ve=Me(qe,Ke),Je=rr.cleanPos}It[qe]=Je(Ve)},Y.cleanPosition=function(It,Ut,Me){var ke=Me==="paper"||Me==="pixel"?T.ensureNumber:Y.getFromId(Ut,Me).cleanPos;return ke(It)},Y.redrawComponents=function(It,Ut){Ut=Ut||Y.listIds(It);var Me=It._fullLayout;function ke(qe,Ke,Je,Ve){for(var Pe=L.getComponentMethod(qe,Ke),rr={},lr=0;lr<Ut.length;lr++)for(var cr=Me[Y.id2name(Ut[lr])],ir=cr[Je],Er=0;Er<ir.length;Er++){var kr=ir[Er];if(!rr[kr]&&(Pe(It,kr),rr[kr]=1,Ve))return}}ke("annotations","drawOne","_annIndices"),ke("shapes","drawOne","_shapeIndices"),ke("images","draw","_imgIndices",!0),ke("selections","drawOne","_selectionIndices")};var at=Y.getDataConversions=function(It,Ut,Me,ke){var qe,Ke=Me==="x"||Me==="y"||Me==="z"?Me:ke;if(T.isArrayOrTypedArray(Ke)){if(qe={type:Z(ke,void 0,{autotypenumbers:It._fullLayout.autotypenumbers}),_categories:[]},Y.setConvert(qe),qe.type==="category")for(var Je=0;Je<ke.length;Je++)qe.d2c(ke[Je])}else qe=Y.getFromTrace(It,Ut,Ke);return qe?{d2c:qe.d2c,c2d:qe.c2d}:Ke==="ids"?{d2c:ct,c2d:ct}:{d2c:Q,c2d:Q}};function Q(It){return+It}function ct(It){return String(It)}Y.getDataToCoordFunc=function(It,Ut,Me,ke){return at(It,Ut,Me,ke).d2c},Y.counterLetter=function(It){var Ut=It.charAt(0);if(Ut==="x")return"y";if(Ut==="y")return"x"},Y.minDtick=function(It,Ut,Me,ke){["log","category","multicategory"].indexOf(It.type)!==-1||!ke?It._minDtick=0:It._minDtick===void 0?(It._minDtick=Ut,It._forceTick0=Me):It._minDtick&&((It._minDtick/Ut+1e-6)%1<2e-6&&((Me-It._forceTick0)/Ut%1+1.000001)%1<2e-6?(It._minDtick=Ut,It._forceTick0=Me):((Ut/It._minDtick+1e-6)%1>2e-6||((Me-It._forceTick0)/It._minDtick%1+1.000001)%1>2e-6)&&(It._minDtick=0))},Y.saveRangeInitial=function(It,Ut){for(var Me=Y.list(It,"",!0),ke=!1,qe=0;qe<Me.length;qe++){var Ke=Me[qe],Je=Ke._rangeInitial0===void 0&&Ke._rangeInitial1===void 0,Ve=Je||Ke.range[0]!==Ke._rangeInitial0||Ke.range[1]!==Ke._rangeInitial1,Pe=Ke.autorange;(Je&&Pe!==!0||Ut&&Ve)&&(Ke._rangeInitial0=Pe==="min"||Pe==="max reversed"?void 0:Ke.range[0],Ke._rangeInitial1=Pe==="max"||Pe==="min reversed"?void 0:Ke.range[1],Ke._autorangeInitial=Pe,ke=!0)}return ke},Y.saveShowSpikeInitial=function(It,Ut){for(var Me=Y.list(It,"",!0),ke=!1,qe="on",Ke=0;Ke<Me.length;Ke++){var Je=Me[Ke],Ve=Je._showSpikeInitial===void 0,Pe=Ve||Je.showspikes!==Je._showspikes;(Ve||Ut&&Pe)&&(Je._showSpikeInitial=Je.showspikes,ke=!0),qe==="on"&&!Je.showspikes&&(qe="off")}return It._fullLayout._cartesianSpikesEnabled=qe,ke},Y.autoBin=function(It,Ut,Me,ke,qe,Ke){var Je=T.aggNums(Math.min,null,It),Ve=T.aggNums(Math.max,null,It);if(Ut.type==="category"||Ut.type==="multicategory")return{start:Je-.5,end:Ve+.5,size:Math.max(1,Math.round(Ke)||1),_dataSpan:Ve-Je};qe||(qe=Ut.calendar);var Pe;if(Ut.type==="log"?Pe={type:"linear",range:[Je,Ve]}:Pe={type:Ut.type,range:T.simpleMap([Je,Ve],Ut.c2r,0,qe),calendar:qe},Y.setConvert(Pe),Ke=Ke&&s.dtick(Ke,Pe.type),Ke)Pe.dtick=Ke,Pe.tick0=s.tick0(void 0,Pe.type,qe);else{var rr;if(Me)rr=(Ve-Je)/Me;else{var lr=T.distinctVals(It),cr=Math.pow(10,Math.floor(Math.log(lr.minDiff)/Math.LN10)),ir=cr*T.roundUp(lr.minDiff/cr,[.9,1.9,4.9,9.9],!0);rr=Math.max(ir,2*T.stdev(It)/Math.pow(It.length,ke?.25:.4)),S(rr)||(rr=1)}Y.autoTicks(Pe,rr)}var Er=Pe.dtick,kr=Y.tickIncrement(Y.tickFirst(Pe),Er,"reverse",qe),Mr,$r;if(typeof Er=="number")kr=ft(kr,It,Pe,Je,Ve),$r=1+Math.floor((Ve-kr)/Er),Mr=kr+$r*Er;else for(Pe.dtick.charAt(0)==="M"&&(kr=yt(kr,It,Er,Je,qe)),Mr=kr,$r=0;Mr<=Ve;)Mr=Y.tickIncrement(Mr,Er,!1,qe),$r++;return{start:Ut.c2r(kr,0,qe),end:Ut.c2r(Mr,0,qe),size:Er,_dataSpan:Ve-Je}};function ft(It,Ut,Me,ke,qe){var Ke=0,Je=0,Ve=0,Pe=0;function rr(Er){return(1+(Er-It)*100/Me.dtick)%100<2}for(var lr=0;lr<Ut.length;lr++)Ut[lr]%1===0?Ve++:S(Ut[lr])||Pe++,rr(Ut[lr])&&Ke++,rr(Ut[lr]+Me.dtick/2)&&Je++;var cr=Ut.length-Pe;if(Ve===cr&&Me.type!=="date")Me.dtick<1?It=ke-.5*Me.dtick:(It-=.5,It+Me.dtick<ke&&(It+=Me.dtick));else if(Je<cr*.1&&(Ke>cr*.3||rr(ke)||rr(qe))){var ir=Me.dtick/2;It+=It+ir<ke?ir:-ir}return It}function yt(It,Ut,Me,ke,qe){var Ke=T.findExactDates(Ut,qe),Je=.8;if(Ke.exactDays>Je){var Ve=Number(Me.substr(1));Ke.exactYears>Je&&Ve%12===0?It=Y.tickIncrement(It,"M6","reverse")+A*1.5:Ke.exactMonths>Je?It=Y.tickIncrement(It,"M1","reverse")+A*15.5:It-=C;var Pe=Y.tickIncrement(It,Me);if(Pe<=ke)return Pe}return It}Y.prepMinorTicks=function(It,Ut,Me){if(!Ut.minor.dtick){delete It.dtick;var ke=Ut.dtick&&S(Ut._tmin),qe;if(ke){var Ke=Y.tickIncrement(Ut._tmin,Ut.dtick,!0);qe=[Ut._tmin,Ke*.99+Ut._tmin*.01]}else{var Je=T.simpleMap(Ut.range,Ut.r2l);qe=[Je[0],.8*Je[0]+.2*Je[1]]}if(It.range=T.simpleMap(qe,Ut.l2r),It._isMinor=!0,Y.prepTicks(It,Me),ke){var Ve=S(Ut.dtick),Pe=S(It.dtick),rr=Ve?Ut.dtick:+Ut.dtick.substring(1),lr=Pe?It.dtick:+It.dtick.substring(1);Ve&&Pe?xt(rr,lr)?rr===2*y&&lr===2*A&&(It.dtick=y):rr===2*y&&lr===3*A?It.dtick=y:rr===y&&!(Ut._input.minor||{}).nticks?It.dtick=A:Lt(rr/lr,2.5)?It.dtick=rr/2:It.dtick=rr:String(Ut.dtick).charAt(0)==="M"?Pe?It.dtick="M1":xt(rr,lr)?rr>=12&&lr===2&&(It.dtick="M3"):It.dtick=Ut.dtick:String(It.dtick).charAt(0)==="L"?String(Ut.dtick).charAt(0)==="L"?xt(rr,lr)||(It.dtick=Lt(rr/lr,2.5)?Ut.dtick/2:Ut.dtick):It.dtick="D1":It.dtick==="D2"&&+Ut.dtick>1&&(It.dtick=1)}It.range=Ut.range}Ut.minor._tick0Init===void 0&&(It.tick0=Ut.tick0)};function xt(It,Ut){return Math.abs((It/Ut+.5)%1-.5)<.001}function Lt(It,Ut){return Math.abs(It/Ut-1)<.001}Y.prepTicks=function(It,Ut){var Me=T.simpleMap(It.range,It.r2l,void 0,void 0,Ut);if(It.tickmode==="auto"||!It.dtick){var ke=It.nticks,qe;ke||(It.type==="category"||It.type==="multicategory"?(qe=It.tickfont?T.bigFont(It.tickfont.size||12):15,ke=It._length/qe):(qe=It._id.charAt(0)==="y"?40:80,ke=T.constrain(It._length/qe,4,9)+1),It._name==="radialaxis"&&(ke*=2)),It.minor&&It.minor.tickmode!=="array"||It.tickmode==="array"&&(ke*=100),It._roughDTick=Math.abs(Me[1]-Me[0])/ke,Y.autoTicks(It,It._roughDTick),It._minDtick>0&&It.dtick<It._minDtick*2&&(It.dtick=It._minDtick,It.tick0=It.l2r(It._forceTick0))}It.ticklabelmode==="period"&&mt(It),It.tick0||(It.tick0=It.type==="date"?"2000-01-01":0),It.type==="date"&&It.dtick<.1&&(It.dtick=.1),ce(It)};function gt(It){return+It.substring(1)}function mt(It){var Ut;function Me(){return!(S(It.dtick)||It.dtick.charAt(0)!=="M")}var ke=Me(),qe=Y.getTickFormat(It);if(qe){var Ke=It._dtickInit!==It.dtick;/%[fLQsSMX]/.test(qe)||(/%[HI]/.test(qe)?(Ut=u,Ke&&!ke&&It.dtick<u&&(It.dtick=u)):/%p/.test(qe)?(Ut=C,Ke&&!ke&&It.dtick<C&&(It.dtick=C)):/%[Aadejuwx]/.test(qe)?(Ut=A,Ke&&!ke&&It.dtick<A&&(It.dtick=A)):/%[UVW]/.test(qe)?(Ut=y,Ke&&!ke&&It.dtick<y&&(It.dtick=y)):/%[Bbm]/.test(qe)?(Ut=x,Ke&&(ke?gt(It.dtick)<1:It.dtick<k)&&(It.dtick="M1")):/%[q]/.test(qe)?(Ut=a,Ke&&(ke?gt(It.dtick)<3:It.dtick<c)&&(It.dtick="M3")):/%[Yy]/.test(qe)&&(Ut=b,Ke&&(ke?gt(It.dtick)<12:It.dtick<h)&&(It.dtick="M12")))}ke=Me(),ke&&It.tick0===It._dowTick0&&(It.tick0=It._rawTick0),It._definedDelta=Ut}function vt(It,Ut,Me){for(var ke=0;ke<It.length;ke++){var qe=It[ke].value,Ke=ke,Je=ke+1;ke<It.length-1?(Ke=ke,Je=ke+1):ke>0?(Ke=ke-1,Je=ke):(Ke=ke,Je=ke);var Ve=It[Ke].value,Pe=It[Je].value,rr=Math.abs(Pe-Ve),lr=Me||rr,cr=0;lr>=h?rr>=h&&rr<=f?cr=rr:cr=b:Me===a&&lr>=c?rr>=c&&rr<=_?cr=rr:cr=a:lr>=k?rr>=k&&rr<=p?cr=rr:cr=x:Me===y&&lr>=y?cr=y:lr>=A?cr=A:Me===C&&lr>=C?cr=C:Me===u&&lr>=u&&(cr=u);var ir;cr>=rr&&(cr=rr,ir=!0);var Er=qe+cr;if(Ut.rangebreaks&&cr>0){for(var kr=84,Mr=0,$r=0;$r<kr;$r++){var Gr=($r+.5)/kr;Ut.maskBreaks(qe*(1-Gr)+Gr*Er)!==z&&Mr++}cr*=Mr/kr,cr||(It[ke].drop=!0),ir&&rr>y&&(cr=rr)}(cr>0||ke===0)&&(It[ke].periodX=qe+cr/2)}}Y.calcTicks=function(It,Ut){for(var Me=It.type,ke=It.calendar,qe=It.ticklabelstep,Ke=It.ticklabelmode==="period",Je=T.simpleMap(It.range,It.r2l,void 0,void 0,Ut),Ve=Je[1]<Je[0],Pe=Math.min(Je[0],Je[1]),rr=Math.max(Je[0],Je[1]),lr=Math.max(1e3,It._length||0),cr=[],ir=[],Er=[],kr=[],Mr=It.minor&&(It.minor.ticks||It.minor.showgrid),$r=1;$r>=(Mr?0:1);$r--){var Gr=!$r;$r?(It._dtickInit=It.dtick,It._tick0Init=It.tick0):(It.minor._dtickInit=It.minor.dtick,It.minor._tick0Init=It.minor.tick0);var vn=$r?It:T.extendFlat({},It,It.minor);if(Gr?Y.prepMinorTicks(vn,It,Ut):Y.prepTicks(vn,Ut),vn.tickmode==="array"){$r?(Er=[],cr=Pt(It,!Gr)):(kr=[],ir=Pt(It,!Gr));continue}if(vn.tickmode==="sync"){Er=[],cr=Ot(It);continue}var yn=H(Je),hr=yn[0],Lr=yn[1],Ir=S(vn.dtick),Rr=Me==="log"&&!(Ir||vn.dtick.charAt(0)==="L"),on=Y.tickFirst(vn,Ut);if($r){if(It._tmin=on,on<hr!==Ve)break;(Me==="category"||Me==="multicategory")&&(Lr=Ve?Math.max(-.5,Lr):Math.min(It._categories.length-.5,Lr))}var an=null,gn=on,Mn;if($r){var Pn;Ir?Pn=It.dtick:Me==="date"?typeof It.dtick=="string"&&It.dtick.charAt(0)==="M"&&(Pn=x*It.dtick.substring(1)):Pn=It._roughDTick,Mn=Math.round((It.r2l(gn)-It.r2l(It.tick0))/Pn)-1}var Kn=vn.dtick;for(vn.rangebreaks&&vn._tick0Init!==vn.tick0&&(gn=Ce(gn,It),Ve||(gn=Y.tickIncrement(gn,Kn,!Ve,ke))),$r&&Ke&&(gn=Y.tickIncrement(gn,Kn,!Ve,ke),Mn--);Ve?gn>=Lr:gn<=Lr;gn=Y.tickIncrement(gn,Kn,Ve,ke)){if($r&&Mn++,vn.rangebreaks&&!Ve){if(gn<hr)continue;if(vn.maskBreaks(gn)===z&&Ce(gn,vn)>=rr)break}if(Er.length>lr||gn===an)break;an=gn;var ai={value:gn};$r?(Rr&&gn!==(gn|0)&&(ai.simpleLabel=!0),qe>1&&Mn%qe&&(ai.skipLabel=!0),Er.push(ai)):(ai.minor=!0,kr.push(ai))}}if(Mr){var ui=It.minor.ticks==="inside"&&It.ticks==="outside"||It.minor.ticks==="outside"&&It.ticks==="inside";if(!ui){for(var ni=Er.map(function(wn){return wn.value}),Cn=[],ur=0;ur<kr.length;ur++){var qr=kr[ur],Ur=qr.value;if(ni.indexOf(Ur)===-1){for(var nn=!1,En=0;!nn&&En<Er.length;En++)1e7+Er[En].value===1e7+Ur&&(nn=!0);nn||Cn.push(qr)}}kr=Cn}}Ke&&vt(Er,It,It._definedDelta);var sn;if(It.rangebreaks){var An=It._id.charAt(0)==="y",Ln=1;It.tickmode==="auto"&&(Ln=It.tickfont?It.tickfont.size:12);var qn=NaN;for(sn=Er.length-1;sn>-1;sn--){if(Er[sn].drop){Er.splice(sn,1);continue}Er[sn].value=Ce(Er[sn].value,It);var ii=It.c2p(Er[sn].value);(An?qn>ii-Ln:qn<ii+Ln)?Er.splice(Ve?sn+1:sn,1):qn=ii}}Re(It)&&Math.abs(Je[1]-Je[0])===360&&Er.pop(),It._tmax=(Er[Er.length-1]||{}).value,It._prevDateHead="",It._inCalcTicks=!0;var Li,dr=function(wn){wn.text="",It._prevDateHead=Li};Er=Er.concat(kr);var Sr,gr;for(sn=0;sn<Er.length;sn++){var Pr=Er[sn].minor,fn=Er[sn].value;Pr?ir.push({x:fn,minor:!0}):(Li=It._prevDateHead,Sr=Y.tickText(It,fn,!1,Er[sn].simpleLabel),gr=Er[sn].periodX,gr!==void 0&&(Sr.periodX=gr,(gr>rr||gr<Pe)&&(gr>rr&&(Sr.periodX=rr),gr<Pe&&(Sr.periodX=Pe),dr(Sr))),Er[sn].skipLabel&&dr(Sr),cr.push(Sr))}return cr=cr.concat(ir),It._inCalcTicks=!1,Ke&&cr.length&&(cr[0].noTick=!0),cr};function At(It,Ut){return It.rangebreaks&&(Ut=Ut.filter(function(Me){return It.maskBreaks(Me.x)!==z})),Ut}function Ot(It){var Ut=It._mainAxis,Me=[];if(Ut._vals){for(var ke=0;ke<Ut._vals.length;ke++)if(!Ut._vals[ke].noTick){var qe=Ut.l2p(Ut._vals[ke].x),Ke=It.p2l(qe),Je=Y.tickText(It,Ke);Ut._vals[ke].minor&&(Je.minor=!0,Je.text=""),Me.push(Je)}}return Me=At(It,Me),Me}function Pt(It,Ut){var Me=T.simpleMap(It.range,It.r2l),ke=H(Me),qe=Math.min(ke[0],ke[1]),Ke=Math.max(ke[0],ke[1]),Je=It.type==="category"?It.d2l_noadd:It.d2l;It.type==="log"&&String(It.dtick).charAt(0)!=="L"&&(It.dtick="L"+Math.pow(10,Math.floor(Math.min(It.range[0],It.range[1]))-1));for(var Ve=[],Pe=0;Pe<=1;Pe++)if(!(Ut!==void 0&&(Ut&&Pe||Ut===!1&&!Pe))&&!(Pe&&!It.minor)){var rr=Pe?It.minor.tickvals:It.tickvals,lr=Pe?[]:It.ticktext;if(rr){T.isArrayOrTypedArray(lr)||(lr=[]);for(var cr=0;cr<rr.length;cr++){var ir=Je(rr[cr]);if(ir>qe&&ir<Ke){var Er=Y.tickText(It,ir,!1,String(lr[cr]));Pe&&(Er.minor=!0,Er.text=""),Ve.push(Er)}}}}return Ve=At(It,Ve),Ve}var Et=[2,5,10],Nt=[1,2,3,6,12],ne=[1,2,5,10,15,30],Gt=[1,2,3,7,14],pe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Vt=[-.301,0,.301,.699,1],ae=[15,30,45,90,180];function oe(It,Ut,Me){return Ut*T.roundUp(It/Ut,Me)}Y.autoTicks=function(It,Ut,Me){var ke;function qe(cr){return Math.pow(cr,Math.floor(Math.log(Ut)/Math.LN10))}if(It.type==="date"){It.tick0=T.dateTick0(It.calendar,0);var Ke=2*Ut;if(Ke>b)Ut/=b,ke=qe(10),It.dtick="M"+12*oe(Ut,ke,Et);else if(Ke>x)Ut/=x,It.dtick="M"+oe(Ut,1,Nt);else if(Ke>A){if(It.dtick=oe(Ut,A,It._hasDayOfWeekBreaks?[1,2,7,14]:Gt),!Me){var Je=Y.getTickFormat(It),Ve=It.ticklabelmode==="period";Ve&&(It._rawTick0=It.tick0),/%[uVW]/.test(Je)?It.tick0=T.dateTick0(It.calendar,2):It.tick0=T.dateTick0(It.calendar,1),Ve&&(It._dowTick0=It.tick0)}}else Ke>u?It.dtick=oe(Ut,u,Nt):Ke>m?It.dtick=oe(Ut,m,ne):Ke>M?It.dtick=oe(Ut,M,ne):(ke=qe(10),It.dtick=oe(Ut,ke,Et))}else if(It.type==="log"){It.tick0=0;var Pe=T.simpleMap(It.range,It.r2l);if(It._isMinor&&(Ut*=1.5),Ut>.7)It.dtick=Math.ceil(Ut);else if(Math.abs(Pe[1]-Pe[0])<1){var rr=1.5*Math.abs((Pe[1]-Pe[0])/Ut);Ut=Math.abs(Math.pow(10,Pe[1])-Math.pow(10,Pe[0]))/rr,ke=qe(10),It.dtick="L"+oe(Ut,ke,Et)}else It.dtick=Ut>.3?"D2":"D1"}else It.type==="category"||It.type==="multicategory"?(It.tick0=0,It.dtick=Math.ceil(Math.max(Ut,1))):Re(It)?(It.tick0=0,ke=1,It.dtick=oe(Ut,ke,ae)):(It.tick0=0,ke=qe(10),It.dtick=oe(Ut,ke,Et));if(It.dtick===0&&(It.dtick=1),!S(It.dtick)&&typeof It.dtick!="string"){var lr=It.dtick;throw It.dtick=1,"ax.dtick error: "+String(lr)}};function ce(It){var Ut=It.dtick;if(It._tickexponent=0,!S(Ut)&&typeof Ut!="string"&&(Ut=1),(It.type==="category"||It.type==="multicategory")&&(It._tickround=null),It.type==="date"){var Me=It.r2l(It.tick0),ke=It.l2r(Me).replace(/(^-|i)/g,""),qe=ke.length;if(String(Ut).charAt(0)==="M")qe>10||ke.substr(5)!=="01-01"?It._tickround="d":It._tickround=+Ut.substr(1)%12===0?"y":"m";else if(Ut>=A&&qe<=10||Ut>=A*15)It._tickround="d";else if(Ut>=m&&qe<=16||Ut>=u)It._tickround="M";else if(Ut>=M&&qe<=19||Ut>=m)It._tickround="S";else{var Ke=It.l2r(Me+Ut).replace(/^-/,"").length;It._tickround=Math.max(qe,Ke)-20,It._tickround<0&&(It._tickround=4)}}else if(S(Ut)||Ut.charAt(0)==="L"){var Je=It.range.map(It.r2d||Number);S(Ut)||(Ut=Number(Ut.substr(1))),It._tickround=2-Math.floor(Math.log(Ut)/Math.LN10+.01);var Ve=Math.max(Math.abs(Je[0]),Math.abs(Je[1])),Pe=Math.floor(Math.log(Ve)/Math.LN10+.01),rr=It.minexponent===void 0?3:It.minexponent;Math.abs(Pe)>rr&&(Dt(It.exponentformat)&&!dt(Pe)?It._tickexponent=3*Math.round((Pe-1)/3):It._tickexponent=Pe)}else It._tickround=null}Y.tickIncrement=function(It,Ut,Me,ke){var qe=Me?-1:1;if(S(Ut))return T.increment(It,qe*Ut);var Ke=Ut.charAt(0),Je=qe*Number(Ut.substr(1));if(Ke==="M")return T.incrementMonth(It,Je,ke);if(Ke==="L")return Math.log(Math.pow(10,It)+Je)/Math.LN10;if(Ke==="D"){var Ve=Ut==="D2"?Vt:pe,Pe=It+qe*.01,rr=T.roundUp(T.mod(Pe,1),Ve,Me);return Math.floor(Pe)+Math.log(E.round(Math.pow(10,rr),1))/Math.LN10}throw"unrecognized dtick "+String(Ut)},Y.tickFirst=function(It,Ut){var Me=It.r2l||Number,ke=T.simpleMap(It.range,Me,void 0,void 0,Ut),qe=ke[1]<ke[0],Ke=qe?Math.floor:Math.ceil,Je=H(ke)[0],Ve=It.dtick,Pe=Me(It.tick0);if(S(Ve)){var rr=Ke((Je-Pe)/Ve)*Ve+Pe;return(It.type==="category"||It.type==="multicategory")&&(rr=T.constrain(rr,0,It._categories.length-1)),rr}var lr=Ve.charAt(0),cr=Number(Ve.substr(1));if(lr==="M"){for(var ir=0,Er=Pe,kr,Mr,$r;ir<10;){if(kr=Y.tickIncrement(Er,Ve,qe,It.calendar),(kr-Je)*(Er-Je)<=0)return qe?Math.min(Er,kr):Math.max(Er,kr);Mr=(Je-(Er+kr)/2)/(kr-Er),$r=lr+(Math.abs(Math.round(Mr))||1)*cr,Er=Y.tickIncrement(Er,$r,Mr<0?!qe:qe,It.calendar),ir++}return T.error("tickFirst did not converge",It),Er}else{if(lr==="L")return Math.log(Ke((Math.pow(10,Je)-Pe)/cr)*cr+Pe)/Math.LN10;if(lr==="D"){var Gr=Ve==="D2"?Vt:pe,vn=T.roundUp(T.mod(Je,1),Gr,qe);return Math.floor(Je)+Math.log(E.round(Math.pow(10,vn),1))/Math.LN10}else throw"unrecognized dtick "+String(Ve)}},Y.tickText=function(It,Ut,Me,ke){var qe=le(It,Ut),Ke=It.tickmode==="array",Je=Me||Ke,Ve=It.type,Pe=Ve==="category"?It.d2l_noadd:It.d2l,rr,lr=function($r){var Gr=It.l2p($r);return Gr>=0&&Gr<=It._length?$r:null};if(Ke&&T.isArrayOrTypedArray(It.ticktext)){var cr=T.simpleMap(It.range,It.r2l),ir=(Math.abs(cr[1]-cr[0])-(It._lBreaks||0))/1e4;for(rr=0;rr<It.ticktext.length&&!(Math.abs(Ut-Pe(It.tickvals[rr]))<ir);rr++);if(rr<It.ticktext.length)return qe.text=String(It.ticktext[rr]),qe.xbnd=[lr(qe.x-.5),lr(qe.x+It.dtick-.5)],qe}function Er($r){if($r===void 0)return!0;if(Me)return $r==="none";var Gr={first:It._tmin,last:It._tmax}[$r];return $r!=="all"&&Ut!==Gr}var kr=Me?"never":It.exponentformat!=="none"&&Er(It.showexponent)?"hide":"";if(Ve==="date"?ye(It,qe,Me,Je):Ve==="log"?Tt(It,qe,Me,Je,kr):Ve==="category"?Ft(It,qe):Ve==="multicategory"?$t(It,qe,Me):Re(It)?Bt(It,qe,Me,Je,kr):Wt(It,qe,Me,Je,kr),ke||(It.tickprefix&&!Er(It.showtickprefix)&&(qe.text=It.tickprefix+qe.text),It.ticksuffix&&!Er(It.showticksuffix)&&(qe.text+=It.ticksuffix)),It.labelalias&&It.labelalias.hasOwnProperty(qe.text)){var Mr=It.labelalias[qe.text];typeof Mr=="string"&&(qe.text=Mr)}return(It.tickson==="boundaries"||It.showdividers)&&(qe.xbnd=[lr(qe.x-.5),lr(qe.x+It.dtick-.5)]),qe},Y.hoverLabelText=function(It,Ut,Me){Me&&(It=T.extendFlat({},It,{hoverformat:Me}));var ke=T.isArrayOrTypedArray(Ut)?Ut[0]:Ut,qe=T.isArrayOrTypedArray(Ut)?Ut[1]:void 0;if(qe!==void 0&&qe!==ke)return Y.hoverLabelText(It,ke,Me)+" - "+Y.hoverLabelText(It,qe,Me);var Ke=It.type==="log"&&ke<=0,Je=Y.tickText(It,It.c2l(Ke?-ke:ke),"hover").text;return Ke?ke===0?"0":w+Je:Je};function le(It,Ut,Me){var ke=It.tickfont||{};return{x:Ut,dx:0,dy:0,text:Me||"",fontSize:ke.size,font:ke.family,fontWeight:ke.weight,fontStyle:ke.style,fontVariant:ke.variant,fontColor:ke.color}}function ye(It,Ut,Me,ke){var qe=It._tickround,Ke=Me&&It.hoverformat||Y.getTickFormat(It);ke=!Ke&&ke,ke&&(S(qe)?qe=4:qe={y:"m",m:"d",d:"M",M:"S",S:4}[qe]);var Je=T.formatDate(Ut.x,Ke,qe,It._dateFormat,It.calendar,It._extraFormat),Ve,Pe=Je.indexOf(`
`);if(Pe!==-1&&(Ve=Je.substr(Pe+1),Je=Je.substr(0,Pe)),ke&&(Ve!==void 0&&(Je==="00:00:00"||Je==="00:00")?(Je=Ve,Ve=""):Je.length===8&&(Je=Je.replace(/:00$/,""))),Ve)if(Me)qe==="d"?Je+=", "+Ve:Je=Ve+(Je?", "+Je:"");else if(!It._inCalcTicks||It._prevDateHead!==Ve)It._prevDateHead=Ve,Je+="<br>"+Ve;else{var rr=We(It),lr=It._trueSide||It.side;(!rr&&lr==="top"||rr&&lr==="bottom")&&(Je+="<br> ")}Ut.text=Je}function Tt(It,Ut,Me,ke,qe){var Ke=It.dtick,Je=Ut.x,Ve=It.tickformat,Pe=typeof Ke=="string"&&Ke.charAt(0);if(qe==="never"&&(qe=""),ke&&Pe!=="L"&&(Ke="L3",Pe="L"),Ve||Pe==="L")Ut.text=ht(Math.pow(10,Je),It,qe,ke);else if(S(Ke)||Pe==="D"&&T.mod(Je+.01,1)<.1){var rr=Math.round(Je),lr=Math.abs(rr),cr=It.exponentformat;cr==="power"||Dt(cr)&&dt(rr)?(rr===0?Ut.text=1:rr===1?Ut.text="10":Ut.text="10<sup>"+(rr>1?"":w)+lr+"</sup>",Ut.fontSize*=1.25):(cr==="e"||cr==="E")&&lr>2?Ut.text="1"+cr+(rr>0?"+":w)+lr:(Ut.text=ht(Math.pow(10,Je),It,"","fakehover"),Ke==="D1"&&It._id.charAt(0)==="y"&&(Ut.dy-=Ut.fontSize/6))}else if(Pe==="D")Ut.text=String(Math.round(Math.pow(10,T.mod(Je,1)))),Ut.fontSize*=.75;else throw"unrecognized dtick "+String(Ke);if(It.dtick==="D1"){var ir=String(Ut.text).charAt(0);(ir==="0"||ir==="1")&&(It._id.charAt(0)==="y"?Ut.dx-=Ut.fontSize/4:(Ut.dy+=Ut.fontSize/2,Ut.dx+=(It.range[1]>It.range[0]?1:-1)*Ut.fontSize*(Je<0?.5:.25)))}}function Ft(It,Ut){var Me=It._categories[Math.round(Ut.x)];Me===void 0&&(Me=""),Ut.text=String(Me)}function $t(It,Ut,Me){var ke=Math.round(Ut.x),qe=It._categories[ke]||[],Ke=qe[1]===void 0?"":String(qe[1]),Je=qe[0]===void 0?"":String(qe[0]);Me?Ut.text=Je+" - "+Ke:(Ut.text=Ke,Ut.text2=Je)}function Wt(It,Ut,Me,ke,qe){qe==="never"?qe="":It.showexponent==="all"&&Math.abs(Ut.x/It.dtick)<1e-6&&(qe="hide"),Ut.text=ht(Ut.x,It,qe,ke)}function Bt(It,Ut,Me,ke,qe){if(It.thetaunit==="radians"&&!Me){var Ke=Ut.x/180;if(Ke===0)Ut.text="0";else{var Je=Mt(Ke);if(Je[1]>=100)Ut.text=ht(T.deg2rad(Ut.x),It,qe,ke);else{var Ve=Ut.x<0;Je[1]===1?Je[0]===1?Ut.text="\u03C0":Ut.text=Je[0]+"\u03C0":Ut.text=["<sup>",Je[0],"</sup>","\u2044","<sub>",Je[1],"</sub>","\u03C0"].join(""),Ve&&(Ut.text=w+Ut.text)}}}else Ut.text=ht(Ut.x,It,qe,ke)}function Mt(It){function Ut(Ve,Pe){return Math.abs(Ve-Pe)<=1e-6}function Me(Ve,Pe){return Ut(Pe,0)?Ve:Me(Pe,Ve%Pe)}function ke(Ve){for(var Pe=1;!Ut(Math.round(Ve*Pe)/Pe,Ve);)Pe*=10;return Pe}var qe=ke(It),Ke=It*qe,Je=Math.abs(Me(Ke,qe));return[Math.round(Ke/Je),Math.round(qe/Je)]}var St=["f","p","n","\u03BC","m","","k","M","G","T"];function Dt(It){return It==="SI"||It==="B"}function dt(It){return It>14||It<-15}function ht(It,Ut,Me,ke){var qe=It<0,Ke=Ut._tickround,Je=Me||Ut.exponentformat||"B",Ve=Ut._tickexponent,Pe=Y.getTickFormat(Ut),rr=Ut.separatethousands;if(ke){var lr={exponentformat:Je,minexponent:Ut.minexponent,dtick:Ut.showexponent==="none"?Ut.dtick:S(It)&&Math.abs(It)||1,range:Ut.showexponent==="none"?Ut.range.map(Ut.r2d):[0,It||1]};ce(lr),Ke=(Number(lr._tickround)||0)+4,Ve=lr._tickexponent,Ut.hoverformat&&(Pe=Ut.hoverformat)}if(Pe)return Ut._numFormat(Pe)(It).replace(/-/g,w);var cr=Math.pow(10,-Ke)/2;if(Je==="none"&&(Ve=0),It=Math.abs(It),It<cr)It="0",qe=!1;else{if(It+=cr,Ve&&(It*=Math.pow(10,-Ve),Ke+=Ve),Ke===0)It=String(Math.floor(It));else if(Ke<0){It=String(Math.round(It)),It=It.substr(0,It.length+Ke);for(var ir=Ke;ir<0;ir++)It+="0"}else{It=String(It);var Er=It.indexOf(".")+1;Er&&(It=It.substr(0,Er+Ke).replace(/\.?0+$/,""))}It=T.numSeparate(It,Ut._separators,rr)}if(Ve&&Je!=="hide"){Dt(Je)&&dt(Ve)&&(Je="power");var kr;Ve<0?kr=w+-Ve:Je!=="power"?kr="+"+Ve:kr=String(Ve),Je==="e"||Je==="E"?It+=Je+kr:Je==="power"?It+="\xD710<sup>"+kr+"</sup>":Je==="B"&&Ve===9?It+="B":Dt(Je)&&(It+=St[Ve/3+5])}return qe?w+It:It}Y.getTickFormat=function(It){var Ut;function Me(Pe){return typeof Pe!="string"?Pe:Number(Pe.replace("M",""))*x}function ke(Pe,rr){var lr=["L","D"];if(typeof Pe==typeof rr){if(typeof Pe=="number")return Pe-rr;var cr=lr.indexOf(Pe.charAt(0)),ir=lr.indexOf(rr.charAt(0));return cr===ir?Number(Pe.replace(/(L|D)/g,""))-Number(rr.replace(/(L|D)/g,"")):cr-ir}else return typeof Pe=="number"?1:-1}function qe(Pe,rr,lr){var cr=lr||function(kr){return kr},ir=rr[0],Er=rr[1];return(!ir&&typeof ir!="number"||cr(ir)<=cr(Pe))&&(!Er&&typeof Er!="number"||cr(Er)>=cr(Pe))}function Ke(Pe,rr){var lr=rr[0]===null,cr=rr[1]===null,ir=ke(Pe,rr[0])>=0,Er=ke(Pe,rr[1])<=0;return(lr||ir)&&(cr||Er)}var Je,Ve;if(It.tickformatstops&&It.tickformatstops.length>0)switch(It.type){case"date":case"linear":{for(Ut=0;Ut<It.tickformatstops.length;Ut++)if(Ve=It.tickformatstops[Ut],Ve.enabled&&qe(It.dtick,Ve.dtickrange,Me)){Je=Ve;break}break}case"log":{for(Ut=0;Ut<It.tickformatstops.length;Ut++)if(Ve=It.tickformatstops[Ut],Ve.enabled&&Ke(It.dtick,Ve.dtickrange)){Je=Ve;break}break}}return Je?Je.value:It.tickformat},Y.getSubplots=function(It,Ut){var Me=It._fullLayout._subplots,ke=Me.cartesian.concat(Me.gl2d||[]),qe=Ut?Y.findSubplotsWithAxis(ke,Ut):ke;return qe.sort(function(Ke,Je){var Ve=Ke.substr(1).split("y"),Pe=Je.substr(1).split("y");return Ve[0]===Pe[0]?+Ve[1]-+Pe[1]:+Ve[0]-+Pe[0]}),qe},Y.findSubplotsWithAxis=function(It,Ut){for(var Me=new RegExp(Ut._id.charAt(0)==="x"?"^"+Ut._id+"y":Ut._id+"$"),ke=[],qe=0;qe<It.length;qe++){var Ke=It[qe];Me.test(Ke)&&ke.push(Ke)}return ke},Y.makeClipPaths=function(It){var Ut=It._fullLayout;if(!Ut._hasOnlyLargeSploms){var Me={_offset:0,_length:Ut.width,_id:""},ke={_offset:0,_length:Ut.height,_id:""},qe=Y.list(It,"x",!0),Ke=Y.list(It,"y",!0),Je=[],Ve,Pe;for(Ve=0;Ve<qe.length;Ve++)for(Je.push({x:qe[Ve],y:ke}),Pe=0;Pe<Ke.length;Pe++)Ve===0&&Je.push({x:Me,y:Ke[Pe]}),Je.push({x:qe[Ve],y:Ke[Pe]});var rr=Ut._clips.selectAll(".axesclip").data(Je,function(lr){return lr.x._id+lr.y._id});rr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(lr){return"clip"+Ut._uid+lr.x._id+lr.y._id}).append("rect"),rr.exit().remove(),rr.each(function(lr){E.select(this).select("rect").attr({x:lr.x._offset||0,y:lr.y._offset||0,width:lr.x._length||1,height:lr.y._length||1})})}},Y.draw=function(It,Ut,Me){var ke=It._fullLayout;Ut==="redraw"&&ke._paper.selectAll("g.subplot").each(function(Pe){var rr=Pe[0],lr=ke._plots[rr];if(lr){var cr=lr.xaxis,ir=lr.yaxis;lr.xaxislayer.selectAll("."+cr._id+"tick").remove(),lr.yaxislayer.selectAll("."+ir._id+"tick").remove(),lr.xaxislayer.selectAll("."+cr._id+"tick2").remove(),lr.yaxislayer.selectAll("."+ir._id+"tick2").remove(),lr.xaxislayer.selectAll("."+cr._id+"divider").remove(),lr.yaxislayer.selectAll("."+ir._id+"divider").remove(),lr.minorGridlayer&&lr.minorGridlayer.selectAll("path").remove(),lr.gridlayer&&lr.gridlayer.selectAll("path").remove(),lr.zerolinelayer&&lr.zerolinelayer.selectAll("path").remove(),ke._infolayer.select(".g-"+cr._id+"title").remove(),ke._infolayer.select(".g-"+ir._id+"title").remove()}});var qe=!Ut||Ut==="redraw"?Y.listIds(It):Ut,Ke=Y.list(It),Je=Ke.filter(function(Pe){return Pe.autoshift}).map(function(Pe){return Pe.overlaying});qe.map(function(Pe){var rr=Y.getFromId(It,Pe);if(rr.tickmode==="sync"&&rr.overlaying){var lr=qe.findIndex(function(cr){return cr===rr.overlaying});lr>=0&&qe.unshift(qe.splice(lr,1).shift())}});var Ve={false:{left:0,right:0}};return T.syncOrAsync(qe.map(function(Pe){return function(){if(Pe){var rr=Y.getFromId(It,Pe);Me||(Me={}),Me.axShifts=Ve,Me.overlayingShiftedAx=Je;var lr=Y.drawOne(It,rr,Me);return rr._shiftPusher&&Ue(rr,rr._fullDepth||0,Ve,!0),rr._r=rr.range.slice(),rr._rl=T.simpleMap(rr._r,rr.r2l),lr}}}))},Y.drawOne=function(It,Ut,Me){Me=Me||{};var ke=Me.axShifts||{},qe=Me.overlayingShiftedAx||[],Ke,Je,Ve;Ut.setScale();var Pe=It._fullLayout,rr=Ut._id,lr=rr.charAt(0),cr=Y.counterLetter(rr),ir=Pe._plots[Ut._mainSubplot];if(!ir)return;if(Ut._shiftPusher=Ut.autoshift||qe.indexOf(Ut._id)!==-1||qe.indexOf(Ut.overlaying)!==-1,Ut._shiftPusher&Ut.anchor==="free"){var Er=Ut.linewidth/2||0;Ut.ticks==="inside"&&(Er+=Ut.ticklen),Ue(Ut,Er,ke,!0),Ue(Ut,Ut.shift||0,ke,!1)}(Me.skipTitle!==!0||Ut._shift===void 0)&&(Ut._shift=ar(Ut,ke));var kr=ir[lr+"axislayer"],Mr=Ut._mainLinePosition,$r=Mr+=Ut._shift,Gr=Ut._mainMirrorPosition,vn=Ut._vals=Y.calcTicks(Ut),yn=[Ut.mirror,$r,Gr].join("_");for(Ke=0;Ke<vn.length;Ke++)vn[Ke].axInfo=yn;Ut._selections={},Ut._tickAngles&&(Ut._prevTickAngles=Ut._tickAngles),Ut._tickAngles={},Ut._depth=null;var hr={};function Lr(Fr){var Wr=rr+(Fr||"tick");return hr[Wr]||(hr[Wr]=re(Ut,Wr,$r)),hr[Wr]}if(Ut.visible){var Ir=Y.makeTransTickFn(Ut),Rr=Y.makeTransTickLabelFn(Ut),on,an,gn=Ut.ticks==="inside",Mn=Ut.ticks==="outside";if(Ut.tickson==="boundaries"){var Pn=zt(Ut,vn);an=Y.clipEnds(Ut,Pn),on=gn?an:Pn}else an=Y.clipEnds(Ut,vn),on=gn&&Ut.ticklabelmode!=="period"?an:vn;var Kn=Ut._gridVals=an,ai=te(Ut,vn);if(!Pe._hasOnlyLargeSploms){var ui=Ut._subplotsWith,ni={};for(Ke=0;Ke<ui.length;Ke++){Je=ui[Ke],Ve=Pe._plots[Je];var Cn=Ve[cr+"axis"],ur=Cn._mainAxis._id;if(!ni[ur]){ni[ur]=1;var qr=lr==="x"?"M0,"+Cn._offset+"v"+Cn._length:"M"+Cn._offset+",0h"+Cn._length;Y.drawGrid(It,Ut,{vals:Kn,counterAxis:Cn,layer:Ve.gridlayer.select("."+rr),minorLayer:Ve.minorGridlayer.select("."+rr),path:qr,transFn:Ir}),Y.drawZeroLine(It,Ut,{counterAxis:Cn,layer:Ve.zerolinelayer,path:qr,transFn:Ir})}}}var Ur,nn=Y.getTickSigns(Ut),En=Y.getTickSigns(Ut,"minor");if(Ut.ticks||Ut.minor&&Ut.minor.ticks){var sn=Y.makeTickPath(Ut,$r,nn[2]),An=Y.makeTickPath(Ut,$r,En[2],{minor:!0}),Ln,qn,ii,Li;if(Ut._anchorAxis&&Ut.mirror&&Ut.mirror!==!0?(Ln=Y.makeTickPath(Ut,Gr,nn[3]),qn=Y.makeTickPath(Ut,Gr,En[3],{minor:!0}),ii=sn+Ln,Li=An+qn):(Ln="",qn="",ii=sn,Li=An),Ut.showdividers&&Mn&&Ut.tickson==="boundaries"){var dr={};for(Ke=0;Ke<ai.length;Ke++)dr[ai[Ke].x]=1;Ur=function(Fr){return dr[Fr.x]?Ln:ii}}else Ur=function(Fr){return Fr.minor?Li:ii}}if(Y.drawTicks(It,Ut,{vals:on,layer:kr,path:Ur,transFn:Ir}),Ut.mirror==="allticks"){var Sr=Object.keys(Ut._linepositions||{});for(Ke=0;Ke<Sr.length;Ke++){Je=Sr[Ke],Ve=Pe._plots[Je];var gr=Ut._linepositions[Je]||[],Pr=gr[0],fn=gr[1],wn=gr[2],un=Y.makeTickPath(Ut,Pr,wn?nn[0]:En[0],{minor:wn})+Y.makeTickPath(Ut,fn,wn?nn[1]:En[1],{minor:wn});Y.drawTicks(It,Ut,{vals:on,layer:Ve[lr+"axislayer"],path:un,transFn:Ir})}}var tn=[];if(tn.push(function(){return Y.drawLabels(It,Ut,{vals:vn,layer:kr,plotinfo:Ve,transFn:Rr,labelFns:Y.makeLabelFns(Ut,$r)})}),Ut.type==="multicategory"){var xr={x:2,y:10}[lr];tn.push(function(){var Fr={x:"height",y:"width"}[lr],Wr=Lr()[Fr]+xr+(Ut._tickAngles[rr+"tick"]?Ut.tickfont.size*J:0);return Y.drawLabels(It,Ut,{vals:qt(Ut,vn),layer:kr,cls:rr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Ir,labelFns:Y.makeLabelFns(Ut,$r+Wr*nn[4])})}),tn.push(function(){return Ut._depth=nn[4]*(Lr("tick2")[Ut.side]-$r),be(It,Ut,{vals:ai,layer:kr,path:Y.makeTickPath(Ut,$r,nn[4],{len:Ut._depth}),transFn:Ir})})}else Ut.title.hasOwnProperty("standoff")&&tn.push(function(){Ut._depth=nn[4]*(Lr()[Ut.side]-$r)});var jr=L.getComponentMethod("rangeslider","isVisible")(Ut);return!Me.skipTitle&&!(jr&&Ut.side==="bottom")&&tn.push(function(){return pr(It,Ut)}),tn.push(function(){var Fr=Ut.side.charAt(0),Wr=it[Ut.side].charAt(0),mn=Y.getPxPosition(It,Ut),kn=Mn?Ut.ticklen:0,xn,Rn,Sn,ri;(Ut.automargin||jr||Ut._shiftPusher)&&(Ut.type==="multicategory"?xn=Lr("tick2"):(xn=Lr(),lr==="x"&&Fr==="b"&&(Ut._depth=Math.max(xn.width>0?xn.bottom-mn:0,kn))));var $n=0,oi=0;if(Ut._shiftPusher&&($n=Math.max(kn,xn.height>0?Fr==="l"?mn-xn.left:xn.right-mn:0),Ut.title.text!==Pe._dfltTitle[lr]&&(oi=(Ut._titleStandoff||0)+(Ut._titleScoot||0),Fr==="l"&&(oi+=Ne(Ut))),Ut._fullDepth=Math.max($n,oi)),Ut.automargin){Rn={x:0,y:0,r:0,l:0,t:0,b:0};var _i=[0,1],ta=typeof Ut._shift=="number"?Ut._shift:0;if(lr==="x"){if(Fr==="b"?Rn[Fr]=Ut._depth:(Rn[Fr]=Ut._depth=Math.max(xn.width>0?mn-xn.top:0,kn),_i.reverse()),xn.width>0){var Gi=xn.right-(Ut._offset+Ut._length);Gi>0&&(Rn.xr=1,Rn.r=Gi);var oo=Ut._offset-xn.left;oo>0&&(Rn.xl=0,Rn.l=oo)}}else if(Fr==="l"?(Ut._depth=Math.max(xn.height>0?mn-xn.left:0,kn),Rn[Fr]=Ut._depth-ta):(Ut._depth=Math.max(xn.height>0?xn.right-mn:0,kn),Rn[Fr]=Ut._depth+ta,_i.reverse()),xn.height>0){var $a=xn.bottom-(Ut._offset+Ut._length);$a>0&&(Rn.yb=0,Rn.b=$a);var za=Ut._offset-xn.top;za>0&&(Rn.yt=1,Rn.t=za)}Rn[cr]=Ut.anchor==="free"?Ut.position:Ut._anchorAxis.domain[_i[0]],Ut.title.text!==Pe._dfltTitle[lr]&&(Rn[Fr]+=Ne(Ut)+(Ut.title.standoff||0)),Ut.mirror&&Ut.anchor!=="free"&&(Sn={x:0,y:0,r:0,l:0,t:0,b:0},Sn[Wr]=Ut.linewidth,Ut.mirror&&Ut.mirror!==!0&&(Sn[Wr]+=kn),Ut.mirror===!0||Ut.mirror==="ticks"?Sn[cr]=Ut._anchorAxis.domain[_i[1]]:(Ut.mirror==="all"||Ut.mirror==="allticks")&&(Sn[cr]=[Ut._counterDomainMin,Ut._counterDomainMax][_i[1]]))}jr&&(ri=L.getComponentMethod("rangeslider","autoMarginOpts")(It,Ut)),typeof Ut.automargin=="string"&&(bt(Rn,Ut.automargin),bt(Sn,Ut.automargin)),i.autoMargin(It,$e(Ut),Rn),i.autoMargin(It,Kt(Ut),Sn),i.autoMargin(It,ie(Ut),ri)}),T.syncOrAsync(tn)}};function bt(It,Ut){if(It){var Me=Object.keys(N).reduce(function(ke,qe){return Ut.indexOf(qe)!==-1&&N[qe].forEach(function(Ke){ke[Ke]=1}),ke},{});Object.keys(It).forEach(function(ke){Me[ke]||(ke.length===1?It[ke]=0:delete It[ke])})}}function zt(It,Ut){var Me=[],ke,qe=function(Ke,Je){var Ve=Ke.xbnd[Je];Ve!==null&&Me.push(T.extendFlat({},Ke,{x:Ve}))};if(Ut.length){for(ke=0;ke<Ut.length;ke++)qe(Ut[ke],0);qe(Ut[ke-1],1)}return Me}function qt(It,Ut){for(var Me=[],ke={},qe=0;qe<Ut.length;qe++){var Ke=Ut[qe];ke[Ke.text2]?ke[Ke.text2].push(Ke.x):ke[Ke.text2]=[Ke.x]}for(var Je in ke)Me.push(le(It,T.interp(ke[Je],.5),Je));return Me}function te(It,Ut){var Me=[],ke,qe,Ke=Ut.length&&Ut[Ut.length-1].x<Ut[0].x,Je=function(Pe,rr){var lr=Pe.xbnd[rr];lr!==null&&Me.push(T.extendFlat({},Pe,{x:lr}))};if(It.showdividers&&Ut.length){for(ke=0;ke<Ut.length;ke++){var Ve=Ut[ke];Ve.text2!==qe&&Je(Ve,Ke?1:0),qe=Ve.text2}Je(Ut[ke-1],Ke?0:1)}return Me}function re(It,Ut,Me){var ke,qe,Ke,Je;if(It._selections[Ut].size())ke=1/0,qe=-1/0,Ke=1/0,Je=-1/0,It._selections[Ut].each(function(){var Pe=vr(this),rr=l.bBox(Pe.node().parentNode);ke=Math.min(ke,rr.top),qe=Math.max(qe,rr.bottom),Ke=Math.min(Ke,rr.left),Je=Math.max(Je,rr.right)});else{var Ve=Y.makeLabelFns(It,Me);ke=qe=Ve.yFn({dx:0,dy:0,fontSize:0}),Ke=Je=Ve.xFn({dx:0,dy:0,fontSize:0})}return{top:ke,bottom:qe,left:Ke,right:Je,height:qe-ke,width:Je-Ke}}Y.getTickSigns=function(It,Ut){var Me=It._id.charAt(0),ke={x:"top",y:"right"}[Me],qe=It.side===ke?1:-1,Ke=[-1,1,qe,-qe],Je=Ut?(It.minor||{}).ticks:It.ticks;return Je!=="inside"==(Me==="x")&&(Ke=Ke.map(function(Ve){return-Ve})),It.side&&Ke.push({l:-1,t:-1,r:1,b:1}[It.side.charAt(0)]),Ke},Y.makeTransTickFn=function(It){return It._id.charAt(0)==="x"?function(Ut){return v(It._offset+It.l2p(Ut.x),0)}:function(Ut){return v(0,It._offset+It.l2p(Ut.x))}},Y.makeTransTickLabelFn=function(It){var Ut=Be(It),Me=Ut[0],ke=Ut[1];return It._id.charAt(0)==="x"?function(qe){return v(Me+It._offset+It.l2p(Ye(qe)),ke)}:function(qe){return v(ke,Me+It._offset+It.l2p(Ye(qe)))}};function Ye(It){return It.periodX!==void 0?It.periodX:It.x}function Be(It){var Ut=It.ticklabelposition||"",Me=function(Er){return Ut.indexOf(Er)!==-1},ke=Me("top"),qe=Me("left"),Ke=Me("right"),Je=Me("bottom"),Ve=Me("inside"),Pe=Je||qe||ke||Ke;if(!Pe&&!Ve)return[0,0];var rr=It.side,lr=Pe?(It.tickwidth||0)/2:0,cr=nt,ir=It.tickfont?It.tickfont.size:12;return(Je||ke)&&(lr+=ir*V,cr+=(It.linewidth||0)/2),(qe||Ke)&&(lr+=(It.linewidth||0)/2,cr+=nt),Ve&&rr==="top"&&(cr-=ir*(1-V)),(qe||ke)&&(lr=-lr),(rr==="bottom"||rr==="right")&&(cr=-cr),[Pe?lr:0,Ve?cr:0]}Y.makeTickPath=function(It,Ut,Me,ke){ke||(ke={});var qe=ke.minor;if(qe&&!It.minor)return"";var Ke=ke.len!==void 0?ke.len:qe?It.minor.ticklen:It.ticklen,Je=It._id.charAt(0),Ve=(It.linewidth||1)/2;return Je==="x"?"M0,"+(Ut+Ve*Me)+"v"+Ke*Me:"M"+(Ut+Ve*Me)+",0h"+Ke*Me},Y.makeLabelFns=function(It,Ut,Me){var ke=It.ticklabelposition||"",qe=function(Pn){return ke.indexOf(Pn)!==-1},Ke=qe("top"),Je=qe("left"),Ve=qe("right"),Pe=qe("bottom"),rr=Pe||Je||Ke||Ve,lr=qe("inside"),cr=ke==="inside"&&It.ticks==="inside"||!lr&&It.ticks==="outside"&&It.tickson!=="boundaries",ir=0,Er=0,kr=cr?It.ticklen:0;if(lr?kr*=-1:rr&&(kr=0),cr&&(ir+=kr,Me)){var Mr=T.deg2rad(Me);ir=kr*Math.cos(Mr)+1,Er=kr*Math.sin(Mr)}It.showticklabels&&(cr||It.showline)&&(ir+=.2*It.tickfont.size),ir+=(It.linewidth||1)/2*(lr?-1:1);var $r={labelStandoff:ir,labelShift:Er},Gr,vn,yn,hr,Lr=0,Ir=It.side,Rr=It._id.charAt(0),on=It.tickangle,an;if(Rr==="x")an=!lr&&Ir==="bottom"||lr&&Ir==="top",hr=an?1:-1,lr&&(hr*=-1),Gr=Er*hr,vn=Ut+ir*hr,yn=an?1:-.2,Math.abs(on)===90&&(lr?yn+=q:on===-90&&Ir==="bottom"?yn=V:on===90&&Ir==="top"?yn=q:yn=.5,Lr=q/2*(on/90)),$r.xFn=function(Pn){return Pn.dx+Gr+Lr*Pn.fontSize},$r.yFn=function(Pn){return Pn.dy+vn+Pn.fontSize*yn},$r.anchorFn=function(Pn,Kn){if(rr){if(Je)return"end";if(Ve)return"start"}return!S(Kn)||Kn===0||Kn===180?"middle":Kn*hr<0!==lr?"end":"start"},$r.heightFn=function(Pn,Kn,ai){return Kn<-60||Kn>60?-.5*ai:It.side==="top"!==lr?-ai:0};else if(Rr==="y"){if(an=!lr&&Ir==="left"||lr&&Ir==="right",hr=an?1:-1,lr&&(hr*=-1),Gr=ir,vn=Er*hr,yn=0,!lr&&Math.abs(on)===90&&(on===-90&&Ir==="left"||on===90&&Ir==="right"?yn=V:yn=.5),lr){var gn=S(on)?+on:0;if(gn!==0){var Mn=T.deg2rad(gn);Lr=Math.abs(Math.sin(Mn))*V*hr,yn=0}}$r.xFn=function(Pn){return Pn.dx+Ut-(Gr+Pn.fontSize*yn)*hr+Lr*Pn.fontSize},$r.yFn=function(Pn){return Pn.dy+vn+Pn.fontSize*q},$r.anchorFn=function(Pn,Kn){return S(Kn)&&Math.abs(Kn)===90?"middle":an?"end":"start"},$r.heightFn=function(Pn,Kn,ai){return It.side==="right"&&(Kn*=-1),Kn<-30?-ai:Kn<30?-.5*ai:0}}return $r};function ge(It){return[It.text,It.x,It.axInfo,It.font,It.fontSize,It.fontColor].join("_")}Y.drawTicks=function(It,Ut,Me){Me=Me||{};var ke=Ut._id+"tick",qe=[].concat(Ut.minor&&Ut.minor.ticks?Me.vals.filter(function(Je){return Je.minor&&!Je.noTick}):[]).concat(Ut.ticks?Me.vals.filter(function(Je){return!Je.minor&&!Je.noTick}):[]),Ke=Me.layer.selectAll("path."+ke).data(qe,ge);Ke.exit().remove(),Ke.enter().append("path").classed(ke,1).classed("ticks",1).classed("crisp",Me.crisp!==!1).each(function(Je){return e.stroke(E.select(this),Je.minor?Ut.minor.tickcolor:Ut.tickcolor)}).style("stroke-width",function(Je){return l.crispRound(It,Je.minor?Ut.minor.tickwidth:Ut.tickwidth,1)+"px"}).attr("d",Me.path).style("display",null),er(Ut,[F]),Ke.attr("transform",Me.transFn)},Y.drawGrid=function(It,Ut,Me){if(Me=Me||{},Ut.tickmode!=="sync"){var ke=Ut._id+"grid",qe=Ut.minor&&Ut.minor.showgrid,Ke=qe?Me.vals.filter(function(Gr){return Gr.minor}):[],Je=Ut.showgrid?Me.vals.filter(function(Gr){return!Gr.minor}):[],Ve=Me.counterAxis;if(Ve&&Y.shouldShowZeroLine(It,Ut,Ve))for(var Pe=Ut.tickmode==="array",rr=0;rr<Je.length;rr++){var lr=Je[rr].x;if(Pe?!lr:Math.abs(lr)<Ut.dtick/100)if(Je=Je.slice(0,rr).concat(Je.slice(rr+1)),Pe)rr--;else break}Ut._gw=l.crispRound(It,Ut.gridwidth,1);for(var cr=qe?l.crispRound(It,Ut.minor.gridwidth,1):0,ir=Me.layer,Er=Me.minorLayer,kr=1;kr>=0;kr--){var Mr=kr?ir:Er;if(Mr){var $r=Mr.selectAll("path."+ke).data(kr?Je:Ke,ge);$r.exit().remove(),$r.enter().append("path").classed(ke,1).classed("crisp",Me.crisp!==!1),$r.attr("transform",Me.transFn).attr("d",Me.path).each(function(Gr){return e.stroke(E.select(this),Gr.minor?Ut.minor.gridcolor:Ut.gridcolor||"#ddd")}).style("stroke-dasharray",function(Gr){return l.dashStyle(Gr.minor?Ut.minor.griddash:Ut.griddash,Gr.minor?Ut.minor.gridwidth:Ut.gridwidth)}).style("stroke-width",function(Gr){return(Gr.minor?cr:Ut._gw)+"px"}).style("display",null),typeof Me.path=="function"&&$r.attr("d",Me.path)}}er(Ut,[D,P])}},Y.drawZeroLine=function(It,Ut,Me){Me=Me||Me;var ke=Ut._id+"zl",qe=Y.shouldShowZeroLine(It,Ut,Me.counterAxis),Ke=Me.layer.selectAll("path."+ke).data(qe?[{x:0,id:Ut._id}]:[]);Ke.exit().remove(),Ke.enter().append("path").classed(ke,1).classed("zl",1).classed("crisp",Me.crisp!==!1).each(function(){Me.layer.selectAll("path").sort(function(Je,Ve){return G(Je.id,Ve.id)})}),Ke.attr("transform",Me.transFn).attr("d",Me.path).call(e.stroke,Ut.zerolinecolor||e.defaultLine).style("stroke-width",l.crispRound(It,Ut.zerolinewidth,Ut._gw||1)+"px").style("display",null),er(Ut,[O])},Y.drawLabels=function(It,Ut,Me){Me=Me||{};var ke=It._fullLayout,qe=Ut._id,Ke=Me.cls||qe+"tick",Je=Me.vals.filter(function(ur){return ur.text}),Ve=Me.labelFns,Pe=Me.secondary?0:Ut.tickangle,rr=(Ut._prevTickAngles||{})[Ke],lr=Me.layer.selectAll("g."+Ke).data(Ut.showticklabels?Je:[],ge),cr=[];lr.enter().append("g").classed(Ke,1).append("text").attr("text-anchor","middle").each(function(ur){var qr=E.select(this),Ur=It._promises.length;qr.call(d.positionText,Ve.xFn(ur),Ve.yFn(ur)).call(l.font,{family:ur.font,size:ur.fontSize,color:ur.fontColor,weight:ur.fontWeight,style:ur.fontStyle,variant:ur.fontVariant}).text(ur.text).call(d.convertToTspans,It),It._promises[Ur]?cr.push(It._promises.pop().then(function(){ir(qr,Pe)})):ir(qr,Pe)}),er(Ut,[R]),lr.exit().remove(),Me.repositionOnUpdate&&lr.each(function(ur){E.select(this).select("text").call(d.positionText,Ve.xFn(ur),Ve.yFn(ur))});function ir(ur,qr){ur.each(function(Ur){var nn=E.select(this),En=nn.select(".text-math-group"),sn=Ve.anchorFn(Ur,qr),An=Me.transFn.call(nn.node(),Ur)+(S(qr)&&+qr!=0?" rotate("+qr+","+Ve.xFn(Ur)+","+(Ve.yFn(Ur)-Ur.fontSize/2)+")":""),Ln=d.lineCount(nn),qn=J*Ur.fontSize,ii=Ve.heightFn(Ur,S(qr)?+qr:0,(Ln-1)*qn);if(ii&&(An+=v(0,ii)),En.empty()){var Li=nn.select("text");Li.attr({transform:An,"text-anchor":sn}),Li.style("opacity",1),Ut._adjustTickLabelsOverflow&&Ut._adjustTickLabelsOverflow()}else{var dr=l.bBox(En.node()).width,Sr=dr*{end:-.5,start:.5}[sn];En.attr("transform",An+v(Sr,0))}})}Ut._adjustTickLabelsOverflow=function(){var ur=Ut.ticklabeloverflow;if(!(!ur||ur==="allow")){var qr=ur.indexOf("hide")!==-1,Ur=Ut._id.charAt(0)==="x",nn=0,En=Ur?It._fullLayout.width:It._fullLayout.height;if(ur.indexOf("domain")!==-1){var sn=T.simpleMap(Ut.range,Ut.r2l);nn=Ut.l2p(sn[0])+Ut._offset,En=Ut.l2p(sn[1])+Ut._offset}var An=Math.min(nn,En),Ln=Math.max(nn,En),qn=Ut.side,ii=1/0,Li=-1/0;lr.each(function(Pr){var fn=E.select(this),wn=fn.select(".text-math-group");if(wn.empty()){var un=l.bBox(fn.node()),tn=0;Ur?(un.right>Ln||un.left<An)&&(tn=1):(un.bottom>Ln||un.top+(Ut.tickangle?0:Pr.fontSize/4)<An)&&(tn=1);var xr=fn.select("text");tn?qr&&xr.style("opacity",0):(xr.style("opacity",1),qn==="bottom"||qn==="right"?ii=Math.min(ii,Ur?un.top:un.left):ii=-1/0,qn==="top"||qn==="left"?Li=Math.max(Li,Ur?un.bottom:un.right):Li=1/0)}});for(var dr in ke._plots){var Sr=ke._plots[dr];if(!(Ut._id!==Sr.xaxis._id&&Ut._id!==Sr.yaxis._id)){var gr=Ur?Sr.yaxis:Sr.xaxis;gr&&(gr["_visibleLabelMin_"+Ut._id]=ii,gr["_visibleLabelMax_"+Ut._id]=Li)}}}},Ut._hideCounterAxisInsideTickLabels=function(ur){var qr=Ut._id.charAt(0)==="x",Ur=[];for(var nn in ke._plots){var En=ke._plots[nn];Ut._id!==En.xaxis._id&&Ut._id!==En.yaxis._id||Ur.push(qr?En.yaxis:En.xaxis)}Ur.forEach(function(sn,An){sn&&We(sn)&&(ur||[O,P,D,F,R]).forEach(function(Ln){var qn=Ln.K==="tick"&&Ln.L==="text"&&Ut.ticklabelmode==="period",ii=ke._plots[Ut._mainSubplot],Li;Ln.K===O.K?Li=ii.zerolinelayer.selectAll("."+Ut._id+"zl"):Ln.K===P.K?Li=ii.minorGridlayer.selectAll("."+Ut._id):Ln.K===D.K?Li=ii.gridlayer.selectAll("."+Ut._id):Li=ii[Ut._id.charAt(0)+"axislayer"],Li.each(function(){var dr=E.select(this);Ln.L&&(dr=dr.selectAll(Ln.L)),dr.each(function(Sr){var gr=Ut.l2p(qn?Ye(Sr):Sr.x)+Ut._offset,Pr=E.select(this);gr<Ut["_visibleLabelMax_"+sn._id]&&gr>Ut["_visibleLabelMin_"+sn._id]?Pr.style("display","none"):Ln.K==="tick"&&!An&&Pr.style("display",null)})})})})},ir(lr,rr+1?rr:Pe);function Er(){return cr.length&&Promise.all(cr)}var kr=null;function Mr(){if(ir(lr,Pe),Je.length&&Ut.autotickangles&&(Ut.type!=="log"||String(Ut.dtick).charAt(0)!=="D")){kr=Ut.autotickangles[0];var ur=0,qr=[],Ur,nn=1;lr.each(function(xn){ur=Math.max(ur,xn.fontSize);var Rn=Ut.l2p(xn.x),Sn=vr(this),ri=l.bBox(Sn.node());nn=Math.max(nn,d.lineCount(Sn)),qr.push({top:0,bottom:10,height:10,left:Rn-ri.width/2,right:Rn+ri.width/2+2,width:ri.width+2})});var En=(Ut.tickson==="boundaries"||Ut.showdividers)&&!Me.secondary,sn=Je.length,An=Math.abs((Je[sn-1].x-Je[0].x)*Ut._m)/(sn-1),Ln=En?An/2:An,qn=En?Ut.ticklen:ur*1.25*nn,ii=Math.sqrt(Math.pow(Ln,2)+Math.pow(qn,2)),Li=Ln/ii,dr=Ut.autotickangles.map(function(xn){return xn*Math.PI/180}),Sr=dr.find(function(xn){return Math.abs(Math.cos(xn))<=Li});Sr===void 0&&(Sr=dr.reduce(function(xn,Rn){return Math.abs(Math.cos(xn))<Math.abs(Math.cos(Rn))?xn:Rn},dr[0]));var gr=Sr*(180/Math.PI);if(En){var Pr=2;for(Ut.ticks&&(Pr+=Ut.tickwidth/2),Ur=0;Ur<qr.length;Ur++){var fn=Je[Ur].xbnd,wn=qr[Ur];if(fn[0]!==null&&wn.left-Ut.l2p(fn[0])<Pr||fn[1]!==null&&Ut.l2p(fn[1])-wn.right<Pr){kr=gr;break}}}else{var un=Ut.ticklabelposition||"",tn=function(xn){return un.indexOf(xn)!==-1},xr=tn("top"),jr=tn("left"),Fr=tn("right"),Wr=tn("bottom"),mn=Wr||jr||xr||Fr,kn=mn?(Ut.tickwidth||0)+2*nt:0;for(Ur=0;Ur<qr.length-1;Ur++)if(T.bBoxIntersect(qr[Ur],qr[Ur+1],kn)){kr=gr;break}}kr&&ir(lr,kr)}}Ut._selections&&(Ut._selections[Ke]=lr);var $r=[Er];Ut.automargin&&ke._redrawFromAutoMarginCount&&rr===90?(kr=rr,$r.push(function(){ir(lr,rr)})):$r.push(Mr),Ut._tickAngles&&$r.push(function(){Ut._tickAngles[Ke]=kr===null?S(Pe)?Pe:0:kr});var Gr=function(){var ur=0,qr=0;return lr.each(function(Ur,nn){var En=vr(this),sn=En.select(".text-math-group");if(sn.empty()){var An;Ut._vals[nn]&&(An=Ut._vals[nn].bb||l.bBox(En.node()),Ut._vals[nn].bb=An),ur=Math.max(ur,An.width),qr=Math.max(qr,An.height)}}),{labelsMaxW:ur,labelsMaxH:qr}},vn=Ut._anchorAxis;if(vn&&(vn.autorange||vn.insiderange)&&We(Ut)&&!rt(ke,Ut._id)&&(ke._insideTickLabelsUpdaterange||(ke._insideTickLabelsUpdaterange={}),vn.autorange&&(ke._insideTickLabelsUpdaterange[vn._name+".autorange"]=vn.autorange,$r.push(Gr)),vn.insiderange)){var yn=Gr(),hr=Ut._id.charAt(0)==="y"?yn.labelsMaxW:yn.labelsMaxH;hr+=2*nt,Ut.ticklabelposition==="inside"&&(hr+=Ut.ticklen||0);var Lr=Ut.side==="right"||Ut.side==="top"?1:-1,Ir=Lr===1?1:0,Rr=Lr===1?0:1,on=[];on[Rr]=vn.range[Rr];var an=vn.range,gn=vn.r2p(an[Ir]),Mn=vn.r2p(an[Rr]),Pn=ke._insideTickLabelsUpdaterange[vn._name+".range"];if(Pn){var Kn=vn.r2p(Pn[Ir]),ai=vn.r2p(Pn[Rr]),ui=Lr*(Ut._id.charAt(0)==="y"?1:-1);ui*gn<ui*Kn&&(gn=Kn,on[Ir]=an[Ir]=Pn[Ir]),ui*Mn>ui*ai&&(Mn=ai,on[Rr]=an[Rr]=Pn[Rr])}var ni=Math.abs(Mn-gn);ni-hr>0?(ni-=hr,hr*=1+hr/ni):hr=0,Ut._id.charAt(0)!=="y"&&(hr=-hr),on[Ir]=vn.p2r(vn.r2p(an[Ir])+Lr*hr),vn.autorange==="min"||vn.autorange==="max reversed"?(on[0]=null,vn._rangeInitial0=void 0,vn._rangeInitial1=void 0):(vn.autorange==="max"||vn.autorange==="min reversed")&&(on[1]=null,vn._rangeInitial0=void 0,vn._rangeInitial1=void 0),ke._insideTickLabelsUpdaterange[vn._name+".range"]=on}var Cn=T.syncOrAsync($r);return Cn&&Cn.then&&It._promises.push(Cn),Cn};function be(It,Ut,Me){var ke=Ut._id+"divider",qe=Me.vals,Ke=Me.layer.selectAll("path."+ke).data(qe,ge);Ke.exit().remove(),Ke.enter().insert("path",":first-child").classed(ke,1).classed("crisp",1).call(e.stroke,Ut.dividercolor).style("stroke-width",l.crispRound(It,Ut.dividerwidth,1)+"px"),Ke.attr("transform",Me.transFn).attr("d",Me.path)}Y.getPxPosition=function(It,Ut){var Me=It._fullLayout._size,ke=Ut._id.charAt(0),qe=Ut.side,Ke;if(Ut.anchor!=="free"?Ke=Ut._anchorAxis:ke==="x"?Ke={_offset:Me.t+(1-(Ut.position||0))*Me.h,_length:0}:ke==="y"&&(Ke={_offset:Me.l+(Ut.position||0)*Me.w+Ut._shift,_length:0}),qe==="top"||qe==="left")return Ke._offset;if(qe==="bottom"||qe==="right")return Ke._offset+Ke._length};function Ne(It){var Ut=It.title.font.size,Me=(It.title.text.match(d.BR_TAG_ALL)||[]).length;return It.title.hasOwnProperty("standoff")?Ut*(V+Me*J):Me?Ut*(Me+1)*J:Ut}function pr(It,Ut){var Me=It._fullLayout,ke=Ut._id,qe=ke.charAt(0),Ke=Ut.title.font.size,Je,Ve=(Ut.title.text.match(d.BR_TAG_ALL)||[]).length;if(Ut.title.hasOwnProperty("standoff"))Ut.side==="bottom"||Ut.side==="right"?Je=Ut._depth+Ut.title.standoff+Ke*V:(Ut.side==="top"||Ut.side==="left")&&(Je=Ut._depth+Ut.title.standoff+Ke*(q+Ve*J));else{var Pe=We(Ut);if(Ut.type==="multicategory")Je=Ut._depth;else{var rr=1.5*Ke;Pe&&(rr=.5*Ke,Ut.ticks==="outside"&&(rr+=Ut.ticklen)),Je=10+rr+(Ut.linewidth?Ut.linewidth-1:0)}Pe||(qe==="x"?Je+=Ut.side==="top"?Ke*(Ut.showticklabels?1:0):Ke*(Ut.showticklabels?1.5:.5):Je+=Ut.side==="right"?Ke*(Ut.showticklabels?1:.5):Ke*(Ut.showticklabels?.5:0))}var lr=Y.getPxPosition(It,Ut),cr,ir,Er;qe==="x"?(ir=Ut._offset+Ut._length/2,Er=Ut.side==="top"?lr-Je:lr+Je):(Er=Ut._offset+Ut._length/2,ir=Ut.side==="right"?lr+Je:lr-Je,cr={rotate:"-90",offset:0});var kr;if(Ut.type!=="multicategory"){var Mr=Ut._selections[Ut._id+"tick"];if(kr={selection:Mr,side:Ut.side},Mr&&Mr.node()&&Mr.node().parentNode){var $r=l.getTranslate(Mr.node().parentNode);kr.offsetLeft=$r.x,kr.offsetTop=$r.y}Ut.title.hasOwnProperty("standoff")&&(kr.pad=0)}return Ut._titleStandoff=Je,r.draw(It,ke+"title",{propContainer:Ut,propName:Ut._name+".title.text",placeholder:Me._dfltTitle[qe],avoid:kr,transform:cr,attributes:{x:ir,y:Er,"text-anchor":"middle"}})}Y.shouldShowZeroLine=function(It,Ut,Me){var ke=T.simpleMap(Ut.range,Ut.r2l);return ke[0]*ke[1]<=0&&Ut.zeroline&&(Ut.type==="linear"||Ut.type==="-")&&!(Ut.rangebreaks&&Ut.maskBreaks(0)===z)&&(fe(Ut,0)||!De(It,Ut,Me,ke)||Ge(It,Ut))},Y.clipEnds=function(It,Ut){return Ut.filter(function(Me){return fe(It,Me.x)})};function fe(It,Ut){var Me=It.l2p(Ut);return Me>1&&Me<It._length-1}function De(It,Ut,Me,ke){var qe=Me._mainAxis;if(!qe)return;var Ke=It._fullLayout,Je=Ut._id.charAt(0),Ve=Y.counterLetter(Ut._id),Pe=Ut._offset+(Math.abs(ke[0])<Math.abs(ke[1])==(Je==="x")?0:Ut._length);function rr(kr){if(!kr.showline||!kr.linewidth)return!1;var Mr=Math.max((kr.linewidth+Ut.zerolinewidth)/2,1);function $r(yn){return typeof yn=="number"&&Math.abs(yn-Pe)<Mr}if($r(kr._mainLinePosition)||$r(kr._mainMirrorPosition))return!0;var Gr=kr._linepositions||{};for(var vn in Gr)if($r(Gr[vn][0])||$r(Gr[vn][1]))return!0}var lr=Ke._plots[Me._mainSubplot];if(!(lr.mainplotinfo||lr).overlays.length)return rr(Me);for(var cr=Y.list(It,Ve),ir=0;ir<cr.length;ir++){var Er=cr[ir];if(Er._mainAxis===qe&&rr(Er))return!0}}function Ge(It,Ut){for(var Me=It._fullData,ke=Ut._mainSubplot,qe=Ut._id.charAt(0),Ke=0;Ke<Me.length;Ke++){var Je=Me[Ke];if(Je.visible===!0&&Je.xaxis+Je.yaxis===ke&&(L.traceIs(Je,"bar-like")&&Je.orientation==={x:"h",y:"v"}[qe]||Je.fill&&Je.fill.charAt(Je.fill.length-1)===qe))return!0}return!1}function vr(It){var Ut=E.select(It),Me=Ut.select(".text-math-group");return Me.empty()?Ut.select("text"):Me}Y.allowAutoMargin=function(It){for(var Ut=Y.list(It,"",!0),Me=0;Me<Ut.length;Me++){var ke=Ut[Me];ke.automargin&&(i.allowAutoMargin(It,$e(ke)),ke.mirror&&i.allowAutoMargin(It,Kt(ke))),L.getComponentMethod("rangeslider","isVisible")(ke)&&i.allowAutoMargin(It,ie(ke))}};function $e(It){return It._id+".automargin"}function Kt(It){return $e(It)+".mirror"}function ie(It){return It._id+".rangeslider"}Y.swap=function(It,Ut){for(var Me=he(It,Ut),ke=0;ke<Me.length;ke++)Ee(It,Me[ke].x,Me[ke].y)};function he(It,Ut){var Me=[],ke,qe;for(ke=0;ke<Ut.length;ke++){var Ke=[],Je=It._fullData[Ut[ke]].xaxis,Ve=It._fullData[Ut[ke]].yaxis;if(!(!Je||!Ve)){for(qe=0;qe<Me.length;qe++)(Me[qe].x.indexOf(Je)!==-1||Me[qe].y.indexOf(Ve)!==-1)&&Ke.push(qe);if(!Ke.length){Me.push({x:[Je],y:[Ve]});continue}var Pe=Me[Ke[0]],rr;if(Ke.length>1)for(qe=1;qe<Ke.length;qe++)rr=Me[Ke[qe]],Ae(Pe.x,rr.x),Ae(Pe.y,rr.y);Ae(Pe.x,[Je]),Ae(Pe.y,[Ve])}}return Me}function Ae(It,Ut){for(var Me=0;Me<Ut.length;Me++)It.indexOf(Ut[Me])===-1&&It.push(Ut[Me])}function Ee(It,Ut,Me){var ke=[],qe=[],Ke=It.layout,Je,Ve;for(Je=0;Je<Ut.length;Je++)ke.push(Y.getFromId(It,Ut[Je]));for(Je=0;Je<Me.length;Je++)qe.push(Y.getFromId(It,Me[Je]));var Pe=Object.keys(n),rr=["anchor","domain","overlaying","position","side","tickangle","editType"],lr=["linear","log"];for(Je=0;Je<Pe.length;Je++){var cr=Pe[Je],ir=ke[0][cr],Er=qe[0][cr],kr=!0,Mr=!1,$r=!1;if(!(cr.charAt(0)==="_"||typeof ir=="function"||rr.indexOf(cr)!==-1)){for(Ve=1;Ve<ke.length&&kr;Ve++){var Gr=ke[Ve][cr];cr==="type"&&lr.indexOf(ir)!==-1&&lr.indexOf(Gr)!==-1&&ir!==Gr?Mr=!0:Gr!==ir&&(kr=!1)}for(Ve=1;Ve<qe.length&&kr;Ve++){var vn=qe[Ve][cr];cr==="type"&&lr.indexOf(Er)!==-1&&lr.indexOf(vn)!==-1&&Er!==vn?$r=!0:qe[Ve][cr]!==Er&&(kr=!1)}kr&&(Mr&&(Ke[ke[0]._name].type="linear"),$r&&(Ke[qe[0]._name].type="linear"),Fe(Ke,cr,ke,qe,It._fullLayout._dfltTitle))}}for(Je=0;Je<It._fullLayout.annotations.length;Je++){var yn=It._fullLayout.annotations[Je];Ut.indexOf(yn.xref)!==-1&&Me.indexOf(yn.yref)!==-1&&T.swapAttrs(Ke.annotations[Je],["?"])}}function Fe(It,Ut,Me,ke,qe){var Ke=T.nestedProperty,Je=Ke(It[Me[0]._name],Ut).get(),Ve=Ke(It[ke[0]._name],Ut).get(),Pe;for(Ut==="title"&&(Je&&Je.text===qe.x&&(Je.text=qe.y),Ve&&Ve.text===qe.y&&(Ve.text=qe.x)),Pe=0;Pe<Me.length;Pe++)Ke(It,Me[Pe]._name+"."+Ut).set(Ve);for(Pe=0;Pe<ke.length;Pe++)Ke(It,ke[Pe]._name+"."+Ut).set(Je)}function Re(It){return It._id==="angularaxis"}function Ce(It,Ut){for(var Me=Ut._rangebreaks.length,ke=0;ke<Me;ke++){var qe=Ut._rangebreaks[ke];if(It>=qe.min&&It<qe.max)return qe.max}return It}function We(It){return(It.ticklabelposition||"").indexOf("inside")!==-1}function er(It,Ut){We(It._anchorAxis||{})&&It._hideCounterAxisInsideTickLabels&&It._hideCounterAxisInsideTickLabels(Ut)}function Ue(It,Ut,Me,ke){var qe=It.anchor!=="free"&&(It.overlaying===void 0||It.overlaying===!1)?It._id:It.overlaying,Ke;ke?Ke=It.side==="right"?Ut:-Ut:Ke=Ut,qe in Me||(Me[qe]={}),It.side in Me[qe]||(Me[qe][It.side]=0),Me[qe][It.side]+=Ke}function ar(It,Ut){return It.autoshift?Ut[It.overlaying][It.side]:It.shift||0}},52976:function(tt,U,t){var E=t(38248),S=t(3400),i=t(39032).BADNUM,L=S.isArrayOrTypedArray,T=S.isDateTime,v=S.cleanNumber,d=Math.round;tt.exports=function(f,b,h){var _=f,a=h.noMultiCategory;if(L(_)&&!_.length)return"-";if(!a&&o(_))return"multicategory";if(a&&Array.isArray(_[0])){for(var c=[],p=0;p<_.length;p++)if(L(_[p]))for(var x=0;x<_[p].length;x++)c.push(_[p][x]);_=c}if(l(_,b))return"date";var k=h.autotypenumbers!=="strict";return s(_,k)?"category":e(_,k)?"linear":"-"};function r(f,b){return b?E(f):typeof f=="number"}function e(f,b){for(var h=f.length,_=0;_<h;_++)if(r(f[_],b))return!0;return!1}function l(f,b){for(var h=f.length,_=n(h),a=0,c=0,p={},x=0;x<h;x+=_){var k=d(x),y=f[k],A=String(y);p[A]||(p[A]=1,T(y,b)&&a++,E(y)&&c++)}return a>c*2}function n(f){return Math.max(1,(f-1)/1e3)}function s(f,b){for(var h=f.length,_=n(h),a=0,c=0,p={},x=0;x<h;x+=_){var k=d(x),y=f[k],A=String(y);if(!p[A]){p[A]=1;var C=typeof y;C==="boolean"?c++:(b?v(y)!==i:C==="number")?a++:C==="string"&&c++}}return c>a*2}function o(f){return L(f[0])&&L(f[1])}},28336:function(tt,U,t){var E=t(38248),S=t(24040),i=t(3400),L=t(31780),T=t(51272),v=t(94724),d=t(26332),r=t(25404),e=t(95936),l=t(42568),n=t(22416),s=t(42136),o=t(96312),f=t(78344),b=t(33816).WEEKDAY_PATTERN,h=t(33816).HOUR_PATTERN;tt.exports=function(p,x,k,y,A){var C=y.letter,u=y.font||{},m=y.splomStash||{},M=k("visible",!y.visibleDflt),w=x._template||{},z=x.type||w.type||"-",O;if(z==="date"){var D=S.getComponentMethod("calendars","handleDefaults");D(p,x,"calendar",y.calendar),y.noTicklabelmode||(O=k("ticklabelmode"))}var P="";(!y.noTicklabelposition||z==="multicategory")&&(P=i.coerce(p,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:O==="period"?["outside","inside"]:C==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||k("ticklabeloverflow",P.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),f(x,A),o(p,x,k,y),n(p,x,k,y),z!=="category"&&!y.noHover&&k("hoverformat");var F=k("color"),R=F!==v.color.dflt?F:u.color,N=m.label||A._dfltTitle[C];if(l(p,x,k,z,y),!M)return x;k("title.text",N),i.coerceFont(k,"title.font",{family:u.family,weight:u.weight,style:u.style,variant:u.variant,size:i.bigFont(u.size),color:R}),d(p,x,k,z);var B=y.hasMinor;if(B&&(L.newContainer(x,"minor"),d(p,x,k,z,{isMinor:!0})),e(p,x,k,z,y),r(p,x,k,y),B){var q=y.isMinor;y.isMinor=!0,r(p,x,k,y),y.isMinor=q}s(p,x,k,{dfltColor:F,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:B,attributes:v}),B&&!x.minor.ticks&&!x.minor.showgrid&&delete x.minor,(x.showline||x.ticks)&&k("mirror");var V=z==="multicategory";if(!y.noTickson&&(z==="category"||V)&&(x.ticks||x.showgrid)){var J;V&&(J="boundaries");var it=k("tickson",J);it==="boundaries"&&delete x.ticklabelposition}if(V){var nt=k("showdividers");nt&&(k("dividercolor"),k("dividerwidth"))}if(z==="date")if(T(p,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:_}),!x.rangebreaks.length)delete x.rangebreaks;else{for(var Y=0;Y<x.rangebreaks.length;Y++)if(x.rangebreaks[Y].pattern===b){x._hasDayOfWeekBreaks=!0;break}if(f(x,A),A._has("scattergl")||A._has("splom"))for(var Z=0;Z<y.data.length;Z++){var $=y.data[Z];($.type==="scattergl"||$.type==="splom")&&($.visible=!1,i.warn($.type+" traces do not work on axes with rangebreaks. Setting trace "+$.index+" to `visible: false`."))}}return x};function _(p,x,k){function y(D,P){return i.coerce(p,x,v.rangebreaks,D,P)}var A=y("enabled");if(A){var C=y("bounds");if(C&&C.length>=2){var u="",m,M;if(C.length===2){for(m=0;m<2;m++)if(M=c(C[m]),M){u=b;break}}var w=y("pattern",u);if(w===b)for(m=0;m<2;m++)M=c(C[m]),M&&(x.bounds[m]=C[m]=M-1);if(w)for(m=0;m<2;m++)switch(M=C[m],w){case b:if(!E(M)){x.enabled=!1;return}if(M=+M,M!==Math.floor(M)||M<0||M>=7){x.enabled=!1;return}x.bounds[m]=C[m]=M;break;case h:if(!E(M)){x.enabled=!1;return}if(M=+M,M<0||M>24){x.enabled=!1;return}x.bounds[m]=C[m]=M;break}if(k.autorange===!1){var z=k.range;if(z[0]<z[1]){if(C[0]<z[0]&&C[1]>z[1]){x.enabled=!1;return}}else if(C[0]>z[0]&&C[1]<z[1]){x.enabled=!1;return}}}else{var O=y("values");if(O&&O.length)y("dvalue");else{x.enabled=!1;return}}}}var a={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function c(p){if(typeof p=="string")return a[p.substr(0,3).toLowerCase()]}},29736:function(tt,U,t){var E=t(26880),S=E.FORMAT_LINK,i=E.DATE_FORMAT_LINK;function L(d,r){return{valType:"string",dflt:"",editType:"none",description:(r?T:v)("hover text",d)+["By default the values are formatted using "+(r?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}}function T(d,r){return["Sets the "+d+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+S+"."].join(" ")}function v(d,r){return T(d,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}tt.exports={axisHoverFormat:L,descriptionOnlyNumbers:T,descriptionWithDates:v}},79811:function(tt,U,t){var E=t(24040),S=t(33816);U.id2name=function(L){if(!(typeof L!="string"||!L.match(S.AX_ID_PATTERN))){var T=L.split(" ")[0].substr(1);return T==="1"&&(T=""),L.charAt(0)+"axis"+T}},U.name2id=function(L){if(L.match(S.AX_NAME_PATTERN)){var T=L.substr(5);return T==="1"&&(T=""),L.charAt(0)+T}},U.cleanId=function(L,T,v){var d=/( domain)$/.test(L);if(!(typeof L!="string"||!L.match(S.AX_ID_PATTERN))&&!(T&&L.charAt(0)!==T)&&!(d&&!v)){var r=L.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),L.charAt(0)+r+(d&&v?" domain":"")}},U.list=function(L,T,v){var d=L._fullLayout;if(!d)return[];var r=U.listIds(L,T),e=new Array(r.length),l;for(l=0;l<r.length;l++){var n=r[l];e[l]=d[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var s=d._subplots.gl3d||[];for(l=0;l<s.length;l++){var o=d[s[l]];T?e.push(o[T+"axis"]):e.push(o.xaxis,o.yaxis,o.zaxis)}}return e},U.listIds=function(L,T){var v=L._fullLayout;if(!v)return[];var d=v._subplots;return T?d[T+"axis"]:d.xaxis.concat(d.yaxis)},U.getFromId=function(L,T,v){var d=L._fullLayout;return T=T===void 0||typeof T!="string"?T:T.replace(" domain",""),v==="x"?T=T.replace(/y[0-9]*/,""):v==="y"&&(T=T.replace(/x[0-9]*/,"")),d[U.id2name(T)]},U.getFromTrace=function(L,T,v){var d=L._fullLayout,r=null;if(E.traceIs(T,"gl3d")){var e=T.scene;e.substr(0,5)==="scene"&&(r=d[e][v+"axis"])}else r=U.getFromId(L,T[v+"axis"]||v);return r},U.idSort=function(L,T){var v=L.charAt(0),d=T.charAt(0);return v!==d?v>d?1:-1:+(L.substr(1)||1)-+(T.substr(1)||1)},U.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function i(L,T){if(T&&T.length){for(var v=0;v<T.length;v++)if(T[v][L])return!0}return!1}U.isLinked=function(L,T){return i(T,L._axisMatchGroups)||i(T,L._axisConstraintGroups)}},22416:function(tt,U,t){var E=t(38116).isTypedArraySpec;function S(i,L){var T=L.dataAttr||i._id.charAt(0),v={},d,r,e;if(L.axData)d=L.axData;else for(d=[],r=0;r<L.data.length;r++){var l=L.data[r];l[T+"axis"]===i._id&&d.push(l)}for(r=0;r<d.length;r++){var n=d[r][T];for(e=0;e<n.length;e++){var s=n[e];s!=null&&(v[s]=1)}}return Object.keys(v)}tt.exports=function(i,L,T,v){if(L.type==="category"){var d=i.categoryarray,r=Array.isArray(d)&&d.length>0||E(d),e;r&&(e="array");var l=T("categoryorder",e),n;l==="array"&&(n=T("categoryarray")),!r&&l==="array"&&(l=L.categoryorder="trace"),l==="trace"?L._initialCategories=[]:l==="array"?L._initialCategories=n.slice():(n=S(L,v).sort(),l==="category ascending"?L._initialCategories=n:l==="category descending"&&(L._initialCategories=n.reverse()))}}},98728:function(tt,U,t){var E=t(38248),S=t(3400),i=t(39032),L=i.ONEDAY,T=i.ONEWEEK;U.dtick=function(v,d){var r=d==="log",e=d==="date",l=d==="category",n=e?L:1;if(!v)return n;if(E(v))return v=Number(v),v<=0?n:l?Math.max(1,Math.round(v)):e?Math.max(.1,v):v;if(typeof v!="string"||!(e||r))return n;var s=v.charAt(0),o=v.substr(1);return o=E(o)?Number(o):0,o<=0||!(e&&s==="M"&&o===Math.round(o)||r&&s==="L"||r&&s==="D"&&(o===1||o===2))?n:v},U.tick0=function(v,d,r,e){if(d==="date")return S.cleanDate(v,S.dateTick0(r,e%T===0?1:0));if(!(e==="D1"||e==="D2"))return E(v)?Number(v):0}},33816:function(tt,U,t){var E=t(53756).counter;tt.exports={idRegex:{x:E("x","( domain)?"),y:E("y","( domain)?")},attrRegex:E("[xy]axis"),xAxisMatch:E("xaxis"),yAxisMatch:E("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(tt,U,t){var E=t(3400),S=t(19280),i=t(79811).id2name,L=t(94724),T=t(21160),v=t(78344),d=t(39032).ALMOST_EQUAL,r=t(84284).FROM_BL;U.handleDefaults=function(h,_,a){var c=a.axIds,p=a.axHasImage,x=_._axisConstraintGroups=[],k=_._axisMatchGroups=[],y,A,C,u,m,M,w,z;for(y=0;y<c.length;y++)u=i(c[y]),m=h[u],M=_[u],e(m,M,{axIds:c,layoutOut:_,hasImage:p[u]});function O(J,it){for(y=0;y<J.length;y++){A=J[y];for(C in A)_[i(C)][it]=A}}for(O(k,"_matchGroup"),y=0;y<x.length;y++){A=x[y];for(C in A)if(M=_[i(C)],M.fixedrange){for(var D in A){var P=i(D);(h[P]||{}).fixedrange===!1&&E.warn("fixedrange was specified as false for axis "+P+" but was overridden because another axis in its constraint group has fixedrange true"),_[P].fixedrange=!0}break}}for(y=0;y<x.length;){A=x[y];for(C in A){M=_[i(C)],M._matchGroup&&Object.keys(M._matchGroup).length===Object.keys(A).length&&(x.splice(y,1),y--);break}y++}O(x,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],R=!1,N=!1;function B(){z=M[w],w==="rangebreaks"&&(N=M._hasDayOfWeekBreaks)}for(y=0;y<k.length;y++){A=k[y];for(var q=0;q<F.length;q++){w=F[q],z=null;var V;for(C in A)if(u=i(C),m=h[u],M=_[u],w in M){if(!M.matches&&(V=M,w in m)){B();break}z===null&&w in m&&B()}if(w==="range"&&z&&m.range&&m.range.length===2&&m.range[0]!==null&&m.range[1]!==null&&(R=!0),w==="autorange"&&z===null&&R&&(z=!1),z===null&&w in V&&(z=V[w]),z!==null)for(C in A)M=_[i(C)],M[w]=w==="range"?z.slice():z,w==="rangebreaks"&&(M._hasDayOfWeekBreaks=N,v(M,_))}}};function e(h,_,a){var c=a.axIds,p=a.layoutOut,x=a.hasImage,k=p._axisConstraintGroups,y=p._axisMatchGroups,A=_._id,C=A.charAt(0),u=((p._splomAxes||{})[C]||{})[A]||{},m=_._id,M=m.charAt(0)==="x";_._matchGroup=null,_._constraintGroup=null;function w(Z,$){return E.coerce(h,_,L,Z,$)}w("constrain",x?"domain":"range"),E.coerce(h,_,{constraintoward:{valType:"enumerated",values:M?["left","center","right"]:["bottom","middle","top"],dflt:M?"center":"middle"}},"constraintoward");var z=_.type,O,D,P=[];for(O=0;O<c.length;O++)if(D=c[O],D!==m){var F=p[i(D)];F.type===z&&P.push(D)}var R=n(k,m);if(R){var N=[];for(O=0;O<P.length;O++)D=P[O],R[D]||N.push(D);P=N}var B=P.length,q,V;B&&(h.matches||u.matches)&&(q=E.coerce(h,_,{matches:{valType:"enumerated",values:P,dflt:P.indexOf(u.matches)!==-1?u.matches:void 0}},"matches"));var J=x&&!M?_.anchor:void 0;if(B&&!q&&(h.scaleanchor||J)&&(V=E.coerce(h,_,{scaleanchor:{valType:"enumerated",values:P.concat([!1])}},"scaleanchor",J)),q){_._matchGroup=s(y,m,q,1);var it=p[i(q)],nt=l(p,_)/l(p,it);M!==(q.charAt(0)==="x")&&(nt=(M?"x":"y")+nt),s(k,m,q,nt)}else h.matches&&c.indexOf(h.matches)!==-1&&E.warn("ignored "+_._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(V){var Y=w("scaleratio");Y||(Y=_.scaleratio=1),s(k,m,V,Y)}else h.scaleanchor&&c.indexOf(h.scaleanchor)!==-1&&E.warn("ignored "+_._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(h,_){var a=_.domain;return a||(a=h[i(_.overlaying)].domain),a[1]-a[0]}function n(h,_){for(var a=0;a<h.length;a++)if(h[a][_])return h[a];return null}function s(h,_,a,c){var p,x,k,y,A,C=n(h,_);C===null?(C={},C[_]=1,A=h.length,h.push(C)):A=h.indexOf(C);var u=Object.keys(C);for(p=0;p<h.length;p++)if(k=h[p],p!==A&&k[a]){var m=k[a];for(x=0;x<u.length;x++)y=u[x],k[y]=o(m,o(c,C[y]));h.splice(A,1);return}if(c!==1)for(x=0;x<u.length;x++){var M=u[x];C[M]=o(c,C[M])}C[a]=1}function o(h,_){var a="",c="",p,x;typeof h=="string"&&(a=h.match(/^[xy]*/)[0],p=a.length,h=+h.substr(p)),typeof _=="string"&&(c=_.match(/^[xy]*/)[0],x=c.length,_=+_.substr(x));var k=h*_;return!p&&!x?k:!p||!x||a.charAt(0)===c.charAt(0)?a+c+h*_:p===x?k:(p>x?a.substr(x):c.substr(p))+k}function f(h,_){for(var a=_._size,c=a.h/a.w,p={},x=Object.keys(h),k=0;k<x.length;k++){var y=x[k],A=h[y];if(typeof A=="string"){var C=A.match(/^[xy]*/)[0],u=C.length;A=+A.substr(u);for(var m=C.charAt(0)==="y"?c:1/c,M=0;M<u;M++)A*=m}p[y]=A}return p}U.enforce=function(h){var _=h._fullLayout,a=_._axisConstraintGroups||[],c,p,x,k,y,A,C,u;for(c=0;c<a.length;c++){x=f(a[c],_);var m=Object.keys(x),M=1/0,w=0,z=1/0,O={},D={},P=!1;for(p=0;p<m.length;p++)k=m[p],D[k]=y=_[i(k)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),O[k]=A=Math.abs(y._m)/x[k],M=Math.min(M,A),(y.constrain==="domain"||!y._constraintShrinkable)&&(z=Math.min(z,A)),delete y._constraintShrinkable,w=Math.max(w,A),y.constrain==="domain"&&(P=!0);if(!(M>d*w&&!P)){for(p=0;p<m.length;p++)if(k=m[p],A=O[k],y=D[k],C=y.constrain,A!==z||C==="domain")if(u=A/z,C==="range")T(y,u);else{var F=y._inputDomain,R=(y.domain[1]-y.domain[0])/(F[1]-F[0]),N=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(u/=R,u*N<1){y.domain=y._input.domain=F.slice(),T(y,u);continue}if(N<1&&(y.range=y._input.range=y._inputRange.slice(),u*=N),y.autorange){var B=y.r2l(y.range[0]),q=y.r2l(y.range[1]),V=(B+q)/2,J=V,it=V,nt=Math.abs(q-V),Y=V-nt*u*1.0001,Z=V+nt*u*1.0001,$=S.makePadFn(_,y,0),G=S.makePadFn(_,y,1);b(y,u);var rt=Math.abs(y._m),ot=S.concatExtremes(h,y),W=ot.min,H=ot.max,at,Q;for(Q=0;Q<W.length;Q++)at=W[Q].val-$(W[Q])/rt,at>Y&&at<J&&(J=at);for(Q=0;Q<H.length;Q++)at=H[Q].val+G(H[Q])/rt,at<Z&&at>it&&(it=at);var ct=(it-J)/(2*nt);u/=ct,J=y.l2r(J),it=y.l2r(it),y.range=y._input.range=B<q?[J,it]:[it,J]}b(y,u)}}}},U.getAxisGroup=function(h,_){for(var a=h._axisMatchGroups,c=0;c<a.length;c++){var p=a[c];if(p[_])return"g"+c}return _},U.clean=function(h,_){if(_._inputDomain){for(var a=!1,c=_._id,p=h._fullLayout._axisConstraintGroups,x=0;x<p.length;x++)if(p[x][c]){a=!0;break}(!a||_.constrain!=="domain")&&(_._input.domain=_.domain=_._inputDomain,delete _._inputDomain)}};function b(h,_){var a=h._inputDomain,c=r[h.constraintoward],p=a[0]+(a[1]-a[0])*c;h.domain=h._input.domain=[p+(a[0]-p)/_,p+(a[1]-p)/_],h.setScale()}},51184:function(tt,U,t){var E=t(33428),S=t(3400),i=S.numberFormat,L=t(49760),T=t(89184),v=t(24040),d=S.strTranslate,r=t(72736),e=t(76308),l=t(43616),n=t(93024),s=t(54460),o=t(93972),f=t(86476),b=t(72760),h=b.selectingOrDrawing,_=b.freeMode,a=t(84284).FROM_TL,c=t(73696),p=t(39172).redrawReglTraces,x=t(7316),k=t(79811).getFromId,y=t(22676).prepSelect,A=t(22676).clearOutline,C=t(22676).selectOnClick,u=t(21160),m=t(33816),M=m.MINDRAG,w=m.MINZOOM,z=!0;function O(Q,ct,ft,yt,xt,Lt,gt,mt){var vt=Q._fullLayout._zoomlayer,At=gt+mt==="nsew",Ot=(gt+mt).length===1,Pt,Et,Nt,ne,Gt,pe,Vt,ae,oe,ce,le,ye,Tt,Ft,$t,Wt,Bt,Mt,St,Dt,dt,ht,bt;ft+=ct.yaxis._shift;function zt(){if(Pt=ct.xaxis,Et=ct.yaxis,oe=Pt._length,ce=Et._length,Vt=Pt._offset,ae=Et._offset,Nt={},Nt[Pt._id]=Pt,ne={},ne[Et._id]=Et,gt&&mt)for(var Ve=ct.overlays,Pe=0;Pe<Ve.length;Pe++){var rr=Ve[Pe].xaxis;Nt[rr._id]=rr;var lr=Ve[Pe].yaxis;ne[lr._id]=lr}Gt=at(Nt),pe=at(ne),Tt=F(Gt,mt),Ft=F(pe,gt),$t=!Ft&&!Tt,ye=W(Q,Q._fullLayout._axisMatchGroups,Nt,ne),le=W(Q,Q._fullLayout._axisConstraintGroups,Nt,ne,ye);var cr=le.isSubplotConstrained||ye.isSubplotConstrained;Wt=mt||cr,Bt=gt||cr;var ir=Q._fullLayout;Mt=ir._has("scattergl"),St=ir._has("splom"),Dt=ir._has("svg")}zt();var qt=V(Ft+Tt,Q._fullLayout.dragmode,At),te=P(ct,gt+mt+"drag",qt,ft,yt,xt,Lt);if($t&&!At)return te.onmousedown=null,te.style.pointerEvents="none",te;var re={element:te,gd:Q,plotinfo:ct};re.prepFn=function(Ve,Pe,rr){var lr=re.dragmode,cr=Q._fullLayout.dragmode;cr!==lr&&(re.dragmode=cr),zt(),ht=Q._fullLayout._invScaleX,bt=Q._fullLayout._invScaleY,$t||(At?Ve.shiftKey?cr==="pan"?cr="zoom":h(cr)||(cr="pan"):Ve.ctrlKey&&(cr="pan"):cr="pan"),_(cr)?re.minDrag=1:re.minDrag=void 0,h(cr)?(re.xaxes=Gt,re.yaxes=pe,y(Ve,Pe,rr,re,cr)):(re.clickFn=Be,h(lr)&&Ye(),$t||(cr==="zoom"?(re.moveFn=he,re.doneFn=Ee,re.minDrag=1,ie(Ve,Pe,rr)):cr==="pan"&&(re.moveFn=Ue,re.doneFn=Me))),Q._fullLayout._redrag=function(){var ir=Q._dragdata;if(ir&&ir.element===te){var Er=Q._fullLayout.dragmode;h(Er)||(zt(),ke([0,0,oe,ce]),re.moveFn(ir.dx,ir.dy))}}};function Ye(){re.plotinfo.selection=!1,A(Q)}function Be(Ve,Pe){var rr=re.gd;if(rr._fullLayout._activeShapeIndex>=0){rr._fullLayout._deactivateShape(rr);return}var lr=rr._fullLayout.clickmode;if(Z(rr),Ve===2&&!Ot&&Ut(),At)lr.indexOf("select")>-1&&C(Pe,rr,Gt,pe,ct.id,re),lr.indexOf("event")>-1&&n.click(rr,Pe,ct.id);else if(Ve===1&&Ot){var cr=gt?Et:Pt,ir=gt==="s"||mt==="w"?0:1,Er=cr._name+".range["+ir+"]",kr=R(cr,ir),Mr="left",$r="middle";if(cr.fixedrange)return;gt?($r=gt==="n"?"top":"bottom",cr.side==="right"&&(Mr="right")):mt==="e"&&(Mr="right"),rr._context.showAxisRangeEntryBoxes&&E.select(te).call(r.makeEditable,{gd:rr,immediate:!0,background:rr._fullLayout.paper_bgcolor,text:String(kr),fill:cr.tickfont?cr.tickfont.color:"#444",horizontalAlign:Mr,verticalAlign:$r}).on("edit",function(Gr){var vn=cr.d2r(Gr);vn!==void 0&&v.call("_guiRelayout",rr,Er,vn)})}}f.init(re);var ge,be,Ne,pr,fe,De,Ge,vr,$e,Kt;function ie(Ve,Pe,rr){var lr=te.getBoundingClientRect();ge=Pe-lr.left,be=rr-lr.top,Q._fullLayout._calcInverseTransform(Q);var cr=S.apply3DTransform(Q._fullLayout._invTransform)(ge,be);ge=cr[0],be=cr[1],Ne={l:ge,r:ge,w:0,t:be,b:be,h:0},pr=Q._hmpixcount?Q._hmlumcount/Q._hmpixcount:L(Q._fullLayout.plot_bgcolor).getLuminance(),fe="M0,0H"+oe+"V"+ce+"H0V0",De=!1,Ge="xy",Kt=!1,vr=J(vt,pr,Vt,ae,fe),$e=it(vt,Vt,ae)}function he(Ve,Pe){if(Q._transitioningWithDuration)return!1;var rr=Math.max(0,Math.min(oe,ht*Ve+ge)),lr=Math.max(0,Math.min(ce,bt*Pe+be)),cr=Math.abs(rr-ge),ir=Math.abs(lr-be);Ne.l=Math.min(ge,rr),Ne.r=Math.max(ge,rr),Ne.t=Math.min(be,lr),Ne.b=Math.max(be,lr);function Er(){Ge="",Ne.r=Ne.l,Ne.t=Ne.b,$e.attr("d","M0,0Z")}if(le.isSubplotConstrained)cr>w||ir>w?(Ge="xy",cr/oe>ir/ce?(ir=cr*ce/oe,be>lr?Ne.t=be-ir:Ne.b=be+ir):(cr=ir*oe/ce,ge>rr?Ne.l=ge-cr:Ne.r=ge+cr),$e.attr("d",ot(Ne))):Er();else if(ye.isSubplotConstrained)if(cr>w||ir>w){Ge="xy";var kr=Math.min(Ne.l/oe,(ce-Ne.b)/ce),Mr=Math.max(Ne.r/oe,(ce-Ne.t)/ce);Ne.l=kr*oe,Ne.r=Mr*oe,Ne.b=(1-kr)*ce,Ne.t=(1-Mr)*ce,$e.attr("d",ot(Ne))}else Er();else!Ft||ir<Math.min(Math.max(cr*.6,M),w)?cr<M||!Tt?Er():(Ne.t=0,Ne.b=ce,Ge="x",$e.attr("d",G(Ne,be))):!Tt||cr<Math.min(ir*.6,w)?(Ne.l=0,Ne.r=oe,Ge="y",$e.attr("d",rt(Ne,ge))):(Ge="xy",$e.attr("d",ot(Ne)));Ne.w=Ne.r-Ne.l,Ne.h=Ne.b-Ne.t,Ge&&(Kt=!0),Q._dragged=Kt,nt(vr,$e,Ne,fe,De,pr),Ae(),Q.emit("plotly_relayouting",dt),De=!0}function Ae(){dt={},(Ge==="xy"||Ge==="x")&&(N(Gt,Ne.l/oe,Ne.r/oe,dt,le.xaxes),ar("x",dt)),(Ge==="xy"||Ge==="y")&&(N(pe,(ce-Ne.b)/ce,(ce-Ne.t)/ce,dt,le.yaxes),ar("y",dt))}function Ee(){Ae(),Z(Q),Me(),$(Q)}var Fe=[0,0,oe,ce],Re=null,Ce=m.REDRAWDELAY,We=ct.mainplot?Q._fullLayout._plots[ct.mainplot]:ct;function er(Ve){if(!Q._context._scrollZoom.cartesian&&!Q._fullLayout._enablescrollzoom)return;if(Ye(),Q._transitioningWithDuration){Ve.preventDefault(),Ve.stopPropagation();return}zt(),clearTimeout(Re);var Pe=-Ve.deltaY;if(isFinite(Pe)||(Pe=Ve.wheelDelta/10),!isFinite(Pe)){S.log("Did not find wheel motion attributes: ",Ve);return}var rr=Math.exp(-Math.min(Math.max(Pe,-20),20)/200),lr=We.draglayer.select(".nsewdrag").node().getBoundingClientRect(),cr=(Ve.clientX-lr.left)/lr.width,ir=(lr.bottom-Ve.clientY)/lr.height,Er;function kr(Mr,$r,Gr){if(Mr.fixedrange)return;var vn=S.simpleMap(Mr.range,Mr.r2l),yn=vn[0]+(vn[1]-vn[0])*$r;function hr(Lr){return Mr.l2r(yn+(Lr-yn)*Gr)}Mr.range=vn.map(hr)}if(Wt){for(mt||(cr=.5),Er=0;Er<Gt.length;Er++)kr(Gt[Er],cr,rr);ar("x"),Fe[2]*=rr,Fe[0]+=Fe[2]*cr*(1/rr-1)}if(Bt){for(gt||(ir=.5),Er=0;Er<pe.length;Er++)kr(pe[Er],ir,rr);ar("y"),Fe[3]*=rr,Fe[1]+=Fe[3]*(1-ir)*(1/rr-1)}ke(Fe),It(),Q.emit("plotly_relayouting",dt),Re=setTimeout(function(){Q._fullLayout&&(Fe=[0,0,oe,ce],Me())},Ce),Ve.preventDefault()}gt.length*mt.length!==1&&H(te,er);function Ue(Ve,Pe){if(Ve=Ve*ht,Pe=Pe*bt,Q._transitioningWithDuration)return;if(Q._fullLayout._replotting=!0,Tt==="ew"||Ft==="ns"){var rr=Tt?-Ve:0,lr=Ft?-Pe:0;if(ye.isSubplotConstrained){if(Tt&&Ft){var cr=(Ve/oe-Pe/ce)/2;Ve=cr*oe,Pe=-cr*ce,rr=-Ve,lr=-Pe}Ft?rr=-lr*oe/ce:lr=-rr*ce/oe}Tt&&(B(Gt,Ve),ar("x")),Ft&&(B(pe,Pe),ar("y")),ke([rr,lr,oe,ce]),It(),Q.emit("plotly_relayouting",dt);return}function ir(hr,Lr,Ir){for(var Rr=1-Lr,on,an,gn=0;gn<hr.length;gn++){var Mn=hr[gn];if(!Mn.fixedrange){on=Mn,an=Mn._rl[Rr]+(Mn._rl[Lr]-Mn._rl[Rr])/q(Ir/Mn._length);var Pn=Mn.l2r(an);Pn!==!1&&Pn!==void 0&&(Mn.range[Lr]=Pn)}}return on._length*(on._rl[Lr]-an)/(on._rl[Lr]-on._rl[Rr])}var Er=Tt==="w"==(Ft==="n")?1:-1;if(Tt&&Ft&&(le.isSubplotConstrained||ye.isSubplotConstrained)){var kr=(Ve/oe+Er*Pe/ce)/2;Ve=kr*oe,Pe=Er*kr*ce}var Mr,$r;if(Tt==="w"?Ve=ir(Gt,0,Ve):Tt==="e"?Ve=ir(Gt,1,-Ve):Tt||(Ve=0),Ft==="n"?Pe=ir(pe,1,Pe):Ft==="s"?Pe=ir(pe,0,-Pe):Ft||(Pe=0),Mr=Tt==="w"?Ve:0,$r=Ft==="n"?Pe:0,le.isSubplotConstrained&&!ye.isSubplotConstrained||ye.isSubplotConstrained&&Tt&&Ft&&Er>0){var Gr;if(ye.isSubplotConstrained||!Tt&&Ft.length===1){for(Gr=0;Gr<Gt.length;Gr++)Gt[Gr].range=Gt[Gr]._r.slice(),u(Gt[Gr],1-Pe/ce);Ve=Pe*oe/ce,Mr=Ve/2}if(ye.isSubplotConstrained||!Ft&&Tt.length===1){for(Gr=0;Gr<pe.length;Gr++)pe[Gr].range=pe[Gr]._r.slice(),u(pe[Gr],1-Ve/oe);Pe=Ve*ce/oe,$r=Pe/2}}(!ye.isSubplotConstrained||!Ft)&&ar("x"),(!ye.isSubplotConstrained||!Tt)&&ar("y");var vn=oe-Ve,yn=ce-Pe;ye.isSubplotConstrained&&!(Tt&&Ft)&&(Tt?($r=Mr?0:Ve*ce/oe,yn=vn*ce/oe):(Mr=$r?0:Pe*oe/ce,vn=yn*oe/ce)),ke([Mr,$r,vn,yn]),It(),Q.emit("plotly_relayouting",dt)}function ar(Ve,Pe){for(var rr=ye.isSubplotConstrained?{x:pe,y:Gt}[Ve]:ye[Ve+"axes"],lr=ye.isSubplotConstrained?{x:Gt,y:pe}[Ve]:[],cr=0;cr<rr.length;cr++){var ir=rr[cr],Er=ir._id,kr=ye.xLinks[Er]||ye.yLinks[Er],Mr=lr[0]||Nt[kr]||ne[kr];Mr&&(Pe?(Pe[ir._name+".range[0]"]=Pe[Mr._name+".range[0]"],Pe[ir._name+".range[1]"]=Pe[Mr._name+".range[1]"]):ir.range=Mr.range.slice())}}function It(){var Ve=[],Pe;function rr(Er){for(Pe=0;Pe<Er.length;Pe++)Er[Pe].fixedrange||Ve.push(Er[Pe]._id)}function lr(Er,kr){for(Pe=0;Pe<Er.length;Pe++){var Mr=Er[Pe],$r=Mr[kr];!Mr.fixedrange&&$r.tickmode==="sync"&&Ve.push($r._id)}}for(Wt&&(rr(Gt),rr(le.xaxes),rr(ye.xaxes),lr(ct.overlays,"xaxis")),Bt&&(rr(pe),rr(le.yaxes),rr(ye.yaxes),lr(ct.overlays,"yaxis")),dt={},Pe=0;Pe<Ve.length;Pe++){var cr=Ve[Pe],ir=k(Q,cr);s.drawOne(Q,ir,{skipTitle:!0}),dt[ir._name+".range[0]"]=ir.range[0],dt[ir._name+".range[1]"]=ir.range[1]}s.redrawComponents(Q,Ve)}function Ut(){if(!Q._transitioningWithDuration){var Ve=Q._context.doubleClick,Pe=[];Tt&&(Pe=Pe.concat(Gt)),Ft&&(Pe=Pe.concat(pe)),ye.xaxes&&(Pe=Pe.concat(ye.xaxes)),ye.yaxes&&(Pe=Pe.concat(ye.yaxes));var rr={},lr,cr;if(Ve==="reset+autosize")for(Ve="autosize",cr=0;cr<Pe.length;cr++){lr=Pe[cr];var ir=lr._rangeInitial0,Er=lr._rangeInitial1,kr=ir!==void 0||Er!==void 0;if(kr&&(ir!==void 0&&ir!==lr.range[0]||Er!==void 0&&Er!==lr.range[1])||!kr&&lr.autorange!==!0){Ve="reset";break}}if(Ve==="autosize")for(cr=0;cr<Pe.length;cr++)lr=Pe[cr],lr.fixedrange||(rr[lr._name+".autorange"]=!0);else if(Ve==="reset"){for((Tt||le.isSubplotConstrained)&&(Pe=Pe.concat(le.xaxes)),Ft&&!le.isSubplotConstrained&&(Pe=Pe.concat(le.yaxes)),le.isSubplotConstrained&&(Tt?Ft||(Pe=Pe.concat(pe)):Pe=Pe.concat(Gt)),cr=0;cr<Pe.length;cr++)if(lr=Pe[cr],!lr.fixedrange){var Mr=lr._name,$r=lr._autorangeInitial;lr._rangeInitial0===void 0&&lr._rangeInitial1===void 0?rr[Mr+".autorange"]=!0:lr._rangeInitial0===void 0?(rr[Mr+".autorange"]=$r,rr[Mr+".range"]=[null,lr._rangeInitial1]):lr._rangeInitial1===void 0?(rr[Mr+".range"]=[lr._rangeInitial0,null],rr[Mr+".autorange"]=$r):rr[Mr+".range"]=[lr._rangeInitial0,lr._rangeInitial1]}}Q.emit("plotly_doubleclick",null),v.call("_guiRelayout",Q,rr)}}function Me(){ke([0,0,oe,ce]),S.syncOrAsync([x.previousPromises,function(){Q._fullLayout._replotting=!1,v.call("_guiRelayout",Q,dt)}],Q)}function ke(Ve){var Pe=Q._fullLayout,rr=Pe._plots,lr=Pe._subplots.cartesian,cr,ir,Er,kr;if(St&&v.subplotsRegistry.splom.drag(Q),Mt){for(cr=0;cr<lr.length;cr++)if(ir=rr[lr[cr]],Er=ir.xaxis,kr=ir.yaxis,ir._scene){var Mr=S.simpleMap(Er.range,Er.r2l),$r=S.simpleMap(kr.range,kr.r2l);Er.limitRange&&Er.limitRange(),kr.limitRange&&kr.limitRange(),Mr=Er.range,$r=kr.range,ir._scene.update({range:[Mr[0],$r[0],Mr[1],$r[1]]})}}if((St||Mt)&&(c(Q),p(Q)),Dt){var Gr=Ve[2]/Pt._length,vn=Ve[3]/Et._length;for(cr=0;cr<lr.length;cr++){ir=rr[lr[cr]],Er=ir.xaxis,kr=ir.yaxis;var yn=(Wt||ye.isSubplotConstrained)&&!Er.fixedrange&&Nt[Er._id],hr=(Bt||ye.isSubplotConstrained)&&!kr.fixedrange&&ne[kr._id],Lr,Ir,Rr,on;if(yn?(Lr=Gr,Rr=mt||ye.isSubplotConstrained?Ve[0]:Je(Er,Lr)):ye.xaHash[Er._id]?(Lr=Gr,Rr=Ve[0]*Er._length/Pt._length):ye.yaHash[Er._id]?(Lr=vn,Rr=Ft==="ns"?-Ve[1]*Er._length/Et._length:Je(Er,Lr,{n:"top",s:"bottom"}[Ft])):(Lr=qe(Er,Gr,vn),Rr=Ke(Er,Lr)),Lr>1&&(Er.maxallowed!==void 0&&Wt===(Er.range[0]<Er.range[1]?"e":"w")||Er.minallowed!==void 0&&Wt===(Er.range[0]<Er.range[1]?"w":"e"))&&(Lr=1,Rr=0),hr?(Ir=vn,on=gt||ye.isSubplotConstrained?Ve[1]:Je(kr,Ir)):ye.yaHash[kr._id]?(Ir=vn,on=Ve[1]*kr._length/Et._length):ye.xaHash[kr._id]?(Ir=Gr,on=Tt==="ew"?-Ve[0]*kr._length/Pt._length:Je(kr,Ir,{e:"right",w:"left"}[Tt])):(Ir=qe(kr,Gr,vn),on=Ke(kr,Ir)),Ir>1&&(kr.maxallowed!==void 0&&Bt===(kr.range[0]<kr.range[1]?"n":"s")||kr.minallowed!==void 0&&Bt===(kr.range[0]<kr.range[1]?"s":"n"))&&(Ir=1,on=0),!(!Lr&&!Ir)){Lr||(Lr=1),Ir||(Ir=1);var an=Er._offset-Rr/Lr,gn=kr._offset-on/Ir;ir.clipRect.call(l.setTranslate,Rr,on).call(l.setScale,Lr,Ir),ir.plot.call(l.setTranslate,an,gn).call(l.setScale,1/Lr,1/Ir),(Lr!==ir.xScaleFactor||Ir!==ir.yScaleFactor)&&(l.setPointGroupScale(ir.zoomScalePts,Lr,Ir),l.setTextPointsScale(ir.zoomScaleTxt,Lr,Ir)),l.hideOutsideRangePoints(ir.clipOnAxisFalseTraces,ir),ir.xScaleFactor=Lr,ir.yScaleFactor=Ir}}}}function qe(Ve,Pe,rr){return Ve.fixedrange?0:Wt&&le.xaHash[Ve._id]?Pe:Bt&&(le.isSubplotConstrained?le.xaHash:le.yaHash)[Ve._id]?rr:0}function Ke(Ve,Pe){return Pe?(Ve.range=Ve._r.slice(),u(Ve,Pe),Je(Ve,Pe)):0}function Je(Ve,Pe,rr){return Ve._length*(1-Pe)*a[rr||Ve.constraintoward||"middle"]}return te}function D(Q,ct,ft,yt){var xt=S.ensureSingle(Q.draglayer,ct,ft,function(Lt){Lt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Q.id)});return xt.call(o,yt),xt.node()}function P(Q,ct,ft,yt,xt,Lt,gt){var mt=D(Q,"rect",ct,ft);return E.select(mt).call(l.setRect,yt,xt,Lt,gt),mt}function F(Q,ct){for(var ft=0;ft<Q.length;ft++)if(!Q[ft].fixedrange)return ct;return""}function R(Q,ct){var ft=Q.range[ct],yt=Math.abs(ft-Q.range[1-ct]),xt;return Q.type==="date"?ft:Q.type==="log"?(xt=Math.ceil(Math.max(0,-Math.log(yt)/Math.LN10))+3,i("."+xt+"g")(Math.pow(10,ft))):(xt=Math.floor(Math.log(Math.abs(ft))/Math.LN10)-Math.floor(Math.log(yt)/Math.LN10)+4,i("."+String(xt)+"g")(ft))}function N(Q,ct,ft,yt,xt){for(var Lt=0;Lt<Q.length;Lt++){var gt=Q[Lt];if(!gt.fixedrange)if(gt.rangebreaks){var mt=gt._id.charAt(0)==="y",vt=mt?1-ct:ct,At=mt?1-ft:ft;yt[gt._name+".range[0]"]=gt.l2r(gt.p2l(vt*gt._length)),yt[gt._name+".range[1]"]=gt.l2r(gt.p2l(At*gt._length))}else{var Ot=gt._rl[0],Pt=gt._rl[1]-Ot;yt[gt._name+".range[0]"]=gt.l2r(Ot+Pt*ct),yt[gt._name+".range[1]"]=gt.l2r(Ot+Pt*ft)}}if(xt&&xt.length){var Et=(ct+(1-ft))/2;N(xt,Et,1-Et,yt,[])}}function B(Q,ct){for(var ft=0;ft<Q.length;ft++){var yt=Q[ft];if(!yt.fixedrange){if(yt.rangebreaks){var xt=0,Lt=yt._length,gt=yt.p2l(xt+ct)-yt.p2l(xt),mt=yt.p2l(Lt+ct)-yt.p2l(Lt),vt=(gt+mt)/2;yt.range=[yt.l2r(yt._rl[0]-vt),yt.l2r(yt._rl[1]-vt)]}else yt.range=[yt.l2r(yt._rl[0]-ct/yt._m),yt.l2r(yt._rl[1]-ct/yt._m)];yt.limitRange&&yt.limitRange()}}}function q(Q){return 1-(Q>=0?Math.min(Q,.9):1/(1/Math.max(Q,-.3)+3.222))}function V(Q,ct,ft){return Q?Q==="nsew"?ft?"":ct==="pan"?"move":"crosshair":Q.toLowerCase()+"-resize":"pointer"}function J(Q,ct,ft,yt,xt){return Q.append("path").attr("class","zoombox").style({fill:ct>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(ft,yt)).attr("d",xt+"Z")}function it(Q,ct,ft){return Q.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(ct,ft)).attr("d","M0,0Z")}function nt(Q,ct,ft,yt,xt,Lt){Q.attr("d",yt+"M"+ft.l+","+ft.t+"v"+ft.h+"h"+ft.w+"v-"+ft.h+"h-"+ft.w+"Z"),Y(Q,ct,xt,Lt)}function Y(Q,ct,ft,yt){ft||(Q.transition().style("fill",yt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ct.transition().style("opacity",1).duration(200))}function Z(Q){E.select(Q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function $(Q){z&&Q.data&&Q._context.showTips&&(S.notifier(S._(Q,"Double-click to zoom back out"),"long"),z=!1)}function G(Q,ct){return"M"+(Q.l-.5)+","+(ct-w-.5)+"h-3v"+(2*w+1)+"h3ZM"+(Q.r+.5)+","+(ct-w-.5)+"h3v"+(2*w+1)+"h-3Z"}function rt(Q,ct){return"M"+(ct-w-.5)+","+(Q.t-.5)+"v-3h"+(2*w+1)+"v3ZM"+(ct-w-.5)+","+(Q.b+.5)+"v3h"+(2*w+1)+"v-3Z"}function ot(Q){var ct=Math.floor(Math.min(Q.b-Q.t,Q.r-Q.l,w)/2);return"M"+(Q.l-3.5)+","+(Q.t-.5+ct)+"h3v"+-ct+"h"+ct+"v-3h-"+(ct+3)+"ZM"+(Q.r+3.5)+","+(Q.t-.5+ct)+"h-3v"+-ct+"h"+-ct+"v-3h"+(ct+3)+"ZM"+(Q.r+3.5)+","+(Q.b+.5-ct)+"h-3v"+ct+"h"+-ct+"v3h"+(ct+3)+"ZM"+(Q.l-3.5)+","+(Q.b+.5-ct)+"h3v"+ct+"h"+ct+"v3h-"+(ct+3)+"Z"}function W(Q,ct,ft,yt,xt){for(var Lt=!1,gt={},mt={},vt,At,Ot,Pt,Et=(xt||{}).xaHash,Nt=(xt||{}).yaHash,ne=0;ne<ct.length;ne++){var Gt=ct[ne];for(vt in ft)if(Gt[vt]){for(Ot in Gt)!(xt&&(Et[Ot]||Nt[Ot]))&&!(Ot.charAt(0)==="x"?ft:yt)[Ot]&&(gt[Ot]=vt);for(At in yt)!(xt&&(Et[At]||Nt[At]))&&Gt[At]&&(Lt=!0)}for(At in yt)if(Gt[At])for(Pt in Gt)!(xt&&(Et[Pt]||Nt[Pt]))&&!(Pt.charAt(0)==="x"?ft:yt)[Pt]&&(mt[Pt]=At)}Lt&&(S.extendFlat(gt,mt),mt={});var pe={},Vt=[];for(Ot in gt){var ae=k(Q,Ot);Vt.push(ae),pe[ae._id]=ae}var oe={},ce=[];for(Pt in mt){var le=k(Q,Pt);ce.push(le),oe[le._id]=le}return{xaHash:pe,yaHash:oe,xaxes:Vt,yaxes:ce,xLinks:gt,yLinks:mt,isSubplotConstrained:Lt}}function H(Q,ct){if(!T)Q.onwheel!==void 0?Q.onwheel=ct:Q.onmousewheel!==void 0?Q.onmousewheel=ct:Q.isAddedWheelEvent||(Q.isAddedWheelEvent=!0,Q.addEventListener("wheel",ct,{passive:!1}));else{var ft=Q.onwheel!==void 0?"wheel":"mousewheel";Q._onwheel&&Q.removeEventListener(ft,Q._onwheel),Q._onwheel=ct,Q.addEventListener(ft,ct,{passive:!1})}}function at(Q){var ct=[];for(var ft in Q)ct.push(Q[ft]);return ct}tt.exports={makeDragBox:O,makeDragger:D,makeRectDragger:P,makeZoombox:J,makeCorners:it,updateZoombox:nt,xyCorners:ot,transitionZoombox:Y,removeZoombox:Z,showDoubleClickNotifier:$,attachWheelEventHandler:H}},42464:function(tt,U,t){var E=t(33428),S=t(93024),i=t(86476),L=t(93972),T=t(51184).makeDragBox,v=t(33816).DRAGGERSIZE;U.initInteractions=function(d){var r=d._fullLayout;if(d._context.staticPlot){E.select(d).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var e=Object.keys(r._plots||{}).sort(function(n,s){if((r._plots[n].mainplot&&!0)===(r._plots[s].mainplot&&!0)){var o=n.split("y"),f=s.split("y");return o[0]===f[0]?Number(o[1]||1)-Number(f[1]||1):Number(o[0]||1)-Number(f[0]||1)}return r._plots[n].mainplot?1:-1});e.forEach(function(n){var s=r._plots[n],o=s.xaxis,f=s.yaxis;if(!s.mainplot){var b=T(d,s,o._offset,f._offset,o._length,f._length,"ns","ew");b.onmousemove=function(a){d._fullLayout._rehover=function(){d._fullLayout._hoversubplot===n&&d._fullLayout._plots[n]&&S.hover(d,a,n)},S.hover(d,a,n),d._fullLayout._lasthover=b,d._fullLayout._hoversubplot=n},b.onmouseout=function(a){d._dragging||(d._fullLayout._hoversubplot=null,i.unhover(d,a))},d._context.showAxisDragHandles&&(T(d,s,o._offset-v,f._offset-v,v,v,"n","w"),T(d,s,o._offset+o._length,f._offset-v,v,v,"n","e"),T(d,s,o._offset-v,f._offset+f._length,v,v,"s","w"),T(d,s,o._offset+o._length,f._offset+f._length,v,v,"s","e"))}if(d._context.showAxisDragHandles){if(n===o._mainSubplot){var h=o._mainLinePosition;o.side==="top"&&(h-=v),T(d,s,o._offset+o._length*.1,h,o._length*.8,v,"","ew"),T(d,s,o._offset,h,o._length*.1,v,"","w"),T(d,s,o._offset+o._length*.9,h,o._length*.1,v,"","e")}if(n===f._mainSubplot){var _=f._mainLinePosition;f.side!=="right"&&(_-=v),T(d,s,_,f._offset+f._length*.1,v,f._length*.8,"ns",""),T(d,s,_,f._offset+f._length*.9,v,f._length*.1,"s",""),T(d,s,_,f._offset,v,f._length*.1,"n","")}}});var l=r._hoverlayer.node();l.onmousemove=function(n){n.target=d._fullLayout._lasthover,S.hover(d,n,r._hoversubplot)},l.onclick=function(n){n.target=d._fullLayout._lasthover,S.click(d,n)},l.onmousedown=function(n){d._fullLayout._lasthover.onmousedown(n)},U.updateFx(d)}},U.updateFx=function(d){var r=d._fullLayout,e=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,e)}},36632:function(tt,U,t){var E=t(24040),S=t(3400),i=t(79811);tt.exports=function(L){return function(T,v){var d=T[L];if(Array.isArray(d))for(var r=E.subplotsRegistry.cartesian,e=r.idRegex,l=v._subplots,n=l.xaxis,s=l.yaxis,o=l.cartesian,f=v._has("cartesian")||v._has("gl2d"),b=0;b<d.length;b++){var h=d[b];if(S.isPlainObject(h)){var _=i.cleanId(h.xref,"x",!1),a=i.cleanId(h.yref,"y",!1),c=e.x.test(_),p=e.y.test(a);if(c||p){f||S.pushUnique(v._basePlotModules,r);var x=!1;c&&n.indexOf(_)===-1&&(n.push(_),x=!0),p&&s.indexOf(a)===-1&&(s.push(a),x=!0),x&&c&&p&&o.push(_+a)}}}}}},57952:function(tt,U,t){var E=t(33428),S=t(24040),i=t(3400),L=t(7316),T=t(43616),v=t(84888)._M,d=t(79811),r=t(33816),e=t(9616),l=i.ensureSingle;function n(_,a,c){return i.ensureSingle(_,a,c,function(p){p.datum(c)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=r.idRegex,U.attrRegex=r.attrRegex,U.attributes=t(26720),U.layoutAttributes=t(94724),U.supplyLayoutDefaults=t(67352),U.transitionAxes=t(73736),U.finalizeSubplots=function(_,a){var c=a._subplots,p=c.xaxis,x=c.yaxis,k=c.cartesian,y=k.concat(c.gl2d||[]),A={},C={},u,m,M;for(u=0;u<y.length;u++){var w=y[u].split("y");A[w[0]]=1,C["y"+w[1]]=1}for(u=0;u<p.length;u++)m=p[u],A[m]||(M=(_[d.id2name(m)]||{}).anchor,r.idRegex.y.test(M)||(M="y"),k.push(m+M),y.push(m+M),C[M]||(C[M]=1,i.pushUnique(x,M)));for(u=0;u<x.length;u++)M=x[u],C[M]||(m=(_[d.id2name(M)]||{}).anchor,r.idRegex.x.test(m)||(m="x"),k.push(m+M),y.push(m+M),A[m]||(A[m]=1,i.pushUnique(p,m)));if(!y.length){m="",M="";for(var z in _)if(r.attrRegex.test(z)){var O=z.charAt(0);O==="x"?(!m||+z.substr(5)<+m.substr(5))&&(m=z):(!M||+z.substr(5)<+M.substr(5))&&(M=z)}m=m?d.name2id(m):"x",M=M?d.name2id(M):"y",p.push(m),x.push(M),k.push(m+M)}},U.plot=function(_,a,c,p){var x=_._fullLayout,k=x._subplots.cartesian,y=_.calcdata,A;if(!Array.isArray(a))for(a=[],A=0;A<y.length;A++)a.push(A);for(A=0;A<k.length;A++){for(var C=k[A],u=x._plots[C],m=[],M,w=0;w<y.length;w++){var z=y[w],O=z[0].trace;O.xaxis+O.yaxis===C&&((a.indexOf(O.index)!==-1||O.carpet)&&(M&&M[0].trace.xaxis+M[0].trace.yaxis===C&&["tonextx","tonexty","tonext"].indexOf(O.fill)!==-1&&m.indexOf(M)===-1&&m.push(M),m.push(z)),M=z)}s(_,u,m,c,p)}};function s(_,a,c,p,x){for(var k=r.traceLayerClasses,y=_._fullLayout,A=y._modules,C,u,m,M={},w=0;w<c.length;w++){var z=c[w][0].trace,O=z.zorder||0;M[O]||(M[O]=[]),M[O].push(c[w])}for(var D=[],P=[],F=Object.keys(M).map(Number).sort(i.sorterAsc),R=0;R<F.length;R++)for(var N=F[R],B=0;B<A.length;B++){C=A[B];var q=C.name,V=S.modules[q].categories;if(V.svg){var J=C.layerName||q+"layer",it=J+(R?Number(R)+1:""),nt=C.plot;u=v(c,nt,N),m=u[0],c=u[1],m.length&&D.push({i:k.indexOf(J),zorder:R,className:it,plotMethod:nt,cdModule:m}),V.zoomScale&&P.push("."+it)}}D.sort(function($,G){return($.zorder||0)-(G.zorder||0)||$.i-G.i});var Y=a.plot.selectAll("g.mlayer").data(D,function($){return $.className});if(Y.enter().append("g").attr("class",function($){return $.className}).classed("mlayer",!0).classed("rangeplot",a.isRangePlot),Y.exit().remove(),Y.order(),Y.each(function($){var G=E.select(this),rt=$.className;$.plotMethod(_,a,$.cdModule,G,p,x),r.clipOnAxisFalseQuery.indexOf("."+rt)===-1&&T.setClipUrl(G,a.layerClipId,_)}),y._has("scattergl")&&(C=S.getModule("scattergl"),m=v(c,C)[0],C.plot(_,a,m)),!_._context.staticPlot&&(a._hasClipOnAxisFalse&&(a.clipOnAxisFalseTraces=a.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),P.length)){var Z=a.plot.selectAll(P.join(",")).selectAll(".trace");a.zoomScalePts=Z.selectAll("path.point"),a.zoomScaleTxt=Z.selectAll(".textpoint")}}U.clean=function(_,a,c,p){var x=p._plots||{},k=a._plots||{},y=p._subplots||{},A,C,u;if(p._hasOnlyLargeSploms&&!a._hasOnlyLargeSploms)for(u in x)A=x[u],A.plotgroup&&A.plotgroup.remove();var m=p._has&&p._has("gl"),M=a._has&&a._has("gl");if(m&&!M)for(u in x)A=x[u],A._scene&&A._scene.destroy();if(y.xaxis&&y.yaxis){var w=d.listIds({_fullLayout:p});for(C=0;C<w.length;C++){var z=w[C];a[d.id2name(z)]||p._infolayer.selectAll(".g-"+z+"title").remove()}}var O=p._has&&p._has("cartesian"),D=a._has&&a._has("cartesian");if(O&&!D)b(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(y.cartesian)for(C=0;C<y.cartesian.length;C++){var P=y.cartesian[C];if(!k[P]){var F="."+P+",."+P+"-x,."+P+"-y";p._cartesianlayer.selectAll(F).remove(),h(P,p)}}},U.drawFramework=function(_){var a=_._fullLayout,c=o(_),p=a._cartesianlayer.selectAll(".subplot").data(c,String);p.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),p.order(),p.exit().call(b,a),p.each(function(x){var k=x[0],y=a._plots[k];y.plotgroup=E.select(this),f(_,y),y.draglayer=l(a._draggers,"g",k)})},U.rangePlot=function(_,a,c){f(_,a),s(_,a,c),L.style(_)};function o(_){var a=_._fullLayout,c=a._subplots.cartesian,p=c.length,x,k,y,A,C,u,m=[],M=[];for(x=0;x<p;x++){y=c[x],A=a._plots[y],C=A.xaxis,u=A.yaxis;var w=C._mainAxis,z=u._mainAxis,O=w._id+z._id,D=a._plots[O];A.overlays=[],O!==y&&D?(A.mainplot=O,A.mainplotinfo=D,M.push(y)):(A.mainplot=void 0,A.mainplotinfo=void 0,m.push(y))}for(x=0;x<M.length;x++)y=M[x],A=a._plots[y],A.mainplotinfo.overlays.push(A);var P=m.concat(M),F=new Array(p);for(x=0;x<p;x++){y=P[x],A=a._plots[y],C=A.xaxis,u=A.yaxis;var R=[y,C.layer,u.layer,C.overlaying||"",u.overlaying||""];for(k=0;k<A.overlays.length;k++)R.push(A.overlays[k].id);F[x]=R}return F}function f(_,a){var c=a.plotgroup,p=a.id,x=r.layerValue2layerClass[a.xaxis.layer],k=r.layerValue2layerClass[a.yaxis.layer],y=_._fullLayout._hasOnlyLargeSploms;if(a.mainplot){var A=a.mainplotinfo,C=A.plotgroup,u=p+"-x",m=p+"-y";a.minorGridlayer=A.minorGridlayer,a.gridlayer=A.gridlayer,a.zerolinelayer=A.zerolinelayer,l(A.overlinesBelow,"path",u),l(A.overlinesBelow,"path",m),l(A.overaxesBelow,"g",u),l(A.overaxesBelow,"g",m),a.plot=l(A.overplot,"g",p),l(A.overlinesAbove,"path",u),l(A.overlinesAbove,"path",m),l(A.overaxesAbove,"g",u),l(A.overaxesAbove,"g",m),a.xlines=C.select(".overlines-"+x).select("."+u),a.ylines=C.select(".overlines-"+k).select("."+m),a.xaxislayer=C.select(".overaxes-"+x).select("."+u),a.yaxislayer=C.select(".overaxes-"+k).select("."+m)}else if(y)a.xlines=l(c,"path","xlines-above"),a.ylines=l(c,"path","ylines-above"),a.xaxislayer=l(c,"g","xaxislayer-above"),a.yaxislayer=l(c,"g","yaxislayer-above");else{var M=l(c,"g","layer-subplot");a.shapelayer=l(M,"g","shapelayer"),a.imagelayer=l(M,"g","imagelayer"),a.minorGridlayer=l(c,"g","minor-gridlayer"),a.gridlayer=l(c,"g","gridlayer"),a.zerolinelayer=l(c,"g","zerolinelayer");var w=l(c,"g","layer-between");a.shapelayerBetween=l(w,"g","shapelayer"),a.imagelayerBetween=l(w,"g","imagelayer"),l(c,"path","xlines-below"),l(c,"path","ylines-below"),a.overlinesBelow=l(c,"g","overlines-below"),l(c,"g","xaxislayer-below"),l(c,"g","yaxislayer-below"),a.overaxesBelow=l(c,"g","overaxes-below"),a.plot=l(c,"g","plot"),a.overplot=l(c,"g","overplot"),a.xlines=l(c,"path","xlines-above"),a.ylines=l(c,"path","ylines-above"),a.overlinesAbove=l(c,"g","overlines-above"),l(c,"g","xaxislayer-above"),l(c,"g","yaxislayer-above"),a.overaxesAbove=l(c,"g","overaxes-above"),a.xlines=c.select(".xlines-"+x),a.ylines=c.select(".ylines-"+k),a.xaxislayer=c.select(".xaxislayer-"+x),a.yaxislayer=c.select(".yaxislayer-"+k)}y||(n(a.minorGridlayer,"g",a.xaxis._id),n(a.minorGridlayer,"g",a.yaxis._id),a.minorGridlayer.selectAll("g").map(function(z){return z[0]}).sort(d.idSort),n(a.gridlayer,"g",a.xaxis._id),n(a.gridlayer,"g",a.yaxis._id),a.gridlayer.selectAll("g").map(function(z){return z[0]}).sort(d.idSort)),a.xlines.style("fill","none").classed("crisp",!0),a.ylines.style("fill","none").classed("crisp",!0)}function b(_,a){if(_){var c={};_.each(function(C){var u=C[0],m=E.select(this);m.remove(),h(u,a),c[u]=!0});for(var p in a._plots)for(var x=a._plots[p],k=x.overlays||[],y=0;y<k.length;y++){var A=k[y];c[A.id]&&A.plot.selectAll(".trace").remove()}}}function h(_,a){a._draggers.selectAll("g."+_).remove(),a._defs.select("#clip"+a._uid+_+"plot").remove()}U.toSVG=function(_){var a=_._fullLayout._glimages,c=E.select(_).selectAll(".svg-container"),p=c.filter(function(k,y){return y===c.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var k=this,y=k.toDataURL("image/png"),A=a.append("svg:image");A.attr({xmlns:e.svg,"xlink:href":y,preserveAspectRatio:"none",x:0,y:0,width:k.style.width,height:k.style.height})}p.each(x)},U.updateFx=t(42464).updateFx},94724:function(tt,U,t){var E=t(25376),S=t(22548),i=t(98192).u,L=t(92880).extendFlat,T=t(31780).templatedArray,v=t(29736).descriptionWithDates,d=t(39032).ONEDAY,r=t(33816),e=r.HOUR_PATTERN,l=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=L({},n,{values:n.values.slice().concat(["sync"])});function o(C){return{valType:"integer",min:0,dflt:C?5:0,editType:"ticks"}}var f={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},_={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function a(C){var u={valType:"number",min:0,editType:"ticks"};return C||(u.dflt=5),u}function c(C){var u={valType:"number",min:0,editType:"ticks"};return C||(u.dflt=1),u}var p={valType:"color",dflt:S.defaultLine,editType:"ticks"},x={valType:"color",dflt:S.lightLine,editType:"ticks"};function k(C){var u={valType:"number",min:0,editType:"ticks"};return C||(u.dflt=1),u}var y=L({},i,{editType:"ticks"}),A={valType:"boolean",editType:"ticks"};tt.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:S.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:E({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:s,nticks:o(),tick0:f,dtick:b,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:_,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:a(),tickwidth:c(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:E({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:S.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:A,gridcolor:x,gridwidth:k(),griddash:y,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:S.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:S.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:o("minor"),tick0:f,dtick:b,tickvals:h,ticks:_,ticklen:a("minor"),tickwidth:c("minor"),tickcolor:p,gridcolor:x,gridwidth:k("minor"),griddash:y,showgrid:A,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:E({editType:"ticks"})}}},67352:function(tt,U,t){var E=t(3400),S=t(76308),i=t(10624).isUnifiedHover,L=t(41008),T=t(31780),v=t(64859),d=t(94724),r=t(14944),e=t(28336),l=t(71888),n=t(37668),s=t(79811),o=s.id2name,f=s.name2id,b=t(33816).AX_ID_PATTERN,h=t(24040),_=h.traceIs,a=h.getComponentMethod;function c(p,x,k){Array.isArray(p[x])?p[x].push(k):p[x]=[k]}tt.exports=function(p,x,k){var y=x.autotypenumbers,A={},C={},u={},m={},M={},w={},z={},O={},D={},P={},F,R;for(F=0;F<k.length;F++){var N=k[F];if(!(!_(N,"cartesian")&&!_(N,"gl2d"))){var B;if(N.xaxis)B=o(N.xaxis),c(A,B,N);else if(N.xaxes)for(R=0;R<N.xaxes.length;R++)c(A,o(N.xaxes[R]),N);var q;if(N.yaxis)q=o(N.yaxis),c(A,q,N);else if(N.yaxes)for(R=0;R<N.yaxes.length;R++)c(A,o(N.yaxes[R]),N);if(N.type==="funnel"?N.orientation==="h"?(B&&(C[B]=!0),q&&(z[q]=!0)):q&&(u[q]=!0):N.type==="image"?(q&&(O[q]=!0),B&&(O[B]=!0)):(q&&(M[q]=!0,w[q]=!0),(!_(N,"carpet")||N.type==="carpet"&&!N._cheater)&&B&&(m[B]=!0)),N.type==="carpet"&&N._cheater&&B&&(C[B]=!0),_(N,"2dMap")&&(D[B]=!0,D[q]=!0),_(N,"oriented")){var V=N.orientation==="h"?q:B;P[V]=!0}}}var J=x._subplots,it=J.xaxis,nt=J.yaxis,Y=E.simpleMap(it,o),Z=E.simpleMap(nt,o),$=Y.concat(Z),G=S.background;it.length&&nt.length&&(G=E.coerce(p,x,v,"plot_bgcolor"));var rt=S.combine(G,x.paper_bgcolor),ot,W,H,at,Q;function ct(){var dt=A[ot]||[];Q._traceIndices=dt.map(function(ht){return ht._expandedIndex}),Q._annIndices=[],Q._shapeIndices=[],Q._selectionIndices=[],Q._imgIndices=[],Q._subplotsWith=[],Q._counterAxes=[],Q._name=Q._attr=ot,Q._id=W}function ft(dt,ht){return E.coerce(at,Q,d,dt,ht)}function yt(dt,ht){return E.coerce2(at,Q,d,dt,ht)}function xt(dt){return dt==="x"?nt:it}function Lt(dt,ht){for(var bt=dt==="x"?Y:Z,zt=[],qt=0;qt<bt.length;qt++){var te=bt[qt];te!==ht&&!(p[te]||{}).overlaying&&zt.push(f(te))}return zt}var gt={x:xt("x"),y:xt("y")},mt=gt.x.concat(gt.y),vt={},At=[];function Ot(){var dt=at.matches;b.test(dt)&&mt.indexOf(dt)===-1&&(vt[dt]=at.type,At=Object.keys(vt))}var Pt=L(p,x),Et=i(Pt);for(F=0;F<$.length;F++){ot=$[F],W=f(ot),H=ot.charAt(0),E.isPlainObject(p[ot])||(p[ot]={}),at=p[ot],Q=T.newContainer(x,ot,H+"axis"),ct();var Nt=H==="x"&&!m[ot]&&C[ot]||H==="y"&&!M[ot]&&u[ot],ne=H==="y"&&(!w[ot]&&z[ot]||O[ot]),Gt={hasMinor:!0,letter:H,font:x.font,outerTicks:D[ot],showGrid:!P[ot],data:A[ot]||[],bgColor:rt,calendar:x.calendar,automargin:!0,visibleDflt:Nt,reverseDflt:ne,autotypenumbersDflt:y,splomStash:((x._splomAxes||{})[H]||{})[W],noAutotickangles:H==="y"};ft("uirevision",x.uirevision),r(at,Q,ft,Gt),e(at,Q,ft,Gt,x);var pe=Et&&H===Pt.charAt(0),Vt=yt("spikecolor",Et?Q.color:void 0),ae=yt("spikethickness",Et?1.5:void 0),oe=yt("spikedash",Et?"dot":void 0),ce=yt("spikemode",Et?"across":void 0),le=yt("spikesnap"),ye=ft("showspikes",!!pe||!!Vt||!!ae||!!oe||!!ce||!!le);ye||(delete Q.spikecolor,delete Q.spikethickness,delete Q.spikedash,delete Q.spikemode,delete Q.spikesnap);var Tt=o(at.overlaying),Ft=[0,1];if(x[Tt]!==void 0){var $t=o(x[Tt].anchor);x[$t]!==void 0&&(Ft=x[$t].domain)}n(at,Q,ft,{letter:H,counterAxes:gt[H],overlayableAxes:Lt(H,ot),grid:x.grid,overlayingDomain:Ft}),ft("title.standoff"),Ot(),Q._input=at}for(F=0;F<At.length;){W=At[F++],ot=o(W),H=ot.charAt(0),E.isPlainObject(p[ot])||(p[ot]={}),at=p[ot],Q=T.newContainer(x,ot,H+"axis"),ct();var Wt={letter:H,font:x.font,outerTicks:D[ot],showGrid:!P[ot],data:[],bgColor:rt,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((x._splomAxes||{})[H]||{})[W]};ft("uirevision",x.uirevision),Q.type=vt[W]||"linear",e(at,Q,ft,Wt,x),n(at,Q,ft,{letter:H,counterAxes:gt[H],overlayableAxes:Lt(H,ot),grid:x.grid}),ft("fixedrange"),Ot(),Q._input=at}var Bt=a("rangeslider","handleDefaults"),Mt=a("rangeselector","handleDefaults");for(F=0;F<Y.length;F++)ot=Y[F],at=p[ot],Q=x[ot],Bt(p,x,ot),Q.type==="date"&&Mt(at,Q,x,Z,Q.calendar),ft("fixedrange");for(F=0;F<Z.length;F++){ot=Z[F],at=p[ot],Q=x[ot];var St=x[o(Q.anchor)],Dt=a("rangeslider","isVisible")(St);ft("fixedrange",Dt)}l.handleDefaults(p,x,{axIds:mt.concat(At).sort(s.idSort),axHasImage:O})}},42136:function(tt,U,t){var E=t(49760).mix,S=t(22548),i=t(3400);tt.exports=function(L,T,v,d){d=d||{};var r=d.dfltColor;function e(u,m){return i.coerce2(L,T,d.attributes,u,m)}var l=e("linecolor",r),n=e("linewidth"),s=v("showline",d.showLine||!!l||!!n);s||(delete T.linecolor,delete T.linewidth);var o=E(r,d.bgColor,d.blend||S.lightFraction).toRgbString(),f=e("gridcolor",o),b=e("gridwidth"),h=e("griddash"),_=v("showgrid",d.showGrid||!!f||!!b||!!h);if(_||(delete T.gridcolor,delete T.gridwidth,delete T.griddash),d.hasMinor){var a=E(T.gridcolor,d.bgColor,67).toRgbString(),c=e("minor.gridcolor",a),p=e("minor.gridwidth",T.gridwidth||1),x=e("minor.griddash",T.griddash||"solid"),k=v("minor.showgrid",!!c||!!p||!!x);k||(delete T.minor.gridcolor,delete T.minor.gridwidth,delete T.minor.griddash)}if(!d.noZeroLine){var y=e("zerolinecolor",r),A=e("zerolinewidth"),C=v("zeroline",d.showGrid||!!y||!!A);C||(delete T.zerolinecolor,delete T.zerolinewidth)}}},37668:function(tt,U,t){var E=t(38248),S=t(3400);tt.exports=function(i,L,T,v){var d=v.counterAxes||[],r=v.overlayableAxes||[],e=v.letter,l=v.grid,n=v.overlayingDomain,s,o,f,b,h,_;l&&(o=l._domains[e][l._axisMap[L._id]],s=l._anchors[L._id],o&&(f=l[e+"side"].split(" ")[0],b=l.domain[e][f==="right"||f==="top"?1:0])),o=o||[0,1],s=s||(E(i.position)?"free":d[0]||"free"),f=f||(e==="x"?"bottom":"left"),b=b||0,h=0,_=!1;var a=S.coerce(i,L,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:s}},"anchor"),c=S.coerce(i,L,{side:{valType:"enumerated",values:e==="x"?["bottom","top"]:["left","right"],dflt:f}},"side");if(a==="free"){if(e==="y"){var p=T("autoshift");p&&(b=c==="left"?n[0]:n[1],_=L.automargin?L.automargin:!0,h=c==="left"?-3:3),T("shift",h)}T("position",b)}T("automargin",_);var x=!1;if(r.length&&(x=S.coerce(i,L,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!x){var k=T("domain",o);k[0]>k[1]-.000244140625&&(L.domain=o),S.noneOrAll(i.domain,L.domain,o),L.tickmode==="sync"&&(L.tickmode="auto")}return T("layer"),L}},42568:function(tt,U,t){var E=t(85024);tt.exports=function(S,i,L,T,v){v||(v={});var d=v.tickSuffixDflt,r=E(S),e=L("tickprefix");e&&L("showtickprefix",r);var l=L("ticksuffix",d);l&&L("showticksuffix",r)}},96312:function(tt,U,t){var E=t(76808);tt.exports=function(S,i,L,T){var v=i._template||{},d=i.type||v.type||"-";L("minallowed"),L("maxallowed");var r=L("range");if(!r){var e;!T.noInsiderange&&d!=="log"&&(e=L("insiderange"),e&&(e[0]===null||e[1]===null)&&(i.insiderange=!1,e=void 0),e&&(r=L("range",e)))}var l=i.getAutorangeDflt(r,T),n=L("autorange",l),s;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(n==="reversed"||n===!0)||r[0]!==null&&(n==="min"||n==="max reversed")||r[1]!==null&&(n==="max"||n==="min reversed"))&&(r=void 0,delete i.range,i.autorange=!0,s=!0),s||(l=i.getAutorangeDflt(r,T),n=L("autorange",l)),n&&(E(L,n,r),(d==="linear"||d==="-")&&L("rangemode")),i.cleanRange()}},21160:function(tt,U,t){var E=t(84284).FROM_BL;tt.exports=function(S,i,L){L===void 0&&(L=E[S.constraintoward||"center"]);var T=[S.r2l(S.range[0]),S.r2l(S.range[1])],v=T[0]+(T[1]-T[0])*L;S.range=S._input.range=[S.l2r(v+(T[0]-v)*i),S.l2r(v+(T[1]-v)*i)],S.setScale()}},78344:function(tt,U,t){var E=t(33428),S=t(94336).E9,i=t(3400),L=i.numberFormat,T=t(38248),v=i.cleanNumber,d=i.ms2DateTime,r=i.dateTime2ms,e=i.ensureNumber,l=i.isArrayOrTypedArray,n=t(39032),s=n.FP_SAFE,o=n.BADNUM,f=n.LOG_CLIP,b=n.ONEWEEK,h=n.ONEDAY,_=n.ONEHOUR,a=n.ONEMIN,c=n.ONESEC,p=t(79811),x=t(33816),k=x.HOUR_PATTERN,y=x.WEEKDAY_PATTERN;function A(u){return Math.pow(10,u)}function C(u){return u!=null}tt.exports=function(u,m){m=m||{};var M=u._id||"x",w=M.charAt(0);function z($,G){if($>0)return Math.log($)/Math.LN10;if($<=0&&G&&u.range&&u.range.length===2){var rt=u.range[0],ot=u.range[1];return .5*(rt+ot-2*f*Math.abs(rt-ot))}else return o}function O($,G,rt,ot){if((ot||{}).msUTC&&T($))return+$;var W=r($,rt||u.calendar);if(W===o)if(T($)){$=+$;var H=Math.floor(i.mod($+.05,1)*10),at=Math.round($-H/10);W=r(new Date(at))+H/10}else return o;return W}function D($,G,rt){return d($,G,rt||u.calendar)}function P($){return u._categories[Math.round($)]}function F($){if(C($)){if(u._categoriesMap===void 0&&(u._categoriesMap={}),u._categoriesMap[$]!==void 0)return u._categoriesMap[$];u._categories.push(typeof $=="number"?String($):$);var G=u._categories.length-1;return u._categoriesMap[$]=G,G}return o}function R($,G){for(var rt=new Array(G),ot=0;ot<G;ot++){var W=($[0]||[])[ot],H=($[1]||[])[ot];rt[ot]=N([W,H])}return rt}function N($){if(u._categoriesMap)return u._categoriesMap[$]}function B($){var G=N($);if(G!==void 0)return G;if(T($))return+$}function q($){return T($)?+$:N($)}function V($,G,rt){return E.round(rt+G*$,2)}function J($,G,rt){return($-rt)/G}var it=function($){return T($)?V($,u._m,u._b):o},nt=function($){return J($,u._m,u._b)};if(u.rangebreaks){var Y=w==="y";it=function($){if(!T($))return o;var G=u._rangebreaks.length;if(!G)return V($,u._m,u._b);var rt=Y;u.range[0]>u.range[1]&&(rt=!rt);for(var ot=rt?-1:1,W=ot*$,H=0,at=0;at<G;at++){var Q=ot*u._rangebreaks[at].min,ct=ot*u._rangebreaks[at].max;if(W<Q)break;if(W>ct)H=at+1;else{H=W<(Q+ct)/2?at:at+1;break}}var ft=u._B[H]||0;return isFinite(ft)?V($,u._m2,ft):0},nt=function($){var G=u._rangebreaks.length;if(!G)return J($,u._m,u._b);for(var rt=0,ot=0;ot<G&&!($<u._rangebreaks[ot].pmin);ot++)$>u._rangebreaks[ot].pmax&&(rt=ot+1);return J($,u._m2,u._B[rt])}}u.c2l=u.type==="log"?z:e,u.l2c=u.type==="log"?A:e,u.l2p=it,u.p2l=nt,u.c2p=u.type==="log"?function($,G){return it(z($,G))}:it,u.p2c=u.type==="log"?function($){return A(nt($))}:nt,["linear","-"].indexOf(u.type)!==-1?(u.d2r=u.r2d=u.d2c=u.r2c=u.d2l=u.r2l=v,u.c2d=u.c2r=u.l2d=u.l2r=e,u.d2p=u.r2p=function($){return u.l2p(v($))},u.p2d=u.p2r=nt,u.cleanPos=e):u.type==="log"?(u.d2r=u.d2l=function($,G){return z(v($),G)},u.r2d=u.r2c=function($){return A(v($))},u.d2c=u.r2l=v,u.c2d=u.l2r=e,u.c2r=z,u.l2d=A,u.d2p=function($,G){return u.l2p(u.d2r($,G))},u.p2d=function($){return A(nt($))},u.r2p=function($){return u.l2p(v($))},u.p2r=nt,u.cleanPos=e):u.type==="date"?(u.d2r=u.r2d=i.identity,u.d2c=u.r2c=u.d2l=u.r2l=O,u.c2d=u.c2r=u.l2d=u.l2r=D,u.d2p=u.r2p=function($,G,rt){return u.l2p(O($,0,rt))},u.p2d=u.p2r=function($,G,rt){return D(nt($),G,rt)},u.cleanPos=function($){return i.cleanDate($,o,u.calendar)}):u.type==="category"?(u.d2c=u.d2l=F,u.r2d=u.c2d=u.l2d=P,u.d2r=u.d2l_noadd=B,u.r2c=function($){var G=q($);return G!==void 0?G:u.fraction2r(.5)},u.l2r=u.c2r=e,u.r2l=q,u.d2p=function($){return u.l2p(u.r2c($))},u.p2d=function($){return P(nt($))},u.r2p=u.d2p,u.p2r=nt,u.cleanPos=function($){return typeof $=="string"&&$!==""?$:e($)}):u.type==="multicategory"&&(u.r2d=u.c2d=u.l2d=P,u.d2r=u.d2l_noadd=B,u.r2c=function($){var G=B($);return G!==void 0?G:u.fraction2r(.5)},u.r2c_just_indices=N,u.l2r=u.c2r=e,u.r2l=B,u.d2p=function($){return u.l2p(u.r2c($))},u.p2d=function($){return P(nt($))},u.r2p=u.d2p,u.p2r=nt,u.cleanPos=function($){return Array.isArray($)||typeof $=="string"&&$!==""?$:e($)},u.setupMultiCategory=function($){var G=u._traceIndices,rt,ot,W=u._matchGroup;if(W&&u._categories.length===0){for(var H in W)if(H!==M){var at=m[p.id2name(H)];G=G.concat(at._traceIndices)}}var Q=[[0,{}],[0,{}]],ct=[];for(rt=0;rt<G.length;rt++){var ft=$[G[rt]];if(w in ft){var yt=ft[w],xt=ft._length||i.minRowLength(yt);if(l(yt[0])&&l(yt[1]))for(ot=0;ot<xt;ot++){var Lt=yt[0][ot],gt=yt[1][ot];C(Lt)&&C(gt)&&(ct.push([Lt,gt]),Lt in Q[0][1]||(Q[0][1][Lt]=Q[0][0]++),gt in Q[1][1]||(Q[1][1][gt]=Q[1][0]++))}}}for(ct.sort(function(mt,vt){var At=Q[0][1],Ot=At[mt[0]]-At[vt[0]];if(Ot)return Ot;var Pt=Q[1][1];return Pt[mt[1]]-Pt[vt[1]]}),rt=0;rt<ct.length;rt++)F(ct[rt])}),u.fraction2r=function($){var G=u.r2l(u.range[0]),rt=u.r2l(u.range[1]);return u.l2r(G+$*(rt-G))},u.r2fraction=function($){var G=u.r2l(u.range[0]),rt=u.r2l(u.range[1]);return(u.r2l($)-G)/(rt-G)},u.limitRange=function($){var G=u.minallowed,rt=u.maxallowed;if(!(G===void 0&&rt===void 0)){$||($="range");var ot=i.nestedProperty(u,$).get(),W=i.simpleMap(ot,u.r2l),H=W[1]<W[0];H&&W.reverse();var at=i.simpleMap([G,rt],u.r2l);if(G!==void 0&&W[0]<at[0]&&(ot[H?1:0]=G),rt!==void 0&&W[1]>at[1]&&(ot[H?0:1]=rt),ot[0]===ot[1]){var Q=u.l2r(G),ct=u.l2r(rt);if(G!==void 0){var ft=Q+1;rt!==void 0&&(ft=Math.min(ft,ct)),ot[H?1:0]=ft}if(rt!==void 0){var yt=ct+1;G!==void 0&&(yt=Math.max(yt,Q)),ot[H?0:1]=yt}}}},u.cleanRange=function($,G){u._cleanRange($,G),u.limitRange($)},u._cleanRange=function($,G){G||(G={}),$||($="range");var rt=i.nestedProperty(u,$).get(),ot,W;if(u.type==="date"?W=i.dfltRange(u.calendar):w==="y"?W=x.DFLTRANGEY:u._name==="realaxis"?W=[0,1]:W=G.dfltRange||x.DFLTRANGEX,W=W.slice(),(u.rangemode==="tozero"||u.rangemode==="nonnegative")&&(W[0]=0),!rt||rt.length!==2){i.nestedProperty(u,$).set(W);return}var H=rt[0]===null,at=rt[1]===null;for(u.type==="date"&&!u.autorange&&(rt[0]=i.cleanDate(rt[0],o,u.calendar),rt[1]=i.cleanDate(rt[1],o,u.calendar)),ot=0;ot<2;ot++)if(u.type==="date"){if(!i.isDateTime(rt[ot],u.calendar)){u[$]=W;break}if(u.r2l(rt[0])===u.r2l(rt[1])){var Q=i.constrain(u.r2l(rt[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);rt[0]=u.l2r(Q-1e3),rt[1]=u.l2r(Q+1e3);break}}else{if(!T(rt[ot]))if(!(H||at)&&T(rt[1-ot]))rt[ot]=rt[1-ot]*(ot?10:.1);else{u[$]=W;break}if(rt[ot]<-s?rt[ot]=-s:rt[ot]>s&&(rt[ot]=s),rt[0]===rt[1]){var ct=Math.max(1,Math.abs(rt[0]*1e-6));rt[0]-=ct,rt[1]+=ct}}},u.setScale=function($){var G=m._size;if(u.overlaying){var rt=p.getFromId({_fullLayout:m},u.overlaying);u.domain=rt.domain}var ot=$&&u._r?"_r":"range",W=u.calendar;u.cleanRange(ot);var H=u.r2l(u[ot][0],W),at=u.r2l(u[ot][1],W),Q=w==="y";if(Q?(u._offset=G.t+(1-u.domain[1])*G.h,u._length=G.h*(u.domain[1]-u.domain[0]),u._m=u._length/(H-at),u._b=-u._m*at):(u._offset=G.l+u.domain[0]*G.w,u._length=G.w*(u.domain[1]-u.domain[0]),u._m=u._length/(at-H),u._b=-u._m*H),u._rangebreaks=[],u._lBreaks=0,u._m2=0,u._B=[],u.rangebreaks){var ct,ft;if(u._rangebreaks=u.locateBreaks(Math.min(H,at),Math.max(H,at)),u._rangebreaks.length){for(ct=0;ct<u._rangebreaks.length;ct++)ft=u._rangebreaks[ct],u._lBreaks+=Math.abs(ft.max-ft.min);var yt=Q;H>at&&(yt=!yt),yt&&u._rangebreaks.reverse();var xt=yt?-1:1;for(u._m2=xt*u._length/(Math.abs(at-H)-u._lBreaks),u._B.push(-u._m2*(Q?at:H)),ct=0;ct<u._rangebreaks.length;ct++)ft=u._rangebreaks[ct],u._B.push(u._B[u._B.length-1]-xt*u._m2*(ft.max-ft.min));for(ct=0;ct<u._rangebreaks.length;ct++)ft=u._rangebreaks[ct],ft.pmin=it(ft.min),ft.pmax=it(ft.max)}}if(!isFinite(u._m)||!isFinite(u._b)||u._length<0)throw m._replotting=!1,new Error("Something went wrong with axis scaling")},u.maskBreaks=function($){var G=u.rangebreaks||[],rt,ot,W,H,at;G._cachedPatterns||(G._cachedPatterns=G.map(function(At){return At.enabled&&At.bounds?i.simpleMap(At.bounds,At.pattern?v:u.d2c):null})),G._cachedValues||(G._cachedValues=G.map(function(At){return At.enabled&&At.values?i.simpleMap(At.values,u.d2c).sort(i.sorterAsc):null}));for(var Q=0;Q<G.length;Q++){var ct=G[Q];if(ct.enabled){if(ct.bounds){var ft=ct.pattern;switch(rt=G._cachedPatterns[Q],ot=rt[0],W=rt[1],ft){case y:at=new Date($),H=at.getUTCDay(),ot>W&&(W+=7,H<ot&&(H+=7));break;case k:at=new Date($);var yt=at.getUTCHours(),xt=at.getUTCMinutes(),Lt=at.getUTCSeconds(),gt=at.getUTCMilliseconds();H=yt+(xt/60+Lt/3600+gt/36e5),ot>W&&(W+=24,H<ot&&(H+=24));break;case"":H=$;break}if(H>=ot&&H<W)return o}else for(var mt=G._cachedValues[Q],vt=0;vt<mt.length;vt++)if(ot=mt[vt],W=ot+ct.dvalue,$>=ot&&$<W)return o}}return $},u.locateBreaks=function($,G){var rt,ot,W,H,at=[];if(!u.rangebreaks)return at;var Q=u.rangebreaks.slice().sort(function(Pt,Et){return Pt.pattern===y&&Et.pattern===k?-1:Et.pattern===y&&Pt.pattern===k?1:0}),ct=function(Pt,Et){if(Pt=i.constrain(Pt,$,G),Et=i.constrain(Et,$,G),Pt!==Et){for(var Nt=!0,ne=0;ne<at.length;ne++){var Gt=at[ne];Pt<Gt.max&&Et>=Gt.min&&(Pt<Gt.min&&(Gt.min=Pt),Et>Gt.max&&(Gt.max=Et),Nt=!1)}Nt&&at.push({min:Pt,max:Et})}};for(rt=0;rt<Q.length;rt++){var ft=Q[rt];if(ft.enabled)if(ft.bounds){var yt=$,xt=G;ft.pattern&&(yt=Math.floor(yt)),ot=i.simpleMap(ft.bounds,ft.pattern?v:u.r2l),W=ot[0],H=ot[1];var Lt=new Date(yt),gt,mt;switch(ft.pattern){case y:mt=b,gt=((H<W?7:0)+(H-W))*h,yt+=W*h-(Lt.getUTCDay()*h+Lt.getUTCHours()*_+Lt.getUTCMinutes()*a+Lt.getUTCSeconds()*c+Lt.getUTCMilliseconds());break;case k:mt=h,gt=((H<W?24:0)+(H-W))*_,yt+=W*_-(Lt.getUTCHours()*_+Lt.getUTCMinutes()*a+Lt.getUTCSeconds()*c+Lt.getUTCMilliseconds());break;default:yt=Math.min(ot[0],ot[1]),xt=Math.max(ot[0],ot[1]),mt=xt-yt,gt=mt}for(var vt=yt;vt<xt;vt+=mt)ct(vt,vt+gt)}else for(var At=i.simpleMap(ft.values,u.d2c),Ot=0;Ot<At.length;Ot++)W=At[Ot],H=W+ft.dvalue,ct(W,H)}return at.sort(function(Pt,Et){return Pt.min-Et.min}),at},u.makeCalcdata=function($,G,rt){var ot,W,H,at,Q=u.type,ct=Q==="date"&&$[G+"calendar"];if(G in $){if(ot=$[G],at=$._length||i.minRowLength(ot),i.isTypedArray(ot)&&(Q==="linear"||Q==="log")){if(at===ot.length)return ot;if(ot.subarray)return ot.subarray(0,at)}if(Q==="multicategory")return R(ot,at);for(W=new Array(at),H=0;H<at;H++)W[H]=u.d2c(ot[H],0,ct,rt)}else{var ft=G+"0"in $?u.d2c($[G+"0"],0,ct):0,yt=$["d"+G]?Number($["d"+G]):1;for(ot=$[{x:"y",y:"x"}[G]],at=$._length||ot.length,W=new Array(at),H=0;H<at;H++)W[H]=ft+H*yt}if(u.rangebreaks)for(H=0;H<at;H++)W[H]=u.maskBreaks(W[H]);return W},u.isValidRange=function($,G){return Array.isArray($)&&$.length===2&&(G&&$[0]===null||T(u.r2l($[0])))&&(G&&$[1]===null||T(u.r2l($[1])))},u.getAutorangeDflt=function($,G){var rt=!u.isValidRange($,"nullOk");return rt&&G&&G.reverseDflt?rt="reversed":$&&($[0]===null&&$[1]===null?rt=!0:$[0]===null&&$[1]!==null?rt="min":$[0]!==null&&$[1]===null&&(rt="max")),rt},u.isReversed=function(){var $=u.autorange;return $==="reversed"||$==="min reversed"||$==="max reversed"},u.isPtWithinRange=function($,G){var rt=u.c2l($[w],null,G),ot=u.r2l(u.range[0]),W=u.r2l(u.range[1]);return ot<W?ot<=rt&&rt<=W:W<=rt&&rt<=ot},u._emptyCategories=function(){u._categories=[],u._categoriesMap={}},u.clearCalc=function(){var $=u._matchGroup;if($){var G=null,rt=null;for(var ot in $){var W=m[p.id2name(ot)];if(W._categories){G=W._categories,rt=W._categoriesMap;break}}G&&rt?(u._categories=G,u._categoriesMap=rt):u._emptyCategories()}else u._emptyCategories();if(u._initialCategories)for(var H=0;H<u._initialCategories.length;H++)F(u._initialCategories[H])},u.sortByInitialCategories=function(){var $=[];if(u._emptyCategories(),u._initialCategories)for(var G=0;G<u._initialCategories.length;G++)F(u._initialCategories[G]);$=$.concat(u._traceIndices);var rt=u._matchGroup;for(var ot in rt)if(M!==ot){var W=m[p.id2name(ot)];W._categories=u._categories,W._categoriesMap=u._categoriesMap,$=$.concat(W._traceIndices)}return $};var Z=m._d3locale;u.type==="date"&&(u._dateFormat=Z?Z.timeFormat:S,u._extraFormat=m._extraFormat),u._separators=m.separators,u._numFormat=Z?Z.numberFormat:L,delete u._minDtick,delete u._forceTick0}},85024:function(tt){tt.exports=function(U){var t=["showexponent","showtickprefix","showticksuffix"],E=t.filter(function(i){return U[i]!==void 0}),S=function(i){return U[i]===U[E[0]]};if(E.every(S)||E.length===1)return U[E[0]]}},95936:function(tt,U,t){var E=t(3400),S=t(76308).contrast,i=t(94724),L=t(85024),T=t(51272);tt.exports=function(d,r,e,l,n){n||(n={});var s=e("labelalias");E.isPlainObject(s)||delete r.labelalias;var o=L(d),f=e("showticklabels");if(f){var b=n.font||{},h=r.color,_=r.ticklabelposition||"",a=_.indexOf("inside")!==-1?S(n.bgColor):h&&h!==i.color.dflt?h:b.color;if(E.coerceFont(e,"tickfont",{family:b.family,weight:b.weight,style:b.style,variant:b.variant,size:b.size,color:a}),!n.noTicklabelstep&&l!=="multicategory"&&l!=="log"&&e("ticklabelstep"),!n.noAng){var c=e("tickangle");!n.noAutotickangles&&c==="auto"&&e("autotickangles")}if(l!=="category"){var p=e("tickformat");T(d,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!n.noExp&&!p&&l!=="date"&&(e("showexponent",o),e("exponentformat"),e("minexponent"),e("separatethousands"))}}};function v(d,r){function e(n,s){return E.coerce(d,r,i.tickformatstops,n,s)}var l=e("enabled");l&&(e("dtickrange"),e("value"))}},25404:function(tt,U,t){var E=t(3400),S=t(94724);tt.exports=function(i,L,T,v){var d=v.isMinor,r=d?i.minor||{}:i,e=d?L.minor:L,l=d?S.minor:S,n=d?"minor.":"",s=E.coerce2(r,e,l,"ticklen",d?(L.ticklen||5)*.6:void 0),o=E.coerce2(r,e,l,"tickwidth",d?L.tickwidth||1:void 0),f=E.coerce2(r,e,l,"tickcolor",(d?L.tickcolor:void 0)||e.color),b=T(n+"ticks",!d&&v.outerTicks||s||o||f?"outside":"");b||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},26332:function(tt,U,t){var E=t(98728),S=t(3400).isArrayOrTypedArray,i=t(38116).isTypedArraySpec,L=t(38116).decodeTypedArraySpec;tt.exports=function(T,v,d,r,e){e||(e={});var l=e.isMinor,n=l?T.minor||{}:T,s=l?v.minor:v,o=l?"minor.":"";function f(k){var y=n[k];return i(y)&&(y=L(y)),y!==void 0?y:(s._template||{})[k]}var b=f("tick0"),h=f("dtick"),_=f("tickvals"),a=S(_)?"array":h?"linear":"auto",c=d(o+"tickmode",a);if(c==="auto"||c==="sync")d(o+"nticks");else if(c==="linear"){var p=s.dtick=E.dtick(h,r);s.tick0=E.tick0(b,r,v.calendar,p)}else if(r!=="multicategory"){var x=d(o+"tickvals");x===void 0?s.tickmode="auto":l||d("ticktext")}}},73736:function(tt,U,t){var E=t(33428),S=t(24040),i=t(3400),L=t(43616),T=t(54460);tt.exports=function(v,d,r,e){var l=v._fullLayout;if(d.length===0){T.redrawComponents(v);return}function n(x){var k=x.xaxis,y=x.yaxis;l._defs.select("#"+x.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),x.plot.call(L.setTranslate,k._offset,y._offset).call(L.setScale,1,1);var A=x.plot.selectAll(".scatterlayer .trace");A.selectAll(".point").call(L.setPointGroupScale,1,1),A.selectAll(".textpoint").call(L.setTextPointsScale,1,1),A.call(L.hideOutsideRangePoints,x)}function s(x,k){var y=x.plotinfo,A=y.xaxis,C=y.yaxis,u=A._length,m=C._length,M=!!x.xr1,w=!!x.yr1,z=[];if(M){var O=i.simpleMap(x.xr0,A.r2l),D=i.simpleMap(x.xr1,A.r2l),P=O[1]-O[0],F=D[1]-D[0];z[0]=(O[0]*(1-k)+k*D[0]-O[0])/(O[1]-O[0])*u,z[2]=u*(1-k+k*F/P),A.range[0]=A.l2r(O[0]*(1-k)+k*D[0]),A.range[1]=A.l2r(O[1]*(1-k)+k*D[1])}else z[0]=0,z[2]=u;if(w){var R=i.simpleMap(x.yr0,C.r2l),N=i.simpleMap(x.yr1,C.r2l),B=R[1]-R[0],q=N[1]-N[0];z[1]=(R[1]*(1-k)+k*N[1]-R[1])/(R[0]-R[1])*m,z[3]=m*(1-k+k*q/B),C.range[0]=A.l2r(R[0]*(1-k)+k*N[0]),C.range[1]=C.l2r(R[1]*(1-k)+k*N[1])}else z[1]=0,z[3]=m;T.drawOne(v,A,{skipTitle:!0}),T.drawOne(v,C,{skipTitle:!0}),T.redrawComponents(v,[A._id,C._id]);var V=M?u/z[2]:1,J=w?m/z[3]:1,it=M?z[0]:0,nt=w?z[1]:0,Y=M?z[0]/z[2]*u:0,Z=w?z[1]/z[3]*m:0,$=A._offset-Y,G=C._offset-Z;y.clipRect.call(L.setTranslate,it,nt).call(L.setScale,1/V,1/J),y.plot.call(L.setTranslate,$,G).call(L.setScale,V,J),L.setPointGroupScale(y.zoomScalePts,1/V,1/J),L.setTextPointsScale(y.zoomScaleTxt,1/V,1/J)}var o;e&&(o=e());function f(){for(var x={},k=0;k<d.length;k++){var y=d[k],A=y.plotinfo.xaxis,C=y.plotinfo.yaxis;y.xr1&&(x[A._name+".range"]=y.xr1.slice()),y.yr1&&(x[C._name+".range"]=y.yr1.slice())}return o&&o(),S.call("relayout",v,x).then(function(){for(var u=0;u<d.length;u++)n(d[u].plotinfo)})}function b(){for(var x={},k=0;k<d.length;k++){var y=d[k],A=y.plotinfo.xaxis,C=y.plotinfo.yaxis;y.xr0&&(x[A._name+".range"]=y.xr0.slice()),y.yr0&&(x[C._name+".range"]=y.yr0.slice())}return S.call("relayout",v,x).then(function(){for(var u=0;u<d.length;u++)n(d[u].plotinfo)})}var h,_,a,c=E.ease(r.easing);v._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(a),a=null,b()});function p(){_=Date.now();for(var x=Math.min(1,(_-h)/r.duration),k=c(x),y=0;y<d.length;y++)s(d[y],k);_-h>r.duration?(f(),a=window.cancelAnimationFrame(p)):a=window.requestAnimationFrame(p)}return h=Date.now(),a=window.requestAnimationFrame(p),Promise.resolve()}},14944:function(tt,U,t){var E=t(24040).traceIs,S=t(52976);tt.exports=function(d,r,e,l){e("autotypenumbers",l.autotypenumbersDflt);var n=e("type",(l.splomStash||{}).type);n==="-"&&(i(r,l.data),r.type==="-"?r.type="linear":d.type=r.type)};function i(d,r){if(d.type==="-"){var e=d._id,l=e.charAt(0),n;e.indexOf("scene")!==-1&&(e=l);var s=L(r,e,l);if(s){if(s.type==="histogram"&&l==={v:"y",h:"x"}[s.orientation||"v"]){d.type="linear";return}var o=l+"calendar",f=s[o],b={noMultiCategory:!E(s,"cartesian")||E(s,"noMultiCategory")};if(s.type==="box"&&s._hasPreCompStats&&l==={h:"x",v:"y"}[s.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=d.autotypenumbers,v(s,l)){var h=T(s),_=[];for(n=0;n<r.length;n++){var a=r[n];!E(a,"box-violin")||(a[l+"axis"]||l)!==e||(a[h]!==void 0?_.push(a[h][0]):a.name!==void 0?_.push(a.name):_.push("text"),a[o]!==f&&(f=void 0))}d.type=S(_,f,b)}else if(s.type==="splom"){var c=s.dimensions,p=c[s._axesDim[e]];p.visible&&(d.type=S(p.values,f,b))}else d.type=S(s[l]||[s[l+"0"]],f,b)}}}function L(d,r,e){for(var l=0;l<d.length;l++){var n=d[l];if(n.type==="splom"&&n._length>0&&(n["_"+e+"axes"]||{})[r]||(n[e+"axis"]||e)===r&&(v(n,e)||(n[e]||[]).length||n[e+"0"]))return n}}function T(d){return{v:"x",h:"y"}[d.orientation||"v"]}function v(d,r){var e=T(d),l=E(d,"box-violin"),n=E(d._fullInput||{},"candlestick");return l&&!n&&r===e&&d[e]===void 0&&d[e+"0"]===void 0}},62460:function(tt,U,t){var E=t(24040),S=t(3400);U.manageCommandObserver=function(r,e,l,n){var s={},o=!0;e&&e._commandObserver&&(s=e._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var f=U.hasSimpleAPICommandBindings(r,l,s.lookupTable);if(e&&e._commandObserver){if(f)return s;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,s}if(f){i(r,f,s.cache),s.check=function(){if(o){var _=i(r,f,s.cache);return _.changed&&n&&s.lookupTable[_.value]!==void 0&&(s.disable(),Promise.resolve(n({value:_.value,type:f.type,prop:f.prop,traces:f.traces,index:s.lookupTable[_.value]})).then(s.enable,s.enable)),_.changed}};for(var b=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<b.length;h++)r._internalOn(b[h],s.check);s.remove=function(){for(var _=0;_<b.length;_++)r._removeInternalListener(b[_],s.check)}}else S.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){o=!1},s.enable=function(){o=!0},e&&(e._commandObserver=s),s},U.hasSimpleAPICommandBindings=function(r,e,l){var n,s=e.length,o;for(n=0;n<s;n++){var f,b=e[n],h=b.method,_=b.args;if(Array.isArray(_)||(_=[]),!h)return!1;var a=U.computeAPICommandBindings(r,h,_);if(a.length!==1)return!1;if(!o)o=a[0],Array.isArray(o.traces)&&o.traces.sort();else{if(f=a[0],f.type!==o.type||f.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(f.traces)){f.traces.sort();for(var c=0;c<o.traces.length;c++)if(o.traces[c]!==f.traces[c])return!1}else return!1;else if(f.prop!==o.prop)return!1}f=a[0];var p=f.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;l&&(l[p]=n)}return o};function i(r,e,l){var n,s,o,f=!1;if(e.type==="data")n=r._fullData[e.traces!==null?e.traces[0]:0];else if(e.type==="layout")n=r._fullLayout;else return!1;return s=S.nestedProperty(n,e.prop).get(),o=l[e.type]=l[e.type]||{},o.hasOwnProperty(e.prop)&&o[e.prop]!==s&&(f=!0),o[e.prop]=s,{changed:f,value:s}}U.executeAPICommand=function(r,e,l){if(e==="skip")return Promise.resolve();var n=E.apiMethodRegistry[e],s=[r];Array.isArray(l)||(l=[]);for(var o=0;o<l.length;o++)s.push(l[o]);return n.apply(null,s).catch(function(f){return S.warn("API call to Plotly."+e+" rejected.",f),Promise.reject(f)})},U.computeAPICommandBindings=function(r,e,l){var n;switch(Array.isArray(l)||(l=[]),e){case"restyle":n=v(r,l);break;case"relayout":n=T(r,l);break;case"update":n=v(r,[l[0],l[2]]).concat(T(r,[l[1]]));break;case"animate":n=L(r,l);break;default:n=[]}return n};function L(r,e){return Array.isArray(e[0])&&e[0].length===1&&["string","number"].indexOf(typeof e[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}function T(r,e){var l=[],n=e[0],s={};if(typeof n=="string")s[n]=e[1];else if(S.isPlainObject(n))s=n;else return l;return d(s,function(o,f,b){l.push({type:"layout",prop:o,value:b})},"",0),l}function v(r,e){var l,n,s,o,f=[];if(n=e[0],s=e[1],l=e[2],o={},typeof n=="string")o[n]=s;else if(S.isPlainObject(n))o=n,l===void 0&&(l=s);else return f;return l===void 0&&(l=null),d(o,function(b,h,_){var a,c;if(Array.isArray(_)){c=_.slice();var p=Math.min(c.length,r.data.length);l&&(p=Math.min(p,l.length)),a=[];for(var x=0;x<p;x++)a[x]=l?l[x]:x}else c=_,a=l?l.slice():null;if(a===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(a)){if(!Array.isArray(c)){var k=c;c=[];for(var y=0;y<a.length;y++)c[y]=k}c.length=Math.min(a.length,c.length)}f.push({type:"data",prop:b,traces:a,value:c})},"",0),f}function d(r,e,l,n){Object.keys(r).forEach(function(s){var o=r[s];if(s[0]!=="_"){var f=l+(n>0?".":"")+s;S.isPlainObject(o)?d(o,e,f,n+1):e(f,s,o)}})}},86968:function(tt,U,t){var E=t(92880).extendFlat;U.u=function(S,i){S=S||{},i=i||{};var L={valType:"info_array",editType:S.editType,items:[{valType:"number",min:0,max:1,editType:S.editType},{valType:"number",min:0,max:1,editType:S.editType}],dflt:[0,1]};S.name&&S.name+"",S.trace,i.description&&""+i.description;var T={x:E({},L,{}),y:E({},L,{}),editType:S.editType};return S.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:S.editType},T.column={valType:"integer",min:0,dflt:0,editType:S.editType}),T},U.Q=function(S,i,L,T){var v=T&&T.x||[0,1],d=T&&T.y||[0,1],r=i.grid;if(r){var e=L("domain.column");e!==void 0&&(e<r.columns?v=r._domains.x[e]:delete S.domain.column);var l=L("domain.row");l!==void 0&&(l<r.rows?d=r._domains.y[l]:delete S.domain.row)}var n=L("domain.x",v),s=L("domain.y",d);n[0]<n[1]||(S.domain.x=v.slice()),s[0]<s[1]||(S.domain.y=d.slice())}},25376:function(tt){tt.exports=function(U){var t=U.variantValues,E=U.editType,S=U.colorEditType;S===void 0&&(S=E);var i={family:{valType:"string",noBlank:!0,strict:!0,editType:E},size:{valType:"number",min:1,editType:E},color:{valType:"color",editType:S},weight:{editType:E,valType:"enumerated",values:["normal","bold"],dflt:"normal"},style:{editType:E,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:U.noFontVariant?void 0:{editType:E,valType:"enumerated",values:t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},editType:E};return U.autoSize&&(i.size.dflt="auto"),U.autoColor&&(i.color.dflt="auto"),U.arrayOk&&(i.family.arrayOk=!0,i.weight.arrayOk=!0,i.style.arrayOk=!0,i.variant.arrayOk=!0,i.size.arrayOk=!0,i.color.arrayOk=!0),i}},16672:function(tt){tt.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(tt,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(tt,U,t){var E=t(33428),S=t(83356),i=S.geoPath,L=S.geoDistance,T=t(87108),v=t(24040),d=t(3400),r=d.strTranslate,e=t(76308),l=t(43616),n=t(93024),s=t(7316),o=t(54460),f=t(19280).getAutoRange,b=t(86476),h=t(22676).prepSelect,_=t(22676).clearOutline,a=t(22676).selectOnClick,c=t(79248),p=t(79552),x=t(27144),k=t(59972),y=t(55712).NO;function A(w){this.id=w.id,this.graphDiv=w.graphDiv,this.container=w.container,this.topojsonURL=w.topojsonURL,this.isStatic=w.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var C=A.prototype;tt.exports=function(w){return new A(w)},C.plot=function(w,z,O,D){var P=this;if(D)return P.update(w,z,!0);P._geoCalcData=w,P._fullLayout=z;var F=z[this.id],R=[],N=!1;for(var B in p.layerNameToAdjective)if(B!=="frame"&&F["show"+B]){N=!0;break}for(var q=!1,V=0;V<w.length;V++){var J=w[0][0].trace;J._geo=P,J.locationmode&&(N=!0);var it=J.marker;if(it){var nt=it.angle,Y=it.angleref;(nt||Y==="north"||Y==="previous")&&(q=!0)}}if(this._hasMarkerAngles=q,N){var Z=k.getTopojsonName(F);(P.topojson===null||Z!==P.topojsonName)&&(P.topojsonName=Z,PlotlyGeoAssets.topojson[P.topojsonName]===void 0&&R.push(P.fetchTopojson()))}R=R.concat(x.fetchTraceGeoData(w)),O.push(new Promise(function($,G){Promise.all(R).then(function(){P.topojson=PlotlyGeoAssets.topojson[P.topojsonName],P.update(w,z),$()}).catch(G)}))},C.fetchTopojson=function(){var w=this,z=k.getTopojsonPath(w.topojsonURL,w.topojsonName);return new Promise(function(O,D){E.json(z,function(P,F){if(P)return P.status===404?D(new Error(["plotly.js could not find topojson file at",z+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):D(new Error(["unexpected error while fetching topojson file at",z].join(" ")));PlotlyGeoAssets.topojson[w.topojsonName]=F,O()})})},C.update=function(w,z,O){var D=z[this.id];this.hasChoropleth=!1;for(var P=0;P<w.length;P++){var F=w[P],R=F[0].trace;R.type==="choropleth"&&(this.hasChoropleth=!0),R.visible===!0&&R._length>0&&R._module.calcGeoJSON(F,z)}if(!O){var N=this.updateProjection(w,z);if(N)return;(!this.viewInitial||this.scope!==D.scope)&&this.saveViewInitial(D)}this.scope=D.scope,this.updateBaseLayers(z,D),this.updateDims(z,D),this.updateFx(z,D),s.generalUpdatePerTraceModule(this.graphDiv,this,w,D);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var q=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=q.selectAll("path"),this._render()},C.updateProjection=function(w,z){var O=this.graphDiv,D=z[this.id],P=z._size,F=D.domain,R=D.projection,N=D.lonaxis,B=D.lataxis,q=N._ax,V=B._ax,J=this.projection=u(D),it=[[P.l+P.w*F.x[0],P.t+P.h*(1-F.y[1])],[P.l+P.w*F.x[1],P.t+P.h*(1-F.y[0])]],nt=D.center||{},Y=R.rotation||{},Z=N.range||[],$=B.range||[];if(D.fitbounds){q._length=it[1][0]-it[0][0],V._length=it[1][1]-it[0][1],q.range=f(O,q),V.range=f(O,V);var G=(q.range[0]+q.range[1])/2,rt=(V.range[0]+V.range[1])/2;if(D._isScoped)nt={lon:G,lat:rt};else if(D._isClipped){nt={lon:G,lat:rt},Y={lon:G,lat:rt,roll:Y.roll};var ot=R.type,W=p.lonaxisSpan[ot]/2||180,H=p.lataxisSpan[ot]/2||90;Z=[G-W,G+W],$=[rt-H,rt+H]}else nt={lon:G,lat:rt},Y={lon:G,lat:Y.lat,roll:Y.roll}}J.center([nt.lon-Y.lon,nt.lat-Y.lat]).rotate([-Y.lon,-Y.lat,Y.roll]).parallels(R.parallels);var at=M(Z,$);J.fitExtent(it,at);var Q=this.bounds=J.getBounds(at),ct=this.fitScale=J.scale(),ft=J.translate();if(D.fitbounds){var yt=J.getBounds(M(q.range,V.range)),xt=Math.min((Q[1][0]-Q[0][0])/(yt[1][0]-yt[0][0]),(Q[1][1]-Q[0][1])/(yt[1][1]-yt[0][1]));isFinite(xt)?J.scale(xt*ct):d.warn("Something went wrong during"+this.id+"fitbounds computations.")}else J.scale(R.scale*ct);var Lt=this.midPt=[(Q[0][0]+Q[1][0])/2,(Q[0][1]+Q[1][1])/2];if(J.translate([ft[0]+(Lt[0]-ft[0]),ft[1]+(Lt[1]-ft[1])]).clipExtent(Q),D._isAlbersUsa){var gt=J([nt.lon,nt.lat]),mt=J.translate();J.translate([mt[0]-(gt[0]-mt[0]),mt[1]-(gt[1]-mt[1])])}},C.updateBaseLayers=function(w,z){var O=this,D=O.topojson,P=O.layers,F=O.basePaths;function R(it){return it==="lonaxis"||it==="lataxis"}function N(it){return!!p.lineLayers[it]}function B(it){return!!p.fillLayers[it]}var q=this.hasChoropleth?p.layersForChoropleth:p.layers,V=q.filter(function(it){return N(it)||B(it)?z["show"+it]:R(it)?z[it].showgrid:!0}),J=O.framework.selectAll(".layer").data(V,String);J.exit().each(function(it){delete P[it],delete F[it],E.select(this).remove()}),J.enter().append("g").attr("class",function(it){return"layer "+it}).each(function(it){var nt=P[it]=E.select(this);it==="bg"?O.bgRect=nt.append("rect").style("pointer-events","all"):R(it)?F[it]=nt.append("path").style("fill","none"):it==="backplot"?nt.append("g").classed("choroplethlayer",!0):it==="frontplot"?nt.append("g").classed("scatterlayer",!0):N(it)?F[it]=nt.append("path").style("fill","none").style("stroke-miterlimit",2):B(it)&&(F[it]=nt.append("path").style("stroke","none"))}),J.order(),J.each(function(it){var nt=F[it],Y=p.layerNameToAdjective[it];it==="frame"?nt.datum(p.sphereSVG):N(it)||B(it)?nt.datum(y(D,D.objects[it])):R(it)&&nt.datum(m(it,z,w)).call(e.stroke,z[it].gridcolor).call(l.dashLine,z[it].griddash,z[it].gridwidth),N(it)?nt.call(e.stroke,z[Y+"color"]).call(l.dashLine,"",z[Y+"width"]):B(it)&&nt.call(e.fill,z[Y+"color"])})},C.updateDims=function(w,z){var O=this.bounds,D=(z.framewidth||0)/2,P=O[0][0]-D,F=O[0][1]-D,R=O[1][0]-P+D,N=O[1][1]-F+D;l.setRect(this.clipRect,P,F,R,N),this.bgRect.call(l.setRect,P,F,R,N).call(e.fill,z.bgcolor),this.xaxis._offset=P,this.xaxis._length=R,this.yaxis._offset=F,this.yaxis._length=N},C.updateFx=function(w,z){var O=this,D=O.graphDiv,P=O.bgRect,F=w.dragmode,R=w.clickmode;if(O.isStatic)return;function N(){var J=O.viewInitial,it={};for(var nt in J)it[O.id+"."+nt]=J[nt];v.call("_guiRelayout",D,it),D.emit("plotly_doubleclick",null)}function B(J){return O.projection.invert([J[0]+O.xaxis._offset,J[1]+O.yaxis._offset])}var q=function(J,it){if(it.isRect){var nt=J.range={};nt[O.id]=[B([it.xmin,it.ymin]),B([it.xmax,it.ymax])]}else{var Y=J.lassoPoints={};Y[O.id]=it.map(B)}},V={element:O.bgRect.node(),gd:D,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:q},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(J){J===2&&_(D)}};F==="pan"?(P.node().onmousedown=null,P.call(c(O,z)),P.on("dblclick.zoom",N),D._context._scrollZoom.geo||P.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(P.on(".zoom",null),V.prepFn=function(J,it,nt){h(J,it,nt,V,F)},b.init(V)),P.on("mousemove",function(){var J=O.projection.invert(d.getPositionFromD3Event());if(!J)return b.unhover(D,E.event);O.xaxis.p2c=function(){return J[0]},O.yaxis.p2c=function(){return J[1]},n.hover(D,E.event,O.id)}),P.on("mouseout",function(){D._dragging||b.unhover(D,E.event)}),P.on("click",function(){F!=="select"&&F!=="lasso"&&(R.indexOf("select")>-1&&a(E.event,D,[O.xaxis],[O.yaxis],O.id,V),R.indexOf("event")>-1&&n.click(D,E.event))})},C.makeFramework=function(){var w=this,z=w.graphDiv,O=z._fullLayout,D="clip"+O._uid+w.id;w.clipDef=O._clips.append("clipPath").attr("id",D),w.clipRect=w.clipDef.append("rect"),w.framework=E.select(w.container).append("g").attr("class","geo "+w.id).call(l.setClipUrl,D,z),w.project=function(P){var F=w.projection(P);return F?[F[0]-w.xaxis._offset,F[1]-w.yaxis._offset]:[null,null]},w.xaxis={_id:"x",c2p:function(P){return w.project(P)[0]}},w.yaxis={_id:"y",c2p:function(P){return w.project(P)[1]}},w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(w.mockAxis,O)},C.saveViewInitial=function(w){var z=w.center||{},O=w.projection,D=O.rotation||{};this.viewInitial={fitbounds:w.fitbounds,"projection.scale":O.scale};var P;w._isScoped?P={"center.lon":z.lon,"center.lat":z.lat}:w._isClipped?P={"projection.rotation.lon":D.lon,"projection.rotation.lat":D.lat}:P={"center.lon":z.lon,"center.lat":z.lat,"projection.rotation.lon":D.lon},d.extendFlat(this.viewInitial,P)},C.render=function(w){this._hasMarkerAngles&&w?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},C._render=function(){var w=this.projection,z=w.getPath(),O;function D(F){var R=w(F.lonlat);return R?r(R[0],R[1]):null}function P(F){return w.isLonLatOverEdges(F.lonlat)?"none":null}for(O in this.basePaths)this.basePaths[O].attr("d",z);for(O in this.dataPaths)this.dataPaths[O].attr("d",function(F){return z(F.geojson)});for(O in this.dataPoints)this.dataPoints[O].attr("display",P).attr("transform",D)};function u(w){var z=w.projection,O=z.type,D=p.projNames[O];D="geo"+d.titleCase(D);for(var P=S[D]||T[D],F=P(),R=w._isSatellite?Math.acos(1/z.distance)*180/Math.PI:w._isClipped?p.lonaxisSpan[O]/2:null,N=["center","rotate","parallels","clipExtent"],B=function(J){return J?F:[]},q=0;q<N.length;q++){var V=N[q];typeof F[V]!="function"&&(F[V]=B)}return F.isLonLatOverEdges=function(J){if(F(J)===null)return!0;if(R){var it=F.rotate(),nt=L(J,[-it[0],-it[1]]),Y=R*Math.PI/180;return nt>Y}else return!1},F.getPath=function(){return i().projection(F)},F.getBounds=function(J){return F.getPath().bounds(J)},F.precision(p.precision),w._isSatellite&&F.tilt(z.tilt).distance(z.distance),R&&F.clipAngle(R-p.clipPad),F}function m(w,z,O){var D=1e-6,P=2.5,F=z[w],R=p.scopeDefaults[z.scope],N,B,q;w==="lonaxis"?(N=R.lonaxisRange,B=R.lataxisRange,q=function(rt,ot){return[rt,ot]}):w==="lataxis"&&(N=R.lataxisRange,B=R.lonaxisRange,q=function(rt,ot){return[ot,rt]});var V={type:"linear",range:[N[0],N[1]-D],tick0:F.tick0,dtick:F.dtick};o.setConvert(V,O);var J=o.calcTicks(V);!z.isScoped&&w==="lonaxis"&&J.pop();for(var it=J.length,nt=new Array(it),Y=0;Y<it;Y++)for(var Z=J[Y].x,$=nt[Y]=[],G=B[0];G<B[1]+P;G+=P)$.push(q(Z,G));return{type:"MultiLineString",coordinates:nt}}function M(w,z){var O=p.clipPad,D=w[0]+O,P=w[1]-O,F=z[0]+O,R=z[1]-O;D>0&&P<0&&(P+=360);var N=(P-D)/4;return{type:"Polygon",coordinates:[[[D,F],[D,R],[D+N,R],[D+2*N,R],[D+3*N,R],[P,R],[P,F],[P-N,F],[P-2*N,F],[P-3*N,F],[D,F]]]}}},10816:function(tt,U,t){var E=t(84888).KY,S=t(3400).counterRegex,i=t(43520),L="geo",T=S(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function d(l){for(var n=l._fullLayout,s=l.calcdata,o=n._subplots[L],f=0;f<o.length;f++){var b=o[f],h=E(s,L,b),_=n[b],a=_._subplot;a||(a=i({id:b,graphDiv:l,container:n._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),n[b]._subplot=a),a.plot(h,n,l._promises)}}function r(l,n,s,o){for(var f=o._subplots[L]||[],b=0;b<f.length;b++){var h=f[b],_=o[h]._subplot;!n[h]&&_&&(_.framework.remove(),_.clipDef.remove())}}function e(l){for(var n=l._fullLayout,s=n._subplots[L],o=0;o<s.length;o++){var f=n[s[o]],b=f._subplot;b.updateFx(n,f)}}tt.exports={attr:L,name:L,idRoot:L,idRegex:T,attrRegex:T,attributes:v,layoutAttributes:t(40384),supplyLayoutDefaults:t(86920),plot:d,updateFx:e,clean:r}},40384:function(tt,U,t){var E=t(22548),S=t(86968).u,i=t(98192).u,L=t(79552),T=t(67824).overrideAll,v=t(95376),d={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:E.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},r=tt.exports=T({domain:S({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:E.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:E.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:E.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:E.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:E.background},lonaxis:d,lataxis:d},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(tt,U,t){var E=t(3400),S=t(168),i=t(84888).op,L=t(79552),T=t(40384),v=L.axesNames;tt.exports=function(r,e,l){S(r,e,l,{type:"geo",attributes:T,handleDefaults:d,fullData:l,partition:"y"})};function d(r,e,l,n){var s=i(n.fullData,"geo",n.id),o=s.map(function($){return $._expandedIndex}),f=l("resolution"),b=l("scope"),h=L.scopeDefaults[b],_=l("projection.type",h.projType),a=e._isAlbersUsa=_==="albers usa";a&&(b=e.scope="usa");var c=e._isScoped=b!=="world",p=e._isSatellite=_==="satellite",x=e._isConic=_.indexOf("conic")!==-1||_==="albers",k=e._isClipped=!!L.lonaxisSpan[_];if(r.visible===!1){var y=E.extendDeep({},e._template);y.showcoastlines=!1,y.showcountries=!1,y.showframe=!1,y.showlakes=!1,y.showland=!1,y.showocean=!1,y.showrivers=!1,y.showsubunits=!1,y.lonaxis&&(y.lonaxis.showgrid=!1),y.lataxis&&(y.lataxis.showgrid=!1),e._template=y}for(var A=l("visible"),C,u=0;u<v.length;u++){var m=v[u],M=[30,10][u],w;if(c)w=h[m+"Range"];else{var z=L[m+"Span"],O=(z[_]||z["*"])/2,D=l("projection.rotation."+m.substr(0,3),h.projRotate[u]);w=[D-O,D+O]}var P=l(m+".range",w);l(m+".tick0"),l(m+".dtick",M),C=l(m+".showgrid",A?void 0:!1),C&&(l(m+".gridcolor"),l(m+".gridwidth"),l(m+".griddash")),e[m]._ax={type:"linear",_id:m.slice(0,3),_traceIndices:o,setScale:E.identity,c2l:E.identity,r2l:E.identity,autorange:!0,range:P.slice(),_m:1,_input:{}}}var F=e.lonaxis.range,R=e.lataxis.range,N=F[0],B=F[1];N>0&&B<0&&(B+=360);var q=(N+B)/2,V;if(!a){var J=c?h.projRotate:[q,0,0];V=l("projection.rotation.lon",J[0]),l("projection.rotation.lat",J[1]),l("projection.rotation.roll",J[2]),C=l("showcoastlines",!c&&A),C&&(l("coastlinecolor"),l("coastlinewidth")),C=l("showocean",A?void 0:!1),C&&l("oceancolor")}var it,nt;if(a?(it=-96.6,nt=38.7):(it=c?q:V,nt=(R[0]+R[1])/2),l("center.lon",it),l("center.lat",nt),p&&(l("projection.tilt"),l("projection.distance")),x){var Y=h.projParallels||[0,60];l("projection.parallels",Y)}l("projection.scale"),C=l("showland",A?void 0:!1),C&&l("landcolor"),C=l("showlakes",A?void 0:!1),C&&l("lakecolor"),C=l("showrivers",A?void 0:!1),C&&(l("rivercolor"),l("riverwidth")),C=l("showcountries",c&&b!=="usa"&&A),C&&(l("countrycolor"),l("countrywidth")),(b==="usa"||b==="north america"&&f===50)&&(l("showsubunits",A),l("subunitcolor"),l("subunitwidth")),c||(C=l("showframe",A),C&&(l("framecolor"),l("framewidth"))),l("bgcolor");var Z=l("fitbounds");Z&&(delete e.projection.scale,c?(delete e.center.lon,delete e.center.lat):k?(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon,delete e.projection.rotation.lat,delete e.lonaxis.range,delete e.lataxis.range):(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon))}},79248:function(tt,U,t){var E=t(33428),S=t(3400),i=t(24040),L=Math.PI/180,T=180/Math.PI,v={cursor:"pointer"},d={cursor:"auto"};function r(m,M){var w=m.projection,z;return M._isScoped?z=n:M._isClipped?z=o:z=s,z(m,w)}tt.exports=r;function e(m,M){return E.behavior.zoom().translate(M.translate()).scale(M.scale())}function l(m,M,w){var z=m.id,O=m.graphDiv,D=O.layout,P=D[z],F=O._fullLayout,R=F[z],N={},B={};function q(V,J){N[z+"."+V]=S.nestedProperty(P,V).get(),i.call("_storeDirectGUIEdit",D,F._preGUI,N);var it=S.nestedProperty(R,V);it.get()!==J&&(it.set(J),S.nestedProperty(P,V).set(J),B[z+"."+V]=J)}w(q),q("projection.scale",M.scale()/m.fitScale),q("fitbounds",!1),O.emit("plotly_relayout",B)}function n(m,M){var w=e(m,M);function z(){E.select(this).style(v)}function O(){M.scale(E.event.scale).translate(E.event.translate),m.render(!0);var F=M.invert(m.midPt);m.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/m.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function D(F){var R=M.invert(m.midPt);F("center.lon",R[0]),F("center.lat",R[1])}function P(){E.select(this).style(d),l(m,M,D)}return w.on("zoomstart",z).on("zoom",O).on("zoomend",P),w}function s(m,M){var w=e(m,M),z=2,O,D,P,F,R,N,B,q,V;function J(G){return M.invert(G)}function it(G){var rt=J(G);if(!rt)return!0;var ot=M(rt);return Math.abs(ot[0]-G[0])>z||Math.abs(ot[1]-G[1])>z}function nt(){E.select(this).style(v),O=E.mouse(this),D=M.rotate(),P=M.translate(),F=D,R=J(O)}function Y(){if(N=E.mouse(this),it(O)){w.scale(M.scale()),w.translate(M.translate());return}M.scale(E.event.scale),M.translate([P[0],E.event.translate[1]]),R?J(N)&&(q=J(N),B=[F[0]+(q[0]-R[0]),D[1],D[2]],M.rotate(B),F=B):(O=N,R=J(O)),V=!0,m.render(!0);var G=M.rotate(),rt=M.invert(m.midPt);m.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/m.fitScale,"geo.center.lon":rt[0],"geo.center.lat":rt[1],"geo.projection.rotation.lon":-G[0]})}function Z(){E.select(this).style(d),V&&l(m,M,$)}function $(G){var rt=M.rotate(),ot=M.invert(m.midPt);G("projection.rotation.lon",-rt[0]),G("center.lon",ot[0]),G("center.lat",ot[1])}return w.on("zoomstart",nt).on("zoom",Y).on("zoomend",Z),w}function o(m,M){M.rotate(),M.scale();var w=e(m,M),z=u(w,"zoomstart","zoom","zoomend"),O=0,D=w.on,P;w.on("zoomstart",function(){E.select(this).style(v);var q=E.mouse(this),V=M.rotate(),J=V,it=M.translate(),nt=b(V);P=f(M,q),D.call(w,"zoom",function(){var Y=E.mouse(this);if(M.scale(E.event.scale),!P)q=Y,P=f(M,q);else if(f(M,Y)){M.rotate(V).translate(it);var Z=f(M,Y),$=_(P,Z),G=k(h(nt,$)),rt=a(G,P,J);(!isFinite(rt[0])||!isFinite(rt[1])||!isFinite(rt[2]))&&(rt=J),M.rotate(rt),J=rt}R(z.of(this,arguments))}),F(z.of(this,arguments))}).on("zoomend",function(){E.select(this).style(d),D.call(w,"zoom",null),N(z.of(this,arguments)),l(m,M,B)}).on("zoom.redraw",function(){m.render(!0);var q=M.rotate();m.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/m.fitScale,"geo.projection.rotation.lon":-q[0],"geo.projection.rotation.lat":-q[1]})});function F(q){O++||q({type:"zoomstart"})}function R(q){q({type:"zoom"})}function N(q){--O||q({type:"zoomend"})}function B(q){var V=M.rotate();q("projection.rotation.lon",-V[0]),q("projection.rotation.lat",-V[1])}return E.rebind(w,z,"on")}function f(m,M){var w=m.invert(M);return w&&isFinite(w[0])&&isFinite(w[1])&&y(w)}function b(m){var M=.5*m[0]*L,w=.5*m[1]*L,z=.5*m[2]*L,O=Math.sin(M),D=Math.cos(M),P=Math.sin(w),F=Math.cos(w),R=Math.sin(z),N=Math.cos(z);return[D*F*N+O*P*R,O*F*N-D*P*R,D*P*N+O*F*R,D*F*R-O*P*N]}function h(m,M){var w=m[0],z=m[1],O=m[2],D=m[3],P=M[0],F=M[1],R=M[2],N=M[3];return[w*P-z*F-O*R-D*N,w*F+z*P+O*N-D*R,w*R-z*N+O*P+D*F,w*N+z*R-O*F+D*P]}function _(m,M){if(!(!m||!M)){var w=C(m,M),z=Math.sqrt(A(w,w)),O=.5*Math.acos(Math.max(-1,Math.min(1,A(m,M)))),D=Math.sin(O)/z;return z&&[Math.cos(O),w[2]*D,-w[1]*D,w[0]*D]}}function a(m,M,w){var z=x(M,2,m[0]);z=x(z,1,m[1]),z=x(z,0,m[2]-w[2]);var O=M[0],D=M[1],P=M[2],F=z[0],R=z[1],N=z[2],B=Math.atan2(D,O)*T,q=Math.sqrt(O*O+D*D),V,J;Math.abs(R)>q?(J=(R>0?90:-90)-B,V=0):(J=Math.asin(R/q)*T-B,V=Math.sqrt(q*q-R*R));var it=180-J-2*B,nt=(Math.atan2(N,F)-Math.atan2(P,V))*T,Y=(Math.atan2(N,F)-Math.atan2(P,-V))*T,Z=c(w[0],w[1],J,nt),$=c(w[0],w[1],it,Y);return Z<=$?[J,nt,w[2]]:[it,Y,w[2]]}function c(m,M,w,z){var O=p(w-m),D=p(z-M);return Math.sqrt(O*O+D*D)}function p(m){return(m%360+540)%360-180}function x(m,M,w){var z=w*L,O=m.slice(),D=M===0?1:0,P=M===2?1:2,F=Math.cos(z),R=Math.sin(z);return O[D]=m[D]*F-m[P]*R,O[P]=m[P]*F+m[D]*R,O}function k(m){return[Math.atan2(2*(m[0]*m[1]+m[2]*m[3]),1-2*(m[1]*m[1]+m[2]*m[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(m[0]*m[2]-m[3]*m[1]))))*T,Math.atan2(2*(m[0]*m[3]+m[1]*m[2]),1-2*(m[2]*m[2]+m[3]*m[3]))*T]}function y(m){var M=m[0]*L,w=m[1]*L,z=Math.cos(w);return[z*Math.cos(M),z*Math.sin(M),Math.sin(w)]}function A(m,M){for(var w=0,z=0,O=m.length;z<O;++z)w+=m[z]*M[z];return w}function C(m,M){return[m[1]*M[2]-m[2]*M[1],m[2]*M[0]-m[0]*M[2],m[0]*M[1]-m[1]*M[0]]}function u(m){for(var M=0,w=arguments.length,z=[];++M<w;)z.push(arguments[M]);var O=E.dispatch.apply(null,z);return O.of=function(D,P){return function(F){var R;try{R=F.sourceEvent=E.event,F.target=m,E.event=F,O[F.type].apply(D,P)}finally{E.event=R}}},O}},84888:function(tt,U,t){var E=t(24040),S=t(33816).SUBPLOT_PATTERN;U.KY=function(i,L,T){var v=E.subplotsRegistry[L];if(!v)return[];for(var d=v.attr,r=[],e=0;e<i.length;e++){var l=i[e],n=l[0].trace;n[d]===T&&r.push(l)}return r},U._M=function(i,L,T){var v=[],d=[],r;if(typeof L=="string"?r=E.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[v,i];for(var e=T,l=0;l<i.length;l++){var n=i[l],s=n[0].trace,o=s.zorder!==void 0;s.visible!==!0||s._length===0||(s._module&&s._module.plot===r&&(!o||s.zorder===e)?v.push(n):d.push(n))}return[v,d]},U.op=function(i,L,T){if(!E.subplotsRegistry[L])return[];var v=E.subplotsRegistry[L].attr,d=[],r,e,l;if(L==="gl2d"){var n=T.match(S);e="x"+n[1],l="y"+n[2]}for(var s=0;s<i.length;s++)r=i[s],L==="gl2d"&&E.traceIs(r,"gl2d")?r[v[0]]===e&&r[v[1]]===l&&d.push(r):r[v]===T&&d.push(r);return d}},2428:function(tt,U,t){var E=t(62644),S=t(97264),i=t(29128),L=t(33816),T=t(89184);tt.exports=d;function v(r,e){this.element=r,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function d(r){var e=r.mouseContainer,l=r.glplot,n=new v(e,l);function s(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function o(){for(var b=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,_=r.yaxis._id,a=0;a<b.length;a++)if(b[a][h]!==-1){if(b[a][_]!==-1)return!0;break}return!1}n.mouseListener=E(e,f),e.addEventListener("touchstart",function(b){var h=i(b.changedTouches[0],e);f(0,h[0],h[1]),f(1,h[0],h[1]),b.preventDefault()},T?{passive:!1}:!1),e.addEventListener("touchmove",function(b){b.preventDefault();var h=i(b.changedTouches[0],e);f(1,h[0],h[1]),b.preventDefault()},T?{passive:!1}:!1),e.addEventListener("touchend",function(b){f(0,n.lastPos[0],n.lastPos[1]),b.preventDefault()},T?{passive:!1}:!1);function f(b,h,_){var a=r.calcDataBox(),c=l.viewBox,p=n.lastPos[0],x=n.lastPos[1],k=L.MINDRAG*l.pixelRatio,y=L.MINZOOM*l.pixelRatio,A,C;h*=l.pixelRatio,_*=l.pixelRatio,_=c[3]-c[1]-_;function u(D,P,F){var R=Math.min(P,F),N=Math.max(P,F);R!==N?(a[D]=R,a[D+2]=N,n.dataBox=a,r.setRanges(a)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(b){var m=h/(c[2]-c[0])*(a[2]-a[0])+a[0],M=_/(c[3]-c[1])*(a[3]-a[1])+a[1];n.boxInited||(n.boxStart[0]=m,n.boxStart[1]=M,n.dragStart[0]=h,n.dragStart[1]=_),n.boxEnd[0]=m,n.boxEnd[1]=M,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var w=Math.abs(n.dragStart[0]-h)<y,z=Math.abs(n.dragStart[1]-_)<y;if(o()&&!(w&&z)){A=n.boxEnd[0]-n.boxStart[0],C=n.boxEnd[1]-n.boxStart[1];var O=(a[3]-a[1])/(a[2]-a[0]);Math.abs(A*O)>Math.abs(C)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(A)*O*(C>=0?1:-1),n.boxEnd[1]<a[1]?(n.boxEnd[1]=a[1],n.boxEnd[0]=n.boxStart[0]+(a[1]-n.boxStart[1])/Math.abs(O)):n.boxEnd[1]>a[3]&&(n.boxEnd[1]=a[3],n.boxEnd[0]=n.boxStart[0]+(a[3]-n.boxStart[1])/Math.abs(O))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(C)/O*(A>=0?1:-1),n.boxEnd[0]<a[0]?(n.boxEnd[0]=a[0],n.boxEnd[1]=n.boxStart[1]+(a[0]-n.boxStart[0])*Math.abs(O)):n.boxEnd[0]>a[2]&&(n.boxEnd[0]=a[2],n.boxEnd[1]=n.boxStart[1]+(a[2]-n.boxStart[0])*Math.abs(O)))}else w&&(n.boxEnd[0]=n.boxStart[0]),z&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(A=n.boxStart[0]!==n.boxEnd[0],C=n.boxStart[1]!==n.boxEnd[1],A||C?(A&&(u(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),C&&(u(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,b?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=_),Math.abs(n.dragStart[0]-h)<k&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-_)<k&&(_=n.dragStart[1]),A=(p-h)*(a[2]-a[0])/(l.viewBox[2]-l.viewBox[0]),C=(x-_)*(a[3]-a[1])/(l.viewBox[3]-l.viewBox[1]),a[0]+=A,a[2]+=A,a[1]+=C,a[3]+=C,r.setRanges(a),n.panning=!0,n.lastInputTime=Date.now(),s(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=_}return n.wheelListener=S(e,function(b,h){if(!r.scrollZoom)return!1;var _=r.calcDataBox(),a=l.viewBox,c=n.lastPos[0],p=n.lastPos[1],x=Math.exp(5*h/(a[3]-a[1])),k=c/(a[2]-a[0])*(_[2]-_[0])+_[0],y=p/(a[3]-a[1])*(_[3]-_[1])+_[1];return _[0]=(_[0]-k)*x+k,_[2]=(_[2]-k)*x+k,_[1]=(_[1]-y)*x+y,_[3]=(_[3]-y)*x+y,r.setRanges(_),n.lastInputTime=Date.now(),s(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(tt,U,t){var E=t(54460),S=t(43080);function i(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=i.prototype,T=["xaxis","yaxis"];L.merge=function(d){this.titleEnable=!1,this.backgroundColor=S(d.plot_bgcolor);var r,e,l,n,s,o,f,b,h,_,a;for(_=0;_<2;++_){r=T[_];var c=r.charAt(0);for(e=d[this.scene[r]._name],l=e.title.text===this.scene.fullLayout._dfltTitle[c]?"":e.title.text,a=0;a<=2;a+=2)this.labelEnable[_+a]=!1,this.labels[_+a]=l,this.labelColor[_+a]=S(e.title.font.color),this.labelFont[_+a]=e.title.font.family,this.labelSize[_+a]=e.title.font.size,this.labelPad[_+a]=this.getLabelPad(r,e),this.tickEnable[_+a]=!1,this.tickColor[_+a]=S((e.tickfont||{}).color),this.tickAngle[_+a]=e.tickangle==="auto"?0:Math.PI*-e.tickangle/180,this.tickPad[_+a]=this.getTickPad(e),this.tickMarkLength[_+a]=0,this.tickMarkWidth[_+a]=e.tickwidth||0,this.tickMarkColor[_+a]=S(e.tickcolor),this.borderLineEnable[_+a]=!1,this.borderLineColor[_+a]=S(e.linecolor),this.borderLineWidth[_+a]=e.linewidth||0;f=this.hasSharedAxis(e),s=this.hasAxisInDfltPos(r,e)&&!f,o=this.hasAxisInAltrPos(r,e)&&!f,n=e.mirror||!1,b=f?String(n).indexOf("all")!==-1:!!n,h=f?n==="allticks":String(n).indexOf("ticks")!==-1,s?this.labelEnable[_]=!0:o&&(this.labelEnable[_+2]=!0),s?this.tickEnable[_]=e.showticklabels:o&&(this.tickEnable[_+2]=e.showticklabels),(s||b)&&(this.borderLineEnable[_]=e.showline),(o||b)&&(this.borderLineEnable[_+2]=e.showline),(s||h)&&(this.tickMarkLength[_]=this.getTickMarkLength(e)),(o||h)&&(this.tickMarkLength[_+2]=this.getTickMarkLength(e)),this.gridLineEnable[_]=e.showgrid,this.gridLineColor[_]=S(e.gridcolor),this.gridLineWidth[_]=e.gridwidth,this.zeroLineEnable[_]=e.zeroline,this.zeroLineColor[_]=S(e.zerolinecolor),this.zeroLineWidth[_]=e.zerolinewidth}},L.hasSharedAxis=function(d){var r=this.scene,e=r.fullLayout._subplots.gl2d,l=E.findSubplotsWithAxis(e,d);return l.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(d,r){var e=r.side;if(d==="xaxis")return e==="bottom";if(d==="yaxis")return e==="left"},L.hasAxisInAltrPos=function(d,r){var e=r.side;if(d==="xaxis")return e==="top";if(d==="yaxis")return e==="right"},L.getLabelPad=function(d,r){var e=1.5,l=r.title.font.size,n=r.showticklabels;if(d==="xaxis")return r.side==="top"?-10+l*(e+(n?1:0)):-10+l*(e+(n?.5:0));if(d==="yaxis")return r.side==="right"?10+l*(e+(n?1:.5)):10+l*(e+(n?.5:0))},L.getTickPad=function(d){return d.ticks==="outside"?10+d.ticklen:15},L.getTickMarkLength=function(d){if(!d.ticks)return 0;var r=d.ticklen;return d.ticks==="inside"?-r:r};function v(d){return new i(d)}tt.exports=v},39952:function(tt,U,t){var E=t(67824).overrideAll,S=t(17188),i=t(64859),L=t(9616),T=t(33816),v=t(57952),d=t(65460),r=t(84888).op;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=T.idRegex,U.attrRegex=T.attrRegex,U.attributes=t(26720),U.supplyLayoutDefaults=function(e,l,n){l._has("cartesian")||v.supplyLayoutDefaults(e,l,n)},U.layoutAttrOverrides=E(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=E({plot_bgcolor:i.plot_bgcolor,hoverlabel:d.hoverlabel},"plot","nested"),U.plot=function(e){for(var l=e._fullLayout,n=e._fullData,s=l._subplots.gl2d,o=0;o<s.length;o++){var f=s[o],b=l._plots[f],h=r(n,"gl2d",f),_=b._scene2d;_===void 0&&(_=new S({id:f,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},l),b._scene2d=_),_.plot(h,e.calcdata,l,e.layout)}},U.clean=function(e,l,n,s){for(var o=s._subplots.gl2d||[],f=0;f<o.length;f++){var b=o[f],h=s._plots[b];if(h._scene2d){var _=r(e,"gl2d",b);_.length===0&&(h._scene2d.destroy(),delete s._plots[b])}}v.clean.apply(this,arguments)},U.drawFramework=function(e){e._context.staticPlot||v.drawFramework(e)},U.toSVG=function(e){for(var l=e._fullLayout,n=l._subplots.gl2d,s=0;s<n.length;s++){var o=l._plots[n[s]],f=o._scene2d,b=f.toImage("png"),h=l._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":b,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),f.destroy()}},U.updateFx=function(e){for(var l=e._fullLayout,n=l._subplots.gl2d,s=0;s<n.length;s++){var o=l._plots[n[s]]._scene2d;o.updateFx(l.dragmode)}}},17188:function(tt,U,t){var E=t(24040),S=t(54460),i=t(93024),L=t(67792).gl_plot2d,T=t(67792).gl_spikes2d,v=t(67792).gl_select_box,d=t(5408),r=t(92568),e=t(2428),l=t(16576),n=t(71888),s=n.enforce,o=n.clean,f=t(19280).doAutoRange,b=t(72760),h=b.drawMode,_=b.selectMode,a=["xaxis","yaxis"],c,p,x=t(33816).SUBPLOT_PATTERN;function k(C,u){this.container=C.container,this.graphDiv=C.graphDiv,this.pixelRatio=C.plotGlPixelRatio||window.devicePixelRatio,this.id=C.id,this.staticPlot=!!C.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(u),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(u),this.glplot=L(this.glplotOptions),this.camera=e(this),this.traces={},this.spikes=T(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}tt.exports=k;var y=k.prototype;y.makeFramework=function(){if(this.staticPlot){if(!p&&(c=document.createElement("canvas"),p=d({canvas:c,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=c,this.gl=p}else{var C=this.container.querySelector(".gl-canvas-focus"),u=d({canvas:C,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!u){l(this),this.stopped=!0;return}this.canvas=C,this.gl=u}var m=this.canvas;m.style.width="100%",m.style.height="100%",m.style.position="absolute",m.style.top="0px",m.style.left="0px",m.style["pointer-events"]="none",this.updateSize(m);var M=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");M.style.position="absolute",M.style.top=M.style.left="0px",M.style.width=M.style.height="100%",M.style["z-index"]=20,M.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var z=this.container;z.appendChild(M),z.appendChild(w);var O=this;w.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),w.addEventListener("mouseover",function(){O.isMouseOver=!0})},y.toImage=function(C){C||(C="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(c),this.updateSize(this.canvas);var u=this.glplot.gl,m=u.drawingBufferWidth,M=u.drawingBufferHeight;u.clearColor(1,1,1,0),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),u.bindFramebuffer(u.FRAMEBUFFER,null);var w=new Uint8Array(m*M*4);u.readPixels(0,0,m,M,u.RGBA,u.UNSIGNED_BYTE,w);for(var z=0,O=M-1;z<O;++z,--O)for(var D=0;D<m;++D)for(var P=0;P<4;++P){var F=w[4*(m*z+D)+P];w[4*(m*z+D)+P]=w[4*(m*O+D)+P],w[4*(m*O+D)+P]=F}var R=document.createElement("canvas");R.width=m,R.height=M;var N=R.getContext("2d",{willReadFrequently:!0}),B=N.createImageData(m,M);B.data.set(w),N.putImageData(B,0,0);var q;switch(C){case"jpeg":q=R.toDataURL("image/jpeg");break;case"webp":q=R.toDataURL("image/webp");break;default:q=R.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(c),q},y.updateSize=function(C){C||(C=this.canvas);var u=this.pixelRatio,m=this.fullLayout,M=m.width,w=m.height,z=Math.ceil(u*M)|0,O=Math.ceil(u*w)|0;return(C.width!==z||C.height!==O)&&(C.width=z,C.height=O),C},y.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var C=[S.calcTicks(this.xaxis),S.calcTicks(this.yaxis)],u=0;u<2;++u)for(var m=0;m<C[u].length;++m)C[u][m].text=C[u][m].text+"";return C};function A(C,u){for(var m=0;m<2;++m){var M=C[m],w=u[m];if(M.length!==w.length)return!0;for(var z=0;z<M.length;++z)if(M[z].x!==w[z].x)return!0}return!1}y.updateRefs=function(C){this.fullLayout=C;var u=this.id.match(x),m="xaxis"+u[1],M="yaxis"+u[2];this.xaxis=this.fullLayout[m],this.yaxis=this.fullLayout[M]},y.relayoutCallback=function(){var C=this.graphDiv,u=this.xaxis,m=this.yaxis,M=C.layout,w={},z=w[u._name+".range"]=u.range.slice(),O=w[m._name+".range"]=m.range.slice();w[u._name+".autorange"]=u.autorange,w[m._name+".autorange"]=m.autorange,E.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,w);var D=M[u._name];D.range=z,D.autorange=u.autorange;var P=M[m._name];P.range=O,P.autorange=m.autorange,w.lastInputTime=this.camera.lastInputTime,C.emit("plotly_relayout",w)},y.cameraChanged=function(){var C=this.camera;this.glplot.setDataBox(this.calcDataBox());var u=this.computeTickMarks(),m=this.glplotOptions.ticks;A(u,m)&&(this.glplotOptions.ticks=u,this.glplotOptions.dataBox=C.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},y.handleAnnotations=function(){for(var C=this.graphDiv,u=this.fullLayout.annotations,m=0;m<u.length;m++){var M=u[m];M.xref===this.xaxis._id&&M.yref===this.yaxis._id&&E.getComponentMethod("annotations","drawOne")(C,m)}},y.destroy=function(){if(this.glplot){var C=this.traces;C&&Object.keys(C).map(function(u){C[u].dispose(),delete C[u]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},y.plot=function(C,u,m){var M=this.glplot;this.updateRefs(m),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(C,u),this.updateFx(m.dragmode);var w=m.width,z=m.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(m),O.screenBox=[0,0,w,z];var D={_fullLayout:{_axisConstraintGroups:m._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:m._size}};o(D,this.xaxis),o(D,this.yaxis);var P=m._size,F=this.xaxis.domain,R=this.yaxis.domain;O.viewBox=[P.l+F[0]*P.w,P.b+R[0]*P.h,w-P.r-(1-F[1])*P.w,z-P.t-(1-R[1])*P.h],this.mouseContainer.style.width=P.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=P.h*(R[1]-R[0])+"px",this.mouseContainer.height=P.h*(R[1]-R[0]),this.mouseContainer.style.left=P.l+F[0]*P.w+"px",this.mouseContainer.style.top=P.t+(1-R[1])*P.h+"px";var N,B;for(B=0;B<2;++B)N=this[a[B]],N._length=O.viewBox[B+2]-O.viewBox[B],f(this.graphDiv,N),N.setScale();s(D),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(m),M.update(O),this.glplot.draw()},y.calcDataBox=function(){var C=this.xaxis,u=this.yaxis,m=C.range,M=u.range,w=C.r2l,z=u.r2l;return[w(m[0]),z(M[0]),w(m[1]),z(M[1])]},y.setRanges=function(C){var u=this.xaxis,m=this.yaxis,M=u.l2r,w=m.l2r;u.range=[M(C[0]),M(C[2])],m.range=[w(C[1]),w(C[3])]},y.updateTraces=function(C,u){var m=Object.keys(this.traces),M,w,z;this.fullData=C;t:for(M=0;M<m.length;M++){var O=m[M],D=this.traces[O];for(w=0;w<C.length;w++)if(z=C[w],z.uid===O&&z.type===D.type)continue t;D.dispose(),delete this.traces[O]}for(M=0;M<C.length;M++){z=C[M];var P=u[M],F=this.traces[z.uid];F?F.update(z,P):(F=z._module.plot(this,z,P),this.traces[z.uid]=F)}this.glplot.objects.sort(function(R,N){return R._trace.index-N._trace.index})},y.updateFx=function(C){_(C)||h(C)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),C==="pan"?this.mouseContainer.style.cursor="move":C==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},y.emitPointAction=function(C,u){for(var m=C.trace.uid,M=C.pointIndex,w,z=0;z<this.fullData.length;z++)this.fullData[z].uid===m&&(w=this.fullData[z]);var O={x:C.traceCoord[0],y:C.traceCoord[1],curveNumber:w.index,pointNumber:M,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(O,w,M),this.graphDiv.emit(u,{points:[O]})},y.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var C=this.glplot,u=this.camera,m=u.mouseListener,M=this.lastButtonState===1&&m.buttons===0,w=this.fullLayout;this.lastButtonState=m.buttons,this.cameraChanged();var z=m.x*C.pixelRatio,O=this.canvas.height-C.pixelRatio*m.y,D;if(u.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var P=this.selectBox.selectBox=[Math.min(u.boxStart[0],u.boxEnd[0]),Math.min(u.boxStart[1],u.boxEnd[1]),Math.max(u.boxStart[0],u.boxEnd[0]),Math.max(u.boxStart[1],u.boxEnd[1])],F=0;F<2;F++)u.boxStart[F]===u.boxEnd[F]&&(P[F]=C.dataBox[F],P[F+2]=C.dataBox[F+2]);C.setDirty()}else if(!u.panning&&this.isMouseOver){this.selectBox.enabled=!1;var R=w._size,N=this.xaxis.domain,B=this.yaxis.domain;D=C.pick(z/C.pixelRatio+R.l+N[0]*R.w,O/C.pixelRatio-(R.t+(1-B[1])*R.h));var q=D&&D.object._trace.handlePick(D);if(q&&M&&this.emitPointAction(q,"plotly_click"),D&&D.object._trace.hoverinfo!=="skip"&&w.hovermode&&q&&(!this.lastPickResult||this.lastPickResult.traceUid!==q.trace.uid||this.lastPickResult.dataCoord[0]!==q.dataCoord[0]||this.lastPickResult.dataCoord[1]!==q.dataCoord[1])){var V=q;this.lastPickResult={traceUid:q.trace?q.trace.uid:null,dataCoord:q.dataCoord.slice()},this.spikes.update({center:D.dataCoord}),V.screenCoord=[((C.viewBox[2]-C.viewBox[0])*(D.dataCoord[0]-C.dataBox[0])/(C.dataBox[2]-C.dataBox[0])+C.viewBox[0])/C.pixelRatio,(this.canvas.height-(C.viewBox[3]-C.viewBox[1])*(D.dataCoord[1]-C.dataBox[1])/(C.dataBox[3]-C.dataBox[1])-C.viewBox[1])/C.pixelRatio],this.emitPointAction(q,"plotly_hover");var J=this.fullData[V.trace.index]||{},it=V.pointIndex,nt=i.castHoverinfo(J,w,it);if(nt&&nt!=="all"){var Y=nt.split("+");Y.indexOf("x")===-1&&(V.traceCoord[0]=void 0),Y.indexOf("y")===-1&&(V.traceCoord[1]=void 0),Y.indexOf("z")===-1&&(V.traceCoord[2]=void 0),Y.indexOf("text")===-1&&(V.textLabel=void 0),Y.indexOf("name")===-1&&(V.name=void 0)}i.loneHover({x:V.screenCoord[0],y:V.screenCoord[1],xLabel:this.hoverFormatter("xaxis",V.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",V.traceCoord[1]),zLabel:V.traceCoord[2],text:V.textLabel,name:V.name,color:i.castHoverOption(J,it,"bgcolor")||V.color,borderColor:i.castHoverOption(J,it,"bordercolor"),fontFamily:i.castHoverOption(J,it,"font.family"),fontSize:i.castHoverOption(J,it,"font.size"),fontColor:i.castHoverOption(J,it,"font.color"),nameLength:i.castHoverOption(J,it,"namelength"),textAlign:i.castHoverOption(J,it,"align")},{container:this.svgContainer,gd:this.graphDiv})}}D||this.unhover(),C.draw()}},y.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},y.hoverFormatter=function(C,u){if(u!==void 0){var m=this[C];return S.tickText(m,m.c2l(u),"hover").text}}},12536:function(tt,U,t){var E=t(67824).overrideAll,S=t(65460),i=t(98432),L=t(84888).op,T=t(3400),v=t(9616),d="gl3d",r="scene";U.name=d,U.attr=r,U.idRoot=r,U.idRegex=U.attrRegex=T.counterRegex("scene"),U.attributes=t(6636),U.layoutAttributes=t(346),U.baseLayoutAttrOverrides=E({hoverlabel:S.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=t(5208),U.plot=function(e){for(var l=e._fullLayout,n=e._fullData,s=l._subplots[d],o=0;o<s.length;o++){var f=s[o],b=L(n,d,f),h=l[f],_=h.camera,a=h._scene;a||(a=new i({id:f,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio,camera:_},l),h._scene=a),a.viewInitial||(a.viewInitial={up:{x:_.up.x,y:_.up.y,z:_.up.z},eye:{x:_.eye.x,y:_.eye.y,z:_.eye.z},center:{x:_.center.x,y:_.center.y,z:_.center.z}}),a.plot(b,l,e.layout)}},U.clean=function(e,l,n,s){for(var o=s._subplots[d]||[],f=0;f<o.length;f++){var b=o[f];!l[b]&&s[b]._scene&&(s[b]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+b).remove())}},U.toSVG=function(e){for(var l=e._fullLayout,n=l._subplots[d],s=l._size,o=0;o<n.length;o++){var f=l[n[o]],b=f.domain,h=f._scene,_=h.toImage("png"),a=l._glimages.append("svg:image");a.attr({xmlns:v.svg,"xlink:href":_,x:s.l+s.w*b.x[0],y:s.t+s.h*(1-b.y[1]),width:s.w*(b.x[1]-b.x[0]),height:s.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var l=e.substr(5);return l==="1"&&(l=""),r+l}},U.updateFx=function(e){for(var l=e._fullLayout,n=l._subplots[d],s=0;s<n.length;s++){var o=l[n[s]]._scene;o.updateFx(l.dragmode,l.hovermode)}}},6636:function(tt){tt.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(tt,U,t){var E=t(76308),S=t(94724),i=t(92880).extendFlat,L=t(67824).overrideAll;tt.exports=L({visible:S.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:E.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:S.color,categoryorder:S.categoryorder,categoryarray:S.categoryarray,title:{text:S.title.text,font:S.title.font},type:i({},S.type,{values:["-","linear","log","date","category"]}),autotypenumbers:S.autotypenumbers,autorange:S.autorange,autorangeoptions:{minallowed:S.autorangeoptions.minallowed,maxallowed:S.autorangeoptions.maxallowed,clipmin:S.autorangeoptions.clipmin,clipmax:S.autorangeoptions.clipmax,include:S.autorangeoptions.include,editType:"plot"},rangemode:S.rangemode,minallowed:S.minallowed,maxallowed:S.maxallowed,range:i({},S.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:S.minor.tickmode,nticks:S.nticks,tick0:S.tick0,dtick:S.dtick,tickvals:S.tickvals,ticktext:S.ticktext,ticks:S.ticks,mirror:S.mirror,ticklen:S.ticklen,tickwidth:S.tickwidth,tickcolor:S.tickcolor,showticklabels:S.showticklabels,labelalias:S.labelalias,tickfont:S.tickfont,tickangle:S.tickangle,tickprefix:S.tickprefix,showtickprefix:S.showtickprefix,ticksuffix:S.ticksuffix,showticksuffix:S.showticksuffix,showexponent:S.showexponent,exponentformat:S.exponentformat,minexponent:S.minexponent,separatethousands:S.separatethousands,tickformat:S.tickformat,tickformatstops:S.tickformatstops,hoverformat:S.hoverformat,showline:S.showline,linecolor:S.linecolor,linewidth:S.linewidth,showgrid:S.showgrid,gridcolor:i({},S.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:S.gridwidth,zeroline:S.zeroline,zerolinecolor:S.zerolinecolor,zerolinewidth:S.zerolinewidth,_deprecated:{title:S._deprecated.title,titlefont:S._deprecated.titlefont}},"plot","from-root")},64380:function(tt,U,t){var E=t(49760).mix,S=t(3400),i=t(31780),L=t(86140),T=t(14944),v=t(28336),d=["xaxis","yaxis","zaxis"],r=100*136/187;tt.exports=function(e,l,n){var s,o;function f(_,a){return S.coerce(s,o,L,_,a)}for(var b=0;b<d.length;b++){var h=d[b];s=e[h]||{},o=i.newContainer(l,h),o._id=h[0]+n.scene,o._name=h,T(s,o,f,n),v(s,o,f,{font:n.font,letter:h[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),f("gridcolor",E(o.color,n.bgColor,r).toRgbString()),f("title.text",h[0]),o.setScale=S.noop,f("showspikes")&&(f("spikesides"),f("spikethickness"),f("spikecolor",o.color)),f("showaxeslabels"),f("showbackground")&&f("backgroundcolor")}}},44728:function(tt,U,t){var E=t(43080),S=t(3400),i=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var T=L.prototype;T.merge=function(d,r){for(var e=this,l=0;l<3;++l){var n=r[i[l]];if(!n.visible){e.tickEnable[l]=!1,e.labelEnable[l]=!1,e.lineEnable[l]=!1,e.lineTickEnable[l]=!1,e.gridEnable[l]=!1,e.zeroEnable[l]=!1,e.backgroundEnable[l]=!1;continue}e.labels[l]=d._meta?S.templateString(n.title.text,d._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(e.labelColor[l]=E(n.title.font.color)),n.title.font.family&&(e.labelFont[l]=n.title.font.family),n.title.font.size&&(e.labelSize[l]=n.title.font.size),n.title.font.weight&&(e.labelFontWeight[l]=n.title.font.weight),n.title.font.style&&(e.labelFontStyle[l]=n.title.font.style),n.title.font.variant&&(e.labelFontVariant[l]=n.title.font.variant)),"showline"in n&&(e.lineEnable[l]=n.showline),"linecolor"in n&&(e.lineColor[l]=E(n.linecolor)),"linewidth"in n&&(e.lineWidth[l]=n.linewidth),"showgrid"in n&&(e.gridEnable[l]=n.showgrid),"gridcolor"in n&&(e.gridColor[l]=E(n.gridcolor)),"gridwidth"in n&&(e.gridWidth[l]=n.gridwidth),n.type==="log"?e.zeroEnable[l]=!1:"zeroline"in n&&(e.zeroEnable[l]=n.zeroline),"zerolinecolor"in n&&(e.zeroLineColor[l]=E(n.zerolinecolor)),"zerolinewidth"in n&&(e.zeroLineWidth[l]=n.zerolinewidth),"ticks"in n&&n.ticks?e.lineTickEnable[l]=!0:e.lineTickEnable[l]=!1,"ticklen"in n&&(e.lineTickLength[l]=e._defaultLineTickLength[l]=n.ticklen),"tickcolor"in n&&(e.lineTickColor[l]=E(n.tickcolor)),"tickwidth"in n&&(e.lineTickWidth[l]=n.tickwidth),"tickangle"in n&&(e.tickAngle[l]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(e.tickEnable[l]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(e.tickColor[l]=E(n.tickfont.color)),n.tickfont.family&&(e.tickFont[l]=n.tickfont.family),n.tickfont.size&&(e.tickSize[l]=n.tickfont.size),n.tickfont.weight&&(e.tickFontWeight[l]=n.tickfont.weight),n.tickfont.style&&(e.tickFontStyle[l]=n.tickfont.style),n.tickfont.variant&&(e.tickFontVariant[l]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(e.lineTickMirror[l]=!0,e.lineMirror[l]=!0):n.mirror===!0?(e.lineTickMirror[l]=!1,e.lineMirror[l]=!0):(e.lineTickMirror[l]=!1,e.lineMirror[l]=!1):e.lineMirror[l]=!1,"showbackground"in n&&n.showbackground!==!1?(e.backgroundEnable[l]=!0,e.backgroundColor[l]=E(n.backgroundcolor)):e.backgroundEnable[l]=!1}};function v(d,r){var e=new L;return e.merge(d,r),e}tt.exports=v},5208:function(tt,U,t){var E=t(3400),S=t(76308),i=t(24040),L=t(168),T=t(64380),v=t(346),d=t(84888).op,r="gl3d";tt.exports=function(l,n,s){var o=n._basePlotModules.length>1;function f(b){if(!o){var h=E.validate(l[b],v[b]);if(h)return l[b]}}L(l,n,s,{type:r,attributes:v,handleDefaults:e,fullLayout:n,font:n.font,fullData:s,getDfltFromLayout:f,autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})};function e(l,n,s,o){for(var f=s("bgcolor"),b=S.combine(f,o.paper_bgcolor),h=["up","center","eye"],_=0;_<h.length;_++)s("camera."+h[_]+".x"),s("camera."+h[_]+".y"),s("camera."+h[_]+".z");s("camera.projection.type");var a=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),c=a?"manual":"auto",p=s("aspectmode",c);a||(l.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),l.aspectmode=n.aspectmode);var x=d(o.fullData,r,o.id);T(l,n,{font:o.font,scene:o.id,data:x,bgColor:b,calendar:o.calendar,autotypenumbersDflt:o.autotypenumbersDflt,fullLayout:o.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(l,n,o);var k=o.getDfltFromLayout("dragmode");if(k!==!1&&!k)if(k="orbit",l.camera&&l.camera.up){var y=l.camera.up.x,A=l.camera.up.y,C=l.camera.up.z;C!==0&&(!y||!A||!C||C/Math.sqrt(y*y+A*A+C*C)>.999)&&(k="turntable")}else k="turntable";s("dragmode",k),s("hovermode",o.getDfltFromLayout("hovermode"))}},346:function(tt,U,t){var E=t(86140),S=t(86968).u,i=t(92880).extendFlat,L=t(3400).counterRegex;function T(v,d,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:d,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}tt.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(T(0,0,1),{}),center:i(T(0,0,0),{}),eye:i(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:S({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:E,yaxis:E,zaxis:E,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(tt,U,t){var E=t(43080),S=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=i.prototype;L.merge=function(v){for(var d=0;d<3;++d){var r=v[S[d]];if(!r.visible){this.enabled[d]=!1,this.drawSides[d]=!1;continue}this.enabled[d]=r.showspikes,this.colors[d]=E(r.spikecolor),this.drawSides[d]=r.spikesides,this.lineWidth[d]=r.spikethickness}};function T(v){var d=new i;return d.merge(v),d}tt.exports=T},87152:function(tt,U,t){tt.exports=T;var E=t(54460),S=t(3400),i=["xaxis","yaxis","zaxis"];function L(v){for(var d=new Array(3),r=0;r<3;++r){for(var e=v[r],l=new Array(e.length),n=0;n<e.length;++n)l[n]=e[n].x;d[r]=l}return d}function T(v){for(var d=v.axesOptions,r=v.glplot.axesPixels,e=v.fullSceneLayout,l=[[],[],[]],n=0;n<3;++n){var s=e[i[n]];if(s._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(s._length)===1/0||isNaN(s._length))l[n]=[];else{s._input_range=s.range.slice(),s.range[0]=r[n].lo/v.dataScale[n],s.range[1]=r[n].hi/v.dataScale[n],s._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),s.range[0]===s.range[1]&&(s.range[0]-=1,s.range[1]+=1);var o=s.tickmode;if(s.tickmode==="auto"){s.tickmode="linear";var f=s.nticks||S.constrain(s._length/40,4,9);E.autoTicks(s,Math.abs(s.range[1]-s.range[0])/f)}for(var b=E.calcTicks(s,{msUTC:!0}),h=0;h<b.length;++h)b[h].x=b[h].x*v.dataScale[n],s.type==="date"&&(b[h].text=b[h].text.replace(/\<br\>/g," "));l[n]=b,s.tickmode=o}}d.ticks=l;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)d.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=L(l)}},94424:function(tt){function U(E,S){var i=[0,0,0,0],L,T;for(L=0;L<4;++L)for(T=0;T<4;++T)i[T]+=E[4*L+T]*S[L];return i}function t(E,S){var i=U(E.projection,U(E.view,U(E.model,[S[0],S[1],S[2],1])));return i}tt.exports=t},98432:function(tt,U,t){var E=t(67792).gl_plot3d,S=E.createCamera,i=E.createScene,L=t(5408),T=t(89184),v=t(24040),d=t(3400),r=d.preserveDrawingBuffer(),e=t(54460),l=t(93024),n=t(43080),s=t(16576),o=t(94424),f=t(44728),b=t(9020),h=t(87152),_=t(19280).applyAutorangeOptions,a,c,p=!1;function x(O,D){var P=document.createElement("div"),F=O.container;this.graphDiv=O.graphDiv;var R=document.createElementNS("http://www.w3.org/2000/svg","svg");R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",R.style["z-index"]=20,R.style["pointer-events"]="none",P.appendChild(R),this.svgContainer=R,P.id=O.id,P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",F.appendChild(P),this.fullLayout=D,this.id=O.id||"scene",this.fullSceneLayout=D[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(D,D[this.id]),this.spikeOptions=b(D[this.id]),this.container=P,this.staticMode=!!O.staticPlot,this.pixelRatio=this.pixelRatio||O.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var k=x.prototype;k.prepareOptions=function(){var O=this,D={canvas:O.canvas,gl:O.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:O.container,axes:O.axesOptions,spikes:O.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:O.camera,pixelRatio:O.pixelRatio};if(O.staticMode){if(!c&&(a=document.createElement("canvas"),c=L({canvas:a,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!c))throw new Error("error creating static canvas/context for image server");D.gl=c,D.canvas=a}return D};var y=!0;k.tryCreatePlot=function(){var O=this,D=O.prepareOptions(),P=!0;try{O.glplot=i(D)}catch{if(O.staticMode||!y||r)P=!1;else{d.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=D.glOptions.preserveDrawingBuffer=!0,O.glplot=i(D)}catch{r=D.glOptions.preserveDrawingBuffer=!1,P=!1}}}return y=!1,P},k.initializeGLCamera=function(){var O=this,D=O.fullSceneLayout.camera,P=D.projection.type==="orthographic";O.camera=S(O.container,{center:[D.center.x,D.center.y,D.center.z],eye:[D.eye.x,D.eye.y,D.eye.z],up:[D.up.x,D.up.y,D.up.z],_ortho:P,zoomMin:.01,zoomMax:100,mode:"orbit"})},k.initializeGLPlot=function(){var O=this;O.initializeGLCamera();var D=O.tryCreatePlot();if(!D)return s(O);O.traces={},O.make4thDimension();var P=O.graphDiv,F=P.layout,R=function(){var B={};return O.isCameraChanged(F)&&(B[O.id+".camera"]=O.getCamera()),O.isAspectChanged(F)&&(B[O.id+".aspectratio"]=O.glplot.getAspectratio(),F[O.id].aspectmode!=="manual"&&(O.fullSceneLayout.aspectmode=F[O.id].aspectmode=B[O.id+".aspectmode"]="manual")),B},N=function(B){if(B.fullSceneLayout.dragmode!==!1){var q=R();B.saveLayout(F),B.graphDiv.emit("plotly_relayout",q)}};return O.glplot.canvas&&(O.glplot.canvas.addEventListener("mouseup",function(){N(O)}),O.glplot.canvas.addEventListener("touchstart",function(){p=!0}),O.glplot.canvas.addEventListener("wheel",function(B){if(P._context._scrollZoom.gl3d){if(O.camera._ortho){var q=B.deltaX>B.deltaY?1.1:.9090909090909091,V=O.glplot.getAspectratio();O.glplot.setAspectratio({x:q*V.x,y:q*V.y,z:q*V.z})}N(O)}},T?{passive:!1}:!1),O.glplot.canvas.addEventListener("mousemove",function(){if(O.fullSceneLayout.dragmode!==!1&&O.camera.mouseListener.buttons!==0){var B=R();O.graphDiv.emit("plotly_relayouting",B)}}),O.staticMode||O.glplot.canvas.addEventListener("webglcontextlost",function(B){P&&P.emit&&P.emit("plotly_webglcontextlost",{event:B,layer:O.id})},!1)),O.glplot.oncontextloss=function(){O.recoverContext()},O.glplot.onrender=function(){O.render()},!0},k.render=function(){var O=this,D=O.graphDiv,P,F=O.svgContainer,R=O.container.getBoundingClientRect();D._fullLayout._calcInverseTransform(D);var N=D._fullLayout._invScaleX,B=D._fullLayout._invScaleY,q=R.width*N,V=R.height*B;F.setAttributeNS(null,"viewBox","0 0 "+q+" "+V),F.setAttributeNS(null,"width",q),F.setAttributeNS(null,"height",V),h(O),O.glplot.axes.update(O.axesOptions);for(var J=Object.keys(O.traces),it=null,nt=O.glplot.selection,Y=0;Y<J.length;++Y)P=O.traces[J[Y]],P.data.hoverinfo!=="skip"&&P.handlePick(nt)&&(it=P),P.setContourLevels&&P.setContourLevels();function Z(Lt,gt,mt){var vt=O.fullSceneLayout[Lt+"axis"];return vt.type!=="log"&&(gt=vt.d2l(gt)),e.hoverLabelText(vt,gt,mt)}if(it!==null){var $=o(O.glplot.cameraParams,nt.dataCoordinate);P=it.data;var G=D._fullData[P.index],rt=nt.index,ot={xLabel:Z("x",nt.traceCoordinate[0],P.xhoverformat),yLabel:Z("y",nt.traceCoordinate[1],P.yhoverformat),zLabel:Z("z",nt.traceCoordinate[2],P.zhoverformat)},W=l.castHoverinfo(G,O.fullLayout,rt),H=(W||"").split("+"),at=W&&W==="all";!G.hovertemplate&&!at&&(H.indexOf("x")===-1&&(ot.xLabel=void 0),H.indexOf("y")===-1&&(ot.yLabel=void 0),H.indexOf("z")===-1&&(ot.zLabel=void 0),H.indexOf("text")===-1&&(nt.textLabel=void 0),H.indexOf("name")===-1&&(it.name=void 0));var Q,ct=[];P.type==="cone"||P.type==="streamtube"?(ot.uLabel=Z("x",nt.traceCoordinate[3],P.uhoverformat),(at||H.indexOf("u")!==-1)&&ct.push("u: "+ot.uLabel),ot.vLabel=Z("y",nt.traceCoordinate[4],P.vhoverformat),(at||H.indexOf("v")!==-1)&&ct.push("v: "+ot.vLabel),ot.wLabel=Z("z",nt.traceCoordinate[5],P.whoverformat),(at||H.indexOf("w")!==-1)&&ct.push("w: "+ot.wLabel),ot.normLabel=nt.traceCoordinate[6].toPrecision(3),(at||H.indexOf("norm")!==-1)&&ct.push("norm: "+ot.normLabel),P.type==="streamtube"&&(ot.divergenceLabel=nt.traceCoordinate[7].toPrecision(3),(at||H.indexOf("divergence")!==-1)&&ct.push("divergence: "+ot.divergenceLabel)),nt.textLabel&&ct.push(nt.textLabel),Q=ct.join("<br>")):P.type==="isosurface"||P.type==="volume"?(ot.valueLabel=e.hoverLabelText(O._mockAxis,O._mockAxis.d2l(nt.traceCoordinate[3]),P.valuehoverformat),ct.push("value: "+ot.valueLabel),nt.textLabel&&ct.push(nt.textLabel),Q=ct.join("<br>")):Q=nt.textLabel;var ft={x:nt.traceCoordinate[0],y:nt.traceCoordinate[1],z:nt.traceCoordinate[2],data:G._input,fullData:G,curveNumber:G.index,pointNumber:rt};l.appendArrayPointValue(ft,G,rt),P._module.eventData&&(ft=G._module.eventData(ft,nt,G,{},rt));var yt={points:[ft]};if(O.fullSceneLayout.hovermode){var xt=[];l.loneHover({trace:G,x:(.5+.5*$[0]/$[3])*q,y:(.5-.5*$[1]/$[3])*V,xLabel:ot.xLabel,yLabel:ot.yLabel,zLabel:ot.zLabel,text:Q,name:it.name,color:l.castHoverOption(G,rt,"bgcolor")||it.color,borderColor:l.castHoverOption(G,rt,"bordercolor"),fontFamily:l.castHoverOption(G,rt,"font.family"),fontSize:l.castHoverOption(G,rt,"font.size"),fontColor:l.castHoverOption(G,rt,"font.color"),nameLength:l.castHoverOption(G,rt,"namelength"),textAlign:l.castHoverOption(G,rt,"align"),hovertemplate:d.castOption(G,rt,"hovertemplate"),hovertemplateLabels:d.extendFlat({},ft,ot),eventData:[ft]},{container:F,gd:D,inOut_bbox:xt}),ft.bbox=xt[0]}nt.distance<5&&(nt.buttons||p)?D.emit("plotly_click",yt):D.emit("plotly_hover",yt),this.oldEventData=yt}else l.loneUnhover(F),this.oldEventData&&D.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;O.drawAnnotations(O)},k.recoverContext=function(){var O=this;O.glplot.dispose();var D=function(){if(O.glplot.gl.isContextLost()){requestAnimationFrame(D);return}if(!O.initializeGLPlot()){d.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}O.plot.apply(O,O.plotArgs)};requestAnimationFrame(D)};var A=["xaxis","yaxis","zaxis"];function C(O,D,P){for(var F=O.fullSceneLayout,R=0;R<3;R++){var N=A[R],B=N.charAt(0),q=F[N],V=D[B],J=D[B+"calendar"],it=D["_"+B+"length"];if(!d.isArrayOrTypedArray(V))P[0][R]=Math.min(P[0][R],0),P[1][R]=Math.max(P[1][R],it-1);else for(var nt,Y=0;Y<(it||V.length);Y++)if(d.isArrayOrTypedArray(V[Y]))for(var Z=0;Z<V[Y].length;++Z)nt=q.d2l(V[Y][Z],0,J),!isNaN(nt)&&isFinite(nt)&&(P[0][R]=Math.min(P[0][R],nt),P[1][R]=Math.max(P[1][R],nt));else nt=q.d2l(V[Y],0,J),!isNaN(nt)&&isFinite(nt)&&(P[0][R]=Math.min(P[0][R],nt),P[1][R]=Math.max(P[1][R],nt))}}function u(O,D){for(var P=O.fullSceneLayout,F=P.annotations||[],R=0;R<3;R++)for(var N=A[R],B=N.charAt(0),q=P[N],V=0;V<F.length;V++){var J=F[V];if(J.visible){var it=q.r2l(J[B]);!isNaN(it)&&isFinite(it)&&(D[0][R]=Math.min(D[0][R],it),D[1][R]=Math.max(D[1][R],it))}}}k.plot=function(O,D,P){var F=this;if(F.plotArgs=[O,D,P],!F.glplot.contextLost){var R,N,B,q,V,J,it=D[F.id],nt=P[F.id];F.fullLayout=D,F.fullSceneLayout=it,F.axesOptions.merge(D,it),F.spikeOptions.merge(it),F.setViewport(it),F.updateFx(it.dragmode,it.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(n(it.bgcolor)),F.setConvert(V),O?Array.isArray(O)||(O=[O]):O=[];var Y=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<O.length;++B)R=O[B],!(R.visible!==!0||R._length===0)&&C(this,R,Y);u(this,Y);var Z=[1,1,1];for(q=0;q<3;++q)Y[1][q]===Y[0][q]?Z[q]=1:Z[q]=1/(Y[1][q]-Y[0][q]);for(F.dataScale=Z,F.convertAnnotations(this),B=0;B<O.length;++B)R=O[B],!(R.visible!==!0||R._length===0)&&(N=F.traces[R.uid],N?N.data.type===R.type?N.update(R):(N.dispose(),N=R._module.plot(this,R),F.traces[R.uid]=N):(N=R._module.plot(this,R),F.traces[R.uid]=N),N.name=R.name);var $=Object.keys(F.traces);t:for(B=0;B<$.length;++B){for(q=0;q<O.length;++q)if(O[q].uid===$[B]&&O[q].visible===!0&&O[q]._length!==0)continue t;N=F.traces[$[B]],N.dispose(),delete F.traces[$[B]]}F.glplot.objects.sort(function(pe,Vt){return pe._trace.data.index-Vt._trace.data.index});var G=[[0,0,0],[0,0,0]],rt=[],ot={};for(B=0;B<3;++B){V=it[A[B]],J=V.type,J in ot?(ot[J].acc*=Z[B],ot[J].count+=1):ot[J]={acc:Z[B],count:1};var W;if(V.autorange){G[0][B]=1/0,G[1][B]=-1/0;var H=F.glplot.objects,at=F.fullSceneLayout.annotations||[],Q=V._name.charAt(0);for(q=0;q<H.length;q++){var ct=H[q],ft=ct.bounds,yt=ct._trace.data._pad||0;ct.constructor.name==="ErrorBars"&&V._lowerLogErrorBound?G[0][B]=Math.min(G[0][B],V._lowerLogErrorBound):G[0][B]=Math.min(G[0][B],ft[0][B]/Z[B]-yt),G[1][B]=Math.max(G[1][B],ft[1][B]/Z[B]+yt)}for(q=0;q<at.length;q++){var xt=at[q];if(xt.visible){var Lt=V.r2l(xt[Q]);G[0][B]=Math.min(G[0][B],Lt),G[1][B]=Math.max(G[1][B],Lt)}}if("rangemode"in V&&V.rangemode==="tozero"&&(G[0][B]=Math.min(G[0][B],0),G[1][B]=Math.max(G[1][B],0)),G[0][B]>G[1][B])G[0][B]=-1,G[1][B]=1;else{var gt=G[1][B]-G[0][B];G[0][B]-=gt/32,G[1][B]+=gt/32}if(W=[G[0][B],G[1][B]],W=_(W,V),G[0][B]=W[0],G[1][B]=W[1],V.isReversed()){var mt=G[0][B];G[0][B]=G[1][B],G[1][B]=mt}}else W=V.range,G[0][B]=V.r2l(W[0]),G[1][B]=V.r2l(W[1]);G[0][B]===G[1][B]&&(G[0][B]-=1,G[1][B]+=1),rt[B]=G[1][B]-G[0][B],V.range=[G[0][B],G[1][B]],V.limitRange(),F.glplot.setBounds(B,{min:V.range[0]*Z[B],max:V.range[1]*Z[B]})}var vt,At=it.aspectmode;if(At==="cube")vt=[1,1,1];else if(At==="manual"){var Ot=it.aspectratio;vt=[Ot.x,Ot.y,Ot.z]}else if(At==="auto"||At==="data"){var Pt=[1,1,1];for(B=0;B<3;++B){V=it[A[B]],J=V.type;var Et=ot[J];Pt[B]=Math.pow(Et.acc,1/Et.count)/Z[B]}At==="data"||Math.max.apply(null,Pt)/Math.min.apply(null,Pt)<=4?vt=Pt:vt=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");it.aspectratio.x=nt.aspectratio.x=vt[0],it.aspectratio.y=nt.aspectratio.y=vt[1],it.aspectratio.z=nt.aspectratio.z=vt[2],F.glplot.setAspectratio(it.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:it.aspectratio.x,y:it.aspectratio.y,z:it.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=it.aspectmode);var Nt=it.domain||null,ne=D._size||null;if(Nt&&ne){var Gt=F.container.style;Gt.position="absolute",Gt.left=ne.l+Nt.x[0]*ne.w+"px",Gt.top=ne.t+(1-Nt.y[1])*ne.h+"px",Gt.width=ne.w*(Nt.x[1]-Nt.x[0])+"px",Gt.height=ne.h*(Nt.y[1]-Nt.y[0])+"px"}F.glplot.redraw()}},k.destroy=function(){var O=this;O.glplot&&(O.camera.mouseListener.enabled=!1,O.container.removeEventListener("wheel",O.camera.wheelListener),O.camera=null,O.glplot.dispose(),O.container.parentNode.removeChild(O.container),O.glplot=null)};function m(O){return[[O.eye.x,O.eye.y,O.eye.z],[O.center.x,O.center.y,O.center.z],[O.up.x,O.up.y,O.up.z]]}function M(O){return{up:{x:O.up[0],y:O.up[1],z:O.up[2]},center:{x:O.center[0],y:O.center[1],z:O.center[2]},eye:{x:O.eye[0],y:O.eye[1],z:O.eye[2]},projection:{type:O._ortho===!0?"orthographic":"perspective"}}}k.getCamera=function(){var O=this;return O.camera.view.recalcMatrix(O.camera.view.lastT()),M(O.camera)},k.setViewport=function(O){var D=this,P=O.camera;D.camera.lookAt.apply(this,m(P)),D.glplot.setAspectratio(O.aspectratio);var F=P.projection.type==="orthographic",R=D.camera._ortho;F!==R&&(D.glplot.redraw(),D.glplot.clearRGBA(),D.glplot.dispose(),D.initializeGLPlot())},k.isCameraChanged=function(O){var D=this,P=D.getCamera(),F=d.nestedProperty(O,D.id+".camera"),R=F.get();function N(J,it,nt,Y){var Z=["up","center","eye"],$=["x","y","z"];return it[Z[nt]]&&J[Z[nt]][$[Y]]===it[Z[nt]][$[Y]]}var B=!1;if(R===void 0)B=!0;else{for(var q=0;q<3;q++)for(var V=0;V<3;V++)if(!N(P,R,q,V)){B=!0;break}(!R.projection||P.projection&&P.projection.type!==R.projection.type)&&(B=!0)}return B},k.isAspectChanged=function(O){var D=this,P=D.glplot.getAspectratio(),F=d.nestedProperty(O,D.id+".aspectratio"),R=F.get();return R===void 0||R.x!==P.x||R.y!==P.y||R.z!==P.z},k.saveLayout=function(O){var D=this,P=D.fullLayout,F,R,N,B,q,V,J=D.isCameraChanged(O),it=D.isAspectChanged(O),nt=J||it;if(nt){var Y={};if(J&&(F=D.getCamera(),R=d.nestedProperty(O,D.id+".camera"),N=R.get(),Y[D.id+".camera"]=N),it&&(B=D.glplot.getAspectratio(),q=d.nestedProperty(O,D.id+".aspectratio"),V=q.get(),Y[D.id+".aspectratio"]=V),v.call("_storeDirectGUIEdit",O,P._preGUI,Y),J){R.set(F);var Z=d.nestedProperty(P,D.id+".camera");Z.set(F)}if(it){q.set(B);var $=d.nestedProperty(P,D.id+".aspectratio");$.set(B),D.glplot.redraw()}}return nt},k.updateFx=function(O,D){var P=this,F=P.camera;if(F)if(O==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(O==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var R=P.graphDiv,N=R._fullLayout,B=P.fullSceneLayout.camera,q=B.up.x,V=B.up.y,J=B.up.z;if(J/Math.sqrt(q*q+V*V+J*J)<.999){var it=P.id+".camera.up",nt={x:0,y:0,z:1},Y={};Y[it]=nt;var Z=R.layout;v.call("_storeDirectGUIEdit",Z,N._preGUI,Y),B.up=nt,d.nestedProperty(Z,it).set(nt)}}else F.keyBindingMode=O;P.fullSceneLayout.hovermode=D};function w(O,D,P){for(var F=0,R=P-1;F<R;++F,--R)for(var N=0;N<D;++N)for(var B=0;B<4;++B){var q=4*(D*F+N)+B,V=4*(D*R+N)+B,J=O[q];O[q]=O[V],O[V]=J}}function z(O,D,P){for(var F=0;F<P;++F)for(var R=0;R<D;++R){var N=4*(D*F+R),B=O[N+3];if(B>0)for(var q=255/B,V=0;V<3;++V)O[N+V]=Math.min(q*O[N+V],255)}}k.toImage=function(O){var D=this;O||(O="png"),D.staticMode&&D.container.appendChild(a),D.glplot.redraw();var P=D.glplot.gl,F=P.drawingBufferWidth,R=P.drawingBufferHeight;P.bindFramebuffer(P.FRAMEBUFFER,null);var N=new Uint8Array(F*R*4);P.readPixels(0,0,F,R,P.RGBA,P.UNSIGNED_BYTE,N),w(N,F,R),z(N,F,R);var B=document.createElement("canvas");B.width=F,B.height=R;var q=B.getContext("2d",{willReadFrequently:!0}),V=q.createImageData(F,R);V.data.set(N),q.putImageData(V,0,0);var J;switch(O){case"jpeg":J=B.toDataURL("image/jpeg");break;case"webp":J=B.toDataURL("image/webp");break;default:J=B.toDataURL("image/png")}return D.staticMode&&D.container.removeChild(a),J},k.setConvert=function(){for(var O=this,D=0;D<3;D++){var P=O.fullSceneLayout[A[D]];e.setConvert(P,O.fullLayout),P.setScale=d.noop}},k.make4thDimension=function(){var O=this,D=O.graphDiv,P=D._fullLayout;O._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},e.setConvert(O._mockAxis,P)},tt.exports=x},52094:function(tt){tt.exports=function(U,t,E,S){S=S||U.length;for(var i=new Array(S),L=0;L<S;L++)i[L]=[U[L],t[L],E[L]];return i}},64859:function(tt,U,t){var E=t(25376),S=t(85656),i=t(22548),L=t(92872),T=t(34200),v=t(66741),d=t(92880).extendFlat,r=E({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,tt.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:E({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:d(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:d({},S.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:E({editType:"layoutstyle"})}}},47552:function(tt,U,t){var E=t(95376),S="1.13.4",i='\xA9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['\xA9 <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=E(d);tt.exports={requiredVersion:S,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+S+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){var L=S.split(" "),T=L[0],v=L[1],d=E.isArrayOrTypedArray(i)?E.mean(i):i,r=.5+d/100,e=1.5+d/100,l=["",""],n=[0,0];switch(T){case"top":l[0]="top",n[1]=-e;break;case"bottom":l[0]="bottom",n[1]=e;break}switch(v){case"left":l[1]="right",n[0]=-r;break;case"right":l[1]="left",n[0]=r;break}var s;return l[0]&&l[1]?s=l.join("-"):l[0]?s=l[0]:l[1]?s=l[1]:s="center",{anchor:s,offset:n}}},33688:function(tt,U,t){var E=t(3480),S=t(3400),i=S.strTranslate,L=S.strScale,T=t(84888).KY,v=t(9616),d=t(33428),r=t(43616),e=t(72736),l=t(14440),n="mapbox",s=U.constants=t(47552);U.name=n,U.attr="subplot",U.idRoot=n,U.idRegex=U.attrRegex=S.counterRegex(n),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=t(5232),U.supplyLayoutDefaults=t(5976),U.plot=function(b){var h=b._fullLayout,_=b.calcdata,a=h._subplots[n];if(E.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var c=o(b,a);E.accessToken=c;for(var p=0;p<a.length;p++){var x=a[p],k=T(_,n,x),y=h[x],A=y._subplot;A||(A=new l(b,x),h[x]._subplot=A),A.viewInitial||(A.viewInitial={center:S.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),A.plot(k,h,b._promises)}},U.clean=function(b,h,_,a){for(var c=a._subplots[n]||[],p=0;p<c.length;p++){var x=c[p];!h[x]&&a[x]._subplot&&a[x]._subplot.destroy()}},U.toSVG=function(b){for(var h=b._fullLayout,_=h._subplots[n],a=h._size,c=0;c<_.length;c++){var p=h[_[c]],x=p.domain,k=p._subplot,y=k.toImage("png"),A=h._glimages.append("svg:image");A.attr({xmlns:v.svg,"xlink:href":y,x:a.l+a.w*x.x[0],y:a.t+a.h*(1-x.y[1]),width:a.w*(x.x[1]-x.x[0]),height:a.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var C=d.select(p._subplot.div),u=C.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!u){var m=h._glimages.append("g");m.attr("transform",i(a.l+a.w*x.x[0]+10,a.t+a.h*(1-x.y[0])-31)),m.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),m.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),m.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),m.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var M=C.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),w=h._glimages.append("g"),z=w.append("text");z.text(M).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":M});var O=r.bBox(z.node()),D=a.w*(x.x[1]-x.x[0]);if(O.width>D/2){var P=M.split("|").join("<br>");z.text(P).attr("data-unformatted",P).call(e.convertToTspans,b),O=r.bBox(z.node())}z.attr("transform",i(-3,-O.height+8)),w.insert("rect",".static-attribution").attr({x:-O.width-6,y:-O.height-3,width:O.width+6,height:O.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;O.width+6>D&&(F=D/(O.width+6));var R=[a.l+a.w*x.x[1],a.t+a.h*(1-x.y[0])];w.attr("transform",i(R[0],R[1])+L(F))}};function o(b,h){var _=b._fullLayout,a=b._context;if(a.mapboxAccessToken==="")return"";for(var c=[],p=[],x=!1,k=!1,y=0;y<h.length;y++){var A=_[h[y]],C=A.accesstoken;f(A.style)&&(C?S.pushUnique(c,C):(f(A._input.style)&&(S.error("Uses Mapbox map style, but did not set an access token."),x=!0),k=!0)),C&&S.pushUnique(p,C)}if(k){var u=x?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw S.error(u),new Error(u)}return c.length?(c.length>1&&S.warn(s.multipleTokensErrorMsg),c[0]):(p.length&&S.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function f(b){return typeof b=="string"&&(s.styleValuesMapbox.indexOf(b)!==-1||b.indexOf("mapbox://")===0||b.indexOf("stamen")===0)}U.updateFx=function(b){for(var h=b._fullLayout,_=h._subplots[n],a=0;a<_.length;a++){var c=h[_[a]]._subplot;c.updateFx(h)}}},22360:function(tt,U,t){var E=t(3400),S=t(72736).sanitizeHTML,i=t(89032),L=t(47552);function T(l,n){this.subplot=l,this.uid=l.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=T.prototype;v.update=function(l){this.visible?this.needsNewImage(l)?this.updateImage(l):this.needsNewSource(l)?(this.removeLayer(),this.updateSource(l),this.updateLayer(l)):this.needsNewLayer(l)?this.updateLayer(l):this.updateStyle(l):(this.updateSource(l),this.updateLayer(l)),this.visible=d(l)},v.needsNewImage=function(l){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&l.sourcetype==="image"&&(this.source!==l.source||JSON.stringify(this.coordinates)!==JSON.stringify(l.coordinates))},v.needsNewSource=function(l){return this.sourceType!==l.sourcetype||JSON.stringify(this.source)!==JSON.stringify(l.source)||this.layerType!==l.type},v.needsNewLayer=function(l){return this.layerType!==l.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(l){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:l.source,coordinates:l.coordinates});var s=this.findFollowingMapboxLayerId(this.lookupBelow());s!==null&&this.subplot.map.moveLayer(this.idLayer,s)},v.updateSource=function(l){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=l.sourcetype,this.source=l.source,!!d(l)){var s=e(l);n.addSource(this.idSource,s)}},v.findFollowingMapboxLayerId=function(l){if(l==="traces")for(var n=this.subplot.getMapLayers(),s=0;s<n.length;s++){var o=n[s].id;if(typeof o=="string"&&o.indexOf(L.traceLayerPrefix)===0){l=o;break}}return l},v.updateLayer=function(l){var n=this.subplot,s=r(l),o=this.lookupBelow(),f=this.findFollowingMapboxLayerId(o);this.removeLayer(),d(l)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":l.sourcelayer||"",type:l.type,minzoom:l.minzoom,maxzoom:l.maxzoom,layout:s.layout,paint:s.paint},f),this.layerType=l.type,this.below=o},v.updateStyle=function(l){if(d(l)){var n=r(l);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer)},v.dispose=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer),l.getSource(this.idSource)&&l.removeSource(this.idSource)};function d(l){if(!l.visible)return!1;var n=l.source;if(Array.isArray(n)&&n.length>0){for(var s=0;s<n.length;s++)if(typeof n[s]!="string"||n[s].length===0)return!1;return!0}return E.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(l){var n={},s={};switch(l.type){case"circle":E.extendFlat(s,{"circle-radius":l.circle.radius,"circle-color":l.color,"circle-opacity":l.opacity});break;case"line":E.extendFlat(s,{"line-width":l.line.width,"line-color":l.color,"line-opacity":l.opacity,"line-dasharray":l.line.dash});break;case"fill":E.extendFlat(s,{"fill-color":l.color,"fill-outline-color":l.fill.outlinecolor,"fill-opacity":l.opacity});break;case"symbol":var o=l.symbol,f=i(o.textposition,o.iconsize);E.extendFlat(n,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":f.anchor,"text-offset":f.offset,"symbol-placement":o.placement}),E.extendFlat(s,{"icon-color":l.color,"text-color":o.textfont.color,"text-opacity":l.opacity});break;case"raster":E.extendFlat(s,{"raster-fade-duration":0,"raster-opacity":l.opacity});break}return{layout:n,paint:s}}function e(l){var n=l.sourcetype,s=l.source,o={type:n},f;return n==="geojson"?f="data":n==="vector"?f=typeof s=="string"?"url":"tiles":n==="raster"?(f="tiles",o.tileSize=256):n==="image"&&(f="url",o.coordinates=l.coordinates),o[f]=s,l.sourceattribution&&(o.attribution=S(l.sourceattribution)),o}tt.exports=function(l,n,s){var o=new T(l,n);return o.update(s),o}},5232:function(tt,U,t){var E=t(3400),S=t(76308).defaultLine,i=t(86968).u,L=t(25376),T=t(52904).textposition,v=t(67824).overrideAll,d=t(31780).templatedArray,r=t(47552),e=L({noFontVariant:!0});e.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var l=tt.exports=v({_arrayAttrRegexps:[E.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:d("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:S},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:S}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:e,textposition:E.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root");l.uirevision={valType:"any",editType:"none"}},5976:function(tt,U,t){var E=t(3400),S=t(168),i=t(51272),L=t(5232);tt.exports=function(d,r,e){S(d,r,e,{type:"mapbox",attributes:L,handleDefaults:T,partition:"y",accessToken:r._mapboxAccessToken})};function T(d,r,e,l){e("accesstoken",l.accessToken),e("style"),e("center.lon"),e("center.lat"),e("zoom"),e("bearing"),e("pitch");var n=e("bounds.west"),s=e("bounds.east"),o=e("bounds.south"),f=e("bounds.north");(n===void 0||s===void 0||o===void 0||f===void 0)&&delete r.bounds,i(d,r,{name:"layers",handleItemDefaults:v}),r._input=d}function v(d,r){function e(b,h){return E.coerce(d,r,L.layers,b,h)}var l=e("visible");if(l){var n=e("sourcetype"),s=n==="raster"||n==="image";e("source"),e("sourceattribution"),n==="vector"&&e("sourcelayer"),n==="image"&&e("coordinates");var o;s&&(o="raster");var f=e("type",o);s&&f!=="raster"&&(f=r.type="raster",E.log("Source types *raster* and *image* must drawn *raster* layer type.")),e("below"),e("color"),e("opacity"),e("minzoom"),e("maxzoom"),f==="circle"&&e("circle.radius"),f==="line"&&(e("line.width"),e("line.dash")),f==="fill"&&e("fill.outlinecolor"),f==="symbol"&&(e("symbol.icon"),e("symbol.iconsize"),e("symbol.text"),E.coerceFont(e,"symbol.textfont",void 0,{noFontVariant:!0}),e("symbol.textposition"),e("symbol.placement"))}}},14440:function(tt,U,t){var E=t(3480),S=t(3400),i=t(27144),L=t(24040),T=t(54460),v=t(86476),d=t(93024),r=t(72760),e=r.drawMode,l=r.selectMode,n=t(22676).prepSelect,s=t(22676).clearOutline,o=t(22676).clearSelectionsCache,f=t(22676).selectOnClick,b=t(47552),h=t(22360);function _(y,A){this.id=A,this.gd=y;var C=y._fullLayout,u=y._context;this.container=C._glcontainer.node(),this.isStatic=u.staticPlot,this.uid=C._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(C),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var a=_.prototype;a.plot=function(y,A,C){var u=this,m=A[u.id];u.map&&m.accesstoken!==u.accessToken&&(u.map.remove(),u.map=null,u.styleObj=null,u.traceHash={},u.layerList=[]);var M;u.map?M=new Promise(function(w,z){u.updateMap(y,A,w,z)}):M=new Promise(function(w,z){u.createMap(y,A,w,z)}),C.push(M)},a.createMap=function(y,A,C,u){var m=this,M=A[m.id],w=m.styleObj=p(M.style,A);m.accessToken=M.accesstoken;var z=M.bounds,O=z?[[z.west,z.south],[z.east,z.north]]:null,D=m.map=new E.Map({container:m.div,style:w.style,center:k(M.center),zoom:M.zoom,bearing:M.bearing,pitch:M.pitch,maxBounds:O,interactive:!m.isStatic,preserveDrawingBuffer:m.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new E.AttributionControl({compact:!0}));D._canvas.style.left="0px",D._canvas.style.top="0px",m.rejectOnError(u),m.isStatic||m.initFx(y,A);var P=[];P.push(new Promise(function(F){D.once("load",F)})),P=P.concat(i.fetchTraceGeoData(y)),Promise.all(P).then(function(){m.fillBelowLookup(y,A),m.updateData(y),m.updateLayout(A),m.resolveOnRender(C)}).catch(u)},a.updateMap=function(y,A,C,u){var m=this,M=m.map,w=A[this.id];m.rejectOnError(u);var z=[],O=p(w.style,A);JSON.stringify(m.styleObj)!==JSON.stringify(O)&&(m.styleObj=O,M.setStyle(O.style),m.traceHash={},z.push(new Promise(function(D){M.once("styledata",D)}))),z=z.concat(i.fetchTraceGeoData(y)),Promise.all(z).then(function(){m.fillBelowLookup(y,A),m.updateData(y),m.updateLayout(A),m.resolveOnRender(C)}).catch(u)},a.fillBelowLookup=function(y,A){var C=A[this.id],u=C.layers,m,M,w=this.belowLookup={},z=!1;for(m=0;m<y.length;m++){var O=y[m][0].trace,D=O._module;typeof O.below=="string"?M=O.below:D.getBelow&&(M=D.getBelow(O,this)),M===""&&(z=!0),w["trace-"+O.uid]=M||""}for(m=0;m<u.length;m++){var P=u[m];typeof P.below=="string"?M=P.below:z?M="traces":M="",w["layout-"+m]=M}var F={},R,N;for(R in w)M=w[R],F[M]?F[M].push(R):F[M]=[R];for(M in F){var B=F[M];if(B.length>1)for(m=0;m<B.length;m++)R=B[m],R.indexOf("trace-")===0?(N=R.split("trace-")[1],this.traceHash[N]&&(this.traceHash[N].below=null)):R.indexOf("layout-")===0&&(N=R.split("layout-")[1],this.layerList[N]&&(this.layerList[N].below=null))}};var c={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};a.updateData=function(y){var A=this.traceHash,C,u,m,M,w=y.slice().sort(function(F,R){return c[F[0].trace.type]-c[R[0].trace.type]});for(m=0;m<w.length;m++){var z=w[m];u=z[0].trace,C=A[u.uid];var O=!1;C&&(C.type===u.type?(C.update(z),O=!0):C.dispose()),!O&&u._module&&(A[u.uid]=u._module.plot(this,z))}var D=Object.keys(A);t:for(m=0;m<D.length;m++){var P=D[m];for(M=0;M<y.length;M++)if(u=y[M][0].trace,P===u.uid)continue t;C=A[P],C.dispose(),delete A[P]}},a.updateLayout=function(y){var A=this.map,C=y[this.id];!this.dragging&&!this.wheeling&&(A.setCenter(k(C.center)),A.setZoom(C.zoom),A.setBearing(C.bearing),A.setPitch(C.pitch)),this.updateLayers(y),this.updateFramework(y),this.updateFx(y),this.map.resize(),this.gd._context._scrollZoom.mapbox?A.scrollZoom.enable():A.scrollZoom.disable()},a.resolveOnRender=function(y){var A=this.map;A.on("render",function C(){A.loaded()&&(A.off("render",C),setTimeout(y,10))})},a.rejectOnError=function(y){var A=this.map;function C(){y(new Error(b.mapOnErrorMsg))}A.once("error",C),A.once("style.error",C),A.once("source.error",C),A.once("tile.error",C),A.once("layer.error",C)},a.createFramework=function(y){var A=this,C=A.div=document.createElement("div");C.id=A.uid,C.style.position="absolute",A.container.appendChild(C),A.xaxis={_id:"x",c2p:function(u){return A.project(u).x}},A.yaxis={_id:"y",c2p:function(u){return A.project(u).y}},A.updateFramework(y),A.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(A.mockAxis,y)},a.initFx=function(y,A){var C=this,u=C.gd,m=C.map;m.on("moveend",function(z){if(C.map){var O=u._fullLayout;if(z.originalEvent||C.wheeling){var D=O[C.id];L.call("_storeDirectGUIEdit",u.layout,O._preGUI,C.getViewEdits(D));var P=C.getView();D._input.center=D.center=P.center,D._input.zoom=D.zoom=P.zoom,D._input.bearing=D.bearing=P.bearing,D._input.pitch=D.pitch=P.pitch,u.emit("plotly_relayout",C.getViewEditsWithDerived(P))}z.originalEvent&&z.originalEvent.type==="mouseup"?C.dragging=!1:C.wheeling&&(C.wheeling=!1),O._rehover&&O._rehover()}}),m.on("wheel",function(){C.wheeling=!0}),m.on("mousemove",function(z){var O=C.div.getBoundingClientRect(),D=[z.originalEvent.offsetX,z.originalEvent.offsetY];z.target.getBoundingClientRect=function(){return O},C.xaxis.p2c=function(){return m.unproject(D).lng},C.yaxis.p2c=function(){return m.unproject(D).lat},u._fullLayout._rehover=function(){u._fullLayout._hoversubplot===C.id&&u._fullLayout[C.id]&&d.hover(u,z,C.id)},d.hover(u,z,C.id),u._fullLayout._hoversubplot=C.id});function M(){d.loneUnhover(A._hoverlayer)}m.on("dragstart",function(){C.dragging=!0,M()}),m.on("zoomstart",M),m.on("mouseout",function(){u._fullLayout._hoversubplot=null});function w(){var z=C.getView();u.emit("plotly_relayouting",C.getViewEditsWithDerived(z))}m.on("drag",w),m.on("zoom",w),m.on("dblclick",function(){var z=u._fullLayout[C.id];L.call("_storeDirectGUIEdit",u.layout,u._fullLayout._preGUI,C.getViewEdits(z));var O=C.viewInitial;m.setCenter(k(O.center)),m.setZoom(O.zoom),m.setBearing(O.bearing),m.setPitch(O.pitch);var D=C.getView();z._input.center=z.center=D.center,z._input.zoom=z.zoom=D.zoom,z._input.bearing=z.bearing=D.bearing,z._input.pitch=z.pitch=D.pitch,u.emit("plotly_doubleclick",null),u.emit("plotly_relayout",C.getViewEditsWithDerived(D))}),C.clearOutline=function(){o(C.dragOptions),s(C.dragOptions.gd)},C.onClickInPanFn=function(z){return function(O){var D=u._fullLayout.clickmode;D.indexOf("select")>-1&&f(O.originalEvent,u,[C.xaxis],[C.yaxis],C.id,z),D.indexOf("event")>-1&&d.click(u,O.originalEvent)}}},a.updateFx=function(y){var A=this,C=A.map,u=A.gd;if(A.isStatic)return;function m(O){var D=A.map.unproject(O);return[D.lng,D.lat]}var M=y.dragmode,w;w=function(O,D){if(D.isRect){var P=O.range={};P[A.id]=[m([D.xmin,D.ymin]),m([D.xmax,D.ymax])]}else{var F=O.lassoPoints={};F[A.id]=D.map(m)}};var z=A.dragOptions;A.dragOptions=S.extendDeep(z||{},{dragmode:y.dragmode,element:A.div,gd:u,plotinfo:{id:A.id,domain:y[A.id].domain,xaxis:A.xaxis,yaxis:A.yaxis,fillRangeItems:w},xaxes:[A.xaxis],yaxes:[A.yaxis],subplot:A.id}),C.off("click",A.onClickInPanHandler),l(M)||e(M)?(C.dragPan.disable(),C.on("zoomstart",A.clearOutline),A.dragOptions.prepFn=function(O,D,P){n(O,D,P,A.dragOptions,M)},v.init(A.dragOptions)):(C.dragPan.enable(),C.off("zoomstart",A.clearOutline),A.div.onmousedown=null,A.div.ontouchstart=null,A.div.removeEventListener("touchstart",A.div._ontouchstart),A.onClickInPanHandler=A.onClickInPanFn(A.dragOptions),C.on("click",A.onClickInPanHandler))},a.updateFramework=function(y){var A=y[this.id].domain,C=y._size,u=this.div.style;u.width=C.w*(A.x[1]-A.x[0])+"px",u.height=C.h*(A.y[1]-A.y[0])+"px",u.left=C.l+A.x[0]*C.w+"px",u.top=C.t+(1-A.y[1])*C.h+"px",this.xaxis._offset=C.l+A.x[0]*C.w,this.xaxis._length=C.w*(A.x[1]-A.x[0]),this.yaxis._offset=C.t+(1-A.y[1])*C.h,this.yaxis._length=C.h*(A.y[1]-A.y[0])},a.updateLayers=function(y){var A=y[this.id],C=A.layers,u=this.layerList,m;if(C.length!==u.length){for(m=0;m<u.length;m++)u[m].dispose();for(u=this.layerList=[],m=0;m<C.length;m++)u.push(h(this,m,C[m]))}else for(m=0;m<C.length;m++)u[m].update(C[m])},a.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},a.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},a.setOptions=function(y,A,C){for(var u in C)this.map[A](y,u,C[u])},a.getMapLayers=function(){return this.map.getStyle().layers},a.addLayer=function(y,A){var C=this.map;if(typeof A=="string"){if(A===""){C.addLayer(y,A);return}for(var u=this.getMapLayers(),m=0;m<u.length;m++)if(A===u[m].id){C.addLayer(y,A);return}S.warn(["Trying to add layer with *below* value",A,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}C.addLayer(y)},a.project=function(y){return this.map.project(new E.LngLat(y[0],y[1]))},a.getView=function(){var y=this.map,A=y.getCenter(),C=A.lng,u=A.lat,m={lon:C,lat:u},M=y.getCanvas(),w=parseInt(M.style.width),z=parseInt(M.style.height);return{center:m,zoom:y.getZoom(),bearing:y.getBearing(),pitch:y.getPitch(),_derived:{coordinates:[y.unproject([0,0]).toArray(),y.unproject([w,0]).toArray(),y.unproject([w,z]).toArray(),y.unproject([0,z]).toArray()]}}},a.getViewEdits=function(y){for(var A=this.id,C=["center","zoom","bearing","pitch"],u={},m=0;m<C.length;m++){var M=C[m];u[A+"."+M]=y[M]}return u},a.getViewEditsWithDerived=function(y){var A=this.id,C=this.getViewEdits(y);return C[A+"._derived"]=y._derived,C};function p(y,A){var C={};if(S.isPlainObject(y))C.id=y.id,C.style=y;else if(typeof y=="string")if(C.id=y,b.styleValuesMapbox.indexOf(y)!==-1)C.style=x(y);else if(b.stylesNonMapbox[y]){C.style=b.stylesNonMapbox[y];var u=C.style.sources["plotly-"+y],m=u?u.tiles:void 0;m&&m[0]&&m[0].slice(-9)==="?api_key="&&(m[0]+=A._mapboxAccessToken)}else C.style=y;else C.id=b.styleValueDflt,C.style=x(b.styleValueDflt);return C.transition={duration:0,delay:0},C}function x(y){return b.styleUrlPrefix+y+"-"+b.styleUrlSuffix}function k(y){return[y.lon,y.lat]}tt.exports=_},66741:function(tt){tt.exports=function(U){var t=U.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},7316:function(tt,U,t){var E=t(33428),S=t(94336).m_,i=t(57624).SO,L=t(38248),T=t(83160),v=t(24040),d=t(73060),r=t(31780),e=t(3400),l=t(76308),n=t(39032).BADNUM,s=t(79811),o=t(1936).clearOutline,f=t(55308),b=t(85656),h=t(16672),_=t(84888)._M,a=e.relinkPrivateKeys,c=e._,p=tt.exports={};e.extendFlat(p,v),p.attributes=t(45464),p.attributes.type.values=p.allTypes,p.fontAttrs=t(25376),p.layoutAttributes=t(64859);var x=p.transformsRegistry,k=t(62460);p.executeAPICommand=k.executeAPICommand,p.computeAPICommandBindings=k.computeAPICommandBindings,p.manageCommandObserver=k.manageCommandObserver,p.hasSimpleAPICommandBindings=k.hasSimpleAPICommandBindings,p.redrawText=function(G){return G=e.getGraphDiv(G),new Promise(function(rt){setTimeout(function(){G._fullLayout&&(v.getComponentMethod("annotations","draw")(G),v.getComponentMethod("legend","draw")(G),v.getComponentMethod("colorbar","draw")(G),rt(p.previousPromises(G)))},300)})},p.resize=function(G){G=e.getGraphDiv(G);var rt,ot=new Promise(function(W,H){(!G||e.isHidden(G))&&H(new Error("Resize must be passed a displayed plot div element.")),G._redrawTimer&&clearTimeout(G._redrawTimer),G._resolveResize&&(rt=G._resolveResize),G._resolveResize=W,G._redrawTimer=setTimeout(function(){if(!G.layout||G.layout.width&&G.layout.height||e.isHidden(G)){W(G);return}delete G.layout.width,delete G.layout.height;var at=G.changed;G.autoplay=!0,v.call("relayout",G,{autosize:!0}).then(function(){G.changed=at,G._resolveResize===W&&(delete G._resolveResize,W(G))})},100)});return rt&&rt(ot),ot},p.previousPromises=function(G){if((G._promises||[]).length)return Promise.all(G._promises).then(function(){G._promises=[]})},p.addLinks=function(G){if(!(!G._context.showLink&&!G._context.showSources)){var rt=G._fullLayout,ot=e.ensureSingle(rt._paper,"text","js-plot-link-container",function(ft){ft.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:l.defaultLine,"pointer-events":"all"}).each(function(){var yt=E.select(this);yt.append("tspan").classed("js-link-to-tool",!0),yt.append("tspan").classed("js-link-spacer",!0),yt.append("tspan").classed("js-sourcelinks",!0)})}),W=ot.node(),H={y:rt._paper.attr("height")-9};document.body.contains(W)&&W.getComputedTextLength()>=rt.width-20?(H["text-anchor"]="start",H.x=5):(H["text-anchor"]="end",H.x=rt._paper.attr("width")-7),ot.attr(H);var at=ot.select(".js-link-to-tool"),Q=ot.select(".js-link-spacer"),ct=ot.select(".js-sourcelinks");G._context.showSources&&G._context.showSources(G),G._context.showLink&&y(G,at),Q.text(at.text()&&ct.text()?" - ":"")}};function y(G,rt){rt.text("");var ot=rt.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(G._context.linkText+" \xBB");if(G._context.sendData)ot.on("click",function(){p.sendDataToCloud(G)});else{var W=window.location.pathname.split("/"),H=window.location.search;ot.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+W[2].split(".")[0]+"/"+W[1]+H})}}p.sendDataToCloud=function(G){var rt=(window.PLOTLYENV||{}).BASE_URL||G._context.plotlyServerURL;if(rt){G.emit("plotly_beforeexport");var ot=E.select(G).append("div").attr("id","hiddenform").style("display","none"),W=ot.append("form").attr({action:rt+"/external",method:"post",target:"_blank"}),H=W.append("input").attr({type:"text",name:"data"});return H.node().value=p.graphJson(G,!1,"keepdata"),W.node().submit(),ot.remove(),G.emit("plotly_afterexport"),!1}};var A=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],C=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(G,rt){var ot=rt&&rt.skipUpdateCalc,W=G._fullLayout||{};if(W._skipDefaults){delete W._skipDefaults;return}var H=G._fullLayout={},at=G.layout||{},Q=G._fullData||[],ct=G._fullData=[],ft=G.data||[],yt=G.calcdata||[],xt=G._context||{},Lt;G._transitionData||p.createTransitionData(G),H._dfltTitle={plot:c(G,"Click to enter Plot title"),x:c(G,"Click to enter X axis title"),y:c(G,"Click to enter Y axis title"),colorbar:c(G,"Click to enter Colorscale title"),annotation:c(G,"new text")},H._traceWord=c(G,"trace");var gt=M(G,A);if(H._mapboxAccessToken=xt.mapboxAccessToken,W._initialAutoSizeIsDone){var mt=W.width,vt=W.height;p.supplyLayoutGlobalDefaults(at,H,gt),at.width||(H.width=mt),at.height||(H.height=vt),p.sanitizeMargins(H)}else{p.supplyLayoutGlobalDefaults(at,H,gt);var At=!at.width||!at.height,Ot=H.autosize,Pt=xt.autosizable,Et=At&&(Ot||Pt);Et?p.plotAutoSize(G,at,H):At&&p.sanitizeMargins(H),!Ot&&At&&(at.width=H.width,at.height=H.height)}H._d3locale=w(gt,H.separators),H._extraFormat=M(G,C),H._initialAutoSizeIsDone=!0,H._dataLength=ft.length,H._modules=[],H._visibleModules=[],H._basePlotModules=[];var Nt=H._subplots=m(),ne=H._splomAxes={x:{},y:{}},Gt=H._splomSubplots={};H._splomGridDflt={},H._scatterStackOpts={},H._firstScatter={},H._alignmentOpts={},H._colorAxes={},H._requestRangeslider={},H._traceUids=u(Q,ft),H._globalTransforms=(G._context||{}).globalTransforms,p.supplyDataDefaults(ft,ct,at,H);var pe=Object.keys(ne.x),Vt=Object.keys(ne.y);if(pe.length>1&&Vt.length>1){for(v.getComponentMethod("grid","sizeDefaults")(at,H),Lt=0;Lt<pe.length;Lt++)e.pushUnique(Nt.xaxis,pe[Lt]);for(Lt=0;Lt<Vt.length;Lt++)e.pushUnique(Nt.yaxis,Vt[Lt]);for(var ae in Gt)e.pushUnique(Nt.cartesian,ae)}if(H._has=p._hasPlotType.bind(H),Q.length===ct.length)for(Lt=0;Lt<ct.length;Lt++)a(ct[Lt],Q[Lt]);p.supplyLayoutModuleDefaults(at,H,ct,G._transitionData);var oe=H._visibleModules,ce=[];for(Lt=0;Lt<oe.length;Lt++){var le=oe[Lt].crossTraceDefaults;le&&e.pushUnique(ce,le)}for(Lt=0;Lt<ce.length;Lt++)ce[Lt](ct,H);H._hasOnlyLargeSploms=H._basePlotModules.length===1&&H._basePlotModules[0].name==="splom"&&pe.length>15&&Vt.length>15&&H.shapes.length===0&&H.images.length===0,p.linkSubplots(ct,H,Q,W),p.cleanPlot(ct,H,Q,W);var ye=!!(W._has&&W._has("gl2d")),Tt=!!(H._has&&H._has("gl2d")),Ft=!!(W._has&&W._has("cartesian")),$t=!!(H._has&&H._has("cartesian")),Wt=Ft||ye,Bt=$t||Tt;Wt&&!Bt?W._bgLayer.remove():Bt&&!Wt&&(H._shouldCreateBgLayer=!0),W._zoomlayer&&!G._dragging&&o({_fullLayout:W}),z(ct,H),a(H,W),v.getComponentMethod("colorscale","crossTraceDefaults")(ct,H),H._preGUI||(H._preGUI={}),H._tracePreGUI||(H._tracePreGUI={});var Mt=H._tracePreGUI,St={},Dt;for(Dt in Mt)St[Dt]="old";for(Lt=0;Lt<ct.length;Lt++)Dt=ct[Lt]._fullInput.uid,St[Dt]||(Mt[Dt]={}),St[Dt]="new";for(Dt in St)St[Dt]==="old"&&delete Mt[Dt];R(H),v.getComponentMethod("rangeslider","makeData")(H),!ot&&yt.length===ct.length&&p.supplyDefaultsUpdateCalc(yt,ct)},p.supplyDefaultsUpdateCalc=function(G,rt){for(var ot=0;ot<rt.length;ot++){var W=rt[ot],H=(G[ot]||[])[0];if(H&&H.trace){var at=H.trace;if(at._hasCalcTransform){var Q=at._arrayAttrs,ct,ft,yt;for(ct=0;ct<Q.length;ct++)ft=Q[ct],yt=e.nestedProperty(at,ft).get().slice(),e.nestedProperty(W,ft).set(yt)}H.trace=W}}};function u(G,rt){var ot=rt.length,W=[],H,at;for(H=0;H<G.length;H++){var Q=G[H]._fullInput;Q!==at&&W.push(Q),at=Q}var ct=W.length,ft=new Array(ot),yt={};function xt(mt,vt){ft[vt]=mt,yt[mt]=1}function Lt(mt,vt){if(mt&&typeof mt=="string"&&!yt[mt])return xt(mt,vt),!0}for(H=0;H<ot;H++){var gt=rt[H].uid;typeof gt=="number"&&(gt=String(gt)),!Lt(gt,H)&&(H<ct&&Lt(W[H].uid,H)||xt(e.randstr(yt),H))}return ft}function m(){var G=v.collectableSubplotTypes,rt={},ot,W;if(!G){G=[];var H=v.subplotsRegistry;for(var at in H){var Q=H[at],ct=Q.attr;if(ct&&(G.push(at),Array.isArray(ct)))for(W=0;W<ct.length;W++)e.pushUnique(G,ct[W])}}for(ot=0;ot<G.length;ot++)rt[G[ot]]=[];return rt}function M(G,rt){var ot=G._context.locale;ot||(ot="en-US");var W=!1,H={};function at(Lt){for(var gt=!0,mt=0;mt<rt.length;mt++){var vt=rt[mt];H[vt]||(Lt[vt]?H[vt]=Lt[vt]:gt=!1)}gt&&(W=!0)}for(var Q=0;Q<2;Q++){for(var ct=G._context.locales,ft=0;ft<2;ft++){var yt=(ct[ot]||{}).format;if(yt&&(at(yt),W))break;ct=v.localeRegistry}var xt=ot.split("-")[0];if(W||xt===ot)break;ot=xt}return W||at(v.localeRegistry.en.format),H}function w(G,rt){return G.decimal=rt.charAt(0),G.thousands=rt.charAt(1),{numberFormat:function(ot){try{ot=i(G).format(e.adjustFormat(ot))}catch{return e.warnBadFormat(ot),e.noFormat}return ot},timeFormat:S(G).utcFormat}}function z(G,rt){var ot,W=[];rt.meta&&(ot=rt._meta={meta:rt.meta,layout:{meta:rt.meta}});for(var H=0;H<G.length;H++){var at=G[H];at.meta?W[at.index]=at._meta={meta:at.meta}:rt.meta&&(at._meta={meta:rt.meta}),rt.meta&&(at._meta.layout={meta:rt.meta})}W.length&&(ot||(ot=rt._meta={}),ot.data=W)}p.createTransitionData=function(G){G._transitionData||(G._transitionData={}),G._transitionData._frames||(G._transitionData._frames=[]),G._transitionData._frameHash||(G._transitionData._frameHash={}),G._transitionData._counter||(G._transitionData._counter=0),G._transitionData._interruptCallbacks||(G._transitionData._interruptCallbacks=[])},p._hasPlotType=function(G){var rt,ot=this._basePlotModules||[];for(rt=0;rt<ot.length;rt++)if(ot[rt].name===G)return!0;var W=this._modules||[];for(rt=0;rt<W.length;rt++){var H=W[rt].name;if(H===G)return!0;var at=v.modules[H];if(at&&at.categories[G])return!0}return!1},p.cleanPlot=function(G,rt,ot,W){var H,at,Q=W._basePlotModules||[];for(H=0;H<Q.length;H++){var ct=Q[H];ct.clean&&ct.clean(G,rt,ot,W)}var ft=W._has&&W._has("gl"),yt=rt._has&&rt._has("gl");ft&&!yt&&W._glcontainer!==void 0&&(W._glcontainer.selectAll(".gl-canvas").remove(),W._glcontainer.selectAll(".no-webgl").remove(),W._glcanvas=null);var xt=!!W._infolayer;t:for(H=0;H<ot.length;H++){var Lt=ot[H],gt=Lt.uid;for(at=0;at<G.length;at++){var mt=G[at];if(gt===mt.uid)continue t}xt&&W._infolayer.select(".cb"+gt).remove()}},p.linkSubplots=function(G,rt,ot,W){var H,at,Q=W._plots||{},ct=rt._plots={},ft=rt._subplots,yt={_fullData:G,_fullLayout:rt},xt=ft.cartesian.concat(ft.gl2d||[]);for(H=0;H<xt.length;H++){var Lt=xt[H],gt=Q[Lt],mt=s.getFromId(yt,Lt,"x"),vt=s.getFromId(yt,Lt,"y"),At;for(gt?At=ct[Lt]=gt:(At=ct[Lt]={},At.id=Lt),mt._counterAxes.push(vt._id),vt._counterAxes.push(mt._id),mt._subplotsWith.push(Lt),vt._subplotsWith.push(Lt),At.xaxis=mt,At.yaxis=vt,At._hasClipOnAxisFalse=!1,at=0;at<G.length;at++){var Ot=G[at];if(Ot.xaxis===At.xaxis._id&&Ot.yaxis===At.yaxis._id&&Ot.cliponaxis===!1){At._hasClipOnAxisFalse=!0;break}}}var Pt=s.list(yt,null,!0),Et;for(H=0;H<Pt.length;H++){Et=Pt[H];var Nt=null;Et.overlaying&&(Nt=s.getFromId(yt,Et.overlaying),Nt&&Nt.overlaying&&(Et.overlaying=!1,Nt=null)),Et._mainAxis=Nt||Et,Nt&&(Et.domain=Nt.domain.slice()),Et._anchorAxis=Et.anchor==="free"?null:s.getFromId(yt,Et.anchor)}for(H=0;H<Pt.length;H++)if(Et=Pt[H],Et._counterAxes.sort(s.idSort),Et._subplotsWith.sort(e.subplotSort),Et._mainSubplot=O(Et,rt),Et._counterAxes.length&&(Et.spikemode&&Et.spikemode.indexOf("across")!==-1||Et.automargin&&Et.mirror&&Et.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Et))){var ne=1,Gt=0;for(at=0;at<Et._counterAxes.length;at++){var pe=s.getFromId(yt,Et._counterAxes[at]);ne=Math.min(ne,pe.domain[0]),Gt=Math.max(Gt,pe.domain[1])}ne<Gt&&(Et._counterDomainMin=ne,Et._counterDomainMax=Gt)}};function O(G,rt){var ot={_fullLayout:rt},W=G._id.charAt(0)==="x",H=G._mainAxis._anchorAxis,at="",Q="",ct="";if(H&&(ct=H._mainAxis._id,at=W?G._id+ct:ct+G._id),!at||!rt._plots[at]){at="";for(var ft=G._counterAxes,yt=0;yt<ft.length;yt++){var xt=ft[yt],Lt=W?G._id+xt:xt+G._id;Q||(Q=Lt);var gt=s.getFromId(ot,xt);if(ct&&gt.overlaying===ct){at=Lt;break}}}return at||Q}p.clearExpandedTraceDefaultColors=function(G){var rt,ot,W;function H(Q,ct,ft,yt){ot[yt]=ct,ot.length=yt+1,Q.valType==="color"&&Q.dflt===void 0&&rt.push(ot.join("."))}for(ot=[],rt=G._module._colorAttrs,rt||(G._module._colorAttrs=rt=[],d.crawl(G._module.attributes,H)),W=0;W<rt.length;W++){var at=e.nestedProperty(G,"_input."+rt[W]);at.get()||e.nestedProperty(G,rt[W]).set(null)}},p.supplyDataDefaults=function(G,rt,ot,W){var H=W._modules,at=W._visibleModules,Q=W._basePlotModules,ct=0,ft=0,yt,xt,Lt;W._transformModules=[];function gt(Vt){rt.push(Vt);var ae=Vt._module;ae&&(e.pushUnique(H,ae),Vt.visible===!0&&e.pushUnique(at,ae),e.pushUnique(Q,Vt._module.basePlotModule),ct++,Vt._input.visible!==!1&&ft++)}var mt={},vt=[],At=(ot.template||{}).data||{},Ot=r.traceTemplater(At);for(yt=0;yt<G.length;yt++){if(Lt=G[yt],xt=Ot.newTrace(Lt),xt.uid=W._traceUids[yt],p.supplyTraceDefaults(Lt,xt,ft,W,yt),xt.index=yt,xt._input=Lt,xt._expandedIndex=ct,xt.transforms&&xt.transforms.length)for(var Pt=Lt.visible!==!1&&xt.visible===!1,Et=P(xt,rt,ot,W),Nt=0;Nt<Et.length;Nt++){var ne=Et[Nt],Gt={_template:xt._template,type:xt.type,uid:xt.uid+Nt};Pt&&ne.visible===!1&&delete ne.visible,p.supplyTraceDefaults(ne,Gt,ct,W,yt),a(Gt,ne),Gt.index=yt,Gt._input=Lt,Gt._fullInput=xt,Gt._expandedIndex=ct,Gt._expandedInput=ne,gt(Gt)}else xt._fullInput=xt,xt._expandedInput=xt,gt(xt);v.traceIs(xt,"carpetAxis")&&(mt[xt.carpet]=xt),v.traceIs(xt,"carpetDependent")&&vt.push(yt)}for(yt=0;yt<vt.length;yt++)if(xt=rt[vt[yt]],!!xt.visible){var pe=mt[xt.carpet];if(xt._carpet=pe,!pe||!pe.visible){xt.visible=!1;continue}xt.xaxis=pe.xaxis,xt.yaxis=pe.yaxis}},p.supplyAnimationDefaults=function(G){G=G||{};var rt,ot={};function W(H,at){return e.coerce(G||{},ot,b,H,at)}if(W("mode"),W("direction"),W("fromcurrent"),Array.isArray(G.frame))for(ot.frame=[],rt=0;rt<G.frame.length;rt++)ot.frame[rt]=p.supplyAnimationFrameDefaults(G.frame[rt]||{});else ot.frame=p.supplyAnimationFrameDefaults(G.frame||{});if(Array.isArray(G.transition))for(ot.transition=[],rt=0;rt<G.transition.length;rt++)ot.transition[rt]=p.supplyAnimationTransitionDefaults(G.transition[rt]||{});else ot.transition=p.supplyAnimationTransitionDefaults(G.transition||{});return ot},p.supplyAnimationFrameDefaults=function(G){var rt={};function ot(W,H){return e.coerce(G||{},rt,b.frame,W,H)}return ot("duration"),ot("redraw"),rt},p.supplyAnimationTransitionDefaults=function(G){var rt={};function ot(W,H){return e.coerce(G||{},rt,b.transition,W,H)}return ot("duration"),ot("easing"),rt},p.supplyFrameDefaults=function(G){var rt={};function ot(W,H){return e.coerce(G,rt,h,W,H)}return ot("group"),ot("name"),ot("traces"),ot("baseframe"),ot("data"),ot("layout"),rt},p.supplyTraceDefaults=function(G,rt,ot,W,H){var at=W.colorway||l.defaults,Q=at[ot%at.length],ct;function ft(Nt,ne){return e.coerce(G,rt,p.attributes,Nt,ne)}var yt=ft("visible");ft("type"),ft("name",W._traceWord+" "+H),ft("uirevision",W.uirevision);var xt=p.getModule(rt);if(rt._module=xt,xt){var Lt=xt.basePlotModule,gt=Lt.attr,mt=Lt.attributes;if(gt&&mt){var vt=W._subplots,At="";if(yt||Lt.name!=="gl2d"){if(Array.isArray(gt))for(ct=0;ct<gt.length;ct++){var Ot=gt[ct],Pt=e.coerce(G,rt,mt,Ot);vt[Ot]&&e.pushUnique(vt[Ot],Pt),At+=Pt}else At=e.coerce(G,rt,mt,gt);vt[Lt.name]&&e.pushUnique(vt[Lt.name],At)}}}if(yt){if(ft("customdata"),ft("ids"),ft("meta"),v.traceIs(rt,"showLegend")?(e.coerce(G,rt,xt.attributes.showlegend?xt.attributes:p.attributes,"showlegend"),ft("legend"),ft("legendwidth"),ft("legendgroup"),ft("legendgrouptitle.text"),ft("legendrank"),rt._dfltShowLegend=!0):rt._dfltShowLegend=!1,xt&&xt.supplyDefaults(G,rt,Q,W),v.traceIs(rt,"noOpacity")||ft("opacity"),v.traceIs(rt,"notLegendIsolatable")&&(rt.visible=!!rt.visible),v.traceIs(rt,"noHover")||(rt.hovertemplate||e.coerceHoverinfo(G,rt,W),rt.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(G,rt,Q,W)),xt&&xt.selectPoints){var Et=ft("selectedpoints");e.isTypedArray(Et)&&(rt.selectedpoints=Array.from(Et))}p.supplyTransformDefaults(G,rt,W)}return rt};function D(G){var rt=G.transforms;if(Array.isArray(rt)&&rt.length)for(var ot=0;ot<rt.length;ot++){var W=rt[ot],H=W._module||x[W.type];if(H&&H.makesData)return!0}return!1}p.hasMakesDataTransform=D,p.supplyTransformDefaults=function(G,rt,ot){if(rt._length||D(G)){var W=ot._globalTransforms||[],H=ot._transformModules||[];if(!(!Array.isArray(G.transforms)&&W.length===0))for(var at=G.transforms||[],Q=W.concat(at),ct=rt.transforms=[],ft=0;ft<Q.length;ft++){var yt=Q[ft],xt=yt.type,Lt=x[xt],gt,mt=!(yt._module&&yt._module===Lt),vt=Lt&&typeof Lt.transform=="function";Lt||e.warn("Unrecognized transform type "+xt+"."),Lt&&Lt.supplyDefaults&&(mt||vt)?(gt=Lt.supplyDefaults(yt,rt,ot,G),gt.type=xt,gt._module=Lt,e.pushUnique(H,Lt)):gt=e.extendFlat({},yt),ct.push(gt)}}};function P(G,rt,ot,W){for(var H=G.transforms,at=[G],Q=0;Q<H.length;Q++){var ct=H[Q],ft=x[ct.type];ft&&ft.transform&&(at=ft.transform(at,{transform:ct,fullTrace:G,fullData:rt,layout:ot,fullLayout:W,transformIndex:Q}))}return at}p.supplyLayoutGlobalDefaults=function(G,rt,ot){function W(Lt,gt){return e.coerce(G,rt,p.layoutAttributes,Lt,gt)}var H=G.template;e.isPlainObject(H)&&(rt.template=H,rt._template=H.layout,rt._dataTemplate=H.data),W("autotypenumbers");var at=e.coerceFont(W,"font"),Q=at.size;e.coerceFont(W,"title.font",e.extendFlat({},at,{size:Math.round(Q*1.4)})),W("title.text",rt._dfltTitle.plot),W("title.xref");var ct=W("title.yref");W("title.pad.t"),W("title.pad.r"),W("title.pad.b"),W("title.pad.l");var ft=W("title.automargin");W("title.x"),W("title.xanchor"),W("title.y"),W("title.yanchor"),ft&&(ct==="paper"&&(rt.title.y!==0&&(rt.title.y=1),rt.title.yanchor==="auto"&&(rt.title.yanchor=rt.title.y===0?"top":"bottom")),ct==="container"&&(rt.title.y==="auto"&&(rt.title.y=1),rt.title.yanchor==="auto"&&(rt.title.yanchor=rt.title.y<.5?"bottom":"top")));var yt=W("uniformtext.mode");yt&&W("uniformtext.minsize"),W("autosize",!(G.width&&G.height)),W("width"),W("height"),W("minreducedwidth"),W("minreducedheight"),W("margin.l"),W("margin.r"),W("margin.t"),W("margin.b"),W("margin.pad"),W("margin.autoexpand"),G.width&&G.height&&p.sanitizeMargins(rt),v.getComponentMethod("grid","sizeDefaults")(G,rt),W("paper_bgcolor"),W("separators",ot.decimal+ot.thousands),W("hidesources"),W("colorway"),W("datarevision");var xt=W("uirevision");W("editrevision",xt),W("selectionrevision",xt),v.getComponentMethod("modebar","supplyLayoutDefaults")(G,rt),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(G,rt,W),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(G,rt,W),W("meta"),e.isPlainObject(G.transition)&&(W("transition.duration"),W("transition.easing"),W("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(G,rt,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(G,rt,W),e.coerce(G,rt,f,"scattermode")};function F(G){return typeof G=="string"&&G.substr(G.length-2)==="px"&&parseFloat(G)}p.plotAutoSize=function(G,rt,ot){var W=G._context||{},H=W.frameMargins,at,Q,ct=e.isPlotDiv(G);if(ct&&G.emit("plotly_autosize"),W.fillFrame)at=window.innerWidth,Q=window.innerHeight,document.body.style.overflow="hidden";else{var ft=ct?window.getComputedStyle(G):{};if(at=F(ft.width)||F(ft.maxWidth)||ot.width,Q=F(ft.height)||F(ft.maxHeight)||ot.height,L(H)&&H>0){var yt=1-2*H;at=Math.round(yt*at),Q=Math.round(yt*Q)}}var xt=p.layoutAttributes.width.min,Lt=p.layoutAttributes.height.min;at<xt&&(at=xt),Q<Lt&&(Q=Lt);var gt=!rt.width&&Math.abs(ot.width-at)>1,mt=!rt.height&&Math.abs(ot.height-Q)>1;(mt||gt)&&(gt&&(ot.width=at),mt&&(ot.height=Q)),G._initialAutoSize||(G._initialAutoSize={width:at,height:Q}),p.sanitizeMargins(ot)},p.supplyLayoutModuleDefaults=function(G,rt,ot,W){var H=v.componentsRegistry,at=rt._basePlotModules,Q,ct,ft,yt=v.subplotsRegistry.cartesian;for(Q in H)ft=H[Q],ft.includeBasePlot&&ft.includeBasePlot(G,rt);at.length||at.push(yt),rt._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(G,rt),yt.finalizeSubplots(G,rt));for(var xt in rt._subplots)rt._subplots[xt].sort(e.subplotSort);for(ct=0;ct<at.length;ct++)ft=at[ct],ft.supplyLayoutDefaults&&ft.supplyLayoutDefaults(G,rt,ot);var Lt=rt._modules;for(ct=0;ct<Lt.length;ct++)ft=Lt[ct],ft.supplyLayoutDefaults&&ft.supplyLayoutDefaults(G,rt,ot);var gt=rt._transformModules;for(ct=0;ct<gt.length;ct++)ft=gt[ct],ft.supplyLayoutDefaults&&ft.supplyLayoutDefaults(G,rt,ot,W);for(Q in H)ft=H[Q],ft.supplyLayoutDefaults&&ft.supplyLayoutDefaults(G,rt,ot)},p.purge=function(G){var rt=G._fullLayout||{};rt._glcontainer!==void 0&&(rt._glcontainer.selectAll(".gl-canvas").remove(),rt._glcontainer.remove(),rt._glcanvas=null),rt._modeBar&&rt._modeBar.destroy(),G._transitionData&&(G._transitionData._interruptCallbacks&&(G._transitionData._interruptCallbacks.length=0),G._transitionData._animationRaf&&window.cancelAnimationFrame(G._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(G),delete G.data,delete G.layout,delete G._fullData,delete G._fullLayout,delete G.calcdata,delete G.empty,delete G.fid,delete G.undoqueue,delete G.undonum,delete G.autoplay,delete G.changed,delete G._promises,delete G._redrawTimer,delete G._hmlumcount,delete G._hmpixcount,delete G._transitionData,delete G._transitioning,delete G._initialAutoSize,delete G._transitioningWithDuration,delete G._dragging,delete G._dragged,delete G._dragdata,delete G._hoverdata,delete G._snapshotInProgress,delete G._editing,delete G._mouseDownTime,delete G._legendMouseDownTime,G.removeAllListeners&&G.removeAllListeners()},p.style=function(G){var rt=G._fullLayout._visibleModules,ot=[],W;for(W=0;W<rt.length;W++){var H=rt[W];H.style&&e.pushUnique(ot,H.style)}for(W=0;W<ot.length;W++)ot[W](G)},p.sanitizeMargins=function(G){if(!(!G||!G.margin)){var rt=G.width,ot=G.height,W=G.margin,H=rt-(W.l+W.r),at=ot-(W.t+W.b),Q;H<0&&(Q=(rt-1)/(W.l+W.r),W.l=Math.floor(Q*W.l),W.r=Math.floor(Q*W.r)),at<0&&(Q=(ot-1)/(W.t+W.b),W.t=Math.floor(Q*W.t),W.b=Math.floor(Q*W.b))}},p.clearAutoMarginIds=function(G){G._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(G,rt){G._fullLayout._pushmarginIds[rt]=1};function R(G){var rt=G.margin;if(!G._size){var ot=G._size={l:Math.round(rt.l),r:Math.round(rt.r),t:Math.round(rt.t),b:Math.round(rt.b),p:Math.round(rt.pad)};ot.w=Math.round(G.width)-ot.l-ot.r,ot.h=Math.round(G.height)-ot.t-ot.b}G._pushmargin||(G._pushmargin={}),G._pushmarginIds||(G._pushmarginIds={}),G._reservedMargin||(G._reservedMargin={})}var N=2,B=2;p.autoMargin=function(G,rt,ot){var W=G._fullLayout,H=W.width,at=W.height,Q=W.margin,ct=W.minreducedwidth,ft=W.minreducedheight,yt=e.constrain(H-Q.l-Q.r,N,ct),xt=e.constrain(at-Q.t-Q.b,B,ft),Lt=Math.max(0,H-yt),gt=Math.max(0,at-xt),mt=W._pushmargin,vt=W._pushmarginIds;if(Q.autoexpand!==!1){if(!ot)delete mt[rt],delete vt[rt];else{var At=ot.pad;if(At===void 0&&(At=Math.min(12,Q.l,Q.r,Q.t,Q.b)),Lt){var Ot=(ot.l+ot.r)/Lt;Ot>1&&(ot.l/=Ot,ot.r/=Ot)}if(gt){var Pt=(ot.t+ot.b)/gt;Pt>1&&(ot.t/=Pt,ot.b/=Pt)}var Et=ot.xl!==void 0?ot.xl:ot.x,Nt=ot.xr!==void 0?ot.xr:ot.x,ne=ot.yt!==void 0?ot.yt:ot.y,Gt=ot.yb!==void 0?ot.yb:ot.y;mt[rt]={l:{val:Et,size:ot.l+At},r:{val:Nt,size:ot.r+At},b:{val:Gt,size:ot.b+At},t:{val:ne,size:ot.t+At}},vt[rt]=1}if(!W._replotting)return p.doAutoMargin(G)}};function q(G){if("_redrawFromAutoMarginCount"in G._fullLayout)return!1;var rt=s.list(G,"",!0);for(var ot in rt)if(rt[ot].autoshift||rt[ot].shift)return!0;return!1}p.doAutoMargin=function(G){var rt=G._fullLayout,ot=rt.width,W=rt.height;rt._size||(rt._size={}),R(rt);var H=rt._size,at=rt.margin,Q={t:0,b:0,l:0,r:0},ct=e.extendFlat({},H),ft=at.l,yt=at.r,xt=at.t,Lt=at.b,gt=rt._pushmargin,mt=rt._pushmarginIds,vt=rt.minreducedwidth,At=rt.minreducedheight;if(at.autoexpand!==!1){for(var Ot in gt)mt[Ot]||delete gt[Ot];var Pt=G._fullLayout._reservedMargin;for(var Et in Pt)for(var Nt in Pt[Et]){var ne=Pt[Et][Nt];Q[Nt]=Math.max(Q[Nt],ne)}gt.base={l:{val:0,size:ft},r:{val:1,size:yt},t:{val:1,size:xt},b:{val:0,size:Lt}};for(var Gt in Q){var pe=0;for(var Vt in gt)Vt!=="base"&&L(gt[Vt][Gt].size)&&(pe=gt[Vt][Gt].size>pe?gt[Vt][Gt].size:pe);var ae=Math.max(0,at[Gt]-pe);Q[Gt]=Math.max(0,Q[Gt]-ae)}for(var oe in gt){var ce=gt[oe].l||{},le=gt[oe].b||{},ye=ce.val,Tt=ce.size,Ft=le.val,$t=le.size,Wt=ot-Q.r-Q.l,Bt=W-Q.t-Q.b;for(var Mt in gt){if(L(Tt)&&gt[Mt].r){var St=gt[Mt].r.val,Dt=gt[Mt].r.size;if(St>ye){var dt=(Tt*St+(Dt-Wt)*ye)/(St-ye),ht=(Dt*(1-ye)+(Tt-Wt)*(1-St))/(St-ye);dt+ht>ft+yt&&(ft=dt,yt=ht)}}if(L($t)&&gt[Mt].t){var bt=gt[Mt].t.val,zt=gt[Mt].t.size;if(bt>Ft){var qt=($t*bt+(zt-Bt)*Ft)/(bt-Ft),te=(zt*(1-Ft)+($t-Bt)*(1-bt))/(bt-Ft);qt+te>Lt+xt&&(Lt=qt,xt=te)}}}}}var re=e.constrain(ot-at.l-at.r,N,vt),Ye=e.constrain(W-at.t-at.b,B,At),Be=Math.max(0,ot-re),ge=Math.max(0,W-Ye);if(Be){var be=(ft+yt)/Be;be>1&&(ft/=be,yt/=be)}if(ge){var Ne=(Lt+xt)/ge;Ne>1&&(Lt/=Ne,xt/=Ne)}if(H.l=Math.round(ft)+Q.l,H.r=Math.round(yt)+Q.r,H.t=Math.round(xt)+Q.t,H.b=Math.round(Lt)+Q.b,H.p=Math.round(at.pad),H.w=Math.round(ot)-H.l-H.r,H.h=Math.round(W)-H.t-H.b,!rt._replotting&&(p.didMarginChange(ct,H)||q(G))){"_redrawFromAutoMarginCount"in rt?rt._redrawFromAutoMarginCount++:rt._redrawFromAutoMarginCount=1;var pr=3*(1+Object.keys(mt).length);if(rt._redrawFromAutoMarginCount<pr)return v.call("_doPlot",G);rt._size=ct,e.warn("Too many auto-margin redraws.")}V(G)};function V(G){var rt=s.list(G,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ot){for(var W=0;W<rt.length;W++){var H=rt[W][ot];H&&H()}})}var J=["l","r","t","b","p","w","h"];p.didMarginChange=function(G,rt){for(var ot=0;ot<J.length;ot++){var W=J[ot],H=G[W],at=rt[W];if(!L(H)||Math.abs(at-H)>1)return!0}return!1},p.graphJson=function(G,rt,ot,W,H,at){(H&&rt&&!G._fullData||H&&!rt&&!G._fullLayout)&&p.supplyDefaults(G);var Q=H?G._fullData:G.data,ct=H?G._fullLayout:G.layout,ft=(G._transitionData||{})._frames;function yt(gt,mt){if(typeof gt=="function")return mt?"_function_":null;if(e.isPlainObject(gt)){var vt={},At;return Object.keys(gt).sort().forEach(function(Nt){if(["_","["].indexOf(Nt.charAt(0))===-1){if(typeof gt[Nt]=="function"){mt&&(vt[Nt]="_function");return}if(ot==="keepdata"){if(Nt.substr(Nt.length-3)==="src")return}else if(ot==="keepstream"){if(At=gt[Nt+"src"],typeof At=="string"&&At.indexOf(":")>0&&!e.isPlainObject(gt.stream))return}else if(ot!=="keepall"&&(At=gt[Nt+"src"],typeof At=="string"&&At.indexOf(":")>0))return;vt[Nt]=yt(gt[Nt],mt)}}),vt}var Ot=Array.isArray(gt),Pt=e.isTypedArray(gt);if((Ot||Pt)&&gt.dtype&&gt.shape){var Et=gt.bdata;return yt({dtype:gt.dtype,shape:gt.shape,bdata:e.isArrayBuffer(Et)?T.encode(Et):Et},mt)}return Ot?gt.map(function(Nt){return yt(Nt,mt)}):Pt?e.simpleMap(gt,e.identity):e.isJSDate(gt)?e.ms2DateTimeLocal(+gt):gt}var xt={data:(Q||[]).map(function(gt){var mt=yt(gt);return rt&&delete mt.fit,mt})};if(!rt&&(xt.layout=yt(ct),H)){var Lt=ct._size;xt.layout.computed={margin:{b:Lt.b,l:Lt.l,r:Lt.r,t:Lt.t}}}return ft&&(xt.frames=yt(ft)),at&&(xt.config=yt(G._context,!0)),W==="object"?xt:JSON.stringify(xt)},p.modifyFrames=function(G,rt){var ot,W,H,at=G._transitionData._frames,Q=G._transitionData._frameHash;for(ot=0;ot<rt.length;ot++)switch(W=rt[ot],W.type){case"replace":H=W.value;var ct=(at[W.index]||{}).name,ft=H.name;at[W.index]=Q[ft]=H,ft!==ct&&(delete Q[ct],Q[ft]=H);break;case"insert":H=W.value,Q[H.name]=H,at.splice(W.index,0,H);break;case"delete":H=at[W.index],delete Q[H.name],at.splice(W.index,1);break}return Promise.resolve()},p.computeFrame=function(G,rt){var ot=G._transitionData._frameHash,W,H,at,Q;if(!rt)throw new Error("computeFrame must be given a string frame name");var ct=ot[rt.toString()];if(!ct)return!1;for(var ft=[ct],yt=[ct.name];ct.baseframe&&(ct=ot[ct.baseframe.toString()])&&yt.indexOf(ct.name)===-1;)ft.push(ct),yt.push(ct.name);for(var xt={};ct=ft.pop();)if(ct.layout&&(xt.layout=p.extendLayout(xt.layout,ct.layout)),ct.data){if(xt.data||(xt.data=[]),H=ct.traces,!H)for(H=[],W=0;W<ct.data.length;W++)H[W]=W;for(xt.traces||(xt.traces=[]),W=0;W<ct.data.length;W++)at=H[W],at!=null&&(Q=xt.traces.indexOf(at),Q===-1&&(Q=xt.data.length,xt.traces[Q]=at),xt.data[Q]=p.extendTrace(xt.data[Q],ct.data[W]))}return xt},p.recomputeFrameHash=function(G){for(var rt=G._transitionData._frameHash={},ot=G._transitionData._frames,W=0;W<ot.length;W++){var H=ot[W];H&&H.name&&(rt[H.name]=H)}},p.extendObjectWithContainers=function(G,rt,ot){var W,H,at,Q,ct,ft,yt,xt,Lt=e.extendDeepNoArrays({},rt||{}),gt=e.expandObjectPaths(Lt),mt={};if(ot&&ot.length)for(at=0;at<ot.length;at++)W=e.nestedProperty(gt,ot[at]),H=W.get(),H===void 0?e.nestedProperty(mt,ot[at]).set(null):(W.set(null),e.nestedProperty(mt,ot[at]).set(H));if(G=e.extendDeepNoArrays(G||{},gt),ot&&ot.length){for(at=0;at<ot.length;at++)if(ct=e.nestedProperty(mt,ot[at]),yt=ct.get(),!!yt){for(ft=e.nestedProperty(G,ot[at]),xt=ft.get(),Array.isArray(xt)||(xt=[],ft.set(xt)),Q=0;Q<yt.length;Q++){var vt=yt[Q];vt===null?xt[Q]=null:xt[Q]=p.extendObjectWithContainers(xt[Q],vt)}ft.set(xt)}}return G},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=v.layoutArrayContainers,p.extendTrace=function(G,rt){return p.extendObjectWithContainers(G,rt,p.dataArrayContainers)},p.extendLayout=function(G,rt){return p.extendObjectWithContainers(G,rt,p.layoutArrayContainers)},p.transition=function(G,rt,ot,W,H,at){var Q={redraw:H.redraw},ct={},ft=[];return Q.prepareFn=function(){for(var yt=Array.isArray(rt)?rt.length:0,xt=W.slice(0,yt),Lt=0;Lt<xt.length;Lt++){var gt=xt[Lt],mt=G._fullData[gt],vt=mt._module;if(vt){if(vt.animatable){var At=vt.basePlotModule.name;ct[At]||(ct[At]=[]),ct[At].push(gt)}G.data[xt[Lt]]=p.extendTrace(G.data[xt[Lt]],rt[Lt])}}var Ot=e.expandObjectPaths(e.extendDeepNoArrays({},ot)),Pt=/^[xy]axis[0-9]*$/;for(var Et in Ot)Pt.test(Et)&&delete Ot[Et].range;p.extendLayout(G.layout,Ot),delete G.calcdata,p.supplyDefaults(G),p.doCalcdata(G);var Nt=e.expandObjectPaths(ot);if(Nt){var ne=G._fullLayout._plots;for(var Gt in ne){var pe=ne[Gt],Vt=pe.xaxis,ae=pe.yaxis,oe=Vt.range.slice(),ce=ae.range.slice(),le=null,ye=null,Tt=null,Ft=null;Array.isArray(Nt[Vt._name+".range"])?le=Nt[Vt._name+".range"].slice():Array.isArray((Nt[Vt._name]||{}).range)&&(le=Nt[Vt._name].range.slice()),Array.isArray(Nt[ae._name+".range"])?ye=Nt[ae._name+".range"].slice():Array.isArray((Nt[ae._name]||{}).range)&&(ye=Nt[ae._name].range.slice()),oe&&le&&(Vt.r2l(oe[0])!==Vt.r2l(le[0])||Vt.r2l(oe[1])!==Vt.r2l(le[1]))&&(Tt={xr0:oe,xr1:le}),ce&&ye&&(ae.r2l(ce[0])!==ae.r2l(ye[0])||ae.r2l(ce[1])!==ae.r2l(ye[1]))&&(Ft={yr0:ce,yr1:ye}),(Tt||Ft)&&ft.push(e.extendFlat({plotinfo:pe},Tt,Ft))}}return Promise.resolve()},Q.runFn=function(yt){var xt,Lt=G._fullLayout._basePlotModules,gt=ft.length,mt;if(ot)for(mt=0;mt<Lt.length;mt++)Lt[mt].transitionAxes&&Lt[mt].transitionAxes(G,ft,at,yt);gt?(xt=e.extendFlat({},at),xt.duration=0,delete ct.cartesian):xt=at;for(var vt in ct){var At=ct[vt],Ot=G._fullData[At[0]]._module;Ot.basePlotModule.plot(G,At,xt,yt)}},it(G,at,Q)},p.transitionFromReact=function(G,rt,ot,W){var H=G._fullLayout,at=H.transition,Q={},ct=[];return Q.prepareFn=function(){var ft=H._plots;Q.redraw=!1,rt.anim==="some"&&(Q.redraw=!0),ot.anim==="some"&&(Q.redraw=!0);for(var yt in ft){var xt=ft[yt],Lt=xt.xaxis,gt=xt.yaxis,mt=W[Lt._name].range.slice(),vt=W[gt._name].range.slice(),At=Lt.range.slice(),Ot=gt.range.slice();Lt.setScale(),gt.setScale();var Pt=null,Et=null;(Lt.r2l(mt[0])!==Lt.r2l(At[0])||Lt.r2l(mt[1])!==Lt.r2l(At[1]))&&(Pt={xr0:mt,xr1:At}),(gt.r2l(vt[0])!==gt.r2l(Ot[0])||gt.r2l(vt[1])!==gt.r2l(Ot[1]))&&(Et={yr0:vt,yr1:Ot}),(Pt||Et)&&ct.push(e.extendFlat({plotinfo:xt},Pt,Et))}return Promise.resolve()},Q.runFn=function(ft){for(var yt=G._fullData,xt=G._fullLayout,Lt=xt._basePlotModules,gt,mt,vt,At=[],Ot=0;Ot<yt.length;Ot++)At.push(Ot);function Pt(){if(G._fullLayout)for(var Nt=0;Nt<Lt.length;Nt++)Lt[Nt].transitionAxes&&Lt[Nt].transitionAxes(G,ct,gt,ft)}function Et(){if(G._fullLayout)for(var Nt=0;Nt<Lt.length;Nt++)Lt[Nt].plot(G,vt,mt,ft)}ct.length&&rt.anim?at.ordering==="traces first"?(gt=e.extendFlat({},at,{duration:0}),vt=At,mt=at,setTimeout(Pt,at.duration),Et()):(gt=at,vt=null,mt=e.extendFlat({},at,{duration:0}),setTimeout(Et,gt.duration),Pt()):ct.length?(gt=at,Pt()):rt.anim&&(vt=At,mt=at,Et())},it(G,at,Q)};function it(G,rt,ot){var W=!1;function H(Lt){var gt=Promise.resolve();if(!Lt)return gt;for(;Lt.length;)gt=gt.then(Lt.shift());return gt}function at(Lt){if(Lt)for(;Lt.length;)Lt.shift()}function Q(){return G.emit("plotly_transitioning",[]),new Promise(function(Lt){G._transitioning=!0,rt.duration>0&&(G._transitioningWithDuration=!0),G._transitionData._interruptCallbacks.push(function(){W=!0}),ot.redraw&&G._transitionData._interruptCallbacks.push(function(){return v.call("redraw",G)}),G._transitionData._interruptCallbacks.push(function(){G.emit("plotly_transitioninterrupted",[])});var gt=0,mt=0;function vt(){return gt++,function(){mt++,!W&&mt===gt&&ct(Lt)}}ot.runFn(vt),setTimeout(vt())})}function ct(Lt){if(G._transitionData)return at(G._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ot.redraw)return v.call("redraw",G)}).then(function(){G._transitioning=!1,G._transitioningWithDuration=!1,G.emit("plotly_transitioned",[])}).then(Lt)}function ft(){if(G._transitionData)return G._transitioning=!1,H(G._transitionData._interruptCallbacks)}var yt=[p.previousPromises,ft,ot.prepareFn,p.rehover,p.reselect,Q],xt=e.syncOrAsync(yt,G);return(!xt||!xt.then)&&(xt=Promise.resolve()),xt.then(function(){return G})}p.doCalcdata=function(G,rt){var ot=s.list(G),W=G._fullData,H=G._fullLayout,at,Q,ct,ft,yt=new Array(W.length),xt=(G.calcdata||[]).slice();for(G.calcdata=yt,H._numBoxes=0,H._numViolins=0,H._violinScaleGroupStats={},G._hmpixcount=0,G._hmlumcount=0,H._piecolormap={},H._sunburstcolormap={},H._treemapcolormap={},H._iciclecolormap={},H._funnelareacolormap={},ct=0;ct<W.length;ct++)if(Array.isArray(rt)&&rt.indexOf(ct)===-1){yt[ct]=xt[ct];continue}for(ct=0;ct<W.length;ct++)at=W[ct],at._arrayAttrs=d.findArrayAttributes(at),at._extremes={};var Lt=H._subplots.polar||[];for(ct=0;ct<Lt.length;ct++)ot.push(H[Lt[ct]].radialaxis,H[Lt[ct]].angularaxis);for(var gt in H._colorAxes){var mt=H[gt];mt.cauto!==!1&&(delete mt.cmin,delete mt.cmax)}var vt=!1;function At(Et){if(at=W[Et],Q=at._module,at.visible===!0&&at.transforms){if(Q&&Q.calc){var Nt=Q.calc(G,at);Nt[0]&&Nt[0].t&&Nt[0].t._scene&&delete Nt[0].t._scene.dirty}for(ft=0;ft<at.transforms.length;ft++){var ne=at.transforms[ft];Q=x[ne.type],Q&&Q.calcTransform&&(at._hasCalcTransform=!0,vt=!0,Q.calcTransform(G,at,ne))}}}function Ot(Et,Nt){if(at=W[Et],Q=at._module,!!Q.isContainer===Nt){var ne=[];if(at.visible===!0&&at._length!==0){delete at._indexToPoints;var Gt=at.transforms||[];for(ft=Gt.length-1;ft>=0;ft--)if(Gt[ft].enabled){at._indexToPoints=Gt[ft]._indexToPoints;break}Q&&Q.calc&&(ne=Q.calc(G,at))}(!Array.isArray(ne)||!ne[0])&&(ne=[{x:n,y:n}]),ne[0].t||(ne[0].t={}),ne[0].trace=at,yt[Et]=ne}}for(Z(ot,W,H),ct=0;ct<W.length;ct++)Ot(ct,!0);for(ct=0;ct<W.length;ct++)At(ct);for(vt&&Z(ot,W,H),ct=0;ct<W.length;ct++)Ot(ct,!0);for(ct=0;ct<W.length;ct++)Ot(ct,!1);$(G);var Pt=Y(ot,G);if(Pt.length){for(H._numBoxes=0,H._numViolins=0,ct=0;ct<Pt.length;ct++)Ot(Pt[ct],!0);for(ct=0;ct<Pt.length;ct++)Ot(Pt[ct],!1);$(G)}v.getComponentMethod("fx","calc")(G),v.getComponentMethod("errorbars","calc")(G)};var nt=/(total|sum|min|max|mean|median) (ascending|descending)/;function Y(G,rt){var ot=[],W,H,at,Q,ct;function ft(Mt,St,Dt){var dt=St._id.charAt(0);if(Mt==="histogram2dcontour"){var ht=St._counterAxes[0],bt=s.getFromId(rt,ht),zt=dt==="x"||ht==="x"&&bt.type==="category",qt=dt==="y"||ht==="y"&&bt.type==="category";return function(te,re){return te===0||re===0||zt&&te===Dt[re].length-1||qt&&re===Dt.length-1?-1:(dt==="y"?re:te)-1}}else return function(te,re){return dt==="y"?re:te}}var yt={min:function(Mt){return e.aggNums(Math.min,null,Mt)},max:function(Mt){return e.aggNums(Math.max,null,Mt)},sum:function(Mt){return e.aggNums(function(St,Dt){return St+Dt},null,Mt)},total:function(Mt){return e.aggNums(function(St,Dt){return St+Dt},null,Mt)},mean:function(Mt){return e.mean(Mt)},median:function(Mt){return e.median(Mt)}};function xt(Mt,St){return Mt[1]-St[1]}function Lt(Mt,St){return St[1]-Mt[1]}for(W=0;W<G.length;W++){var gt=G[W];if(gt.type==="category"){var mt=gt.categoryorder.match(nt);if(mt){var vt=mt[1],At=mt[2],Ot=gt._id.charAt(0),Pt=Ot==="x",Et=[];for(H=0;H<gt._categories.length;H++)Et.push([gt._categories[H],[]]);for(H=0;H<gt._traceIndices.length;H++){var Nt=gt._traceIndices[H],ne=rt._fullData[Nt];if(ne.visible===!0){var Gt=ne.type;v.traceIs(ne,"histogram")&&(delete ne._xautoBinFinished,delete ne._yautoBinFinished);var pe=Gt==="splom",Vt=Gt==="scattergl",ae=rt.calcdata[Nt];for(at=0;at<ae.length;at++){var oe=ae[at],ce,le;if(pe){var ye=ne._axesDim[gt._id];if(!Pt){var Tt=ne._diag[ye][0];Tt&&(gt=rt._fullLayout[s.id2name(Tt)])}var Ft=oe.trace.dimensions[ye].values;for(Q=0;Q<Ft.length;Q++)for(ce=gt._categoriesMap[Ft[Q]],ct=0;ct<oe.trace.dimensions.length;ct++)if(ct!==ye){var $t=oe.trace.dimensions[ct];Et[ce][1].push($t.values[Q])}}else if(Vt){for(Q=0;Q<oe.t.x.length;Q++)Pt?(ce=oe.t.x[Q],le=oe.t.y[Q]):(ce=oe.t.y[Q],le=oe.t.x[Q]),Et[ce][1].push(le);oe.t&&oe.t._scene&&delete oe.t._scene.dirty}else if(oe.hasOwnProperty("z")){le=oe.z;var Wt=ft(ne.type,gt,le);for(Q=0;Q<le.length;Q++)for(ct=0;ct<le[Q].length;ct++)ce=Wt(ct,Q),ce+1&&Et[ce][1].push(le[Q][ct])}else for(ce=oe.p,ce===void 0&&(ce=oe[Ot]),le=oe.s,le===void 0&&(le=oe.v),le===void 0&&(le=Pt?oe.y:oe.x),Array.isArray(le)||(le===void 0?le=[]:le=[le]),Q=0;Q<le.length;Q++)Et[ce][1].push(le[Q])}}}gt._categoriesValue=Et;var Bt=[];for(H=0;H<Et.length;H++)Bt.push([Et[H][0],yt[vt](Et[H][1])]);Bt.sort(At==="descending"?Lt:xt),gt._categoriesAggregatedValue=Bt,gt._initialCategories=Bt.map(function(Mt){return Mt[0]}),ot=ot.concat(gt.sortByInitialCategories())}}}return ot}function Z(G,rt,ot){var W={};function H(ft){ft.clearCalc(),ft.type==="multicategory"&&ft.setupMultiCategory(rt),W[ft._id]=1}e.simpleMap(G,H);for(var at=ot._axisMatchGroups||[],Q=0;Q<at.length;Q++)for(var ct in at[Q])W[ct]||H(ot[s.id2name(ct)])}function $(G){var rt=G._fullLayout,ot=rt._visibleModules,W={},H,at,Q;for(at=0;at<ot.length;at++){var ct=ot[at],ft=ct.crossTraceCalc;if(ft){var yt=ct.basePlotModule.name;W[yt]?e.pushUnique(W[yt],ft):W[yt]=[ft]}}for(Q in W){var xt=W[Q],Lt=rt._subplots[Q];if(Array.isArray(Lt))for(H=0;H<Lt.length;H++){var gt=Lt[H],mt=Q==="cartesian"?rt._plots[gt]:rt[gt];for(at=0;at<xt.length;at++)xt[at](G,mt,gt)}else for(at=0;at<xt.length;at++)xt[at](G)}}p.rehover=function(G){G._fullLayout._rehover&&G._fullLayout._rehover()},p.redrag=function(G){G._fullLayout._redrag&&G._fullLayout._redrag()},p.reselect=function(G){var rt=G._fullLayout,ot=(G.layout||{}).selections,W=rt._previousSelections;rt._previousSelections=ot;var H=rt._reselect||JSON.stringify(ot)!==JSON.stringify(W);v.getComponentMethod("selections","reselect")(G,H)},p.generalUpdatePerTraceModule=function(G,rt,ot,W){var H=rt.traceHash,at={},Q;for(Q=0;Q<ot.length;Q++){var ct=ot[Q],ft=ct[0].trace;ft.visible&&(at[ft.type]=at[ft.type]||[],at[ft.type].push(ct))}for(var yt in H)if(!at[yt]){var xt=H[yt][0],Lt=xt[0].trace;Lt.visible=!1,at[yt]=[xt]}for(var gt in at){var mt=at[gt],vt=mt[0][0].trace._module;vt.plot(G,rt,e.filterVisible(mt),W)}rt.traceHash=at},p.plotBasePlot=function(G,rt,ot,W,H){var at=v.getModule(G),Q=_(rt.calcdata,at)[0];at.plot(rt,Q,W,H)},p.cleanBasePlot=function(G,rt,ot,W,H){var at=H._has&&H._has(G),Q=ot._has&&ot._has(G);at&&!Q&&H["_"+G+"layer"].selectAll("g.trace").remove()}},39360:function(tt){tt.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(tt,U,t){var E=t(3400),S=t(92065).tester,i=E.findIndexOfMin,L=E.isAngleInsideSector,T=E.angleDelta,v=E.angleDist;function d(c,p,x,k,y){if(!L(p,k))return!1;var A,C;x[0]<x[1]?(A=x[0],C=x[1]):(A=x[1],C=x[0]);var u=S(s(A,k[0],k[1],y)),m=S(s(C,k[0],k[1],y)),M=[c*Math.cos(p),c*Math.sin(p)];return m.contains(M)&&!u.contains(M)}function r(c,p,x,k){var y,A,C=k[0],u=k[1],m=b(Math.sin(p)-Math.sin(c)),M=b(Math.cos(p)-Math.cos(c)),w=Math.tan(x),z=b(1/w),O=m/M,D=u-O*C;return z?m&&M?(y=D/(w-O),A=w*y):M?(y=u*z,A=u):(y=C,A=C*w):m&&M?(y=0,A=D):M?(y=0,A=u):y=A=NaN,[y,A]}function e(c,p,x,k){var y=-p*x,A=p*p+1,C=2*(p*y-x),u=y*y+x*x-c*c,m=Math.sqrt(C*C-4*A*u),M=(-C+m)/(2*A),w=(-C-m)/(2*A);return[[M,p*M+y+k],[w,p*w+y+k]]}function l(c,p){var x=p.length,k=new Array(x+1),y;for(y=0;y<x;y++){var A=p[y];k[y]=[c*Math.cos(A),c*Math.sin(A)]}return k[y]=k[0].slice(),k}function n(c,p,x,k){var y=k.length,A=[],C,u;function m(N){return[c*Math.cos(N),c*Math.sin(N)]}function M(N,B,q){return r(N,B,q,m(N))}function w(N){return E.mod(N,y)}function z(N){return L(N,[p,x])}var O=i(k,function(N){return z(N)?v(N,p):1/0}),D=M(k[O],k[w(O-1)],p);for(A.push(D),C=O,u=0;u<y;C++,u++){var P=k[w(C)];if(!z(P))break;A.push(m(P))}var F=i(k,function(N){return z(N)?v(N,x):1/0}),R=M(k[F],k[w(F+1)],x);return A.push(R),A.push([0,0]),A.push(A[0].slice()),A}function s(c,p,x,k){return E.isFullCircle([p,x])?l(c,k):n(c,p,x,k)}function o(c,p,x,k){for(var y=1/0,A=1/0,C=s(c,p,x,k),u=0;u<C.length;u++){var m=C[u];y=Math.min(y,m[0]),A=Math.min(A,-m[1])}return[y,A]}function f(c,p){var x=function(A){var C=T(A,c);return C>0?C:1/0},k=i(p,x),y=E.mod(k+1,p.length);return[p[k],p[y]]}function b(c){return Math.abs(c)>1e-10?c:0}function h(c,p,x){p=p||0,x=x||0;for(var k=c.length,y=new Array(k),A=0;A<k;A++){var C=c[A];y[A]=[p+C[0],x-C[1]]}return y}function _(c,p,x,k,y,A){var C=s(c,p,x,k);return"M"+h(C,y,A).join("L")}function a(c,p,x,k,y,A,C){var u,m;c<p?(u=c,m=p):(u=p,m=c);var M=h(s(u,x,k,y),A,C),w=h(s(m,x,k,y),A,C);return"M"+w.reverse().join("L")+"M"+M.join("L")}tt.exports={isPtInsidePolygon:d,findPolygonOffset:o,findEnclosingVertexAngles:f,findIntersectionXY:r,findXYatLength:e,clampTiny:b,pathPolygon:_,pathPolygonAnnulus:a}},40872:function(tt,U,t){var E=t(84888).KY,S=t(3400).counterRegex,i=t(62400),L=t(39360),T=L.attr,v=L.name,d=S(v),r={};r[T]={valType:"subplotid",dflt:v,editType:"calc"};function e(n){for(var s=n._fullLayout,o=n.calcdata,f=s._subplots[v],b=0;b<f.length;b++){var h=f[b],_=E(o,v,h),a=s[h]._subplot;a||(a=i(n,h),s[h]._subplot=a),a.plot(_,s,n._promises)}}function l(n,s,o,f){for(var b=f._subplots[v]||[],h=f._has&&f._has("gl"),_=s._has&&s._has("gl"),a=h&&!_,c=0;c<b.length;c++){var p=b[c],x=f[p]._subplot;if(!s[p]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var k in x.clipPaths)x.clipPaths[k].remove()}a&&x._scene&&(x._scene.destroy(),x._scene=null)}}tt.exports={attr:T,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:r,layoutAttributes:t(95300),supplyLayoutDefaults:t(84380),plot:e,clean:l,toSVG:t(57952).toSVG}},95300:function(tt,U,t){var E=t(22548),S=t(94724),i=t(86968).u,L=t(3400).extendFlat,T=t(67824).overrideAll,v=T({color:S.color,showline:L({},S.showline,{dflt:!0}),linecolor:S.linecolor,linewidth:S.linewidth,showgrid:L({},S.showgrid,{dflt:!0}),gridcolor:S.gridcolor,gridwidth:S.gridwidth,griddash:S.griddash},"plot","from-root"),d=T({tickmode:S.minor.tickmode,nticks:S.nticks,tick0:S.tick0,dtick:S.dtick,tickvals:S.tickvals,ticktext:S.ticktext,ticks:S.ticks,ticklen:S.ticklen,tickwidth:S.tickwidth,tickcolor:S.tickcolor,ticklabelstep:S.ticklabelstep,showticklabels:S.showticklabels,labelalias:S.labelalias,showtickprefix:S.showtickprefix,tickprefix:S.tickprefix,showticksuffix:S.showticksuffix,ticksuffix:S.ticksuffix,showexponent:S.showexponent,exponentformat:S.exponentformat,minexponent:S.minexponent,separatethousands:S.separatethousands,tickfont:S.tickfont,tickangle:S.tickangle,tickformat:S.tickformat,tickformatstops:S.tickformatstops,layer:S.layer},"plot","from-root"),r={visible:L({},S.visible,{dflt:!0}),type:L({},S.type,{values:["-","linear","log","date","category"]}),autotypenumbers:S.autotypenumbers,autorangeoptions:{minallowed:S.autorangeoptions.minallowed,maxallowed:S.autorangeoptions.maxallowed,clipmin:S.autorangeoptions.clipmin,clipmax:S.autorangeoptions.clipmax,include:S.autorangeoptions.include,editType:"plot"},autorange:L({},S.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},S.minallowed,{editType:"plot"}),maxallowed:L({},S.maxallowed,{editType:"plot"}),range:L({},S.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:S.categoryorder,categoryarray:S.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:S.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},S.title.text,{editType:"plot",dflt:""}),font:L({},S.title.font,{editType:"plot"}),editType:"plot"},hoverformat:S.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:S._deprecated.title,titlefont:S._deprecated.titlefont}};L(r,v,d);var e={visible:L({},S.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:S.autotypenumbers,categoryorder:S.categoryorder,categoryarray:S.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:S.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(e,v,d),tt.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:E.background},radialaxis:r,angularaxis:e,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(tt,U,t){var E=t(3400),S=t(76308),i=t(31780),L=t(168),T=t(84888).op,v=t(26332),d=t(25404),r=t(95936),e=t(42568),l=t(22416),n=t(42136),s=t(76808),o=t(52976),f=t(95300),b=t(57696),h=t(39360),_=h.axisNames;function a(p,x,k,y){var A=k("bgcolor");y.bgColor=S.combine(A,y.paper_bgcolor);var C=k("sector");k("hole");var u=T(y.fullData,h.name,y.id),m=y.layoutOut,M;function w(H,at){return k(M+"."+H,at)}for(var z=0;z<_.length;z++){M=_[z],E.isPlainObject(p[M])||(p[M]={});var O=p[M],D=i.newContainer(x,M);D._id=D._name=M,D._attr=y.id+"."+M,D._traceIndices=u.map(function(H){return H._expandedIndex});var P=h.axisName2dataArray[M],F=c(O,D,w,u,P,y);l(O,D,w,{axData:u,dataAttr:P});var R=w("visible");switch(b(D,x,m),w("uirevision",x.uirevision),D._m=1,M){case"radialaxis":w("minallowed"),w("maxallowed");var N=w("range"),B=D.getAutorangeDflt(N),q=w("autorange",B),V;N&&(N[0]===null&&N[1]===null||(N[0]===null||N[1]===null)&&(q==="reversed"||q===!0)||N[0]!==null&&(q==="min"||q==="max reversed")||N[1]!==null&&(q==="max"||q==="min reversed"))&&(N=void 0,delete D.range,D.autorange=!0,V=!0),V||(B=D.getAutorangeDflt(N),q=w("autorange",B)),O.autorange=q,q&&(s(w,q,N),(F==="linear"||F==="-")&&w("rangemode"),D.isReversed()&&(D._m=-1)),D.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){E.log("Polar plots do not support date angular axes yet.");for(var J=0;J<u.length;J++)u[J].visible=!1;F=O.type=D.type="linear"}w(F==="linear"?"thetaunit":"period");var it=w("direction");w("rotation",{counterclockwise:0,clockwise:90}[it]);break}if(e(O,D,w,D.type,{tickSuffixDflt:D.thetaunit==="degrees"?"\xB0":void 0}),R){var nt,Y,Z,$,G,rt,ot,W=y.font||{};nt=w("color"),Y=nt===O.color?nt:W.color,Z=W.size,$=W.family,G=W.weight,rt=W.style,ot=W.variant,v(O,D,w,D.type),r(O,D,w,D.type,{font:{weight:G,style:rt,variant:ot,color:Y,size:Z,family:$},noAutotickangles:M==="angularaxis"}),d(O,D,w,{outerTicks:!0}),n(O,D,w,{dfltColor:nt,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[M]}),w("layer"),M==="radialaxis"&&(w("side"),w("angle",C[0]),w("title.text"),E.coerceFont(w,"title.font",{weight:G,style:rt,variant:ot,color:Y,size:E.bigFont(Z),family:$}))}F!=="category"&&w("hoverformat"),D._input=O}x.angularaxis.type==="category"&&k("gridshape")}function c(p,x,k,y,A,C){var u=k("autotypenumbers",C.autotypenumbersDflt),m=k("type");if(m==="-"){for(var M,w=0;w<y.length;w++)if(y[w].visible){M=y[w];break}M&&M[A]&&(x.type=o(M[A],"gregorian",{noMultiCategory:!0,autotypenumbers:u})),x.type==="-"?x.type="linear":p.type=x.type}return x.type}tt.exports=function(p,x,k){L(p,x,k,{type:h.name,attributes:f,handleDefaults:a,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:k,layoutOut:x})}},62400:function(tt,U,t){var E=t(33428),S=t(49760),i=t(24040),L=t(3400),T=L.strRotate,v=L.strTranslate,d=t(76308),r=t(43616),e=t(7316),l=t(54460),n=t(78344),s=t(57696),o=t(19280).doAutoRange,f=t(51184),b=t(86476),h=t(93024),_=t(81668),a=t(22676).prepSelect,c=t(22676).selectOnClick,p=t(22676).clearOutline,x=t(93972),k=t(73696),y=t(39172).redrawReglTraces,A=t(84284).MID_SHIFT,C=t(39360),u=t(57384),m=t(36416),M=m.smith,w=m.reactanceArc,z=m.resistanceArc,O=m.smithTransform,D=L._,P=L.mod,F=L.deg2rad,R=L.rad2deg;function N(nt,Y,Z){this.isSmith=Z||!1,this.id=Y,this.gd=nt,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var $=nt._fullLayout,G="clip"+$._uid+Y;this.clipIds.forTraces=G+"-for-traces",this.clipPaths.forTraces=$._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=$["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",Y),this.getHole=function(rt){return this.isSmith?0:rt.hole},this.getSector=function(rt){return this.isSmith?[0,360]:rt.sector},this.getRadial=function(rt){return this.isSmith?rt.realaxis:rt.radialaxis},this.getAngular=function(rt){return this.isSmith?rt.imaginaryaxis:rt.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=N.prototype;tt.exports=function(nt,Y,Z){return new N(nt,Y,Z)},B.plot=function(nt,Y){for(var Z=this,$=Y[Z.id],G=!1,rt=0;rt<nt.length;rt++){var ot=nt[rt][0].trace;if(ot.cliponaxis===!1){G=!0;break}}Z._hasClipOnAxisFalse=G,Z.updateLayers(Y,$),Z.updateLayout(Y,$),e.generalUpdatePerTraceModule(Z.gd,Z,nt,$),Z.updateFx(Y,$),Z.isSmith&&(delete $.realaxis.range,delete $.imaginaryaxis.range)},B.updateLayers=function(nt,Y){var Z=this,$=Z.isSmith,G=Z.layers,rt=Z.getRadial(Y),ot=Z.getAngular(Y),W=C.layerNames,H=W.indexOf("frontplot"),at=W.slice(0,H),Q=ot.layer==="below traces",ct=rt.layer==="below traces";Q&&at.push("angular-line"),ct&&at.push("radial-line"),Q&&at.push("angular-axis"),ct&&at.push("radial-axis"),at.push("frontplot"),Q||at.push("angular-line"),ct||at.push("radial-line"),Q||at.push("angular-axis"),ct||at.push("radial-axis");var ft=($?"smith":"polar")+"sublayer",yt=Z.framework.selectAll("."+ft).data(at,String);yt.enter().append("g").attr("class",function(xt){return ft+" "+xt}).each(function(xt){var Lt=G[xt]=E.select(this);switch(xt){case"frontplot":$||Lt.append("g").classed("barlayer",!0),Lt.append("g").classed("scatterlayer",!0);break;case"backplot":Lt.append("g").classed("maplayer",!0);break;case"plotbg":G.bg=Lt.append("path");break;case"radial-grid":Lt.style("fill","none");break;case"angular-grid":Lt.style("fill","none");break;case"radial-line":Lt.append("line").style("fill","none");break;case"angular-line":Lt.append("path").style("fill","none");break}}),yt.order()},B.updateLayout=function(nt,Y){var Z=this,$=Z.layers,G=nt._size,rt=Z.getRadial(Y),ot=Z.getAngular(Y),W=Y.domain.x,H=Y.domain.y;Z.xOffset=G.l+G.w*W[0],Z.yOffset=G.t+G.h*(1-H[1]);var at=Z.xLength=G.w*(W[1]-W[0]),Q=Z.yLength=G.h*(H[1]-H[0]),ct=Z.getSector(Y);Z.sectorInRad=ct.map(F);var ft=Z.sectorBBox=V(ct),yt=ft[2]-ft[0],xt=ft[3]-ft[1],Lt=Q/at,gt=Math.abs(xt/yt),mt,vt,At,Ot,Pt;Lt>gt?(mt=at,vt=at*gt,Pt=(Q-vt)/G.h/2,At=[W[0],W[1]],Ot=[H[0]+Pt,H[1]-Pt]):(mt=Q/gt,vt=Q,Pt=(at-mt)/G.w/2,At=[W[0]+Pt,W[1]-Pt],Ot=[H[0],H[1]]),Z.xLength2=mt,Z.yLength2=vt,Z.xDomain2=At,Z.yDomain2=Ot;var Et=Z.xOffset2=G.l+G.w*At[0],Nt=Z.yOffset2=G.t+G.h*(1-Ot[1]),ne=Z.radius=mt/yt,Gt=Z.innerRadius=Z.getHole(Y)*ne,pe=Z.cx=Et-ne*ft[0],Vt=Z.cy=Nt+ne*ft[3],ae=Z.cxx=pe-Et,oe=Z.cyy=Vt-Nt,ce=rt.side,le;ce==="counterclockwise"?(le=ce,ce="top"):ce==="clockwise"&&(le=ce,ce="bottom"),Z.radialAxis=Z.mockAxis(nt,Y,rt,{_id:"x",side:ce,_trueSide:le,domain:[Gt/G.w,ne/G.w]}),Z.angularAxis=Z.mockAxis(nt,Y,ot,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(nt,Y),Z.updateAngularAxis(nt,Y),Z.updateRadialAxis(nt,Y),Z.updateRadialAxisTitle(nt,Y),Z.xaxis=Z.mockCartesianAxis(nt,Y,{_id:"x",domain:At}),Z.yaxis=Z.mockCartesianAxis(nt,Y,{_id:"y",domain:Ot});var ye=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",ye).attr("transform",v(ae,oe)),$.frontplot.attr("transform",v(Et,Nt)).call(r.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),$.bg.attr("d",ye).attr("transform",v(pe,Vt)).call(d.fill,Y.bgcolor)},B.mockAxis=function(nt,Y,Z,$){var G=L.extendFlat({},Z,$);return s(G,Y,nt),G},B.mockCartesianAxis=function(nt,Y,Z){var $=this,G=$.isSmith,rt=Z._id,ot=L.extendFlat({type:"linear"},Z);n(ot,nt);var W={x:[0,2],y:[1,3]};return ot.setRange=function(){var H=$.sectorBBox,at=W[rt],Q=$.radialAxis._rl,ct=(Q[1]-Q[0])/(1-$.getHole(Y));ot.range=[H[at[0]]*ct,H[at[1]]*ct]},ot.isPtWithinRange=rt==="x"&&!G?function(H){return $.isPtInside(H)}:function(){return!0},ot.setRange(),ot.setScale(),ot},B.doAutoRange=function(nt,Y){var Z=this,$=Z.gd,G=Z.radialAxis,rt=Z.getRadial(Y);o($,G);var ot=G.range;if(rt.range=ot.slice(),rt._input.range=ot.slice(),G._rl=[G.r2l(ot[0],null,"gregorian"),G.r2l(ot[1],null,"gregorian")],G.minallowed!==void 0){var W=G.r2l(G.minallowed);G._rl[0]>G._rl[1]?G._rl[1]=Math.max(G._rl[1],W):G._rl[0]=Math.max(G._rl[0],W)}if(G.maxallowed!==void 0){var H=G.r2l(G.maxallowed);G._rl[0]<G._rl[1]?G._rl[1]=Math.min(G._rl[1],H):G._rl[0]=Math.min(G._rl[0],H)}},B.updateRadialAxis=function(nt,Y){var Z=this,$=Z.gd,G=Z.layers,rt=Z.radius,ot=Z.innerRadius,W=Z.cx,H=Z.cy,at=Z.getRadial(Y),Q=P(Z.getSector(Y)[0],360),ct=Z.radialAxis,ft=ot<rt,yt=Z.isSmith;yt||(Z.fillViewInitialKey("radialaxis.angle",at.angle),Z.fillViewInitialKey("radialaxis.range",ct.range.slice()),ct.setGeometry()),ct.tickangle==="auto"&&Q>90&&Q<=270&&(ct.tickangle=180);var xt=yt?function(ne){var Gt=O(Z,M([ne.x,0]));return v(Gt[0]-W,Gt[1]-H)}:function(ne){return v(ct.l2p(ne.x)+ot,0)},Lt=yt?function(ne){return z(Z,ne.x,-1/0,1/0)}:function(ne){return Z.pathArc(ct.r2p(ne.x)+ot)},gt=q(at);if(Z.radialTickLayout!==gt&&(G["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=gt),ft){ct.setScale();var mt=0,vt=yt?(ct.tickvals||[]).filter(function(ne){return ne>=0}).map(function(ne){return l.tickText(ct,ne,!0,!1)}):l.calcTicks(ct),At=yt?vt:l.clipEnds(ct,vt),Ot=l.getTickSigns(ct)[2];yt&&((ct.ticks==="top"&&ct.side==="bottom"||ct.ticks==="bottom"&&ct.side==="top")&&(Ot=-Ot),ct.ticks==="top"&&ct.side==="top"&&(mt=-ct.ticklen),ct.ticks==="bottom"&&ct.side==="bottom"&&(mt=ct.ticklen)),l.drawTicks($,ct,{vals:vt,layer:G["radial-axis"],path:l.makeTickPath(ct,0,Ot),transFn:xt,crisp:!1}),l.drawGrid($,ct,{vals:At,layer:G["radial-grid"],path:Lt,transFn:L.noop,crisp:!1}),l.drawLabels($,ct,{vals:vt,layer:G["radial-axis"],transFn:xt,labelFns:l.makeLabelFns(ct,mt)})}var Pt=Z.radialAxisAngle=Z.vangles?R(J(F(at.angle),Z.vangles)):at.angle,Et=v(W,H),Nt=Et+T(-Pt);it(G["radial-axis"],ft&&(at.showticklabels||at.ticks),{transform:Nt}),it(G["radial-grid"],ft&&at.showgrid,{transform:yt?"":Et}),it(G["radial-line"].select("line"),ft&&at.showline,{x1:yt?-rt:ot,y1:0,x2:rt,y2:0,transform:Nt}).attr("stroke-width",at.linewidth).call(d.stroke,at.linecolor)},B.updateRadialAxisTitle=function(nt,Y,Z){if(!this.isSmith){var $=this,G=$.gd,rt=$.radius,ot=$.cx,W=$.cy,H=$.getRadial(Y),at=$.id+"title",Q=0;if(H.title){var ct=r.bBox($.layers["radial-axis"].node()).height,ft=H.title.font.size,yt=H.side;Q=yt==="top"?ft:yt==="counterclockwise"?-(ct+ft*.4):ct+ft*.8}var xt=Z!==void 0?Z:$.radialAxisAngle,Lt=F(xt),gt=Math.cos(Lt),mt=Math.sin(Lt),vt=ot+rt/2*gt+Q*mt,At=W-rt/2*mt+Q*gt;$.layers["radial-axis-title"]=_.draw(G,at,{propContainer:H,propName:$.id+".radialaxis.title",placeholder:D(G,"Click to enter radial axis title"),attributes:{x:vt,y:At,"text-anchor":"middle"},transform:{rotate:-xt}})}},B.updateAngularAxis=function(nt,Y){var Z=this,$=Z.gd,G=Z.layers,rt=Z.radius,ot=Z.innerRadius,W=Z.cx,H=Z.cy,at=Z.getAngular(Y),Q=Z.angularAxis,ct=Z.isSmith;ct||(Z.fillViewInitialKey("angularaxis.rotation",at.rotation),Q.setGeometry(),Q.setScale());var ft=ct?function(Gt){var pe=O(Z,M([0,Gt.x]));return Math.atan2(pe[0]-W,pe[1]-H)-Math.PI/2}:function(Gt){return Q.t2g(Gt.x)};Q.type==="linear"&&Q.thetaunit==="radians"&&(Q.tick0=R(Q.tick0),Q.dtick=R(Q.dtick));var yt=function(Gt){return v(W+rt*Math.cos(Gt),H-rt*Math.sin(Gt))},xt=ct?function(Gt){var pe=O(Z,M([0,Gt.x]));return v(pe[0],pe[1])}:function(Gt){return yt(ft(Gt))},Lt=ct?function(Gt){var pe=O(Z,M([0,Gt.x])),Vt=Math.atan2(pe[0]-W,pe[1]-H)-Math.PI/2;return v(pe[0],pe[1])+T(-R(Vt))}:function(Gt){var pe=ft(Gt);return yt(pe)+T(-R(pe))},gt=ct?function(Gt){return w(Z,Gt.x,0,1/0)}:function(Gt){var pe=ft(Gt),Vt=Math.cos(pe),ae=Math.sin(pe);return"M"+[W+ot*Vt,H-ot*ae]+"L"+[W+rt*Vt,H-rt*ae]},mt=l.makeLabelFns(Q,0),vt=mt.labelStandoff,At={};At.xFn=function(Gt){var pe=ft(Gt);return Math.cos(pe)*vt},At.yFn=function(Gt){var pe=ft(Gt),Vt=Math.sin(pe)>0?.2:1;return-Math.sin(pe)*(vt+Gt.fontSize*Vt)+Math.abs(Math.cos(pe))*(Gt.fontSize*A)},At.anchorFn=function(Gt){var pe=ft(Gt),Vt=Math.cos(pe);return Math.abs(Vt)<.1?"middle":Vt>0?"start":"end"},At.heightFn=function(Gt,pe,Vt){var ae=ft(Gt);return-.5*(1+Math.sin(ae))*Vt};var Ot=q(at);Z.angularTickLayout!==Ot&&(G["angular-axis"].selectAll("."+Q._id+"tick").remove(),Z.angularTickLayout=Ot);var Pt=ct?[1/0].concat(Q.tickvals||[]).map(function(Gt){return l.tickText(Q,Gt,!0,!1)}):l.calcTicks(Q);ct&&(Pt[0].text="\u221E",Pt[0].fontSize*=1.75);var Et;if(Y.gridshape==="linear"?(Et=Pt.map(ft),L.angleDelta(Et[0],Et[1])<0&&(Et=Et.slice().reverse())):Et=null,Z.vangles=Et,Q.type==="category"&&(Pt=Pt.filter(function(Gt){return L.isAngleInsideSector(ft(Gt),Z.sectorInRad)})),Q.visible){var Nt=Q.ticks==="inside"?-1:1,ne=(Q.linewidth||1)/2;l.drawTicks($,Q,{vals:Pt,layer:G["angular-axis"],path:"M"+Nt*ne+",0h"+Nt*Q.ticklen,transFn:Lt,crisp:!1}),l.drawGrid($,Q,{vals:Pt,layer:G["angular-grid"],path:gt,transFn:L.noop,crisp:!1}),l.drawLabels($,Q,{vals:Pt,layer:G["angular-axis"],repositionOnUpdate:!0,transFn:xt,labelFns:At})}it(G["angular-line"].select("path"),at.showline,{d:Z.pathSubplot(),transform:v(W,H)}).attr("stroke-width",at.linewidth).call(d.stroke,at.linecolor)},B.updateFx=function(nt,Y){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(nt),this.updateRadialDrag(nt,Y,0),this.updateRadialDrag(nt,Y,1)),this.updateHoverAndMainDrag(nt)}},B.updateHoverAndMainDrag=function(nt){var Y=this,Z=Y.isSmith,$=Y.gd,G=Y.layers,rt=nt._zoomlayer,ot=C.MINZOOM,W=C.OFFEDGE,H=Y.radius,at=Y.innerRadius,Q=Y.cx,ct=Y.cy,ft=Y.cxx,yt=Y.cyy,xt=Y.sectorInRad,Lt=Y.vangles,gt=Y.radialAxis,mt=u.clampTiny,vt=u.findXYatLength,At=u.findEnclosingVertexAngles,Ot=C.cornerHalfWidth,Pt=C.cornerLen/2,Et,Nt,ne=f.makeDragger(G,"path","maindrag",nt.dragmode===!1?"none":"crosshair");E.select(ne).attr("d",Y.pathSubplot()).attr("transform",v(Q,ct)),ne.onmousemove=function(ge){h.hover($,ge,Y.id),$._fullLayout._lasthover=ne,$._fullLayout._hoversubplot=Y.id},ne.onmouseout=function(ge){$._dragging||b.unhover($,ge)};var Gt={element:ne,gd:$,subplot:Y.id,plotinfo:{id:Y.id,xaxis:Y.xaxis,yaxis:Y.yaxis},xaxes:[Y.xaxis],yaxes:[Y.yaxis]},pe,Vt,ae,oe,ce,le,ye,Tt,Ft;function $t(ge,be){return Math.sqrt(ge*ge+be*be)}function Wt(ge,be){return $t(ge-ft,be-yt)}function Bt(ge,be){return Math.atan2(yt-be,ge-ft)}function Mt(ge,be){return[ge*Math.cos(be),ge*Math.sin(-be)]}function St(ge,be){if(ge===0)return Y.pathSector(2*Ot);var Ne=Pt/ge,pr=be-Ne,fe=be+Ne,De=Math.max(0,Math.min(ge,H)),Ge=De-Ot,vr=De+Ot;return"M"+Mt(Ge,pr)+"A"+[Ge,Ge]+" 0,0,0 "+Mt(Ge,fe)+"L"+Mt(vr,fe)+"A"+[vr,vr]+" 0,0,1 "+Mt(vr,pr)+"Z"}function Dt(ge,be,Ne){if(ge===0)return Y.pathSector(2*Ot);var pr=Mt(ge,be),fe=Mt(ge,Ne),De=mt((pr[0]+fe[0])/2),Ge=mt((pr[1]+fe[1])/2),vr,$e;if(De&&Ge){var Kt=Ge/De,ie=-1/Kt,he=vt(Ot,Kt,De,Ge);vr=vt(Pt,ie,he[0][0],he[0][1]),$e=vt(Pt,ie,he[1][0],he[1][1])}else{var Ae,Ee;Ge?(Ae=Pt,Ee=Ot):(Ae=Ot,Ee=Pt),vr=[[De-Ae,Ge-Ee],[De+Ae,Ge-Ee]],$e=[[De-Ae,Ge+Ee],[De+Ae,Ge+Ee]]}return"M"+vr.join("L")+"L"+$e.reverse().join("L")+"Z"}function dt(){ae=null,oe=null,ce=Y.pathSubplot(),le=!1;var ge=$._fullLayout[Y.id];ye=S(ge.bgcolor).getLuminance(),Tt=f.makeZoombox(rt,ye,Q,ct,ce),Tt.attr("fill-rule","evenodd"),Ft=f.makeCorners(rt,Q,ct),p($)}function ht(ge,be){return be=Math.max(Math.min(be,H),at),ge<W?ge=0:H-ge<W?ge=H:be<W?be=0:H-be<W&&(be=H),Math.abs(be-ge)>ot?(ge<be?(ae=ge,oe=be):(ae=be,oe=ge),!0):(ae=null,oe=null,!1)}function bt(ge,be){ge=ge||ce,be=be||"M0,0Z",Tt.attr("d",ge),Ft.attr("d",be),f.transitionZoombox(Tt,Ft,le,ye),le=!0;var Ne={};Ye(Ne),$.emit("plotly_relayouting",Ne)}function zt(ge,be){ge=ge*Et,be=be*Nt;var Ne=pe+ge,pr=Vt+be,fe=Wt(pe,Vt),De=Math.min(Wt(Ne,pr),H),Ge=Bt(pe,Vt),vr,$e;ht(fe,De)&&(vr=ce+Y.pathSector(oe),ae&&(vr+=Y.pathSector(ae)),$e=St(ae,Ge)+St(oe,Ge)),bt(vr,$e)}function qt(ge,be,Ne,pr){var fe=u.findIntersectionXY(Ne,pr,Ne,[ge-ft,yt-be]);return $t(fe[0],fe[1])}function te(ge,be){var Ne=pe+ge,pr=Vt+be,fe=Bt(pe,Vt),De=Bt(Ne,pr),Ge=At(fe,Lt),vr=At(De,Lt),$e=qt(pe,Vt,Ge[0],Ge[1]),Kt=Math.min(qt(Ne,pr,vr[0],vr[1]),H),ie,he;ht($e,Kt)&&(ie=ce+Y.pathSector(oe),ae&&(ie+=Y.pathSector(ae)),he=[Dt(ae,Ge[0],Ge[1]),Dt(oe,Ge[0],Ge[1])].join(" ")),bt(ie,he)}function re(){if(f.removeZoombox($),!(ae===null||oe===null)){var ge={};Ye(ge),f.showDoubleClickNotifier($),i.call("_guiRelayout",$,ge)}}function Ye(ge){var be=gt._rl,Ne=(be[1]-be[0])/(1-at/H)/H,pr=[be[0]+(ae-at)*Ne,be[0]+(oe-at)*Ne];ge[Y.id+".radialaxis.range"]=pr}function Be(ge,be){var Ne=$._fullLayout.clickmode;if(f.removeZoombox($),ge===2){var pr={};for(var fe in Y.viewInitial)pr[Y.id+"."+fe]=Y.viewInitial[fe];$.emit("plotly_doubleclick",null),i.call("_guiRelayout",$,pr)}Ne.indexOf("select")>-1&&ge===1&&c(be,$,[Y.xaxis],[Y.yaxis],Y.id,Gt),Ne.indexOf("event")>-1&&h.click($,be,Y.id)}Gt.prepFn=function(ge,be,Ne){var pr=$._fullLayout.dragmode,fe=ne.getBoundingClientRect();$._fullLayout._calcInverseTransform($);var De=$._fullLayout._invTransform;Et=$._fullLayout._invScaleX,Nt=$._fullLayout._invScaleY;var Ge=L.apply3DTransform(De)(be-fe.left,Ne-fe.top);if(pe=Ge[0],Vt=Ge[1],Lt){var vr=u.findPolygonOffset(H,xt[0],xt[1],Lt);pe+=ft+vr[0],Vt+=yt+vr[1]}switch(pr){case"zoom":Gt.clickFn=Be,Z||(Lt?Gt.moveFn=te:Gt.moveFn=zt,Gt.doneFn=re,dt());break;case"select":case"lasso":a(ge,be,Ne,Gt,pr);break}},b.init(Gt)},B.updateRadialDrag=function(nt,Y,Z){var $=this,G=$.gd,rt=$.layers,ot=$.radius,W=$.innerRadius,H=$.cx,at=$.cy,Q=$.radialAxis,ct=C.radialDragBoxSize,ft=ct/2;if(!Q.visible)return;var yt=F($.radialAxisAngle),xt=Q._rl,Lt=xt[0],gt=xt[1],mt=xt[Z],vt=.75*(xt[1]-xt[0])/(1-$.getHole(Y))/ot,At,Ot,Pt;Z?(At=H+(ot+ft)*Math.cos(yt),Ot=at-(ot+ft)*Math.sin(yt),Pt="radialdrag"):(At=H+(W-ft)*Math.cos(yt),Ot=at-(W-ft)*Math.sin(yt),Pt="radialdrag-inner");var Et=f.makeRectDragger(rt,Pt,"crosshair",-ft,-ft,ct,ct),Nt={element:Et,gd:G};nt.dragmode===!1&&(Nt.dragmode=!1),it(E.select(Et),Q.visible&&W<ot,{transform:v(At,Ot)});var ne,Gt,pe;function Vt(ye,Tt){if(ne)ne(ye,Tt);else{var Ft=[ye,-Tt],$t=[Math.cos(yt),Math.sin(yt)],Wt=Math.abs(L.dot(Ft,$t)/Math.sqrt(L.dot(Ft,Ft)));isNaN(Wt)||(ne=Wt<.5?ce:le)}var Bt={};ae(Bt),G.emit("plotly_relayouting",Bt)}function ae(ye){Gt!==null?ye[$.id+".radialaxis.angle"]=Gt:pe!==null&&(ye[$.id+".radialaxis.range["+Z+"]"]=pe)}function oe(){Gt!==null?i.call("_guiRelayout",G,$.id+".radialaxis.angle",Gt):pe!==null&&i.call("_guiRelayout",G,$.id+".radialaxis.range["+Z+"]",pe)}function ce(ye,Tt){if(Z!==0){var Ft=At+ye,$t=Ot+Tt;Gt=Math.atan2(at-$t,Ft-H),$.vangles&&(Gt=J(Gt,$.vangles)),Gt=R(Gt);var Wt=v(H,at)+T(-Gt);rt["radial-axis"].attr("transform",Wt),rt["radial-line"].select("line").attr("transform",Wt);var Bt=$.gd._fullLayout,Mt=Bt[$.id];$.updateRadialAxisTitle(Bt,Mt,Gt)}}function le(ye,Tt){var Ft=L.dot([ye,-Tt],[Math.cos(yt),Math.sin(yt)]);if(pe=mt-vt*Ft,vt>0!=(Z?pe>Lt:pe<gt)){pe=null;return}var $t=G._fullLayout,Wt=$t[$.id];Q.range[Z]=pe,Q._rl[Z]=pe,$.updateRadialAxis($t,Wt),$.xaxis.setRange(),$.xaxis.setScale(),$.yaxis.setRange(),$.yaxis.setScale();var Bt=!1;for(var Mt in $.traceHash){var St=$.traceHash[Mt],Dt=L.filterVisible(St),dt=St[0][0].trace._module;dt.plot(G,$,Dt,Wt),i.traceIs(Mt,"gl")&&Dt.length&&(Bt=!0)}Bt&&(k(G),y(G))}Nt.prepFn=function(){ne=null,Gt=null,pe=null,Nt.moveFn=Vt,Nt.doneFn=oe,p(G)},Nt.clampFn=function(ye,Tt){return Math.sqrt(ye*ye+Tt*Tt)<C.MINDRAG&&(ye=0,Tt=0),[ye,Tt]},b.init(Nt)},B.updateAngularDrag=function(nt){var Y=this,Z=Y.gd,$=Y.layers,G=Y.radius,rt=Y.angularAxis,ot=Y.cx,W=Y.cy,H=Y.cxx,at=Y.cyy,Q=C.angularDragBoxSize,ct=f.makeDragger($,"path","angulardrag",nt.dragmode===!1?"none":"move"),ft={element:ct,gd:Z};nt.dragmode===!1?ft.dragmode=!1:E.select(ct).attr("d",Y.pathAnnulus(G,G+Q)).attr("transform",v(ot,W)).call(x,"move");function yt(pe,Vt){return Math.atan2(at+Q-Vt,pe-H-Q)}var xt=$.frontplot.select(".scatterlayer").selectAll(".trace"),Lt=xt.selectAll(".point"),gt=xt.selectAll(".textpoint"),mt,vt,At,Ot,Pt,Et;function Nt(pe,Vt){var ae=Y.gd._fullLayout,oe=ae[Y.id],ce=mt+pe*nt._invScaleX,le=vt+Vt*nt._invScaleY,ye=yt(ce,le),Tt=R(ye-Et);if(Ot=At+Tt,$.frontplot.attr("transform",v(Y.xOffset2,Y.yOffset2)+T([-Tt,H,at])),Y.vangles){Pt=Y.radialAxisAngle+Tt;var Ft=v(ot,W)+T(-Tt),$t=v(ot,W)+T(-Pt);$.bg.attr("transform",Ft),$["radial-grid"].attr("transform",Ft),$["radial-axis"].attr("transform",$t),$["radial-line"].select("line").attr("transform",$t),Y.updateRadialAxisTitle(ae,oe,Pt)}else Y.clipPaths.forTraces.select("path").attr("transform",v(H,at)+T(Tt));Lt.each(function(){var ht=E.select(this),bt=r.getTranslate(ht);ht.attr("transform",v(bt.x,bt.y)+T([Tt]))}),gt.each(function(){var ht=E.select(this),bt=ht.select("text"),zt=r.getTranslate(ht);ht.attr("transform",T([Tt,bt.attr("x"),bt.attr("y")])+v(zt.x,zt.y))}),rt.rotation=L.modHalf(Ot,360),Y.updateAngularAxis(ae,oe),Y._hasClipOnAxisFalse&&!L.isFullCircle(Y.sectorInRad)&&xt.call(r.hideOutsideRangePoints,Y);var Wt=!1;for(var Bt in Y.traceHash)if(i.traceIs(Bt,"gl")){var Mt=Y.traceHash[Bt],St=L.filterVisible(Mt),Dt=Mt[0][0].trace._module;Dt.plot(Z,Y,St,oe),St.length&&(Wt=!0)}Wt&&(k(Z),y(Z));var dt={};ne(dt),Z.emit("plotly_relayouting",dt)}function ne(pe){pe[Y.id+".angularaxis.rotation"]=Ot,Y.vangles&&(pe[Y.id+".radialaxis.angle"]=Pt)}function Gt(){gt.select("text").attr("transform",null);var pe={};ne(pe),i.call("_guiRelayout",Z,pe)}ft.prepFn=function(pe,Vt,ae){var oe=nt[Y.id];At=oe.angularaxis.rotation;var ce=ct.getBoundingClientRect();mt=Vt-ce.left,vt=ae-ce.top,Z._fullLayout._calcInverseTransform(Z);var le=L.apply3DTransform(nt._invTransform)(mt,vt);mt=le[0],vt=le[1],Et=yt(mt,vt),ft.moveFn=Nt,ft.doneFn=Gt,p(Z)},Y.vangles&&!L.isFullCircle(Y.sectorInRad)&&(ft.prepFn=L.noop,x(E.select(ct),null)),b.init(ft)},B.isPtInside=function(nt){if(this.isSmith)return!0;var Y=this.sectorInRad,Z=this.vangles,$=this.angularAxis.c2g(nt.theta),G=this.radialAxis,rt=G.c2l(nt.r),ot=G._rl,W=Z?u.isPtInsidePolygon:L.isPtInsideSector;return W(rt,$,ot,Y,Z)},B.pathArc=function(nt){var Y=this.sectorInRad,Z=this.vangles,$=Z?u.pathPolygon:L.pathArc;return $(nt,Y[0],Y[1],Z)},B.pathSector=function(nt){var Y=this.sectorInRad,Z=this.vangles,$=Z?u.pathPolygon:L.pathSector;return $(nt,Y[0],Y[1],Z)},B.pathAnnulus=function(nt,Y){var Z=this.sectorInRad,$=this.vangles,G=$?u.pathPolygonAnnulus:L.pathAnnulus;return G(nt,Y,Z[0],Z[1],$)},B.pathSubplot=function(){var nt=this.innerRadius,Y=this.radius;return nt?this.pathAnnulus(nt,Y):this.pathSector(Y)},B.fillViewInitialKey=function(nt,Y){nt in this.viewInitial||(this.viewInitial[nt]=Y)};function q(nt){var Y=nt.ticks+String(nt.ticklen)+String(nt.showticklabels);return"side"in nt&&(Y+=nt.side),Y}function V(nt){var Y=nt[0],Z=nt[1],$=Z-Y,G=P(Y,360),rt=G+$,ot=Math.cos(F(G)),W=Math.sin(F(G)),H=Math.cos(F(rt)),at=Math.sin(F(rt)),Q,ct,ft,yt;return G<=90&&rt>=90||G>90&&rt>=450?yt=1:W<=0&&at<=0?yt=0:yt=Math.max(W,at),G<=180&&rt>=180||G>180&&rt>=540?Q=-1:ot>=0&&H>=0?Q=0:Q=Math.min(ot,H),G<=270&&rt>=270||G>270&&rt>=630?ct=-1:W>=0&&at>=0?ct=0:ct=Math.min(W,at),rt>=360?ft=1:ot<=0&&H<=0?ft=0:ft=Math.max(ot,H),[Q,ct,ft,yt]}function J(nt,Y){var Z=function(G){return L.angleDist(nt,G)},$=L.findIndexOfMin(Y,Z);return Y[$]}function it(nt,Y,Z){return Y?(nt.attr("display",null),nt.attr(Z)):nt&&nt.attr("display","none"),nt}},57696:function(tt,U,t){var E=t(3400),S=t(78344),i=E.deg2rad,L=E.rad2deg;tt.exports=function(e,l,n){switch(S(e,n),e._id){case"x":case"radialaxis":T(e,l);break;case"angularaxis":r(e,l);break}};function T(e,l){var n=l._subplot;e.setGeometry=function(){var s=e._rl[0],o=e._rl[1],f=n.innerRadius,b=(n.radius-f)/(o-s),h=f/b,_=s>o?function(a){return a<=0}:function(a){return a>=0};e.c2g=function(a){var c=e.c2l(a)-s;return(_(c)?c:0)+h},e.g2c=function(a){return e.l2c(a+s-h)},e.g2p=function(a){return a*b},e.c2p=function(a){return e.g2p(e.c2g(a))}}}function v(e,l){return l==="degrees"?i(e):e}function d(e,l){return l==="degrees"?L(e):e}function r(e,l){var n=e.type;if(n==="linear"){var s=e.d2c,o=e.c2d;e.d2c=function(f,b){return v(s(f),b)},e.c2d=function(f,b){return o(d(f,b))}}e.makeCalcdata=function(f,b){var h=f[b],_=f._length,a,c,p=function(C){return e.d2c(C,f.thetaunit)};if(h)for(a=new Array(_),c=0;c<_;c++)a[c]=p(h[c]);else{var x=b+"0",k="d"+b,y=x in f?p(f[x]):0,A=f[k]?p(f[k]):(e.period||2*Math.PI)/_;for(a=new Array(_),c=0;c<_;c++)a[c]=y+c*A}return a},e.setGeometry=function(){var f=l.sector,b=f.map(i),h={clockwise:-1,counterclockwise:1}[e.direction],_=i(e.rotation),a=function(u){return h*u+_},c=function(u){return(u-_)/h},p,x,k,y;switch(n){case"linear":x=p=E.identity,y=i,k=L,e.range=E.isFullCircle(b)?[f[0],f[0]+360]:b.map(c).map(L);break;case"category":var A=e._categories.length,C=e.period?Math.max(e.period,A):A;C===0&&(C=1),x=y=function(u){return u*2*Math.PI/C},p=k=function(u){return u*C/Math.PI/2},e.range=[0,C];break}e.c2g=function(u){return a(x(u))},e.g2c=function(u){return p(c(u))},e.t2g=function(u){return a(y(u))},e.g2t=function(u){return k(c(u))}}}},55012:function(tt){tt.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(tt){function U(T){return T<0?-1:T>0?1:0}function t(T){var v=T[0],d=T[1];if(!isFinite(v)||!isFinite(d))return[1,0];var r=(v+1)*(v+1)+d*d;return[(v*v+d*d-1)/r,2*d/r]}function E(T,v){var d=v[0],r=v[1];return[d*T.radius+T.cx,-r*T.radius+T.cy]}function S(T,v){return v*T.radius}function i(T,v,d,r){var e=E(T,t([d,v])),l=e[0],n=e[1],s=E(T,t([r,v])),o=s[0],f=s[1];if(v===0)return["M"+l+","+n,"L"+o+","+f].join(" ");var b=S(T,1/Math.abs(v));return["M"+l+","+n,"A"+b+","+b+" 0 0,"+(v<0?1:0)+" "+o+","+f].join(" ")}function L(T,v,d,r){var e=S(T,1/(v+1)),l=E(T,t([v,d])),n=l[0],s=l[1],o=E(T,t([v,r])),f=o[0],b=o[1];if(U(d)!==U(r)){var h=E(T,t([v,0])),_=h[0],a=h[1];return["M"+n+","+s,"A"+e+","+e+" 0 0,"+(0<d?0:1)+" "+_+","+a,"A"+e+","+e+" 0 0,"+(r<0?0:1)+f+","+b].join(" ")}return["M"+n+","+s,"A"+e+","+e+" 0 0,"+(r<d?0:1)+" "+f+","+b].join(" ")}tt.exports={smith:t,reactanceArc:i,resistanceArc:L,smithTransform:E}},47788:function(tt,U,t){var E=t(84888).KY,S=t(3400).counterRegex,i=t(62400),L=t(55012),T=L.attr,v=L.name,d=S(v),r={};r[T]={valType:"subplotid",dflt:v,editType:"calc"};function e(n){for(var s=n._fullLayout,o=n.calcdata,f=s._subplots[v],b=0;b<f.length;b++){var h=f[b],_=E(o,v,h),a=s[h]._subplot;a||(a=i(n,h,!0),s[h]._subplot=a),a.plot(_,s,n._promises)}}function l(n,s,o,f){for(var b=f._subplots[v]||[],h=0;h<b.length;h++){var _=b[h],a=f[_]._subplot;if(!s[_]&&a){a.framework.remove();for(var c in a.clipPaths)a.clipPaths[c].remove()}}}tt.exports={attr:T,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:r,layoutAttributes:t(6183),supplyLayoutDefaults:t(22836),plot:e,clean:l,toSVG:t(57952).toSVG}},6183:function(tt,U,t){var E=t(22548),S=t(94724),i=t(86968).u,L=t(3400).extendFlat,T=t(67824).overrideAll,v=T({color:S.color,showline:L({},S.showline,{dflt:!0}),linecolor:S.linecolor,linewidth:S.linewidth,showgrid:L({},S.showgrid,{dflt:!0}),gridcolor:S.gridcolor,gridwidth:S.gridwidth,griddash:S.griddash},"plot","from-root"),d=T({ticklen:S.ticklen,tickwidth:L({},S.tickwidth,{dflt:2}),tickcolor:S.tickcolor,showticklabels:S.showticklabels,labelalias:S.labelalias,showtickprefix:S.showtickprefix,tickprefix:S.tickprefix,showticksuffix:S.showticksuffix,ticksuffix:S.ticksuffix,tickfont:S.tickfont,tickformat:S.tickformat,hoverformat:S.hoverformat,layer:S.layer},"plot","from-root"),r=L({visible:L({},S.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},S.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,d),e=L({visible:L({},S.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:S.ticks,editType:"calc"},v,d);tt.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:E.background},realaxis:r,imaginaryaxis:e,editType:"calc"}},22836:function(tt,U,t){var E=t(3400),S=t(76308),i=t(31780),L=t(168),T=t(84888).op,v=t(42568),d=t(95936),r=t(42136),e=t(78344),l=t(6183),n=t(55012),s=n.axisNames,o=b(function(h){return E.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(_){return-_}).concat([0]).concat(h)},String);function f(h,_,a,c){var p=a("bgcolor");c.bgColor=S.combine(p,c.paper_bgcolor);var x=T(c.fullData,n.name,c.id),k=c.layoutOut,y;function A(B,q){return a(y+"."+B,q)}for(var C=0;C<s.length;C++){y=s[C],E.isPlainObject(h[y])||(h[y]={});var u=h[y],m=i.newContainer(_,y);m._id=m._name=y,m._attr=c.id+"."+y,m._traceIndices=x.map(function(B){return B._expandedIndex});var M=A("visible");if(m.type="linear",e(m,k),v(u,m,A,m.type),M){var w=y==="realaxis";if(w&&A("side"),w)A("tickvals");else{var z=o(_.realaxis.tickvals||l.realaxis.tickvals.dflt);A("tickvals",z)}E.isTypedArray(m.tickvals)&&(m.tickvals=Array.from(m.tickvals));var O,D,P,F,R=c.font||{};M&&(O=A("color"),D=O===u.color?O:R.color,P=R.size,F=R.family),d(u,m,A,m.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!w,noExp:!0,font:{color:D,size:P,family:F}}),E.coerce2(h,_,l,y+".ticklen"),E.coerce2(h,_,l,y+".tickwidth"),E.coerce2(h,_,l,y+".tickcolor",_.color);var N=A("ticks");N||(delete _[y].ticklen,delete _[y].tickwidth,delete _[y].tickcolor),r(u,m,A,{dfltColor:O,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[y]}),A("layer")}A("hoverformat"),delete m.type,m._input=u}}tt.exports=function(h,_,a){L(h,_,a,{noUirevision:!0,type:n.name,attributes:l,handleDefaults:f,font:_.font,paper_bgcolor:_.paper_bgcolor,fullData:a,layoutOut:_})};function b(h,_){var a={};return function(c){var p=_?_(c):c;if(p in a)return a[p];var x=h(c);return a[p]=x,x}}},168:function(tt,U,t){var E=t(3400),S=t(31780),i=t(86968).Q;tt.exports=function(L,T,v,d){var r=d.type,e=d.attributes,l=d.handleDefaults,n=d.partition||"x",s=T._subplots[r],o=s.length,f=o&&s[0].replace(/\d+$/,""),b,h;function _(x,k){return E.coerce(b,h,e,x,k)}for(var a=0;a<o;a++){var c=s[a];L[c]?b=L[c]:b=L[c]={},h=S.newContainer(T,c,f),d.noUirevision||_("uirevision",T.uirevision);var p={};p[n]=[a/o,(a+1)/o],i(h,T,_,p),d.id=c,l(b,h,_,d)}}},21776:function(tt,U,t){var E=t(26880);E.FORMAT_LINK,E.DATE_FORMAT_LINK;function S(i){var L=i.description?" "+i.description:"",T=i.keys||[];if(T.length>0){for(var v=[],d=0;d<T.length;d++)v[d]="`"+T[d]+"`";L=L+"Finally, the template string has access to ",T.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}U.Ks=function(i,L){i=i||{},L=L||{},S(L);var T={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(T.arrayOk=!0),T},U.Gw=function(i,L){i=i||{},L=L||{},S(L);var T={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(T.arrayOk=!0),T},U.ye=function(i,L){i=i||{},L=L||{},i.newshape,S(L);var T={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return T}},19352:function(tt,U,t){var E=t(24696),S=t(84888).KY,i=t(3400).counterRegex,L="ternary";U.name=L;var T=U.attr="subplot";U.idRoot=L,U.idRegex=U.attrRegex=i(L);var v=U.attributes={};v[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=t(86379),U.supplyLayoutDefaults=t(38536),U.plot=function(d){for(var r=d._fullLayout,e=d.calcdata,l=r._subplots[L],n=0;n<l.length;n++){var s=l[n],o=S(e,L,s),f=r[s]._subplot;f||(f=new E({id:s,graphDiv:d,container:r._ternarylayer.node()},r),r[s]._subplot=f),f.plot(o,r,d._promises)}},U.clean=function(d,r,e,l){for(var n=l._subplots[L]||[],s=0;s<n.length;s++){var o=n[s],f=l[o]._subplot;!r[o]&&f&&(f.plotContainer.remove(),f.clipDef.remove(),f.clipDefRelative.remove(),f.layers["a-title"].remove(),f.layers["b-title"].remove(),f.layers["c-title"].remove())}}},86379:function(tt,U,t){var E=t(22548),S=t(86968).u,i=t(94724),L=t(67824).overrideAll,T=t(92880).extendFlat,v={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:T({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:T({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:T({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},d=tt.exports=L({domain:S({name:"ternary"}),bgcolor:{valType:"color",dflt:E.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");d.uirevision={valType:"any",editType:"none"},d.aaxis.uirevision=d.baxis.uirevision=d.caxis.uirevision={valType:"any",editType:"none"}},38536:function(tt,U,t){var E=t(76308),S=t(31780),i=t(3400),L=t(168),T=t(95936),v=t(42568),d=t(25404),r=t(26332),e=t(42136),l=t(86379),n=["aaxis","baxis","caxis"];tt.exports=function(f,b,h){L(f,b,h,{type:"ternary",attributes:l,handleDefaults:s,font:b.font,paper_bgcolor:b.paper_bgcolor})};function s(f,b,h,_){var a=h("bgcolor"),c=h("sum");_.bgColor=E.combine(a,_.paper_bgcolor);for(var p,x,k,y=0;y<n.length;y++)p=n[y],x=f[p]||{},k=S.newContainer(b,p),k._name=p,o(x,k,_,b);var A=b.aaxis,C=b.baxis,u=b.caxis;A.min+C.min+u.min>=c&&(A.min=0,C.min=0,u.min=0,f.aaxis&&delete f.aaxis.min,f.baxis&&delete f.baxis.min,f.caxis&&delete f.caxis.min)}function o(f,b,h,_){var a=l[b._name];function c(m,M){return i.coerce(f,b,a,m,M)}c("uirevision",_.uirevision),b.type="linear";var p=c("color"),x=p!==a.color.dflt?p:h.font.color,k=b._name,y=k.charAt(0).toUpperCase(),A="Component "+y,C=c("title.text",A);b._hovertitle=C===A?C:y,i.coerceFont(c,"title.font",{weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:i.bigFont(h.font.size),color:x}),c("min"),r(f,b,c,"linear"),v(f,b,c,"linear"),T(f,b,c,"linear",{noAutotickangles:!0}),d(f,b,c,{outerTicks:!0});var u=c("showticklabels");u&&(i.coerceFont(c,"tickfont",{weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:h.font.size,color:x}),c("tickangle"),c("tickformat")),e(f,b,c,{dfltColor:p,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a}),c("hoverformat"),c("layer")}},24696:function(tt,U,t){var E=t(33428),S=t(49760),i=t(24040),L=t(3400),T=L.strTranslate,v=L._,d=t(76308),r=t(43616),e=t(78344),l=t(92880).extendFlat,n=t(7316),s=t(54460),o=t(86476),f=t(93024),b=t(72760),h=b.freeMode,_=b.rectMode,a=t(81668),c=t(22676).prepSelect,p=t(22676).selectOnClick,x=t(22676).clearOutline,k=t(22676).clearSelectionsCache,y=t(33816);function A(R,N){this.id=R.id,this.graphDiv=R.graphDiv,this.init(N),this.makeFramework(N),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}tt.exports=A;var C=A.prototype;C.init=function(R){this.container=R._ternarylayer,this.defs=R._defs,this.layoutId=R._uid,this.traceHash={},this.layers={}},C.plot=function(R,N){var B=this,q=N[B.id],V=N._size;B._hasClipOnAxisFalse=!1;for(var J=0;J<R.length;J++){var it=R[J][0].trace;if(it.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(q),B.adjustLayout(q,V),n.generalUpdatePerTraceModule(B.graphDiv,B,R,q),B.layers.plotbg.select("path").call(d.fill,q.bgcolor)},C.makeFramework=function(R){var N=this,B=N.graphDiv,q=R[N.id],V=N.clipId="clip"+N.layoutId+N.id,J=N.clipIdRelative="clip-relative"+N.layoutId+N.id;N.clipDef=L.ensureSingleById(R._clips,"clipPath",V,function(it){it.append("path").attr("d","M0,0Z")}),N.clipDefRelative=L.ensureSingleById(R._clips,"clipPath",J,function(it){it.append("path").attr("d","M0,0Z")}),N.plotContainer=L.ensureSingle(N.container,"g",N.id),N.updateLayers(q),r.setClipUrl(N.layers.backplot,V,B),r.setClipUrl(N.layers.grids,V,B)},C.updateLayers=function(R){var N=this,B=N.layers,q=["draglayer","plotbg","backplot","grids"];R.aaxis.layer==="below traces"&&q.push("aaxis","aline"),R.baxis.layer==="below traces"&&q.push("baxis","bline"),R.caxis.layer==="below traces"&&q.push("caxis","cline"),q.push("frontplot"),R.aaxis.layer==="above traces"&&q.push("aaxis","aline"),R.baxis.layer==="above traces"&&q.push("baxis","bline"),R.caxis.layer==="above traces"&&q.push("caxis","cline");var V=N.plotContainer.selectAll("g.toplevel").data(q,String),J=["agrid","bgrid","cgrid"];V.enter().append("g").attr("class",function(it){return"toplevel "+it}).each(function(it){var nt=E.select(this);B[it]=nt,it==="frontplot"?nt.append("g").classed("scatterlayer",!0):it==="backplot"?nt.append("g").classed("maplayer",!0):it==="plotbg"?nt.append("path").attr("d","M0,0Z"):it==="aline"||it==="bline"||it==="cline"?nt.append("path"):it==="grids"&&J.forEach(function(Y){B[Y]=nt.append("g").classed("grid "+Y,!0)})}),V.order()};var u=Math.sqrt(4/3);C.adjustLayout=function(R,N){var B=this,q=R.domain,V=(q.x[0]+q.x[1])/2,J=(q.y[0]+q.y[1])/2,it=q.x[1]-q.x[0],nt=q.y[1]-q.y[0],Y=it*N.w,Z=nt*N.h,$=R.sum,G=R.aaxis.min,rt=R.baxis.min,ot=R.caxis.min,W,H,at,Q,ct,ft;Y>u*Z?(Q=Z,at=Q*u):(at=Y,Q=at/u),ct=it*at/Y,ft=nt*Q/Z,W=N.l+N.w*V-at/2,H=N.t+N.h*(1-J)-Q/2,B.x0=W,B.y0=H,B.w=at,B.h=Q,B.sum=$,B.xaxis={type:"linear",range:[G+2*ot-$,$-G-2*rt],domain:[V-ct/2,V+ct/2],_id:"x"},e(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(Nt){return Nt.a>=B.aaxis.range[0]&&Nt.a<=B.aaxis.range[1]&&Nt.b>=B.baxis.range[1]&&Nt.b<=B.baxis.range[0]&&Nt.c>=B.caxis.range[1]&&Nt.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[G,$-rt-ot],domain:[J-ft/2,J+ft/2],_id:"y"},e(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var yt=B.yaxis.domain[0],xt=B.aaxis=l({},R.aaxis,{range:[G,$-rt-ot],side:"left",tickangle:(+R.aaxis.tickangle||0)-30,domain:[yt,yt+ft*u],anchor:"free",position:0,_id:"y",_length:at});e(xt,B.graphDiv._fullLayout),xt.setScale();var Lt=B.baxis=l({},R.baxis,{range:[$-G-ot,rt],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:at});e(Lt,B.graphDiv._fullLayout),Lt.setScale();var gt=B.caxis=l({},R.caxis,{range:[$-G-rt,ot],side:"right",tickangle:(+R.caxis.tickangle||0)+30,domain:[yt,yt+ft*u],anchor:"free",position:0,_id:"y",_length:at});e(gt,B.graphDiv._fullLayout),gt.setScale();var mt="M"+W+","+(H+Q)+"h"+at+"l-"+at/2+",-"+Q+"Z";B.clipDef.select("path").attr("d",mt),B.layers.plotbg.select("path").attr("d",mt);var vt="M0,"+Q+"h"+at+"l-"+at/2+",-"+Q+"Z";B.clipDefRelative.select("path").attr("d",vt);var At=T(W,H);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",At),B.clipDefRelative.select("path").attr("transform",null);var Ot=T(W-Lt._offset,H+Q);B.layers.baxis.attr("transform",Ot),B.layers.bgrid.attr("transform",Ot);var Pt=T(W+at/2,H)+"rotate(30)"+T(0,-xt._offset);B.layers.aaxis.attr("transform",Pt),B.layers.agrid.attr("transform",Pt);var Et=T(W+at/2,H)+"rotate(-30)"+T(0,-gt._offset);B.layers.caxis.attr("transform",Et),B.layers.cgrid.attr("transform",Et),B.drawAxes(!0),B.layers.aline.select("path").attr("d",xt.showline?"M"+W+","+(H+Q)+"l"+at/2+",-"+Q:"M0,0").call(d.stroke,xt.linecolor||"#000").style("stroke-width",(xt.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",Lt.showline?"M"+W+","+(H+Q)+"h"+at:"M0,0").call(d.stroke,Lt.linecolor||"#000").style("stroke-width",(Lt.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",gt.showline?"M"+(W+at/2)+","+H+"l"+at/2+","+Q:"M0,0").call(d.stroke,gt.linecolor||"#000").style("stroke-width",(gt.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),r.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},C.drawAxes=function(R){var N=this,B=N.graphDiv,q=N.id.substr(7)+"title",V=N.layers,J=N.aaxis,it=N.baxis,nt=N.caxis;if(N.drawAx(J),N.drawAx(it),N.drawAx(nt),R){var Y=Math.max(J.showticklabels?J.tickfont.size/2:0,(nt.showticklabels?nt.tickfont.size*.75:0)+(nt.ticks==="outside"?nt.ticklen*.87:0)),Z=(it.showticklabels?it.tickfont.size:0)+(it.ticks==="outside"?it.ticklen:0)+3;V["a-title"]=a.draw(B,"a"+q,{propContainer:J,propName:N.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:N.x0+N.w/2,y:N.y0-J.title.font.size/3-Y,"text-anchor":"middle"}}),V["b-title"]=a.draw(B,"b"+q,{propContainer:it,propName:N.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:N.x0-Z,y:N.y0+N.h+it.title.font.size*.83+Z,"text-anchor":"middle"}}),V["c-title"]=a.draw(B,"c"+q,{propContainer:nt,propName:N.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:N.x0+N.w+Z,y:N.y0+N.h+nt.title.font.size*.83+Z,"text-anchor":"middle"}})}},C.drawAx=function(R){var N=this,B=N.graphDiv,q=R._name,V=q.charAt(0),J=R._id,it=N.layers[q],nt=30,Y=V+"tickLayout",Z=m(R);N[Y]!==Z&&(it.selectAll("."+J+"tick").remove(),N[Y]=Z),R.setScale();var $=s.calcTicks(R),G=s.clipEnds(R,$),rt=s.makeTransTickFn(R),ot=s.getTickSigns(R)[2],W=L.deg2rad(nt),H=ot*(R.linewidth||1)/2,at=ot*R.ticklen,Q=N.w,ct=N.h,ft=V==="b"?"M0,"+H+"l"+Math.sin(W)*at+","+Math.cos(W)*at:"M"+H+",0l"+Math.cos(W)*at+","+-Math.sin(W)*at,yt={a:"M0,0l"+ct+",-"+Q/2,b:"M0,0l-"+Q/2+",-"+ct,c:"M0,0l-"+ct+","+Q/2}[V];s.drawTicks(B,R,{vals:R.ticks==="inside"?G:$,layer:it,path:ft,transFn:rt,crisp:!1}),s.drawGrid(B,R,{vals:G,layer:N.layers[V+"grid"],path:yt,transFn:rt,crisp:!1}),s.drawLabels(B,R,{vals:$,layer:it,transFn:rt,labelFns:s.makeLabelFns(R,0,nt)})};function m(R){return R.ticks+String(R.ticklen)+String(R.showticklabels)}var M=y.MINZOOM/2+.87,w="m-0.87,.5h"+M+"v3h-"+(M+5.2)+"l"+(M/2+2.6)+",-"+(M*.87+4.5)+"l2.6,1.5l-"+M/2+","+M*.87+"Z",z="m0.87,.5h-"+M+"v3h"+(M+5.2)+"l-"+(M/2+2.6)+",-"+(M*.87+4.5)+"l-2.6,1.5l"+M/2+","+M*.87+"Z",O="m0,1l"+M/2+","+M*.87+"l2.6,-1.5l-"+(M/2+2.6)+",-"+(M*.87+4.5)+"l-"+(M/2+2.6)+","+(M*.87+4.5)+"l2.6,1.5l"+M/2+",-"+M*.87+"Z",D="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",P=!0;C.clearOutline=function(){k(this.dragOptions),x(this.dragOptions.gd)},C.initInteractions=function(){var R=this,N=R.layers.plotbg.select("path").node(),B=R.graphDiv,q=B._fullLayout._zoomlayer,V,J;this.dragOptions={element:N,gd:B,plotinfo:{id:R.id,domain:B._fullLayout[R.id].domain,xaxis:R.xaxis,yaxis:R.yaxis},subplot:R.id,prepFn:function(Ot,Pt,Et){R.dragOptions.xaxes=[R.xaxis],R.dragOptions.yaxes=[R.yaxis],V=B._fullLayout._invScaleX,J=B._fullLayout._invScaleY;var Nt=R.dragOptions.dragmode=B._fullLayout.dragmode;h(Nt)?R.dragOptions.minDrag=1:R.dragOptions.minDrag=void 0,Nt==="zoom"?(R.dragOptions.moveFn=Lt,R.dragOptions.clickFn=Q,R.dragOptions.doneFn=gt,ct(Ot,Pt,Et)):Nt==="pan"?(R.dragOptions.moveFn=vt,R.dragOptions.clickFn=Q,R.dragOptions.doneFn=At,mt(),R.clearOutline(B)):(_(Nt)||h(Nt))&&c(Ot,Pt,Et,R.dragOptions,Nt)}};var it,nt,Y,Z,$,G,rt,ot,W,H;function at(Ot){var Pt={};return Pt[R.id+".aaxis.min"]=Ot.a,Pt[R.id+".baxis.min"]=Ot.b,Pt[R.id+".caxis.min"]=Ot.c,Pt}function Q(Ot,Pt){var Et=B._fullLayout.clickmode;F(B),Ot===2&&(B.emit("plotly_doubleclick",null),i.call("_guiRelayout",B,at({a:0,b:0,c:0}))),Et.indexOf("select")>-1&&Ot===1&&p(Pt,B,[R.xaxis],[R.yaxis],R.id,R.dragOptions),Et.indexOf("event")>-1&&f.click(B,Pt,R.id)}function ct(Ot,Pt,Et){var Nt=N.getBoundingClientRect();it=Pt-Nt.left,nt=Et-Nt.top,B._fullLayout._calcInverseTransform(B);var ne=B._fullLayout._invTransform,Gt=L.apply3DTransform(ne)(it,nt);it=Gt[0],nt=Gt[1],Y={a:R.aaxis.range[0],b:R.baxis.range[1],c:R.caxis.range[1]},$=Y,Z=R.aaxis.range[1]-Y.a,G=S(R.graphDiv._fullLayout[R.id].bgcolor).getLuminance(),rt="M0,"+R.h+"L"+R.w/2+", 0L"+R.w+","+R.h+"Z",ot=!1,W=q.append("path").attr("class","zoombox").attr("transform",T(R.x0,R.y0)).style({fill:G>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",rt),H=q.append("path").attr("class","zoombox-corners").attr("transform",T(R.x0,R.y0)).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),R.clearOutline(B)}function ft(Ot,Pt){return 1-Pt/R.h}function yt(Ot,Pt){return 1-(Ot+(R.h-Pt)/Math.sqrt(3))/R.w}function xt(Ot,Pt){return(Ot-(R.h-Pt)/Math.sqrt(3))/R.w}function Lt(Ot,Pt){var Et=it+Ot*V,Nt=nt+Pt*J,ne=Math.max(0,Math.min(1,ft(it,nt),ft(Et,Nt))),Gt=Math.max(0,Math.min(1,yt(it,nt),yt(Et,Nt))),pe=Math.max(0,Math.min(1,xt(it,nt),xt(Et,Nt))),Vt=(ne/2+pe)*R.w,ae=(1-ne/2-Gt)*R.w,oe=(Vt+ae)/2,ce=ae-Vt,le=(1-ne)*R.h,ye=le-ce/u;ce<y.MINZOOM?($=Y,W.attr("d",rt),H.attr("d","M0,0Z")):($={a:Y.a+ne*Z,b:Y.b+Gt*Z,c:Y.c+pe*Z},W.attr("d",rt+"M"+Vt+","+le+"H"+ae+"L"+oe+","+ye+"L"+Vt+","+le+"Z"),H.attr("d","M"+it+","+nt+D+"M"+Vt+","+le+w+"M"+ae+","+le+z+"M"+oe+","+ye+O)),ot||(W.transition().style("fill",G>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),H.transition().style("opacity",1).duration(200),ot=!0),B.emit("plotly_relayouting",at($))}function gt(){F(B),$!==Y&&(i.call("_guiRelayout",B,at($)),P&&B.data&&B._context.showTips&&(L.notifier(v(B,"Double-click to zoom back out"),"long"),P=!1))}function mt(){Y={a:R.aaxis.range[0],b:R.baxis.range[1],c:R.caxis.range[1]},$=Y}function vt(Ot,Pt){var Et=Ot/R.xaxis._m,Nt=Pt/R.yaxis._m;$={a:Y.a-Nt,b:Y.b+(Et+Nt)/2,c:Y.c-(Et-Nt)/2};var ne=[$.a,$.b,$.c].sort(L.sorterAsc),Gt={a:ne.indexOf($.a),b:ne.indexOf($.b),c:ne.indexOf($.c)};ne[0]<0&&(ne[1]+ne[0]/2<0?(ne[2]+=ne[0]+ne[1],ne[0]=ne[1]=0):(ne[2]+=ne[0]/2,ne[1]+=ne[0]/2,ne[0]=0),$={a:ne[Gt.a],b:ne[Gt.b],c:ne[Gt.c]},Pt=(Y.a-$.a)*R.yaxis._m,Ot=(Y.c-$.c-Y.b+$.b)*R.xaxis._m);var pe=T(R.x0+Ot,R.y0+Pt);R.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",pe);var Vt=T(-Ot,-Pt);R.clipDefRelative.select("path").attr("transform",Vt),R.aaxis.range=[$.a,R.sum-$.b-$.c],R.baxis.range=[R.sum-$.a-$.c,$.b],R.caxis.range=[R.sum-$.a-$.b,$.c],R.drawAxes(!1),R._hasClipOnAxisFalse&&R.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,R),B.emit("plotly_relayouting",at($))}function At(){i.call("_guiRelayout",B,at($))}N.onmousemove=function(Ot){f.hover(B,Ot,R.id),B._fullLayout._lasthover=N,B._fullLayout._hoversubplot=R.id},N.onmouseout=function(Ot){B._dragging||o.unhover(B,Ot)},o.init(this.dragOptions)};function F(R){E.select(R).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(tt,U,t){var E=t(24248),S=t(16628),i=t(52416),L=t(63620),T=t(52200).addStyleRule,v=t(92880),d=t(45464),r=t(64859),e=v.extendFlat,l=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(x){if(U.collectableSubplotTypes=null,x)x&&!Array.isArray(x)&&(x=[x]);else throw new Error("No argument passed to Plotly.register.");for(var k=0;k<x.length;k++){var y=x[k];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":n(y);break;case"transform":f(y);break;case"component":o(y);break;case"locale":b(y);break;case"apiMethod":var A=y.name;U.apiMethodRegistry[A]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(x){var k=U.modules[p(x)];return k?k._module:!1},U.traceIs=function(x,k){if(x=p(x),x==="various")return!1;var y=U.modules[x];return y||(x&&E.log("Unrecognized trace type "+x+"."),y=U.modules[d.type.dflt]),!!y.categories[k]},U.getTransformIndices=function(x,k){for(var y=[],A=x.transforms||[],C=0;C<A.length;C++)A[C].type===k&&y.push(C);return y},U.hasTransform=function(x,k){for(var y=x.transforms||[],A=0;A<y.length;A++)if(y[A].type===k)return!0;return!1},U.getComponentMethod=function(x,k){var y=U.componentsRegistry[x];return y&&y[k]||S},U.call=function(){var x=arguments[0],k=[].slice.call(arguments,1);return U.apiMethodRegistry[x].apply(null,k)};function n(x){var k=x.name,y=x.categories,A=x.meta;if(U.modules[k]){E.log("Type "+k+" already registered");return}U.subplotsRegistry[x.basePlotModule.name]||s(x.basePlotModule);for(var C={},u=0;u<y.length;u++)C[y[u]]=!0,U.allCategories[y[u]]=!0;U.modules[k]={_module:x,categories:C},A&&Object.keys(A).length&&(U.modules[k].meta=A),U.allTypes.push(k);for(var m in U.componentsRegistry)_(m,k);x.layoutAttributes&&e(U.traceLayoutAttributes,x.layoutAttributes);var M=x.basePlotModule,w=M.name;if(w==="mapbox"){var z=M.constants.styleRules;for(var O in z)T(".js-plotly-plot .plotly .mapboxgl-"+O,z[O])}(w==="geo"||w==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function s(x){var k=x.name;if(U.subplotsRegistry[k]){E.log("Plot type "+k+" already registered.");return}h(x),U.subplotsRegistry[k]=x;for(var y in U.componentsRegistry)c(y,x.name)}function o(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var k=x.name;U.componentsRegistry[k]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&i(U.layoutArrayContainers,k),h(x));for(var y in U.modules)_(k,y);for(var A in U.subplotsRegistry)c(k,A);for(var C in U.transformsRegistry)a(k,C);x.schema&&x.schema.layout&&l(r,x.schema.layout)}function f(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var k="Transform module "+x.name,y=typeof x.transform=="function",A=typeof x.calcTransform=="function";if(!y&&!A)throw new Error(k+" is missing a *transform* or *calcTransform* method.");y&&A&&E.log([k+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(x.attributes)||E.log(k+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&E.log(k+" registered without a *supplyDefaults* method."),U.transformsRegistry[x.name]=x;for(var C in U.componentsRegistry)a(C,x.name)}function b(x){var k=x.name,y=k.split("-")[0],A=x.dictionary,C=x.format,u=A&&Object.keys(A).length,m=C&&Object.keys(C).length,M=U.localeRegistry,w=M[k];if(w||(M[k]=w={}),y!==k){var z=M[y];z||(M[y]=z={}),u&&z.dictionary===w.dictionary&&(z.dictionary=A),m&&z.format===w.format&&(z.format=C)}u&&(w.dictionary=A),m&&(w.format=C)}function h(x){if(x.layoutAttributes){var k=x.layoutAttributes._arrayAttrRegexps;if(k)for(var y=0;y<k.length;y++)i(U.layoutArrayRegexes,k[y])}}function _(x,k){var y=U.componentsRegistry[x].schema;if(!(!y||!y.traces)){var A=y.traces[k];A&&l(U.modules[k]._module.attributes,A)}}function a(x,k){var y=U.componentsRegistry[x].schema;if(!(!y||!y.transforms)){var A=y.transforms[k];A&&l(U.transformsRegistry[k].attributes,A)}}function c(x,k){var y=U.componentsRegistry[x].schema;if(!(!y||!y.subplots)){var A=U.subplotsRegistry[k],C=A.layoutAttributes,u=A.attr==="subplot"?A.name:A.attr;Array.isArray(u)&&(u=u[0]);var m=y.subplots[u];C&&m&&l(C,m)}}function p(x){return typeof x=="object"&&(x=x.type),x}},91536:function(tt,U,t){var E=t(24040),S=t(3400),i=S.extendFlat,L=S.extendDeep;function T(d){var r;switch(d){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(d){var r=["xaxis","yaxis","zaxis"];return r.indexOf(d.slice(0,5))>-1}tt.exports=function(d,r){var e,l=d.data,n=d.layout,s=L([],l),o=L({},n,T(r.tileClass)),f=d._context||{};if(r.width&&(o.width=r.width),r.height&&(o.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){o.annotations=[];var b=Object.keys(o);for(e=0;e<b.length;e++)v(b[e])&&(o[b[e]].title={text:""});for(e=0;e<s.length;e++){var h=s[e];h.showscale=!1,h.marker&&(h.marker.showscale=!1),E.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(r.annotations))for(e=0;e<r.annotations.length;e++)o.annotations.push(r.annotations[e]);var _=Object.keys(o).filter(function(k){return k.match(/^scene\d*$/)});if(_.length){var a={};for(r.tileClass==="thumbnail"&&(a={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),e=0;e<_.length;e++){var c=o[_[e]];c.xaxis||(c.xaxis={}),c.yaxis||(c.yaxis={}),c.zaxis||(c.zaxis={}),i(c.xaxis,a),i(c.yaxis,a),i(c.zaxis,a),c._scene=null}}var p=document.createElement("div");r.tileClass&&(p.className=r.tileClass);var x={gd:p,td:p,layout:o,data:s,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return r.setBackground!=="transparent"&&(x.config.setBackground=r.setBackground||"opaque"),x.gd.defaultLayout=T(r.tileClass),x}},39792:function(tt,U,t){var E=t(3400),S=t(67024),i=t(48616),L=t(81792);function T(v,d){var r;return E.isPlainObject(v)||(r=E.getGraphDiv(v)),d=d||{},d.format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(e,l){r&&r._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),E.isIE()&&d.format!=="svg"&&l(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=S(v,d),s=d.filename||v.fn||"newplot";s+="."+d.format.replace("-","."),n.then(function(o){return r&&(r._snapshotInProgress=!1),i(o,s,d.format)}).then(function(o){e(o)}).catch(function(o){r&&(r._snapshotInProgress=!1),l(o)})})}tt.exports=T},48616:function(tt,U,t){var E=t(3400),S=t(81792);function i(L,T,v){var d=document.createElement("a"),r="download"in d,e=new Promise(function(l,n){var s,o;if(E.isIE())return s=S.createBlob(L,"svg"),window.navigator.msSaveBlob(s,T),s=null,l(T);if(r)return s=S.createBlob(L,v),o=S.createObjectURL(s),d.href=o,d.download=T,document.body.appendChild(d),d.click(),document.body.removeChild(d),S.revokeObjectURL(o),s=null,l(T);if(E.isSafari()){var f=v==="svg"?",":";base64,";return S.octetStream(f+encodeURIComponent(L)),l(T)}n(new Error("download error"))});return e}tt.exports=i},81792:function(tt,U,t){var E=t(24040);U.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},U.getRedrawFunc=function(L){return function(){E.getComponentMethod("colorbar","draw")(L)}},U.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},U.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var S=window.URL||window.webkitURL;U.createObjectURL=function(L){return S.createObjectURL(L)},U.revokeObjectURL=function(L){return S.revokeObjectURL(L)},U.createBlob=function(L,T){if(T==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=i(window.atob(L));return new window.Blob([v],{type:"image/"+T})},U.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function i(L){for(var T=L.length,v=new ArrayBuffer(T),d=new Uint8Array(v),r=0;r<T;r++)d[r]=L.charCodeAt(r);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(tt,U,t){var E=t(81792),S={getDelay:E.getDelay,getRedrawFunc:E.getRedrawFunc,clone:t(91536),toSVG:t(37164),svgToImg:t(63268),toImage:t(61808),downloadImage:t(39792)};tt.exports=S},63268:function(tt,U,t){var E=t(3400),S=t(61252).EventEmitter,i=t(81792);function L(T){var v=T.emitter||new S,d=new Promise(function(r,e){var l=window.Image,n=T.svg,s=T.format||"png";if(E.isIE()&&s!=="svg"){var o=new Error(i.MSG_IE_BAD_FORMAT);return e(o),T.promise?d:v.emit("error",o)}var f=T.canvas,b=T.scale||1,h=T.width||300,_=T.height||150,a=b*h,c=b*_,p=f.getContext("2d",{willReadFrequently:!0}),x=new l,k,y;s==="svg"||E.isSafari()?y=i.encodeSVG(n):(k=i.createBlob(n,"svg"),y=i.createObjectURL(k)),f.width=a,f.height=c,x.onload=function(){var A;switch(k=null,i.revokeObjectURL(y),s!=="svg"&&p.drawImage(x,0,0,a,c),s){case"jpeg":A=f.toDataURL("image/jpeg");break;case"png":A=f.toDataURL("image/png");break;case"webp":A=f.toDataURL("image/webp");break;case"svg":A=y;break;default:var C="Image format is not jpeg, png, svg or webp.";if(e(new Error(C)),!T.promise)return v.emit("error",C)}r(A),T.promise||v.emit("success",A)},x.onerror=function(A){if(k=null,i.revokeObjectURL(y),e(A),!T.promise)return v.emit("error",A)},x.src=y});return T.promise?d:v}tt.exports=L},61808:function(tt,U,t){var E=t(61252).EventEmitter,S=t(24040),i=t(3400),L=t(81792),T=t(91536),v=t(37164),d=t(63268);function r(e,l){var n=new E,s=T(e,{format:"png"}),o=s.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);function f(){var h=L.getDelay(o._fullLayout);setTimeout(function(){var _=v(o),a=document.createElement("canvas");a.id=i.randstr(),n=d({format:l.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:a,emitter:n,svg:_}),n.clean=function(){o&&document.body.removeChild(o)}},h)}var b=L.getRedrawFunc(o);return S.call("_doPlot",o,s.data,s.layout,s.config).then(b).then(f).catch(function(h){n.emit("error",h)}),n}tt.exports=r},37164:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(76308),T=t(9616),v=/"/g,d="TOBESTRIPPED",r=new RegExp('("'+d+")|("+d+'")',"g");function e(n){var s=E.select("body").append("div").style({display:"none"}).html(""),o=n.replace(/(&[^;]*;)/gi,function(f){return f==="&lt;"?"&#60;":f==="&rt;"?"&#62;":f.indexOf("<")!==-1||f.indexOf(">")!==-1?"":s.html(f).text()});return s.remove(),o}function l(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}tt.exports=function(n,s,o){var f=n._fullLayout,b=f._paper,h=f._toppaper,_=f.width,a=f.height,c;b.insert("rect",":first-child").call(i.setRect,0,0,_,a).call(L.fill,f.paper_bgcolor);var p=f._basePlotModules||[];for(c=0;c<p.length;c++){var x=p[c];x.toSVG&&x.toSVG(n)}if(h){var k=h.node().childNodes,y=Array.prototype.slice.call(k);for(c=0;c<y.length;c++){var A=y[c];A.childNodes.length&&b.node().appendChild(A)}}f._draggers&&f._draggers.remove(),b.node().style.background="",b.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var u=E.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){u.remove();return}else u.style({visibility:null,display:null});var m=this.style.fontFamily;m&&m.indexOf('"')!==-1&&u.style("font-family",m.replace(v,d));var M=this.style.fontWeight;M&&M==="normal"&&u.style("font-weight",void 0);var w=this.style.fontStyle;w&&w==="normal"&&u.style("font-style",void 0);var z=this.style.fontVariant;z&&z==="normal"&&u.style("font-variant",void 0)}),b.selectAll(".gradient_filled,.pattern_filled").each(function(){var u=E.select(this),m=this.style.fill;m&&m.indexOf("url(")!==-1&&u.style("fill",m.replace(v,d));var M=this.style.stroke;M&&M.indexOf("url(")!==-1&&u.style("stroke",M.replace(v,d))}),(s==="pdf"||s==="eps")&&b.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),b.node().setAttributeNS(T.xmlns,"xmlns",T.svg),b.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),s==="svg"&&o&&(b.attr("width",o*_),b.attr("height",o*a),b.attr("viewBox","0 0 "+_+" "+a));var C=new window.XMLSerializer().serializeToString(b.node());return C=e(C),C=l(C),C=C.replace(r,"'"),S.isIE()&&(C=C.replace(/"/gi,"'"),C=C.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),C=C.replace(/(\\')/gi,'"')),C}},84664:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){for(var L=0;L<S.length;L++)S[L].i=L;E.mergeArray(i.text,S,"tx"),E.mergeArray(i.hovertext,S,"htx");var T=i.marker;if(T){E.mergeArray(T.opacity,S,"mo",!0),E.mergeArray(T.color,S,"mc");var v=T.line;v&&(E.mergeArray(v.color,S,"mlc"),E.mergeArrayCastPositive(v.width,S,"mlw"))}}},20832:function(tt,U,t){var E=t(52904),S=t(29736).axisHoverFormat,i=t(21776).Ks,L=t(21776).Gw,T=t(49084),v=t(25376),d=t(78048),r=t(98192).c,e=t(92880).extendFlat,l=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=E.marker,s=n.line,o=e({},s.width,{dflt:0}),f=e({width:o,editType:"calc"},T("marker.line")),b=e({line:f,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});tt.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:E.text,texttemplate:L({editType:"plot"},{keys:d.eventDataKeys}),hovertext:E.hovertext,hovertemplate:i({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},l,{}),insidetextfont:e({},l,{}),outsidetextfont:e({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},E.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:b,offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:{opacity:E.selected.marker.opacity,color:E.selected.marker.color,editType:"style"},textfont:E.selected.textfont,editType:"style"},unselected:{marker:{opacity:E.unselected.marker.opacity,color:E.unselected.marker.color,editType:"style"},textfont:E.unselected.textfont,editType:"style"},zorder:E.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(tt,U,t){var E=t(54460),S=t(1220),i=t(94288).hasColorscale,L=t(47128),T=t(84664),v=t(4500);tt.exports=function(d,r){var e=E.getFromId(d,r.xaxis||"x"),l=E.getFromId(d,r.yaxis||"y"),n,s,o,f,b,h,_={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(n=e.makeCalcdata(r,"x",_),o=l.makeCalcdata(r,"y"),f=S(r,l,"y",o),b=!!r.yperiodalignment,h="y"):(n=l.makeCalcdata(r,"y",_),o=e.makeCalcdata(r,"x"),f=S(r,e,"x",o),b=!!r.xperiodalignment,h="x"),s=f.vals;for(var a=Math.min(s.length,n.length),c=new Array(a),p=0;p<a;p++)c[p]={p:s[p],s:n[p]},b&&(c[p].orig_p=o[p],c[p][h+"End"]=f.ends[p],c[p][h+"Start"]=f.starts[p]),r.ids&&(c[p].id=String(r.ids[p]));return i(r,"marker")&&L(d,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),i(r,"marker.line")&&L(d,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(c,r),v(c,r),c}},78048:function(tt){tt.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(tt,U,t){var E=t(38248),S=t(3400).isArrayOrTypedArray,i=t(39032).BADNUM,L=t(24040),T=t(54460),v=t(71888).getAxisGroup,d=t(72592);function r(w,z){for(var O=z.xaxis,D=z.yaxis,P=w._fullLayout,F=w._fullData,R=w.calcdata,N=[],B=[],q=0;q<F.length;q++){var V=F[q];if(V.visible===!0&&L.traceIs(V,"bar")&&V.xaxis===O._id&&V.yaxis===D._id&&(V.orientation==="h"?N.push(R[q]):B.push(R[q]),V._computePh))for(var J=w.calcdata[q],it=0;it<J.length;it++)typeof J[it].ph0=="function"&&(J[it].ph0=J[it].ph0()),typeof J[it].ph1=="function"&&(J[it].ph1=J[it].ph1())}var nt={xCat:O.type==="category"||O.type==="multicategory",yCat:D.type==="category"||D.type==="multicategory",mode:P.barmode,norm:P.barnorm,gap:P.bargap,groupgap:P.bargroupgap};e(w,O,D,B,nt),e(w,D,O,N,nt)}function e(w,z,O,D,P){if(D.length){var F,R,N,B,q;switch(s(O,D),P.mode){case"overlay":o(z,O,D,P);break;case"group":for(F=[],R=[],N=0;N<D.length;N++)B=D[N],q=B[0].trace,q.offset===void 0?R.push(B):F.push(B);R.length&&f(w,z,O,R,P),F.length&&o(z,O,F,P);break;case"stack":case"relative":for(F=[],R=[],N=0;N<D.length;N++)B=D[N],q=B[0].trace,q.base===void 0?R.push(B):F.push(B);n(R),R.length&&b(w,z,O,R,P),F.length&&o(z,O,F,P);break}l(D),m(D,z)}}function l(w){var z,O,D,P,F,R,N;for(z=0;z<w.length;z++)O=w[z],D=O[0].trace,P=O[0].t,P.cornerradiusvalue===void 0&&(F=D.marker?D.marker.cornerradius:void 0,F!==void 0&&(R=E(F)?+F:+F.slice(0,-1),N=E(F)?"px":"%",P.cornerradiusvalue=R,P.cornerradiusform=N))}function n(w){if(!(w.length<2)){var z,O,D,P,F,R,N;for(z=0;z<w.length&&(O=w[z],D=O[0].trace,F=D.marker?D.marker.cornerradius:void 0,F===void 0);z++);if(F!==void 0)for(R=E(F)?+F:+F.slice(0,-1),N=E(F)?"px":"%",z=0;z<w.length;z++)O=w[z],P=O[0].t,P.cornerradiusvalue=R,P.cornerradiusform=N}}function s(w,z){var O,D;for(O=0;O<z.length;O++){var P=z[O],F=P[0].trace,R=F.type==="funnel"?F._base:F.base,N,B=F.orientation==="h"?F.xcalendar:F.ycalendar,q=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(S(R)){for(D=0;D<Math.min(R.length,P.length);D++)N=q(R[D],0,B),E(N)?(P[D].b=+N,P[D].hasB=1):P[D].b=0;for(;D<P.length;D++)P[D].b=0}else{N=q(R,0,B);var V=E(N);for(N=V?N:0,D=0;D<P.length;D++)P[D].b=N,V&&(P[D].hasB=1)}}}function o(w,z,O,D){for(var P=0;P<O.length;P++){var F=O[P],R=new d([F],{posAxis:w,sepNegVal:!1,overlapNoMerge:!D.norm});h(w,R,D),D.norm?(y(R),C(z,R,D)):x(z,R)}}function f(w,z,O,D,P){var F=new d(D,{posAxis:z,sepNegVal:!1,overlapNoMerge:!P.norm});_(w,z,F,P),A(F,z),P.norm?(y(F),C(O,F,P)):x(O,F)}function b(w,z,O,D,P){var F=new d(D,{posAxis:z,sepNegVal:P.mode==="relative",overlapNoMerge:!(P.norm||P.mode==="stack"||P.mode==="relative")});h(z,F,P),k(O,F,P);for(var R=0;R<D.length;R++)for(var N=D[R],B=0;B<N.length;B++){var q=N[B];if(q.s!==i){var V=q.b+q.s===F.get(q.p,q.s);V&&(q._outmost=!0)}}P.norm&&C(O,F,P)}function h(w,z,O){for(var D=z.minDiff,P=z.traces,F=D*(1-O.gap),R=F,N=R*(1-(O.groupgap||0)),B=-N/2,q=0;q<P.length;q++){var V=P[q],J=V[0].t;J.barwidth=N,J.poffset=B,J.bargroupwidth=F,J.bardelta=D}z.binWidth=P[0][0].t.barwidth/100,a(z),c(w,z),p(w,z)}function _(w,z,O,D){for(var P=w._fullLayout,F=O.positions,R=O.distinctPositions,N=O.minDiff,B=O.traces,q=B.length,V=F.length!==R.length,J=N*(1-D.gap),it=v(P,z._id)+B[0][0].trace.orientation,nt=P._alignmentOpts[it]||{},Y=0;Y<q;Y++){var Z=B[Y],$=Z[0].trace,G=nt[$.alignmentgroup]||{},rt=Object.keys(G.offsetGroups||{}).length,ot;rt?ot=J/rt:ot=V?J/q:J;var W=ot*(1-(D.groupgap||0)),H;rt?H=((2*$._offsetIndex+1-rt)*ot-W)/2:H=V?((2*Y+1-q)*ot-W)/2:-W/2;var at=Z[0].t;at.barwidth=W,at.poffset=H,at.bargroupwidth=J,at.bardelta=N}O.binWidth=B[0][0].t.barwidth/100,a(O),c(z,O),p(z,O,V)}function a(w){var z=w.traces,O,D;for(O=0;O<z.length;O++){var P=z[O],F=P[0],R=F.trace,N=F.t,B=R._offset||R.offset,q=N.poffset,V;if(S(B)){for(V=Array.prototype.slice.call(B,0,P.length),D=0;D<V.length;D++)E(V[D])||(V[D]=q);for(D=V.length;D<P.length;D++)V.push(q);N.poffset=V}else B!==void 0&&(N.poffset=B);var J=R._width||R.width,it=N.barwidth;if(S(J)){var nt=Array.prototype.slice.call(J,0,P.length);for(D=0;D<nt.length;D++)E(nt[D])||(nt[D]=it);for(D=nt.length;D<P.length;D++)nt.push(it);if(N.barwidth=nt,B===void 0){for(V=[],D=0;D<P.length;D++)V.push(q+(it-nt[D])/2);N.poffset=V}}else J!==void 0&&(N.barwidth=J,B===void 0&&(N.poffset=q+(it-J)/2))}}function c(w,z){for(var O=z.traces,D=M(w),P=0;P<O.length;P++)for(var F=O[P],R=F[0].t,N=R.poffset,B=S(N),q=R.barwidth,V=S(q),J=0;J<F.length;J++){var it=F[J],nt=it.w=V?q[J]:q;it.p===void 0&&(it.p=it[D],it["orig_"+D]=it[D]);var Y=(B?N[J]:N)+nt/2;it[D]=it.p+Y}}function p(w,z,O){var D=z.traces,P=z.minDiff,F=P/2;T.minDtick(w,z.minDiff,z.distinctPositions[0],O);for(var R=0;R<D.length;R++){var N=D[R],B=N[0],q=B.trace,V=[],J,it,nt,Y;for(Y=0;Y<N.length;Y++)J=N[Y],it=J.p-F,nt=J.p+F,V.push(it,nt);if(q.width||q.offset){var Z=B.t,$=Z.poffset,G=Z.barwidth,rt=S($),ot=S(G);for(Y=0;Y<N.length;Y++){J=N[Y];var W=rt?$[Y]:$,H=ot?G[Y]:G;it=J.p+W,nt=it+H,V.push(it,nt)}}q._extremes[w._id]=T.findExtremes(w,V,{padded:!1})}}function x(w,z){for(var O=z.traces,D=M(w),P=0;P<O.length;P++){for(var F=O[P],R=F[0].trace,N=R.type==="scatter",B=R.orientation==="v",q=[],V=!1,J=0;J<F.length;J++){var it=F[J],nt=N?0:it.b,Y=N?B?it.y:it.x:nt+it.s;it[D]=Y,q.push(Y),it.hasB&&q.push(nt),(!it.hasB||!it.b)&&(V=!0)}R._extremes[w._id]=T.findExtremes(w,q,{tozero:V,padded:!0})}}function k(w,z,O){var D=M(w),P=z.traces,F,R,N,B,q,V;for(B=0;B<P.length;B++)if(F=P[B],R=F[0].trace,R.type==="funnel")for(q=0;q<F.length;q++)V=F[q],V.s!==i&&z.put(V.p,-.5*V.s);for(B=0;B<P.length;B++){F=P[B],R=F[0].trace,N=R.type==="funnel";var J=[];for(q=0;q<F.length;q++)if(V=F[q],V.s!==i){var it;N?it=V.s:it=V.s+V.b;var nt=z.put(V.p,it),Y=nt+it;V.b=nt,V[D]=Y,O.norm||(J.push(Y),V.hasB&&J.push(nt))}O.norm||(R._extremes[w._id]=T.findExtremes(w,J,{tozero:!0,padded:!0}))}}function y(w){for(var z=w.traces,O=0;O<z.length;O++)for(var D=z[O],P=0;P<D.length;P++){var F=D[P];F.s!==i&&w.put(F.p,F.b+F.s)}}function A(w,z){for(var O=w.traces,D=0;D<O.length;D++){var P=O[D],F=P[0].trace;if(F.base===void 0)for(var R=new d([P],{posAxis:z,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<P.length;N++){var B=P[N];if(B.p!==i){var q=R.put(B.p,B.b+B.s);q&&(B.b=q)}}}}function C(w,z,O){var D=z.traces,P=M(w),F=O.norm==="fraction"?1:100,R=F/1e9,N=w.l2c(w.c2l(0)),B=O.mode==="stack"?F:N;function q(H){return E(w.c2l(H))&&(H<N-R||H>B+R||!E(N))}for(var V=0;V<D.length;V++){for(var J=D[V],it=J[0].trace,nt=[],Y=!1,Z=!1,$=0;$<J.length;$++){var G=J[$];if(G.s!==i){var rt=Math.abs(F/z.get(G.p,G.s));G.b*=rt,G.s*=rt;var ot=G.b,W=ot+G.s;G[P]=W,nt.push(W),Z=Z||q(W),G.hasB&&(nt.push(ot),Z=Z||q(ot)),(!G.hasB||!G.b)&&(Y=!0)}}it._extremes[w._id]=T.findExtremes(w,nt,{tozero:Y,padded:Z})}}function u(w,z,O,D){for(var P=M(D),F=0;F<w.length;F++)for(var R=w[F],N=0;N<R.length;N++){var B=R[N],q=B[P];B._sMin=z[q],B._sMax=O[q]}}function m(w,z){var O=M(z),D={},P,F,R,N=1/0,B=-1/0;for(P=0;P<w.length;P++)for(R=w[P],F=0;F<R.length;F++){var q=R[F].p;E(q)&&(N=Math.min(N,q),B=Math.max(B,q))}var V=1e4/(B-N),J=D.round=function(ct){return String(Math.round(V*(ct-N)))},it={},nt={},Y=w.some(function(ct){var ft=ct[0].trace;return"marker"in ft&&ft.marker.cornerradius});for(P=0;P<w.length;P++){R=w[P],R[0].t.extents=D;var Z=R[0].t.poffset,$=S(Z);for(F=0;F<R.length;F++){var G=R[F],rt=G[O]-G.w/2;if(E(rt)){var ot=G[O]+G.w/2,W=J(G.p);D[W]?D[W]=[Math.min(rt,D[W][0]),Math.max(ot,D[W][1])]:D[W]=[rt,ot]}if(G.p0=G.p+($?Z[F]:Z),G.p1=G.p0+G.w,G.s0=G.b,G.s1=G.s0+G.s,Y){var H=Math.min(G.s0,G.s1)||0,at=Math.max(G.s0,G.s1)||0,Q=G[O];it[Q]=Q in it?Math.min(it[Q],H):H,nt[Q]=Q in nt?Math.max(nt[Q],at):at}}}Y&&u(w,it,nt,z)}function M(w){return w._id.charAt(0)}tt.exports={crossTraceCalc:r,setGroupPositions:e}},31508:function(tt,U,t){var E=t(38248),S=t(3400),i=t(76308),L=t(24040),T=t(43980),v=t(31147),d=t(55592),r=t(20011),e=t(20832),l=S.coerceFont;function n(b,h,_,a){function c(A,C){return S.coerce(b,h,e,A,C)}var p=T(b,h,a,c);if(!p){h.visible=!1;return}v(b,h,a,c),c("xhoverformat"),c("yhoverformat"),c("zorder"),c("orientation",h.x&&!h.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");f(b,h,a,c,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(b,h,c,_,a);var k=(h.marker.line||{}).color,y=L.getComponentMethod("errorbars","supplyDefaults");y(b,h,k||i.defaultLine,{axis:"y"}),y(b,h,k||i.defaultLine,{axis:"x",inherit:"y"}),S.coerceSelectionMarkerOpacity(h,c)}function s(b,h){var _,a;function c(k,y){return S.coerce(a._input,a,e,k,y)}for(var p=0;p<b.length;p++)if(a=b[p],a.type==="bar"){_=a._input;var x=c("marker.cornerradius",h.barcornerradius);a.marker&&(a.marker.cornerradius=o(x)),h.barmode==="group"&&r(_,a,h,c)}}function o(b){if(E(b)){if(b=+b,b>=0)return b}else if(typeof b=="string"&&(b=b.trim(),b.slice(-1)==="%"&&E(b.slice(0,-1))&&(b=+b.slice(0,-1),b>=0)))return b+"%"}function f(b,h,_,a,c,p){p=p||{};var x=p.moduleHasSelected!==!1,k=p.moduleHasUnselected!==!1,y=p.moduleHasConstrain!==!1,A=p.moduleHasCliponaxis!==!1,C=p.moduleHasTextangle!==!1,u=p.moduleHasInsideanchor!==!1,m=!!p.hasPathbar,M=Array.isArray(c)||c==="auto",w=M||c==="inside",z=M||c==="outside";if(w||z){var O=l(a,"textfont",_.font),D=S.extendFlat({},O),P=b.textfont&&b.textfont.color,F=!P;if(F&&delete D.color,l(a,"insidetextfont",D),m){var R=S.extendFlat({},O);F&&delete R.color,l(a,"pathbar.textfont",R)}z&&l(a,"outsidetextfont",O),x&&a("selected.textfont.color"),k&&a("unselected.textfont.color"),y&&a("constraintext"),A&&a("cliponaxis"),C&&a("textangle"),a("texttemplate")}w&&u&&a("insidetextanchor")}tt.exports={supplyDefaults:n,crossTraceDefaults:s,handleText:f,validateCornerradius:o}},52160:function(tt){tt.exports=function(U,t,E){return U.x="xVal"in t?t.xVal:t.x,U.y="yVal"in t?t.yVal:t.y,t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),E.orientation==="h"?(U.label=U.y,U.value=U.x):(U.label=U.x,U.value=U.y),U}},60444:function(tt,U,t){var E=t(38248),S=t(49760),i=t(3400).isArrayOrTypedArray;U.coerceString=function(L,T,v){if(typeof T=="string"){if(T||!L.noBlank)return T}else if((typeof T=="number"||T===!0)&&!L.strict)return String(T);return v!==void 0?v:L.dflt},U.coerceNumber=function(L,T,v){if(E(T)){T=+T;var d=L.min,r=L.max,e=d!==void 0&&T<d||r!==void 0&&T>r;if(!e)return T}return v!==void 0?v:L.dflt},U.coerceColor=function(L,T,v){return S(T).isValid()?T:v!==void 0?v:L.dflt},U.coerceEnumerated=function(L,T,v){return L.coerceNumber&&(T=+T),L.values.indexOf(T)!==-1?T:v!==void 0?v:L.dflt},U.getValue=function(L,T){var v;return i(L)?T<L.length&&(v=L[T]):v=L,v},U.getLineWidth=function(L,T){var v=0<T.mlw?T.mlw:i(L.marker.line.width)?0:L.marker.line.width;return v}},63400:function(tt,U,t){var E=t(93024),S=t(24040),i=t(76308),L=t(3400).fillText,T=t(60444).getLineWidth,v=t(54460).hoverLabelText,d=t(39032).BADNUM;function r(n,s,o,f,b){var h=e(n,s,o,f,b);if(h){var _=h.cd,a=_[0].trace,c=_[h.index];return h.color=l(a,c),S.getComponentMethod("errorbars","hoverInfo")(c,a,h),[h]}}function e(n,s,o,f,b){var h=n.cd,_=h[0].trace,a=h[0].t,c=f==="closest",p=_.type==="waterfall",x=n.maxHoverDistance,k=n.maxSpikeDistance,y,A,C,u,m,M,w;_.orientation==="h"?(y=o,A=s,C="y",u="x",m=nt,M=V):(y=s,A=o,C="x",u="y",M=nt,m=V);var z=_[C+"period"],O=c||z;function D(ct){return F(ct,-1)}function P(ct){return F(ct,1)}function F(ct,ft){var yt=ct.w;return ct[C]+ft*yt/2}function R(ct){return ct[C+"End"]-ct[C+"Start"]}var N=c?D:z?function(ct){return ct.p-R(ct)/2}:function(ct){return Math.min(D(ct),ct.p-a.bardelta/2)},B=c?P:z?function(ct){return ct.p+R(ct)/2}:function(ct){return Math.max(P(ct),ct.p+a.bardelta/2)};function q(ct,ft,yt){return b.finiteRange&&(yt=0),E.inbox(ct-y,ft-y,yt+Math.min(1,Math.abs(ft-ct)/w)-1)}function V(ct){return q(N(ct),B(ct),x)}function J(ct){return q(D(ct),P(ct),k)}function it(ct){var ft=ct[u];if(p){var yt=Math.abs(ct.rawS)||0;A>0?ft+=yt:A<0&&(ft-=yt)}return ft}function nt(ct){var ft=A,yt=ct.b,xt=it(ct);return E.inbox(yt-ft,xt-ft,x+(xt-ft)/(xt-yt)-1)}function Y(ct){var ft=A,yt=ct.b,xt=it(ct);return E.inbox(yt-ft,xt-ft,k+(xt-ft)/(xt-yt)-1)}var Z=n[C+"a"],$=n[u+"a"];w=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function G(ct){return(m(ct)+M(ct))/2}var rt=E.getDistanceFunction(f,m,M,G);if(E.getClosest(h,rt,n),n.index!==!1&&h[n.index].p!==d){O||(N=function(ct){return Math.min(D(ct),ct.p-a.bargroupwidth/2)},B=function(ct){return Math.max(P(ct),ct.p+a.bargroupwidth/2)});var ot=n.index,W=h[ot],H=_.base?W.b+W.s:W.s;n[u+"0"]=n[u+"1"]=$.c2p(W[u],!0),n[u+"LabelVal"]=H;var at=a.extents[a.extents.round(W.p)];n[C+"0"]=Z.c2p(c?N(W):at[0],!0),n[C+"1"]=Z.c2p(c?B(W):at[1],!0);var Q=W.orig_p!==void 0;return n[C+"LabelVal"]=Q?W.orig_p:W.p,n.labelLabel=v(Z,n[C+"LabelVal"],_[C+"hoverformat"]),n.valueLabel=v($,n[u+"LabelVal"],_[u+"hoverformat"]),n.baseLabel=v($,W.b,_[u+"hoverformat"]),n.spikeDistance=(Y(W)+J(W))/2,n[C+"Spike"]=Z.c2p(W.p,!0),L(W,_,n),n.hovertemplate=_.hovertemplate,n}}function l(n,s){var o=s.mcc||n.marker.color,f=s.mlcc||n.marker.line.color,b=T(n,s);if(i.opacity(o))return o;if(i.opacity(f)&&b)return f}tt.exports={hoverPoints:r,hoverOnBars:e,getTraceColor:l}},51132:function(tt,U,t){tt.exports={attributes:t(20832),layoutAttributes:t(39324),supplyDefaults:t(31508).supplyDefaults,crossTraceDefaults:t(31508).crossTraceDefaults,supplyLayoutDefaults:t(37156),calc:t(71820),crossTraceCalc:t(96376).crossTraceCalc,colorbar:t(5528),arraysToCalcdata:t(84664),plot:t(98184).plot,style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(63400).hoverPoints,eventData:t(52160),selectPoints:t(45784),moduleType:"trace",name:"bar",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(tt){tt.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(tt,U,t){var E=t(24040),S=t(54460),i=t(3400),L=t(39324),T=t(31508).validateCornerradius;tt.exports=function(v,d,r){function e(p,x){return i.coerce(v,d,L,p,x)}for(var l=!1,n=!1,s=!1,o={},f=e("barmode"),b=0;b<r.length;b++){var h=r[b];if(E.traceIs(h,"bar")&&h.visible)l=!0;else continue;if(f==="group"){var _=h.xaxis+h.yaxis;o[_]&&(s=!0),o[_]=!0}if(h.visible&&h.type==="histogram"){var a=S.getFromId({_fullLayout:d},h[h.orientation==="v"?"xaxis":"yaxis"]);a.type!=="category"&&(n=!0)}}if(!l){delete d.barmode;return}f!=="overlay"&&e("barnorm"),e("bargap",n&&!s?0:.2),e("bargroupgap");var c=e("barcornerradius");d.barcornerradius=T(c)}},98184:function(tt,U,t){var E=t(33428),S=t(38248),i=t(3400),L=t(72736),T=t(76308),v=t(43616),d=t(24040),r=t(54460).tickText,e=t(82744),l=e.recordMinTextSize,n=e.clearMinTextSize,s=t(60100),o=t(60444),f=t(78048),b=t(20832),h=b.text,_=b.textposition,a=t(10624).appendArrayPointValue,c=f.TEXTPAD;function p(V){return V.id}function x(V){if(V.ids)return p}function k(V){return(V>0)-(V<0)}function y(V,J){return V<J?1:-1}function A(V,J,it,nt){var Y=[],Z=[],$=nt?J:it,G=nt?it:J;return Y[0]=$.c2p(V.s0,!0),Z[0]=G.c2p(V.p0,!0),Y[1]=$.c2p(V.s1,!0),Z[1]=G.c2p(V.p1,!0),nt?[Y,Z]:[Z,Y]}function C(V,J,it,nt){if(!J.uniformtext.mode&&u(it)){var Y;return nt&&(Y=nt()),V.transition().duration(it.duration).ease(it.easing).each("end",function(){Y&&Y()}).each("interrupt",function(){Y&&Y()})}else return V}function u(V){return V&&V.duration>0}function m(V,J,it,nt,Y,Z){var $=J.xaxis,G=J.yaxis,rt=V._fullLayout,ot=V._context.staticPlot;Y||(Y={mode:rt.barmode,norm:rt.barmode,gap:rt.bargap,groupgap:rt.bargroupgap},n("bar",rt));var W=i.makeTraceGroups(nt,it,"trace bars").each(function(H){var at=E.select(this),Q=H[0].trace,ct=H[0].t,ft=Q.type==="waterfall",yt=Q.type==="funnel",xt=Q.type==="histogram",Lt=Q.type==="bar",gt=Lt||yt,mt=0;ft&&Q.connector.visible&&Q.connector.mode==="between"&&(mt=Q.connector.line.width/2);var vt=Q.orientation==="h",At=u(Y),Ot=i.ensureSingle(at,"g","points"),Pt=x(Q),Et=Ot.selectAll("g.point").data(i.identity,Pt);Et.enter().append("g").classed("point",!0),Et.exit().remove(),Et.each(function(ne,Gt){var pe=E.select(this),Vt=A(ne,$,G,vt),ae=Vt[0][0],oe=Vt[0][1],ce=Vt[1][0],le=Vt[1][1],ye=(vt?oe-ae:le-ce)===0;ye&&gt&&o.getLineWidth(Q,ne)&&(ye=!1),ye||(ye=!S(ae)||!S(oe)||!S(ce)||!S(le)),ne.isBlank=ye,ye&&(vt?oe=ae:le=ce),mt&&!ye&&(vt?(ae-=y(ae,oe)*mt,oe+=y(ae,oe)*mt):(ce-=y(ce,le)*mt,le+=y(ce,le)*mt));var Tt,Ft;if(Q.type==="waterfall"){if(!ye){var $t=Q[ne.dir].marker;Tt=$t.line.width,Ft=$t.color}}else Tt=o.getLineWidth(Q,ne),Ft=ne.mc||Q.marker.color;function Wt(ie){var he=E.round(Tt/2%1,2);return Y.gap===0&&Y.groupgap===0?E.round(Math.round(ie)-he,2):ie}function Bt(ie,he,Ae){return Ae&&ie===he?ie:Math.abs(ie-he)>=2?Wt(ie):ie>he?Math.ceil(ie):Math.floor(ie)}var Mt=T.opacity(Ft),St=Mt<1||Tt>.01?Wt:Bt;V._context.staticPlot||(ae=St(ae,oe,vt),oe=St(oe,ae,vt),ce=St(ce,le,!vt),le=St(le,ce,!vt));var Dt=vt?$.c2p:G.c2p,dt;ne.s0>0?dt=ne._sMax:ne.s0<0?dt=ne._sMin:dt=ne.s1>0?ne._sMax:ne._sMin;function ht(ie,he){if(!ie)return 0;var Ae=Math.abs(vt?le-ce:oe-ae),Ee=Math.abs(vt?oe-ae:le-ce),Fe=St(Math.abs(Dt(dt,!0)-Dt(0,!0))),Re=ne.hasB?Math.min(Ae/2,Ee/2):Math.min(Ae/2,Fe),Ce;if(he==="%"){var We=Math.min(50,ie);Ce=Ae*(We/100)}else Ce=ie;return St(Math.max(Math.min(Ce,Re),0))}var bt=Lt||xt?ht(ct.cornerradiusvalue,ct.cornerradiusform):0,zt,qt,te="M"+ae+","+ce+"V"+le+"H"+oe+"V"+ce+"Z",re=0;if(bt&&ne.s){var Ye=k(ne.s0)===0||k(ne.s)===k(ne.s0)?ne.s1:ne.s0;if(re=St(ne.hasB?0:Math.abs(Dt(dt,!0)-Dt(Ye,!0))),re<bt){var Be=y(ae,oe),ge=y(ce,le),be=Be===-ge?1:0;if(vt)if(ne.hasB)zt="M"+(ae+bt*Be)+","+ce+"A "+bt+","+bt+" 0 0 "+be+" "+ae+","+(ce+bt*ge)+"V"+(le-bt*ge)+"A "+bt+","+bt+" 0 0 "+be+" "+(ae+bt*Be)+","+le+"H"+(oe-bt*Be)+"A "+bt+","+bt+" 0 0 "+be+" "+oe+","+(le-bt*ge)+"V"+(ce+bt*ge)+"A "+bt+","+bt+" 0 0 "+be+" "+(oe-bt*Be)+","+ce+"Z";else{qt=Math.abs(oe-ae)+re;var Ne=qt<bt?bt-Math.sqrt(qt*(2*bt-qt)):0,pr=re>0?Math.sqrt(re*(2*bt-re)):0,fe=Be>0?Math.max:Math.min;zt="M"+ae+","+ce+"V"+(le-Ne*ge)+"H"+fe(oe-(bt-re)*Be,ae)+"A "+bt+","+bt+" 0 0 "+be+" "+oe+","+(le-bt*ge-pr)+"V"+(ce+bt*ge+pr)+"A "+bt+","+bt+" 0 0 "+be+" "+fe(oe-(bt-re)*Be,ae)+","+(ce+Ne*ge)+"Z"}else if(ne.hasB)zt="M"+(ae+bt*Be)+","+ce+"A "+bt+","+bt+" 0 0 "+be+" "+ae+","+(ce+bt*ge)+"V"+(le-bt*ge)+"A "+bt+","+bt+" 0 0 "+be+" "+(ae+bt*Be)+","+le+"H"+(oe-bt*Be)+"A "+bt+","+bt+" 0 0 "+be+" "+oe+","+(le-bt*ge)+"V"+(ce+bt*ge)+"A "+bt+","+bt+" 0 0 "+be+" "+(oe-bt*Be)+","+ce+"Z";else{qt=Math.abs(le-ce)+re;var De=qt<bt?bt-Math.sqrt(qt*(2*bt-qt)):0,Ge=re>0?Math.sqrt(re*(2*bt-re)):0,vr=ge>0?Math.max:Math.min;zt="M"+(ae+De*Be)+","+ce+"V"+vr(le-(bt-re)*ge,ce)+"A "+bt+","+bt+" 0 0 "+be+" "+(ae+bt*Be-Ge)+","+le+"H"+(oe-bt*Be+Ge)+"A "+bt+","+bt+" 0 0 "+be+" "+(oe-De*Be)+","+vr(le-(bt-re)*ge,ce)+"V"+ce+"Z"}}else zt=te}else zt=te;var $e=C(i.ensureSingle(pe,"path"),rt,Y,Z);if($e.style("vector-effect",ot?"none":"non-scaling-stroke").attr("d",isNaN((oe-ae)*(le-ce))||ye&&V._context.staticPlot?"M0,0Z":zt).call(v.setClipUrl,J.layerClipId,V),!rt.uniformtext.mode&&At){var Kt=v.makePointStyleFns(Q);v.singlePointStyle(ne,$e,Q,Kt,V)}M(V,J,pe,H,Gt,ae,oe,ce,le,bt,re,Y,Z),J.layerClipId&&v.hideOutsideRangePoint(ne,pe.select("text"),$,G,Q.xcalendar,Q.ycalendar)});var Nt=Q.cliponaxis===!1;v.setClipUrl(at,Nt?null:J.layerClipId,V)});d.getComponentMethod("errorbars","plot")(V,W,J,Y)}function M(V,J,it,nt,Y,Z,$,G,rt,ot,W,H,at){var Q=J.xaxis,ct=J.yaxis,ft=V._fullLayout,yt;function xt(qt,te,re){var Ye=i.ensureSingle(qt,"text").text(te).attr({class:"bartext bartext-"+yt,"text-anchor":"middle","data-notex":1}).call(v.font,re).call(L.convertToTspans,V);return Ye}var Lt=nt[0].trace,gt=Lt.orientation==="h",mt=R(ft,nt,Y,Q,ct);yt=N(Lt,Y);var vt=H.mode==="stack"||H.mode==="relative",At=nt[Y],Ot=!vt||At._outmost,Pt=At.hasB,Et=ot&&ot-W>c;if(!mt||yt==="none"||(At.isBlank||Z===$||G===rt)&&(yt==="auto"||yt==="inside")){it.select("text").remove();return}var Nt=ft.font,ne=s.getBarColor(nt[Y],Lt),Gt=s.getInsideTextFont(Lt,Y,Nt,ne),pe=s.getOutsideTextFont(Lt,Y,Nt),Vt=Lt.insidetextanchor||"end",ae=it.datum();gt?Q.type==="log"&&ae.s0<=0&&(Q.range[0]<Q.range[1]?Z=0:Z=Q._length):ct.type==="log"&&ae.s0<=0&&(ct.range[0]<ct.range[1]?G=ct._length:G=0);var oe=Math.abs($-Z),ce=Math.abs(rt-G),le=oe-2*c,ye=ce-2*c,Tt,Ft,$t,Wt,Bt;if(yt==="outside"&&!Ot&&!At.hasB&&(yt="inside"),yt==="auto")if(Ot){yt="inside",Bt=i.ensureUniformFontSize(V,Gt),Tt=xt(it,mt,Bt),Ft=v.bBox(Tt.node()),$t=Ft.width,Wt=Ft.height;var Mt=$t>0&&Wt>0,St;Et?Pt?St=w(le-2*ot,ye,$t,Wt,gt)||w(le,ye-2*ot,$t,Wt,gt):gt?St=w(le-(ot-W),ye,$t,Wt,gt)||w(le,ye-2*(ot-W),$t,Wt,gt):St=w(le,ye-(ot-W),$t,Wt,gt)||w(le-2*(ot-W),ye,$t,Wt,gt):St=w(le,ye,$t,Wt,gt),Mt&&St?yt="inside":(yt="outside",Tt.remove(),Tt=null)}else yt="inside";if(!Tt){Bt=i.ensureUniformFontSize(V,yt==="outside"?pe:Gt),Tt=xt(it,mt,Bt);var Dt=Tt.attr("transform");if(Tt.attr("transform",""),Ft=v.bBox(Tt.node()),$t=Ft.width,Wt=Ft.height,Tt.attr("transform",Dt),$t<=0||Wt<=0){Tt.remove();return}}var dt=Lt.textangle,ht,bt;yt==="outside"?(bt=Lt.constraintext==="both"||Lt.constraintext==="outside",ht=F(Z,$,G,rt,Ft,{isHorizontal:gt,constrained:bt,angle:dt})):(bt=Lt.constraintext==="both"||Lt.constraintext==="inside",ht=D(Z,$,G,rt,Ft,{isHorizontal:gt,constrained:bt,angle:dt,anchor:Vt,hasB:Pt,r:ot,overhead:W})),ht.fontSize=Bt.size,l(Lt.type==="histogram"?"bar":Lt.type,ht,ft),At.transform=ht;var zt=C(Tt,ft,H,at);i.setTransormAndDisplay(zt,ht)}function w(V,J,it,nt,Y){if(V<0||J<0)return!1;var Z=it<=V&&nt<=J,$=it<=J&&nt<=V,G=Y?V>=it*(J/nt):J>=nt*(V/it);return Z||$||G}function z(V){return V==="auto"?0:V}function O(V,J){var it=Math.PI/180*J,nt=Math.abs(Math.sin(it)),Y=Math.abs(Math.cos(it));return{x:V.width*Y+V.height*nt,y:V.width*nt+V.height*Y}}function D(V,J,it,nt,Y,Z){var $=!!Z.isHorizontal,G=!!Z.constrained,rt=Z.angle||0,ot=Z.anchor,W=ot==="end",H=ot==="start",at=Z.leftToRight||0,Q=(at+1)/2,ct=1-Q,ft=Z.hasB,yt=Z.r,xt=Z.overhead,Lt=Y.width,gt=Y.height,mt=Math.abs(J-V),vt=Math.abs(nt-it),At=mt>2*c&&vt>2*c?c:0;mt-=2*At,vt-=2*At;var Ot=z(rt);rt==="auto"&&!(Lt<=mt&&gt<=vt)&&(Lt>mt||gt>vt)&&(!(Lt>vt||gt>mt)||Lt<gt!=mt<vt)&&(Ot+=90);var Pt=O(Y,Ot),Et,Nt;if(yt&&yt-xt>c){var ne=P(V,J,it,nt,Pt,yt,xt,$,ft);Et=ne.scale,Nt=ne.pad}else Et=1,G&&(Et=Math.min(1,mt/Pt.x,vt/Pt.y)),Nt=0;var Gt=Y.left*ct+Y.right*Q,pe=(Y.top+Y.bottom)/2,Vt=(V+c)*ct+(J-c)*Q,ae=(it+nt)/2,oe=0,ce=0;if(H||W){var le=($?Pt.x:Pt.y)/2;yt&&(W||ft)&&(At+=Nt);var ye=$?y(V,J):y(it,nt);$?H?(Vt=V+ye*At,oe=-ye*le):(Vt=J-ye*At,oe=ye*le):H?(ae=it+ye*At,ce=-ye*le):(ae=nt-ye*At,ce=ye*le)}return{textX:Gt,textY:pe,targetX:Vt,targetY:ae,anchorX:oe,anchorY:ce,scale:Et,rotate:Ot}}function P(V,J,it,nt,Y,Z,$,G,rt){var ot=Math.max(0,Math.abs(J-V)-2*c),W=Math.max(0,Math.abs(nt-it)-2*c),H=Z-c,at=$?H-Math.sqrt(H*H-(H-$)*(H-$)):H,Q=rt?H*2:G?H-$:2*at,ct=rt?H*2:G?2*at:H-$,ft,yt,xt,Lt,gt;return Y.y/Y.x>=W/(ot-Q)?Lt=W/Y.y:Y.y/Y.x<=(W-ct)/ot?Lt=ot/Y.x:!rt&&G?(ft=Y.x*Y.x+Y.y*Y.y/4,yt=-2*Y.x*(ot-H)-Y.y*(W/2-H),xt=(ot-H)*(ot-H)+(W/2-H)*(W/2-H)-H*H,Lt=(-yt+Math.sqrt(yt*yt-4*ft*xt))/(2*ft)):rt?(ft=(Y.x*Y.x+Y.y*Y.y)/4,yt=-Y.x*(ot/2-H)-Y.y*(W/2-H),xt=(ot/2-H)*(ot/2-H)+(W/2-H)*(W/2-H)-H*H,Lt=(-yt+Math.sqrt(yt*yt-4*ft*xt))/(2*ft)):(ft=Y.x*Y.x/4+Y.y*Y.y,yt=-Y.x*(ot/2-H)-2*Y.y*(W-H),xt=(ot/2-H)*(ot/2-H)+(W-H)*(W-H)-H*H,Lt=(-yt+Math.sqrt(yt*yt-4*ft*xt))/(2*ft)),Lt=Math.min(1,Lt),G?gt=Math.max(0,H-Math.sqrt(Math.max(0,H*H-(H-(W-Y.y*Lt)/2)*(H-(W-Y.y*Lt)/2)))-$):gt=Math.max(0,H-Math.sqrt(Math.max(0,H*H-(H-(ot-Y.x*Lt)/2)*(H-(ot-Y.x*Lt)/2)))-$),{scale:Lt,pad:gt}}function F(V,J,it,nt,Y,Z){var $=!!Z.isHorizontal,G=!!Z.constrained,rt=Z.angle||0,ot=Y.width,W=Y.height,H=Math.abs(J-V),at=Math.abs(nt-it),Q;$?Q=at>2*c?c:0:Q=H>2*c?c:0;var ct=1;G&&(ct=$?Math.min(1,at/W):Math.min(1,H/ot));var ft=z(rt),yt=O(Y,ft),xt=($?yt.x:yt.y)/2,Lt=(Y.left+Y.right)/2,gt=(Y.top+Y.bottom)/2,mt=(V+J)/2,vt=(it+nt)/2,At=0,Ot=0,Pt=$?y(J,V):y(it,nt);return $?(mt=J-Pt*Q,At=Pt*xt):(vt=nt+Pt*Q,Ot=-Pt*xt),{textX:Lt,textY:gt,targetX:mt,targetY:vt,anchorX:At,anchorY:Ot,scale:ct,rotate:ft}}function R(V,J,it,nt,Y){var Z=J[0].trace,$=Z.texttemplate,G;return $?G=B(V,J,it,nt,Y):Z.textinfo?G=q(J,it,nt,Y):G=o.getValue(Z.text,it),o.coerceString(h,G)}function N(V,J){var it=o.getValue(V.textposition,J);return o.coerceEnumerated(_,it)}function B(V,J,it,nt,Y){var Z=J[0].trace,$=i.castOption(Z,it,"texttemplate");if(!$)return"";var G=Z.type==="histogram",rt=Z.type==="waterfall",ot=Z.type==="funnel",W=Z.orientation==="h",H,at,Q,ct;W?(H="y",at=Y,Q="x",ct=nt):(H="x",at=nt,Q="y",ct=Y);function ft(At){return r(at,at.c2l(At),!0).text}function yt(At){return r(ct,ct.c2l(At),!0).text}var xt=J[it],Lt={};Lt.label=xt.p,Lt.labelLabel=Lt[H+"Label"]=ft(xt.p);var gt=i.castOption(Z,xt.i,"text");(gt===0||gt)&&(Lt.text=gt),Lt.value=xt.s,Lt.valueLabel=Lt[Q+"Label"]=yt(xt.s);var mt={};a(mt,Z,xt.i),(G||mt.x===void 0)&&(mt.x=W?Lt.value:Lt.label),(G||mt.y===void 0)&&(mt.y=W?Lt.label:Lt.value),(G||mt.xLabel===void 0)&&(mt.xLabel=W?Lt.valueLabel:Lt.labelLabel),(G||mt.yLabel===void 0)&&(mt.yLabel=W?Lt.labelLabel:Lt.valueLabel),rt&&(Lt.delta=+xt.rawS||xt.s,Lt.deltaLabel=yt(Lt.delta),Lt.final=xt.v,Lt.finalLabel=yt(Lt.final),Lt.initial=Lt.final-Lt.delta,Lt.initialLabel=yt(Lt.initial)),ot&&(Lt.value=xt.s,Lt.valueLabel=yt(Lt.value),Lt.percentInitial=xt.begR,Lt.percentInitialLabel=i.formatPercent(xt.begR),Lt.percentPrevious=xt.difR,Lt.percentPreviousLabel=i.formatPercent(xt.difR),Lt.percentTotal=xt.sumR,Lt.percenTotalLabel=i.formatPercent(xt.sumR));var vt=i.castOption(Z,xt.i,"customdata");return vt&&(Lt.customdata=vt),i.texttemplateString($,Lt,V._d3locale,mt,Lt,Z._meta||{})}function q(V,J,it,nt){var Y=V[0].trace,Z=Y.orientation==="h",$=Y.type==="waterfall",G=Y.type==="funnel";function rt(vt){var At=Z?nt:it;return r(At,vt,!0).text}function ot(vt){var At=Z?it:nt;return r(At,+vt,!0).text}var W=Y.textinfo,H=V[J],at=W.split("+"),Q=[],ct,ft=function(vt){return at.indexOf(vt)!==-1};if(ft("label")&&Q.push(rt(V[J].p)),ft("text")&&(ct=i.castOption(Y,H.i,"text"),(ct===0||ct)&&Q.push(ct)),$){var yt=+H.rawS||H.s,xt=H.v,Lt=xt-yt;ft("initial")&&Q.push(ot(Lt)),ft("delta")&&Q.push(ot(yt)),ft("final")&&Q.push(ot(xt))}if(G){ft("value")&&Q.push(ot(H.s));var gt=0;ft("percent initial")&&gt++,ft("percent previous")&&gt++,ft("percent total")&&gt++;var mt=gt>1;ft("percent initial")&&(ct=i.formatPercent(H.begR),mt&&(ct+=" of initial"),Q.push(ct)),ft("percent previous")&&(ct=i.formatPercent(H.difR),mt&&(ct+=" of previous"),Q.push(ct)),ft("percent total")&&(ct=i.formatPercent(H.sumR),mt&&(ct+=" of total"),Q.push(ct))}return Q.join("<br>")}tt.exports={plot:m,toMoveInsideBar:D}},45784:function(tt){tt.exports=function(t,E){var S=t.cd,i=t.xaxis,L=t.yaxis,T=S[0].trace,v=T.type==="funnel",d=T.orientation==="h",r=[],e;if(E===!1)for(e=0;e<S.length;e++)S[e].selected=0;else for(e=0;e<S.length;e++){var l=S[e],n="ct"in l?l.ct:U(l,i,L,d,v);E.contains(n,!1,e,t)?(r.push({pointNumber:e,x:i.c2d(l.x),y:L.c2d(l.y)}),l.selected=1):l.selected=0}return r};function U(t,E,S,i,L){var T=E.c2p(i?t.s0:t.p0,!0),v=E.c2p(i?t.s1:t.p1,!0),d=S.c2p(i?t.p0:t.s0,!0),r=S.c2p(i?t.p1:t.s1,!0);return L?[(T+v)/2,(d+r)/2]:i?[v,(d+r)/2]:[(T+v)/2,r]}},72592:function(tt,U,t){tt.exports=S;var E=t(3400).distinctVals;function S(i,L){this.traces=i,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var T=1/0,v=L.posAxis._id.charAt(0),d=[],r=0;r<i.length;r++){for(var e=i[r],l=0;l<e.length;l++){var n=e[l],s=n.p;s===void 0&&(s=n[v]),s!==void 0&&d.push(s)}e[0]&&e[0].width1&&(T=Math.min(e[0].width1,T))}this.positions=d;var o=E(d);this.distinctPositions=o.vals,o.vals.length===1&&T!==1/0?this.minDiff=T:this.minDiff=Math.min(o.minDiff,T);var f=(L.posAxis||{}).type;(f==="category"||f==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}S.prototype.put=function(i,L){var T=this.getLabel(i,L),v=this.bins[T]||0;return this.bins[T]=v+L,v},S.prototype.get=function(i,L){var T=this.getLabel(i,L);return this.bins[T]||0},S.prototype.getLabel=function(i,L){var T=L<0&&this.sepNegVal?"v":"^",v=this.overlapNoMerge?i:Math.round(i/this.binWidth);return T+v}},60100:function(tt,U,t){var E=t(33428),S=t(76308),i=t(43616),L=t(3400),T=t(24040),v=t(82744).resizeText,d=t(20832),r=d.textfont,e=d.insidetextfont,l=d.outsidetextfont,n=t(60444);function s(A){var C=E.select(A).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(A,C,"bar");var u=C.size(),m=A._fullLayout;C.style("opacity",function(M){return M[0].trace.opacity}).each(function(M){(m.barmode==="stack"&&u>1||m.bargap===0&&m.bargroupgap===0&&!M[0].trace.marker.line.width)&&E.select(this).attr("shape-rendering","crispEdges")}),C.selectAll("g.points").each(function(M){var w=E.select(this),z=M[0].trace;o(w,z,A)}),T.getComponentMethod("errorbars","style")(C)}function o(A,C,u){i.pointStyle(A.selectAll("path"),C,u),f(A,C,u)}function f(A,C,u){A.selectAll("text").each(function(m){var M=E.select(this),w=L.ensureUniformFontSize(u,a(M,m,C,u));i.font(M,w)})}function b(A,C,u){var m=C[0].trace;m.selectedpoints?h(u,m,A):(o(u,m,A),T.getComponentMethod("errorbars","style")(u))}function h(A,C,u){i.selectedPointStyle(A.selectAll("path"),C),_(A.selectAll("text"),C,u)}function _(A,C,u){A.each(function(m){var M=E.select(this),w;if(m.selected){w=L.ensureUniformFontSize(u,a(M,m,C,u));var z=C.selected.textfont&&C.selected.textfont.color;z&&(w.color=z),i.font(M,w)}else i.selectedTextStyle(M,C)})}function a(A,C,u,m){var M=m._fullLayout.font,w=u.textfont;if(A.classed("bartext-inside")){var z=y(C,u);w=p(u,C.i,M,z)}else A.classed("bartext-outside")&&(w=x(u,C.i,M));return w}function c(A,C,u){return k(r,A.textfont,C,u)}function p(A,C,u,m){var M=c(A,C,u),w=A._input.textfont===void 0||A._input.textfont.color===void 0||Array.isArray(A.textfont.color)&&A.textfont.color[C]===void 0;return w&&(M={color:S.contrast(m),family:M.family,size:M.size,weight:M.weight,style:M.style,variant:M.variant}),k(e,A.insidetextfont,C,M)}function x(A,C,u){var m=c(A,C,u);return k(l,A.outsidetextfont,C,m)}function k(A,C,u,m){C=C||{};var M=n.getValue(C.family,u),w=n.getValue(C.size,u),z=n.getValue(C.color,u),O=n.getValue(C.weight,u),D=n.getValue(C.style,u),P=n.getValue(C.variant,u);return{family:n.coerceString(A.family,M,m.family),size:n.coerceNumber(A.size,w,m.size),color:n.coerceColor(A.color,z,m.color),weight:n.coerceString(A.weight,O,m.weight),style:n.coerceString(A.style,D,m.style),variant:n.coerceString(A.variant,P,m.variant)}}function y(A,C){return C.type==="waterfall"?C[A.dir].marker.color:A.mcc||A.mc||C.marker.color}tt.exports={style:s,styleTextPoints:f,styleOnSelect:b,getInsideTextFont:p,getOutsideTextFont:x,getBarColor:y,resizeText:v}},55592:function(tt,U,t){var E=t(76308),S=t(94288).hasColorscale,i=t(27260),L=t(3400).coercePattern;tt.exports=function(T,v,d,r,e){var l=d("marker.color",r),n=S(T,"marker");n&&i(T,v,e,d,{prefix:"marker.",cLetter:"c"}),d("marker.line.color",E.defaultLine),S(T,"marker.line")&&i(T,v,e,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width"),d("marker.opacity"),L(d,"marker.pattern",l,n),d("selected.marker.color"),d("unselected.marker.color")}},82744:function(tt,U,t){var E=t(33428),S=t(3400);function i(d,r,e){var l=d._fullLayout,n=l["_"+e+"Text_minsize"];if(n){var s=l.uniformtext.mode==="hide",o;switch(e){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}r.selectAll(o).each(function(f){var b=f.transform;if(b){b.scale=s&&b.hide?0:n/b.fontSize;var h=E.select(this).select("text");S.setTransormAndDisplay(h,b)}})}}function L(d,r,e){if(e.uniformtext.mode){var l=v(d),n=e.uniformtext.minsize,s=r.scale*r.fontSize;r.hide=s<n,e[l]=e[l]||1/0,r.hide||(e[l]=Math.min(e[l],Math.max(s,n)))}}function T(d,r){var e=v(d);r[e]=void 0}function v(d){return"_"+d+"Text_minsize"}tt.exports={recordMinTextSize:L,clearMinTextSize:T,resizeText:i}},78100:function(tt,U,t){var E=t(21776).Ks,S=t(92880).extendFlat,i=t(8319),L=t(20832);tt.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:S({},L.base,{}),offset:S({},L.offset,{}),width:S({},L.width,{}),text:S({},L.text,{}),hovertext:S({},L.hovertext,{}),marker:T(),hoverinfo:i.hoverinfo,hovertemplate:E(),selected:L.selected,unselected:L.unselected};function T(){var v=S({},L.marker);return delete v.cornerradius,v}},47056:function(tt,U,t){var E=t(94288).hasColorscale,S=t(47128),i=t(3400).isArrayOrTypedArray,L=t(84664),T=t(96376).setGroupPositions,v=t(4500),d=t(24040).traceIs,r=t(3400).extendFlat;function e(n,s){for(var o=n._fullLayout,f=s.subplot,b=o[f].radialaxis,h=o[f].angularaxis,_=b.makeCalcdata(s,"r"),a=h.makeCalcdata(s,"theta"),c=s._length,p=new Array(c),x=_,k=a,y=0;y<c;y++)p[y]={p:k[y],s:x[y]};function A(C){var u=s[C];u!==void 0&&(s["_"+C]=i(u)?h.makeCalcdata(s,C):h.d2c(u,s.thetaunit))}return h.type==="linear"&&(A("width"),A("offset")),E(s,"marker")&&S(n,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),E(s,"marker.line")&&S(n,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(p,s),v(p,s),p}function l(n,s,o){for(var f=n.calcdata,b=[],h=0;h<f.length;h++){var _=f[h],a=_[0].trace;a.visible===!0&&d(a,"bar")&&a.subplot===o&&b.push(_)}var c=r({},s.radialaxis,{_id:"x"}),p=s.angularaxis;T(n,p,c,b,{mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap})}tt.exports={calc:e,crossTraceCalc:l}},70384:function(tt,U,t){var E=t(3400),S=t(85968).handleRThetaDefaults,i=t(55592),L=t(78100);tt.exports=function(T,v,d,r){function e(n,s){return E.coerce(T,v,L,n,s)}var l=S(T,v,r,e);if(!l){v.visible=!1;return}e("thetaunit"),e("base"),e("offset"),e("width"),e("text"),e("hovertext"),e("hovertemplate"),i(T,v,e,d,r),E.coerceSelectionMarkerOpacity(v,e)}},68896:function(tt,U,t){var E=t(93024),S=t(3400),i=t(63400).getTraceColor,L=S.fillText,T=t(8504).makeHoverPointText,v=t(57384).isPtInsidePolygon;tt.exports=function(d,r,e){var l=d.cd,n=l[0].trace,s=d.subplot,o=s.radialAxis,f=s.angularAxis,b=s.vangles,h=b?v:S.isPtInsideSector,_=d.maxHoverDistance,a=f._period||2*Math.PI,c=Math.abs(o.g2p(Math.sqrt(r*r+e*e))),p=Math.atan2(e,r);o.range[0]>o.range[1]&&(p+=Math.PI);var x=function(C){return h(c,p,[C.rp0,C.rp1],[C.thetag0,C.thetag1],b)?_+Math.min(1,Math.abs(C.thetag1-C.thetag0)/a)-1+(C.rp1-c)/(C.rp1-C.rp0)-1:1/0};if(E.getClosest(l,x,d),d.index!==!1){var k=d.index,y=l[k];d.x0=d.x1=y.ct[0],d.y0=d.y1=y.ct[1];var A=S.extendFlat({},y,{r:y.s,theta:y.p});return L(y,n,d),T(A,n,s,d),d.hovertemplate=n.hovertemplate,d.color=i(n,y),d.xLabelVal=d.yLabelVal=void 0,y.s<0&&(d.idealAlign="left"),[d]}}},94456:function(tt,U,t){tt.exports={moduleType:"trace",name:"barpolar",basePlotModule:t(40872),categories:["polar","bar","showLegend"],attributes:t(78100),layoutAttributes:t(9320),supplyDefaults:t(70384),supplyLayoutDefaults:t(89580),calc:t(47056).calc,crossTraceCalc:t(47056).crossTraceCalc,plot:t(42040),colorbar:t(5528),formatLabels:t(22852),style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(68896),selectPoints:t(45784),meta:{}}},9320:function(tt){tt.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(tt,U,t){var E=t(3400),S=t(9320);tt.exports=function(i,L,T){var v={},d;function r(n,s){return E.coerce(i[d]||{},L[d],S,n,s)}for(var e=0;e<T.length;e++){var l=T[e];l.type==="barpolar"&&l.visible===!0&&(d=l.subplot,v[d]||(r("barmode"),r("bargap"),v[d]=1))}}},42040:function(tt,U,t){var E=t(33428),S=t(38248),i=t(3400),L=t(43616),T=t(57384);tt.exports=function(d,r,e){var l=d._context.staticPlot,n=r.xaxis,s=r.yaxis,o=r.radialAxis,f=r.angularAxis,b=v(r),h=r.layers.frontplot.select("g.barlayer");i.makeTraceGroups(h,e,"trace bars").each(function(){var _=E.select(this),a=i.ensureSingle(_,"g","points"),c=a.selectAll("g.point").data(i.identity);c.enter().append("g").style("vector-effect",l?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),c.exit().remove(),c.each(function(p){var x=E.select(this),k=p.rp0=o.c2p(p.s0),y=p.rp1=o.c2p(p.s1),A=p.thetag0=f.c2g(p.p0),C=p.thetag1=f.c2g(p.p1),u;if(!S(k)||!S(y)||!S(A)||!S(C)||k===y||A===C)u="M0,0Z";else{var m=o.c2g(p.s1),M=(A+C)/2;p.ct=[n.c2p(m*Math.cos(M)),s.c2p(m*Math.sin(M))],u=b(k,y,A,C)}i.ensureSingle(x,"path").attr("d",u)}),L.setClipUrl(_,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,d)})};function v(d){var r=d.cxx,e=d.cyy;return d.vangles?function(l,n,s,o){var f,b;i.angleDelta(s,o)>0?(f=s,b=o):(f=o,b=s);var h=T.findEnclosingVertexAngles(f,d.vangles)[0],_=T.findEnclosingVertexAngles(b,d.vangles)[1],a=[h,(f+b)/2,_];return T.pathPolygonAnnulus(l,n,f,b,a,r,e)}:function(l,n,s,o){return i.pathAnnulus(l,n,s,o,r,e)}}},63188:function(tt,U,t){var E=t(98304),S=t(52904),i=t(20832),L=t(22548),T=t(29736).axisHoverFormat,v=t(21776).Ks,d=t(92880).extendFlat,r=S.marker,e=r.line;tt.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:d({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:d({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:d({},r.angle,{arrayOk:!1,editType:"calc"}),size:d({},r.size,{arrayOk:!1,editType:"calc"}),color:d({},r.color,{arrayOk:!1,editType:"style"}),line:{color:d({},e.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:d({},e.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:E(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:S.selected.marker,editType:"style"},unselected:{marker:S.unselected.marker,editType:"style"},text:d({},S.text,{}),hovertext:d({},S.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:S.zorder}},62555:function(tt,U,t){var E=t(38248),S=t(54460),i=t(1220),L=t(3400),T=t(39032).BADNUM,v=L._;tt.exports=function(p,x){var k=p._fullLayout,y=S.getFromId(p,x.xaxis||"x"),A=S.getFromId(p,x.yaxis||"y"),C=[],u=x.type==="violin"?"_numViolins":"_numBoxes",m,M,w,z,O,D,P;x.orientation==="h"?(w=y,z="x",O=A,D="y",P=!!x.yperiodalignment):(w=A,z="y",O=y,D="x",P=!!x.xperiodalignment);var F=d(x,D,O,k[u]),R=F[0],N=F[1],B=L.distinctVals(R,O),q=B.vals,V=B.minDiff/2,J,it,nt,Y,Z,$,G=(x.boxpoints||x.points)==="all"?L.identity:function(le){return le.v<J.lf||le.v>J.uf};if(x._hasPreCompStats){var rt=x[z],ot=function(le){return w.d2c((x[le]||[])[m])},W=1/0,H=-1/0;for(m=0;m<x._length;m++){var at=R[m];if(E(at)){if(J={},J.pos=J[D]=at,P&&N&&(J.orig_p=N[m]),J.q1=ot("q1"),J.med=ot("median"),J.q3=ot("q3"),it=[],rt&&L.isArrayOrTypedArray(rt[m]))for(M=0;M<rt[m].length;M++)$=w.d2c(rt[m][M]),$!==T&&(Z={v:$,i:[m,M]},n(Z,x,[m,M]),it.push(Z));if(J.pts=it.sort(o),nt=J[z]=it.map(f),Y=nt.length,J.med!==T&&J.q1!==T&&J.q3!==T&&J.med>=J.q1&&J.q3>=J.med){var Q=ot("lowerfence");J.lf=Q!==T&&Q<=J.q1?Q:b(J,nt,Y);var ct=ot("upperfence");J.uf=ct!==T&&ct>=J.q3?ct:h(J,nt,Y);var ft=ot("mean");J.mean=ft!==T?ft:Y?L.mean(nt,Y):(J.q1+J.q3)/2;var yt=ot("sd");J.sd=ft!==T&&yt>=0?yt:Y?L.stdev(nt,Y,J.mean):J.q3-J.q1,J.lo=_(J),J.uo=a(J);var xt=ot("notchspan");xt=xt!==T&&xt>0?xt:c(J,Y),J.ln=J.med-xt,J.un=J.med+xt;var Lt=J.lf,gt=J.uf;x.boxpoints&&nt.length&&(Lt=Math.min(Lt,nt[0]),gt=Math.max(gt,nt[Y-1])),x.notched&&(Lt=Math.min(Lt,J.ln),gt=Math.max(gt,J.un)),J.min=Lt,J.max=gt}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+J.q1,"median = "+J.med,"q3 = "+J.q3].join(`
`));var mt;J.med!==T?mt=J.med:J.q1!==T?J.q3!==T?mt=(J.q1+J.q3)/2:mt=J.q1:J.q3!==T?mt=J.q3:mt=0,J.med=mt,J.q1=J.q3=mt,J.lf=J.uf=mt,J.mean=J.sd=mt,J.ln=J.un=mt,J.min=J.max=mt}W=Math.min(W,J.min),H=Math.max(H,J.max),J.pts2=it.filter(G),C.push(J)}}x._extremes[w._id]=S.findExtremes(w,[W,H],{padded:!0})}else{var vt=w.makeCalcdata(x,z),At=r(q,V),Ot=q.length,Pt=e(Ot);for(m=0;m<x._length;m++)if($=vt[m],!!E($)){var Et=L.findBin(R[m],At);Et>=0&&Et<Ot&&(Z={v:$,i:m},n(Z,x,m),Pt[Et].push(Z))}var Nt=1/0,ne=-1/0,Gt=x.quartilemethod,pe=Gt==="exclusive",Vt=Gt==="inclusive";for(m=0;m<Ot;m++)if(Pt[m].length>0){if(J={},J.pos=J[D]=q[m],it=J.pts=Pt[m].sort(o),nt=J[z]=it.map(f),Y=nt.length,J.min=nt[0],J.max=nt[Y-1],J.mean=L.mean(nt,Y),J.sd=L.stdev(nt,Y,J.mean)*x.sdmultiple,J.med=L.interp(nt,.5),Y%2&&(pe||Vt)){var ae,oe;pe?(ae=nt.slice(0,Y/2),oe=nt.slice(Y/2+1)):Vt&&(ae=nt.slice(0,Y/2+1),oe=nt.slice(Y/2)),J.q1=L.interp(ae,.5),J.q3=L.interp(oe,.5)}else J.q1=L.interp(nt,.25),J.q3=L.interp(nt,.75);J.lf=b(J,nt,Y),J.uf=h(J,nt,Y),J.lo=_(J),J.uo=a(J);var ce=c(J,Y);J.ln=J.med-ce,J.un=J.med+ce,Nt=Math.min(Nt,J.ln),ne=Math.max(ne,J.un),J.pts2=it.filter(G),C.push(J)}x.notched&&L.isTypedArray(vt)&&(vt=Array.from(vt)),x._extremes[w._id]=S.findExtremes(w,x.notched?vt.concat([Nt,ne]):vt,{padded:!0})}return s(C,x),C.length>0?(C[0].t={num:k[u],dPos:V,posLetter:D,valLetter:z,labels:{med:v(p,"median:"),min:v(p,"min:"),q1:v(p,"q1:"),q3:v(p,"q3:"),max:v(p,"max:"),mean:x.boxmean==="sd"||x.sizemode==="sd"?v(p,"mean \xB1 \u03C3:").replace("\u03C3",x.sdmultiple===1?"\u03C3":x.sdmultiple+"\u03C3"):v(p,"mean:"),lf:v(p,"lower fence:"),uf:v(p,"upper fence:")}},k[u]++,C):[{t:{empty:!0}}]};function d(p,x,k,y){var A=x in p,C=x+"0"in p,u="d"+x in p;if(A||C&&u){var m=k.makeCalcdata(p,x),M=i(p,k,x,m).vals;return[M,m]}var w;C?w=p[x+"0"]:"name"in p&&(k.type==="category"||E(p.name)&&["linear","log"].indexOf(k.type)!==-1||L.isDateTime(p.name)&&k.type==="date")?w=p.name:w=y;for(var z=k.type==="multicategory"?k.r2c_just_indices(w):k.d2c(w,0,p[x+"calendar"]),O=p._length,D=new Array(O),P=0;P<O;P++)D[P]=z;return[D]}function r(p,x){for(var k=p.length,y=new Array(k+1),A=0;A<k;A++)y[A]=p[A]-x;return y[k]=p[k-1]+x,y}function e(p){for(var x=new Array(p),k=0;k<p;k++)x[k]=[];return x}var l={text:"tx",hovertext:"htx"};function n(p,x,k){for(var y in l)L.isArrayOrTypedArray(x[y])&&(Array.isArray(k)?L.isArrayOrTypedArray(x[y][k[0]])&&(p[l[y]]=x[y][k[0]][k[1]]):p[l[y]]=x[y][k])}function s(p,x){if(L.isArrayOrTypedArray(x.selectedpoints))for(var k=0;k<p.length;k++){for(var y=p[k].pts||[],A={},C=0;C<y.length;C++)A[y[C].i]=C;L.tagSelected(y,x,A)}}function o(p,x){return p.v-x.v}function f(p){return p.v}function b(p,x,k){return k===0?p.q1:Math.min(p.q1,x[Math.min(L.findBin(2.5*p.q1-1.5*p.q3,x,!0)+1,k-1)])}function h(p,x,k){return k===0?p.q3:Math.max(p.q3,x[Math.max(L.findBin(2.5*p.q3-1.5*p.q1,x),0)])}function _(p){return 4*p.q1-3*p.q3}function a(p){return 4*p.q3-3*p.q1}function c(p,x){return x===0?0:1.57*(p.q3-p.q1)/Math.sqrt(x)}},96404:function(tt,U,t){var E=t(54460),S=t(3400),i=t(71888).getAxisGroup,L=["v","h"];function T(d,r){for(var e=d.calcdata,l=r.xaxis,n=r.yaxis,s=0;s<L.length;s++){for(var o=L[s],f=o==="h"?n:l,b=[],h=0;h<e.length;h++){var _=e[h],a=_[0].t,c=_[0].trace;c.visible===!0&&(c.type==="box"||c.type==="candlestick")&&!a.empty&&(c.orientation||"v")===o&&c.xaxis===l._id&&c.yaxis===n._id&&b.push(h)}v("box",d,b,f)}}function v(d,r,e,l){var n=r.calcdata,s=r._fullLayout,o=l._id,f=o.charAt(0),b,h,_,a=[],c=0;for(b=0;b<e.length;b++)for(_=n[e[b]],h=0;h<_.length;h++)a.push(l.c2l(_[h].pos,!0)),c+=(_[h].pts2||[]).length;if(a.length){var p=S.distinctVals(a);(l.type==="category"||l.type==="multicategory")&&(p.minDiff=1);var x=p.minDiff/2;E.minDtick(l,p.minDiff,p.vals[0],!0);var k=d==="violin"?"_numViolins":"_numBoxes",y=s[k],A=s[d+"mode"]==="group"&&y>1,C=1-s[d+"gap"],u=1-s[d+"groupgap"];for(b=0;b<e.length;b++){_=n[e[b]];var m=_[0].trace,M=_[0].t,w=m.width,z=m.side,O,D,P,F;if(w)O=D=F=w/2,P=0;else if(O=x,A){var R=i(s,l._id)+m.orientation,N=s._alignmentOpts[R]||{},B=N[m.alignmentgroup]||{},q=Object.keys(B.offsetGroups||{}).length,V=q||y,J=q?m._offsetIndex:M.num;D=O*C*u/V,P=2*O*(-.5+(J+.5)/V)*C,F=O*C/V}else D=O*C*u,P=0,F=O;M.dPos=O,M.bPos=P,M.bdPos=D,M.wHover=F;var it,nt,Y=P+D,Z,$,G,rt,ot,W,H=!!w,at=(m.boxpoints||m.points)&&c>0;if(z==="positive"?(it=O*(w?1:.5),Z=Y,nt=Z=P):z==="negative"?(it=Z=P,nt=O*(w?1:.5),$=Y):(it=nt=O,Z=$=Y),at){var Q=m.pointpos,ct=m.jitter,ft=m.marker.size/2,yt=0;Q+ct>=0&&(yt=Y*(Q+ct),yt>it?(H=!0,ot=ft,G=yt):yt>Z&&(ot=ft,G=it)),yt<=it&&(G=it);var xt=0;Q-ct<=0&&(xt=-Y*(Q-ct),xt>nt?(H=!0,W=ft,rt=xt):xt>$&&(W=ft,rt=nt)),xt<=nt&&(rt=nt)}else G=it,rt=nt;var Lt=new Array(_.length);for(h=0;h<_.length;h++)Lt[h]=_[h].pos;m._extremes[o]=E.findExtremes(l,Lt,{padded:H,vpadminus:rt,vpadplus:G,vpadLinearized:!0,ppadminus:{x:W,y:ot}[f],ppadplus:{x:ot,y:W}[f]})}}}tt.exports={crossTraceCalc:T,setPositionOffset:v}},90624:function(tt,U,t){var E=t(3400),S=t(24040),i=t(76308),L=t(31147),T=t(20011),v=t(52976),d=t(63188);function r(s,o,f,b){function h(u,m){return E.coerce(s,o,d,u,m)}if(e(s,o,h,b),o.visible!==!1){L(s,o,b,h),h("xhoverformat"),h("yhoverformat");var _=o._hasPreCompStats;_&&(h("lowerfence"),h("upperfence")),h("line.color",(s.marker||{}).color||f),h("line.width"),h("fillcolor",i.addOpacity(o.line.color,.5));var a=!1;if(_){var c=h("mean"),p=h("sd");c&&c.length&&(a=!0,p&&p.length&&(a="sd"))}h("whiskerwidth");var x=h("sizemode"),k;x==="quartiles"&&(k=h("boxmean",a)),h("showwhiskers",x==="quartiles"),(x==="sd"||k==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var y=!1;if(_){var A=h("notchspan");A&&A.length&&(y=!0)}else E.validate(s.notchwidth,d.notchwidth)&&(y=!0);var C=h("notched",y);C&&h("notchwidth"),l(s,o,h,{prefix:"box"}),h("zorder")}}function e(s,o,f,b){function h(q){var V=0;return q&&q.length&&(V+=1,E.isArrayOrTypedArray(q[0])&&q[0].length&&(V+=1)),V}function _(q){return E.validate(s[q],d[q])}var a=f("y"),c=f("x"),p;if(o.type==="box"){var x=f("q1"),k=f("median"),y=f("q3");o._hasPreCompStats=x&&x.length&&k&&k.length&&y&&y.length,p=Math.min(E.minRowLength(x),E.minRowLength(k),E.minRowLength(y))}var A=h(a),C=h(c),u=A&&E.minRowLength(a),m=C&&E.minRowLength(c),M=b.calendar,w={autotypenumbers:b.autotypenumbers},z,O;if(o._hasPreCompStats)switch(String(C)+String(A)){case"00":var D=_("x0")||_("dx"),P=_("y0")||_("dy");P&&!D?z="h":z="v",O=p;break;case"10":z="v",O=Math.min(p,m);break;case"20":z="h",O=Math.min(p,c.length);break;case"01":z="h",O=Math.min(p,u);break;case"02":z="v",O=Math.min(p,a.length);break;case"12":z="v",O=Math.min(p,m,a.length);break;case"21":z="h",O=Math.min(p,c.length,u);break;case"11":O=0;break;case"22":var F=!1,R;for(R=0;R<c.length;R++)if(v(c[R],M,w)==="category"){F=!0;break}if(F)z="v",O=Math.min(p,m,a.length);else{for(R=0;R<a.length;R++)if(v(a[R],M,w)==="category"){F=!0;break}F?(z="h",O=Math.min(p,c.length,u)):(z="v",O=Math.min(p,m,a.length))}break}else A>0?(z="v",C>0?O=Math.min(m,u):O=Math.min(u)):C>0?(z="h",O=Math.min(m)):O=0;if(!O){o.visible=!1;return}o._length=O;var N=f("orientation",z);o._hasPreCompStats?N==="v"&&C===0?(f("x0",0),f("dx",1)):N==="h"&&A===0&&(f("y0",0),f("dy",1)):N==="v"&&C===0?f("x0"):N==="h"&&A===0&&f("y0");var B=S.getComponentMethod("calendars","handleTraceDefaults");B(s,o,["x","y"],b)}function l(s,o,f,b){var h=b.prefix,_=E.coerce2(s,o,d,"marker.outliercolor"),a=f("marker.line.outliercolor"),c="outliers";o._hasPreCompStats?c="all":(_||a)&&(c="suspectedoutliers");var p=f(h+"points",c);p?(f("jitter",p==="all"?.3:0),f("pointpos",p==="all"?-1.5:0),f("marker.symbol"),f("marker.opacity"),f("marker.size"),f("marker.angle"),f("marker.color",o.line.color),f("marker.line.color"),f("marker.line.width"),p==="suspectedoutliers"&&(f("marker.line.outliercolor",o.marker.color),f("marker.line.outlierwidth")),f("selected.marker.color"),f("unselected.marker.color"),f("selected.marker.size"),f("unselected.marker.size"),f("text"),f("hovertext")):delete o.marker;var x=f("hoveron");(x==="all"||x.indexOf("points")!==-1)&&f("hovertemplate"),E.coerceSelectionMarkerOpacity(o,f)}function n(s,o){var f,b;function h(c){return E.coerce(b._input,b,d,c)}for(var _=0;_<s.length;_++){b=s[_];var a=b.type;(a==="box"||a==="violin")&&(f=b._input,o[a+"mode"]==="group"&&T(f,b,o,h))}}tt.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:e,handlePointsDefaults:l}},10392:function(tt){tt.exports=function(U,t){return t.hoverOnBox&&(U.hoverOnBox=t.hoverOnBox),"xVal"in t&&(U.x=t.xVal),"yVal"in t&&(U.y=t.yVal),t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),U}},27576:function(tt,U,t){var E=t(54460),S=t(3400),i=t(93024),L=t(76308),T=S.fillText;function v(e,l,n,s){var o=e.cd,f=o[0].trace,b=f.hoveron,h=[],_;return b.indexOf("boxes")!==-1&&(h=h.concat(d(e,l,n,s))),b.indexOf("points")!==-1&&(_=r(e,l,n)),s==="closest"?_?[_]:h:(_&&h.push(_),h)}function d(e,l,n,s){var o=e.cd,f=e.xa,b=e.ya,h=o[0].trace,_=o[0].t,a=h.type==="violin",c,p,x,k,y,A,C,u,m,M,w,z=_.bdPos,O,D,P=_.wHover,F=function(xt){return x.c2l(xt.pos)+_.bPos-x.c2l(A)};a&&h.side!=="both"?(h.side==="positive"&&(m=function(xt){var Lt=F(xt);return i.inbox(Lt,Lt+P,M)},O=z,D=0),h.side==="negative"&&(m=function(xt){var Lt=F(xt);return i.inbox(Lt-P,Lt,M)},O=0,D=z)):(m=function(xt){var Lt=F(xt);return i.inbox(Lt-P,Lt+P,M)},O=D=z);var R;a?R=function(xt){return i.inbox(xt.span[0]-y,xt.span[1]-y,M)}:R=function(xt){return i.inbox(xt.min-y,xt.max-y,M)},h.orientation==="h"?(y=l,A=n,C=R,u=m,c="y",x=b,p="x",k=f):(y=n,A=l,C=m,u=R,c="x",x=f,p="y",k=b);var N=Math.min(1,z/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));M=e.maxHoverDistance-N,w=e.maxSpikeDistance-N;function B(xt){return(C(xt)+u(xt))/2}var q=i.getDistanceFunction(s,C,u,B);if(i.getClosest(o,q,e),e.index===!1)return[];var V=o[e.index],J=h.line.color,it=(h.marker||{}).color;L.opacity(J)&&h.line.width?e.color=J:L.opacity(it)&&h.boxpoints?e.color=it:e.color=h.fillcolor,e[c+"0"]=x.c2p(V.pos+_.bPos-D,!0),e[c+"1"]=x.c2p(V.pos+_.bPos+O,!0),e[c+"LabelVal"]=V.orig_p!==void 0?V.orig_p:V.pos;var nt=c+"Spike";e.spikeDistance=B(V)*w/M,e[nt]=x.c2p(V.pos,!0);var Y=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Z=h.boxpoints||h.points,$=Z&&Y?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!Y?["max","uf","q3","med","q1","lf","min"]:!Z&&Y?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],G=k.range[1]<k.range[0];h.orientation===(G?"v":"h")&&$.reverse();for(var rt=e.spikeDistance,ot=e[nt],W=[],H=0;H<$.length;H++){var at=$[H];if(at in V){var Q=V[at],ct=k.c2p(Q,!0),ft=S.extendFlat({},e);ft.attr=at,ft[p+"0"]=ft[p+"1"]=ct,ft[p+"LabelVal"]=Q,ft[p+"Label"]=(_.labels?_.labels[at]+" ":"")+E.hoverLabelText(k,Q,h[p+"hoverformat"]),ft.hoverOnBox=!0,at==="mean"&&"sd"in V&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ft[p+"err"]=V.sd),ft.hovertemplate=!1,W.push(ft)}}e.name="",e.spikeDistance=void 0,e[nt]=void 0;for(var yt=0;yt<W.length;yt++)W[yt].attr!=="med"?(W[yt].name="",W[yt].spikeDistance=void 0,W[yt][nt]=void 0):(W[yt].spikeDistance=rt,W[yt][nt]=ot);return W}function r(e,l,n){for(var s=e.cd,o=e.xa,f=e.ya,b=s[0].trace,h=o.c2p(l),_=f.c2p(n),a,c=function(R){var N=Math.max(3,R.mrc||0);return Math.max(Math.abs(o.c2p(R.x)-h)-N,1-3/N)},p=function(R){var N=Math.max(3,R.mrc||0);return Math.max(Math.abs(f.c2p(R.y)-_)-N,1-3/N)},x=i.quadrature(c,p),k=!1,y,A,C=0;C<s.length;C++){y=s[C];for(var u=0;u<(y.pts||[]).length;u++){A=y.pts[u];var m=x(A);m<=e.distance&&(e.distance=m,k=[C,u])}}if(!k)return!1;y=s[k[0]],A=y.pts[k[1]];var M=o.c2p(A.x,!0),w=f.c2p(A.y,!0),z=A.mrc||1;a=S.extendFlat({},e,{index:A.i,color:(b.marker||{}).color,name:b.name,x0:M-z,x1:M+z,y0:w-z,y1:w+z,spikeDistance:e.distance,hovertemplate:b.hovertemplate});var O=y.orig_p,D=O!==void 0?O:y.pos,P;b.orientation==="h"?(P=f,a.xLabelVal=A.x,a.yLabelVal=D):(P=o,a.xLabelVal=D,a.yLabelVal=A.y);var F=P._id.charAt(0);return a[F+"Spike"]=P.c2p(y.pos,!0),T(A,b,a),a}tt.exports={hoverPoints:v,hoverOnBoxes:d,hoverOnPoints:r}},67244:function(tt,U,t){tt.exports={attributes:t(63188),layoutAttributes:t(16560),supplyDefaults:t(90624).supplyDefaults,crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(68832).supplyLayoutDefaults,calc:t(62555),crossTraceCalc:t(96404).crossTraceCalc,plot:t(18728).plot,style:t(25776).style,styleOnSelect:t(25776).styleOnSelect,hoverPoints:t(27576).hoverPoints,eventData:t(10392),selectPoints:t(8264),moduleType:"trace",name:"box",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(tt){tt.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(tt,U,t){var E=t(24040),S=t(3400),i=t(16560);function L(v,d,r,e,l){for(var n=l+"Layout",s=!1,o=0;o<r.length;o++){var f=r[o];if(E.traceIs(f,n)){s=!0;break}}s&&(e(l+"mode"),e(l+"gap"),e(l+"groupgap"))}function T(v,d,r){function e(l,n){return S.coerce(v,d,i,l,n)}L(v,d,r,e,"box")}tt.exports={supplyLayoutDefaults:T,_supply:L}},18728:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=5,T=.01;function v(l,n,s,o){var f=l._context.staticPlot,b=n.xaxis,h=n.yaxis;S.makeTraceGroups(o,s,"trace boxes").each(function(_){var a=E.select(this),c=_[0],p=c.t,x=c.trace;if(p.wdPos=p.bdPos*x.whiskerwidth,x.visible!==!0||p.empty){a.remove();return}var k,y;x.orientation==="h"?(k=h,y=b):(k=b,y=h),d(a,{pos:k,val:y},x,p,f),r(a,{x:b,y:h},x,p),e(a,{pos:k,val:y},x,p)})}function d(l,n,s,o,f){var b=s.orientation==="h",h=n.val,_=n.pos,a=!!_.rangebreaks,c=o.bPos,p=o.wdPos||0,x=o.bPosPxOffset||0,k=s.whiskerwidth||0,y=s.showwhiskers!==!1,A=s.notched||!1,C=A?1-2*s.notchwidth:1,u,m;Array.isArray(o.bdPos)?(u=o.bdPos[0],m=o.bdPos[1]):(u=o.bdPos,m=o.bdPos);var M=l.selectAll("path.box").data(s.type!=="violin"||s.box.visible?S.identity:[]);M.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","box"),M.exit().remove(),M.each(function(w){if(w.empty)return E.select(this).attr("d","M0,0Z");var z=_.c2l(w.pos+c,!0),O=_.l2p(z-u)+x,D=_.l2p(z+m)+x,P=a?(O+D)/2:_.l2p(z)+x,F=s.whiskerwidth,R=a?O*F+(1-F)*P:_.l2p(z-p)+x,N=a?D*F+(1-F)*P:_.l2p(z+p)+x,B=_.l2p(z-u*C)+x,q=_.l2p(z+m*C)+x,V=s.sizemode==="sd",J=h.c2p(V?w.mean-w.sd:w.q1,!0),it=V?h.c2p(w.mean+w.sd,!0):h.c2p(w.q3,!0),nt=S.constrain(V?h.c2p(w.mean,!0):h.c2p(w.med,!0),Math.min(J,it)+1,Math.max(J,it)-1),Y=w.lf===void 0||s.boxpoints===!1||V,Z=h.c2p(Y?w.min:w.lf,!0),$=h.c2p(Y?w.max:w.uf,!0),G=h.c2p(w.ln,!0),rt=h.c2p(w.un,!0);b?E.select(this).attr("d","M"+nt+","+B+"V"+q+"M"+J+","+O+"V"+D+(A?"H"+G+"L"+nt+","+q+"L"+rt+","+D:"")+"H"+it+"V"+O+(A?"H"+rt+"L"+nt+","+B+"L"+G+","+O:"")+"Z"+(y?"M"+J+","+P+"H"+Z+"M"+it+","+P+"H"+$+(k===0?"":"M"+Z+","+R+"V"+N+"M"+$+","+R+"V"+N):"")):E.select(this).attr("d","M"+B+","+nt+"H"+q+"M"+O+","+J+"H"+D+(A?"V"+G+"L"+q+","+nt+"L"+D+","+rt:"")+"V"+it+"H"+O+(A?"V"+rt+"L"+B+","+nt+"L"+O+","+G:"")+"Z"+(y?"M"+P+","+J+"V"+Z+"M"+P+","+it+"V"+$+(k===0?"":"M"+R+","+Z+"H"+N+"M"+R+","+$+"H"+N):""))})}function r(l,n,s,o){var f=n.x,b=n.y,h=o.bdPos,_=o.bPos,a=s.boxpoints||s.points;S.seedPseudoRandom();var c=function(k){return k.forEach(function(y){y.t=o,y.trace=s}),k},p=l.selectAll("g.points").data(a?c:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var x=p.selectAll("path").data(function(k){var y,A=k.pts2,C=Math.max((k.max-k.min)/10,k.q3-k.q1),u=C*1e-9,m=C*T,M=[],w=0,z;if(s.jitter){if(C===0)for(w=1,M=new Array(A.length),y=0;y<A.length;y++)M[y]=1;else for(y=0;y<A.length;y++){var O=Math.max(0,y-L),D=A[O].v,P=Math.min(A.length-1,y+L),F=A[P].v;a!=="all"&&(A[y].v<k.lf?F=Math.min(F,k.lf):D=Math.max(D,k.uf));var R=Math.sqrt(m*(P-O)/(F-D+u))||0;R=S.constrain(Math.abs(R),0,1),M.push(R),w=Math.max(R,w)}z=s.jitter*2/(w||1)}for(y=0;y<A.length;y++){var N=A[y],B=N.v,q=s.jitter?z*M[y]*(S.pseudoRandom()-.5):0,V=k.pos+_+h*(s.pointpos+q);s.orientation==="h"?(N.y=V,N.x=B):(N.x=V,N.y=B),a==="suspectedoutliers"&&B<k.uo&&B>k.lo&&(N.so=!0)}return A});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(i.translatePoints,f,b)}function e(l,n,s,o){var f=n.val,b=n.pos,h=!!b.rangebreaks,_=o.bPos,a=o.bPosPxOffset||0,c=s.boxmean||(s.meanline||{}).visible,p,x;Array.isArray(o.bdPos)?(p=o.bdPos[0],x=o.bdPos[1]):(p=o.bdPos,x=o.bdPos);var k=l.selectAll("path.mean").data(s.type==="box"&&s.boxmean||s.type==="violin"&&s.box.visible&&s.meanline.visible?S.identity:[]);k.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),k.exit().remove(),k.each(function(y){var A=b.c2l(y.pos+_,!0),C=b.l2p(A-p)+a,u=b.l2p(A+x)+a,m=h?(C+u)/2:b.l2p(A)+a,M=f.c2p(y.mean,!0),w=f.c2p(y.mean-y.sd,!0),z=f.c2p(y.mean+y.sd,!0);s.orientation==="h"?E.select(this).attr("d","M"+M+","+C+"V"+u+(c==="sd"?"m0,0L"+w+","+m+"L"+M+","+C+"L"+z+","+m+"Z":"")):E.select(this).attr("d","M"+C+","+M+"H"+u+(c==="sd"?"m0,0L"+m+","+w+"L"+C+","+M+"L"+m+","+z+"Z":""))})}tt.exports={plot:v,plotBoxAndWhiskers:d,plotPoints:r,plotBoxMean:e}},8264:function(tt){tt.exports=function(U,t){var E=U.cd,S=U.xaxis,i=U.yaxis,L=[],T,v;if(t===!1)for(T=0;T<E.length;T++)for(v=0;v<(E[T].pts||[]).length;v++)E[T].pts[v].selected=0;else for(T=0;T<E.length;T++)for(v=0;v<(E[T].pts||[]).length;v++){var d=E[T].pts[v],r=S.c2p(d.x),e=i.c2p(d.y);t.contains([r,e],null,d.i,U)?(L.push({pointNumber:d.i,x:S.c2d(d.x),y:i.c2d(d.y)}),d.selected=1):d.selected=0}return L}},25776:function(tt,U,t){var E=t(33428),S=t(76308),i=t(43616);function L(v,d,r){var e=r||E.select(v).selectAll("g.trace.boxes");e.style("opacity",function(l){return l[0].trace.opacity}),e.each(function(l){var n=E.select(this),s=l[0].trace,o=s.line.width;function f(_,a,c,p){_.style("stroke-width",a+"px").call(S.stroke,c).call(S.fill,p)}var b=n.selectAll("path.box");if(s.type==="candlestick")b.each(function(_){if(!_.empty){var a=E.select(this),c=s[_.dir];f(a,c.line.width,c.line.color,c.fillcolor),a.style("opacity",s.selectedpoints&&!_.selected?.3:1)}});else{f(b,o,s.line.color,s.fillcolor),n.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(S.stroke,s.line.color);var h=n.selectAll("path.point");i.pointStyle(h,s,v)}})}function T(v,d,r){var e=d[0].trace,l=r.selectAll("path.point");e.selectedpoints?i.selectedPointStyle(l,e):i.pointStyle(l,e,v)}tt.exports={style:L,styleOnSelect:T}},64216:function(tt,U,t){var E=t(3400).extendFlat,S=t(29736).axisHoverFormat,i=t(20279),L=t(63188);function T(v){return{line:{color:E({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}tt.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:E({},L.line.width,{}),editType:"style"},increasing:T(i.increasing.line.color.dflt),decreasing:T(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:E({},L.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel,zorder:L.zorder}},46283:function(tt,U,t){var E=t(3400),S=t(54460),i=t(1220),L=t(42812).calcCommon;tt.exports=function(v,d){var r=v._fullLayout,e=S.getFromId(v,d.xaxis),l=S.getFromId(v,d.yaxis),n=e.makeCalcdata(d,"x"),s=i(d,e,"x",n).vals,o=L(v,d,n,s,l,T);return o.length?(E.extendFlat(o[0].t,{num:r._numBoxes,dPos:E.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,o):[{t:{empty:!0}}]};function T(v,d,r,e){return{min:r,q1:Math.min(v,e),med:e,q3:Math.max(v,e),max:d}}},64588:function(tt,U,t){var E=t(3400),S=t(76308),i=t(52744),L=t(31147),T=t(64216);tt.exports=function(d,r,e,l){function n(o,f){return E.coerce(d,r,T,o,f)}var s=i(d,r,n,l);if(!s){r.visible=!1;return}L(d,r,l,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),v(d,r,n,"increasing"),v(d,r,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),l._requestRangeslider[r.xaxis]=!0,n("zorder")};function v(d,r,e,l){var n=e(l+".line.color");e(l+".line.width",r.line.width),e(l+".fillcolor",S.addOpacity(n,.5))}},61712:function(tt,U,t){tt.exports={moduleType:"trace",name:"candlestick",basePlotModule:t(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:t(64216),layoutAttributes:t(16560),supplyLayoutDefaults:t(68832).supplyLayoutDefaults,crossTraceCalc:t(96404).crossTraceCalc,supplyDefaults:t(64588),calc:t(46283),plot:t(18728).plot,layerName:"boxlayer",style:t(25776).style,hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},93504:function(tt,U,t){var E=t(63856),S=t(31780);tt.exports=function(L,T,v,d,r){var e=d("a");e||(d("da"),d("a0"));var l=d("b");l||(d("db"),d("b0")),i(L,T,v,r)};function i(L,T,v,d){var r=["aaxis","baxis"];r.forEach(function(e){var l=e.charAt(0),n=L[e]||{},s=S.newContainer(T,e),o={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:T.font,name:e,data:L[l],calendar:T.calendar,dfltColor:d,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};E(n,s,o),s._categories=s._categories||[],!L[e]&&n.type!=="-"&&(L[e]={type:n.type})})}},51676:function(tt,U,t){var E=t(3400).isArrayOrTypedArray;tt.exports=function(i){return S(i,0)};function S(i,L){if(!E(i)||L>=10)return null;for(var T=1/0,v=-1/0,d=i.length,r=0;r<d;r++){var e=i[r];if(E(e)){var l=S(e,L+1);l&&(T=Math.min(l[0],T),v=Math.max(l[1],v))}else T=Math.min(e,T),v=Math.max(e,v)}return[T,v]}},85720:function(tt,U,t){var E=t(25376),S=t(98692),i=t(22548),L=E({editType:"calc"}),T=t(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=i.defaultLine,tt.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:S,baxis:S,font:L,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0,zorder:T}},77712:function(tt,U,t){var E=t(3400).isArrayOrTypedArray;tt.exports=function(S,i,L,T){var v,d,r,e,l,n,s,o,f,b,h,_,a,c=E(L)?"a":"b",p=c==="a"?S.aaxis:S.baxis,x=p.smoothing,k=c==="a"?S.a2i:S.b2j,y=c==="a"?L:T,A=c==="a"?T:L,C=c==="a"?i.a.length:i.b.length,u=c==="a"?i.b.length:i.a.length,m=Math.floor(c==="a"?S.b2j(A):S.a2i(A)),M=c==="a"?function(J){return S.evalxy([],J,m)}:function(J){return S.evalxy([],m,J)};x&&(r=Math.max(0,Math.min(u-2,m)),e=m-r,d=c==="a"?function(J,it){return S.dxydi([],J,r,it,e)}:function(J,it){return S.dxydj([],r,J,e,it)});var w=k(y[0]),z=k(y[1]),O=w<z?1:-1,D=(z-w)*1e-8,P=O>0?Math.floor:Math.ceil,F=O>0?Math.ceil:Math.floor,R=O>0?Math.min:Math.max,N=O>0?Math.max:Math.min,B=P(w+D),q=F(z-D);s=M(w);var V=[[s]];for(v=B;v*O<q*O;v+=O)l=[],h=N(w,v),_=R(z,v+O),a=_-h,n=Math.max(0,Math.min(C-2,Math.floor(.5*(h+_)))),o=M(_),x&&(f=d(n,h-n),b=d(n,_-n),l.push([s[0]+f[0]/3*a,s[1]+f[1]/3*a]),l.push([o[0]-b[0]/3*a,o[1]-b[1]/3*a])),l.push(o),V.push(l),s=o;return V}},98692:function(tt,U,t){var E=t(25376),S=t(22548),i=t(94724),L=t(29736).descriptionWithDates,T=t(67824).overrideAll,v=t(98192).u,d=t(92880).extendFlat;tt.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:E({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:d({},i.labelalias,{editType:"calc"}),tickfont:E({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:T(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:S.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:d({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:d({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:S.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:E({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(tt,U,t){var E=t(85720),S=t(76308).addOpacity,i=t(24040),L=t(3400),T=t(26332),v=t(95936),d=t(42568),r=t(22416),e=t(78344),l=t(52976);tt.exports=function(s,o,f){var b=f.letter,h=f.font||{},_=E[b+"axis"];function a(N,B){return L.coerce(s,o,_,N,B)}function c(N,B){return L.coerce2(s,o,_,N,B)}f.name&&(o._name=f.name,o._id=f.name),a("autotypenumbers",f.autotypenumbersDflt);var p=a("type");if(p==="-"&&(f.data&&n(o,f.data),o.type==="-"?o.type="linear":p=s.type=o.type),a("smoothing"),a("cheatertype"),a("showticklabels"),a("labelprefix",b+" = "),a("labelsuffix"),a("showtickprefix"),a("showticksuffix"),a("separatethousands"),a("tickformat"),a("exponentformat"),a("minexponent"),a("showexponent"),a("categoryorder"),a("tickmode"),a("tickvals"),a("ticktext"),a("tick0"),a("dtick"),o.tickmode==="array"&&(a("arraytick0"),a("arraydtick")),a("labelpadding"),o._hovertitle=b,p==="date"){var x=i.getComponentMethod("calendars","handleDefaults");x(s,o,"calendar",f.calendar)}e(o,f.fullLayout),o.c2p=L.identity;var k=a("color",f.dfltColor),y=k===s.color?k:h.color,A=a("title.text");A&&(L.coerceFont(a,"title.font",{weight:h.weight,style:h.style,variant:h.variant,family:h.family,size:L.bigFont(h.size),color:y}),a("title.offset")),a("tickangle");var C=a("autorange",!o.isValidRange(s.range));C&&a("rangemode"),a("range"),o.cleanRange(),a("fixedrange"),T(s,o,a,p),d(s,o,a,p,f),v(s,o,a,p,f),r(s,o,a,{data:f.data,dataAttr:b});var u=c("gridcolor",S(k,.3)),m=c("gridwidth"),M=c("griddash"),w=a("showgrid");w||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var z=c("startlinecolor",k),O=c("startlinewidth",m),D=a("startline",o.showgrid||!!z||!!O);D||(delete o.startlinecolor,delete o.startlinewidth);var P=c("endlinecolor",k),F=c("endlinewidth",m),R=a("endline",o.showgrid||!!P||!!F);return R||(delete o.endlinecolor,delete o.endlinewidth),w?(a("minorgridcount"),a("minorgridwidth",m),a("minorgriddash",M),a("minorgridcolor",S(u,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),o.showticklabels==="none"&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,a("tickmode"),o};function n(s,o){if(s.type==="-"){var f=s._id,b=f.charAt(0),h=b+"calendar",_=s[h];s.type=l(o,_,{autotypenumbers:s.autotypenumbers})}}},58744:function(tt,U,t){var E=t(54460),S=t(3400).isArray1D,i=t(60776),L=t(51676),T=t(19216),v=t(14724),d=t(24944),r=t(26136),e=t(51512),l=t(2872),n=t(81e3);tt.exports=function(s,o){var f=E.getFromId(s,o.xaxis),b=E.getFromId(s,o.yaxis),h=o.aaxis,_=o.baxis,a=o.x,c=o.y,p=[];a&&S(a)&&p.push("x"),c&&S(c)&&p.push("y"),p.length&&l(o,h,_,"a","b",p);var x=o._a=o._a||o.a,k=o._b=o._b||o.b;a=o._x||o.x,c=o._y||o.y;var y={};if(o._cheater){var A=h.cheatertype==="index"?x.length:x,C=_.cheatertype==="index"?k.length:k;a=i(A,C,o.cheaterslope)}o._x=a=r(a),o._y=c=r(c),e(a,x,k),e(c,x,k),n(o),o.setScale();var u=L(a),m=L(c),M=.5*(u[1]-u[0]),w=.5*(u[1]+u[0]),z=.5*(m[1]-m[0]),O=.5*(m[1]+m[0]),D=1.3;return u=[w-M*D,w+M*D],m=[O-z*D,O+z*D],o._extremes[f._id]=E.findExtremes(f,u,{padded:!0}),o._extremes[b._id]=E.findExtremes(b,m,{padded:!0}),T(o,"a","b"),T(o,"b","a"),v(o,h),v(o,_),y.clipsegments=d(o._xctrl,o._yctrl,h,_),y.x=a,y.y=c,y.a=x,y.b=k,[y]}},24944:function(tt){tt.exports=function(U,t,E,S){var i,L,T,v=[],d=!!E.smoothing,r=!!S.smoothing,e=U[0].length-1,l=U.length-1;for(i=0,L=[],T=[];i<=e;i++)L[i]=U[0][i],T[i]=t[0][i];for(v.push({x:L,y:T,bicubic:d}),i=0,L=[],T=[];i<=l;i++)L[i]=U[i][e],T[i]=t[i][e];for(v.push({x:L,y:T,bicubic:r}),i=e,L=[],T=[];i>=0;i--)L[e-i]=U[l][i],T[e-i]=t[l][i];for(v.push({x:L,y:T,bicubic:d}),i=l,L=[],T=[];i>=0;i--)L[l-i]=U[i][0],T[l-i]=t[i][0];return v.push({x:L,y:T,bicubic:r}),v}},19216:function(tt,U,t){var E=t(54460),S=t(92880).extendFlat;tt.exports=function(i,L,T){var v,d,r,e,l,n,s,o,f,b,h,_,a,c,p=i["_"+L],x=i[L+"axis"],k=x._gridlines=[],y=x._minorgridlines=[],A=x._boundarylines=[],C=i["_"+T],u=i[T+"axis"];x.tickmode==="array"&&(x.tickvals=p.slice());var m=i._xctrl,M=i._yctrl,w=m[0].length,z=m.length,O=i._a.length,D=i._b.length;E.prepTicks(x),x.tickmode==="array"&&delete x.tickvals;var P=x.smoothing?3:1;function F(N){var B,q,V,J,it,nt,Y,Z,$,G,rt,ot,W=[],H=[],at={};if(L==="b")for(q=i.b2j(N),V=Math.floor(Math.max(0,Math.min(D-2,q))),J=q-V,at.length=D,at.crossLength=O,at.xy=function(Q){return i.evalxy([],Q,q)},at.dxy=function(Q,ct){return i.dxydi([],Q,V,ct,J)},B=0;B<O;B++)nt=Math.min(O-2,B),Y=B-nt,Z=i.evalxy([],B,q),u.smoothing&&B>0&&($=i.dxydi([],B-1,V,0,J),W.push(it[0]+$[0]/3),H.push(it[1]+$[1]/3),G=i.dxydi([],B-1,V,1,J),W.push(Z[0]-G[0]/3),H.push(Z[1]-G[1]/3)),W.push(Z[0]),H.push(Z[1]),it=Z;else for(B=i.a2i(N),nt=Math.floor(Math.max(0,Math.min(O-2,B))),Y=B-nt,at.length=O,at.crossLength=D,at.xy=function(Q){return i.evalxy([],B,Q)},at.dxy=function(Q,ct){return i.dxydj([],nt,Q,Y,ct)},q=0;q<D;q++)V=Math.min(D-2,q),J=q-V,Z=i.evalxy([],B,q),u.smoothing&&q>0&&(rt=i.dxydj([],nt,q-1,Y,0),W.push(it[0]+rt[0]/3),H.push(it[1]+rt[1]/3),ot=i.dxydj([],nt,q-1,Y,1),W.push(Z[0]-ot[0]/3),H.push(Z[1]-ot[1]/3)),W.push(Z[0]),H.push(Z[1]),it=Z;return at.axisLetter=L,at.axis=x,at.crossAxis=u,at.value=N,at.constvar=T,at.index=o,at.x=W,at.y=H,at.smoothing=u.smoothing,at}function R(N){var B,q,V,J,it,nt=[],Y=[],Z={};if(Z.length=p.length,Z.crossLength=C.length,L==="b")for(V=Math.max(0,Math.min(D-2,N)),it=Math.min(1,Math.max(0,N-V)),Z.xy=function($){return i.evalxy([],$,N)},Z.dxy=function($,G){return i.dxydi([],$,V,G,it)},B=0;B<w;B++)nt[B]=m[N*P][B],Y[B]=M[N*P][B];else for(q=Math.max(0,Math.min(O-2,N)),J=Math.min(1,Math.max(0,N-q)),Z.xy=function($){return i.evalxy([],N,$)},Z.dxy=function($,G){return i.dxydj([],q,$,J,G)},B=0;B<z;B++)nt[B]=m[B][N*P],Y[B]=M[B][N*P];return Z.axisLetter=L,Z.axis=x,Z.crossAxis=u,Z.value=p[N],Z.constvar=T,Z.index=N,Z.x=nt,Z.y=Y,Z.smoothing=u.smoothing,Z}if(x.tickmode==="array"){for(e=5e-15,l=[Math.floor((p.length-1-x.arraytick0)/x.arraydtick*(1+e)),Math.ceil(-x.arraytick0/x.arraydtick/(1+e))].sort(function(N,B){return N-B}),n=l[0]-1,s=l[1]+1,o=n;o<s;o++)d=x.arraytick0+x.arraydtick*o,!(d<0||d>p.length-1)&&k.push(S(R(d),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(o=n;o<s;o++)if(r=x.arraytick0+x.arraydtick*o,h=Math.min(r+x.arraydtick,p.length-1),!(r<0||r>p.length-1)&&!(h<0||h>p.length-1))for(_=p[r],a=p[h],v=0;v<x.minorgridcount;v++)c=h-r,!(c<=0)&&(b=_+(a-_)*(v+1)/(x.minorgridcount+1)*(x.arraydtick/c),!(b<p[0]||b>p[p.length-1])&&y.push(S(F(b),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash})));x.startline&&A.push(S(R(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&A.push(S(R(p.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(e=5e-15,l=[Math.floor((p[p.length-1]-x.tick0)/x.dtick*(1+e)),Math.ceil((p[0]-x.tick0)/x.dtick/(1+e))].sort(function(N,B){return N-B}),n=l[0],s=l[1],o=n;o<=s;o++)f=x.tick0+x.dtick*o,k.push(S(F(f),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(o=n-1;o<s+1;o++)for(f=x.tick0+x.dtick*o,v=0;v<x.minorgridcount;v++)b=f+x.dtick*(v+1)/(x.minorgridcount+1),!(b<p[0]||b>p[p.length-1])&&y.push(S(F(b),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&A.push(S(F(p[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&A.push(S(F(p[p.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},14724:function(tt,U,t){var E=t(54460),S=t(92880).extendFlat;tt.exports=function(i,L){var T,v,d,r,e,l=L._labels=[],n=L._gridlines;for(T=0;T<n.length;T++)e=n[T],["start","both"].indexOf(L.showticklabels)!==-1&&(v=E.tickText(L,e.value),S(v,{prefix:d,suffix:r,endAnchor:!0,xy:e.xy(0),dxy:e.dxy(0,0),axis:e.axis,length:e.crossAxis.length,font:e.axis.tickfont,isFirst:T===0,isLast:T===n.length-1}),l.push(v)),["end","both"].indexOf(L.showticklabels)!==-1&&(v=E.tickText(L,e.value),S(v,{endAnchor:!1,xy:e.xy(e.crossLength-1),dxy:e.dxy(e.crossLength-2,1),axis:e.axis,length:e.crossAxis.length,font:e.axis.tickfont,isFirst:T===0,isLast:T===n.length-1}),l.push(v))}},62284:function(tt){var U=.5;tt.exports=function(t,E,S,i){var L=t[0]-E[0],T=t[1]-E[1],v=S[0]-E[0],d=S[1]-E[1],r=Math.pow(L*L+T*T,U/2),e=Math.pow(v*v+d*d,U/2),l=(e*e*L-r*r*v)*i,n=(e*e*T-r*r*d)*i,s=e*(r+e)*3,o=r*(r+e)*3;return[[E[0]+(s&&l/s),E[1]+(s&&n/s)],[E[0]-(o&&l/o),E[1]-(o&&n/o)]]}},60776:function(tt,U,t){var E=t(3400).isArrayOrTypedArray;tt.exports=function(S,i,L){var T,v,d,r,e,l,n=[],s=E(S)?S.length:S,o=E(i)?i.length:i,f=E(S)?S:null,b=E(i)?i:null;f&&(d=(f.length-1)/(f[f.length-1]-f[0])/(s-1)),b&&(r=(b.length-1)/(b[b.length-1]-b[0])/(o-1));var h,_=1/0,a=-1/0;for(v=0;v<o;v++)for(n[v]=[],l=b?(b[v]-b[0])*r:v/(o-1),T=0;T<s;T++)e=f?(f[T]-f[0])*d:T/(s-1),h=e-l*L,_=Math.min(h,_),a=Math.max(h,a),n[v][T]=h;var c=1/(a-_),p=-_*c;for(v=0;v<o;v++)for(T=0;T<s;T++)n[v][T]=c*n[v][T]+p;return n}},30180:function(tt,U,t){var E=t(62284),S=t(3400).ensureArray;function i(L,T,v){var d=-.5*v[0]+1.5*T[0],r=-.5*v[1]+1.5*T[1];return[(2*d+L[0])/3,(2*r+L[1])/3]}tt.exports=function(L,T,v,d,r,e){var l,n,s,o,f,b,h,_,a,c,p=v[0].length,x=v.length,k=r?3*p-2:p,y=e?3*x-2:x;for(L=S(L,y),T=S(T,y),s=0;s<y;s++)L[s]=S(L[s],k),T[s]=S(T[s],k);for(n=0,o=0;n<x;n++,o+=e?3:1)for(f=L[o],b=T[o],h=v[n],_=d[n],l=0,s=0;l<p;l++,s+=r?3:1)f[s]=h[l],b[s]=_[l];if(r)for(n=0,o=0;n<x;n++,o+=e?3:1){for(l=1,s=3;l<p-1;l++,s+=3)a=E([v[n][l-1],d[n][l-1]],[v[n][l],d[n][l]],[v[n][l+1],d[n][l+1]],r),L[o][s-1]=a[0][0],T[o][s-1]=a[0][1],L[o][s+1]=a[1][0],T[o][s+1]=a[1][1];c=i([L[o][0],T[o][0]],[L[o][2],T[o][2]],[L[o][3],T[o][3]]),L[o][1]=c[0],T[o][1]=c[1],c=i([L[o][k-1],T[o][k-1]],[L[o][k-3],T[o][k-3]],[L[o][k-4],T[o][k-4]]),L[o][k-2]=c[0],T[o][k-2]=c[1]}if(e)for(s=0;s<k;s++){for(o=3;o<y-3;o+=3)a=E([L[o-3][s],T[o-3][s]],[L[o][s],T[o][s]],[L[o+3][s],T[o+3][s]],e),L[o-1][s]=a[0][0],T[o-1][s]=a[0][1],L[o+1][s]=a[1][0],T[o+1][s]=a[1][1];c=i([L[0][s],T[0][s]],[L[2][s],T[2][s]],[L[3][s],T[3][s]]),L[1][s]=c[0],T[1][s]=c[1],c=i([L[y-1][s],T[y-1][s]],[L[y-3][s],T[y-3][s]],[L[y-4][s],T[y-4][s]]),L[y-2][s]=c[0],T[y-2][s]=c[1]}if(r&&e)for(o=1;o<y;o+=(o+1)%3===0?2:1){for(s=3;s<k-3;s+=3)a=E([L[o][s-3],T[o][s-3]],[L[o][s],T[o][s]],[L[o][s+3],T[o][s+3]],r),L[o][s-1]=.5*(L[o][s-1]+a[0][0]),T[o][s-1]=.5*(T[o][s-1]+a[0][1]),L[o][s+1]=.5*(L[o][s+1]+a[1][0]),T[o][s+1]=.5*(T[o][s+1]+a[1][1]);c=i([L[o][0],T[o][0]],[L[o][2],T[o][2]],[L[o][3],T[o][3]]),L[o][1]=.5*(L[o][1]+c[0]),T[o][1]=.5*(T[o][1]+c[1]),c=i([L[o][k-1],T[o][k-1]],[L[o][k-3],T[o][k-3]],[L[o][k-4],T[o][k-4]]),L[o][k-2]=.5*(L[o][k-2]+c[0]),T[o][k-2]=.5*(T[o][k-2]+c[1])}return[L,T]}},24588:function(tt){tt.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(tt){tt.exports=function(U,t,E){return t&&E?function(S,i,L,T,v){S||(S=[]);var d,r,e,l,n,s;i*=3,L*=3;var o=T*T,f=1-T,b=f*f,h=f*T*2,_=-3*b,a=3*(b-h),c=3*(h-o),p=3*o,x=v*v,k=x*v,y=1-v,A=y*y,C=A*y;for(s=0;s<U.length;s++)n=U[s],d=_*n[L][i]+a*n[L][i+1]+c*n[L][i+2]+p*n[L][i+3],r=_*n[L+1][i]+a*n[L+1][i+1]+c*n[L+1][i+2]+p*n[L+1][i+3],e=_*n[L+2][i]+a*n[L+2][i+1]+c*n[L+2][i+2]+p*n[L+2][i+3],l=_*n[L+3][i]+a*n[L+3][i+1]+c*n[L+3][i+2]+p*n[L+3][i+3],S[s]=C*d+3*(A*v*r+y*x*e)+k*l;return S}:t?function(S,i,L,T,v){S||(S=[]);var d,r,e,l;i*=3;var n=T*T,s=1-T,o=s*s,f=s*T*2,b=-3*o,h=3*(o-f),_=3*(f-n),a=3*n,c=1-v;for(e=0;e<U.length;e++)l=U[e],d=b*l[L][i]+h*l[L][i+1]+_*l[L][i+2]+a*l[L][i+3],r=b*l[L+1][i]+h*l[L+1][i+1]+_*l[L+1][i+2]+a*l[L+1][i+3],S[e]=c*d+v*r;return S}:E?function(S,i,L,T,v){S||(S=[]);var d,r,e,l,n,s;L*=3;var o=v*v,f=o*v,b=1-v,h=b*b,_=h*b;for(n=0;n<U.length;n++)s=U[n],d=s[L][i+1]-s[L][i],r=s[L+1][i+1]-s[L+1][i],e=s[L+2][i+1]-s[L+2][i],l=s[L+3][i+1]-s[L+3][i],S[n]=_*d+3*(h*v*r+b*o*e)+f*l;return S}:function(S,i,L,T,v){S||(S=[]);var d,r,e,l,n=1-v;for(e=0;e<U.length;e++)l=U[e],d=l[L][i+1]-l[L][i],r=l[L+1][i+1]-l[L+1][i],S[e]=n*d+v*r;return S}}},24464:function(tt){tt.exports=function(U,t,E){return t&&E?function(S,i,L,T,v){S||(S=[]);var d,r,e,l,n,s;i*=3,L*=3;var o=T*T,f=o*T,b=1-T,h=b*b,_=h*b,a=v*v,c=1-v,p=c*c,x=c*v*2,k=-3*p,y=3*(p-x),A=3*(x-a),C=3*a;for(s=0;s<U.length;s++)n=U[s],d=k*n[L][i]+y*n[L+1][i]+A*n[L+2][i]+C*n[L+3][i],r=k*n[L][i+1]+y*n[L+1][i+1]+A*n[L+2][i+1]+C*n[L+3][i+1],e=k*n[L][i+2]+y*n[L+1][i+2]+A*n[L+2][i+2]+C*n[L+3][i+2],l=k*n[L][i+3]+y*n[L+1][i+3]+A*n[L+2][i+3]+C*n[L+3][i+3],S[s]=_*d+3*(h*T*r+b*o*e)+f*l;return S}:t?function(S,i,L,T,v){S||(S=[]);var d,r,e,l,n,s;i*=3;var o=v*v,f=o*v,b=1-v,h=b*b,_=h*b;for(n=0;n<U.length;n++)s=U[n],d=s[L+1][i]-s[L][i],r=s[L+1][i+1]-s[L][i+1],e=s[L+1][i+2]-s[L][i+2],l=s[L+1][i+3]-s[L][i+3],S[n]=_*d+3*(h*v*r+b*o*e)+f*l;return S}:E?function(S,i,L,T,v){S||(S=[]);var d,r,e,l;L*=3;var n=1-T,s=v*v,o=1-v,f=o*o,b=o*v*2,h=-3*f,_=3*(f-b),a=3*(b-s),c=3*s;for(e=0;e<U.length;e++)l=U[e],d=h*l[L][i]+_*l[L+1][i]+a*l[L+2][i]+c*l[L+3][i],r=h*l[L][i+1]+_*l[L+1][i+1]+a*l[L+2][i+1]+c*l[L+3][i+1],S[e]=n*d+T*r;return S}:function(S,i,L,T,v){S||(S=[]);var d,r,e,l,n=1-T;for(e=0;e<U.length;e++)l=U[e],d=l[L+1][i]-l[L][i],r=l[L+1][i+1]-l[L][i+1],S[e]=n*d+T*r;return S}}},29056:function(tt){tt.exports=function(U,t,E,S,i){var L=t-2,T=E-2;return S&&i?function(v,d,r){v||(v=[]);var e,l,n,s,o,f,b=Math.max(0,Math.min(Math.floor(d),L)),h=Math.max(0,Math.min(Math.floor(r),T)),_=Math.max(0,Math.min(1,d-b)),a=Math.max(0,Math.min(1,r-h));b*=3,h*=3;var c=_*_,p=c*_,x=1-_,k=x*x,y=k*x,A=a*a,C=A*a,u=1-a,m=u*u,M=m*u;for(f=0;f<U.length;f++)o=U[f],e=y*o[h][b]+3*(k*_*o[h][b+1]+x*c*o[h][b+2])+p*o[h][b+3],l=y*o[h+1][b]+3*(k*_*o[h+1][b+1]+x*c*o[h+1][b+2])+p*o[h+1][b+3],n=y*o[h+2][b]+3*(k*_*o[h+2][b+1]+x*c*o[h+2][b+2])+p*o[h+2][b+3],s=y*o[h+3][b]+3*(k*_*o[h+3][b+1]+x*c*o[h+3][b+2])+p*o[h+3][b+3],v[f]=M*e+3*(m*a*l+u*A*n)+C*s;return v}:S?function(v,d,r){v||(v=[]);var e=Math.max(0,Math.min(Math.floor(d),L)),l=Math.max(0,Math.min(Math.floor(r),T)),n=Math.max(0,Math.min(1,d-e)),s=Math.max(0,Math.min(1,r-l)),o,f,b,h,_,a;e*=3;var c=n*n,p=c*n,x=1-n,k=x*x,y=k*x,A=1-s;for(_=0;_<U.length;_++)a=U[_],o=A*a[l][e]+s*a[l+1][e],f=A*a[l][e+1]+s*a[l+1][e+1],b=A*a[l][e+2]+s*a[l+1][e+1],h=A*a[l][e+3]+s*a[l+1][e+1],v[_]=y*o+3*(k*n*f+x*c*b)+p*h;return v}:i?function(v,d,r){v||(v=[]);var e=Math.max(0,Math.min(Math.floor(d),L)),l=Math.max(0,Math.min(Math.floor(r),T)),n=Math.max(0,Math.min(1,d-e)),s=Math.max(0,Math.min(1,r-l)),o,f,b,h,_,a;l*=3;var c=s*s,p=c*s,x=1-s,k=x*x,y=k*x,A=1-n;for(_=0;_<U.length;_++)a=U[_],o=A*a[l][e]+n*a[l][e+1],f=A*a[l+1][e]+n*a[l+1][e+1],b=A*a[l+2][e]+n*a[l+2][e+1],h=A*a[l+3][e]+n*a[l+3][e+1],v[_]=y*o+3*(k*s*f+x*c*b)+p*h;return v}:function(v,d,r){v||(v=[]);var e=Math.max(0,Math.min(Math.floor(d),L)),l=Math.max(0,Math.min(Math.floor(r),T)),n=Math.max(0,Math.min(1,d-e)),s=Math.max(0,Math.min(1,r-l)),o,f,b,h,_=1-s,a=1-n;for(b=0;b<U.length;b++)h=U[b],o=a*h[l][e]+n*h[l][e+1],f=a*h[l+1][e]+n*h[l+1][e+1],v[b]=_*o+s*f;return v}}},38356:function(tt,U,t){var E=t(3400),S=t(86411),i=t(93504),L=t(85720),T=t(22548);tt.exports=function(v,d,r,e){function l(o,f){return E.coerce(v,d,L,o,f)}d._clipPathId="clip"+d.uid+"carpet";var n=l("color",T.defaultLine);if(E.coerceFont(l,"font",e.font),l("carpet"),i(v,d,e,l,n),!d.a||!d.b){d.visible=!1;return}d.a.length<3&&(d.aaxis.smoothing=0),d.b.length<3&&(d.baxis.smoothing=0);var s=S(v,d,l);s||(d.visible=!1),d._cheater&&l("cheaterslope"),l("zorder")}},95856:function(tt,U,t){tt.exports={attributes:t(85720),supplyDefaults:t(38356),plot:t(164),calc:t(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(tt){tt.exports=function(U,t){for(var E=U._fullData.length,S,i=0;i<E;i++){var L=U._fullData[i];if(L.index!==t.index&&L.type==="carpet"&&(S||(S=L),L.carpet===t.carpet))return L}return S}},53416:function(tt){tt.exports=function(U,t,E){if(U.length===0)return"";var S,i=[],L=E?3:1;for(S=0;S<U.length;S+=L)i.push(U[S]+","+t[S]),E&&S<U.length-L&&(i.push("C"),i.push([U[S+1]+","+t[S+1],U[S+2]+","+t[S+2]+" "].join(" ")));return i.join(E?"":"L")}},87072:function(tt,U,t){var E=t(3400).isArrayOrTypedArray;tt.exports=function(S,i,L){var T;for(E(S)?S.length>i.length&&(S=S.slice(0,i.length)):S=[],T=0;T<i.length;T++)S[T]=L(i[T]);return S}},15584:function(tt){tt.exports=function(U,t,E,S,i,L){var T=i[0]*U.dpdx(t),v=i[1]*U.dpdy(E),d=1,r=1;if(L){var e=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=(i[0]*L[0]+i[1]*L[1])/e/l;r=Math.max(0,n)}var s=Math.atan2(v,T)*180/Math.PI;return s<-90?(s+=180,d=-d):s>90&&(s-=180,d=-d),{angle:s,flip:d,p:U.c2p(S,t,E),offsetMultplier:r}}},164:function(tt,U,t){var E=t(33428),S=t(43616),i=t(87072),L=t(53416),T=t(15584),v=t(72736),d=t(3400),r=d.strRotate,e=d.strTranslate,l=t(84284);tt.exports=function(a,c,p,x){var k=a._context.staticPlot,y=c.xaxis,A=c.yaxis,C=a._fullLayout,u=C._clips;d.makeTraceGroups(x,p,"trace").each(function(m){var M=E.select(this),w=m[0],z=w.trace,O=z.aaxis,D=z.baxis,P=d.ensureSingle(M,"g","minorlayer"),F=d.ensureSingle(M,"g","majorlayer"),R=d.ensureSingle(M,"g","boundarylayer"),N=d.ensureSingle(M,"g","labellayer");M.style("opacity",z.opacity),s(y,A,F,O,"a",O._gridlines,!0),s(y,A,F,D,"b",D._gridlines,!0),s(y,A,P,O,"a",O._minorgridlines,!0),s(y,A,P,D,"b",D._minorgridlines,!0),s(y,A,R,O,"a-boundary",O._boundarylines,k),s(y,A,R,D,"b-boundary",D._boundarylines,k);var B=o(a,y,A,z,w,N,O._labels,"a-label"),q=o(a,y,A,z,w,N,D._labels,"b-label");f(a,N,z,w,y,A,B,q),n(z,w,u,y,A)})};function n(a,c,p,x,k){var y,A,C,u,m=p.select("#"+a._clipPathId);m.size()||(m=p.append("clipPath").classed("carpetclip",!0));var M=d.ensureSingle(m,"path","carpetboundary"),w=c.clipsegments,z=[];for(u=0;u<w.length;u++)y=w[u],A=i([],y.x,x.c2p),C=i([],y.y,k.c2p),z.push(L(A,C,y.bicubic));var O="M"+z.join("L")+"Z";m.attr("id",a._clipPathId),M.attr("d",O)}function s(a,c,p,x,k,y,A){var C="const-"+k+"-lines",u=p.selectAll("."+C).data(y);u.enter().append("path").classed(C,!0).style("vector-effect",A?"none":"non-scaling-stroke"),u.each(function(m){var M=m,w=M.x,z=M.y,O=i([],w,a.c2p),D=i([],z,c.c2p),P="M"+L(O,D,M.smoothing),F=E.select(this);F.attr("d",P).style("stroke-width",M.width).style("stroke",M.color).style("stroke-dasharray",S.dashStyle(M.dash,M.width)).style("fill","none")}),u.exit().remove()}function o(a,c,p,x,k,y,A,C){var u=y.selectAll("text."+C).data(A);u.enter().append("text").classed(C,!0);var m=0,M={};return u.each(function(w,z){var O;if(w.axis.tickangle==="auto")O=T(x,c,p,w.xy,w.dxy);else{var D=(w.axis.tickangle+180)*Math.PI/180;O=T(x,c,p,w.xy,[Math.cos(D),Math.sin(D)])}z||(M={angle:O.angle,flip:O.flip});var P=(w.endAnchor?-1:1)*O.flip,F=E.select(this).attr({"text-anchor":P>0?"start":"end","data-notex":1}).call(S.font,w.font).text(w.text).call(v.convertToTspans,a),R=S.bBox(this);F.attr("transform",e(O.p[0],O.p[1])+r(O.angle)+e(w.axis.labelpadding*P,R.height*.3)),m=Math.max(m,R.width+w.axis.labelpadding)}),u.exit().remove(),M.maxExtent=m,M}function f(a,c,p,x,k,y,A,C){var u,m,M,w,z=d.aggNums(Math.min,null,p.a),O=d.aggNums(Math.max,null,p.a),D=d.aggNums(Math.min,null,p.b),P=d.aggNums(Math.max,null,p.b);u=.5*(z+O),m=D,M=p.ab2xy(u,m,!0),w=p.dxyda_rough(u,m),A.angle===void 0&&d.extendFlat(A,T(p,k,y,M,p.dxydb_rough(u,m))),_(a,c,p,x,M,w,p.aaxis,k,y,A,"a-title"),u=z,m=.5*(D+P),M=p.ab2xy(u,m,!0),w=p.dxydb_rough(u,m),C.angle===void 0&&d.extendFlat(C,T(p,k,y,M,p.dxyda_rough(u,m))),_(a,c,p,x,M,w,p.baxis,k,y,C,"b-title")}var b=l.LINE_SPACING,h=(1-l.MID_SHIFT)/b+1;function _(a,c,p,x,k,y,A,C,u,m,M){var w=[];A.title.text&&w.push(A.title.text);var z=c.selectAll("text."+M).data(w),O=m.maxExtent;z.enter().append("text").classed(M,!0),z.each(function(){var D=T(p,C,u,k,y);["start","both"].indexOf(A.showticklabels)===-1&&(O=0);var P=A.title.font.size;O+=P+A.title.offset;var F=m.angle+(m.flip<0?180:0),R=(F-D.angle+450)%360,N=R>90&&R<270,B=E.select(this);B.text(A.title.text).call(v.convertToTspans,a),N&&(O=(-v.lineCount(B)+h)*b*P-O),B.attr("transform",e(D.p[0],D.p[1])+r(D.angle)+e(0,O)).attr("text-anchor","middle").call(S.font,A.title.font)}),z.exit().remove()}},81e3:function(tt,U,t){var E=t(24588),S=t(14952).findBin,i=t(30180),L=t(29056),T=t(26435),v=t(24464);tt.exports=function(d){var r=d._a,e=d._b,l=r.length,n=e.length,s=d.aaxis,o=d.baxis,f=r[0],b=r[l-1],h=e[0],_=e[n-1],a=r[r.length-1]-r[0],c=e[e.length-1]-e[0],p=a*E.RELATIVE_CULL_TOLERANCE,x=c*E.RELATIVE_CULL_TOLERANCE;f-=p,b+=p,h-=x,_+=x,d.isVisible=function(k,y){return k>f&&k<b&&y>h&&y<_},d.isOccluded=function(k,y){return k<f||k>b||y<h||y>_},d.setScale=function(){var k=d._x,y=d._y,A=i(d._xctrl,d._yctrl,k,y,s.smoothing,o.smoothing);d._xctrl=A[0],d._yctrl=A[1],d.evalxy=L([d._xctrl,d._yctrl],l,n,s.smoothing,o.smoothing),d.dxydi=T([d._xctrl,d._yctrl],s.smoothing,o.smoothing),d.dxydj=v([d._xctrl,d._yctrl],s.smoothing,o.smoothing)},d.i2a=function(k){var y=Math.max(0,Math.floor(k[0]),l-2),A=k[0]-y;return(1-A)*r[y]+A*r[y+1]},d.j2b=function(k){var y=Math.max(0,Math.floor(k[1]),l-2),A=k[1]-y;return(1-A)*e[y]+A*e[y+1]},d.ij2ab=function(k){return[d.i2a(k[0]),d.j2b(k[1])]},d.a2i=function(k){var y=Math.max(0,Math.min(S(k,r),l-2)),A=r[y],C=r[y+1];return Math.max(0,Math.min(l-1,y+(k-A)/(C-A)))},d.b2j=function(k){var y=Math.max(0,Math.min(S(k,e),n-2)),A=e[y],C=e[y+1];return Math.max(0,Math.min(n-1,y+(k-A)/(C-A)))},d.ab2ij=function(k){return[d.a2i(k[0]),d.b2j(k[1])]},d.i2c=function(k,y){return d.evalxy([],k,y)},d.ab2xy=function(k,y,A){if(!A&&(k<r[0]||k>r[l-1]|y<e[0]||y>e[n-1]))return[!1,!1];var C=d.a2i(k),u=d.b2j(y),m=d.evalxy([],C,u);if(A){var M=0,w=0,z=[],O,D,P,F;k<r[0]?(O=0,D=0,M=(k-r[0])/(r[1]-r[0])):k>r[l-1]?(O=l-2,D=1,M=(k-r[l-1])/(r[l-1]-r[l-2])):(O=Math.max(0,Math.min(l-2,Math.floor(C))),D=C-O),y<e[0]?(P=0,F=0,w=(y-e[0])/(e[1]-e[0])):y>e[n-1]?(P=n-2,F=1,w=(y-e[n-1])/(e[n-1]-e[n-2])):(P=Math.max(0,Math.min(n-2,Math.floor(u))),F=u-P),M&&(d.dxydi(z,O,P,D,F),m[0]+=z[0]*M,m[1]+=z[1]*M),w&&(d.dxydj(z,O,P,D,F),m[0]+=z[0]*w,m[1]+=z[1]*w)}return m},d.c2p=function(k,y,A){return[y.c2p(k[0]),A.c2p(k[1])]},d.p2x=function(k,y,A){return[y.p2c(k[0]),A.p2c(k[1])]},d.dadi=function(k){var y=Math.max(0,Math.min(r.length-2,k));return r[y+1]-r[y]},d.dbdj=function(k){var y=Math.max(0,Math.min(e.length-2,k));return e[y+1]-e[y]},d.dxyda=function(k,y,A,C){var u=d.dxydi(null,k,y,A,C),m=d.dadi(k,A);return[u[0]/m,u[1]/m]},d.dxydb=function(k,y,A,C){var u=d.dxydj(null,k,y,A,C),m=d.dbdj(y,C);return[u[0]/m,u[1]/m]},d.dxyda_rough=function(k,y,A){var C=a*(A||.1),u=d.ab2xy(k+C,y,!0),m=d.ab2xy(k-C,y,!0);return[(u[0]-m[0])*.5/C,(u[1]-m[1])*.5/C]},d.dxydb_rough=function(k,y,A){var C=c*(A||.1),u=d.ab2xy(k,y+C,!0),m=d.ab2xy(k,y-C,!0);return[(u[0]-m[0])*.5/C,(u[1]-m[1])*.5/C]},d.dpdx=function(k){return k._m},d.dpdy=function(k){return k._m}}},51512:function(tt,U,t){var E=t(3400);tt.exports=function(S,i,L){var T,v,d,r=[],e=[],l=S[0].length,n=S.length;function s(q,V){var J=0,it,nt=0;return q>0&&(it=S[V][q-1])!==void 0&&(nt++,J+=it),q<l-1&&(it=S[V][q+1])!==void 0&&(nt++,J+=it),V>0&&(it=S[V-1][q])!==void 0&&(nt++,J+=it),V<n-1&&(it=S[V+1][q])!==void 0&&(nt++,J+=it),J/Math.max(1,nt)}var o=0;for(T=0;T<l;T++)for(v=0;v<n;v++)S[v][T]===void 0&&(r.push(T),e.push(v),S[v][T]=s(T,v)),o=Math.max(o,Math.abs(S[v][T]));if(!r.length)return S;var f,b,h,_,a,c,p,x,k,y,A,C=1e-5,u=0,m=100,M=0,w=r.length;do{for(u=0,d=0;d<w;d++){T=r[d],v=e[d];var z=0,O=0,D,P,F,R,N,B;T===0?(N=Math.min(l-1,2),F=i[N],R=i[1],D=S[v][N],P=S[v][1],O+=P+(P-D)*(i[0]-R)/(R-F),z++):T===l-1&&(N=Math.max(0,l-3),F=i[N],R=i[l-2],D=S[v][N],P=S[v][l-2],O+=P+(P-D)*(i[l-1]-R)/(R-F),z++),(T===0||T===l-1)&&v>0&&v<n-1&&(f=L[v+1]-L[v],b=L[v]-L[v-1],O+=(b*S[v+1][T]+f*S[v-1][T])/(b+f),z++),v===0?(B=Math.min(n-1,2),F=L[B],R=L[1],D=S[B][T],P=S[1][T],O+=P+(P-D)*(L[0]-R)/(R-F),z++):v===n-1&&(B=Math.max(0,n-3),F=L[B],R=L[n-2],D=S[B][T],P=S[n-2][T],O+=P+(P-D)*(L[n-1]-R)/(R-F),z++),(v===0||v===n-1)&&T>0&&T<l-1&&(f=i[T+1]-i[T],b=i[T]-i[T-1],O+=(b*S[v][T+1]+f*S[v][T-1])/(b+f),z++),z?O/=z:(h=i[T+1]-i[T],_=i[T]-i[T-1],a=L[v+1]-L[v],c=L[v]-L[v-1],p=h*_*(h+_),x=a*c*(a+c),O=(p*(c*S[v+1][T]+a*S[v-1][T])+x*(_*S[v][T+1]+h*S[v][T-1]))/(x*(_+h)+p*(c+a))),k=O-S[v][T],y=k/o,u+=y*y,A=z?0:.85,S[v][T]+=k*(1+A)}u=Math.sqrt(u)}while(M++<m&&u>C);return E.log("Smoother converged to",u,"after",M,"iterations"),S}},86411:function(tt,U,t){var E=t(3400).isArray1D;tt.exports=function(S,i,L){var T=L("x"),v=T&&T.length,d=L("y"),r=d&&d.length;if(!v&&!r)return!1;if(i._cheater=!T,(!v||E(T))&&(!r||E(d))){var e=v?T.length:1/0;r&&(e=Math.min(e,d.length)),i.a&&i.a.length&&(e=Math.min(e,i.a.length)),i.b&&i.b.length&&(e=Math.min(e,i.b.length)),i._length=e}else i._length=null;return!0}},83372:function(tt,U,t){var E=t(21776).Ks,S=t(6096),i=t(49084),L=t(45464),T=t(22548).defaultLine,v=t(92880).extendFlat,d=S.marker.line;tt.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:S.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},S.geojson,{}),featureidkey:S.featureidkey,text:v({},S.text,{}),hovertext:v({},S.hovertext,{}),marker:{line:{color:v({},d.color,{dflt:T}),width:v({},d.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:S.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:E(),showlegend:v({},L.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(tt,U,t){var E=t(38248),S=t(39032).BADNUM,i=t(47128),L=t(20148),T=t(4500);function v(d){return d&&typeof d=="string"}tt.exports=function(d,r){var e=r._length,l=new Array(e),n;r.geojson?n=function(h){return v(h)||E(h)}:n=v;for(var s=0;s<e;s++){var o=l[s]={},f=r.locations[s],b=r.z[s];n(f)&&E(b)?(o.loc=f,o.z=b):(o.loc=null,o.z=S),o.index=s}return L(l,r),i(d,r,{vals:r.z,containerStr:"",cLetter:"z"}),T(l,r),l}},30972:function(tt,U,t){var E=t(3400),S=t(27260),i=t(83372);tt.exports=function(L,T,v,d){function r(b,h){return E.coerce(L,T,i,b,h)}var e=r("locations"),l=r("z");if(!(e&&e.length&&E.isArrayOrTypedArray(l)&&l.length)){T.visible=!1;return}T._length=Math.min(e.length,l.length);var n=r("geojson"),s;(typeof n=="string"&&n!==""||E.isPlainObject(n))&&(s="geojson-id");var o=r("locationmode",s);o==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var f=r("marker.line.width");f&&r("marker.line.color"),r("marker.opacity"),S(L,T,d,r,{prefix:"",cLetter:"z"}),E.coerceSelectionMarkerOpacity(T,r)}},52428:function(tt){tt.exports=function(U,t,E,S,i){U.location=t.location,U.z=t.z;var L=S[i];return L.fIn&&L.fIn.properties&&(U.properties=L.fIn.properties),U.ct=L.ct,U}},69224:function(tt,U,t){var E=t(54460),S=t(83372),i=t(3400).fillText;tt.exports=function(T,v,d){var r=T.cd,e=r[0].trace,l=T.subplot,n,s,o,f,b=[v,d],h=[v+360,d];for(s=0;s<r.length;s++)if(n=r[s],f=!1,n._polygons){for(o=0;o<n._polygons.length;o++)n._polygons[o].contains(b)&&(f=!f),n._polygons[o].contains(h)&&(f=!f);if(f)break}if(!(!f||!n))return T.x0=T.x1=T.xa.c2p(n.ct),T.y0=T.y1=T.ya.c2p(n.ct),T.index=n.index,T.location=n.loc,T.z=n.z,T.zLabel=E.tickText(l.mockAxis,l.mockAxis.c2l(n.z),"hover").text,T.hovertemplate=n.hovertemplate,L(T,e,n),[T]};function L(T,v,d){if(!v.hovertemplate){var r=d.hi||v.hoverinfo,e=String(d.loc),l=r==="all"?S.hoverinfo.flags:r.split("+"),n=l.indexOf("name")!==-1,s=l.indexOf("location")!==-1,o=l.indexOf("z")!==-1,f=l.indexOf("text")!==-1,b=!n&&s,h=[];b?T.nameOverride=e:(n&&(T.nameOverride=v.name),s&&h.push(e)),o&&h.push(T.zLabel),f&&i(d,v,h),T.extraText=h.join("<br>")}}},54272:function(tt,U,t){tt.exports={attributes:t(83372),supplyDefaults:t(30972),colorbar:t(96288),calc:t(7924),calcGeoJSON:t(88364).calcGeoJSON,plot:t(88364).plot,style:t(7947).style,styleOnSelect:t(7947).styleOnSelect,hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),moduleType:"trace",name:"choropleth",basePlotModule:t(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(tt,U,t){var E=t(33428),S=t(3400),i=t(27144),L=t(59972).getTopojsonFeatures,T=t(19280).findExtremes,v=t(7947).style;function d(e,l,n){var s=l.layers.backplot.select(".choroplethlayer");S.makeTraceGroups(s,n,"trace choropleth").each(function(o){var f=E.select(this),b=f.selectAll("path.choroplethlocation").data(S.identity);b.enter().append("path").classed("choroplethlocation",!0),b.exit().remove(),v(e,o)})}function r(e,l){for(var n=e[0].trace,s=l[n.geo],o=s._subplot,f=n.locationmode,b=n._length,h=f==="geojson-id"?i.extractTraceFeature(e):L(n,o.topojson),_=[],a=[],c=0;c<b;c++){var p=e[c],x=f==="geojson-id"?p.fOut:i.locationToFeature(f,p.loc,h);if(x){p.geojson=x,p.ct=x.properties.ct,p._polygons=i.feature2polygons(x);var k=i.computeBbox(x);_.push(k[0],k[2]),a.push(k[1],k[3])}else p.geojson=null}if(s.fitbounds==="geojson"&&f==="geojson-id"){var y=i.computeBbox(i.getTraceGeojson(n));_=[y[0],y[2]],a=[y[1],y[3]]}var A={padded:!0};n._extremes.lon=T(s.lonaxis._ax,_,A),n._extremes.lat=T(s.lataxis._ax,a,A)}tt.exports={calcGeoJSON:r,plot:d}},17328:function(tt){tt.exports=function(U,t){var E=U.cd,S=U.xaxis,i=U.yaxis,L=[],T,v,d,r,e;if(t===!1)for(T=0;T<E.length;T++)E[T].selected=0;else for(T=0;T<E.length;T++)v=E[T],d=v.ct,d&&(r=S.c2p(d),e=i.c2p(d),t.contains([r,e],null,T,U)?(L.push({pointNumber:T,lon:d[0],lat:d[1]}),v.selected=1):v.selected=0);return L}},7947:function(tt,U,t){var E=t(33428),S=t(76308),i=t(43616),L=t(8932);function T(r,e){e&&v(r,e)}function v(r,e){var l=e[0].trace,n=e[0].node3,s=n.selectAll(".choroplethlocation"),o=l.marker||{},f=o.line||{},b=L.makeColorScaleFuncFromTrace(l);s.each(function(h){E.select(this).attr("fill",b(h.z)).call(S.stroke,h.mlc||f.color).call(i.dashLine,"",h.mlw||f.width||0).style("opacity",o.opacity)}),i.selectedPointStyle(s,l)}function d(r,e){var l=e[0].node3,n=e[0].trace;n.selectedpoints?i.selectedPointStyle(l.selectAll(".choroplethlocation"),n):v(r,e)}tt.exports={style:T,styleOnSelect:d}},45608:function(tt,U,t){var E=t(83372),S=t(49084),i=t(21776).Ks,L=t(45464),T=t(92880).extendFlat;tt.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},E.featureidkey,{}),below:{valType:"string",editType:"plot"},text:E.text,hovertext:E.hovertext,marker:{line:{color:T({},E.marker.line.color,{editType:"plot"}),width:T({},E.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},E.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},E.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},E.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:E.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:T({},L.showlegend,{dflt:!1})},S("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(tt,U,t){var E=t(38248),S=t(3400),i=t(8932),L=t(43616),T=t(44808).makeBlank,v=t(27144);function d(e){var l=e[0].trace,n=l.visible===!0&&l._length!==0,s={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},f=l._opts={fill:s,line:o,geojson:T()};if(!n)return f;var b=v.extractTraceFeature(e);if(!b)return f;var h=i.makeColorScaleFuncFromTrace(l),_=l.marker,a=_.line||{},c;S.isArrayOrTypedArray(_.opacity)&&(c=function(m){var M=m.mo;return E(M)?+S.constrain(M,0,1):0});var p;S.isArrayOrTypedArray(a.color)&&(p=function(m){return m.mlc});var x;S.isArrayOrTypedArray(a.width)&&(x=function(m){return m.mlw});for(var k=0;k<e.length;k++){var y=e[k],A=y.fOut;if(A){var C=A.properties;C.fc=h(y.z),c&&(C.mo=c(y)),p&&(C.mlc=p(y)),x&&(C.mlw=x(y)),y.ct=C.ct,y._polygons=v.feature2polygons(A)}}var u=c?{type:"identity",property:"mo"}:_.opacity;return S.extendFlat(s.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":u}),S.extendFlat(o.paint,{"line-color":p?{type:"identity",property:"mlc"}:a.color,"line-width":x?{type:"identity",property:"mlw"}:a.width,"line-opacity":u}),s.layout.visibility="visible",o.layout.visibility="visible",f.geojson={type:"FeatureCollection",features:b},r(e),f}function r(e){var l=e[0].trace,n=l._opts,s;if(l.selectedpoints){for(var o=L.makeSelectedPointStyleFns(l),f=0;f<e.length;f++){var b=e[f];b.fOut&&(b.fOut.properties.mo2=o.selectedOpacityFn(b))}s={type:"identity",property:"mo2"}}else s=S.isArrayOrTypedArray(l.marker.opacity)?{type:"identity",property:"mo"}:l.marker.opacity;return S.extendFlat(n.fill.paint,{"fill-opacity":s}),S.extendFlat(n.line.paint,{"line-opacity":s}),n}tt.exports={convert:d,convertOnSelect:r}},9352:function(tt,U,t){var E=t(3400),S=t(27260),i=t(45608);tt.exports=function(L,T,v,d){function r(o,f){return E.coerce(L,T,i,o,f)}var e=r("locations"),l=r("z"),n=r("geojson");if(!E.isArrayOrTypedArray(e)||!e.length||!E.isArrayOrTypedArray(l)||!l.length||!(typeof n=="string"&&n!==""||E.isPlainObject(n))){T.visible=!1;return}r("featureidkey"),T._length=Math.min(e.length,l.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var s=r("marker.line.width");s&&r("marker.line.color"),r("marker.opacity"),S(L,T,d,r,{prefix:"",cLetter:"z"}),E.coerceSelectionMarkerOpacity(T,r)}},85404:function(tt,U,t){tt.exports={attributes:t(45608),supplyDefaults:t(9352),colorbar:t(96288),calc:t(7924),plot:t(61288),hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),styleOnSelect:function(E,S){if(S){var i=S[0].trace;i._glTrace.updateOnSelect(S)}},getBelow:function(E,S){for(var i=S.getMapLayers(),L=i.length-2;L>=0;L--){var T=i[L].id;if(typeof T=="string"&&T.indexOf("water")===0){for(var v=L+1;v<i.length;v++)if(T=i[v].id,typeof T=="string"&&T.indexOf("plotly-")===-1)return T}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:t(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(tt,U,t){var E=t(13504).convert,S=t(13504).convertOnSelect,i=t(47552).traceLayerPrefix;function L(v,d){this.type="choroplethmapbox",this.subplot=v,this.uid=d,this.sourceId="source-"+d,this.layerList=[["fill",i+d+"-fill"],["line",i+d+"-line"]],this.below=null}var T=L.prototype;T.update=function(v){this._update(E(v)),v[0].trace._glTrace=this},T.updateOnSelect=function(v){this._update(S(v))},T._update=function(v){var d=this.subplot,r=this.layerList,e=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(v.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(v,e),this.below=e);for(var l=0;l<r.length;l++){var n=r[l],s=n[0],o=n[1],f=v[s];d.setOptions(o,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&d.setOptions(o,"setPaintProperty",f.paint)}},T._addLayers=function(v,d){for(var r=this.subplot,e=this.layerList,l=this.sourceId,n=0;n<e.length;n++){var s=e[n],o=s[0],f=v[o];r.addLayer({type:o,id:s[1],source:l,layout:f.layout,paint:f.paint},d)}},T._removeLayers=function(){for(var v=this.subplot.map,d=this.layerList,r=d.length-1;r>=0;r--)v.removeLayer(d[r][1])},T.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},tt.exports=function(v,d){var r=d[0].trace,e=new L(v,r.uid),l=e.sourceId,n=E(d),s=e.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(l,{type:"geojson",data:n.geojson}),e._addLayers(n,s),d[0].trace._glTrace=e,e}},86040:function(tt,U,t){var E=t(49084),S=t(29736).axisHoverFormat,i=t(21776).Ks,L=t(52948),T=t(45464),v=t(92880).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:S("u",1),vhoverformat:S("v",1),whoverformat:S("w",1),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(d,E("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(e){d[e]=L[e]}),d.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,tt.exports=d},83344:function(tt,U,t){var E=t(47128);tt.exports=function(S,i){for(var L=i.u,T=i.v,v=i.w,d=Math.min(i.x.length,i.y.length,i.z.length,L.length,T.length,v.length),r=-1/0,e=1/0,l=0;l<d;l++){var n=L[l],s=T[l],o=v[l],f=Math.sqrt(n*n+s*s+o*o);r=Math.max(r,f),e=Math.min(e,f)}i._len=d,i._normMax=r,E(S,i,{vals:[e,r],containerStr:"",cLetter:"c"})}},6648:function(tt,U,t){var E=t(67792).gl_cone3d,S=t(67792).gl_cone3d.createConeMesh,i=t(3400).simpleMap,L=t(33040).parseColorScale,T=t(8932).extractOpts,v=t(3400).isArrayOrTypedArray,d=t(52094);function r(b,h){this.scene=b,this.uid=h,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(b){if(b.object===this.mesh){var h=b.index=b.data.index,_=this.data.x[h],a=this.data.y[h],c=this.data.z[h],p=this.data.u[h],x=this.data.v[h],k=this.data.w[h];b.traceCoordinate=[_,a,c,p,x,k,Math.sqrt(p*p+x*x+k*k)];var y=this.data.hovertext||this.data.text;return v(y)&&y[h]!==void 0?b.textLabel=y[h]:y&&(b.textLabel=y),!0}};var l={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},s={tip:1,tail:1,cm:.75,center:.5};function o(b,h){var _=b.fullSceneLayout,a=b.dataScale,c={};function p(C,u){var m=_[u],M=a[l[u]];return i(C,function(w){return m.d2l(w)*M})}c.vectors=d(p(h.u,"xaxis"),p(h.v,"yaxis"),p(h.w,"zaxis"),h._len),c.positions=d(p(h.x,"xaxis"),p(h.y,"yaxis"),p(h.z,"zaxis"),h._len);var x=T(h);c.colormap=L(h),c.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],c.coneOffset=n[h.anchor];var k=h.sizemode;k==="scaled"?c.coneSize=h.sizeref||.5:k==="absolute"?c.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:k==="raw"&&(c.coneSize=h.sizeref),c.coneSizemode=k;var y=E(c),A=h.lightposition;return y.lightPosition=[A.x,A.y,A.z],y.ambient=h.lighting.ambient,y.diffuse=h.lighting.diffuse,y.specular=h.lighting.specular,y.roughness=h.lighting.roughness,y.fresnel=h.lighting.fresnel,y.opacity=h.opacity,h._pad=s[h.anchor]*y.vectorScale*y.coneScale*h._normMax,y}e.update=function(b){this.data=b;var h=o(this.scene,b);this.mesh.update(h)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(b,h){var _=b.glplot.gl,a=o(b,h),c=S(_,a),p=new r(b,h.uid);return p.mesh=c,p.data=h,c._trace=p,b.glplot.add(c),p}tt.exports=f},86096:function(tt,U,t){var E=t(3400),S=t(27260),i=t(86040);tt.exports=function(L,T,v,d){function r(h,_){return E.coerce(L,T,i,h,_)}var e=r("u"),l=r("v"),n=r("w"),s=r("x"),o=r("y"),f=r("z");if(!e||!e.length||!l||!l.length||!n||!n.length||!s||!s.length||!o||!o.length||!f||!f.length){T.visible=!1;return}var b=r("sizemode");r("sizeref",b==="raw"?1:.5),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),S(L,T,d,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),T._length=null}},26048:function(tt,U,t){tt.exports={moduleType:"trace",name:"cone",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(86040),supplyDefaults:t(86096),colorbar:{min:"cmin",max:"cmax"},calc:t(83344),plot:t(6648),eventData:function(E,S){return E.norm=S.traceCoordinate[6],E},meta:{}}},67104:function(tt,U,t){var E=t(83328),S=t(52904),i=t(29736),L=i.axisHoverFormat,T=i.descriptionOnlyNumbers,v=t(49084),d=t(98192).u,r=t(25376),e=t(92880).extendFlat,l=t(69104),n=l.COMPARISON_OPS2,s=l.INTERVAL_OPS,o=S.line;tt.exports=e({z:E.z,x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,text:E.text,hovertext:E.hovertext,transpose:E.transpose,xtype:E.xtype,ytype:E.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:E.hovertemplate,texttemplate:e({},E.texttemplate,{}),textfont:e({},E.textfont,{}),hoverongaps:E.hoverongaps,connectgaps:e({},E.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:e({},o.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:d,smoothing:e({},o.smoothing,{}),editType:"plot"},zorder:S.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(tt,U,t){var E=t(8932),S=t(19512),i=t(54444),L=t(46960);tt.exports=function(T,v){var d=S(T,v),r=d[0].z;i(v,r);var e=v.contours,l=E.extractOpts(v),n;if(e.coloring==="heatmap"&&l.auto&&v.autocontour===!1){var s=e.start,o=L(e),f=e.size||1,b=Math.floor((o-s)/f)+1;isFinite(f)||(f=1,b=1);var h=s-f/2,_=h+b*f;n=[h,_]}else n=r;return E.calc(T,v,{vals:n,cLetter:"z"}),d}},56008:function(tt){tt.exports=function(U,t){var E=U[0],S=E.z,i;switch(t.type){case"levels":var L=Math.min(S[0][0],S[0][1]);for(i=0;i<U.length;i++){var T=U[i];T.prefixBoundary=!T.edgepaths.length&&(L>T.level||T.starts.length&&L===T.level)}break;case"constraint":if(E.prefixBoundary=!1,E.edgepaths.length)return;var v=E.x.length,d=E.y.length,r=-1/0,e=1/0;for(i=0;i<d;i++)e=Math.min(e,S[i][0]),e=Math.min(e,S[i][v-1]),r=Math.max(r,S[i][0]),r=Math.max(r,S[i][v-1]);for(i=1;i<v-1;i++)e=Math.min(e,S[0][i]),e=Math.min(e,S[d-1][i]),r=Math.max(r,S[0][i]),r=Math.max(r,S[d-1][i]);var l=t.value,n,s;switch(t._operation){case">":l>r&&(E.prefixBoundary=!0);break;case"<":(l<e||E.starts.length&&l===e)&&(E.prefixBoundary=!0);break;case"[]":n=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),(s<e||n>r||E.starts.length&&s===e)&&(E.prefixBoundary=!0);break;case"][":n=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),n<e&&s>r&&(E.prefixBoundary=!0);break}break}}},55296:function(tt,U,t){var E=t(8932),S=t(41076),i=t(46960);function L(T,v,d){var r=v.contours,e=v.line,l=r.size||1,n=r.coloring,s=S(v,{isColorbar:!0});if(n==="heatmap"){var o=E.extractOpts(v);d._fillgradient=o.reversescale?E.flipScale(o.colorscale):o.colorscale,d._zrange=[o.min,o.max]}else n==="fill"&&(d._fillcolor=s);d._line={color:n==="lines"?s:e.color,width:r.showlines!==!1?e.width:0,dash:e.dash},d._levels={start:r.start,end:i(r),size:l}}tt.exports={min:"zmin",max:"zmax",calc:L}},93252:function(tt){tt.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(tt,U,t){var E=t(38248),S=t(17428),i=t(76308),L=i.addOpacity,T=i.opacity,v=t(69104),d=t(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,e=v.COMPARISON_OPS2;tt.exports=function(n,s,o,f,b,h){var _=s.contours,a,c,p,x=o("contours.operation");if(_._operation=r[x],l(o,_),x==="="?a=_.showlines=!0:(a=o("contours.showlines"),p=o("fillcolor",L((n.line||{}).color||b,.5))),a){var k=p&&T(p)?L(s.fillcolor,1):b;c=o("line.color",k),o("line.width",2),o("line.dash")}o("line.smoothing"),S(o,f,c,h)};function l(n,s){var o;e.indexOf(s.operation)===-1?(n("contours.value",[0,1]),d(s.value)?s.value.length>2?s.value=s.value.slice(2):s.length===0?s.value=[0,1]:s.length<2?(o=parseFloat(s.value[0]),s.value=[o,o+1]):s.value=[parseFloat(s.value[0]),parseFloat(s.value[1])]:E(s.value)&&(o=parseFloat(s.value),s.value=[o,o+1])):(n("contours.value",0),E(s.value)||(d(s.value)?s.value=parseFloat(s.value[0]):s.value=0))}},3212:function(tt,U,t){var E=t(69104),S=t(38248);tt.exports={"[]":L("[]"),"][":L("]["),">":T(">"),"<":T("<"),"=":T("=")};function i(v,d){var r=Array.isArray(d),e;function l(n){return S(n)?+n:null}return E.COMPARISON_OPS2.indexOf(v)!==-1?e=l(r?d[0]:d):E.INTERVAL_OPS.indexOf(v)!==-1?e=r?[l(d[0]),l(d[1])]:[l(d),l(d)]:E.SET_OPS.indexOf(v)!==-1&&(e=r?d.map(l):[l(d)]),e}function L(v){return function(d){d=i(v,d);var r=Math.min(d[0],d[1]),e=Math.max(d[0],d[1]);return{start:r,end:e,size:e-r}}}function T(v){return function(d){return d=i(v,d),{start:d,end:1/0,size:1/0}}}},84952:function(tt){tt.exports=function(U,t,E,S){var i=S("contours.start"),L=S("contours.end"),T=i===!1||L===!1,v=E("contours.size"),d;T?d=t.autocontour=!0:d=E("autocontour",!1),(d||!v)&&E("ncontours")}},82172:function(tt,U,t){var E=t(3400);tt.exports=function(i,L){var T,v,d,r=function(n){return n.reverse()},e=function(n){return n};switch(L){case"=":case"<":return i;case">":for(i.length!==1&&E.warn("Contour data invalid for the specified inequality operation."),v=i[0],T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=r(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=r(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=r(v.starts[T]);return i;case"][":var l=r;r=e,e=l;case"[]":for(i.length!==2&&E.warn("Contour data invalid for the specified inequality range operation."),v=S(i[0]),d=S(i[1]),T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=r(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=r(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=r(v.starts[T]);for(;d.edgepaths.length;)v.edgepaths.push(e(d.edgepaths.shift()));for(;d.paths.length;)v.paths.push(e(d.paths.shift()));for(;d.starts.length;)v.starts.push(e(d.starts.shift()));return[v]}};function S(i){return E.extendFlat({},i,{edgepaths:E.extendDeep([],i.edgepaths),paths:E.extendDeep([],i.paths),starts:E.extendDeep([],i.starts)})}},57004:function(tt,U,t){var E=t(3400),S=t(51264),i=t(31147),L=t(95536),T=t(84952),v=t(97680),d=t(39096),r=t(67104);tt.exports=function(e,l,n,s){function o(_,a){return E.coerce(e,l,r,_,a)}function f(_){return E.coerce2(e,l,r,_)}var b=S(e,l,o,s);if(!b){l.visible=!1;return}i(e,l,s,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hoverongaps"),o("hovertemplate");var h=o("contours.type")==="constraint";o("connectgaps",E.isArray1D(l.z)),h?L(e,l,o,s,n):(T(e,l,o,f),v(e,l,o,s)),l.contours&&l.contours.coloring==="heatmap"&&d(o,s),o("zorder")}},61512:function(tt,U,t){var E=t(3400),S=t(3212),i=t(46960);tt.exports=function(L,T,v){for(var d=L.type==="constraint"?S[L._operation](L.value):L,r=d.size,e=[],l=i(d),n=v.trace._carpetTrace,s=n?{xaxis:n.aaxis,yaxis:n.baxis,x:v.a,y:v.b}:{xaxis:T.xaxis,yaxis:T.yaxis,x:v.x,y:v.y},o=d.start;o<l;o+=r)if(e.push(E.extendFlat({level:o,crossings:{},starts:[],edgepaths:[],paths:[],z:v.z,smoothing:v.trace.line.smoothing},s)),e.length>1e3){E.warn("Too many contours, clipping at 1000",L);break}return e}},46960:function(tt){tt.exports=function(U){return U.end+U.size/1e6}},88748:function(tt,U,t){var E=t(3400),S=t(93252);tt.exports=function(r,e,l){var n,s,o,f,b;for(e=e||.01,l=l||.01,o=0;o<r.length;o++){for(f=r[o],b=0;b<f.starts.length;b++)s=f.starts[b],T(f,s,"edge",e,l);for(n=0;Object.keys(f.crossings).length&&n<1e4;)n++,s=Object.keys(f.crossings)[0].split(",").map(Number),T(f,s,void 0,e,l);n===1e4&&E.log("Infinite loop in contour?")}};function i(r,e,l,n){return Math.abs(r[0]-e[0])<l&&Math.abs(r[1]-e[1])<n}function L(r,e){var l=r[2]-e[2],n=r[3]-e[3];return Math.sqrt(l*l+n*n)}function T(r,e,l,n,s){var o=e.join(","),f=r.crossings[o],b=v(f,l,e),h=[d(r,e,[-b[0],-b[1]])],_=r.z.length,a=r.z[0].length,c=e.slice(),p=b.slice(),x;for(x=0;x<1e4;x++){if(f>20?(f=S.CHOOSESADDLE[f][(b[0]||b[1])<0?0:1],r.crossings[o]=S.SADDLEREMAINDER[f]):delete r.crossings[o],b=S.NEWDELTA[f],!b){E.log("Found bad marching index:",f,e,r.level);break}h.push(d(r,e,b)),e[0]+=b[0],e[1]+=b[1],o=e.join(","),i(h[h.length-1],h[h.length-2],n,s)&&h.pop();var k=b[0]&&(e[0]<0||e[0]>a-2)||b[1]&&(e[1]<0||e[1]>_-2),y=e[0]===c[0]&&e[1]===c[1]&&b[0]===p[0]&&b[1]===p[1];if(y||l&&k)break;f=r.crossings[o]}x===1e4&&E.log("Infinite loop in contour?");var A=i(h[0],h[h.length-1],n,s),C=0,u=.2*r.smoothing,m=[],M=0,w,z,O,D,P,F,R,N,B,q,V;for(x=1;x<h.length;x++)R=L(h[x],h[x-1]),C+=R,m.push(R);var J=C/m.length*u;function it(Z){return h[Z%h.length]}for(x=h.length-2;x>=M;x--)if(w=m[x],w<J){for(O=0,z=x-1;z>=M&&w+m[z]<J;z--)w+=m[z];if(A&&x===h.length-2)for(O=0;O<z&&w+m[O]<J;O++)w+=m[O];P=x-z+O+1,F=Math.floor((x+z+O+2)/2),!A&&x===h.length-2?D=h[h.length-1]:!A&&z===-1?D=h[0]:P%2?D=it(F):D=[(it(F)[0]+it(F+1)[0])/2,(it(F)[1]+it(F+1)[1])/2],h.splice(z+1,x-z+1,D),x=z+1,O&&(M=O),A&&(x===h.length-2?h[O]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,M),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(A)h.pop(),r.paths.push(h);else{l||E.log("Unclosed interior contour?",r.level,c.join(","),h.join("L"));var nt=!1;for(N=0;N<r.edgepaths.length;N++)if(q=r.edgepaths[N],!nt&&i(q[0],h[h.length-1],n,s)){h.pop(),nt=!0;var Y=!1;for(B=0;B<r.edgepaths.length;B++)if(V=r.edgepaths[B],i(V[V.length-1],h[0],n,s)){Y=!0,h.shift(),r.edgepaths.splice(N,1),B===N?r.paths.push(h.concat(V)):(B>N&&B--,r.edgepaths[B]=V.concat(h,q));break}Y||(r.edgepaths[N]=h.concat(q))}for(N=0;N<r.edgepaths.length&&!nt;N++)q=r.edgepaths[N],i(q[q.length-1],h[0],n,s)&&(h.shift(),r.edgepaths[N]=q.concat(h),nt=!0);nt||r.edgepaths.push(h)}}function v(r,e,l){var n=0,s=0;return r>20&&e?r===208||r===1114?n=l[0]===0?1:-1:s=l[1]===0?1:-1:S.BOTTOMSTART.indexOf(r)!==-1?s=1:S.LEFTSTART.indexOf(r)!==-1?n=1:S.TOPSTART.indexOf(r)!==-1?s=-1:n=-1,[n,s]}function d(r,e,l){var n=e[0]+Math.max(l[0],0),s=e[1]+Math.max(l[1],0),o=r.z[s][n],f=r.xaxis,b=r.yaxis;if(l[1]){var h=(r.level-o)/(r.z[s][n+1]-o),_=(h!==1?(1-h)*f.c2l(r.x[n]):0)+(h!==0?h*f.c2l(r.x[n+1]):0);return[f.c2p(f.l2c(_),!0),b.c2p(r.y[s],!0),n+h,s]}else{var a=(r.level-o)/(r.z[s+1][n]-o),c=(a!==1?(1-a)*b.c2l(r.y[s]):0)+(a!==0?a*b.c2l(r.y[s+1]):0);return[f.c2p(r.x[n],!0),b.c2p(b.l2c(c),!0),n,s+a]}}},38200:function(tt,U,t){var E=t(76308),S=t(55512);tt.exports=function(i,L,T,v,d){d||(d={}),d.isContour=!0;var r=S(i,L,T,v,d);return r&&r.forEach(function(e){var l=e.trace;l.contours.type==="constraint"&&(l.fillcolor&&E.opacity(l.fillcolor)?e.color=E.addOpacity(l.fillcolor,1):l.contours.showlines&&E.opacity(l.line.color)&&(e.color=E.addOpacity(l.line.color,1)))}),r}},66240:function(tt,U,t){tt.exports={attributes:t(67104),supplyDefaults:t(57004),calc:t(20688),plot:t(23676).plot,style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"contour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(tt,U,t){var E=t(3400);tt.exports=function(S,i,L,T){T||(T={});var v=S("contours.showlabels");if(v){var d=i.font;E.coerceFont(S,"contours.labelfont",{weight:d.weight,style:d.style,variant:d.variant,family:d.family,size:d.size,color:L}),S("contours.labelformat")}T.hasHover!==!1&&S("zhoverformat")}},41076:function(tt,U,t){var E=t(33428),S=t(8932),i=t(46960);tt.exports=function(L){var T=L.contours,v=T.start,d=i(T),r=T.size||1,e=Math.floor((d-v)/r)+1,l=T.coloring==="lines"?0:1,n=S.extractOpts(L);isFinite(r)||(r=1,e=1);var s=n.reversescale?S.flipScale(n.colorscale):n.colorscale,o=s.length,f=new Array(o),b=new Array(o),h,_,a=n.min,c=n.max;if(T.coloring==="heatmap"){for(_=0;_<o;_++)h=s[_],f[_]=h[0]*(c-a)+a,b[_]=h[1];var p=E.extent([a,c,T.start,T.start+r*(e-1)]),x=p[a<c?0:1],k=p[a<c?1:0];x!==a&&(f.splice(0,0,x),b.splice(0,0,b[0])),k!==c&&(f.push(k),b.push(b[b.length-1]))}else{var y=L._input&&typeof L._input.zmin=="number"&&typeof L._input.zmax=="number";for(y&&(v<=a||d>=c)&&(v<=a&&(v=a),d>=c&&(d=c),e=Math.floor((d-v)/r)+1,l=0),_=0;_<o;_++)h=s[_],f[_]=(h[0]*(e+l-1)-l/2)*r+v,b[_]=h[1];(y||L.autocontour)&&(f[0]>a&&(f.unshift(a),b.unshift(b[0])),f[f.length-1]<c&&(f.push(c),b.push(b[b.length-1])))}return S.makeColorScaleFunc({domain:f,range:b},{noNumericCheck:!0})}},72424:function(tt,U,t){var E=t(93252);tt.exports=function(i){var L=i[0].z,T=L.length,v=L[0].length,d=T===2||v===2,r,e,l,n,s,o,f,b,h;for(e=0;e<T-1;e++)for(n=[],e===0&&(n=n.concat(E.BOTTOMSTART)),e===T-2&&(n=n.concat(E.TOPSTART)),r=0;r<v-1;r++)for(l=n.slice(),r===0&&(l=l.concat(E.LEFTSTART)),r===v-2&&(l=l.concat(E.RIGHTSTART)),s=r+","+e,o=[[L[e][r],L[e][r+1]],[L[e+1][r],L[e+1][r+1]]],h=0;h<i.length;h++)b=i[h],f=S(b.level,o),f&&(b.crossings[s]=f,l.indexOf(f)!==-1&&(b.starts.push([r,e]),d&&l.indexOf(f,l.indexOf(f)+1)!==-1&&b.starts.push([r,e])))};function S(i,L){var T=(L[0][0]>i?0:1)+(L[0][1]>i?0:2)+(L[1][1]>i?0:4)+(L[1][0]>i?0:8);if(T===5||T===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return i>v?T===5?713:1114:T===5?104:208}return T===15?0:T}},23676:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(8932),T=t(72736),v=t(54460),d=t(78344),r=t(41420),e=t(72424),l=t(88748),n=t(61512),s=t(82172),o=t(56008),f=t(93252),b=f.LABELOPTIMIZER;U.plot=function(y,A,C,u){var m=A.xaxis,M=A.yaxis;S.makeTraceGroups(u,C,"contour").each(function(w){var z=E.select(this),O=w[0],D=O.trace,P=O.x,F=O.y,R=D.contours,N=n(R,A,O),B=S.ensureSingle(z,"g","heatmapcoloring"),q=[];R.coloring==="heatmap"&&(q=[w]),r(y,A,q,B),e(N),l(N);var V=m.c2p(P[0],!0),J=m.c2p(P[P.length-1],!0),it=M.c2p(F[0],!0),nt=M.c2p(F[F.length-1],!0),Y=[[V,nt],[J,nt],[J,it],[V,it]],Z=N;R.type==="constraint"&&(Z=s(N,R._operation)),h(z,Y,R),_(z,Z,Y,R),c(z,N,y,O,R),x(z,A,y,O,Y)})};function h(y,A,C){var u=S.ensureSingle(y,"g","contourbg"),m=u.selectAll("path").data(C.coloring==="fill"?[0]:[]);m.enter().append("path"),m.exit().remove(),m.attr("d","M"+A.join("L")+"Z").style("stroke","none")}function _(y,A,C,u){var m=u.coloring==="fill"||u.type==="constraint"&&u._operation!=="=",M="M"+C.join("L")+"Z";m&&o(A,u);var w=S.ensureSingle(y,"g","contourfill"),z=w.selectAll("path").data(m?A:[]);z.enter().append("path"),z.exit().remove(),z.each(function(O){var D=(O.prefixBoundary?M:"")+a(O,C);D?E.select(this).attr("d",D).style("stroke","none"):E.select(this).remove()})}function a(y,A){var C="",u=0,m=y.edgepaths.map(function(J,it){return it}),M=!0,w,z,O,D,P,F;function R(J){return Math.abs(J[1]-A[0][1])<.01}function N(J){return Math.abs(J[1]-A[2][1])<.01}function B(J){return Math.abs(J[0]-A[0][0])<.01}function q(J){return Math.abs(J[0]-A[2][0])<.01}for(;m.length;){for(F=i.smoothopen(y.edgepaths[u],y.smoothing),C+=M?F:F.replace(/^M/,"L"),m.splice(m.indexOf(u),1),w=y.edgepaths[u][y.edgepaths[u].length-1],D=-1,O=0;O<4;O++){if(!w){S.log("Missing end?",u,y);break}for(R(w)&&!q(w)?z=A[1]:B(w)?z=A[0]:N(w)?z=A[3]:q(w)&&(z=A[2]),P=0;P<y.edgepaths.length;P++){var V=y.edgepaths[P][0];Math.abs(w[0]-z[0])<.01?Math.abs(w[0]-V[0])<.01&&(V[1]-w[1])*(z[1]-V[1])>=0&&(z=V,D=P):Math.abs(w[1]-z[1])<.01?Math.abs(w[1]-V[1])<.01&&(V[0]-w[0])*(z[0]-V[0])>=0&&(z=V,D=P):S.log("endpt to newendpt is not vert. or horz.",w,z,V)}if(w=z,D>=0)break;C+="L"+z}if(D===y.edgepaths.length){S.log("unclosed perimeter path");break}u=D,M=m.indexOf(u)===-1,M&&(u=m[0],C+="Z")}for(u=0;u<y.paths.length;u++)C+=i.smoothclosed(y.paths[u],y.smoothing);return C}function c(y,A,C,u,m){var M=C._context.staticPlot,w=S.ensureSingle(y,"g","contourlines"),z=m.showlines!==!1,O=m.showlabels,D=z&&O,P=U.createLines(w,z||O,A,M),F=U.createLineClip(w,D,C,u.trace.uid),R=y.selectAll("g.contourlabels").data(O?[0]:[]);if(R.exit().remove(),R.enter().append("g").classed("contourlabels",!0),O){var N=[],B=[];S.clearLocationCache();var q=U.labelFormatter(C,u),V=i.tester.append("text").attr("data-notex",1).call(i.font,m.labelfont),J=A[0].xaxis,it=A[0].yaxis,nt=J._length,Y=it._length,Z=J.range,$=it.range,G=S.aggNums(Math.min,null,u.x),rt=S.aggNums(Math.max,null,u.x),ot=S.aggNums(Math.min,null,u.y),W=S.aggNums(Math.max,null,u.y),H=Math.max(J.c2p(G,!0),0),at=Math.min(J.c2p(rt,!0),nt),Q=Math.max(it.c2p(W,!0),0),ct=Math.min(it.c2p(ot,!0),Y),ft={};Z[0]<Z[1]?(ft.left=H,ft.right=at):(ft.left=at,ft.right=H),$[0]<$[1]?(ft.top=Q,ft.bottom=ct):(ft.top=ct,ft.bottom=Q),ft.middle=(ft.top+ft.bottom)/2,ft.center=(ft.left+ft.right)/2,N.push([[ft.left,ft.top],[ft.right,ft.top],[ft.right,ft.bottom],[ft.left,ft.bottom]]);var yt=Math.sqrt(nt*nt+Y*Y),xt=f.LABELDISTANCE*yt/Math.max(1,A.length/f.LABELINCREASE);P.each(function(Lt){var gt=U.calcTextOpts(Lt.level,q,V,C);E.select(this).selectAll("path").each(function(){var mt=this,vt=S.getVisibleSegment(mt,ft,gt.height/2);if(vt&&!(vt.len<(gt.width+gt.height)*f.LABELMIN))for(var At=Math.min(Math.ceil(vt.len/xt),f.LABELMAX),Ot=0;Ot<At;Ot++){var Pt=U.findBestTextLocation(mt,vt,gt,B,ft);if(!Pt)break;U.addLabelData(Pt,gt,B,N)}})}),V.remove(),U.drawLabels(R,B,C,F,D?N:null)}O&&!z&&P.remove()}U.createLines=function(y,A,C,u){var m=C[0].smoothing,M=y.selectAll("g.contourlevel").data(A?C:[]);if(M.exit().remove(),M.enter().append("g").classed("contourlevel",!0),A){var w=M.selectAll("path.openline").data(function(O){return O.pedgepaths||O.edgepaths});w.exit().remove(),w.enter().append("path").classed("openline",!0),w.attr("d",function(O){return i.smoothopen(O,m)}).style("stroke-miterlimit",1).style("vector-effect",u?"none":"non-scaling-stroke");var z=M.selectAll("path.closedline").data(function(O){return O.ppaths||O.paths});z.exit().remove(),z.enter().append("path").classed("closedline",!0),z.attr("d",function(O){return i.smoothclosed(O,m)}).style("stroke-miterlimit",1).style("vector-effect",u?"none":"non-scaling-stroke")}return M},U.createLineClip=function(y,A,C,u){var m=C._fullLayout._clips,M=A?"clipline"+u:null,w=m.selectAll("#"+M).data(A?[0]:[]);return w.exit().remove(),w.enter().append("clipPath").classed("contourlineclip",!0).attr("id",M),i.setClipUrl(y,M,C),w},U.labelFormatter=function(y,A){var C=y._fullLayout,u=A.trace,m=u.contours,M={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(m.labelformat)M.tickformat=m.labelformat,d(M,C);else{var w=L.extractOpts(u);if(w&&w.colorbar&&w.colorbar._axis)M=w.colorbar._axis;else{if(m.type==="constraint"){var z=m.value;S.isArrayOrTypedArray(z)?M.range=[z[0],z[z.length-1]]:M.range=[z,z]}else M.range=[m.start,m.end],M.nticks=(m.end-m.start)/m.size;M.range[0]===M.range[1]&&(M.range[1]+=M.range[0]||1),M.nticks||(M.nticks=1e3),d(M,C),v.prepTicks(M),M._tmin=null,M._tmax=null}}return function(O){return v.tickText(M,O).text}},U.calcTextOpts=function(y,A,C,u){var m=A(y);C.text(m).call(T.convertToTspans,u);var M=C.node(),w=i.bBox(M,!0);return{text:m,width:w.width,height:w.height,fontSize:+M.style["font-size"].replace("px",""),level:y,dy:(w.top+w.bottom)/2}},U.findBestTextLocation=function(y,A,C,u,m){var M=C.width,w,z,O,D,P;A.isClosed?(z=A.len/b.INITIALSEARCHPOINTS,w=A.min+z/2,O=A.max):(z=(A.len-M)/(b.INITIALSEARCHPOINTS+1),w=A.min+z+M/2,O=A.max-(z+M)/2);for(var F=1/0,R=0;R<b.ITERATIONS;R++){for(var N=w;N<O;N+=z){var B=S.getTextLocation(y,A.total,N,M),q=p(B,C,u,m);q<F&&(F=q,P=B,D=N)}if(F>b.MAXCOST*2)break;R&&(z/=2),w=D-z/2,O=w+z*1.5}if(F<=b.MAXCOST)return P};function p(y,A,C,u){var m=A.width/2,M=A.height/2,w=y.x,z=y.y,O=y.theta,D=Math.cos(O)*m,P=Math.sin(O)*m,F=(w>u.center?u.right-w:w-u.left)/(D+Math.abs(Math.sin(O)*M)),R=(z>u.middle?u.bottom-z:z-u.top)/(Math.abs(P)+Math.cos(O)*M);if(F<1||R<1)return 1/0;var N=b.EDGECOST*(1/(F-1)+1/(R-1));N+=b.ANGLECOST*O*O;for(var B=w-D,q=z-P,V=w+D,J=z+P,it=0;it<C.length;it++){var nt=C[it],Y=Math.cos(nt.theta)*nt.width/2,Z=Math.sin(nt.theta)*nt.width/2,$=S.segmentDistance(B,q,V,J,nt.x-Y,nt.y-Z,nt.x+Y,nt.y+Z)*2/(A.height+nt.height),G=nt.level===A.level,rt=G?b.SAMELEVELDISTANCE:1;if($<=rt)return 1/0;var ot=b.NEIGHBORCOST*(G?b.SAMELEVELFACTOR:1);N+=ot/($-rt)}return N}U.addLabelData=function(y,A,C,u){var m=A.fontSize,M=A.width+m/3,w=Math.max(0,A.height-m/3),z=y.x,O=y.y,D=y.theta,P=Math.sin(D),F=Math.cos(D),R=function(B,q){return[z+B*F-q*P,O+B*P+q*F]},N=[R(-M/2,-w/2),R(-M/2,w/2),R(M/2,w/2),R(M/2,-w/2)];C.push({text:A.text,x:z,y:O,dy:A.dy,theta:D,level:A.level,width:M,height:w}),u.push(N)},U.drawLabels=function(y,A,C,u,m){var M=y.selectAll("text").data(A,function(D){return D.text+","+D.x+","+D.y+","+D.theta});if(M.exit().remove(),M.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(D){var P=D.x+Math.sin(D.theta)*D.dy,F=D.y-Math.cos(D.theta)*D.dy;E.select(this).text(D.text).attr({x:P,y:F,transform:"rotate("+180*D.theta/Math.PI+" "+P+" "+F+")"}).call(T.convertToTspans,C)}),m){for(var w="",z=0;z<m.length;z++)w+="M"+m[z].join("L")+"Z";var O=S.ensureSingle(u,"path","");O.attr("d",w)}};function x(y,A,C,u,m){var M=u.trace,w=C._fullLayout._clips,z="clip"+M.uid,O=w.selectAll("#"+z).data(M.connectgaps?[]:[0]);if(O.enter().append("clipPath").classed("contourclip",!0).attr("id",z),O.exit().remove(),M.connectgaps===!1){var D={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:A.xaxis,yaxis:A.yaxis,x:u.x,y:u.y,z:k(u),smoothing:0};e([D]),l([D]),o([D],{type:"levels"});var P=S.ensureSingle(O,"path","");P.attr("d",(D.prefixBoundary?"M"+m.join("L")+"Z":"")+a(D,m))}else z=null;i.setClipUrl(y,z,C)}function k(y){var A=y.trace._emptypoints,C=[],u=y.z.length,m=y.z[0].length,M,w=[],z;for(M=0;M<m;M++)w.push(1);for(M=0;M<u;M++)C.push(w.slice());for(M=0;M<A.length;M++)z=A[M],C[z[0]][z[1]]=0;return y.zmask=C,C}},54444:function(tt,U,t){var E=t(54460),S=t(3400);tt.exports=function(L,T){var v=L.contours;if(L.autocontour){var d=L.zmin,r=L.zmax;(L.zauto||d===void 0)&&(d=S.aggNums(Math.min,null,T)),(L.zauto||r===void 0)&&(r=S.aggNums(Math.max,null,T));var e=i(d,r,L.ncontours);v.size=e.dtick,v.start=E.tickFirst(e),e.range.reverse(),v.end=E.tickFirst(e),v.start===d&&(v.start+=v.size),v.end===r&&(v.end-=v.size),v.start>v.end&&(v.start=v.end=(v.start+v.end)/2),L._input.contours||(L._input.contours={}),S.extendFlat(L._input.contours,{start:v.start,end:v.end,size:v.size}),L._input.autocontour=!0}else if(v.type!=="constraint"){var l=v.start,n=v.end,s=L._input.contours;if(l>n&&(v.start=s.start=n,n=v.end=s.end=l,l=v.start),!(v.size>0)){var o;l===n?o=1:o=i(l,n,L.ncontours).dtick,s.size=v.size=o}}};function i(L,T,v){var d={type:"linear",range:[L,T]};return E.autoTicks(d,(T-L)/(v||15)),d}},52440:function(tt,U,t){var E=t(33428),S=t(43616),i=t(41648),L=t(41076);tt.exports=function(T){var v=E.select(T).selectAll("g.contour");v.style("opacity",function(d){return d[0].trace.opacity}),v.each(function(d){var r=E.select(this),e=d[0].trace,l=e.contours,n=e.line,s=l.size||1,o=l.start,f=l.type==="constraint",b=!f&&l.coloring==="lines",h=!f&&l.coloring==="fill",_=b||h?L(e):null;r.selectAll("g.contourlevel").each(function(p){E.select(this).selectAll("path").call(S.lineGroupStyle,n.width,b?_(p.level):n.color,n.dash)});var a=l.labelfont;if(r.selectAll("g.contourlabels text").each(function(p){S.font(E.select(this),{weight:a.weight,style:a.style,variant:a.variant,family:a.family,size:a.size,color:a.color||(b?_(p.level):n.color)})}),f)r.selectAll("g.contourfill path").style("fill",e.fillcolor);else if(h){var c;r.selectAll("g.contourfill path").style("fill",function(p){return c===void 0&&(c=p.level),_(p.level+.5*s)}),c===void 0&&(c=o),r.selectAll("g.contourbg path").style("fill",_(c-.5*s))}}),i(T)}},97680:function(tt,U,t){var E=t(27260),S=t(17428);tt.exports=function(i,L,T,v,d){var r=T("contours.coloring"),e,l="";r==="fill"&&(e=T("contours.showlines")),e!==!1&&(r!=="lines"&&(l=T("line.color","#000")),T("line.width",.5),T("line.dash")),r!=="none"&&(i.showlegend!==!0&&(L.showlegend=!1),L._dfltShowLegend=!1,E(i,L,v,T,{prefix:"",cLetter:"z"})),T("line.smoothing"),S(T,v,l,d)}},37960:function(tt,U,t){var E=t(83328),S=t(67104),i=t(49084),L=t(92880).extendFlat,T=S.contours;tt.exports=L({carpet:{valType:"string",editType:"calc"},z:E.z,a:E.x,a0:E.x0,da:E.dx,b:E.y,b0:E.y0,db:E.dy,text:E.text,hovertext:E.hovertext,transpose:E.transpose,atype:E.xtype,btype:E.ytype,fillcolor:S.fillcolor,autocontour:S.autocontour,ncontours:S.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:S.line.color,width:S.line.width,dash:S.line.dash,smoothing:S.line.smoothing,editType:"plot"},zorder:S.zorder,transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(tt,U,t){var E=t(47128),S=t(3400),i=t(2872),L=t(26136),T=t(70448),v=t(11240),d=t(35744),r=t(3252),e=t(50948),l=t(54444);tt.exports=function(s,o){var f=o._carpetTrace=e(s,o);if(!(!f||!f.visible||f.visible==="legendonly")){if(!o.a||!o.b){var b=s.data[f.index],h=s.data[o.index];h.a||(h.a=b.a),h.b||(h.b=b.b),r(h,o,o._defaultColor,s._fullLayout)}var _=n(s,o);return l(o,o._z),_}};function n(s,o){var f=o._carpetTrace,b=f.aaxis,h=f.baxis,_,a,c,p,x,k,y;b._minDtick=0,h._minDtick=0,S.isArray1D(o.z)&&i(o,b,h,"a","b",["z"]),_=o._a=o._a||o.a,p=o._b=o._b||o.b,_=_?b.makeCalcdata(o,"_a"):[],p=p?h.makeCalcdata(o,"_b"):[],a=o.a0||0,c=o.da||1,x=o.b0||0,k=o.db||1,y=o._z=L(o._z||o.z,o.transpose),o._emptypoints=v(y),T(y,o._emptypoints);var A=S.maxRowLength(y),C=o.xtype==="scaled"?"":_,u=d(o,C,a,c,A,b),m=o.ytype==="scaled"?"":p,M=d(o,m,x,k,y.length,h),w={a:u,b:M,z:y};return o.contours.type==="levels"&&o.contours.coloring!=="none"&&E(s,o,{vals:y,containerStr:"",cLetter:"z"}),[w]}},3252:function(tt,U,t){var E=t(3400),S=t(51264),i=t(37960),L=t(95536),T=t(84952),v=t(97680);tt.exports=function(d,r,e,l){function n(b,h){return E.coerce(d,r,i,b,h)}function s(b){return E.coerce2(d,r,i,b)}if(n("carpet"),d.a&&d.b){var o=S(d,r,n,l,"a","b");if(!o){r.visible=!1;return}n("text");var f=n("contours.type")==="constraint";f?L(d,r,n,l,e,{hasHover:!1}):(T(d,r,n,s),v(d,r,n,l,{hasHover:!1}))}else r._defaultColor=e,r._length=null;n("zorder")}},40448:function(tt,U,t){tt.exports={attributes:t(37960),supplyDefaults:t(3252),colorbar:t(55296),calc:t(30572),plot:t(94440),style:t(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(tt,U,t){var E=t(33428),S=t(87072),i=t(53416),L=t(43616),T=t(3400),v=t(72424),d=t(88748),r=t(23676),e=t(93252),l=t(82172),n=t(61512),s=t(56008),o=t(50948),f=t(77712);tt.exports=function(A,C,u,m){var M=C.xaxis,w=C.yaxis;T.makeTraceGroups(m,u,"contour").each(function(z){var O=E.select(this),D=z[0],P=D.trace,F=P._carpetTrace=o(A,P),R=A.calcdata[F.index][0];if(!F.visible||F.visible==="legendonly")return;var N=D.a,B=D.b,q=P.contours,V=n(q,C,D),J=q.type==="constraint",it=q._operation,nt=J?it==="="?"lines":"fill":q.coloring;function Y(ft){var yt=F.ab2xy(ft[0],ft[1],!0);return[M.c2p(yt[0]),w.c2p(yt[1])]}var Z=[[N[0],B[B.length-1]],[N[N.length-1],B[B.length-1]],[N[N.length-1],B[0]],[N[0],B[0]]];v(V);var $=(N[N.length-1]-N[0])*1e-8,G=(B[B.length-1]-B[0])*1e-8;d(V,$,G);var rt=V;q.type==="constraint"&&(rt=l(V,it)),b(V,Y);var ot,W,H,at,Q=[];for(at=R.clipsegments.length-1;at>=0;at--)ot=R.clipsegments[at],W=S([],ot.x,M.c2p),H=S([],ot.y,w.c2p),W.reverse(),H.reverse(),Q.push(i(W,H,ot.bicubic));var ct="M"+Q.join("L")+"Z";x(O,R.clipsegments,M,w,J,nt),k(P,O,M,w,rt,Z,Y,F,R,nt,ct),h(O,V,A,D,q,C,F),L.setClipUrl(O,F._clipPathId,A)})};function b(A,C){var u,m,M,w,z,O,D,P,F;for(u=0;u<A.length;u++){for(w=A[u],z=w.pedgepaths=[],O=w.ppaths=[],m=0;m<w.edgepaths.length;m++){for(F=w.edgepaths[m],D=[],M=0;M<F.length;M++)D[M]=C(F[M]);z.push(D)}for(m=0;m<w.paths.length;m++){for(F=w.paths[m],P=[],M=0;M<F.length;M++)P[M]=C(F[M]);O.push(P)}}}function h(A,C,u,m,M,w,z){var O=u._context.staticPlot,D=T.ensureSingle(A,"g","contourlines"),P=M.showlines!==!1,F=M.showlabels,R=P&&F,N=r.createLines(D,P||F,C,O),B=r.createLineClip(D,R,u,m.trace.uid),q=A.selectAll("g.contourlabels").data(F?[0]:[]);if(q.exit().remove(),q.enter().append("g").classed("contourlabels",!0),F){var V=w.xaxis,J=w.yaxis,it=V._length,nt=J._length,Y=[[[0,0],[it,0],[it,nt],[0,nt]]],Z=[];T.clearLocationCache();var $=r.labelFormatter(u,m),G=L.tester.append("text").attr("data-notex",1).call(L.font,M.labelfont),rt={left:0,right:it,center:it/2,top:0,bottom:nt,middle:nt/2},ot=Math.sqrt(it*it+nt*nt),W=e.LABELDISTANCE*ot/Math.max(1,C.length/e.LABELINCREASE);N.each(function(H){var at=r.calcTextOpts(H.level,$,G,u);E.select(this).selectAll("path").each(function(Q){var ct=this,ft=T.getVisibleSegment(ct,rt,at.height/2);if(ft&&(_(ct,Q,H,ft,z,at.height),!(ft.len<(at.width+at.height)*e.LABELMIN)))for(var yt=Math.min(Math.ceil(ft.len/W),e.LABELMAX),xt=0;xt<yt;xt++){var Lt=r.findBestTextLocation(ct,ft,at,Z,rt);if(!Lt)break;r.addLabelData(Lt,at,Z,Y)}})}),G.remove(),r.drawLabels(q,Z,u,B,R?Y:null)}F&&!P&&N.remove()}function _(A,C,u,m,M,w){for(var z,O=0;O<u.pedgepaths.length;O++)C===u.pedgepaths[O]&&(z=u.edgepaths[O]);if(!z)return;var D=M.a[0],P=M.a[M.a.length-1],F=M.b[0],R=M.b[M.b.length-1];function N(it,nt){var Y=0,Z,$=.1;return(Math.abs(it[0]-D)<$||Math.abs(it[0]-P)<$)&&(Z=c(M.dxydb_rough(it[0],it[1],$)),Y=Math.max(Y,w*p(nt,Z)/2)),(Math.abs(it[1]-F)<$||Math.abs(it[1]-R)<$)&&(Z=c(M.dxyda_rough(it[0],it[1],$)),Y=Math.max(Y,w*p(nt,Z)/2)),Y}var B=a(A,0,1),q=a(A,m.total,m.total-1),V=N(z[0],B),J=m.total-N(z[z.length-1],q);m.min<V&&(m.min=V),m.max>J&&(m.max=J),m.len=m.max-m.min}function a(A,C,u){var m=A.getPointAtLength(C),M=A.getPointAtLength(u),w=M.x-m.x,z=M.y-m.y,O=Math.sqrt(w*w+z*z);return[w/O,z/O]}function c(A){var C=Math.sqrt(A[0]*A[0]+A[1]*A[1]);return[A[0]/C,A[1]/C]}function p(A,C){var u=Math.abs(A[0]*C[0]+A[1]*C[1]),m=Math.sqrt(1-u*u);return m/u}function x(A,C,u,m,M,w){var z,O,D,P,F=T.ensureSingle(A,"g","contourbg"),R=F.selectAll("path").data(w==="fill"&&!M?[0]:[]);R.enter().append("path"),R.exit().remove();var N=[];for(P=0;P<C.length;P++)z=C[P],O=S([],z.x,u.c2p),D=S([],z.y,m.c2p),N.push(i(O,D,z.bicubic));R.attr("d","M"+N.join("L")+"Z").style("stroke","none")}function k(A,C,u,m,M,w,z,O,D,P,F){var R=P==="fill";R&&s(M,A.contours);var N=T.ensureSingle(C,"g","contourfill"),B=N.selectAll("path").data(R?M:[]);B.enter().append("path"),B.exit().remove(),B.each(function(q){var V=(q.prefixBoundary?F:"")+y(A,q,w,z,O,D,u,m);V?E.select(this).attr("d",V).style("stroke","none"):E.select(this).remove()})}function y(A,C,u,m,M,w,z,O){var D,P="",F=C.edgepaths.map(function(at,Q){return Q}),R=!0,N,B,q,V,J,it,nt=Math.abs(u[0][0]-u[2][0])*1e-4,Y=Math.abs(u[0][1]-u[2][1])*1e-4;function Z(at){return Math.abs(at[1]-u[0][1])<Y}function $(at){return Math.abs(at[1]-u[2][1])<Y}function G(at){return Math.abs(at[0]-u[0][0])<nt}function rt(at){return Math.abs(at[0]-u[2][0])<nt}function ot(at,Q){var ct,ft,yt,xt,Lt="";for(Z(at)&&!rt(at)||$(at)&&!G(at)?(xt=M.aaxis,yt=f(M,w,[at[0],Q[0]],.5*(at[1]+Q[1]))):(xt=M.baxis,yt=f(M,w,.5*(at[0]+Q[0]),[at[1],Q[1]])),ct=1;ct<yt.length;ct++)for(Lt+=xt.smoothing?"C":"L",ft=0;ft<yt[ct].length;ft++){var gt=yt[ct][ft];Lt+=[z.c2p(gt[0]),O.c2p(gt[1])]+" "}return Lt}for(D=0,N=null;F.length;){var W=C.edgepaths[D][0];for(N&&(P+=ot(N,W)),it=L.smoothopen(C.edgepaths[D].map(m),C.smoothing),P+=R?it:it.replace(/^M/,"L"),F.splice(F.indexOf(D),1),N=C.edgepaths[D][C.edgepaths[D].length-1],V=-1,q=0;q<4;q++){if(!N){T.log("Missing end?",D,C);break}for(Z(N)&&!rt(N)?B=u[1]:G(N)?B=u[0]:$(N)?B=u[3]:rt(N)&&(B=u[2]),J=0;J<C.edgepaths.length;J++){var H=C.edgepaths[J][0];Math.abs(N[0]-B[0])<nt?Math.abs(N[0]-H[0])<nt&&(H[1]-N[1])*(B[1]-H[1])>=0&&(B=H,V=J):Math.abs(N[1]-B[1])<Y?Math.abs(N[1]-H[1])<Y&&(H[0]-N[0])*(B[0]-H[0])>=0&&(B=H,V=J):T.log("endpt to newendpt is not vert. or horz.",N,B,H)}if(V>=0)break;P+=ot(N,B),N=B}if(V===C.edgepaths.length){T.log("unclosed perimeter path");break}D=V,R=F.indexOf(D)===-1,R&&(D=F[0],P+=ot(N,B)+"Z",N=null)}for(D=0;D<C.paths.length;D++)P+=L.smoothclosed(C.paths[D].map(m),C.smoothing);return P}},33928:function(tt,U,t){var E=t(49084),S=t(21776).Ks,i=t(45464),L=t(31512),T=t(92880).extendFlat;tt.exports=T({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:T({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:S(),showlegend:T({},i.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(tt,U,t){var E=t(38248),S=t(3400).isArrayOrTypedArray,i=t(39032).BADNUM,L=t(47128),T=t(3400)._;tt.exports=function(v,d){for(var r=d._length,e=new Array(r),l=d.z,n=S(l)&&l.length,s=0;s<r;s++){var o=e[s]={},f=d.lon[s],b=d.lat[s];if(o.lonlat=E(f)&&E(b)?[+f,+b]:[i,i],n){var h=l[s];o.z=E(h)?h:i}}return L(v,d,{vals:n?l:[0,1],containerStr:"",cLetter:"z"}),r&&(e[0].t={labels:{lat:T(v,"lat:")+" ",lon:T(v,"lon:")+" "}}),e}},4629:function(tt,U,t){var E=t(38248),S=t(3400),i=t(76308),L=t(8932),T=t(39032).BADNUM,v=t(44808).makeBlank;tt.exports=function(d){var r=d[0].trace,e=r.visible===!0&&r._length!==0,l={layout:{visibility:"none"},paint:{}},n=r._opts={heatmap:l,geojson:v()};if(!e)return n;var s=[],o,f=r.z,b=r.radius,h=S.isArrayOrTypedArray(f)&&f.length,_=S.isArrayOrTypedArray(b);for(o=0;o<d.length;o++){var a=d[o],c=a.lonlat;if(c[0]!==T){var p={};if(h){var x=a.z;p.z=x!==T?x:0}_&&(p.r=E(b[o])&&b[o]>0?+b[o]:0),s.push({type:"Feature",geometry:{type:"Point",coordinates:c},properties:p})}}var k=L.extractOpts(r),y=k.reversescale?L.flipScale(k.colorscale):k.colorscale,A=y[0][1],C=i.opacity(A)<1?A:i.addOpacity(A,0),u=["interpolate",["linear"],["heatmap-density"],0,C];for(o=1;o<y.length;o++)u.push(y[o][0],y[o][1]);var m=["interpolate",["linear"],["get","z"],k.min,0,k.max,1];return S.extendFlat(n.heatmap.paint,{"heatmap-weight":h?m:1/(k.max-k.min),"heatmap-color":u,"heatmap-radius":_?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),n.geojson={type:"FeatureCollection",features:s},n.heatmap.layout.visibility="visible",n}},97664:function(tt,U,t){var E=t(3400),S=t(27260),i=t(33928);tt.exports=function(L,T,v,d){function r(s,o){return E.coerce(L,T,i,s,o)}var e=r("lon")||[],l=r("lat")||[],n=Math.min(e.length,l.length);if(!n){T.visible=!1;return}T._length=n,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),S(L,T,d,r,{prefix:"",cLetter:"z"})}},96176:function(tt){tt.exports=function(U,t){return U.lon=t.lon,U.lat=t.lat,U.z=t.z,U}},25336:function(tt,U,t){var E=t(54460),S=t(63312).hoverPoints,i=t(63312).getExtraText;tt.exports=function(L,T,v){var d=S(L,T,v);if(d){var r=d[0],e=r.cd,l=e[0].trace,n=e[r.index];if(delete r.color,"z"in n){var s=r.subplot.mockAxis;r.z=n.z,r.zLabel=E.tickText(s,s.c2l(n.z),"hover").text}return r.extraText=i(l,n,e[0].t.labels),[r]}}},15088:function(tt,U,t){tt.exports={attributes:t(33928),supplyDefaults:t(97664),colorbar:t(96288),formatLabels:t(11960),calc:t(90876),plot:t(35256),hoverPoints:t(25336),eventData:t(96176),getBelow:function(E,S){for(var i=S.getMapLayers(),L=0;L<i.length;L++){var T=i[L],v=T.id;if(T.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:t(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(tt,U,t){var E=t(4629),S=t(47552).traceLayerPrefix;function i(T,v){this.type="densitymapbox",this.subplot=T,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",S+v+"-heatmap"]],this.below=null}var L=i.prototype;L.update=function(T){var v=this.subplot,d=this.layerList,r=E(T),e=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(r,e),this.below=e);for(var l=0;l<d.length;l++){var n=d[l],s=n[0],o=n[1],f=r[s];v.setOptions(o,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&v.setOptions(o,"setPaintProperty",f.paint)}},L._addLayers=function(T,v){for(var d=this.subplot,r=this.layerList,e=this.sourceId,l=0;l<r.length;l++){var n=r[l],s=n[0],o=T[s];d.addLayer({type:s,id:n[1],source:e,layout:o.layout,paint:o.paint},v)}},L._removeLayers=function(){for(var T=this.subplot.map,v=this.layerList,d=v.length-1;d>=0;d--)T.removeLayer(v[d][1])},L.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},tt.exports=function(T,v){var d=v[0].trace,r=new i(T,d.uid),e=r.sourceId,l=E(v),n=r.below=T.belowLookup["trace-"+d.uid];return T.map.addSource(e,{type:"geojson",data:l.geojson}),r._addLayers(l,n),r}},74248:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){for(var L=0;L<S.length;L++)S[L].i=L;E.mergeArray(i.text,S,"tx"),E.mergeArray(i.hovertext,S,"htx");var T=i.marker;if(T){E.mergeArray(T.opacity,S,"mo"),E.mergeArray(T.color,S,"mc");var v=T.line;v&&(E.mergeArray(v.color,S,"mlc"),E.mergeArrayCastPositive(v.width,S,"mlw"))}}},20088:function(tt,U,t){var E=t(20832),S=t(52904).line,i=t(45464),L=t(29736).axisHoverFormat,T=t(21776).Ks,v=t(21776).Gw,d=t(74732),r=t(92880).extendFlat,e=t(76308);tt.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:E.hovertext,hovertemplate:T({},{keys:d.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),text:E.text,textposition:E.textposition,insidetextanchor:r({},E.insidetextanchor,{dflt:"middle"}),textangle:r({},E.textangle,{dflt:0}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:r({},E.orientation,{}),offset:r({},E.offset,{arrayOk:!1}),width:r({},E.width,{arrayOk:!1}),marker:l(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},S.color,{dflt:e.defaultLine}),width:r({},S.width,{dflt:0,editType:"plot"}),dash:S.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,zorder:E.zorder};function l(){var n=r({},E.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(tt,U,t){var E=t(54460),S=t(1220),i=t(74248),L=t(4500),T=t(39032).BADNUM;tt.exports=function(d,r){var e=E.getFromId(d,r.xaxis||"x"),l=E.getFromId(d,r.yaxis||"y"),n,s,o,f,b,h,_,a;r.orientation==="h"?(n=e.makeCalcdata(r,"x"),o=l.makeCalcdata(r,"y"),f=S(r,l,"y",o),b=!!r.yperiodalignment,h="y"):(n=l.makeCalcdata(r,"y"),o=e.makeCalcdata(r,"x"),f=S(r,e,"x",o),b=!!r.xperiodalignment,h="x"),s=f.vals;var c=Math.min(s.length,n.length),p=new Array(c);for(r._base=[],_=0;_<c;_++){n[_]<0&&(n[_]=T);var x=!1;n[_]!==T&&_+1<c&&n[_+1]!==T&&(x=!0),a=p[_]={p:s[_],s:n[_],cNext:x},r._base[_]=-.5*a.s,b&&(p[_].orig_p=o[_],p[_][h+"End"]=f.ends[_],p[_][h+"Start"]=f.starts[_]),r.ids&&(a.id=String(r.ids[_])),_===0&&(p[0].vTotal=0),p[0].vTotal+=v(a.s),a.begR=v(a.s)/v(p[0].s)}var k;for(_=0;_<c;_++)a=p[_],a.s!==T&&(a.sumR=a.s/p[0].vTotal,a.difR=k!==void 0?a.s/k:1,k=a.s);return i(p,r),L(p,r),p};function v(d){return d===T?0:d}},74732:function(tt){tt.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(tt,U,t){var E=t(96376).setGroupPositions;tt.exports=function(S,i){var L=S._fullLayout,T=S._fullData,v=S.calcdata,d=i.xaxis,r=i.yaxis,e=[],l=[],n=[],s,o;for(o=0;o<T.length;o++){var f=T[o],b=f.orientation==="h";f.visible===!0&&f.xaxis===d._id&&f.yaxis===r._id&&f.type==="funnel"&&(s=v[o],b?n.push(s):l.push(s),e.push(s))}var h={mode:L.funnelmode,norm:L.funnelnorm,gap:L.funnelgap,groupgap:L.funnelgroupgap};for(E(S,d,r,l,h),E(S,r,d,n,h),o=0;o<e.length;o++){s=e[o];for(var _=0;_<s.length;_++)_+1<s.length&&(s[_].nextP0=s[_+1].p0,s[_].nextS0=s[_+1].s0,s[_].nextP1=s[_+1].p1,s[_].nextS1=s[_+1].s1)}}},45432:function(tt,U,t){var E=t(3400),S=t(20011),i=t(31508).handleText,L=t(43980),T=t(31147),v=t(20088),d=t(76308);function r(n,s,o,f){function b(k,y){return E.coerce(n,s,v,k,y)}var h=L(n,s,f,b);if(!h){s.visible=!1;return}T(n,s,f,b),b("xhoverformat"),b("yhoverformat"),b("orientation",s.y&&!s.x?"v":"h"),b("offset"),b("width");var _=b("text");b("hovertext"),b("hovertemplate");var a=b("textposition");i(n,s,f,b,a,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition!=="none"&&!s.texttemplate&&b("textinfo",E.isArrayOrTypedArray(_)?"text+value":"value");var c=b("marker.color",o);b("marker.line.color",d.defaultLine),b("marker.line.width");var p=b("connector.visible");if(p){b("connector.fillcolor",e(c));var x=b("connector.line.width");x&&(b("connector.line.color"),b("connector.line.dash"))}b("zorder")}function e(n){var s=E.isArrayOrTypedArray(n)?"#000":n;return d.addOpacity(s,.5*d.opacity(s))}function l(n,s){var o,f;function b(_){return E.coerce(f._input,f,v,_)}if(s.funnelmode==="group")for(var h=0;h<n.length;h++)f=n[h],o=f._input,S(o,f,s,b)}tt.exports={supplyDefaults:r,crossTraceDefaults:l}},34580:function(tt){tt.exports=function(U,t){return U.x="xVal"in t?t.xVal:t.x,U.y="yVal"in t?t.yVal:t.y,"percentInitial"in t&&(U.percentInitial=t.percentInitial),"percentPrevious"in t&&(U.percentPrevious=t.percentPrevious),"percentTotal"in t&&(U.percentTotal=t.percentTotal),t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),U}},31488:function(tt,U,t){var E=t(76308).opacity,S=t(63400).hoverOnBars,i=t(3400).formatPercent;tt.exports=function(T,v,d,r,e){var l=S(T,v,d,r,e);if(l){var n=l.cd,s=n[0].trace,o=s.orientation==="h",f=l.index,b=n[f],h=o?"x":"y";l[h+"LabelVal"]=b.s,l.percentInitial=b.begR,l.percentInitialLabel=i(b.begR,1),l.percentPrevious=b.difR,l.percentPreviousLabel=i(b.difR,1),l.percentTotal=b.sumR,l.percentTotalLabel=i(b.sumR,1);var _=b.hi||s.hoverinfo,a=[];if(_&&_!=="none"&&_!=="skip"){var c=_==="all",p=_.split("+"),x=function(k){return c||p.indexOf(k)!==-1};x("percent initial")&&a.push(l.percentInitialLabel+" of initial"),x("percent previous")&&a.push(l.percentPreviousLabel+" of previous"),x("percent total")&&a.push(l.percentTotalLabel+" of total")}return l.extraText=a.join("<br>"),l.color=L(s,b),[l]}};function L(T,v){var d=T.marker,r=v.mc||d.color,e=v.mlc||d.line.color,l=v.mlw||d.line.width;if(E(r))return r;if(E(e)&&l)return e}},94704:function(tt,U,t){tt.exports={attributes:t(20088),layoutAttributes:t(7076),supplyDefaults:t(45432).supplyDefaults,crossTraceDefaults:t(45432).crossTraceDefaults,supplyLayoutDefaults:t(11631),calc:t(23096),crossTraceCalc:t(4804),plot:t(42200),style:t(44544).style,hoverPoints:t(31488),eventData:t(34580),selectPoints:t(45784),moduleType:"trace",name:"funnel",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(tt){tt.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(tt,U,t){var E=t(3400),S=t(7076);tt.exports=function(i,L,T){var v=!1;function d(l,n){return E.coerce(i,L,S,l,n)}for(var r=0;r<T.length;r++){var e=T[r];if(e.visible&&e.type==="funnel"){v=!0;break}}v&&(d("funnelmode"),d("funnelgap",.2),d("funnelgroupgap"))}},42200:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(39032).BADNUM,T=t(98184),v=t(82744).clearMinTextSize;tt.exports=function(l,n,s,o){var f=l._fullLayout;v("funnel",f),d(l,n,s,o),r(l,n,s,o),T.plot(l,n,s,o,{mode:f.funnelmode,norm:f.funnelmode,gap:f.funnelgap,groupgap:f.funnelgroupgap})};function d(l,n,s,o){var f=n.xaxis,b=n.yaxis;S.makeTraceGroups(o,s,"trace bars").each(function(h){var _=E.select(this),a=h[0].trace,c=S.ensureSingle(_,"g","regions");if(!a.connector||!a.connector.visible){c.remove();return}var p=a.orientation==="h",x=c.selectAll("g.region").data(S.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var k=x.size();x.each(function(y,A){if(!(A!==k-1&&!y.cNext)){var C=e(y,f,b,p),u=C[0],m=C[1],M="";u[0]!==L&&m[0]!==L&&u[1]!==L&&m[1]!==L&&u[2]!==L&&m[2]!==L&&u[3]!==L&&m[3]!==L&&(p?M+="M"+u[0]+","+m[1]+"L"+u[2]+","+m[2]+"H"+u[3]+"L"+u[1]+","+m[1]+"Z":M+="M"+u[1]+","+m[1]+"L"+u[2]+","+m[3]+"V"+m[2]+"L"+u[1]+","+m[0]+"Z"),M===""&&(M="M0,0Z"),S.ensureSingle(E.select(this),"path").attr("d",M).call(i.setClipUrl,n.layerClipId,l)}})})}function r(l,n,s,o){var f=n.xaxis,b=n.yaxis;S.makeTraceGroups(o,s,"trace bars").each(function(h){var _=E.select(this),a=h[0].trace,c=S.ensureSingle(_,"g","lines");if(!a.connector||!a.connector.visible||!a.connector.line.width){c.remove();return}var p=a.orientation==="h",x=c.selectAll("g.line").data(S.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var k=x.size();x.each(function(y,A){if(!(A!==k-1&&!y.cNext)){var C=e(y,f,b,p),u=C[0],m=C[1],M="";u[3]!==void 0&&m[3]!==void 0&&(p?(M+="M"+u[0]+","+m[1]+"L"+u[2]+","+m[2],M+="M"+u[1]+","+m[1]+"L"+u[3]+","+m[2]):(M+="M"+u[1]+","+m[1]+"L"+u[2]+","+m[3],M+="M"+u[1]+","+m[0]+"L"+u[2]+","+m[2])),M===""&&(M="M0,0Z"),S.ensureSingle(E.select(this),"path").attr("d",M).call(i.setClipUrl,n.layerClipId,l)}})})}function e(l,n,s,o){var f=[],b=[],h=o?n:s,_=o?s:n;return f[0]=h.c2p(l.s0,!0),b[0]=_.c2p(l.p0,!0),f[1]=h.c2p(l.s1,!0),b[1]=_.c2p(l.p1,!0),f[2]=h.c2p(l.nextS0,!0),b[2]=_.c2p(l.nextP0,!0),f[3]=h.c2p(l.nextS1,!0),b[3]=_.c2p(l.nextP1,!0),o?[f,b]:[b,f]}},44544:function(tt,U,t){var E=t(33428),S=t(43616),i=t(76308),L=t(13448).DESELECTDIM,T=t(60100),v=t(82744).resizeText,d=T.styleTextPoints;function r(e,l,n){var s=n||E.select(e).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(e,s,"funnel"),s.style("opacity",function(o){return o[0].trace.opacity}),s.each(function(o){var f=E.select(this),b=o[0].trace;f.selectAll(".point > path").each(function(h){if(!h.isBlank){var _=b.marker;E.select(this).call(i.fill,h.mc||_.color).call(i.stroke,h.mlc||_.line.color).call(S.dashLine,_.line.dash,h.mlw||_.line.width).style("opacity",b.selectedpoints&&!h.selected?L:1)}}),d(f,b,e),f.selectAll(".regions").each(function(){E.select(this).selectAll("path").style("stroke-width",0).call(i.fill,b.connector.fillcolor)}),f.selectAll(".lines").each(function(){var h=b.connector.line;S.lineGroupStyle(E.select(this).selectAll("path"),h.width,h.color,h.dash)})})}tt.exports={style:r}},22332:function(tt,U,t){var E=t(74996),S=t(45464),i=t(86968).u,L=t(21776).Ks,T=t(21776).Gw,v=t(92880).extendFlat;tt.exports={labels:E.labels,label0:E.label0,dlabel:E.dlabel,values:E.values,marker:{colors:E.marker.colors,line:{color:v({},E.marker.line.color,{dflt:null}),width:v({},E.marker.line.width,{dflt:1}),editType:"calc"},pattern:E.marker.pattern,editType:"calc"},text:E.text,hovertext:E.hovertext,scalegroup:v({},E.scalegroup,{}),textinfo:v({},E.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},S.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},E.textposition,{values:["inside","none"],dflt:"inside"}),textfont:E.textfont,insidetextfont:E.insidetextfont,title:{text:E.title.text,font:E.title.font,position:v({},E.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(tt,U,t){var E=t(7316);U.name="funnelarea",U.plot=function(S,i,L,T){E.plotBasePlot(U.name,S,i,L,T)},U.clean=function(S,i,L,T){E.cleanBasePlot(U.name,S,i,L,T)}},54e3:function(tt,U,t){var E=t(45768);function S(L,T){return E.calc(L,T)}function i(L){E.crossTraceCalc(L,{type:"funnelarea"})}tt.exports={calc:S,crossTraceCalc:i}},92688:function(tt,U,t){var E=t(3400),S=t(22332),i=t(86968).Q,L=t(31508).handleText,T=t(74174).handleLabelsAndValues,v=t(74174).handleMarkerDefaults;tt.exports=function(d,r,e,l){function n(x,k){return E.coerce(d,r,S,x,k)}var s=n("labels"),o=n("values"),f=T(s,o),b=f.len;if(r._hasLabels=f.hasLabels,r._hasValues=f.hasValues,!r._hasLabels&&r._hasValues&&(n("label0"),n("dlabel")),!b){r.visible=!1;return}r._length=b,v(d,r,l,n),n("scalegroup");var h=n("text"),_=n("texttemplate"),a;if(_||(a=n("textinfo",Array.isArray(h)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),_||a&&a!=="none"){var c=n("textposition");L(d,r,l,n,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else a==="none"&&n("textposition","none");i(r,l,n);var p=n("title.text");p&&(n("title.position"),E.coerceFont(n,"title.font",l.font)),n("aspectratio"),n("baseratio")}},62396:function(tt,U,t){tt.exports={moduleType:"trace",name:"funnelarea",basePlotModule:t(91248),categories:["pie-like","funnelarea","showLegend"],attributes:t(22332),layoutAttributes:t(61280),supplyDefaults:t(92688),supplyLayoutDefaults:t(35384),calc:t(54e3).calc,crossTraceCalc:t(54e3).crossTraceCalc,plot:t(39472),style:t(62096),styleOne:t(10528),meta:{}}},61280:function(tt,U,t){var E=t(85204).hiddenlabels;tt.exports={hiddenlabels:E,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(tt,U,t){var E=t(3400),S=t(61280);tt.exports=function(i,L){function T(v,d){return E.coerce(i,L,S,v,d)}T("hiddenlabels"),T("funnelareacolorway",L.colorway),T("extendfunnelareacolors")}},39472:function(tt,U,t){var E=t(33428),S=t(43616),i=t(3400),L=i.strScale,T=i.strTranslate,v=t(72736),d=t(98184),r=d.toMoveInsideBar,e=t(82744),l=e.recordMinTextSize,n=e.clearMinTextSize,s=t(69656),o=t(37820),f=o.attachFxHandlers,b=o.determineInsideTextFont,h=o.layoutAreas,_=o.prerenderTitles,a=o.positionTitleOutside,c=o.formatSliceLabel;tt.exports=function(y,A){var C=y._context.staticPlot,u=y._fullLayout;n("funnelarea",u),_(A,y),h(A,u._size),i.makeTraceGroups(u._funnelarealayer,A,"trace").each(function(m){var M=E.select(this),w=m[0],z=w.trace;k(m),M.each(function(){var O=E.select(this).selectAll("g.slice").data(m);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(P,F){if(P.hidden){E.select(this).selectAll("path,g").remove();return}P.pointNumber=P.i,P.curveNumber=z.index;var R=w.cx,N=w.cy,B=E.select(this),q=B.selectAll("path.surface").data([P]);q.enter().append("path").classed("surface",!0).style({"pointer-events":C?"none":"all"}),B.call(f,y,m);var V="M"+(R+P.TR[0])+","+(N+P.TR[1])+p(P.TR,P.BR)+p(P.BR,P.BL)+p(P.BL,P.TL)+"Z";q.attr("d",V),c(y,P,w);var J=s.castOption(z.textposition,P.pts),it=B.selectAll("g.slicetext").data(P.text&&J!=="none"?[0]:[]);it.enter().append("g").classed("slicetext",!0),it.exit().remove(),it.each(function(){var nt=i.ensureSingle(E.select(this),"text","",function(H){H.attr("data-notex",1)}),Y=i.ensureUniformFontSize(y,b(z,P,u.font));nt.text(P.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,Y).call(v.convertToTspans,y);var Z=S.bBox(nt.node()),$,G,rt,ot=Math.min(P.BL[1],P.BR[1])+N,W=Math.max(P.TL[1],P.TR[1])+N;G=Math.max(P.TL[0],P.BL[0])+R,rt=Math.min(P.TR[0],P.BR[0])+R,$=r(G,rt,ot,W,Z,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),$.fontSize=Y.size,l(z.type,$,u),m[F].transform=$,i.setTransormAndDisplay(nt,$)})});var D=E.select(this).selectAll("g.titletext").data(z.title.text?[0]:[]);D.enter().append("g").classed("titletext",!0),D.exit().remove(),D.each(function(){var P=i.ensureSingle(E.select(this),"text","",function(N){N.attr("data-notex",1)}),F=z.title.text;z._meta&&(F=i.templateString(F,z._meta)),P.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,z.title.font).call(v.convertToTspans,y);var R=a(w,u._size);P.attr("transform",T(R.x,R.y)+L(Math.min(1,R.scale))+T(R.tx,R.ty))})})})};function p(y,A){var C=A[0]-y[0],u=A[1]-y[1];return"l"+C+","+u}function x(y,A){return[.5*(y[0]+A[0]),.5*(y[1]+A[1])]}function k(y){if(!y.length)return;var A=y[0],C=A.trace,u=C.aspectratio,m=C.baseratio;m>.999&&(m=.999);var M=Math.pow(m,2),w=A.vTotal,z=w*M/(1-M),O=w,D=z/w;function P(){var Q=Math.sqrt(D);return{x:Q,y:-Q}}function F(){var Q=P();return[Q.x,Q.y]}var R,N=[];N.push(F());var B,q;for(B=y.length-1;B>-1;B--)if(q=y[B],!q.hidden){var V=q.v/O;D+=V,N.push(F())}var J=1/0,it=-1/0;for(B=0;B<N.length;B++)R=N[B],J=Math.min(J,R[1]),it=Math.max(it,R[1]);for(B=0;B<N.length;B++)N[B][1]-=(it+J)/2;var nt=N[N.length-1][0],Y=A.r,Z=(it-J)/2,$=Y/nt,G=Y/Z*u;for(A.r=G*Z,B=0;B<N.length;B++)N[B][0]*=$,N[B][1]*=G;R=N[0];var rt=[-R[0],R[1]],ot=[R[0],R[1]],W=0;for(B=y.length-1;B>-1;B--)if(q=y[B],!q.hidden){W+=1;var H=N[W][0],at=N[W][1];q.TL=[-H,at],q.TR=[H,at],q.BL=rt,q.BR=ot,q.pxmid=x(q.TR,q.BR),rt=q.TL,ot=q.TR}}},62096:function(tt,U,t){var E=t(33428),S=t(10528),i=t(82744).resizeText;tt.exports=function(L){var T=L._fullLayout._funnelarealayer.selectAll(".trace");i(L,T,"funnelarea"),T.each(function(v){var d=v[0],r=d.trace,e=E.select(this);e.style({opacity:r.opacity}),e.selectAll("path.surface").each(function(l){E.select(this).call(S,l,r,L)})})}},83328:function(tt,U,t){var E=t(52904),S=t(45464),i=t(25376),L=t(29736).axisHoverFormat,T=t(21776).Ks,v=t(21776).Gw,d=t(49084),r=t(92880).extendFlat;tt.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},E.x,{impliedEdits:{xtype:"array"}}),x0:r({},E.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},E.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},E.y,{impliedEdits:{ytype:"array"}}),y0:r({},E.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},E.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},E.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},E.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},E.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},E.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},E.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},E.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:T(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},S.showlegend,{dflt:!1}),zorder:E.zorder},{transforms:void 0},d("",{cLetter:"z",autoColorDflt:!1}))},19512:function(tt,U,t){var E=t(24040),S=t(3400),i=t(54460),L=t(1220),T=t(55480),v=t(47128),d=t(2872),r=t(26136),e=t(70448),l=t(11240),n=t(35744),s=t(39032).BADNUM;tt.exports=function(b,h){var _=i.getFromId(b,h.xaxis||"x"),a=i.getFromId(b,h.yaxis||"y"),c=E.traceIs(h,"contour"),p=E.traceIs(h,"histogram"),x=E.traceIs(h,"gl2d"),k=c?"best":h.zsmooth,y,A,C,u,m,M,w,z,O,D,P;if(_._minDtick=0,a._minDtick=0,p)P=T(b,h),u=P.orig_x,y=P.x,A=P.x0,C=P.dx,z=P.orig_y,m=P.y,M=P.y0,w=P.dy,O=P.z;else{var F=h.z;S.isArray1D(F)?(d(h,_,a,"x","y",["z"]),y=h._x,m=h._y,F=h._z):(u=h.x?_.makeCalcdata(h,"x"):[],z=h.y?a.makeCalcdata(h,"y"):[],y=L(h,_,"x",u).vals,m=L(h,a,"y",z).vals,h._x=y,h._y=m),A=h.x0,C=h.dx,M=h.y0,w=h.dy,O=r(F,h,_,a)}(_.rangebreaks||a.rangebreaks)&&(O=f(y,m,O),p||(y=o(y),m=o(m),h._x=y,h._y=m)),!p&&(c||h.connectgaps)&&(h._emptypoints=l(O),e(O,h._emptypoints));function R(Z){k=h._input.zsmooth=h.zsmooth=!1,S.warn('cannot use zsmooth: "fast": '+Z)}function N(Z){if(Z.length>1){var $=(Z[Z.length-1]-Z[0])/(Z.length-1),G=Math.abs($/100);for(D=0;D<Z.length-1;D++)if(Math.abs(Z[D+1]-Z[D]-$)>G)return!1}return!0}h._islinear=!1,_.type==="log"||a.type==="log"?k==="fast"&&R("log axis found"):N(y)?N(m)?h._islinear=!0:k==="fast"&&R("y scale is not linear"):k==="fast"&&R("x scale is not linear");var B=S.maxRowLength(O),q=h.xtype==="scaled"?"":y,V=n(h,q,A,C,B,_),J=h.ytype==="scaled"?"":m,it=n(h,J,M,w,O.length,a);x||(h._extremes[_._id]=i.findExtremes(_,V),h._extremes[a._id]=i.findExtremes(a,it));var nt={x:V,y:it,z:O,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&u&&(nt.orig_x=u),h.yperiodalignment&&z&&(nt.orig_y=z),q&&q.length===V.length-1&&(nt.xCenter=q),J&&J.length===it.length-1&&(nt.yCenter=J),p&&(nt.xRanges=P.xRanges,nt.yRanges=P.yRanges,nt.pts=P.pts),c||v(b,h,{vals:O,cLetter:"z"}),c&&h.contours&&h.contours.coloring==="heatmap"){var Y={type:h.type==="contour"?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};nt.xfill=n(Y,q,A,C,B,_),nt.yfill=n(Y,J,M,w,O.length,a)}return[nt]};function o(b){for(var h=[],_=b.length,a=0;a<_;a++){var c=b[a];c!==s&&h.push(c)}return h}function f(b,h,_){for(var a=[],c=-1,p=0;p<_.length;p++)if(h[p]!==s){c++,a[c]=[];for(var x=0;x<_[p].length;x++)b[x]!==s&&a[c].push(_[p][x])}return a}},26136:function(tt,U,t){var E=t(38248),S=t(3400),i=t(39032).BADNUM;tt.exports=function(L,T,v,d){var r,e,l,n,s,o;function f(p){if(E(p))return+p}if(T&&T.transpose){for(r=0,s=0;s<L.length;s++)r=Math.max(r,L[s].length);if(r===0)return!1;l=function(p){return p.length},n=function(p,x,k){return(p[k]||[])[x]}}else r=L.length,l=function(p,x){return p[x].length},n=function(p,x,k){return(p[x]||[])[k]};var b=function(p,x,k){return x===i||k===i?i:n(p,x,k)};function h(p){if(T&&T.type!=="carpet"&&T.type!=="contourcarpet"&&p&&p.type==="category"&&T["_"+p._id.charAt(0)].length){var x=p._id.charAt(0),k={},y=T["_"+x+"CategoryMap"]||T[x];for(s=0;s<y.length;s++)k[y[s]]=s;return function(A){var C=k[p._categories[A]];return C+1?C:i}}else return S.identity}var _=h(v),a=h(d);d&&d.type==="category"&&(r=d._categories.length);var c=new Array(r);for(s=0;s<r;s++)for(v&&v.type==="category"?e=v._categories.length:e=l(L,s),c[s]=new Array(e),o=0;o<e;o++)c[s][o]=f(b(L,a(s),_(o)));return c}},96288:function(tt){tt.exports={min:"zmin",max:"zmax"}},2872:function(tt,U,t){var E=t(3400),S=t(39032).BADNUM,i=t(1220);tt.exports=function(L,T,v,d,r,e){var l=L._length,n=T.makeCalcdata(L,d),s=v.makeCalcdata(L,r);n=i(L,T,d,n).vals,s=i(L,v,r,s).vals;var o=L.text,f=o!==void 0&&E.isArray1D(o),b=L.hovertext,h=b!==void 0&&E.isArray1D(b),_,a,c=E.distinctVals(n),p=c.vals,x=E.distinctVals(s),k=x.vals,y=[],A,C,u=k.length,m=p.length;for(_=0;_<e.length;_++)y[_]=E.init2dArray(u,m);f&&(A=E.init2dArray(u,m)),h&&(C=E.init2dArray(u,m));var M=E.init2dArray(u,m);for(_=0;_<l;_++)if(n[_]!==S&&s[_]!==S){var w=E.findBin(n[_]+c.minDiff/2,p),z=E.findBin(s[_]+x.minDiff/2,k);for(a=0;a<e.length;a++){var O=e[a],D=L[O],P=y[a];P[z][w]=D[_],M[z][w]=_}f&&(A[z][w]=o[_]),h&&(C[z][w]=b[_])}for(L["_"+d]=p,L["_"+r]=k,a=0;a<e.length;a++)L["_"+e[a]]=y[a];f&&(L._text=A),h&&(L._hovertext=C),T&&T.type==="category"&&(L["_"+d+"CategoryMap"]=p.map(function(F){return T._categories[F]})),v&&v.type==="category"&&(L["_"+r+"CategoryMap"]=k.map(function(F){return v._categories[F]})),L._after2before=M}},24480:function(tt,U,t){var E=t(3400),S=t(51264),i=t(39096),L=t(31147),T=t(82748),v=t(27260),d=t(83328);tt.exports=function(r,e,l,n){function s(f,b){return E.coerce(r,e,d,f,b)}var o=S(r,e,s,n);if(!o){e.visible=!1;return}L(r,e,n,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hovertemplate"),i(s,n),T(r,e,s,n),s("hoverongaps"),s("connectgaps",E.isArray1D(e.z)&&e.zsmooth!==!1),v(r,e,n,s,{prefix:"",cLetter:"z"}),s("zorder")}},11240:function(tt,U,t){var E=t(3400).maxRowLength;tt.exports=function(S){var i=[],L={},T=[],v=S[0],d=[],r=[0,0,0],e=E(S),l,n,s,o,f,b,h,_;for(n=0;n<S.length;n++)for(l=d,d=v,v=S[n+1]||[],s=0;s<e;s++)d[s]===void 0&&(b=(d[s-1]!==void 0?1:0)+(d[s+1]!==void 0?1:0)+(l[s]!==void 0?1:0)+(v[s]!==void 0?1:0),b?(n===0&&b++,s===0&&b++,n===S.length-1&&b++,s===d.length-1&&b++,b<4&&(L[[n,s]]=[n,s,b]),i.push([n,s,b])):T.push([n,s]));for(;T.length;){for(h={},_=!1,f=T.length-1;f>=0;f--)o=T[f],n=o[0],s=o[1],b=((L[[n-1,s]]||r)[2]+(L[[n+1,s]]||r)[2]+(L[[n,s-1]]||r)[2]+(L[[n,s+1]]||r)[2])/20,b&&(h[o]=[n,s,b],T.splice(f,1),_=!0);if(!_)throw"findEmpties iterated with no new neighbors";for(o in h)L[o]=h[o],i.push(h[o])}return i.sort(function(a,c){return c[2]-a[2]})}},55512:function(tt,U,t){var E=t(93024),S=t(3400),i=S.isArrayOrTypedArray,L=t(54460),T=t(8932).extractOpts;tt.exports=function(v,d,r,e,l){l||(l={});var n=l.isContour,s=v.cd[0],o=s.trace,f=v.xa,b=v.ya,h=s.x,_=s.y,a=s.z,c=s.xCenter,p=s.yCenter,x=s.zmask,k=o.zhoverformat,y=h,A=_,C,u,m,M;if(v.index!==!1){try{m=Math.round(v.index[1]),M=Math.round(v.index[0])}catch{S.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(m<0||m>=a[0].length||M<0||M>a.length)return}else{if(E.inbox(d-h[0],d-h[h.length-1],0)>0||E.inbox(r-_[0],r-_[_.length-1],0)>0)return;if(n){var w;for(y=[2*h[0]-h[1]],w=1;w<h.length;w++)y.push((h[w]+h[w-1])/2);for(y.push([2*h[h.length-1]-h[h.length-2]]),A=[2*_[0]-_[1]],w=1;w<_.length;w++)A.push((_[w]+_[w-1])/2);A.push([2*_[_.length-1]-_[_.length-2]])}m=Math.max(0,Math.min(y.length-2,S.findBin(d,y))),M=Math.max(0,Math.min(A.length-2,S.findBin(r,A)))}var z=f.c2p(h[m]),O=f.c2p(h[m+1]),D=b.c2p(_[M]),P=b.c2p(_[M+1]),F,R;n?(F=s.orig_x||h,R=s.orig_y||_,O=z,C=F[m],P=D,u=R[M]):(F=s.orig_x||c||h,R=s.orig_y||p||_,C=c?F[m]:(F[m]+F[m+1])/2,u=p?R[M]:(R[M]+R[M+1])/2,f&&f.type==="category"&&(C=h[m]),b&&b.type==="category"&&(u=_[M]),o.zsmooth&&(z=O=f.c2p(C),D=P=b.c2p(u)));var N=a[M][m];if(x&&!x[M][m]&&(N=void 0),!(N===void 0&&!o.hoverongaps)){var B;i(s.hovertext)&&i(s.hovertext[M])?B=s.hovertext[M][m]:i(s.text)&&i(s.text[M])&&(B=s.text[M][m]);var q=T(o),V={type:"linear",range:[q.min,q.max],hoverformat:k,_separators:f._separators,_numFormat:f._numFormat},J=L.tickText(V,N,"hover").text;return[S.extendFlat(v,{index:o._after2before?o._after2before[M][m]:[M,m],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:z,x1:O,y0:D,y1:P,xLabelVal:C,yLabelVal:u,zLabelVal:N,zLabel:J,text:B})]}}},81932:function(tt,U,t){tt.exports={attributes:t(83328),supplyDefaults:t(24480),calc:t(19512),plot:t(41420),colorbar:t(96288),style:t(41648),hoverPoints:t(55512),moduleType:"trace",name:"heatmap",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(tt,U,t){var E=t(3400),S=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}tt.exports=function(v,d){var r=1,e;for(T(v,d),e=0;e<d.length&&!(d[e][2]<4);e++);for(d=d.slice(e),e=0;e<100&&r>S;e++)r=T(v,d,L(r));return r>S&&E.log("interp2d didn't converge quickly",r),v};function T(v,d,r){var e=0,l,n,s,o,f,b,h,_,a,c,p,x,k;for(o=0;o<d.length;o++){for(l=d[o],n=l[0],s=l[1],p=v[n][s],c=0,a=0,f=0;f<4;f++)b=i[f],h=v[n+b[0]],h&&(_=h[s+b[1]],_!==void 0&&(c===0?x=k=_:(x=Math.min(x,_),k=Math.max(k,_)),a++,c+=_));if(a===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][s]=c/a,p===void 0?a<4&&(e=1):(v[n][s]=(1+r)*v[n][s]-r*p,k>x&&(e=Math.max(e,Math.abs(v[n][s]-p)/(k-x))))}return e}},39096:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){S("texttemplate");var L=E.extendFlat({},i.font,{color:"auto",size:"auto"});E.coerceFont(S,"textfont",L)}},35744:function(tt,U,t){var E=t(24040),S=t(3400).isArrayOrTypedArray;tt.exports=function(i,L,T,v,d,r){var e=[],l=E.traceIs(i,"contour"),n=E.traceIs(i,"histogram"),s=E.traceIs(i,"gl2d"),o,f,b,h=S(L)&&L.length>1;if(h&&!n&&r.type!=="category"){var _=L.length;if(_<=d){if(l||s)e=Array.from(L).slice(0,d);else if(d===1)r.type==="log"?e=[.5*L[0],2*L[0]]:e=[L[0]-.5,L[0]+.5];else if(r.type==="log"){for(e=[Math.pow(L[0],1.5)/Math.pow(L[1],.5)],b=1;b<_;b++)e.push(Math.sqrt(L[b-1]*L[b]));e.push(Math.pow(L[_-1],1.5)/Math.pow(L[_-2],.5))}else{for(e=[1.5*L[0]-.5*L[1]],b=1;b<_;b++)e.push((L[b-1]+L[b])*.5);e.push(1.5*L[_-1]-.5*L[_-2])}if(_<d){var a=e[e.length-1],c;if(r.type==="log")for(c=a/e[e.length-2],b=_;b<d;b++)a*=c,e.push(a);else for(c=a-e[e.length-2],b=_;b<d;b++)a+=c,e.push(a)}}else return l?L.slice(0,d):L.slice(0,d+1)}else{var p=i[r._id.charAt(0)+"calendar"];if(n)o=r.r2c(T,0,p);else if(S(L)&&L.length===1)o=L[0];else if(T===void 0)o=0;else{var x=r.type==="log"?r.d2c:r.r2c;o=x(T,0,p)}for(f=v||1,b=l||s?0:-.5;b<d;b++)e.push(o+f*b)}return e}},41420:function(tt,U,t){var E=t(33428),S=t(49760),i=t(24040),L=t(43616),T=t(54460),v=t(3400),d=t(72736),r=t(76688),e=t(76308),l=t(8932).extractOpts,n=t(8932).makeColorScaleFuncFromTrace,s=t(9616),o=t(84284),f=o.LINE_SPACING,b=t(9188),h=t(2264).STYLE,_="heatmap-label";function a(y){return y.selectAll("g."+_)}function c(y){a(y).remove()}tt.exports=function(y,A,C,u){var m=A.xaxis,M=A.yaxis;v.makeTraceGroups(u,C,"hm").each(function(w){var z=E.select(this),O=w[0],D=O.trace,P=D.xgap||0,F=D.ygap||0,R=O.z,N=O.x,B=O.y,q=O.xCenter,V=O.yCenter,J=i.traceIs(D,"contour"),it=J?"best":D.zsmooth,nt=R.length,Y=v.maxRowLength(R),Z=!1,$=!1,G,rt,ot,W,H,at,Q,ct;for(at=0;G===void 0&&at<N.length-1;)G=m.c2p(N[at]),at++;for(at=N.length-1;rt===void 0&&at>0;)rt=m.c2p(N[at]),at--;for(rt<G&&(ot=rt,rt=G,G=ot,Z=!0),at=0;W===void 0&&at<B.length-1;)W=M.c2p(B[at]),at++;for(at=B.length-1;H===void 0&&at>0;)H=M.c2p(B[at]),at--;H<W&&(ot=W,W=H,H=ot,$=!0),J&&(q=N,V=B,N=O.xfill,B=O.yfill);var ft="default";if(it?ft=it==="best"?"smooth":"fast":D._islinear&&P===0&&F===0&&b()&&(ft="fast"),ft!=="fast"){var yt=it==="best"?0:.5;G=Math.max(-yt*m._length,G),rt=Math.min((1+yt)*m._length,rt),W=Math.max(-yt*M._length,W),H=Math.min((1+yt)*M._length,H)}var xt=Math.round(rt-G),Lt=Math.round(H-W),gt=G>=m._length||rt<=0||W>=M._length||H<=0;if(gt){var mt=z.selectAll("image").data([]);mt.exit().remove(),c(z);return}var vt,At;ft==="fast"?(vt=Y,At=nt):(vt=xt,At=Lt);var Ot=document.createElement("canvas");Ot.width=vt,Ot.height=At;var Pt=Ot.getContext("2d",{willReadFrequently:!0}),Et=n(D,{noNumericCheck:!0,returnArray:!0}),Nt,ne;ft==="fast"?(Nt=Z?function(Rr){return Y-1-Rr}:v.identity,ne=$?function(Rr){return nt-1-Rr}:v.identity):(Nt=function(Rr){return v.constrain(Math.round(m.c2p(N[Rr])-G),0,xt)},ne=function(Rr){return v.constrain(Math.round(M.c2p(B[Rr])-W),0,Lt)});var Gt=ne(0),pe=[Gt,Gt],Vt=Z?0:1,ae=$?0:1,oe=0,ce=0,le=0,ye=0,Tt,Ft,$t,Wt,Bt;function Mt(Rr,on){if(Rr!==void 0){var an=Et(Rr);return an[0]=Math.round(an[0]),an[1]=Math.round(an[1]),an[2]=Math.round(an[2]),oe+=on,ce+=an[0]*on,le+=an[1]*on,ye+=an[2]*on,an}return[0,0,0,0]}function St(Rr,on,an,gn){var Mn=Rr[an.bin0];if(Mn===void 0)return Mt(void 0,1);var Pn=Rr[an.bin1],Kn=on[an.bin0],ai=on[an.bin1],ui=Pn-Mn||0,ni=Kn-Mn||0,Cn;return Pn===void 0?ai===void 0?Cn=0:Kn===void 0?Cn=2*(ai-Mn):Cn=(2*ai-Kn-Mn)*2/3:ai===void 0?Kn===void 0?Cn=0:Cn=(2*Mn-Pn-Kn)*2/3:Kn===void 0?Cn=(2*ai-Pn-Mn)*2/3:Cn=ai+Mn-Pn-Kn,Mt(Mn+an.frac*ui+gn.frac*(ni+an.frac*Cn))}if(ft!=="default"){var Dt=0,dt;try{dt=new Uint8Array(vt*At*4)}catch{dt=new Array(vt*At*4)}if(ft==="smooth"){var ht=q||N,bt=V||B,zt=new Array(ht.length),qt=new Array(bt.length),te=new Array(xt),re=q?x:p,Ye=V?x:p,Be,ge,be;for(at=0;at<ht.length;at++)zt[at]=Math.round(m.c2p(ht[at])-G);for(at=0;at<bt.length;at++)qt[at]=Math.round(M.c2p(bt[at])-W);for(at=0;at<xt;at++)te[at]=re(at,zt);for(Q=0;Q<Lt;Q++)for(Be=Ye(Q,qt),ge=R[Be.bin0],be=R[Be.bin1],at=0;at<xt;at++,Dt+=4)Bt=St(ge,be,te[at],Be),k(dt,Dt,Bt)}else for(Q=0;Q<nt;Q++)for(Wt=R[Q],pe=ne(Q),at=0;at<Y;at++)Bt=Mt(Wt[at],1),Dt=(pe*Y+Nt(at))*4,k(dt,Dt,Bt);var Ne=Pt.createImageData(vt,At);try{Ne.data.set(dt)}catch{var pr=Ne.data,fe=pr.length;for(Q=0;Q<fe;Q++)pr[Q]=dt[Q]}Pt.putImageData(Ne,0,0)}else{var De=Math.floor(P/2),Ge=Math.floor(F/2);for(Q=0;Q<nt;Q++)if(Wt=R[Q],pe.reverse(),pe[ae]=ne(Q+1),!(pe[0]===pe[1]||pe[0]===void 0||pe[1]===void 0))for(Ft=Nt(0),Tt=[Ft,Ft],at=0;at<Y;at++)Tt.reverse(),Tt[Vt]=Nt(at+1),!(Tt[0]===Tt[1]||Tt[0]===void 0||Tt[1]===void 0)&&($t=Wt[at],Bt=Mt($t,(Tt[1]-Tt[0])*(pe[1]-pe[0])),Pt.fillStyle="rgba("+Bt.join(",")+")",Pt.fillRect(Tt[0]+De,pe[0]+Ge,Tt[1]-Tt[0]-P,pe[1]-pe[0]-F))}ce=Math.round(ce/oe),le=Math.round(le/oe),ye=Math.round(ye/oe);var vr=S("rgb("+ce+","+le+","+ye+")");y._hmpixcount=(y._hmpixcount||0)+oe,y._hmlumcount=(y._hmlumcount||0)+oe*vr.getLuminance();var $e=z.selectAll("image").data(w);$e.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),$e.attr({height:Lt,width:xt,x:G,y:W,"xlink:href":Ot.toDataURL("image/png")}),ft==="fast"&&!it&&$e.attr("style",h),c(z);var Kt=D.texttemplate;if(Kt){var ie=l(D),he={type:"linear",range:[ie.min,ie.max],_separators:m._separators,_numFormat:m._numFormat},Ae=D.type==="histogram2dcontour",Ee=D.type==="contour",Fe=Ee?1:0,Re=Ee?nt-1:nt,Ce=Ee?1:0,We=Ee?Y-1:Y,er=[];for(at=Fe;at<Re;at++){var Ue;if(Ee)Ue=O.y[at];else if(Ae){if(at===0||at===nt-1)continue;Ue=O.y[at]}else if(O.yCenter)Ue=O.yCenter[at];else{if(at+1===nt&&O.y[at+1]===void 0)continue;Ue=(O.y[at]+O.y[at+1])/2}var ar=Math.round(M.c2p(Ue));if(!(0>ar||ar>M._length))for(Q=Ce;Q<We;Q++){var It;if(Ee)It=O.x[Q];else if(Ae){if(Q===0||Q===Y-1)continue;It=O.x[Q]}else if(O.xCenter)It=O.xCenter[Q];else{if(Q+1===Y&&O.x[Q+1]===void 0)continue;It=(O.x[Q]+O.x[Q+1])/2}var Ut=Math.round(m.c2p(It));if(!(0>Ut||Ut>m._length)){var Me=r({x:It,y:Ue},D,y._fullLayout);Me.x=It,Me.y=Ue;var ke=O.z[at][Q];ke===void 0?(Me.z="",Me.zLabel=""):(Me.z=ke,Me.zLabel=T.tickText(he,ke,"hover").text);var qe=O.text&&O.text[at]&&O.text[at][Q];(qe===void 0||qe===!1)&&(qe=""),Me.text=qe;var Ke=v.texttemplateString(Kt,Me,y._fullLayout._d3locale,Me,D._meta||{});if(Ke){var Je=Ke.split("<br>"),Ve=Je.length,Pe=0;for(ct=0;ct<Ve;ct++)Pe=Math.max(Pe,Je[ct].length);er.push({l:Ve,c:Pe,t:Ke,x:Ut,y:ar,z:ke})}}}}var rr=D.textfont,lr=rr.size,cr=y._fullLayout.font.size;if(!lr||lr==="auto"){var ir=1/0,Er=1/0,kr=0,Mr=0;for(ct=0;ct<er.length;ct++){var $r=er[ct];if(kr=Math.max(kr,$r.l),Mr=Math.max(Mr,$r.c),ct<er.length-1){var Gr=er[ct+1],vn=Math.abs(Gr.x-$r.x),yn=Math.abs(Gr.y-$r.y);vn&&(ir=Math.min(ir,vn)),yn&&(Er=Math.min(Er,yn))}}!isFinite(ir)||!isFinite(Er)?lr=cr:(ir-=P,Er-=F,ir/=Mr,Er/=kr,ir/=f/2,Er/=f,lr=Math.min(Math.floor(ir),Math.floor(Er),cr))}if(lr<=0||!isFinite(lr))return;var hr=function(Rr){return Rr.x},Lr=function(Rr){return Rr.y-lr*(Rr.l*f/2-1)},Ir=a(z).data(er);Ir.enter().append("g").classed(_,1).append("text").attr("text-anchor","middle").each(function(Rr){var on=E.select(this),an=rr.color;(!an||an==="auto")&&(an=e.contrast(Rr.z===void 0?y._fullLayout.plot_bgcolor:"rgba("+Et(Rr.z).join()+")")),on.attr("data-notex",1).call(d.positionText,hr(Rr),Lr(Rr)).call(L.font,{family:rr.family,size:lr,color:an,weight:rr.weight,style:rr.style,variant:rr.variant}).text(Rr.t).call(d.convertToTspans,y)})}})};function p(y,A){var C=A.length-2,u=v.constrain(v.findBin(y,A),0,C),m=A[u],M=A[u+1],w=v.constrain(u+(y-m)/(M-m)-.5,0,C),z=Math.round(w),O=Math.abs(w-z);return!w||w===C||!O?{bin0:z,bin1:z,frac:0}:{bin0:z,frac:O,bin1:Math.round(z+O/(w-z))}}function x(y,A){var C=A.length-1,u=v.constrain(v.findBin(y,A),0,C),m=A[u],M=A[u+1],w=(y-m)/(M-m)||0;return w<=0?{bin0:u,bin1:u,frac:0}:w<.5?{bin0:u,bin1:u+1,frac:w}:{bin0:u+1,bin1:u,frac:1-w}}function k(y,A,C){y[A]=C[0],y[A+1]=C[1],y[A+2]=C[2],y[A+3]=Math.round(C[3]*255)}},41648:function(tt,U,t){var E=t(33428);tt.exports=function(S){E.select(S).selectAll(".hm image").style("opacity",function(i){return i.trace.opacity})}},82748:function(tt){tt.exports=function(U,t,E){var S=E("zsmooth");S===!1&&(E("xgap"),E("ygap")),E("zhoverformat")}},51264:function(tt,U,t){var E=t(38248),S=t(3400),i=t(24040);tt.exports=function(v,d,r,e,l,n){var s=r("z");l=l||"x",n=n||"y";var o,f;if(s===void 0||!s.length)return 0;if(S.isArray1D(s)){o=r(l),f=r(n);var b=S.minRowLength(o),h=S.minRowLength(f);if(b===0||h===0)return 0;d._length=Math.min(b,h,s.length)}else{if(o=L(l,r),f=L(n,r),!T(s))return 0;r("transpose"),d._length=null}if(v.type==="heatmapgl")return!0;var _=i.getComponentMethod("calendars","handleTraceDefaults");return _(v,d,[l,n],e),!0};function L(v,d){var r=d(v),e=r?d(v+"type","array"):"scaled";return e==="scaled"&&(d(v+"0"),d("d"+v)),r}function T(v){for(var d=!0,r=!1,e=!1,l,n=0;n<v.length;n++){if(l=v[n],!S.isArrayOrTypedArray(l)){d=!1;break}l.length>0&&(r=!0);for(var s=0;s<l.length;s++)if(E(l[s])){e=!0;break}}return d&&r&&e}},74512:function(tt,U,t){for(var E=t(83328),S=t(49084),i=t(92880).extendFlat,L=t(67824).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},d=0;d<T.length;d++){var r=T[d];v[r]=E[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(v,S("",{cLetter:"z",autoColorDflt:!1})),tt.exports=L(v,"calc","nested")},84656:function(tt,U,t){var E=t(67792).gl_heatmap2d,S=t(54460),i=t(43080);function L(r,e){this.scene=r,this.uid=e,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=E(r.glplot,this.options),this.heatmap._trace=this}var T=L.prototype;T.handlePick=function(r){var e=this.options,l=e.shape,n=r.pointId,s=n%l[0],o=Math.floor(n/l[0]),f=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[e.x[s],e.y[o],e.z[f]],textLabel:this.textLabels[n],name:this.name,pointIndex:[o,s],hoverinfo:this.hoverinfo}},T.update=function(r,e){var l=e[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=l.z;this.options.z=[].concat.apply([],n);var s=n[0].length,o=n.length;this.options.shape=[s,o],this.options.x=l.x,this.options.y=l.y,this.options.zsmooth=r.zsmooth;var f=v(r);this.options.colorLevels=f.colorLevels,this.options.colorValues=f.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var b=this.scene.xaxis,h=this.scene.yaxis,_,a;r.zsmooth===!1&&(_={ppad:l.x[1]-l.x[0]},a={ppad:l.y[1]-l.y[0]}),r._extremes[b._id]=S.findExtremes(b,l.x,_),r._extremes[h._id]=S.findExtremes(h,l.y,a)},T.dispose=function(){this.heatmap.dispose()};function v(r){for(var e=r.colorscale,l=r.zmin,n=r.zmax,s=e.length,o=new Array(s),f=new Array(4*s),b=0;b<s;b++){var h=e[b],_=i(h[1]);o[b]=l+h[0]*(n-l);for(var a=0;a<4;a++)f[4*b+a]=_[a]}return{colorLevels:o,colorValues:f}}function d(r,e,l){var n=new L(r,e.uid);return n.update(e,l),n}tt.exports=d},86464:function(tt,U,t){var E=t(3400),S=t(51264),i=t(27260),L=t(74512);tt.exports=function(T,v,d,r){function e(n,s){return E.coerce(T,v,L,n,s)}var l=S(T,v,e,r);if(!l){v.visible=!1;return}e("text"),e("zsmooth"),i(T,v,r,e,{prefix:"",cLetter:"z"})}},45536:function(tt,U,t){tt.exports={attributes:t(74512),supplyDefaults:t(86464),colorbar:t(96288),calc:t(19512),plot:t(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:t(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(tt,U,t){var E=t(20832),S=t(29736).axisHoverFormat,i=t(21776).Ks,L=t(21776).Gw,T=t(25376),v=t(11120),d=t(73316),r=t(92880).extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:S("x"),yhoverformat:S("y"),text:r({},E.text,{}),hovertext:r({},E.hovertext,{}),orientation:E.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:d.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},E.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:E.insidetextanchor,textangle:E.textangle,cliponaxis:E.cliponaxis,constraintext:E.constraintext,marker:E.marker,offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:E.selected,unselected:E.unselected,_deprecated:{bardir:E._deprecated.bardir},zorder:E.zorder}},2e3:function(tt){tt.exports=function(U,t){for(var E=U.length,S=0,i=0;i<E;i++)t[i]?(U[i]/=t[i],S+=U[i]):U[i]=null;return S}},11120:function(tt){tt.exports=function(U,t){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(tt,U,t){var E=t(38248);tt.exports={count:function(S,i,L){return L[S]++,1},sum:function(S,i,L,T){var v=T[i];return E(v)?(v=Number(v),L[S]+=v,v):0},avg:function(S,i,L,T,v){var d=T[i];return E(d)&&(d=Number(d),L[S]+=d,v[S]++),0},min:function(S,i,L,T){var v=T[i];if(E(v))if(v=Number(v),E(L[S])){if(L[S]>v){var d=v-L[S];return L[S]=v,d}}else return L[S]=v,v;return 0},max:function(S,i,L,T){var v=T[i];if(E(v))if(v=Number(v),E(L[S])){if(L[S]<v){var d=v-L[S];return L[S]=v,d}}else return L[S]=v,v;return 0}}},67712:function(tt,U,t){var E=t(39032),S=E.ONEAVGYEAR,i=E.ONEAVGMONTH,L=E.ONEDAY,T=E.ONEHOUR,v=E.ONEMIN,d=E.ONESEC,r=t(54460).tickIncrement;tt.exports=function(o,f,b,h,_){var a=-1.1*f,c=-.1*f,p=o-c,x=b[0],k=b[1],y=Math.min(e(x+c,x+p,h,_),e(k+c,k+p,h,_)),A=Math.min(e(x+a,x+c,h,_),e(k+a,k+c,h,_)),C,u;if(y>A&&A<Math.abs(k-x)/4e3?(C=y,u=!1):(C=Math.min(y,A),u=!0),h.type==="date"&&C>L){var m=C===S?1:6,M=C===S?"M12":"M1";return function(w,z){var O=h.c2d(w,S,_),D=O.indexOf("-",m);D>0&&(O=O.substr(0,D));var P=h.d2c(O,0,_);if(P<w){var F=r(P,M,!1,_);(P+F)/2<w+o&&(P=F)}return z&&u?r(P,M,!0,_):P}}return function(w,z){var O=C*Math.round(w/C);return O+C/10<w&&O+C*.9<w+o&&(O+=C),z&&u&&(O-=C),O}};function e(o,f,b,h){if(o*f<=0)return 1/0;for(var _=Math.abs(f-o),a=b.type==="date",c=l(_,a),p=0;p<10;p++){var x=l(c*80,a);if(c===x)break;if(n(x,o,f,a,b,h))c=x;else break}return c}function l(o,f){return f&&o>d?o>L?o>S*1.1?S:o>i*1.1?i:L:o>T?T:o>v?v:d:Math.pow(10,Math.floor(Math.log(o)/Math.LN10))}function n(o,f,b,h,_,a){if(h&&o>L){var c=s(f,_,a),p=s(b,_,a),x=o===S?0:1;return c[x]!==p[x]}return Math.floor(b/o)-Math.floor(f/o)>.1}function s(o,f,b){var h=f.c2d(o,S,b).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(tt,U,t){var E=t(38248),S=t(3400),i=t(24040),L=t(54460),T=t(84664),v=t(16964),d=t(10648),r=t(2e3),e=t(67712);function l(b,h){var _=[],a=[],c=h.orientation==="h",p=L.getFromId(b,c?h.yaxis:h.xaxis),x=c?"y":"x",k={x:"y",y:"x"}[x],y=h[x+"calendar"],A=h.cumulative,C,u=n(b,h,p,x),m=u[0],M=u[1],w=typeof m.size=="string",z=[],O=w?z:m,D=[],P=[],F=[],R=0,N=h.histnorm,B=h.histfunc,q=N.indexOf("density")!==-1,V,J,it;A.enabled&&q&&(N=N.replace(/ ?density$/,""),q=!1);var nt=B==="max"||B==="min",Y=nt?null:0,Z=v.count,$=d[N],G=!1,rt=function(Pt){return p.r2c(Pt,0,y)},ot;for(S.isArrayOrTypedArray(h[k])&&B!=="count"&&(ot=h[k],G=B==="avg",Z=v[B]),C=rt(m.start),J=rt(m.end)+(C-L.tickIncrement(C,m.size,!1,y))/1e6;C<J&&_.length<1e6&&(V=L.tickIncrement(C,m.size,!1,y),_.push((C+V)/2),a.push(Y),F.push([]),z.push(C),q&&D.push(1/(V-C)),G&&P.push(0),!(V<=C));)C=V;z.push(C),!w&&p.type==="date"&&(O={start:rt(O.start),end:rt(O.end),size:O.size}),b._fullLayout._roundFnOpts||(b._fullLayout._roundFnOpts={});var W=h["_"+x+"bingroup"],H={leftGap:1/0,rightGap:1/0};W&&(b._fullLayout._roundFnOpts[W]||(b._fullLayout._roundFnOpts[W]=H),H=b._fullLayout._roundFnOpts[W]);var at=a.length,Q=!0,ct=H.leftGap,ft=H.rightGap,yt={};for(C=0;C<M.length;C++){var xt=M[C];it=S.findBin(xt,O),it>=0&&it<at&&(R+=Z(it,C,a,ot,P),Q&&F[it].length&&xt!==M[F[it][0]]&&(Q=!1),F[it].push(C),yt[C]=it,ct=Math.min(ct,xt-z[it]),ft=Math.min(ft,z[it+1]-xt))}H.leftGap=ct,H.rightGap=ft;var Lt;Q||(Lt=function(Pt,Et){return function(){var Nt=b._fullLayout._roundFnOpts[W];return e(Nt.leftGap,Nt.rightGap,z,p,y)(Pt,Et)}}),G&&(R=r(a,P)),$&&$(a,R,D),A.enabled&&f(a,A.direction,A.currentbin);var gt=Math.min(_.length,a.length),mt=[],vt=0,At=gt-1;for(C=0;C<gt;C++)if(a[C]){vt=C;break}for(C=gt-1;C>=vt;C--)if(a[C]){At=C;break}for(C=vt;C<=At;C++)if(E(_[C])&&E(a[C])){var Ot={p:_[C],s:a[C],b:0};A.enabled||(Ot.pts=F[C],Q?Ot.ph0=Ot.ph1=F[C].length?M[F[C][0]]:_[C]:(h._computePh=!0,Ot.ph0=Lt(z[C]),Ot.ph1=Lt(z[C+1],!0))),mt.push(Ot)}return mt.length===1&&(mt[0].width1=L.tickIncrement(mt[0].p,m.size,!1,y)-mt[0].p),T(mt,h),S.isArrayOrTypedArray(h.selectedpoints)&&S.tagSelected(mt,h,yt),mt}function n(b,h,_,a,c){var p=a+"bins",x=b._fullLayout,k=h["_"+a+"bingroup"],y=x._histogramBinOpts[k],A=x.barmode==="overlay",C,u,m,M,w,z,O,D=function(xt){return _.r2c(xt,0,M)},P=function(xt){return _.c2r(xt,0,M)},F=_.type==="date"?function(xt){return xt||xt===0?S.cleanDate(xt,null,M):null}:function(xt){return E(xt)?Number(xt):null};function R(xt,Lt,gt){Lt[xt+"Found"]?(Lt[xt]=F(Lt[xt]),Lt[xt]===null&&(Lt[xt]=gt[xt])):(z[xt]=Lt[xt]=gt[xt],S.nestedProperty(u[0],p+"."+xt).set(gt[xt]))}if(h["_"+a+"autoBinFinished"])delete h["_"+a+"autoBinFinished"];else{u=y.traces;var N=[],B=!0,q=!1,V=!1;for(C=0;C<u.length;C++)if(m=u[C],m.visible){var J=y.dirs[C];w=m["_"+J+"pos0"]=_.makeCalcdata(m,J),N=S.concat(N,w),delete m["_"+a+"autoBinFinished"],h.visible===!0&&(B?B=!1:(delete m._autoBin,m["_"+a+"autoBinFinished"]=1),i.traceIs(m,"2dMap")&&(q=!0),m.type==="histogram2dcontour"&&(V=!0))}M=u[0][a+"calendar"];var it=L.autoBin(N,_,y.nbins,q,M,y.sizeFound&&y.size),nt=u[0]._autoBin={};if(z=nt[y.dirs[0]]={},V&&(y.size||(it.start=P(L.tickIncrement(D(it.start),it.size,!0,M))),y.end===void 0&&(it.end=P(L.tickIncrement(D(it.end),it.size,!1,M)))),A&&!i.traceIs(h,"2dMap")&&it._dataSpan===0&&_.type!=="category"&&_.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(c)return[it,w,!0];it=s(b,h,_,a,p)}O=m.cumulative||{},O.enabled&&O.currentbin!=="include"&&(O.direction==="decreasing"?it.start=P(L.tickIncrement(D(it.start),it.size,!0,M)):it.end=P(L.tickIncrement(D(it.end),it.size,!1,M))),y.size=it.size,y.sizeFound||(z.size=it.size,S.nestedProperty(u[0],p+".size").set(it.size)),R("start",y,it),R("end",y,it)}w=h["_"+a+"pos0"],delete h["_"+a+"pos0"];var Y=h._input[p]||{},Z=S.extendFlat({},y),$=y.start,G=_.r2l(Y.start),rt=G!==void 0;if((y.startFound||rt)&&G!==_.r2l($)){var ot=rt?G:S.aggNums(Math.min,null,w),W={type:_.type==="category"||_.type==="multicategory"?"linear":_.type,r2l:_.r2l,dtick:y.size,tick0:$,calendar:M,range:[ot,L.tickIncrement(ot,y.size,!1,M)].map(_.l2r)},H=L.tickFirst(W);H>_.r2l(ot)&&(H=L.tickIncrement(H,y.size,!0,M)),Z.start=_.l2r(H),rt||S.nestedProperty(h,p+".start").set(Z.start)}var at=y.end,Q=_.r2l(Y.end),ct=Q!==void 0;if((y.endFound||ct)&&Q!==_.r2l(at)){var ft=ct?Q:S.aggNums(Math.max,null,w);Z.end=_.l2r(ft),ct||S.nestedProperty(h,p+".start").set(Z.end)}var yt="autobin"+a;return h._input[yt]===!1&&(h._input[p]=S.extendFlat({},h[p]||{}),delete h._input[yt],delete h[yt]),[Z,w]}function s(b,h,_,a,c){var p=b._fullLayout,x=o(b,h),k=!1,y=1/0,A=[h],C,u,m;for(C=0;C<x.length;C++)if(u=x[C],u===h)k=!0;else if(!k)m=p._histogramBinOpts[u["_"+a+"bingroup"]],y=Math.min(y,m.size||u[c].size);else{var M=n(b,u,_,a,!0),w=M[0],z=M[2];u["_"+a+"autoBinFinished"]=1,u["_"+a+"pos0"]=M[1],z?A.push(u):y=Math.min(y,w.size)}var O=new Array(A.length);for(C=0;C<A.length;C++)for(var D=A[C]["_"+a+"pos0"],P=0;P<D.length;P++)if(D[P]!==void 0){O[C]=D[P];break}for(isFinite(y)||(y=S.distinctVals(O).minDiff),C=0;C<A.length;C++){u=A[C];var F=u[a+"calendar"],R={start:_.c2r(O[C]-y/2,0,F),end:_.c2r(O[C]+y/2,0,F),size:y};u._input[c]=u[c]=R,m=p._histogramBinOpts[u["_"+a+"bingroup"]],m&&S.extendFlat(m,R)}return h[c]}function o(b,h){for(var _=h.xaxis,a=h.yaxis,c=h.orientation,p=[],x=b._fullData,k=0;k<x.length;k++){var y=x[k];y.type==="histogram"&&y.visible===!0&&y.orientation===c&&y.xaxis===_&&y.yaxis===a&&p.push(y)}return p}function f(b,h,_){var a,c,p;function x(y){p=b[y],b[y]/=2}function k(y){c=b[y],b[y]=p+c/2,p+=c}if(_==="half")if(h==="increasing")for(x(0),a=1;a<b.length;a++)k(a);else for(x(b.length-1),a=b.length-2;a>=0;a--)k(a);else if(h==="increasing"){for(a=1;a<b.length;a++)b[a]+=b[a-1];_==="exclude"&&(b.unshift(0),b.pop())}else{for(a=b.length-2;a>=0;a--)b[a]+=b[a+1];_==="exclude"&&(b.push(0),b.shift())}}tt.exports={calc:l,calcAllAutoBins:n}},73316:function(tt){tt.exports={eventDataKeys:["binNumber"]}},80536:function(tt,U,t){var E=t(3400),S=t(79811),i=t(24040).traceIs,L=t(20011),T=t(31508).validateCornerradius,v=E.nestedProperty,d=t(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],e=["x","y"];tt.exports=function(l,n){var s=n._histogramBinOpts={},o=[],f={},b=[],h,_,a,c,p,x,k;function y(J,it){return E.coerce(h._input,h,h._module.attributes,J,it)}function A(J){return J.orientation==="v"?"x":"y"}function C(J,it){var nt=S.getFromTrace({_fullLayout:n},J,it);return nt.type}function u(J,it,nt){var Y=J.uid+"__"+nt;it||(it=Y);var Z=C(J,nt),$=J[nt+"calendar"]||"",G=s[it],rt=!0;G&&(Z===G.axType&&$===G.calendar?(rt=!1,G.traces.push(J),G.dirs.push(nt)):(it=Y,Z!==G.axType&&E.warn(["Attempted to group the bins of trace",J.index,"set on a","type:"+Z,"axis","with bins on","type:"+G.axType,"axis."].join(" ")),$!==G.calendar&&E.warn(["Attempted to group the bins of trace",J.index,"set with a",$,"calendar","with bins",G.calendar?"on a "+G.calendar+" calendar":"w/o a set calendar"].join(" ")))),rt&&(s[it]={traces:[J],dirs:[nt],axType:Z,calendar:J[nt+"calendar"]||""}),J["_"+nt+"bingroup"]=it}for(p=0;p<l.length;p++)if(h=l[p],i(h,"histogram")){if(o.push(h),delete h._xautoBinFinished,delete h._yautoBinFinished,h.type==="histogram"){var m=y("marker.cornerradius",n.barcornerradius);h.marker&&(h.marker.cornerradius=T(m))}i(h,"2dMap")||L(h._input,h,n,y)}var M=n._alignmentOpts||{};for(p=0;p<o.length;p++){if(h=o[p],a="",!i(h,"2dMap")){if(c=A(h),n.barmode==="group"&&h.alignmentgroup){var w=h[c+"axis"],z=d(n,w)+h.orientation;(M[z]||{})[h.alignmentgroup]&&(a=z)}!a&&n.barmode!=="overlay"&&(a=d(n,h.xaxis)+d(n,h.yaxis)+A(h))}a?(f[a]||(f[a]=[]),f[a].push(h)):b.push(h)}for(a in f){if(_=f[a],_.length===1){b.push(_[0]);continue}var O=!1;for(_.length&&(h=_[0],O=y("bingroup")),a=O||a,p=0;p<_.length;p++){h=_[p];var D=h._input.bingroup;D&&D!==a&&E.warn(["Trace",h.index,"must match","within bingroup",a+".","Ignoring its bingroup:",D,"setting."].join(" ")),h.bingroup=a,u(h,a,A(h))}}for(p=0;p<b.length;p++){h=b[p];var P=y("bingroup");if(i(h,"2dMap"))for(k=0;k<2;k++){c=e[k];var F=y(c+"bingroup",P?P+"__"+c:null);u(h,F,c)}else u(h,P,A(h))}for(a in s){var R=s[a];for(_=R.traces,x=0;x<r.length;x++){var N=r[x],B=N.name,q,V;if(!(B==="nbins"&&R.sizeFound)){for(p=0;p<_.length;p++){if(h=_[p],c=R.dirs[p],q=N.aStr[c],v(h._input,q).get()!==void 0){R[B]=y(q),R[B+"Found"]=!0;break}V=(h._autoBin||{})[c]||{},V[B]&&v(h,q).set(V[B])}if(B==="start"||B==="end")for(;p<_.length;p++)h=_[p],h["_"+c+"bingroup"]&&(V=(h._autoBin||{})[c]||{},y(q,V[B]));B==="nbins"&&!R.sizeFound&&!R.nbinsFound&&(h=_[0],R[B]=y(q))}}}}},6616:function(tt,U,t){var E=t(24040),S=t(3400),i=t(76308),L=t(31508).handleText,T=t(55592),v=t(40196);tt.exports=function(d,r,e,l){function n(A,C){return S.coerce(d,r,v,A,C)}var s=n("x"),o=n("y"),f=n("cumulative.enabled");f&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var b=n("textposition");L(d,r,l,n,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var h=n("orientation",o&&!s?"h":"v"),_=h==="v"?"x":"y",a=h==="v"?"y":"x",c=s&&o?Math.min(S.minRowLength(s)&&S.minRowLength(o)):S.minRowLength(r[_]||[]);if(!c){r.visible=!1;return}r._length=c;var p=E.getComponentMethod("calendars","handleTraceDefaults");p(d,r,["x","y"],l);var x=r[a];x&&n("histfunc"),n("histnorm"),n("autobin"+_),T(d,r,n,e,l),S.coerceSelectionMarkerOpacity(r,n);var k=(r.marker.line||{}).color,y=E.getComponentMethod("errorbars","supplyDefaults");y(d,r,k||i.defaultLine,{axis:"y"}),y(d,r,k||i.defaultLine,{axis:"x",inherit:"y"}),n("zorder")}},84980:function(tt){tt.exports=function(U,t,E,S,i){if(U.x="xVal"in t?t.xVal:t.x,U.y="yVal"in t?t.yVal:t.y,"zLabelVal"in t&&(U.z=t.zLabelVal),t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),!(E.cumulative||{}).enabled){var L=Array.isArray(i)?S[0].pts[i[0]][i[1]]:S[i].pts;U.pointNumbers=L,U.binNumber=U.pointNumber,delete U.pointNumber,delete U.pointIndex;var T;if(E._indexToPoints){T=[];for(var v=0;v<L.length;v++)T=T.concat(E._indexToPoints[L[v]])}else T=L;U.pointIndices=T}return U}},43339:function(tt,U,t){var E=t(63400).hoverPoints,S=t(54460).hoverLabelText;tt.exports=function(i,L,T,v,d){var r=E(i,L,T,v,d);if(r){i=r[0];var e=i.cd[i.index],l=i.cd[0].trace;if(!l.cumulative.enabled){var n=l.orientation==="h"?"y":"x";i[n+"Label"]=S(i[n+"a"],[e.ph0,e.ph1],l[n+"hoverformat"])}return r}}},42600:function(tt,U,t){tt.exports={attributes:t(40196),layoutAttributes:t(39324),supplyDefaults:t(6616),crossTraceDefaults:t(80536),supplyLayoutDefaults:t(37156),calc:t(35852).calc,crossTraceCalc:t(96376).crossTraceCalc,plot:t(98184).plot,layerName:"barlayer",style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,colorbar:t(5528),hoverPoints:t(43339),selectPoints:t(45784),eventData:t(84980),moduleType:"trace",name:"histogram",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(tt){tt.exports={percent:function(U,t){for(var E=U.length,S=100/t,i=0;i<E;i++)U[i]*=S},probability:function(U,t){for(var E=U.length,S=0;S<E;S++)U[S]/=t},density:function(U,t,E,S){var i=U.length;S=S||1;for(var L=0;L<i;L++)U[L]*=E[L]*S},"probability density":function(U,t,E,S){var i=U.length;S&&(t/=S);for(var L=0;L<i;L++)U[L]*=E[L]/t}}},37008:function(tt,U,t){var E=t(40196),S=t(11120),i=t(83328),L=t(45464),T=t(29736).axisHoverFormat,v=t(21776).Ks,d=t(21776).Gw,r=t(49084),e=t(92880).extendFlat;tt.exports=e({x:E.x,y:E.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:E.histnorm,histfunc:E.histfunc,nbinsx:E.nbinsx,xbins:S("x"),nbinsy:E.nbinsy,ybins:S("y"),autobinx:E.autobinx,autobiny:E.autobiny,bingroup:e({},E.bingroup,{}),xbingroup:e({},E.bingroup,{}),ybingroup:e({},E.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:e({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(tt,U,t){var E=t(3400),S=t(54460),i=t(16964),L=t(10648),T=t(2e3),v=t(67712),d=t(35852).calcAllAutoBins;tt.exports=function(n,s){var o=S.getFromId(n,s.xaxis),f=S.getFromId(n,s.yaxis),b=s.xcalendar,h=s.ycalendar,_=function(Wt){return o.r2c(Wt,0,b)},a=function(Wt){return f.r2c(Wt,0,h)},c=function(Wt){return o.c2r(Wt,0,b)},p=function(Wt){return f.c2r(Wt,0,h)},x,k,y,A,C=d(n,s,o,"x"),u=C[0],m=C[1],M=d(n,s,f,"y"),w=M[0],z=M[1],O=s._length;m.length>O&&m.splice(O,m.length-O),z.length>O&&z.splice(O,z.length-O);var D=[],P=[],F=[],R=typeof u.size=="string",N=typeof w.size=="string",B=[],q=[],V=R?B:u,J=N?q:w,it=0,nt=[],Y=[],Z=s.histnorm,$=s.histfunc,G=Z.indexOf("density")!==-1,rt=$==="max"||$==="min",ot=rt?null:0,W=i.count,H=L[Z],at=!1,Q=[],ct=[],ft="z"in s?s.z:"marker"in s&&Array.isArray(s.marker.color)?s.marker.color:"";ft&&$!=="count"&&(at=$==="avg",W=i[$]);var yt=u.size,xt=_(u.start),Lt=_(u.end)+(xt-S.tickIncrement(xt,yt,!1,b))/1e6;for(x=xt;x<Lt;x=S.tickIncrement(x,yt,!1,b))P.push(ot),B.push(x),at&&F.push(0);B.push(x);var gt=P.length,mt=(x-xt)/gt,vt=c(xt+mt/2),At=w.size,Ot=a(w.start),Pt=a(w.end)+(Ot-S.tickIncrement(Ot,At,!1,h))/1e6;for(x=Ot;x<Pt;x=S.tickIncrement(x,At,!1,h)){D.push(P.slice()),q.push(x);var Et=new Array(gt);for(k=0;k<gt;k++)Et[k]=[];Y.push(Et),at&&nt.push(F.slice())}q.push(x);var Nt=D.length,ne=(x-Ot)/Nt,Gt=p(Ot+ne/2);G&&(Q=r(P.length,V,mt,R),ct=r(D.length,J,ne,N)),!R&&o.type==="date"&&(V=e(_,V)),!N&&f.type==="date"&&(J=e(a,J));var pe=!0,Vt=!0,ae=new Array(gt),oe=new Array(Nt),ce=1/0,le=1/0,ye=1/0,Tt=1/0;for(x=0;x<O;x++){var Ft=m[x],$t=z[x];y=E.findBin(Ft,V),A=E.findBin($t,J),y>=0&&y<gt&&A>=0&&A<Nt&&(it+=W(y,x,D[A],ft,nt[A]),Y[A][y].push(x),pe&&(ae[y]===void 0?ae[y]=Ft:ae[y]!==Ft&&(pe=!1)),Vt&&(oe[A]===void 0?oe[A]=$t:oe[A]!==$t&&(Vt=!1)),ce=Math.min(ce,Ft-B[y]),le=Math.min(le,B[y+1]-Ft),ye=Math.min(ye,$t-q[A]),Tt=Math.min(Tt,q[A+1]-$t))}if(at)for(A=0;A<Nt;A++)it+=T(D[A],nt[A]);if(H)for(A=0;A<Nt;A++)H(D[A],it,Q,ct[A]);return{x:m,xRanges:l(B,pe&&ae,ce,le,o,b),x0:vt,dx:mt,y:z,yRanges:l(q,Vt&&oe,ye,Tt,f,h),y0:Gt,dy:ne,z:D,pts:Y}};function r(n,s,o,f){var b=new Array(n),h;if(f)for(h=0;h<n;h++)b[h]=1/(s[h+1]-s[h]);else{var _=1/o;for(h=0;h<n;h++)b[h]=_}return b}function e(n,s){return{start:n(s.start),end:n(s.end),size:s.size}}function l(n,s,o,f,b,h){var _,a=n.length-1,c=new Array(a),p=v(o,f,n,b,h);for(_=0;_<a;_++){var x=(s||[])[_];c[_]=x===void 0?[p(n[_]),p(n[_+1],!0)]:[x,x]}return c}},99784:function(tt,U,t){var E=t(3400),S=t(56408),i=t(82748),L=t(27260),T=t(39096),v=t(37008);tt.exports=function(d,r,e,l){function n(s,o){return E.coerce(d,r,v,s,o)}S(d,r,n,l),r.visible!==!1&&(i(d,r,n,l),L(d,r,l,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),T(n,l),n("xhoverformat"),n("yhoverformat"))}},59576:function(tt,U,t){var E=t(55512),S=t(54460).hoverLabelText;tt.exports=function(i,L,T,v,d){var r=E(i,L,T,v,d);if(r){i=r[0];var e=i.index,l=e[0],n=e[1],s=i.cd[0],o=s.trace,f=s.xRanges[n],b=s.yRanges[l];return i.xLabel=S(i.xa,[f[0],f[1]],o.xhoverformat),i.yLabel=S(i.ya,[b[0],b[1]],o.yhoverformat),r}}},21536:function(tt,U,t){tt.exports={attributes:t(37008),supplyDefaults:t(99784),crossTraceDefaults:t(80536),calc:t(19512),plot:t(41420),layerName:"heatmaplayer",colorbar:t(96288),style:t(41648),hoverPoints:t(59576),eventData:t(84980),moduleType:"trace",name:"histogram2d",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(tt,U,t){var E=t(24040),S=t(3400);tt.exports=function(i,L,T,v){var d=T("x"),r=T("y"),e=S.minRowLength(d),l=S.minRowLength(r);if(!e||!l){L.visible=!1;return}L._length=Math.min(e,l);var n=E.getComponentMethod("calendars","handleTraceDefaults");n(i,L,["x","y"],v);var s=T("z")||T("marker.color");s&&T("histfunc"),T("histnorm"),T("autobinx"),T("autobiny")}},81220:function(tt,U,t){var E=t(37008),S=t(67104),i=t(49084),L=t(29736).axisHoverFormat,T=t(92880).extendFlat;tt.exports=T({x:E.x,y:E.y,z:E.z,marker:E.marker,histnorm:E.histnorm,histfunc:E.histfunc,nbinsx:E.nbinsx,xbins:E.xbins,nbinsy:E.nbinsy,ybins:E.ybins,autobinx:E.autobinx,autobiny:E.autobiny,bingroup:E.bingroup,xbingroup:E.xbingroup,ybingroup:E.ybingroup,autocontour:S.autocontour,ncontours:S.ncontours,contours:S.contours,line:{color:S.line.color,width:T({},S.line.width,{dflt:.5}),dash:S.line.dash,smoothing:S.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:E.hovertemplate,texttemplate:S.texttemplate,textfont:S.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(tt,U,t){var E=t(3400),S=t(56408),i=t(84952),L=t(97680),T=t(39096),v=t(81220);tt.exports=function(d,r,e,l){function n(o,f){return E.coerce(d,r,v,o,f)}function s(o){return E.coerce2(d,r,v,o)}S(d,r,n,l),r.visible!==!1&&(i(d,r,n,s),L(d,r,n,l),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&T(n,l))}},65664:function(tt,U,t){tt.exports={attributes:t(81220),supplyDefaults:t(3704),crossTraceDefaults:t(80536),calc:t(20688),plot:t(23676).plot,layerName:"contourlayer",style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(49084),L=t(86968).u,T=t(74996),v=t(424),d=t(40516),r=t(32984),e=t(92880).extendFlat,l=t(98192).c;tt.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:d.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:e({colors:v.marker.colors,line:v.marker.line,pattern:l,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:d.pathbar,text:T.text,textinfo:v.textinfo,texttemplate:S({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:E({},{keys:r.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:d.outsidetextfont,textposition:d.textposition,sort:T.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(tt,U,t){var E=t(7316);U.name="icicle",U.plot=function(S,i,L,T){E.plotBasePlot(U.name,S,i,L,T)},U.clean=function(S,i,L,T){E.cleanBasePlot(U.name,S,i,L,T)}},73876:function(tt,U,t){var E=t(3776);U.r=function(S,i){return E.calc(S,i)},U.q=function(S){return E._runCrossTraceCalc("icicle",S)}},7045:function(tt,U,t){var E=t(3400),S=t(97376),i=t(76308),L=t(86968).Q,T=t(31508).handleText,v=t(78048).TEXTPAD,d=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,l=r.handleDefaults;tt.exports=function(n,s,o,f){function b(y,A){return E.coerce(n,s,S,y,A)}var h=b("labels"),_=b("parents");if(!h||!h.length||!_||!_.length){s.visible=!1;return}var a=b("values");a&&a.length?b("branchvalues"):b("count"),b("level"),b("maxdepth"),b("tiling.orientation"),b("tiling.flip"),b("tiling.pad");var c=b("text");b("texttemplate"),s.texttemplate||b("textinfo",E.isArrayOrTypedArray(c)?"text+label":"label"),b("hovertext"),b("hovertemplate");var p=b("pathbar.visible"),x="auto";T(n,s,f,b,x,{hasPathbar:p,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),b("textposition"),d(n,s,f,b);var k=s._hasColorscale=e(n,"marker","colors")||(n.marker||{}).coloraxis;k&&l(n,s,f,b,{prefix:"marker.",cLetter:"c"}),b("leaf.opacity",k?1:.7),s._hovered={marker:{line:{width:2,color:i.contrast(f.paper_bgcolor)}}},p&&(b("pathbar.thickness",s.pathbar.textfont.size+2*v),b("pathbar.side"),b("pathbar.edgeshape")),b("sort"),b("root.color"),L(s,f,b),s._length=null}},67880:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(72736),T=t(25132),v=t(47192).styleOne,d=t(32984),r=t(78176),e=t(45716),l=t(96488).formatSliceLabel,n=!1;tt.exports=function(s,o,f,b,h){var _=h.width,a=h.height,c=h.viewX,p=h.viewY,x=h.pathSlice,k=h.toMoveInsideSlice,y=h.strTransform,A=h.hasTransition,C=h.handleSlicesExit,u=h.makeUpdateSliceInterpolator,m=h.makeUpdateTextInterpolator,M=h.prevEntry,w={},z=s._context.staticPlot,O=s._fullLayout,D=o[0],P=D.trace,F=P.textposition.indexOf("left")!==-1,R=P.textposition.indexOf("right")!==-1,N=P.textposition.indexOf("bottom")!==-1,B=T(f,[_,a],{flipX:P.tiling.flip.indexOf("x")>-1,flipY:P.tiling.flip.indexOf("y")>-1,orientation:P.tiling.orientation,pad:{inner:P.tiling.pad},maxDepth:P._maxDepth}),q=B.descendants(),V=1/0,J=-1/0;q.forEach(function($){var G=$.depth;G>=P._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(V=Math.min(V,G),J=Math.max(J,G))}),b=b.data(q,r.getPtId),P._maxVisibleLayers=isFinite(J)?J-V+1:0,b.enter().append("g").classed("slice",!0),C(b,n,w,[_,a],x),b.order();var it=null;if(A&&M){var nt=r.getPtId(M);b.each(function($){it===null&&r.getPtId($)===nt&&(it={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var Y=function(){return it||{x0:0,x1:_,y0:0,y1:a}},Z=b;return A&&(Z=Z.transition().each("end",function(){var $=E.select(this);r.setSliceCursor($,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function($){$._x0=c($.x0),$._x1=c($.x1),$._y0=p($.y0),$._y1=p($.y1),$._hoverX=c($.x1-P.tiling.pad),$._hoverY=p(N?$.y1-P.tiling.pad/2:$.y0+P.tiling.pad/2);var G=E.select(this),rt=S.ensureSingle(G,"path","surface",function(at){at.style("pointer-events",z?"none":"all")});A?rt.transition().attrTween("d",function(at){var Q=u(at,n,Y(),[_,a],{orientation:P.tiling.orientation,flipX:P.tiling.flip.indexOf("x")>-1,flipY:P.tiling.flip.indexOf("y")>-1});return function(ct){return x(Q(ct))}}):rt.attr("d",x),G.call(e,f,s,o,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,s,{isTransitioning:s._transitioning}),rt.call(v,$,P,s,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=l($,f,P,o,O)||"";var ot=S.ensureSingle(G,"g","slicetext"),W=S.ensureSingle(ot,"text","",function(at){at.attr("data-notex",1)}),H=S.ensureUniformFontSize(s,r.determineTextFont(P,$,O.font));W.text($._text||" ").classed("slicetext",!0).attr("text-anchor",R?"end":F?"start":"middle").call(i.font,H).call(L.convertToTspans,s),$.textBB=i.bBox(W.node()),$.transform=k($,{fontSize:H.size}),$.transform.fontSize=H.size,A?W.transition().attrTween("transform",function(at){var Q=m(at,n,Y(),[_,a]);return function(ct){return y(Q(ct))}}):W.attr("transform",y($))}),it}},29044:function(tt,U,t){tt.exports={moduleType:"trace",name:"icicle",basePlotModule:t(59564),categories:[],animatable:!0,attributes:t(97376),layoutAttributes:t(90676),supplyDefaults:t(7045),supplyLayoutDefaults:t(4304),calc:t(73876).r,crossTraceCalc:t(73876).q,plot:t(38364),style:t(47192).style,colorbar:t(5528),meta:{}}},90676:function(tt){tt.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(tt,U,t){var E=t(3400),S=t(90676);tt.exports=function(i,L){function T(v,d){return E.coerce(i,L,S,v,d)}T("iciclecolorway",L.colorway),T("extendiciclecolors")}},25132:function(tt,U,t){var E=t(74148),S=t(83024);tt.exports=function(i,L,T){var v=T.flipX,d=T.flipY,r=T.orientation==="h",e=T.maxDepth,l=L[0],n=L[1];e&&(l=(i.height+1)*L[0]/Math.min(i.height+1,e),n=(i.height+1)*L[1]/Math.min(i.height+1,e));var s=E.partition().padding(T.pad.inner).size(r?[L[1],l]:[L[0],n])(i);return(r||v||d)&&S(s,L,{swapXY:r,flipX:v,flipY:d}),s}},38364:function(tt,U,t){var E=t(95808),S=t(67880);tt.exports=function(i,L,T,v){return E(i,L,T,v,{type:"icicle",drawDescendants:S})}},47192:function(tt,U,t){var E=t(33428),S=t(76308),i=t(3400),L=t(82744).resizeText,T=t(60404);function v(r){var e=r._fullLayout._iciclelayer.selectAll(".trace");L(r,e,"icicle"),e.each(function(l){var n=E.select(this),s=l[0],o=s.trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(f){E.select(this).call(d,f,o,r)})})}function d(r,e,l,n){var s=e.data.data,o=!e.children,f=s.i,b=i.castOption(l,f,"marker.line.color")||S.defaultLine,h=i.castOption(l,f,"marker.line.width")||0;r.call(T,e,l,n).style("stroke-width",h).call(S.stroke,b).style("opacity",o?l.leaf.opacity:null)}tt.exports={style:v,styleOne:d}},95188:function(tt,U,t){for(var E=t(45464),S=t(52904).zorder,i=t(21776).Ks,L=t(92880).extendFlat,T=t(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],d=[],r=[],e=0;e<v.length;e++){var l=T[v[e]];d.push("For the `"+v[e]+"` colormodel, it is ["+(l.zminDflt||l.min).join(", ")+"]."),r.push("For the `"+v[e]+"` colormodel, it is ["+(l.zmaxDflt||l.max).join(", ")+"].")}tt.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},E.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:i({},{keys:["z","color","colormodel"]}),zorder:S,transforms:void 0})},93336:function(tt,U,t){var E=t(3400),S=t(47797),i=t(38248),L=t(54460),T=t(3400).maxRowLength,v=t(18712).i;tt.exports=function(l,n){var s,o;if(n._hasZ)s=n.z.length,o=T(n.z);else if(n._hasSource){var f=v(n.source);s=f.height,o=f.width}var b=L.getFromId(l,n.xaxis||"x"),h=L.getFromId(l,n.yaxis||"y"),_=b.d2c(n.x0)-n.dx/2,a=h.d2c(n.y0)-n.dy/2,c,p=[_,_+o*n.dx],x=[a,a+s*n.dy];if(b&&b.type==="log")for(c=0;c<o;c++)p.push(_+c*n.dx);if(h&&h.type==="log")for(c=0;c<s;c++)x.push(a+c*n.dy);n._extremes[b._id]=L.findExtremes(b,p),n._extremes[h._id]=L.findExtremes(h,x),n._scaler=e(n);var k={x0:_,y0:a,z:n.z,w:o,h:s};return[k]};function d(l,n,s,o){return function(f){return E.constrain((f-l)*n,s,o)}}function r(l,n){return function(s){return E.constrain(s,l,n)}}function e(l){var n=S.colormodel[l.colormodel],s=n.colormodel||l.colormodel,o=s.length;l._sArray=[];for(var f=0;f<o;f++)n.min[f]!==l.zmin[f]||n.max[f]!==l.zmax[f]?l._sArray.push(d(l.zmin[f],(n.max[f]-n.min[f])/(l.zmax[f]-l.zmin[f]),n.min[f],n.max[f])):l._sArray.push(r(n.min[f],n.max[f]));return function(b){for(var h=b.slice(0,o),_=0;_<o;_++){var a=h[_];if(!i(a))return!1;h[_]=l._sArray[_](a)}return h}}},47797:function(tt){tt.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var t=U.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xB0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var t=U.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xB0","%","%",""]}}}},13188:function(tt,U,t){var E=t(3400),S=t(95188),i=t(47797),L=t(81792).IMAGE_URL_PREFIX;tt.exports=function(T,v){function d(l,n){return E.coerce(T,v,S,l,n)}d("source"),v.source&&!v.source.match(L)&&delete v.source,v._hasSource=!!v.source;var r=d("z");if(v._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!v._hasZ&&!v._hasSource){v.visible=!1;return}d("x0"),d("y0"),d("dx"),d("dy");var e;v._hasZ?(d("colormodel","rgb"),e=i.colormodel[v.colormodel],d("zmin",e.zminDflt||e.min),d("zmax",e.zmaxDflt||e.max)):v._hasSource&&(v.colormodel="rgba256",e=i.colormodel[v.colormodel],v.zmin=e.zminDflt,v.zmax=e.zmaxDflt),d("zsmooth"),d("text"),d("hovertext"),d("hovertemplate"),v._length=null,d("zorder")}},79972:function(tt){tt.exports=function(U,t){return"xVal"in t&&(U.x=t.xVal),"yVal"in t&&(U.y=t.yVal),t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),U.color=t.color,U.colormodel=t.trace.colormodel,U.z||(U.z=t.color),U}},18712:function(tt,U,t){var E=t(19480),S=t(81792).IMAGE_URL_PREFIX,i=t(33576).Buffer;U.i=function(L){var T=L.replace(S,""),v=new i(T,"base64");return E(v)}},24892:function(tt,U,t){var E=t(93024),S=t(3400),i=S.isArrayOrTypedArray,L=t(47797);tt.exports=function(T,v,d){var r=T.cd[0],e=r.trace,l=T.xa,n=T.ya;if(!(E.inbox(v-r.x0,v-(r.x0+r.w*e.dx),0)>0||E.inbox(d-r.y0,d-(r.y0+r.h*e.dy),0)>0)){var s=Math.floor((v-r.x0)/e.dx),o=Math.floor(Math.abs(d-r.y0)/e.dy),f;if(e._hasZ?f=r.z[o][s]:e._hasSource&&(f=e._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,o,1,1).data),!!f){var b=r.hi||e.hoverinfo,h;if(b){var _=b.split("+");_.indexOf("all")!==-1&&(_=["color"]),_.indexOf("color")!==-1&&(h=!0)}var a=L.colormodel[e.colormodel],c=a.colormodel||e.colormodel,p=c.length,x=e._scaler(f),k=a.suffix,y=[];(e.hovertemplate||h)&&(y.push("["+[x[0]+k[0],x[1]+k[1],x[2]+k[2]].join(", ")),p===4&&y.push(", "+x[3]+k[3]),y.push("]"),y=y.join(""),T.extraText=c.toUpperCase()+": "+y);var A;i(e.hovertext)&&i(e.hovertext[o])?A=e.hovertext[o][s]:i(e.text)&&i(e.text[o])&&(A=e.text[o][s]);var C=n.c2p(r.y0+(o+.5)*e.dy),u=r.x0+(s+.5)*e.dx,m=r.y0+(o+.5)*e.dy,M="["+f.slice(0,e.colormodel.length).join(", ")+"]";return[S.extendFlat(T,{index:[o,s],x0:l.c2p(r.x0+s*e.dx),x1:l.c2p(r.x0+(s+1)*e.dx),y0:C,y1:C,color:x,xVal:u,xLabelVal:u,yVal:m,yLabelVal:m,zLabelVal:M,text:A,hovertemplateLabels:{zLabel:M,colorLabel:y,"color[0]Label":x[0]+k[0],"color[1]Label":x[1]+k[1],"color[2]Label":x[2]+k[2],"color[3]Label":x[3]+k[3]}})]}}}},48928:function(tt,U,t){tt.exports={attributes:t(95188),supplyDefaults:t(13188),calc:t(93336),plot:t(63715),style:t(28576),hoverPoints:t(24892),eventData:t(79972),moduleType:"trace",name:"image",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(tt,U,t){var E=t(33428),S=t(3400),i=S.strTranslate,L=t(9616),T=t(47797),v=t(9188),d=t(2264).STYLE;tt.exports=function(r,e,l,n){var s=e.xaxis,o=e.yaxis,f=!r._context._exportedPlot&&v();S.makeTraceGroups(n,l,"im").each(function(b){var h=E.select(this),_=b[0],a=_.trace,c=(a.zsmooth==="fast"||a.zsmooth===!1&&f)&&!a._hasZ&&a._hasSource&&s.type==="linear"&&o.type==="linear";a._realImage=c;var p=_.z,x=_.x0,k=_.y0,y=_.w,A=_.h,C=a.dx,u=a.dy,m,M,w,z,O,D;for(D=0;m===void 0&&D<y;)m=s.c2p(x+D*C),D++;for(D=y;M===void 0&&D>0;)M=s.c2p(x+D*C),D--;for(D=0;z===void 0&&D<A;)z=o.c2p(k+D*u),D++;for(D=A;O===void 0&&D>0;)O=o.c2p(k+D*u),D--;if(M<m&&(w=M,M=m,m=w),O<z&&(w=z,z=O,O=w),!c){var P=.5;m=Math.max(-P*s._length,m),M=Math.min((1+P)*s._length,M),z=Math.max(-P*o._length,z),O=Math.min((1+P)*o._length,O)}var F=Math.round(M-m),R=Math.round(O-z),N=F<=0||R<=0;if(N){var B=h.selectAll("image").data([]);B.exit().remove();return}function q(ot){var W=document.createElement("canvas");W.width=F,W.height=R;var H=W.getContext("2d",{willReadFrequently:!0}),at=function(Ot){return S.constrain(Math.round(s.c2p(x+Ot*C)-m),0,F)},Q=function(Ot){return S.constrain(Math.round(o.c2p(k+Ot*u)-z),0,R)},ct=T.colormodel[a.colormodel],ft=ct.colormodel||a.colormodel,yt=ct.fmt,xt;for(D=0;D<_.w;D++){var Lt=at(D),gt=at(D+1);if(!(gt===Lt||isNaN(gt)||isNaN(Lt)))for(var mt=0;mt<_.h;mt++){var vt=Q(mt),At=Q(mt+1);At===vt||isNaN(At)||isNaN(vt)||!ot(D,mt)||(xt=a._scaler(ot(D,mt)),xt?H.fillStyle=ft+"("+yt(xt).join(",")+")":H.fillStyle="rgba(0,0,0,0)",H.fillRect(Lt,vt,gt-Lt,At-vt))}}return W}var V=h.selectAll("image").data([b]);V.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),V.exit().remove();var J=a.zsmooth===!1?d:"";if(c){var it=S.simpleMap(s.range,s.r2l),nt=S.simpleMap(o.range,o.r2l),Y=it[1]<it[0],Z=nt[1]>nt[0];if(Y||Z){var $=m+F/2,G=z+R/2;J+="transform:"+i($+"px",G+"px")+"scale("+(Y?-1:1)+","+(Z?-1:1)+")"+i(-$+"px",-G+"px")+";"}}V.attr("style",J);var rt=new Promise(function(ot){if(a._hasZ)ot();else if(a._hasSource)if(a._canvas&&a._canvas.el.width===y&&a._canvas.el.height===A&&a._canvas.source===a.source)ot();else{var W=document.createElement("canvas");W.width=y,W.height=A;var H=W.getContext("2d",{willReadFrequently:!0});a._image=a._image||new Image;var at=a._image;at.onload=function(){H.drawImage(at,0,0),a._canvas={el:W,source:a.source},ot()},at.setAttribute("src",a.source)}}).then(function(){var ot,W;if(a._hasZ)W=q(function(Q,ct){var ft=p[ct][Q];return S.isTypedArray(ft)&&(ft=Array.from(ft)),ft}),ot=W.toDataURL("image/png");else if(a._hasSource)if(c)ot=a.source;else{var H=a._canvas.el.getContext("2d",{willReadFrequently:!0}),at=H.getImageData(0,0,y,A).data;W=q(function(Q,ct){var ft=4*(ct*y+Q);return[at[ft],at[ft+1],at[ft+2],at[ft+3]]}),ot=W.toDataURL("image/png")}V.attr({"xlink:href":ot,height:R,width:F,x:m,y:z})});r._promises.push(rt)})}},28576:function(tt,U,t){var E=t(33428);tt.exports=function(S){E.select(S).selectAll(".im image").style("opacity",function(i){return i[0].trace.opacity})}},89864:function(tt,U,t){var E=t(92880).extendFlat,S=t(92880).extendDeep,i=t(67824).overrideAll,L=t(25376),T=t(22548),v=t(86968).u,d=t(94724),r=t(31780).templatedArray,e=t(48164),l=t(29736).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},o={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},f=r("step",S({},s,{range:o}));tt.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:E({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:l("value")},font:E({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:l("value")},increasing:{symbol:{valType:"string",dflt:e.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:e.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:E({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:S({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:o,visible:E({},d.visible,{dflt:!0}),tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:E({},d.ticks,{dflt:"outside"}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:L({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,editType:"plot"},"plot"),steps:f,threshold:{line:{color:E({},s.line.color,{}),width:E({},s.line.width,{dflt:1}),editType:"plot"},thickness:E({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(tt,U,t){var E=t(7316);U.name="indicator",U.plot=function(S,i,L,T){E.plotBasePlot(U.name,S,i,L,T)},U.clean=function(S,i,L,T){E.cleanBasePlot(U.name,S,i,L,T)}},79136:function(tt){function U(t,E){var S=[],i=E.value;typeof E._lastValue!="number"&&(E._lastValue=E.value);var L=E._lastValue,T=L;return E._hasDelta&&typeof E.delta.reference=="number"&&(T=E.delta.reference),S[0]={y:i,lastY:L,delta:i-T,relativeDelta:(i-T)/T},S}tt.exports={calc:U}},12096:function(tt){tt.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(tt,U,t){var E=t(3400),S=t(89864),i=t(86968).Q,L=t(31780),T=t(51272),v=t(12096),d=t(26332),r=t(25404),e=t(95936),l=t(42568);function n(o,f,b,h){function _(R,N){return E.coerce(o,f,S,R,N)}i(f,h,_),_("mode"),f._hasNumber=f.mode.indexOf("number")!==-1,f._hasDelta=f.mode.indexOf("delta")!==-1,f._hasGauge=f.mode.indexOf("gauge")!==-1;var a=_("value");f._range=[0,typeof a=="number"?1.5*a:1];var c=new Array(2),p;if(f._hasNumber){_("number.valueformat");var x=E.extendFlat({},h.font);x.size=void 0,E.coerceFont(_,"number.font",x),f.number.font.size===void 0&&(f.number.font.size=v.defaultNumberFontSize,c[0]=!0),_("number.prefix"),_("number.suffix"),p=f.number.font.size}var k;if(f._hasDelta){var y=E.extendFlat({},h.font);y.size=void 0,E.coerceFont(_,"delta.font",y),f.delta.font.size===void 0&&(f.delta.font.size=(f._hasNumber?.5:1)*(p||v.defaultNumberFontSize),c[1]=!0),_("delta.reference",f.value),_("delta.relative"),_("delta.valueformat",f.delta.relative?"2%":""),_("delta.increasing.symbol"),_("delta.increasing.color"),_("delta.decreasing.symbol"),_("delta.decreasing.color"),_("delta.position"),_("delta.prefix"),_("delta.suffix"),k=f.delta.font.size}f._scaleNumbers=(!f._hasNumber||c[0])&&(!f._hasDelta||c[1])||!1;var A=E.extendFlat({},h.font);A.size=.25*(p||k||v.defaultNumberFontSize),E.coerceFont(_,"title.font",A),_("title.text");var C,u,m,M;function w(R,N){return E.coerce(C,u,S.gauge,R,N)}function z(R,N){return E.coerce(m,M,S.gauge.axis,R,N)}if(f._hasGauge){C=o.gauge,C||(C={}),u=L.newContainer(f,"gauge"),w("shape");var O=f._isBullet=f.gauge.shape==="bullet";O||_("title.align","center");var D=f._isAngular=f.gauge.shape==="angular";D||_("align","center"),w("bgcolor",h.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var P=v.valueThickness*(f.gauge.shape==="bullet"?.5:1);w("bar.thickness",P),T(C,u,{name:"steps",handleItemDefaults:s}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),m={},C&&(m=C.axis||{}),M=L.newContainer(u,"axis"),z("visible"),f._range=z("range",f._range);var F={font:h.font,noAutotickangles:!0,outerTicks:!0};d(m,M,z,"linear"),l(m,M,z,"linear",F),e(m,M,z,"linear",F),r(m,M,z,F)}else _("title.align","center"),_("align","center"),f._isAngular=f._isBullet=!1;f._length=null}function s(o,f){function b(h,_){return E.coerce(o,f,S.gauge.steps,h,_)}b("color"),b("line.color"),b("line.width"),b("range"),b("thickness")}tt.exports={supplyDefaults:n}},43480:function(tt,U,t){tt.exports={moduleType:"trace",name:"indicator",basePlotModule:t(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:t(89864),supplyDefaults:t(20424).supplyDefaults,calc:t(79136).calc,plot:t(97864),meta:{}}},97864:function(tt,U,t){var E=t(33428),S=t(67756).qy,i=t(67756).Gz,L=t(3400),T=L.strScale,v=L.strTranslate,d=L.rad2deg,r=t(84284).MID_SHIFT,e=t(43616),l=t(12096),n=t(72736),s=t(54460),o=t(28336),f=t(37668),b=t(94724),h=t(76308),_={left:"start",center:"middle",right:"end"},a={left:0,center:.5,right:1},c=/[yzafpnµmkMGTPEZY]/;function p(O){return O&&O.duration>0}tt.exports=function(O,D,P,F){var R=O._fullLayout,N;p(P)&&F&&(N=F()),L.makeTraceGroups(R._indicatorlayer,D,"trace").each(function(B){var q=B[0],V=q.trace,J=E.select(this),it=V._hasGauge,nt=V._isAngular,Y=V._isBullet,Z=V.domain,$={w:R._size.w*(Z.x[1]-Z.x[0]),h:R._size.h*(Z.y[1]-Z.y[0]),l:R._size.l+R._size.w*Z.x[0],r:R._size.r+R._size.w*(1-Z.x[1]),t:R._size.t+R._size.h*(1-Z.y[1]),b:R._size.b+R._size.h*Z.y[0]},G=$.l+$.w/2,rt=$.t+$.h/2,ot=Math.min($.w/2,$.h),W=l.innerRadius*ot,H,at,Q,ct=V.align||"center";if(at=rt,!it)H=$.l+a[ct]*$.w,Q=function(Pt){return m(Pt,$.w,$.h)};else if(nt&&(H=G,at=rt+ot/2,Q=function(Pt){return M(Pt,.9*W)}),Y){var ft=l.bulletPadding,yt=1-l.bulletNumberDomainSize+ft;H=$.l+(yt+(1-yt)*a[ct])*$.w,Q=function(Pt){return m(Pt,(l.bulletNumberDomainSize-ft)*$.w,$.h)}}y(O,J,B,{numbersX:H,numbersY:at,numbersScaler:Q,transitionOpts:P,onComplete:N});var xt,Lt;it&&(xt={range:V.gauge.axis.range,color:V.gauge.bgcolor,line:{color:V.gauge.bordercolor,width:0},thickness:1},Lt={range:V.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:V.gauge.bordercolor,width:V.gauge.borderwidth},thickness:1});var gt=J.selectAll("g.angular").data(nt?B:[]);gt.exit().remove();var mt=J.selectAll("g.angularaxis").data(nt?B:[]);mt.exit().remove(),nt&&k(O,J,B,{radius:ot,innerRadius:W,gauge:gt,layer:mt,size:$,gaugeBg:xt,gaugeOutline:Lt,transitionOpts:P,onComplete:N});var vt=J.selectAll("g.bullet").data(Y?B:[]);vt.exit().remove();var At=J.selectAll("g.bulletaxis").data(Y?B:[]);At.exit().remove(),Y&&x(O,J,B,{gauge:vt,layer:At,size:$,gaugeBg:xt,gaugeOutline:Lt,transitionOpts:P,onComplete:N});var Ot=J.selectAll("text.title").data(B);Ot.exit().remove(),Ot.enter().append("text").classed("title",!0),Ot.attr("text-anchor",function(){return Y?_.right:_[V.title.align]}).text(V.title.text).call(e.font,V.title.font).call(n.convertToTspans,O),Ot.attr("transform",function(){var Pt=$.l+$.w*a[V.title.align],Et,Nt=l.titlePadding,ne=e.bBox(Ot.node());if(it){if(nt)if(V.gauge.axis.visible){var Gt=e.bBox(mt.node());Et=Gt.top-Nt-ne.bottom}else Et=$.t+$.h/2-ot/2-ne.bottom-Nt;Y&&(Et=at-(ne.top+ne.bottom)/2,Pt=$.l-l.bulletPadding*$.w)}else Et=V._numbersTop-Nt-ne.bottom;return v(Pt,Et)})})};function x(O,D,P,F){var R=P[0].trace,N=F.gauge,B=F.layer,q=F.gaugeBg,V=F.gaugeOutline,J=F.size,it=R.domain,nt=F.transitionOpts,Y=F.onComplete,Z,$,G,rt,ot;N.enter().append("g").classed("bullet",!0),N.attr("transform",v(J.l,J.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var W=J.h,H=R.gauge.bar.thickness*W,at=it.x[0],Q=it.x[0]+(it.x[1]-it.x[0])*(R._hasNumber||R._hasDelta?1-l.bulletNumberDomainSize:1);Z=u(O,R.gauge.axis),Z._id="xbulletaxis",Z.domain=[at,Q],Z.setScale(),$=s.calcTicks(Z),G=s.makeTransTickFn(Z),rt=s.getTickSigns(Z)[2],ot=J.t+J.h,Z.visible&&(s.drawTicks(O,Z,{vals:Z.ticks==="inside"?s.clipEnds(Z,$):$,layer:B,path:s.makeTickPath(Z,ot,rt),transFn:G}),s.drawLabels(O,Z,{vals:$,layer:B,transFn:G,labelFns:s.makeLabelFns(Z,ot)}));function ct(vt){vt.attr("width",function(At){return Math.max(0,Z.c2p(At.range[1])-Z.c2p(At.range[0]))}).attr("x",function(At){return Z.c2p(At.range[0])}).attr("y",function(At){return .5*(1-At.thickness)*W}).attr("height",function(At){return At.thickness*W})}var ft=[q].concat(R.gauge.steps),yt=N.selectAll("g.bg-bullet").data(ft);yt.enter().append("g").classed("bg-bullet",!0).append("rect"),yt.select("rect").call(ct).call(A),yt.exit().remove();var xt=N.selectAll("g.value-bullet").data([R.gauge.bar]);xt.enter().append("g").classed("value-bullet",!0).append("rect"),xt.select("rect").attr("height",H).attr("y",(W-H)/2).call(A),p(nt)?xt.select("rect").transition().duration(nt.duration).ease(nt.easing).each("end",function(){Y&&Y()}).each("interrupt",function(){Y&&Y()}).attr("width",Math.max(0,Z.c2p(Math.min(R.gauge.axis.range[1],P[0].y)))):xt.select("rect").attr("width",typeof P[0].y=="number"?Math.max(0,Z.c2p(Math.min(R.gauge.axis.range[1],P[0].y))):0),xt.exit().remove();var Lt=P.filter(function(){return R.gauge.threshold.value||R.gauge.threshold.value===0}),gt=N.selectAll("g.threshold-bullet").data(Lt);gt.enter().append("g").classed("threshold-bullet",!0).append("line"),gt.select("line").attr("x1",Z.c2p(R.gauge.threshold.value)).attr("x2",Z.c2p(R.gauge.threshold.value)).attr("y1",(1-R.gauge.threshold.thickness)/2*W).attr("y2",(1-(1-R.gauge.threshold.thickness)/2)*W).call(h.stroke,R.gauge.threshold.line.color).style("stroke-width",R.gauge.threshold.line.width),gt.exit().remove();var mt=N.selectAll("g.gauge-outline").data([V]);mt.enter().append("g").classed("gauge-outline",!0).append("rect"),mt.select("rect").call(ct).call(A),mt.exit().remove()}function k(O,D,P,F){var R=P[0].trace,N=F.size,B=F.radius,q=F.innerRadius,V=F.gaugeBg,J=F.gaugeOutline,it=[N.l+N.w/2,N.t+N.h/2+B/2],nt=F.gauge,Y=F.layer,Z=F.transitionOpts,$=F.onComplete,G=Math.PI/2;function rt(Vt){var ae=R.gauge.axis.range[0],oe=R.gauge.axis.range[1],ce=(Vt-ae)/(oe-ae)*Math.PI-G;return ce<-G?-G:ce>G?G:ce}function ot(Vt){return E.svg.arc().innerRadius((q+B)/2-Vt/2*(B-q)).outerRadius((q+B)/2+Vt/2*(B-q)).startAngle(-G)}function W(Vt){Vt.attr("d",function(ae){return ot(ae.thickness).startAngle(rt(ae.range[0])).endAngle(rt(ae.range[1]))()})}var H,at,Q,ct;nt.enter().append("g").classed("angular",!0),nt.attr("transform",v(it[0],it[1])),Y.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Y.selectAll("g.xangularaxistick,path,text").remove(),H=u(O,R.gauge.axis),H.type="linear",H.range=R.gauge.axis.range,H._id="xangularaxis",H.ticklabeloverflow="allow",H.setScale();var ft=function(Vt){return(H.range[0]-Vt.x)/(H.range[1]-H.range[0])*Math.PI+Math.PI},yt={},xt=s.makeLabelFns(H,0),Lt=xt.labelStandoff;yt.xFn=function(Vt){var ae=ft(Vt);return Math.cos(ae)*Lt},yt.yFn=function(Vt){var ae=ft(Vt),oe=Math.sin(ae)>0?.2:1;return-Math.sin(ae)*(Lt+Vt.fontSize*oe)+Math.abs(Math.cos(ae))*(Vt.fontSize*r)},yt.anchorFn=function(Vt){var ae=ft(Vt),oe=Math.cos(ae);return Math.abs(oe)<.1?"middle":oe>0?"start":"end"},yt.heightFn=function(Vt,ae,oe){var ce=ft(Vt);return-.5*(1+Math.sin(ce))*oe};var gt=function(Vt){return v(it[0]+B*Math.cos(Vt),it[1]-B*Math.sin(Vt))};Q=function(Vt){return gt(ft(Vt))};var mt=function(Vt){var ae=ft(Vt);return gt(ae)+"rotate("+-d(ae)+")"};if(at=s.calcTicks(H),ct=s.getTickSigns(H)[2],H.visible){ct=H.ticks==="inside"?-1:1;var vt=(H.linewidth||1)/2;s.drawTicks(O,H,{vals:at,layer:Y,path:"M"+ct*vt+",0h"+ct*H.ticklen,transFn:mt}),s.drawLabels(O,H,{vals:at,layer:Y,transFn:Q,labelFns:yt})}var At=[V].concat(R.gauge.steps),Ot=nt.selectAll("g.bg-arc").data(At);Ot.enter().append("g").classed("bg-arc",!0).append("path"),Ot.select("path").call(W).call(A),Ot.exit().remove();var Pt=ot(R.gauge.bar.thickness),Et=nt.selectAll("g.value-arc").data([R.gauge.bar]);Et.enter().append("g").classed("value-arc",!0).append("path");var Nt=Et.select("path");p(Z)?(Nt.transition().duration(Z.duration).ease(Z.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()}).attrTween("d",C(Pt,rt(P[0].lastY),rt(P[0].y))),R._lastValue=P[0].y):Nt.attr("d",typeof P[0].y=="number"?Pt.endAngle(rt(P[0].y)):"M0,0Z"),Nt.call(A),Et.exit().remove(),At=[];var ne=R.gauge.threshold.value;(ne||ne===0)&&At.push({range:[ne,ne],color:R.gauge.threshold.color,line:{color:R.gauge.threshold.line.color,width:R.gauge.threshold.line.width},thickness:R.gauge.threshold.thickness});var Gt=nt.selectAll("g.threshold-arc").data(At);Gt.enter().append("g").classed("threshold-arc",!0).append("path"),Gt.select("path").call(W).call(A),Gt.exit().remove();var pe=nt.selectAll("g.gauge-outline").data([J]);pe.enter().append("g").classed("gauge-outline",!0).append("path"),pe.select("path").call(W).call(A),pe.exit().remove()}function y(O,D,P,F){var R=P[0].trace,N=F.numbersX,B=F.numbersY,q=R.align||"center",V=_[q],J=F.transitionOpts,it=F.onComplete,nt=L.ensureSingle(D,"g","numbers"),Y,Z,$,G=[];R._hasNumber&&G.push("number"),R._hasDelta&&(G.push("delta"),R.delta.position==="left"&&G.reverse());var rt=nt.selectAll("text").data(G);rt.enter().append("text"),rt.attr("text-anchor",function(){return V}).attr("class",function(gt){return gt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),rt.exit().remove();function ot(gt,mt,vt,At){if(gt.match("s")&&vt>=0!=At>=0&&!mt(vt).slice(-1).match(c)&&!mt(At).slice(-1).match(c)){var Ot=gt.slice().replace("s","f").replace(/\d+/,function(Et){return parseInt(Et)-1}),Pt=u(O,{tickformat:Ot});return function(Et){return Math.abs(Et)<1?s.tickText(Pt,Et).text:mt(Et)}}else return mt}function W(){var gt=u(O,{tickformat:R.number.valueformat},R._range);gt.setScale(),s.prepTicks(gt);var mt=function(Et){return s.tickText(gt,Et).text},vt=R.number.suffix,At=R.number.prefix,Ot=nt.select("text.number");function Pt(){var Et=typeof P[0].y=="number"?At+mt(P[0].y)+vt:"-";Ot.text(Et).call(e.font,R.number.font).call(n.convertToTspans,O)}return p(J)?Ot.transition().duration(J.duration).ease(J.easing).each("end",function(){Pt(),it&&it()}).each("interrupt",function(){Pt(),it&&it()}).attrTween("text",function(){var Et=E.select(this),Nt=i(P[0].lastY,P[0].y);R._lastValue=P[0].y;var ne=ot(R.number.valueformat,mt,P[0].lastY,P[0].y);return function(Gt){Et.text(At+ne(Nt(Gt))+vt)}}):Pt(),Y=w(At+mt(P[0].y)+vt,R.number.font,V,O),Ot}function H(){var gt=u(O,{tickformat:R.delta.valueformat},R._range);gt.setScale(),s.prepTicks(gt);var mt=function(Gt){return s.tickText(gt,Gt).text},vt=R.delta.suffix,At=R.delta.prefix,Ot=function(Gt){var pe=R.delta.relative?Gt.relativeDelta:Gt.delta;return pe},Pt=function(Gt,pe){return Gt===0||typeof Gt!="number"||isNaN(Gt)?"-":(Gt>0?R.delta.increasing.symbol:R.delta.decreasing.symbol)+At+pe(Gt)+vt},Et=function(Gt){return Gt.delta>=0?R.delta.increasing.color:R.delta.decreasing.color};R._deltaLastValue===void 0&&(R._deltaLastValue=Ot(P[0]));var Nt=nt.select("text.delta");Nt.call(e.font,R.delta.font).call(h.fill,Et({delta:R._deltaLastValue}));function ne(){Nt.text(Pt(Ot(P[0]),mt)).call(h.fill,Et(P[0])).call(n.convertToTspans,O)}return p(J)?Nt.transition().duration(J.duration).ease(J.easing).tween("text",function(){var Gt=E.select(this),pe=Ot(P[0]),Vt=R._deltaLastValue,ae=ot(R.delta.valueformat,mt,Vt,pe),oe=i(Vt,pe);return R._deltaLastValue=pe,function(ce){Gt.text(Pt(oe(ce),ae)),Gt.call(h.fill,Et({delta:oe(ce)}))}}).each("end",function(){ne(),it&&it()}).each("interrupt",function(){ne(),it&&it()}):ne(),Z=w(Pt(Ot(P[0]),mt),R.delta.font,V,O),Nt}var at=R.mode+R.align,Q;if(R._hasDelta&&(Q=H(),at+=R.delta.position+R.delta.font.size+R.delta.font.family+R.delta.valueformat,at+=R.delta.increasing.symbol+R.delta.decreasing.symbol,$=Z),R._hasNumber&&(W(),at+=R.number.font.size+R.number.font.family+R.number.valueformat+R.number.suffix+R.number.prefix,$=Y),R._hasDelta&&R._hasNumber){var ct=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],ft=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],yt,xt,Lt=.75*R.delta.font.size;R.delta.position==="left"&&(yt=z(R,"deltaPos",0,-1*(Y.width*a[R.align]+Z.width*(1-a[R.align])+Lt),at,Math.min),xt=ct[1]-ft[1],$={width:Y.width+Z.width+Lt,height:Math.max(Y.height,Z.height),left:Z.left+yt,right:Y.right,top:Math.min(Y.top,Z.top+xt),bottom:Math.max(Y.bottom,Z.bottom+xt)}),R.delta.position==="right"&&(yt=z(R,"deltaPos",0,Y.width*(1-a[R.align])+Z.width*a[R.align]+Lt,at,Math.max),xt=ct[1]-ft[1],$={width:Y.width+Z.width+Lt,height:Math.max(Y.height,Z.height),left:Y.left,right:Z.right+yt,top:Math.min(Y.top,Z.top+xt),bottom:Math.max(Y.bottom,Z.bottom+xt)}),R.delta.position==="bottom"&&(yt=null,xt=Z.height,$={width:Math.max(Y.width,Z.width),height:Y.height+Z.height,left:Math.min(Y.left,Z.left),right:Math.max(Y.right,Z.right),top:Y.bottom-Y.height,bottom:Y.bottom+Z.height}),R.delta.position==="top"&&(yt=null,xt=Y.top,$={width:Math.max(Y.width,Z.width),height:Y.height+Z.height,left:Math.min(Y.left,Z.left),right:Math.max(Y.right,Z.right),top:Y.bottom-Y.height-Z.height,bottom:Y.bottom}),Q.attr({dx:yt,dy:xt})}(R._hasNumber||R._hasDelta)&&nt.attr("transform",function(){var gt=F.numbersScaler($);at+=gt[2];var mt=z(R,"numbersScale",1,gt[0],at,Math.min),vt;R._scaleNumbers||(mt=1),R._isAngular?vt=B-mt*$.bottom:vt=B-mt*($.top+$.bottom)/2,R._numbersTop=mt*$.top+vt;var At=$[q];q==="center"&&(At=($.left+$.right)/2);var Ot=N-mt*At;return Ot=z(R,"numbersTranslate",0,Ot,at,Math.max),v(Ot,vt)+T(mt)})}function A(O){O.each(function(D){h.stroke(E.select(this),D.line.color)}).each(function(D){h.fill(E.select(this),D.color)}).style("stroke-width",function(D){return D.line.width})}function C(O,D,P){return function(){var F=S(D,P);return function(R){return O.endAngle(F(R))()}}}function u(O,D,P){var F=O._fullLayout,R=L.extendFlat({type:"linear",ticks:"outside",range:P,showline:!0},D),N={type:"linear",_id:"x"+D._id},B={letter:"x",font:F.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function q(V,J){return L.coerce(R,N,b,V,J)}return o(R,N,q,B,F),f(R,N,q,B),N}function m(O,D,P){var F=Math.min(D/O.width,P/O.height);return[F,O,D+"x"+P]}function M(O,D){var P=Math.sqrt(O.width/2*(O.width/2)+O.height*O.height),F=D/P;return[F,O,D]}function w(O,D,P,F){var R=document.createElementNS("http://www.w3.org/2000/svg","text"),N=E.select(R);return N.text(O).attr("x",0).attr("y",0).attr("text-anchor",P).attr("data-unformatted",O).call(n.convertToTspans,F).call(e.font,D),e.bBox(N.node())}function z(O,D,P,F,R,N){var B="_cache"+D;O[B]&&O[B].key===R||(O[B]={key:R,value:P});var q=L.aggNums(N,null,[O[B].value,F],2);return O[B].value=q,q}},50048:function(tt,U,t){var E=t(49084),S=t(29736).axisHoverFormat,i=t(21776).Ks,L=t(52948),T=t(45464),v=t(92880).extendFlat,d=t(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function e(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var l=tt.exports=d(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:e(),y:e(),z:e()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),valuehoverformat:S("value",1),showlegend:v({},T.showlegend,{dflt:!1})},E("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},T.hoverinfo)}),"calc","nested");l.flatshading.dflt=!0,l.lighting.facenormalsepsilon.dflt=0,l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},62624:function(tt,U,t){var E=t(47128),S=t(3832).processGrid,i=t(3832).filter;tt.exports=function(L,T){T._len=Math.min(T.x.length,T.y.length,T.z.length,T.value.length),T._x=i(T.x,T._len),T._y=i(T.y,T._len),T._z=i(T.z,T._len),T._value=i(T.value,T._len);var v=S(T);T._gridFill=v.fill,T._Xs=v.Xs,T._Ys=v.Ys,T._Zs=v.Zs,T._len=v.len;for(var d=1/0,r=-1/0,e=0;e<T._len;e++){var l=T._value[e];d=Math.min(d,l),r=Math.max(r,l)}T._minValues=d,T._maxValues=r,T._vMin=T.isomin===void 0||T.isomin===null?d:T.isomin,T._vMax=T.isomax===void 0||T.isomin===null?r:T.isomax,E(L,T,{vals:[T._vMin,T._vMax],containerStr:"",cLetter:"c"})}},31460:function(tt,U,t){var E=t(67792).gl_mesh3d,S=t(33040).parseColorScale,i=t(3400).isArrayOrTypedArray,L=t(43080),T=t(8932).extractOpts,v=t(52094),d=function(o,f){for(var b=f.length-1;b>0;b--){var h=Math.min(f[b],f[b-1]),_=Math.max(f[b],f[b-1]);if(_>h&&h<o&&o<=_)return{id:b,distRatio:(_-o)/(_-h)}}return{id:0,distRatio:0}};function r(o,f,b){this.scene=o,this.uid=b,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var e=r.prototype;e.handlePick=function(o){if(o.object===this.mesh){var f=o.data.index,b=this.data._meshX[f],h=this.data._meshY[f],_=this.data._meshZ[f],a=this.data._Ys.length,c=this.data._Zs.length,p=d(b,this.data._Xs).id,x=d(h,this.data._Ys).id,k=d(_,this.data._Zs).id,y=o.index=k+c*x+c*a*p;o.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var A=this.data.hovertext||this.data.text;return i(A)&&A[y]!==void 0?o.textLabel=A[y]:A&&(o.textLabel=A),!0}},e.update=function(o){var f=this.scene,b=f.fullSceneLayout;this.data=n(o);function h(x,k,y,A){return k.map(function(C){return x.d2l(C,0,A)*y})}var _=v(h(b.xaxis,o._meshX,f.dataScale[0],o.xcalendar),h(b.yaxis,o._meshY,f.dataScale[1],o.ycalendar),h(b.zaxis,o._meshZ,f.dataScale[2],o.zcalendar)),a=v(o._meshI,o._meshJ,o._meshK),c={positions:_,cells:a,lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:L(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},p=T(o);c.vertexIntensity=o._meshIntensity,c.vertexIntensityBounds=[p.min,p.max],c.colormap=S(o),this.mesh.update(c)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var l=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(o){o._meshI=[],o._meshJ=[],o._meshK=[];var f=o.surface.show,b=o.spaceframe.show,h=o.surface.fill,_=o.spaceframe.fill,a=!1,c=!1,p=0,x,k,y=o._Xs,A=o._Ys,C=o._Zs,u=y.length,m=A.length,M=C.length,w=l.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),z=function(Wt,Bt,Mt){switch(w){case 5:return Mt+M*Bt+M*m*Wt;case 4:return Mt+M*Wt+M*u*Bt;case 3:return Bt+m*Mt+m*M*Wt;case 2:return Bt+m*Wt+m*u*Mt;case 1:return Wt+u*Mt+u*M*Bt;default:return Wt+u*Bt+u*m*Mt}},O=o._minValues,D=o._maxValues,P=o._vMin,F=o._vMax,R,N,B,q;function V(Wt,Bt,Mt){for(var St=q.length,Dt=k;Dt<St;Dt++)if(Wt===R[Dt]&&Bt===N[Dt]&&Mt===B[Dt])return Dt;return-1}function J(){k=x}function it(){R=[],N=[],B=[],q=[],x=0,J()}function nt(Wt,Bt,Mt,St){return R.push(Wt),N.push(Bt),B.push(Mt),q.push(St),x++,x-1}function Y(Wt,Bt,Mt){return o._meshI.push(Wt),o._meshJ.push(Bt),o._meshK.push(Mt),p++,p-1}function Z(Wt,Bt,Mt){for(var St=[],Dt=0;Dt<Wt.length;Dt++)St[Dt]=(Wt[Dt]+Bt[Dt]+Mt[Dt])/3;return St}function $(Wt,Bt,Mt){for(var St=[],Dt=0;Dt<Wt.length;Dt++)St[Dt]=Wt[Dt]*(1-Mt)+Mt*Bt[Dt];return St}var G;function rt(Wt){G=Wt}function ot(Wt,Bt){var Mt=Wt[0],St=Wt[1],Dt=Wt[2],dt=Z(Mt,St,Dt),ht=Math.sqrt(1-G),bt=$(dt,Mt,ht),zt=$(dt,St,ht),qt=$(dt,Dt,ht),te=Bt[0],re=Bt[1],Ye=Bt[2];return{xyzv:[[Mt,St,zt],[zt,bt,Mt],[St,Dt,qt],[qt,zt,St],[Dt,Mt,bt],[bt,qt,Dt]],abc:[[te,re,-1],[-1,-1,te],[re,Ye,-1],[-1,-1,re],[Ye,te,-1],[-1,-1,Ye]]}}function W(Wt,Bt){return Wt==="all"||Wt===null?!0:Wt.indexOf(Bt)>-1}function H(Wt,Bt){return Wt===null?Bt:Wt}function at(Wt,Bt,Mt){J();var St=[Bt],Dt=[Mt];if(G>=1)St=[Bt],Dt=[Mt];else if(G>0){var dt=ot(Bt,Mt);St=dt.xyzv,Dt=dt.abc}for(var ht=0;ht<St.length;ht++){Bt=St[ht],Mt=Dt[ht];for(var bt=[],zt=0;zt<3;zt++){var qt=Bt[zt][0],te=Bt[zt][1],re=Bt[zt][2],Ye=Bt[zt][3],Be=Mt[zt]>-1?Mt[zt]:V(qt,te,re);Be>-1?bt[zt]=Be:bt[zt]=nt(qt,te,re,H(Wt,Ye))}Y(bt[0],bt[1],bt[2])}}function Q(Wt,Bt,Mt){var St=function(Dt,dt,ht){at(Wt,[Bt[Dt],Bt[dt],Bt[ht]],[Mt[Dt],Mt[dt],Mt[ht]])};St(0,1,2),St(2,3,0)}function ct(Wt,Bt,Mt){var St=function(Dt,dt,ht){at(Wt,[Bt[Dt],Bt[dt],Bt[ht]],[Mt[Dt],Mt[dt],Mt[ht]])};St(0,1,2),St(3,0,1),St(2,3,0),St(1,2,3)}function ft(Wt,Bt,Mt,St){var Dt=Wt[3];Dt<Mt&&(Dt=Mt),Dt>St&&(Dt=St);for(var dt=(Wt[3]-Dt)/(Wt[3]-Bt[3]+1e-9),ht=[],bt=0;bt<4;bt++)ht[bt]=(1-dt)*Wt[bt]+dt*Bt[bt];return ht}function yt(Wt,Bt,Mt){return Wt>=Bt&&Wt<=Mt}function xt(Wt){var Bt=.001*(F-P);return Wt>=P-Bt&&Wt<=F+Bt}function Lt(Wt){for(var Bt=[],Mt=0;Mt<4;Mt++){var St=Wt[Mt];Bt.push([o._x[St],o._y[St],o._z[St],o._value[St]])}return Bt}var gt=3;function mt(Wt,Bt,Mt,St,Dt,dt){dt||(dt=1),Mt=[-1,-1,-1];var ht=!1,bt=[yt(Bt[0][3],St,Dt),yt(Bt[1][3],St,Dt),yt(Bt[2][3],St,Dt)];if(!bt[0]&&!bt[1]&&!bt[2])return!1;var zt=function(te,re,Ye){return xt(re[0][3])&&xt(re[1][3])&&xt(re[2][3])?(at(te,re,Ye),!0):dt<gt?mt(te,re,Ye,P,F,++dt):!1};if(bt[0]&&bt[1]&&bt[2])return zt(Wt,Bt,Mt)||ht;var qt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(te){if(bt[te[0]]&&bt[te[1]]&&!bt[te[2]]){var re=Bt[te[0]],Ye=Bt[te[1]],Be=Bt[te[2]],ge=ft(Be,re,St,Dt),be=ft(Be,Ye,St,Dt);ht=zt(Wt,[be,ge,re],[-1,-1,Mt[te[0]]])||ht,ht=zt(Wt,[re,Ye,be],[Mt[te[0]],Mt[te[1]],-1])||ht,qt=!0}}),qt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(te){if(bt[te[0]]&&!bt[te[1]]&&!bt[te[2]]){var re=Bt[te[0]],Ye=Bt[te[1]],Be=Bt[te[2]],ge=ft(Ye,re,St,Dt),be=ft(Be,re,St,Dt);ht=zt(Wt,[be,ge,re],[-1,-1,Mt[te[0]]])||ht,qt=!0}}),ht}function vt(Wt,Bt,Mt,St){var Dt=!1,dt=Lt(Bt),ht=[yt(dt[0][3],Mt,St),yt(dt[1][3],Mt,St),yt(dt[2][3],Mt,St),yt(dt[3][3],Mt,St)];if(!ht[0]&&!ht[1]&&!ht[2]&&!ht[3])return Dt;if(ht[0]&&ht[1]&&ht[2]&&ht[3])return c&&(Dt=ct(Wt,dt,Bt)||Dt),Dt;var bt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(zt){if(ht[zt[0]]&&ht[zt[1]]&&ht[zt[2]]&&!ht[zt[3]]){var qt=dt[zt[0]],te=dt[zt[1]],re=dt[zt[2]],Ye=dt[zt[3]];if(c)Dt=at(Wt,[qt,te,re],[Bt[zt[0]],Bt[zt[1]],Bt[zt[2]]])||Dt;else{var Be=ft(Ye,qt,Mt,St),ge=ft(Ye,te,Mt,St),be=ft(Ye,re,Mt,St);Dt=at(null,[Be,ge,be],[-1,-1,-1])||Dt}bt=!0}}),bt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(zt){if(ht[zt[0]]&&ht[zt[1]]&&!ht[zt[2]]&&!ht[zt[3]]){var qt=dt[zt[0]],te=dt[zt[1]],re=dt[zt[2]],Ye=dt[zt[3]],Be=ft(re,qt,Mt,St),ge=ft(re,te,Mt,St),be=ft(Ye,te,Mt,St),Ne=ft(Ye,qt,Mt,St);c?(Dt=at(Wt,[qt,Ne,Be],[Bt[zt[0]],-1,-1])||Dt,Dt=at(Wt,[te,ge,be],[Bt[zt[1]],-1,-1])||Dt):Dt=Q(null,[Be,ge,be,Ne],[-1,-1,-1,-1])||Dt,bt=!0}}),bt)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(zt){if(ht[zt[0]]&&!ht[zt[1]]&&!ht[zt[2]]&&!ht[zt[3]]){var qt=dt[zt[0]],te=dt[zt[1]],re=dt[zt[2]],Ye=dt[zt[3]],Be=ft(te,qt,Mt,St),ge=ft(re,qt,Mt,St),be=ft(Ye,qt,Mt,St);c?(Dt=at(Wt,[qt,Be,ge],[Bt[zt[0]],-1,-1])||Dt,Dt=at(Wt,[qt,ge,be],[Bt[zt[0]],-1,-1])||Dt,Dt=at(Wt,[qt,be,Be],[Bt[zt[0]],-1,-1])||Dt):Dt=at(null,[Be,ge,be],[-1,-1,-1])||Dt,bt=!0}}),Dt}function At(Wt,Bt,Mt,St,Dt,dt,ht,bt,zt,qt,te){var re=!1;return a&&(W(Wt,"A")&&(re=vt(null,[Bt,Mt,St,dt],qt,te)||re),W(Wt,"B")&&(re=vt(null,[Mt,St,Dt,zt],qt,te)||re),W(Wt,"C")&&(re=vt(null,[Mt,dt,ht,zt],qt,te)||re),W(Wt,"D")&&(re=vt(null,[St,dt,bt,zt],qt,te)||re),W(Wt,"E")&&(re=vt(null,[Mt,St,dt,zt],qt,te)||re)),c&&(re=vt(Wt,[Mt,St,dt,zt],qt,te)||re),re}function Ot(Wt,Bt,Mt,St,Dt,dt,ht,bt){return[bt[0]===!0?!0:mt(Wt,Lt([Bt,Mt,St]),[Bt,Mt,St],dt,ht),bt[1]===!0?!0:mt(Wt,Lt([St,Dt,Bt]),[St,Dt,Bt],dt,ht)]}function Pt(Wt,Bt,Mt,St,Dt,dt,ht,bt,zt){return bt?Ot(Wt,Bt,Mt,Dt,St,dt,ht,zt):Ot(Wt,Mt,Dt,St,Bt,dt,ht,zt)}function Et(Wt,Bt,Mt,St,Dt,dt,ht){var bt=!1,zt,qt,te,re,Ye=function(){bt=mt(Wt,[zt,qt,te],[-1,-1,-1],Dt,dt)||bt,bt=mt(Wt,[te,re,zt],[-1,-1,-1],Dt,dt)||bt},Be=ht[0],ge=ht[1],be=ht[2];return Be&&(zt=$(Lt([z(Bt,Mt-0,St-0)])[0],Lt([z(Bt-1,Mt-0,St-0)])[0],Be),qt=$(Lt([z(Bt,Mt-0,St-1)])[0],Lt([z(Bt-1,Mt-0,St-1)])[0],Be),te=$(Lt([z(Bt,Mt-1,St-1)])[0],Lt([z(Bt-1,Mt-1,St-1)])[0],Be),re=$(Lt([z(Bt,Mt-1,St-0)])[0],Lt([z(Bt-1,Mt-1,St-0)])[0],Be),Ye()),ge&&(zt=$(Lt([z(Bt-0,Mt,St-0)])[0],Lt([z(Bt-0,Mt-1,St-0)])[0],ge),qt=$(Lt([z(Bt-0,Mt,St-1)])[0],Lt([z(Bt-0,Mt-1,St-1)])[0],ge),te=$(Lt([z(Bt-1,Mt,St-1)])[0],Lt([z(Bt-1,Mt-1,St-1)])[0],ge),re=$(Lt([z(Bt-1,Mt,St-0)])[0],Lt([z(Bt-1,Mt-1,St-0)])[0],ge),Ye()),be&&(zt=$(Lt([z(Bt-0,Mt-0,St)])[0],Lt([z(Bt-0,Mt-0,St-1)])[0],be),qt=$(Lt([z(Bt-0,Mt-1,St)])[0],Lt([z(Bt-0,Mt-1,St-1)])[0],be),te=$(Lt([z(Bt-1,Mt-1,St)])[0],Lt([z(Bt-1,Mt-1,St-1)])[0],be),re=$(Lt([z(Bt-1,Mt-0,St)])[0],Lt([z(Bt-1,Mt-0,St-1)])[0],be),Ye()),bt}function Nt(Wt,Bt,Mt,St,Dt,dt,ht,bt,zt,qt,te,re){var Ye=Wt;return re?(a&&Wt==="even"&&(Ye=null),At(Ye,Bt,Mt,St,Dt,dt,ht,bt,zt,qt,te)):(a&&Wt==="odd"&&(Ye=null),At(Ye,zt,bt,ht,dt,Dt,St,Mt,Bt,qt,te))}function ne(Wt,Bt,Mt,St,Dt){for(var dt=[],ht=0,bt=0;bt<Bt.length;bt++)for(var zt=Bt[bt],qt=1;qt<M;qt++)for(var te=1;te<m;te++)dt.push(Pt(Wt,z(zt,te-1,qt-1),z(zt,te-1,qt),z(zt,te,qt-1),z(zt,te,qt),Mt,St,(zt+te+qt)%2,Dt&&Dt[ht]?Dt[ht]:[])),ht++;return dt}function Gt(Wt,Bt,Mt,St,Dt){for(var dt=[],ht=0,bt=0;bt<Bt.length;bt++)for(var zt=Bt[bt],qt=1;qt<u;qt++)for(var te=1;te<M;te++)dt.push(Pt(Wt,z(qt-1,zt,te-1),z(qt,zt,te-1),z(qt-1,zt,te),z(qt,zt,te),Mt,St,(qt+zt+te)%2,Dt&&Dt[ht]?Dt[ht]:[])),ht++;return dt}function pe(Wt,Bt,Mt,St,Dt){for(var dt=[],ht=0,bt=0;bt<Bt.length;bt++)for(var zt=Bt[bt],qt=1;qt<m;qt++)for(var te=1;te<u;te++)dt.push(Pt(Wt,z(te-1,qt-1,zt),z(te-1,qt,zt),z(te,qt-1,zt),z(te,qt,zt),Mt,St,(te+qt+zt)%2,Dt&&Dt[ht]?Dt[ht]:[])),ht++;return dt}function Vt(Wt,Bt,Mt){for(var St=1;St<M;St++)for(var Dt=1;Dt<m;Dt++)for(var dt=1;dt<u;dt++)Nt(Wt,z(dt-1,Dt-1,St-1),z(dt-1,Dt-1,St),z(dt-1,Dt,St-1),z(dt-1,Dt,St),z(dt,Dt-1,St-1),z(dt,Dt-1,St),z(dt,Dt,St-1),z(dt,Dt,St),Bt,Mt,(dt+Dt+St)%2)}function ae(Wt,Bt,Mt){c=!0,Vt(Wt,Bt,Mt),c=!1}function oe(Wt,Bt,Mt){a=!0,Vt(Wt,Bt,Mt),a=!1}function ce(Wt,Bt,Mt,St,Dt,dt){for(var ht=[],bt=0,zt=0;zt<Bt.length;zt++)for(var qt=Bt[zt],te=1;te<M;te++)for(var re=1;re<m;re++)ht.push(Et(Wt,qt,re,te,Mt,St,Dt[zt],dt&&dt[bt]?dt[bt]:[])),bt++;return ht}function le(Wt,Bt,Mt,St,Dt,dt){for(var ht=[],bt=0,zt=0;zt<Bt.length;zt++)for(var qt=Bt[zt],te=1;te<u;te++)for(var re=1;re<M;re++)ht.push(Et(Wt,te,qt,re,Mt,St,Dt[zt],dt&&dt[bt]?dt[bt]:[])),bt++;return ht}function ye(Wt,Bt,Mt,St,Dt,dt){for(var ht=[],bt=0,zt=0;zt<Bt.length;zt++)for(var qt=Bt[zt],te=1;te<m;te++)for(var re=1;re<u;re++)ht.push(Et(Wt,re,te,qt,Mt,St,Dt[zt],dt&&dt[bt]?dt[bt]:[])),bt++;return ht}function Tt(Wt,Bt){for(var Mt=[],St=Wt;St<Bt;St++)Mt.push(St);return Mt}function Ft(){for(var Wt=0;Wt<u;Wt++)for(var Bt=0;Bt<m;Bt++)for(var Mt=0;Mt<M;Mt++){var St=z(Wt,Bt,Mt);nt(o._x[St],o._y[St],o._z[St],o._value[St])}}function $t(){it(),Ft();var Wt=null;if(b&&_&&(rt(_),ae(Wt,P,F)),f&&h){rt(h);for(var Bt=o.surface.pattern,Mt=o.surface.count,St=0;St<Mt;St++){var Dt=Mt===1?.5:St/(Mt-1),dt=(1-Dt)*P+Dt*F,ht=Math.abs(dt-O),bt=Math.abs(dt-D),zt=ht>bt?[O,dt]:[dt,D];oe(Bt,zt[0],zt[1])}}var qt=[[Math.min(P,D),Math.max(P,D)],[Math.min(O,F),Math.max(O,F)]];["x","y","z"].forEach(function(te){for(var re=[],Ye=0;Ye<qt.length;Ye++){var Be=0,ge=qt[Ye][0],be=qt[Ye][1],Ne=o.slices[te];if(Ne.show&&Ne.fill){rt(Ne.fill);var pr=[],fe=[],De=[];if(Ne.locations.length)for(var Ge=0;Ge<Ne.locations.length;Ge++){var vr=d(Ne.locations[Ge],te==="x"?y:te==="y"?A:C);vr.distRatio===0?pr.push(vr.id):vr.id>0&&(fe.push(vr.id),te==="x"?De.push([vr.distRatio,0,0]):te==="y"?De.push([0,vr.distRatio,0]):De.push([0,0,vr.distRatio]))}else te==="x"?pr=Tt(1,u-1):te==="y"?pr=Tt(1,m-1):pr=Tt(1,M-1);fe.length>0&&(te==="x"?re[Be]=ce(Wt,fe,ge,be,De,re[Be]):te==="y"?re[Be]=le(Wt,fe,ge,be,De,re[Be]):re[Be]=ye(Wt,fe,ge,be,De,re[Be]),Be++),pr.length>0&&(te==="x"?re[Be]=ne(Wt,pr,ge,be,re[Be]):te==="y"?re[Be]=Gt(Wt,pr,ge,be,re[Be]):re[Be]=pe(Wt,pr,ge,be,re[Be]),Be++)}var $e=o.caps[te];$e.show&&$e.fill&&(rt($e.fill),te==="x"?re[Be]=ne(Wt,[0,u-1],ge,be,re[Be]):te==="y"?re[Be]=Gt(Wt,[0,m-1],ge,be,re[Be]):re[Be]=pe(Wt,[0,M-1],ge,be,re[Be]),Be++)}}),p===0&&it(),o._meshX=R,o._meshY=N,o._meshZ=B,o._meshIntensity=q,o._Xs=y,o._Ys=A,o._Zs=C}return $t(),o}function s(o,f){var b=o.glplot.gl,h=E({gl:b}),_=new r(o,h,f.uid);return h._trace=_,_.update(f),o.glplot.add(h),_}tt.exports={findNearestOnAxis:d,generateIsoMeshes:n,createIsosurfaceTrace:s}},70548:function(tt,U,t){var E=t(3400),S=t(24040),i=t(50048),L=t(27260);function T(d,r,e,l){function n(s,o){return E.coerce(d,r,i,s,o)}v(d,r,e,l,n)}function v(d,r,e,l,n){var s=n("isomin"),o=n("isomax");o!=null&&s!==void 0&&s!==null&&s>o&&(r.isomin=null,r.isomax=null);var f=n("x"),b=n("y"),h=n("z"),_=n("value");if(!f||!f.length||!b||!b.length||!h||!h.length||!_||!_.length){r.visible=!1;return}var a=S.getComponentMethod("calendars","handleTraceDefaults");a(d,r,["x","y","z"],l),n("valuehoverformat"),["x","y","z"].forEach(function(k){n(k+"hoverformat");var y="caps."+k,A=n(y+".show");A&&n(y+".fill");var C="slices."+k,u=n(C+".show");u&&(n(C+".fill"),n(C+".locations"))});var c=n("spaceframe.show");c&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(k){n(k)}),L(d,r,l,n,{prefix:"",cLetter:"c"}),r._length=null}tt.exports={supplyDefaults:T,supplyIsoDefaults:v}},6296:function(tt,U,t){tt.exports={attributes:t(50048),supplyDefaults:t(70548).supplyDefaults,calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(tt,U,t){var E=t(49084),S=t(29736).axisHoverFormat,i=t(21776).Ks,L=t(16716),T=t(45464),v=t(92880).extendFlat;tt.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},E("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},T.hoverinfo,{editType:"calc"}),showlegend:v({},T.showlegend,{dflt:!1})})},1876:function(tt,U,t){var E=t(47128);tt.exports=function(S,i){i.intensity&&E(S,i,{vals:i.intensity,containerStr:"",cLetter:"c"})}},576:function(tt,U,t){var E=t(67792).gl_mesh3d,S=t(67792).delaunay_triangulate,i=t(67792).alpha_shape,L=t(67792).convex_hull,T=t(33040).parseColorScale,v=t(3400).isArrayOrTypedArray,d=t(43080),r=t(8932).extractOpts,e=t(52094);function l(a,c,p){this.scene=a,this.uid=p,this.mesh=c,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=l.prototype;n.handlePick=function(a){if(a.object===this.mesh){var c=a.index=a.data.index;a.data._cellCenter?a.traceCoordinate=a.data.dataCoordinate:a.traceCoordinate=[this.data.x[c],this.data.y[c],this.data.z[c]];var p=this.data.hovertext||this.data.text;return v(p)&&p[c]!==void 0?a.textLabel=p[c]:p&&(a.textLabel=p),!0}};function s(a){for(var c=[],p=a.length,x=0;x<p;x++)c[x]=d(a[x]);return c}function o(a,c,p,x){for(var k=[],y=c.length,A=0;A<y;A++)k[A]=a.d2l(c[A],0,x)*p;return k}function f(a){for(var c=[],p=a.length,x=0;x<p;x++)c[x]=Math.round(a[x]);return c}function b(a,c){for(var p=["x","y","z"].indexOf(a),x=[],k=c.length,y=0;y<k;y++)x[y]=[c[y][(p+1)%3],c[y][(p+2)%3]];return S(x)}function h(a,c){for(var p=a.length,x=0;x<p;x++)if(a[x]<=-.5||a[x]>=c-.5)return!1;return!0}n.update=function(a){var c=this.scene,p=c.fullSceneLayout;this.data=a;var x=a.x.length,k=e(o(p.xaxis,a.x,c.dataScale[0],a.xcalendar),o(p.yaxis,a.y,c.dataScale[1],a.ycalendar),o(p.zaxis,a.z,c.dataScale[2],a.zcalendar)),y;if(a.i&&a.j&&a.k){if(a.i.length!==a.j.length||a.j.length!==a.k.length||!h(a.i,x)||!h(a.j,x)||!h(a.k,x))return;y=e(f(a.i),f(a.j),f(a.k))}else a.alphahull===0?y=L(k):a.alphahull>0?y=i(a.alphahull,k):y=b(a.delaunayaxis,k);var A={positions:k,cells:y,lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,contourEnable:a.contour.show,contourColor:d(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading};if(a.intensity){var C=r(a);this.color="#fff";var u=a.intensitymode;A[u+"Intensity"]=a.intensity,A[u+"IntensityBounds"]=[C.min,C.max],A.colormap=T(a)}else a.vertexcolor?(this.color=a.vertexcolor[0],A.vertexColors=s(a.vertexcolor)):a.facecolor?(this.color=a.facecolor[0],A.cellColors=s(a.facecolor)):(this.color=a.color,A.meshColor=d(a.color));this.mesh.update(A)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function _(a,c){var p=a.glplot.gl,x=E({gl:p}),k=new l(a,x,c.uid);return x._trace=k,k.update(c),a.glplot.add(x),k}tt.exports=_},74212:function(tt,U,t){var E=t(24040),S=t(3400),i=t(27260),L=t(52948);tt.exports=function(T,v,d,r){function e(f,b){return S.coerce(T,v,L,f,b)}function l(f){var b=f.map(function(h){var _=e(h);return _&&S.isArrayOrTypedArray(_)?_:null});return b.every(function(h){return h&&h.length===b[0].length})&&b}var n=l(["x","y","z"]);if(!n){v.visible=!1;return}if(l(["i","j","k"]),v.i&&(!v.j||!v.k)||v.j&&(!v.k||!v.i)||v.k&&(!v.i||!v.j)){v.visible=!1;return}var s=E.getComponentMethod("calendars","handleTraceDefaults");s(T,v,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(f){e(f)});var o=e("contour.show");o&&(e("contour.color"),e("contour.width")),"intensity"in T?(e("intensity"),e("intensitymode"),i(T,v,r,e,{prefix:"",cLetter:"c"})):(v.showscale=!1,"facecolor"in T?e("facecolor"):"vertexcolor"in T?e("vertexcolor"):e("color",d)),e("text"),e("hovertext"),e("hovertemplate"),e("xhoverformat"),e("yhoverformat"),e("zhoverformat"),v._length=null}},7404:function(tt,U,t){tt.exports={attributes:t(52948),supplyDefaults:t(74212),calc:t(1876),colorbar:{min:"cmin",max:"cmax"},plot:t(576),moduleType:"trace",name:"mesh3d",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(tt,U,t){var E=t(3400).extendFlat,S=t(52904),i=t(29736).axisHoverFormat,L=t(98192).u,T=t(55756),v=t(48164),d=v.INCREASING.COLOR,r=v.DECREASING.COLOR,e=S.line;function l(n){return{line:{color:E({},e.color,{dflt:n}),width:e.width,dash:L,editType:"style"},editType:"style"}}tt.exports={xperiod:S.xperiod,xperiod0:S.xperiod0,xperiodalignment:S.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:E({},e.width,{}),dash:E({},L,{}),editType:"style"},increasing:l(d),decreasing:l(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:E({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:S.zorder}},42812:function(tt,U,t){var E=t(3400),S=E._,i=t(54460),L=t(1220),T=t(39032).BADNUM;function v(l,n){var s=i.getFromId(l,n.xaxis),o=i.getFromId(l,n.yaxis),f=e(l,s,n),b=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var _=n._xcalc;n._xcalc=null;var a=r(l,n,h,_,o,d);return n._extremes[s._id]=i.findExtremes(s,_,{vpad:b/2}),a.length?(E.extendFlat(a[0].t,{wHover:b/2,tickLen:f}),a):[{t:{empty:!0}}]}function d(l,n,s,o){return{o:l,h:n,l:s,c:o}}function r(l,n,s,o,f,b){for(var h=f.makeCalcdata(n,"open"),_=f.makeCalcdata(n,"high"),a=f.makeCalcdata(n,"low"),c=f.makeCalcdata(n,"close"),p=E.isArrayOrTypedArray(n.text),x=E.isArrayOrTypedArray(n.hovertext),k=!0,y=null,A=!!n.xperiodalignment,C=[],u=0;u<o.length;u++){var m=o[u],M=h[u],w=_[u],z=a[u],O=c[u];if(m!==T&&M!==T&&w!==T&&z!==T&&O!==T){O===M?y!==null&&O!==y&&(k=O>y):k=O>M,y=O;var D=b(M,w,z,O);D.pos=m,D.yc=(M+O)/2,D.i=u,D.dir=k?"increasing":"decreasing",D.x=D.pos,D.y=[z,w],A&&(D.orig_p=s[u]),p&&(D.tx=n.text[u]),x&&(D.htx=n.hovertext[u]),C.push(D)}else C.push({pos:m,empty:!0})}return n._extremes[f._id]=i.findExtremes(f,E.concat(a,_),{padded:!0}),C.length&&(C[0].t={labels:{open:S(l,"open:")+" ",high:S(l,"high:")+" ",low:S(l,"low:")+" ",close:S(l,"close:")+" "}}),C}function e(l,n,s){var o=s._minDiff;if(!o){var f=l._fullData,b=[];o=1/0;var h;for(h=0;h<f.length;h++){var _=f[h];if(_.type==="ohlc"&&_.visible===!0&&_.xaxis===n._id){b.push(_);var a=n.makeCalcdata(_,"x");_._origX=a;var c=L(s,n,"x",a).vals;_._xcalc=c;var p=E.distinctVals(c).minDiff;p&&isFinite(p)&&(o=Math.min(o,p))}}for(o===1/0&&(o=1),h=0;h<b.length;h++)b[h]._minDiff=o}return o*s.tickwidth}tt.exports={calc:v,calcCommon:r}},23860:function(tt,U,t){var E=t(3400),S=t(52744),i=t(31147),L=t(20279);tt.exports=function(v,d,r,e){function l(s,o){return E.coerce(v,d,L,s,o)}var n=S(v,d,l,e);if(!n){d.visible=!1;return}i(v,d,e,l,{x:!0}),l("xhoverformat"),l("yhoverformat"),l("line.width"),l("line.dash"),T(v,d,l,"increasing"),T(v,d,l,"decreasing"),l("text"),l("hovertext"),l("tickwidth"),e._requestRangeslider[d.xaxis]=!0,l("zorder")};function T(v,d,r,e){r(e+".line.color"),r(e+".line.width",d.line.width),r(e+".line.dash",d.line.dash)}},18720:function(tt,U,t){var E=t(54460),S=t(3400),i=t(93024),L=t(76308),T=t(3400).fillText,v=t(48164),d={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(s,o,f,b){var h=s.cd,_=h[0].trace;return _.hoverlabel.split?l(s,o,f,b):n(s,o,f,b)}function e(s,o,f,b){var h=s.cd,_=s.xa,a=h[0].trace,c=h[0].t,p=a.type,x=p==="ohlc"?"l":"min",k=p==="ohlc"?"h":"max",y,A,C=c.bPos||0,u=function(q){return q.pos+C-o},m=c.bdPos||c.tickLen,M=c.wHover,w=Math.min(1,m/Math.abs(_.r2c(_.range[1])-_.r2c(_.range[0])));y=s.maxHoverDistance-w,A=s.maxSpikeDistance-w;function z(q){var V=u(q);return i.inbox(V-M,V+M,y)}function O(q){var V=q[x],J=q[k];return V===J||i.inbox(V-f,J-f,y)}function D(q){return(z(q)+O(q))/2}var P=i.getDistanceFunction(b,z,O,D);if(i.getClosest(h,P,s),s.index===!1)return null;var F=h[s.index];if(F.empty)return null;var R=F.dir,N=a[R],B=N.line.color;return L.opacity(B)&&N.line.width?s.color=B:s.color=N.fillcolor,s.x0=_.c2p(F.pos+C-m,!0),s.x1=_.c2p(F.pos+C+m,!0),s.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,s.spikeDistance=D(F)*A/y,s.xSpike=_.c2p(F.pos,!0),s}function l(s,o,f,b){var h=s.cd,_=s.ya,a=h[0].trace,c=h[0].t,p=[],x=e(s,o,f,b);if(!x)return[];var k=x.index,y=h[k],A=y.hi||a.hoverinfo,C=A.split("+"),u=A==="all",m=u||C.indexOf("y")!==-1;if(!m)return[];for(var M=["high","open","close","low"],w={},z=0;z<M.length;z++){var O=M[z],D=a[O][x.index],P=_.c2p(D,!0),F;D in w?(F=w[D],F.yLabel+="<br>"+c.labels[O]+E.hoverLabelText(_,D,a.yhoverformat)):(F=S.extendFlat({},x),F.y0=F.y1=P,F.yLabelVal=D,F.yLabel=c.labels[O]+E.hoverLabelText(_,D,a.yhoverformat),F.name="",p.push(F),w[D]=F)}return p}function n(s,o,f,b){var h=s.cd,_=s.ya,a=h[0].trace,c=h[0].t,p=e(s,o,f,b);if(!p)return[];var x=p.index,k=h[x],y=p.index=k.i,A=k.dir;function C(D){return c.labels[D]+E.hoverLabelText(_,a[D][y],a.yhoverformat)}var u=k.hi||a.hoverinfo,m=u.split("+"),M=u==="all",w=M||m.indexOf("y")!==-1,z=M||m.indexOf("text")!==-1,O=w?[C("open"),C("high"),C("low"),C("close")+"  "+d[A]]:[];return z&&T(k,a,O),p.extraText=O.join("<br>"),p.y0=p.y1=_.c2p(k.yc,!0),[p]}tt.exports={hoverPoints:r,hoverSplit:l,hoverOnPoints:n}},65456:function(tt,U,t){tt.exports={moduleType:"trace",name:"ohlc",basePlotModule:t(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:t(20279),supplyDefaults:t(23860),calc:t(42812).calc,plot:t(36664),style:t(14008),hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},52744:function(tt,U,t){var E=t(24040),S=t(3400);tt.exports=function(i,L,T,v){var d=T("x"),r=T("open"),e=T("high"),l=T("low"),n=T("close");T("hoverlabel.split");var s=E.getComponentMethod("calendars","handleTraceDefaults");if(s(i,L,["x"],v),!!(r&&e&&l&&n)){var o=Math.min(r.length,e.length,l.length,n.length);return d&&(o=Math.min(o,S.minRowLength(d))),L._length=o,o}}},36664:function(tt,U,t){var E=t(33428),S=t(3400);tt.exports=function(i,L,T,v){var d=L.yaxis,r=L.xaxis,e=!!r.rangebreaks;S.makeTraceGroups(v,T,"trace ohlc").each(function(l){var n=E.select(this),s=l[0],o=s.t,f=s.trace;if(f.visible!==!0||o.empty){n.remove();return}var b=o.tickLen,h=n.selectAll("path").data(S.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(_){if(_.empty)return"M0,0Z";var a=r.c2p(_.pos-b,!0),c=r.c2p(_.pos+b,!0),p=e?(a+c)/2:r.c2p(_.pos,!0),x=d.c2p(_.o,!0),k=d.c2p(_.h,!0),y=d.c2p(_.l,!0),A=d.c2p(_.c,!0);return"M"+a+","+x+"H"+p+"M"+p+","+k+"V"+y+"M"+c+","+A+"H"+p})})}},97384:function(tt){tt.exports=function(U,t){var E=U.cd,S=U.xaxis,i=U.yaxis,L=[],T,v=E[0].t.bPos||0;if(t===!1)for(T=0;T<E.length;T++)E[T].selected=0;else for(T=0;T<E.length;T++){var d=E[T];t.contains([S.c2p(d.pos+v),i.c2p(d.yc)],null,d.i,U)?(L.push({pointNumber:d.i,x:S.c2d(d.pos),y:i.c2d(d.yc)}),d.selected=1):d.selected=0}return L}},14008:function(tt,U,t){var E=t(33428),S=t(43616),i=t(76308);tt.exports=function(L,T,v){var d=v||E.select(L).selectAll("g.ohlclayer").selectAll("g.trace");d.style("opacity",function(r){return r[0].trace.opacity}),d.each(function(r){var e=r[0].trace;E.select(this).selectAll("path").each(function(l){if(!l.empty){var n=e[l.dir].line;E.select(this).style("fill","none").call(i.stroke,n.color).call(S.dashLine,n.dash,n.width).style("opacity",e.selectedpoints&&!l.selected?.3:1)}})})}},72140:function(tt,U,t){var E=t(92880).extendFlat,S=t(45464),i=t(25376),L=t(49084),T=t(21776).Ks,v=t(86968).u,d=E({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});tt.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:E({},S.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:d,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(tt,U,t){var E=t(84888)._M,S=t(60268),i="parcats";U.name=i,U.plot=function(L,T,v,d){var r=E(L.calcdata,i);if(r.length){var e=r[0];S(L,e,v,d)}},U.clean=function(L,T,v,d){var r=d._has&&d._has("parcats"),e=T._has&&T._has("parcats");r&&!e&&d._paperdiv.selectAll(".parcats").remove()}},69136:function(tt,U,t){var E=t(71688).wrap,S=t(94288).hasColorscale,i=t(47128),L=t(68944),T=t(43616),v=t(3400),d=t(38248);tt.exports=function(a,c){var p=v.filterVisible(c.dimensions);if(p.length===0)return[];var x=p.map(function(nt){var Y;if(nt.categoryorder==="trace")Y=null;else if(nt.categoryorder==="array")Y=nt.categoryarray;else{Y=L(nt.values);for(var Z=!0,$=0;$<Y.length;$++)if(!d(Y[$])){Z=!1;break}Y.sort(Z?v.sorterAsc:void 0),nt.categoryorder==="category descending"&&(Y=Y.reverse())}return f(nt.values,Y)}),k,y,A;v.isArrayOrTypedArray(c.counts)?k=c.counts:k=[c.counts],b(p),p.forEach(function(nt,Y){h(nt,x[Y])});var C=c.line,u;C?(S(c,"line")&&i(a,c,{vals:c.line.color,containerStr:"line",cLetter:"c"}),u=T.tryColorscale(C)):u=v.identity;function m(nt){var Y,Z;return v.isArrayOrTypedArray(C.color)?(Y=C.color[nt%C.color.length],Z=Y):Y=C.color,{color:u(Y),rawColor:Z}}var M=p[0].values.length,w={},z=x.map(function(nt){return nt.inds});A=0;var O,D;for(O=0;O<M;O++){var P=[];for(D=0;D<z.length;D++)P.push(z[D][O]);y=k[O%k.length],A+=y;var F=m(O),R=P+"-"+F.rawColor;w[R]===void 0&&(w[R]=s(P,F.color,F.rawColor)),o(w[R],O,y)}var N=p.map(function(nt,Y){return e(Y,nt._index,nt._displayindex,nt.label,A)});for(O=0;O<M;O++)for(y=k[O%k.length],D=0;D<N.length;D++){var B=N[D].containerInd,q=x[D].inds[O],V=N[D].categories;if(V[q]===void 0){var J=c.dimensions[B]._categoryarray[q],it=c.dimensions[B]._ticktext[q];V[q]=l(D,q,J,it)}n(V[q],O,y)}return E(r(N,w,A))};function r(a,c,p){var x=a.map(function(k){return k.categories.length}).reduce(function(k,y){return Math.max(k,y)});return{dimensions:a,paths:c,trace:void 0,maxCats:x,count:p}}function e(a,c,p,x,k){return{dimensionInd:a,containerInd:c,displayInd:p,dimensionLabel:x,count:k,categories:[],dragX:null}}function l(a,c,p,x){return{dimensionInd:a,categoryInd:c,categoryValue:p,displayInd:c,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(a,c,p){a.valueInds.push(c),a.count+=p}function s(a,c,p){return{categoryInds:a,color:c,rawColor:p,valueInds:[],count:0}}function o(a,c,p){a.valueInds.push(c),a.count+=p}function f(a,c){c==null?c=[]:c=c.map(function(m){return m});var p={},x={},k=[];c.forEach(function(m,M){p[m]=0,x[m]=M});for(var y=0;y<a.length;y++){var A=a[y],C;p[A]===void 0?(p[A]=1,C=c.push(A)-1,x[A]=C):(p[A]++,C=x[A]),k.push(C)}var u=c.map(function(m){return p[m]});return{uniqueValues:c,uniqueCounts:u,inds:k}}function b(a){var c=a.map(function(x){return x.displayindex}),p;if(_(c))for(p=0;p<a.length;p++)a[p]._displayindex=a[p].displayindex;else for(p=0;p<a.length;p++)a[p]._displayindex=p}function h(a,c){a._categoryarray=c.uniqueValues,a.ticktext===null||a.ticktext===void 0?a._ticktext=[]:a._ticktext=a.ticktext.slice();for(var p=a._ticktext.length;p<c.uniqueValues.length;p++)a._ticktext.push(c.uniqueValues[p])}function _(a){for(var c=new Array(a.length),p=0;p<a.length;p++){if(a[p]<0||a[p]>=a.length||c[a[p]]!==void 0)return!1;c[a[p]]=!0}return!0}},76671:function(tt,U,t){var E=t(3400),S=t(94288).hasColorscale,i=t(27260),L=t(86968).Q,T=t(51272),v=t(72140),d=t(26284),r=t(38116).isTypedArraySpec;function e(n,s,o,f,b){b("line.shape"),b("line.hovertemplate");var h=b("line.color",f.colorway[0]);if(S(n,"line")&&E.isArrayOrTypedArray(h)){if(h.length)return b("line.colorscale"),i(n,s,f,b,{prefix:"line.",cLetter:"c"}),h.length;s.line.color=o}return 1/0}function l(n,s){function o(p,x){return E.coerce(n,s,v.dimensions,p,x)}var f=o("values"),b=o("visible");if(f&&f.length||(b=s.visible=!1),b){o("label"),o("displayindex",s._index);var h=n.categoryarray,_=E.isArrayOrTypedArray(h)&&h.length>0||r(h),a;_&&(a="array");var c=o("categoryorder",a);c==="array"?(o("categoryarray"),o("ticktext")):(delete n.categoryarray,delete n.ticktext),!_&&c==="array"&&(s.categoryorder="trace")}}tt.exports=function(n,s,o,f){function b(p,x){return E.coerce(n,s,v,p,x)}var h=T(n,s,{name:"dimensions",handleItemDefaults:l}),_=e(n,s,o,f,b);L(s,f,b),(!Array.isArray(h)||!h.length)&&(s.visible=!1),d(s,h,"values",_),b("hoveron"),b("hovertemplate"),b("arrangement"),b("bundlecolors"),b("sortpaths"),b("counts");var a={weight:f.font.weight,style:f.font.style,variant:f.font.variant,family:f.font.family,size:Math.round(f.font.size),color:f.font.color};E.coerceFont(b,"labelfont",a);var c={weight:f.font.weight,style:f.font.style,variant:f.font.variant,family:f.font.family,size:Math.round(f.font.size/1.2),color:f.font.color};E.coerceFont(b,"tickfont",c)}},22020:function(tt,U,t){tt.exports={attributes:t(72140),supplyDefaults:t(76671),calc:t(69136),plot:t(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:t(91800),categories:["noOpacity"],meta:{}}},51036:function(tt,U,t){var E=t(33428),S=t(67756).Gz,i=t(36424),L=t(93024),T=t(3400),v=T.strTranslate,d=t(43616),r=t(49760),e=t(72736);function l(G,rt,ot,W){var H=rt._context.staticPlot,at=G.map(it.bind(0,rt,ot)),Q=W.selectAll("g.parcatslayer").data([null]);Q.enter().append("g").attr("class","parcatslayer").style("pointer-events",H?"none":"all");var ct=Q.selectAll("g.trace.parcats").data(at,n),ft=ct.enter().append("g").attr("class","trace parcats");ct.attr("transform",function(Nt){return v(Nt.x,Nt.y)}),ft.append("g").attr("class","paths");var yt=ct.select("g.paths"),xt=yt.selectAll("path.path").data(function(Nt){return Nt.paths},n);xt.attr("fill",function(Nt){return Nt.model.color});var Lt=xt.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Nt){return Nt.model.color}).attr("fill-opacity",0);c(Lt),xt.attr("d",function(Nt){return Nt.svgD}),Lt.empty()||xt.sort(o),xt.exit().remove(),xt.on("mouseover",f).on("mouseout",b).on("click",a),ft.append("g").attr("class","dimensions");var gt=ct.select("g.dimensions"),mt=gt.selectAll("g.dimension").data(function(Nt){return Nt.dimensions},n);mt.enter().append("g").attr("class","dimension"),mt.attr("transform",function(Nt){return v(Nt.x,0)}),mt.exit().remove();var vt=mt.selectAll("g.category").data(function(Nt){return Nt.categories},n),At=vt.enter().append("g").attr("class","category");vt.attr("transform",function(Nt){return v(0,Nt.y)}),At.append("rect").attr("class","catrect").attr("pointer-events","none"),vt.select("rect.catrect").attr("fill","none").attr("width",function(Nt){return Nt.width}).attr("height",function(Nt){return Nt.height}),k(At);var Ot=vt.selectAll("rect.bandrect").data(function(Nt){return Nt.bands},n);Ot.each(function(){T.raiseToTop(this)}),Ot.attr("fill",function(Nt){return Nt.color});var Pt=Ot.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Nt){return Nt.color}).attr("fill-opacity",0);Ot.attr("fill",function(Nt){return Nt.color}).attr("width",function(Nt){return Nt.width}).attr("height",function(Nt){return Nt.height}).attr("y",function(Nt){return Nt.y}).attr("cursor",function(Nt){return Nt.parcatsViewModel.arrangement==="fixed"?"default":Nt.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),A(Pt),Ot.exit().remove(),At.append("text").attr("class","catlabel").attr("pointer-events","none");var Et=rt._fullLayout.paper_bgcolor;vt.select("text.catlabel").attr("text-anchor",function(Nt){return s(Nt)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",e.makeTextShadow(Et)).style("fill","rgb(0, 0, 0)").attr("x",function(Nt){return s(Nt)?Nt.width+5:-5}).attr("y",function(Nt){return Nt.height/2}).text(function(Nt){return Nt.model.categoryLabel}).each(function(Nt){d.font(E.select(this),Nt.parcatsViewModel.categorylabelfont),e.convertToTspans(E.select(this),rt)}),At.append("text").attr("class","dimlabel"),vt.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Nt){return Nt.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Nt){return Nt.width/2}).attr("y",-5).text(function(Nt,ne){return ne===0?Nt.parcatsViewModel.model.dimensions[Nt.model.dimensionInd].dimensionLabel:null}).each(function(Nt){d.font(E.select(this),Nt.parcatsViewModel.labelfont)}),vt.selectAll("rect.bandrect").on("mouseover",P).on("mouseout",F),vt.exit().remove(),mt.call(E.behavior.drag().origin(function(Nt){return{x:Nt.x,y:0}}).on("dragstart",R).on("drag",N).on("dragend",B)),ct.each(function(Nt){Nt.traceSelection=E.select(this),Nt.pathSelection=E.select(this).selectAll("g.paths").selectAll("path.path"),Nt.dimensionSelection=E.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ct.exit().remove()}tt.exports=function(G,rt,ot,W){l(ot,G,W,rt)};function n(G){return G.key}function s(G){var rt=G.parcatsViewModel.dimensions.length,ot=G.parcatsViewModel.dimensions[rt-1].model.dimensionInd;return G.model.dimensionInd===ot}function o(G,rt){return G.model.rawColor>rt.model.rawColor?1:G.model.rawColor<rt.model.rawColor?-1:0}function f(G){if(!G.parcatsViewModel.dragDimension&&G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){T.raiseToTop(this),p(E.select(this));var rt=h(G),ot=_(G);if(G.parcatsViewModel.graphDiv.emit("plotly_hover",{points:rt,event:E.event,constraints:ot}),G.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var W=E.mouse(this)[0],H=G.parcatsViewModel.graphDiv,at=G.parcatsViewModel.trace,Q=H._fullLayout,ct=Q._paperdiv.node().getBoundingClientRect(),ft=G.parcatsViewModel.graphDiv.getBoundingClientRect(),yt,xt,Lt;for(Lt=0;Lt<G.leftXs.length-1;Lt++)if(G.leftXs[Lt]+G.dimWidths[Lt]-2<=W&&W<=G.leftXs[Lt+1]+2){var gt=G.parcatsViewModel.dimensions[Lt],mt=G.parcatsViewModel.dimensions[Lt+1];yt=(gt.x+gt.width+mt.x)/2,xt=(G.topYs[Lt]+G.topYs[Lt+1]+G.height)/2;break}var vt=G.parcatsViewModel.x+yt,At=G.parcatsViewModel.y+xt,Ot=r.mostReadable(G.model.color,["black","white"]),Pt=G.model.count,Et=Pt/G.parcatsViewModel.model.count,Nt={countLabel:Pt,probabilityLabel:Et.toFixed(3)},ne=[];G.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ne.push(["Count:",Nt.countLabel].join(" ")),G.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ne.push(["P:",Nt.probabilityLabel].join(" "));var Gt=ne.join("<br>"),pe=E.mouse(H)[0];L.loneHover({trace:at,x:vt-ct.left+ft.left,y:At-ct.top+ft.top,text:Gt,color:G.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ot,idealAlign:pe<vt?"right":"left",hovertemplate:(at.line||{}).hovertemplate,hovertemplateLabels:Nt,eventData:[{data:at._input,fullData:at,count:Pt,probability:Et}]},{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:H})}}}function b(G){if(!G.parcatsViewModel.dragDimension&&(c(E.select(this)),L.loneUnhover(G.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),G.parcatsViewModel.pathSelection.sort(o),G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var rt=h(G),ot=_(G);G.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:rt,event:E.event,constraints:ot})}}function h(G){for(var rt=[],ot=q(G.parcatsViewModel),W=0;W<G.model.valueInds.length;W++){var H=G.model.valueInds[W];rt.push({curveNumber:ot,pointNumber:H})}return rt}function _(G){for(var rt={},ot=G.parcatsViewModel.model.dimensions,W=0;W<ot.length;W++){var H=ot[W],at=H.categories[G.model.categoryInds[W]];rt[H.containerInd]=at.categoryValue}return G.model.rawColor!==void 0&&(rt.color=G.model.rawColor),rt}function a(G){if(G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var rt=h(G),ot=_(G);G.parcatsViewModel.graphDiv.emit("plotly_click",{points:rt,event:E.event,constraints:ot})}}function c(G){G.attr("fill",function(rt){return rt.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(G){G.attr("fill-opacity",.8).attr("stroke",function(rt){return r.mostReadable(rt.model.color,["black","white"])}).attr("stroke-width",.3)}function x(G){G.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function k(G){G.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function y(G){G.attr("stroke","black").attr("stroke-width",1.5)}function A(G){G.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function C(G){var rt=G.parcatsViewModel.pathSelection,ot=G.categoryViewModel.model.dimensionInd,W=G.categoryViewModel.model.categoryInd;return rt.filter(function(H){return H.model.categoryInds[ot]===W&&H.model.color===G.color})}function u(G){var rt=E.select(G.parentNode).selectAll("rect.bandrect");rt.each(function(ot){var W=C(ot);p(W),W.each(function(){T.raiseToTop(this)})}),x(E.select(G.parentNode))}function m(G){var rt=E.select(G).datum(),ot=C(rt);p(ot),ot.each(function(){T.raiseToTop(this)}),E.select(G.parentNode).selectAll("rect.bandrect").filter(function(W){return W.color===rt.color}).each(function(){T.raiseToTop(this),y(E.select(this))})}function M(G,rt,ot){var W=E.select(G).datum(),H=W.categoryViewModel.model,at=W.parcatsViewModel.graphDiv,Q=E.select(G.parentNode).selectAll("rect.bandrect"),ct=[];Q.each(function(yt){var xt=C(yt);xt.each(function(Lt){Array.prototype.push.apply(ct,h(Lt))})});var ft={};ft[H.dimensionInd]=H.categoryValue,at.emit(rt,{points:ct,event:ot,constraints:ft})}function w(G,rt,ot){var W=E.select(G).datum(),H=W.categoryViewModel.model,at=W.parcatsViewModel.graphDiv,Q=C(W),ct=[];Q.each(function(yt){Array.prototype.push.apply(ct,h(yt))});var ft={};ft[H.dimensionInd]=H.categoryValue,W.rawColor!==void 0&&(ft.color=W.rawColor),at.emit(rt,{points:ct,event:ot,constraints:ft})}function z(G,rt,ot){G._fullLayout._calcInverseTransform(G);var W=G._fullLayout._invScaleX,H=G._fullLayout._invScaleY,at=E.select(ot.parentNode).select("rect.catrect"),Q=at.node().getBoundingClientRect(),ct=at.datum(),ft=ct.parcatsViewModel,yt=ft.model.dimensions[ct.model.dimensionInd],xt=ft.trace,Lt=Q.top+Q.height/2,gt,mt;ft.dimensions.length>1&&yt.displayInd===ft.dimensions.length-1?(gt=Q.left,mt="left"):(gt=Q.left+Q.width,mt="right");var vt=ct.model.count,At=ct.model.categoryLabel,Ot=vt/ct.parcatsViewModel.model.count,Pt={countLabel:vt,categoryLabel:At,probabilityLabel:Ot.toFixed(3)},Et=[];ct.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Et.push(["Count:",Pt.countLabel].join(" ")),ct.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Et.push(["P("+Pt.categoryLabel+"):",Pt.probabilityLabel].join(" "));var Nt=Et.join("<br>");return{trace:xt,x:W*(gt-rt.left),y:H*(Lt-rt.top),text:Nt,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:mt,hovertemplate:xt.hovertemplate,hovertemplateLabels:Pt,eventData:[{data:xt._input,fullData:xt,count:vt,category:At,probability:Ot}]}}function O(G,rt,ot){var W=[];return E.select(ot.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var H=this;W.push(z(G,rt,H))}),W}function D(G,rt,ot){G._fullLayout._calcInverseTransform(G);var W=G._fullLayout._invScaleX,H=G._fullLayout._invScaleY,at=ot.getBoundingClientRect(),Q=E.select(ot).datum(),ct=Q.categoryViewModel,ft=ct.parcatsViewModel,yt=ft.model.dimensions[ct.model.dimensionInd],xt=ft.trace,Lt=at.y+at.height/2,gt,mt;ft.dimensions.length>1&&yt.displayInd===ft.dimensions.length-1?(gt=at.left,mt="left"):(gt=at.left+at.width,mt="right");var vt=ct.model.categoryLabel,At=Q.parcatsViewModel.model.count,Ot=0;Q.categoryViewModel.bands.forEach(function(ce){ce.color===Q.color&&(Ot+=ce.count)});var Pt=ct.model.count,Et=0;ft.pathSelection.each(function(ce){ce.model.color===Q.color&&(Et+=ce.model.count)});var Nt=Ot/At,ne=Ot/Et,Gt=Ot/Pt,pe={countLabel:Ot,categoryLabel:vt,probabilityLabel:Nt.toFixed(3)},Vt=[];ct.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Vt.push(["Count:",pe.countLabel].join(" ")),ct.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Vt.push("P(color \u2229 "+vt+"): "+pe.probabilityLabel),Vt.push("P("+vt+" | color): "+ne.toFixed(3)),Vt.push("P(color | "+vt+"): "+Gt.toFixed(3)));var ae=Vt.join("<br>"),oe=r.mostReadable(Q.color,["black","white"]);return{trace:xt,x:W*(gt-rt.left),y:H*(Lt-rt.top),text:ae,color:Q.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:oe,fontSize:10,idealAlign:mt,hovertemplate:xt.hovertemplate,hovertemplateLabels:pe,eventData:[{data:xt._input,fullData:xt,category:vt,count:At,probability:Nt,categorycount:Pt,colorcount:Et,bandcolorcount:Ot}]}}function P(G){if(!G.parcatsViewModel.dragDimension&&G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var rt=E.mouse(this)[1];if(rt<-1)return;var ot=G.parcatsViewModel.graphDiv,W=ot._fullLayout,H=W._paperdiv.node().getBoundingClientRect(),at=G.parcatsViewModel.hoveron,Q=this;if(at==="color"?(m(Q),w(Q,"plotly_hover",E.event)):(u(Q),M(Q,"plotly_hover",E.event)),G.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ct;at==="category"?ct=z(ot,H,Q):at==="color"?ct=D(ot,H,Q):at==="dimension"&&(ct=O(ot,H,Q)),ct&&L.loneHover(ct,{container:W._hoverlayer.node(),outerContainer:W._paper.node(),gd:ot})}}}function F(G){var rt=G.parcatsViewModel;if(!rt.dragDimension&&(c(rt.pathSelection),k(rt.dimensionSelection.selectAll("g.category")),A(rt.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(rt.graphDiv._fullLayout._hoverlayer.node()),rt.pathSelection.sort(o),rt.hoverinfoItems.indexOf("skip")===-1)){var ot=G.parcatsViewModel.hoveron,W=this;ot==="color"?w(W,"plotly_unhover",E.event):M(W,"plotly_unhover",E.event)}}function R(G){G.parcatsViewModel.arrangement!=="fixed"&&(G.dragDimensionDisplayInd=G.model.displayInd,G.initialDragDimensionDisplayInds=G.parcatsViewModel.model.dimensions.map(function(rt){return rt.displayInd}),G.dragHasMoved=!1,G.dragCategoryDisplayInd=null,E.select(this).selectAll("g.category").select("rect.catrect").each(function(rt){var ot=E.mouse(this)[0],W=E.mouse(this)[1];-2<=ot&&ot<=rt.width+2&&-2<=W&&W<=rt.height+2&&(G.dragCategoryDisplayInd=rt.model.displayInd,G.initialDragCategoryDisplayInds=G.model.categories.map(function(H){return H.displayInd}),rt.model.dragY=rt.y,T.raiseToTop(this.parentNode),E.select(this.parentNode).selectAll("rect.bandrect").each(function(H){H.y<W&&W<=H.y+H.height&&(G.potentialClickBand=this)}))}),G.parcatsViewModel.dragDimension=G,L.loneUnhover(G.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(G){if(G.parcatsViewModel.arrangement!=="fixed"&&(G.dragHasMoved=!0,G.dragDimensionDisplayInd!==null)){var rt=G.dragDimensionDisplayInd,ot=rt-1,W=rt+1,H=G.parcatsViewModel.dimensions[rt];if(G.dragCategoryDisplayInd!==null){var at=H.categories[G.dragCategoryDisplayInd];at.model.dragY+=E.event.dy;var Q=at.model.dragY,ct=at.model.displayInd,ft=H.categories,yt=ft[ct-1],xt=ft[ct+1];yt!==void 0&&Q<yt.y+yt.height/2&&(at.model.displayInd=yt.model.displayInd,yt.model.displayInd=ct),xt!==void 0&&Q+at.height>xt.y+xt.height/2&&(at.model.displayInd=xt.model.displayInd,xt.model.displayInd=ct),G.dragCategoryDisplayInd=at.model.displayInd}if(G.dragCategoryDisplayInd===null||G.parcatsViewModel.arrangement==="freeform"){H.model.dragX=E.event.x;var Lt=G.parcatsViewModel.dimensions[ot],gt=G.parcatsViewModel.dimensions[W];Lt!==void 0&&H.model.dragX<Lt.x+Lt.width&&(H.model.displayInd=Lt.model.displayInd,Lt.model.displayInd=rt),gt!==void 0&&H.model.dragX+H.width>gt.x&&(H.model.displayInd=gt.model.displayInd,gt.model.displayInd=G.dragDimensionDisplayInd),G.dragDimensionDisplayInd=H.model.displayInd}Z(G.parcatsViewModel),Y(G.parcatsViewModel),J(G.parcatsViewModel),V(G.parcatsViewModel)}}function B(G){if(G.parcatsViewModel.arrangement!=="fixed"&&G.dragDimensionDisplayInd!==null){E.select(this).selectAll("text").attr("font-weight","normal");var rt={},ot=q(G.parcatsViewModel),W=G.parcatsViewModel.model.dimensions.map(function(gt){return gt.displayInd}),H=G.initialDragDimensionDisplayInds.some(function(gt,mt){return gt!==W[mt]});H&&W.forEach(function(gt,mt){var vt=G.parcatsViewModel.model.dimensions[mt].containerInd;rt["dimensions["+vt+"].displayindex"]=gt});var at=!1;if(G.dragCategoryDisplayInd!==null){var Q=G.model.categories.map(function(gt){return gt.displayInd});if(at=G.initialDragCategoryDisplayInds.some(function(gt,mt){return gt!==Q[mt]}),at){var ct=G.model.categories.slice().sort(function(gt,mt){return gt.displayInd-mt.displayInd}),ft=ct.map(function(gt){return gt.categoryValue}),yt=ct.map(function(gt){return gt.categoryLabel});rt["dimensions["+G.model.containerInd+"].categoryarray"]=[ft],rt["dimensions["+G.model.containerInd+"].ticktext"]=[yt],rt["dimensions["+G.model.containerInd+"].categoryorder"]="array"}}if(G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!G.dragHasMoved&&G.potentialClickBand&&(G.parcatsViewModel.hoveron==="color"?w(G.potentialClickBand,"plotly_click",E.event.sourceEvent):M(G.potentialClickBand,"plotly_click",E.event.sourceEvent)),G.model.dragX=null,G.dragCategoryDisplayInd!==null){var xt=G.parcatsViewModel.dimensions[G.dragDimensionDisplayInd].categories[G.dragCategoryDisplayInd];xt.model.dragY=null,G.dragCategoryDisplayInd=null}G.dragDimensionDisplayInd=null,G.parcatsViewModel.dragDimension=null,G.dragHasMoved=null,G.potentialClickBand=null,Z(G.parcatsViewModel),Y(G.parcatsViewModel);var Lt=E.transition().duration(300).ease("cubic-in-out");Lt.each(function(){J(G.parcatsViewModel,!0),V(G.parcatsViewModel,!0)}).each("end",function(){(H||at)&&i.restyle(G.parcatsViewModel.graphDiv,rt,[ot])})}}function q(G){for(var rt,ot=G.graphDiv._fullData,W=0;W<ot.length;W++)if(G.key===ot[W].uid){rt=W;break}return rt}function V(G,rt){rt===void 0&&(rt=!1);function ot(W){return rt?W.transition():W}G.pathSelection.data(function(W){return W.paths},n),ot(G.pathSelection).attr("d",function(W){return W.svgD})}function J(G,rt){rt===void 0&&(rt=!1);function ot(ft){return rt?ft.transition():ft}G.dimensionSelection.data(function(ft){return ft.dimensions},n);var W=G.dimensionSelection.selectAll("g.category").data(function(ft){return ft.categories},n);ot(G.dimensionSelection).attr("transform",function(ft){return v(ft.x,0)}),ot(W).attr("transform",function(ft){return v(0,ft.y)});var H=W.select(".dimlabel");H.text(function(ft,yt){return yt===0?ft.parcatsViewModel.model.dimensions[ft.model.dimensionInd].dimensionLabel:null});var at=W.select(".catlabel");at.attr("text-anchor",function(ft){return s(ft)?"start":"end"}).attr("x",function(ft){return s(ft)?ft.width+5:-5}).each(function(ft){var yt,xt;s(ft)?(yt=ft.width+5,xt="start"):(yt=-5,xt="end"),E.select(this).selectAll("tspan").attr("x",yt).attr("text-anchor",xt)});var Q=W.selectAll("rect.bandrect").data(function(ft){return ft.bands},n),ct=Q.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ft){return ft.color}).attr("fill-opacity",0);Q.attr("fill",function(ft){return ft.color}).attr("width",function(ft){return ft.width}).attr("height",function(ft){return ft.height}).attr("y",function(ft){return ft.y}),A(ct),Q.each(function(){T.raiseToTop(this)}),Q.exit().remove()}function it(G,rt,ot){var W=ot[0],H=rt.margin||{l:80,r:80,t:100,b:80},at=W.trace,Q=at.domain,ct=rt.width,ft=rt.height,yt=Math.floor(ct*(Q.x[1]-Q.x[0])),xt=Math.floor(ft*(Q.y[1]-Q.y[0])),Lt=Q.x[0]*ct+H.l,gt=rt.height-Q.y[1]*rt.height+H.t,mt=at.line.shape,vt;at.hoverinfo==="all"?vt=["count","probability"]:vt=(at.hoverinfo||"").split("+");var At={trace:at,key:at.uid,model:W,x:Lt,y:gt,width:yt,height:xt,hoveron:at.hoveron,hoverinfoItems:vt,arrangement:at.arrangement,bundlecolors:at.bundlecolors,sortpaths:at.sortpaths,labelfont:at.labelfont,categorylabelfont:at.tickfont,pathShape:mt,dragDimension:null,margin:H,paths:[],dimensions:[],graphDiv:G,traceSelection:null,pathSelection:null,dimensionSelection:null};return W.dimensions&&(Z(At),Y(At)),At}function nt(G,rt,ot,W,H){var at=[],Q=[],ct,ft;for(ft=0;ft<ot.length-1;ft++)ct=S(ot[ft]+G[ft],G[ft+1]),at.push(ct(H)),Q.push(ct(1-H));var yt="M "+G[0]+","+rt[0];for(yt+="l"+ot[0]+",0 ",ft=1;ft<ot.length;ft++)yt+="C"+at[ft-1]+","+rt[ft-1]+" "+Q[ft-1]+","+rt[ft]+" "+G[ft]+","+rt[ft],yt+="l"+ot[ft]+",0 ";for(yt+="l0,"+W+" ",yt+="l -"+ot[ot.length-1]+",0 ",ft=ot.length-2;ft>=0;ft--)yt+="C"+Q[ft]+","+(rt[ft+1]+W)+" "+at[ft]+","+(rt[ft]+W)+" "+(G[ft]+ot[ft])+","+(rt[ft]+W),yt+="l-"+ot[ft]+",0 ";return yt+="Z",yt}function Y(G){var rt=G.dimensions,ot=G.model,W=rt.map(function(Tt){return Tt.categories.map(function(Ft){return Ft.y})}),H=G.model.dimensions.map(function(Tt){return Tt.categories.map(function(Ft){return Ft.displayInd})}),at=G.model.dimensions.map(function(Tt){return Tt.displayInd}),Q=G.dimensions.map(function(Tt){return Tt.model.dimensionInd}),ct=rt.map(function(Tt){return Tt.x}),ft=rt.map(function(Tt){return Tt.width}),yt=[];for(var xt in ot.paths)ot.paths.hasOwnProperty(xt)&&yt.push(ot.paths[xt]);function Lt(Tt){var Ft=Tt.categoryInds.map(function(Wt,Bt){return H[Bt][Wt]}),$t=Q.map(function(Wt){return Ft[Wt]});return $t}yt.sort(function(Tt,Ft){var $t=Lt(Tt),Wt=Lt(Ft);return G.sortpaths==="backward"&&($t.reverse(),Wt.reverse()),$t.push(Tt.valueInds[0]),Wt.push(Ft.valueInds[0]),G.bundlecolors&&($t.unshift(Tt.rawColor),Wt.unshift(Ft.rawColor)),$t<Wt?-1:$t>Wt?1:0});for(var gt=new Array(yt.length),mt=rt[0].model.count,vt=rt[0].categories.map(function(Tt){return Tt.height}).reduce(function(Tt,Ft){return Tt+Ft}),At=0;At<yt.length;At++){var Ot=yt[At],Pt;mt>0?Pt=vt*(Ot.count/mt):Pt=0;for(var Et=new Array(W.length),Nt=0;Nt<Ot.categoryInds.length;Nt++){var ne=Ot.categoryInds[Nt],Gt=H[Nt][ne],pe=at[Nt];Et[pe]=W[pe][Gt],W[pe][Gt]+=Pt;var Vt=G.dimensions[pe].categories[Gt],ae=Vt.bands.length,oe=Vt.bands[ae-1];if(oe===void 0||Ot.rawColor!==oe.rawColor){var ce=oe===void 0?0:oe.y+oe.height;Vt.bands.push({key:ce,color:Ot.color,rawColor:Ot.rawColor,height:Pt,width:Vt.width,count:Ot.count,y:ce,categoryViewModel:Vt,parcatsViewModel:G})}else{var le=Vt.bands[ae-1];le.height+=Pt,le.count+=Ot.count}}var ye;G.pathShape==="hspline"?ye=nt(ct,Et,ft,Pt,.5):ye=nt(ct,Et,ft,Pt,0),gt[At]={key:Ot.valueInds[0],model:Ot,height:Pt,leftXs:ct,topYs:Et,dimWidths:ft,svgD:ye,parcatsViewModel:G}}G.paths=gt}function Z(G){var rt=G.model.dimensions.map(function(Q){return{displayInd:Q.displayInd,dimensionInd:Q.dimensionInd}});rt.sort(function(Q,ct){return Q.displayInd-ct.displayInd});var ot=[];for(var W in rt){var H=rt[W].dimensionInd,at=G.model.dimensions[H];ot.push($(G,at))}G.dimensions=ot}function $(G,rt){var ot=40,W=16,H=G.model.dimensions.length,at=rt.displayInd,Q,ct,ft;H>1?Q=(G.width-2*ot-W)/(H-1):Q=0,ct=ot,ft=ct+Q*at;var yt=[],xt=G.model.maxCats,Lt=rt.categories.length,gt=8,mt=rt.count,vt=G.height-gt*(xt-1),At,Ot,Pt,Et,Nt,ne=(xt-Lt)*gt/2,Gt=rt.categories.map(function(pe){return{displayInd:pe.displayInd,categoryInd:pe.categoryInd}});for(Gt.sort(function(pe,Vt){return pe.displayInd-Vt.displayInd}),Nt=0;Nt<Lt;Nt++)Et=Gt[Nt].categoryInd,Ot=rt.categories[Et],mt>0?At=Ot.count/mt*vt:At=0,Pt={key:Ot.valueInds[0],model:Ot,width:W,height:At,y:Ot.dragY!==null?Ot.dragY:ne,bands:[],parcatsViewModel:G},ne=ne+At+gt,yt.push(Pt);return{key:rt.dimensionInd,x:rt.dragX!==null?rt.dragX:ft,y:0,width:W,model:rt,categories:yt,parcatsViewModel:G,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(tt,U,t){var E=t(51036);tt.exports=function(S,i,L,T){var v=S._fullLayout,d=v._paper,r=v._size;E(S,d,i,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},L,T)}},82296:function(tt,U,t){var E=t(49084),S=t(94724),i=t(25376),L=t(86968).u,T=t(92880).extendFlat,v=t(31780).templatedArray;tt.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},S.tickvals,{editType:"plot"}),ticktext:T({},S.ticktext,{editType:"plot"}),tickformat:T({},S.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},E("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(tt,U,t){var E=t(30140),S=t(33428),i=t(71688).keyFun,L=t(71688).repeat,T=t(3400).sorterAsc,v=t(3400).strTranslate,d=E.bar.snapRatio;function r(B,q){return B*(1-d)+q*d}var e=E.bar.snapClose;function l(B,q){return B*(1-e)+q*e}function n(B,q,V,J){if(s(V,J))return V;var it=B?-1:1,nt=0,Y=q.length-1;if(it<0){var Z=nt;nt=Y,Y=Z}for(var $=q[nt],G=$,rt=nt;it*rt<it*Y;rt+=it){var ot=rt+it,W=q[ot];if(it*V<it*l($,W))return r($,G);if(it*V<it*W||ot===Y)return r(W,$);G=$,$=W}}function s(B,q){for(var V=0;V<q.length;V++)if(B>=q[V][0]&&B<=q[V][1])return!0;return!1}function o(B){B.attr("x",-E.bar.captureWidth/2).attr("width",E.bar.captureWidth)}function f(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function b(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var q=h(B.brush.filter.getConsolidated(),B.height),V=[0],J,it,nt,Y=q.length?q[0][0]:null,Z=0;Z<q.length;Z++)J=q[Z],it=J[1]-J[0],V.push(Y),V.push(it),nt=Z+1,nt<q.length&&(Y=q[nt][0]-J[1]);return V.push(B.height),V}function h(B,q){return B.map(function(V){return V.map(function(J){return Math.max(0,J*q)}).sort(T)})}function _(B,q){var V=E.bar.handleHeight;if(!(q>B[1]+V||q<B[0]-V))return q>=.9*B[1]+.1*B[0]?"n":q<=.9*B[0]+.1*B[1]?"s":"ns"}function a(){S.select(document.body).style("cursor",null)}function c(B){B.attr("stroke-dasharray",b)}function p(B,q){var V=S.select(B).selectAll(".highlight, .highlight-shadow"),J=q?V.transition().duration(E.bar.snapDuration).each("end",q):V;c(J)}function x(B,q){var V=B.brush,J=V.filterSpecified,it=NaN,nt={},Y;if(J){var Z=B.height,$=V.filter.getConsolidated(),G=h($,Z),rt=NaN,ot=NaN,W=NaN;for(Y=0;Y<=G.length;Y++){var H=G[Y];if(H&&H[0]<=q&&q<=H[1]){rt=Y;break}else if(ot=Y?Y-1:NaN,H&&H[0]>q){W=Y;break}}if(it=rt,isNaN(it)&&(isNaN(ot)||isNaN(W)?it=isNaN(ot)?W:ot:it=q-G[ot][1]<G[W][0]-q?ot:W),!isNaN(it)){var at=G[it],Q=_(at,q);Q&&(nt.interval=$[it],nt.intervalPix=at,nt.region=Q)}}if(B.ordinal&&!nt.region){var ct=B.unitTickvals,ft=B.unitToPaddedPx.invert(q);for(Y=0;Y<ct.length;Y++){var yt=[ct[Math.max(Y-1,0)]*.25+ct[Y]*.75,ct[Math.min(Y+1,ct.length-1)]*.25+ct[Y]*.75];if(ft>=yt[0]&&ft<=yt[1]){nt.clickableOrdinalRange=yt;break}}}return nt}function k(B,q){S.event.sourceEvent.stopPropagation();var V=q.height-S.mouse(B)[1]-2*E.verticalPadding,J=q.unitToPaddedPx.invert(V),it=q.brush,nt=x(q,V),Y=nt.interval,Z=it.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=nt.region==="ns",Z.grabbingBar){var $=Y.map(q.unitToPaddedPx);Z.grabPoint=V-$[0]-E.verticalPadding,Z.barLength=$[1]-$[0]}Z.clickableOrdinalRange=nt.clickableOrdinalRange,Z.stayingIntervals=q.multiselect&&it.filterSpecified?it.filter.getConsolidated():[],Y&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(G){return G[0]!==Y[0]&&G[1]!==Y[1]})),Z.startExtent=nt.region?Y[nt.region==="s"?1:0]:J,q.parent.inBrushDrag=!0,Z.brushStartCallback()}function y(B,q){S.event.sourceEvent.stopPropagation();var V=q.height-S.mouse(B)[1]-2*E.verticalPadding,J=q.brush.svgBrush;J.wasDragged=!0,J._dragging=!0,J.grabbingBar?J.newExtent=[V-J.grabPoint,V+J.barLength-J.grabPoint].map(q.unitToPaddedPx.invert):J.newExtent=[J.startExtent,q.unitToPaddedPx.invert(V)].sort(T),q.brush.filterSpecified=!0,J.extent=J.stayingIntervals.concat([J.newExtent]),J.brushCallback(q),p(B.parentNode)}function A(B,q){var V=q.brush,J=V.filter,it=V.svgBrush;it._dragging||(C(B,q),y(B,q),q.brush.svgBrush.wasDragged=!1),it._dragging=!1;var nt=S.event;nt.sourceEvent.stopPropagation();var Y=it.grabbingBar;if(it.grabbingBar=!1,it.grabLocation=void 0,q.parent.inBrushDrag=!1,a(),!it.wasDragged){it.wasDragged=void 0,it.clickableOrdinalRange?V.filterSpecified&&q.multiselect?it.extent.push(it.clickableOrdinalRange):(it.extent=[it.clickableOrdinalRange],V.filterSpecified=!0):Y?(it.extent=it.stayingIntervals,it.extent.length===0&&O(V)):O(V),it.brushCallback(q),p(B.parentNode),it.brushEndCallback(V.filterSpecified?J.getConsolidated():[]);return}var Z=function(){J.set(J.getConsolidated())};if(q.ordinal){var $=q.unitTickvals;$[$.length-1]<$[0]&&$.reverse(),it.newExtent=[n(0,$,it.newExtent[0],it.stayingIntervals),n(1,$,it.newExtent[1],it.stayingIntervals)];var G=it.newExtent[1]>it.newExtent[0];it.extent=it.stayingIntervals.concat(G?[it.newExtent]:[]),it.extent.length||O(V),it.brushCallback(q),G?p(B.parentNode,Z):(Z(),p(B.parentNode))}else Z();it.brushEndCallback(V.filterSpecified?J.getConsolidated():[])}function C(B,q){var V=q.height-S.mouse(B)[1]-2*E.verticalPadding,J=x(q,V),it="crosshair";J.clickableOrdinalRange?it="pointer":J.region&&(it=J.region+"-resize"),S.select(document.body).style("cursor",it)}function u(B){B.on("mousemove",function(q){S.event.preventDefault(),q.parent.inBrushDrag||C(this,q)}).on("mouseleave",function(q){q.parent.inBrushDrag||a()}).call(S.behavior.drag().on("dragstart",function(q){k(this,q)}).on("drag",function(q){y(this,q)}).on("dragend",function(q){A(this,q)}))}function m(B,q){return B[0]-q[0]}function M(B,q,V){var J=V._context.staticPlot,it=B.selectAll(".background").data(L);it.enter().append("rect").classed("background",!0).call(o).call(f).style("pointer-events",J?"none":"auto").attr("transform",v(0,E.verticalPadding)),it.call(u).attr("height",function(Z){return Z.height-E.verticalPadding});var nt=B.selectAll(".highlight-shadow").data(L);nt.enter().append("line").classed("highlight-shadow",!0).attr("x",-E.bar.width/2).attr("stroke-width",E.bar.width+E.bar.strokeWidth).attr("stroke",q).attr("opacity",E.bar.strokeOpacity).attr("stroke-linecap","butt"),nt.attr("y1",function(Z){return Z.height}).call(c);var Y=B.selectAll(".highlight").data(L);Y.enter().append("line").classed("highlight",!0).attr("x",-E.bar.width/2).attr("stroke-width",E.bar.width-E.bar.strokeWidth).attr("stroke",E.bar.fillColor).attr("opacity",E.bar.fillOpacity).attr("stroke-linecap","butt"),Y.attr("y1",function(Z){return Z.height}).call(c)}function w(B,q,V){var J=B.selectAll("."+E.cn.axisBrush).data(L,i);J.enter().append("g").classed(E.cn.axisBrush,!0),M(J,q,V)}function z(B){return B.svgBrush.extent.map(function(q){return q.slice()})}function O(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function D(B){return function(q){var V=q.brush,J=z(V),it=J.slice();V.filter.set(it),B()}}function P(B){for(var q=B.slice(),V=[],J,it=q.shift();it;){for(J=it.slice();(it=q.shift())&&it[0]<=J[1];)J[1]=Math.max(J[1],it[1]);V.push(J)}return V.length===1&&V[0][0]>V[0][1]&&(V=[]),V}function F(){var B=[],q,V;return{set:function(J){B=J.map(function(it){return it.slice().sort(T)}).sort(m),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),q=P(B),V=B.reduce(function(it,nt){return[Math.min(it[0],nt[0]),Math.max(it[1],nt[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return q},getBounds:function(){return V}}}function R(B,q,V,J,it,nt){var Y=F();return Y.set(V),{filter:Y,filterSpecified:q,svgBrush:{extent:[],brushStartCallback:J,brushCallback:D(it),brushEndCallback:nt}}}function N(B,q){if(Array.isArray(B[0])?(B=B.map(function(J){return J.sort(T)}),q.multiselect?B=P(B.sort(m)):B=[B[0]]):B=[B.sort(T)],q.tickvals){var V=q.tickvals.slice().sort(T);if(B=B.map(function(J){var it=[n(0,V,J[0],[]),n(1,V,J[1],[])];if(it[1]>it[0])return it}).filter(function(J){return J}),!B.length)return}return B.length>1?B:B[0]}tt.exports={makeBrush:R,ensureAxisBrush:w,cleanRanges:N}},61664:function(tt,U,t){tt.exports={attributes:t(82296),supplyDefaults:t(60664),calc:t(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(tt,U,t){var E=t(33428),S=t(84888)._M,i=t(24196),L=t(9616);U.name="parcoords",U.plot=function(T){var v=S(T.calcdata,"parcoords")[0];v.length&&i(T,v)},U.clean=function(T,v,d,r){var e=r._has&&r._has("parcoords"),l=v._has&&v._has("parcoords");e&&!l&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},U.toSVG=function(T){var v=T._fullLayout._glimages,d=E.select(T).selectAll(".svg-container"),r=d.filter(function(l,n){return n===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function e(){var l=this,n=l.toDataURL("image/png"),s=v.append("svg:image");s.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:l.style.width,height:l.style.height})}r.each(e),window.setTimeout(function(){E.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(tt,U,t){var E=t(3400).isArrayOrTypedArray,S=t(8932),i=t(71688).wrap;tt.exports=function(T,v){var d,r;return S.hasColorscale(v,"line")&&E(v.line.color)?(d=v.line.color,r=S.extractOpts(v.line).colorscale,S.calc(T,v,{vals:d,containerStr:"line",cLetter:"c"})):(d=L(v._length),r=[[0,v.line.color],[1,v.line.color]]),i({lineColor:d,cscale:r})};function L(T){for(var v=new Array(T),d=0;d<T;d++)v[d]=.5;return v}},30140:function(tt){tt.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(tt,U,t){var E=t(3400),S=t(94288).hasColorscale,i=t(27260),L=t(86968).Q,T=t(51272),v=t(54460),d=t(82296),r=t(71864),e=t(30140).maxDimensionCount,l=t(26284);function n(o,f,b,h,_){var a=_("line.color",b);if(S(o,"line")&&E.isArrayOrTypedArray(a)){if(a.length)return _("line.colorscale"),i(o,f,h,_,{prefix:"line.",cLetter:"c"}),a.length;f.line.color=b}return 1/0}function s(o,f,b,h){function _(k,y){return E.coerce(o,f,d.dimensions,k,y)}var a=_("values"),c=_("visible");if(a&&a.length||(c=f.visible=!1),c){_("label"),_("tickvals"),_("ticktext"),_("tickformat");var p=_("range");f._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},v.setConvert(f._ax,h.layout),_("multiselect");var x=_("constraintrange");x&&(f.constraintrange=r.cleanRanges(x,f))}}tt.exports=function(o,f,b,h){function _(k,y){return E.coerce(o,f,d,k,y)}var a=o.dimensions;Array.isArray(a)&&a.length>e&&(E.log("parcoords traces support up to "+e+" dimensions at the moment"),a.splice(e));var c=T(o,f,{name:"dimensions",layout:h,handleItemDefaults:s}),p=n(o,f,b,h,_);L(f,h,_),(!Array.isArray(c)||!c.length)&&(f.visible=!1),l(f,c,"values",p);var x={weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:Math.round(h.font.size/1.2),color:h.font.color};E.coerceFont(_,"labelfont",x),E.coerceFont(_,"tickfont",x),E.coerceFont(_,"rangefont",x),_("labelangle"),_("labelside"),_("unselected.line.color"),_("unselected.line.opacity")}},95724:function(tt,U,t){var E=t(3400).isTypedArray;U.convertTypedArray=function(S){return E(S)?Array.prototype.slice.call(S):S},U.isOrdinal=function(S){return!!S.tickvals},U.isVisible=function(S){return S.visible||!("visible"in S)}},29928:function(tt,U,t){var E=t(61664);E.plot=t(24196),tt.exports=E},51352:function(tt,U,t){var E=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),S=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),i=t(30140).maxDimensionCount,L=t(3400),T=1e-6,v=2048,d=new Uint8Array(4),r=new Uint8Array(4),e={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function l(A){A.read({x:0,y:0,width:1,height:1,data:d})}function n(A,C,u,m,M){var w=A._gl;w.enable(w.SCISSOR_TEST),w.scissor(C,u,m,M),A.clear({color:[0,0,0,0],depth:1})}function s(A,C,u,m,M,w){var z=w.key;function O(D){var P=Math.min(m,M-D*m);D===0&&(window.cancelAnimationFrame(u.currentRafs[z]),delete u.currentRafs[z],n(A,w.scissorX,w.scissorY,w.scissorWidth,w.viewBoxSize[1])),!u.clearOnly&&(w.count=2*P,w.offset=2*D*m,C(w),D*m+P<M&&(u.currentRafs[z]=window.requestAnimationFrame(function(){O(D+1)})),u.drawCompleted=!1)}u.drawCompleted||(l(A),u.drawCompleted=!0),O(0)}function o(A){return Math.max(T,Math.min(1-T,A))}function f(A,C){for(var u=new Array(256),m=0;m<256;m++)u[m]=A(m/255).concat(C);return u}function b(A,C){return(A>>>8*C)%256/255}function h(A,C,u){for(var m=new Array(A*(i+4)),M=0,w=0;w<A;w++){for(var z=0;z<i;z++)m[M++]=z<C.length?C[z].paddedUnitValues[w]:.5;m[M++]=b(w,2),m[M++]=b(w,1),m[M++]=b(w,0),m[M++]=o(u[w])}return m}function _(A,C,u){for(var m=new Array(C*8),M=0,w=0;w<C;w++)for(var z=0;z<2;z++)for(var O=0;O<4;O++){var D=A*4+O,P=u[w*64+D];D===63&&z===0&&(P*=-1),m[M++]=P}return m}function a(A){var C="0"+A;return C.substr(C.length-2)}function c(A){return A<i?"p"+a(A+1)+"_"+a(A+4):"colors"}function p(A,C,u){for(var m=0;m<=i;m+=4)A[c(m)](_(m/4,C,u))}function x(A){for(var C={},u=0;u<=i;u+=4)C[c(u)]=A.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return C}function k(A,C,u,m,M,w,z,O,D,P,F,R,N,B){for(var q=[[],[]],V=0;V<64;V++)q[0][V]=V===M?1:0,q[1][V]=V===w?1:0;z*=B,O*=B,D*=B,P*=B;var J=A.lines.canvasOverdrag*B,it=A.domain,nt=A.canvasWidth*B,Y=A.canvasHeight*B,Z=A.pad.l*B,$=A.pad.b*B,G=A.layoutHeight*B,rt=A.layoutWidth*B,ot=A.deselectedLines.color,W=A.deselectedLines.opacity,H=L.extendFlat({key:F,resolution:[nt,Y],viewBoxPos:[z+J,O],viewBoxSize:[D,P],i0:M,i1:w,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:R,contextColor:[ot[0]/255,ot[1]/255,ot[2]/255,W!=="auto"?ot[3]*W:Math.max(1/255,Math.pow(1/A.lines.color.length,1/3))],scissorX:(m===C?0:z+J)+(Z-J)+rt*it.x[0],scissorWidth:(m===u?nt-z+J:D+.5)+(m===C?z+J:0),scissorY:O+$+G*it.y[0],scissorHeight:P,viewportX:Z-J+rt*it.x[0],viewportY:$+G*it.y[0],viewportWidth:nt,viewportHeight:Y},N);return H}function y(A){var C=v-1,u=Math.max(0,Math.floor(A[0]*C),0),m=Math.min(C,Math.ceil(A[1]*C),C);return[Math.min(u,m),Math.max(u,m)]}tt.exports=function(A,C){var u=C.context,m=C.pick,M=C.regl,w=M._gl,z=w.getParameter(w.ALIASED_LINE_WIDTH_RANGE),O=Math.max(z[0],Math.min(z[1],C.viewModel.plotGlPixelRatio)),D={currentRafs:{},drawCompleted:!0,clearOnly:!1},P,F,R,N,B=x(M),q,V=M.texture(e),J=[];nt(C);var it=M({profile:!1,blend:{enable:u,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!u,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:M.prop("scissorX"),y:M.prop("scissorY"),width:M.prop("scissorWidth"),height:M.prop("scissorHeight")}},viewport:{x:M.prop("viewportX"),y:M.prop("viewportY"),width:M.prop("viewportWidth"),height:M.prop("viewportHeight")},dither:!1,vert:E,frag:S,primitive:"lines",lineWidth:O,attributes:B,uniforms:{resolution:M.prop("resolution"),viewBoxPos:M.prop("viewBoxPos"),viewBoxSize:M.prop("viewBoxSize"),dim0A:M.prop("dim0A"),dim1A:M.prop("dim1A"),dim0B:M.prop("dim0B"),dim1B:M.prop("dim1B"),dim0C:M.prop("dim0C"),dim1C:M.prop("dim1C"),dim0D:M.prop("dim0D"),dim1D:M.prop("dim1D"),loA:M.prop("loA"),hiA:M.prop("hiA"),loB:M.prop("loB"),hiB:M.prop("hiB"),loC:M.prop("loC"),hiC:M.prop("hiC"),loD:M.prop("loD"),hiD:M.prop("hiD"),palette:V,contextColor:M.prop("contextColor"),maskTexture:M.prop("maskTexture"),drwLayer:M.prop("drwLayer"),maskHeight:M.prop("maskHeight")},offset:M.prop("offset"),count:M.prop("count")});function nt(ot){P=ot.model,F=ot.viewModel,R=F.dimensions.slice(),N=R[0]?R[0].values.length:0;var W=P.lines,H=m?W.color.map(function(Q,ct){return ct/W.color.length}):W.color,at=h(N,R,H);p(B,N,at),!u&&!m&&(V=M.texture(L.extendFlat({data:f(P.unitToColor,255)},e)))}function Y(ot){var W,H,at,Q=[[],[]];for(at=0;at<64;at++){var ct=!ot&&at<R.length?R[at].brush.filter.getBounds():[-1/0,1/0];Q[0][at]=ct[0],Q[1][at]=ct[1]}var ft=v*8,yt=new Array(ft);for(W=0;W<ft;W++)yt[W]=255;if(!ot)for(W=0;W<R.length;W++){var xt=W%8,Lt=(W-xt)/8,gt=Math.pow(2,xt),mt=R[W],vt=mt.brush.filter.get();if(!(vt.length<2)){var At=y(vt[0])[1];for(H=1;H<vt.length;H++){var Ot=y(vt[H]);for(at=At+1;at<Ot[0];at++)yt[at*8+Lt]&=~gt;At=Math.max(At,Ot[1])}}}var Pt={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:yt};return q?q(Pt):q=M.texture(Pt),{maskTexture:q,maskHeight:v,loA:Q[0].slice(0,16),loB:Q[0].slice(16,32),loC:Q[0].slice(32,48),loD:Q[0].slice(48,64),hiA:Q[1].slice(0,16),hiB:Q[1].slice(16,32),hiC:Q[1].slice(32,48),hiD:Q[1].slice(48,64)}}function Z(ot,W,H){var at=ot.length,Q,ct,ft,yt=1/0,xt=-1/0;for(Q=0;Q<at;Q++)ot[Q].dim0.canvasX<yt&&(yt=ot[Q].dim0.canvasX,ct=Q),ot[Q].dim1.canvasX>xt&&(xt=ot[Q].dim1.canvasX,ft=Q);at===0&&n(M,0,0,P.canvasWidth,P.canvasHeight);var Lt=Y(u);for(Q=0;Q<at;Q++){var gt=ot[Q],mt=gt.dim0.crossfilterDimensionIndex,vt=gt.dim1.crossfilterDimensionIndex,At=gt.canvasX,Ot=gt.canvasY,Pt=At+gt.panelSizeX,Et=gt.plotGlPixelRatio;if(W||!J[mt]||J[mt][0]!==At||J[mt][1]!==Pt){J[mt]=[At,Pt];var Nt=k(P,ct,ft,Q,mt,vt,At,Ot,gt.panelSizeX,gt.panelSizeY,gt.dim0.crossfilterDimensionIndex,u?0:m?2:1,Lt,Et);D.clearOnly=H;var ne=W?P.lines.blockLineCount:N;s(M,it,D,ne,N,Nt)}}}function $(ot,W){return M.read({x:ot,y:W,width:1,height:1,data:r}),r}function G(ot,W,H,at){var Q=new Uint8Array(4*H*at);return M.read({x:ot,y:W,width:H,height:at,data:Q}),Q}function rt(){A.style["pointer-events"]="none",V.destroy(),q&&q.destroy();for(var ot in B)B[ot].destroy()}return{render:Z,readPixel:$,readPixels:G,destroy:rt,update:nt}}},26284:function(tt){tt.exports=function(U,t,E,S){S||(S=1/0);var i,L;for(i=0;i<t.length;i++)L=t[i],L.visible&&(S=Math.min(S,L[E].length));for(S===1/0&&(S=0),U._length=S,i=0;i<t.length;i++)L=t[i],L.visible&&(L._length=S);return S}},36336:function(tt,U,t){var E=t(33428),S=t(3400),i=S.isArrayOrTypedArray,L=S.numberFormat,T=t(96824),v=t(54460),d=S.strRotate,r=S.strTranslate,e=t(72736),l=t(43616),n=t(8932),s=t(71688),o=s.keyFun,f=s.repeat,b=s.unwrap,h=t(95724),_=t(30140),a=t(71864),c=t(51352);function p(J,it,nt){return S.aggNums(J,null,it,nt)}function x(J,it){return y(p(Math.min,J,it),p(Math.max,J,it))}function k(J){var it=J.range;return it?y(it[0],it[1]):x(J.values,J._length)}function y(J,it){return(isNaN(J)||!isFinite(J))&&(J=0),(isNaN(it)||!isFinite(it))&&(it=0),J===it&&(J===0?(J-=1,it+=1):(J*=.9,it*=1.1)),[J,it]}function A(J,it){return it?function(nt,Y){var Z=it[Y];return Z??J(nt)}:J}function C(J,it,nt,Y,Z){var $=k(nt);return Y?E.scale.ordinal().domain(Y.map(A(L(nt.tickformat),Z))).range(Y.map(function(G){var rt=(G-$[0])/($[1]-$[0]);return J-it+rt*(2*it-J)})):E.scale.linear().domain($).range([J-it,it])}function u(J,it){return E.scale.linear().range([it,J-it])}function m(J,it){return E.scale.linear().domain(k(J)).range([it,1-it])}function M(J){if(J.tickvals){var it=k(J);return E.scale.ordinal().domain(J.tickvals).range(J.tickvals.map(function(nt){return(nt-it[0])/(it[1]-it[0])}))}}function w(J){var it=J.map(function($){return $[0]}),nt=J.map(function($){var G=T($[1]);return E.rgb("rgb("+G[0]+","+G[1]+","+G[2]+")")}),Y=function($){return function(G){return G[$]}},Z="rgb".split("").map(function($){return E.scale.linear().clamp(!0).domain(it).range(nt.map(Y($)))});return function($){return Z.map(function(G){return G($)})}}function z(J){return J.dimensions.some(function(it){return it.brush.filterSpecified})}function O(J,it,nt){var Y=b(it),Z=Y.trace,$=h.convertTypedArray(Y.lineColor),G=Z.line,rt={color:T(Z.unselected.line.color),opacity:Z.unselected.line.opacity},ot=n.extractOpts(G),W=ot.reversescale?n.flipScale(Y.cscale):Y.cscale,H=Z.domain,at=Z.dimensions,Q=J.width,ct=Z.labelangle,ft=Z.labelside,yt=Z.labelfont,xt=Z.tickfont,Lt=Z.rangefont,gt=S.extendDeepNoArrays({},G,{color:$.map(E.scale.linear().domain(k({values:$,range:[ot.min,ot.max],_length:Z._length}))),blockLineCount:_.blockLineCount,canvasOverdrag:_.overdrag*_.canvasPixelRatio}),mt=Math.floor(Q*(H.x[1]-H.x[0])),vt=Math.floor(J.height*(H.y[1]-H.y[0])),At=J.margin||{l:80,r:80,t:100,b:80},Ot=mt,Pt=vt;return{key:nt,colCount:at.filter(h.isVisible).length,dimensions:at,tickDistance:_.tickDistance,unitToColor:w(W),lines:gt,deselectedLines:rt,labelAngle:ct,labelSide:ft,labelFont:yt,tickFont:xt,rangeFont:Lt,layoutWidth:Q,layoutHeight:J.height,domain:H,translateX:H.x[0]*Q,translateY:J.height-H.y[1]*J.height,pad:At,canvasWidth:Ot*_.canvasPixelRatio+2*gt.canvasOverdrag,canvasHeight:Pt*_.canvasPixelRatio,width:Ot,height:Pt,canvasPixelRatio:_.canvasPixelRatio}}function D(J,it,nt){var Y=nt.width,Z=nt.height,$=nt.dimensions,G=nt.canvasPixelRatio,rt=function(Q){return Y*Q/Math.max(1,nt.colCount-1)},ot=_.verticalPadding/Z,W=u(Z,_.verticalPadding),H={key:nt.key,xScale:rt,model:nt,inBrushDrag:!1},at={};return H.dimensions=$.filter(h.isVisible).map(function(Q,ct){var ft=m(Q,ot),yt=at[Q.label];at[Q.label]=(yt||0)+1;var xt=Q.label+(yt?"__"+yt:""),Lt=Q.constraintrange,gt=Lt&&Lt.length;gt&&!i(Lt[0])&&(Lt=[Lt]);var mt=gt?Lt.map(function(Vt){return Vt.map(ft)}):[[-1/0,1/0]],vt=function(){var Vt=H;Vt.focusLayer&&Vt.focusLayer.render(Vt.panels,!0);var ae=z(Vt);!J.contextShown()&&ae?(Vt.contextLayer&&Vt.contextLayer.render(Vt.panels,!0),J.contextShown(!0)):J.contextShown()&&!ae&&(Vt.contextLayer&&Vt.contextLayer.render(Vt.panels,!0,!0),J.contextShown(!1))},At=Q.values;At.length>Q._length&&(At=At.slice(0,Q._length));var Ot=Q.tickvals,Pt;function Et(Vt,ae){return{val:Vt,text:Pt[ae]}}function Nt(Vt,ae){return Vt.val-ae.val}if(i(Ot)&&Ot.length){S.isTypedArray(Ot)&&(Ot=Array.from(Ot)),Pt=Q.ticktext,!i(Pt)||!Pt.length?Pt=Ot.map(L(Q.tickformat)):Pt.length>Ot.length?Pt=Pt.slice(0,Ot.length):Ot.length>Pt.length&&(Ot=Ot.slice(0,Pt.length));for(var ne=1;ne<Ot.length;ne++)if(Ot[ne]<Ot[ne-1]){for(var Gt=Ot.map(Et).sort(Nt),pe=0;pe<Ot.length;pe++)Ot[pe]=Gt[pe].val,Pt[pe]=Gt[pe].text;break}}else Ot=void 0;return At=h.convertTypedArray(At),{key:xt,label:Q.label,tickFormat:Q.tickformat,tickvals:Ot,ticktext:Pt,ordinal:h.isOrdinal(Q),multiselect:Q.multiselect,xIndex:ct,crossfilterDimensionIndex:ct,visibleIndex:Q._index,height:Z,values:At,paddedUnitValues:At.map(ft),unitTickvals:Ot&&Ot.map(ft),xScale:rt,x:rt(ct),canvasX:rt(ct)*G,unitToPaddedPx:W,domainScale:C(Z,_.verticalPadding,Q,Ot,Pt),ordinalScale:M(Q),parent:H,model:nt,brush:a.makeBrush(J,gt,mt,function(){J.linePickActive(!1)},vt,function(Vt){if(H.focusLayer.render(H.panels,!0),H.pickLayer&&H.pickLayer.render(H.panels,!0),J.linePickActive(!0),it&&it.filterChanged){var ae=ft.invert,oe=Vt.map(function(ce){return ce.map(ae).sort(S.sorterAsc)}).sort(function(ce,le){return ce[0]-le[0]});it.filterChanged(H.key,Q._index,oe)}})}}),H}function P(J){J.classed(_.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var J=!0,it=!1;return{linePickActive:function(nt){return arguments.length?J=!!nt:J},contextShown:function(nt){return arguments.length?it=!!nt:it}}}function R(J,it){var nt=it==="top"?1:-1,Y=J*Math.PI/180,Z=Math.sin(Y),$=Math.cos(Y);return{dir:nt,dx:Z,dy:$,degrees:J}}function N(J,it,nt){for(var Y=it.panels||(it.panels=[]),Z=J.data(),$=0;$<Z.length-1;$++){var G=Y[$]||(Y[$]={}),rt=Z[$],ot=Z[$+1];G.dim0=rt,G.dim1=ot,G.canvasX=rt.canvasX,G.panelSizeX=ot.canvasX-rt.canvasX,G.panelSizeY=it.model.canvasHeight,G.y=0,G.canvasY=0,G.plotGlPixelRatio=nt}}function B(J){for(var it=0;it<J.length;it++)for(var nt=0;nt<J[it].length;nt++)for(var Y=J[it][nt].trace,Z=Y.dimensions,$=0;$<Z.length;$++){var G=Z[$].values,rt=Z[$]._ax;rt&&(rt.range?rt.range=y(rt.range[0],rt.range[1]):rt.range=x(G,Y._length),rt.dtick||(rt.dtick=.01*(Math.abs(rt.range[1]-rt.range[0])||1)),rt.tickformat=Z[$].tickformat,v.calcTicks(rt),rt.cleanRange())}}function q(J,it){return v.tickText(J._ax,it,!1).text}function V(J,it){if(J.ordinal)return"";var nt=J.domainScale.domain(),Y=nt[it?nt.length-1:0];return q(J.model.dimensions[J.visibleIndex],Y)}tt.exports=function(J,it,nt,Y){var Z=J._context.staticPlot,$=J._fullLayout,G=$._toppaper,rt=$._glcontainer,ot=J._context.plotGlPixelRatio,W=J._fullLayout.paper_bgcolor;B(it);var H=F(),at=it.filter(function(Gt){return b(Gt).trace.visible}).map(O.bind(0,nt)).map(D.bind(0,H,Y));rt.each(function(Gt,pe){return S.extendFlat(Gt,at[pe])});var Q=rt.selectAll(".gl-canvas").each(function(Gt){Gt.viewModel=at[0],Gt.viewModel.plotGlPixelRatio=ot,Gt.viewModel.paperColor=W,Gt.model=Gt.viewModel?Gt.viewModel.model:null}),ct=null,ft=Q.filter(function(Gt){return Gt.pick});ft.style("pointer-events",Z?"none":"auto").on("mousemove",function(Gt){if(H.linePickActive()&&Gt.lineLayer&&Y&&Y.hover){var pe=E.event,Vt=this.width,ae=this.height,oe=E.mouse(this),ce=oe[0],le=oe[1];if(ce<0||le<0||ce>=Vt||le>=ae)return;var ye=Gt.lineLayer.readPixel(ce,ae-1-le),Tt=ye[3]!==0,Ft=Tt?ye[2]+256*(ye[1]+256*ye[0]):null,$t={x:ce,y:le,clientX:pe.clientX,clientY:pe.clientY,dataIndex:Gt.model.key,curveNumber:Ft};Ft!==ct&&(Tt?Y.hover($t):Y.unhover&&Y.unhover($t),ct=Ft)}}),Q.style("opacity",function(Gt){return Gt.pick?0:1}),G.style("background","rgba(255, 255, 255, 0)");var yt=G.selectAll("."+_.cn.parcoords).data(at,o);yt.exit().remove(),yt.enter().append("g").classed(_.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),yt.attr("transform",function(Gt){return r(Gt.model.translateX,Gt.model.translateY)});var xt=yt.selectAll("."+_.cn.parcoordsControlView).data(f,o);xt.enter().append("g").classed(_.cn.parcoordsControlView,!0),xt.attr("transform",function(Gt){return r(Gt.model.pad.l,Gt.model.pad.t)});var Lt=xt.selectAll("."+_.cn.yAxis).data(function(Gt){return Gt.dimensions},o);Lt.enter().append("g").classed(_.cn.yAxis,!0),xt.each(function(Gt){N(Lt,Gt,ot)}),Q.each(function(Gt){if(Gt.viewModel){!Gt.lineLayer||Y?Gt.lineLayer=c(this,Gt):Gt.lineLayer.update(Gt),(Gt.key||Gt.key===0)&&(Gt.viewModel[Gt.key]=Gt.lineLayer);var pe=!Gt.context||Y;Gt.lineLayer.render(Gt.viewModel.panels,pe)}}),Lt.attr("transform",function(Gt){return r(Gt.xScale(Gt.xIndex),0)}),Lt.call(E.behavior.drag().origin(function(Gt){return Gt}).on("drag",function(Gt){var pe=Gt.parent;H.linePickActive(!1),Gt.x=Math.max(-_.overdrag,Math.min(Gt.model.width+_.overdrag,E.event.x)),Gt.canvasX=Gt.x*Gt.model.canvasPixelRatio,Lt.sort(function(Vt,ae){return Vt.x-ae.x}).each(function(Vt,ae){Vt.xIndex=ae,Vt.x=Gt===Vt?Vt.x:Vt.xScale(Vt.xIndex),Vt.canvasX=Vt.x*Vt.model.canvasPixelRatio}),N(Lt,pe,ot),Lt.filter(function(Vt){return Math.abs(Gt.xIndex-Vt.xIndex)!==0}).attr("transform",function(Vt){return r(Vt.xScale(Vt.xIndex),0)}),E.select(this).attr("transform",r(Gt.x,0)),Lt.each(function(Vt,ae,oe){oe===Gt.parent.key&&(pe.dimensions[ae]=Vt)}),pe.contextLayer&&pe.contextLayer.render(pe.panels,!1,!z(pe)),pe.focusLayer.render&&pe.focusLayer.render(pe.panels)}).on("dragend",function(Gt){var pe=Gt.parent;Gt.x=Gt.xScale(Gt.xIndex),Gt.canvasX=Gt.x*Gt.model.canvasPixelRatio,N(Lt,pe,ot),E.select(this).attr("transform",function(Vt){return r(Vt.x,0)}),pe.contextLayer&&pe.contextLayer.render(pe.panels,!1,!z(pe)),pe.focusLayer&&pe.focusLayer.render(pe.panels),pe.pickLayer&&pe.pickLayer.render(pe.panels,!0),H.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(pe.key,pe.dimensions.map(function(Vt){return Vt.crossfilterDimensionIndex}))})),Lt.exit().remove();var gt=Lt.selectAll("."+_.cn.axisOverlays).data(f,o);gt.enter().append("g").classed(_.cn.axisOverlays,!0),gt.selectAll("."+_.cn.axis).remove();var mt=gt.selectAll("."+_.cn.axis).data(f,o);mt.enter().append("g").classed(_.cn.axis,!0),mt.each(function(Gt){var pe=Gt.model.height/Gt.model.tickDistance,Vt=Gt.domainScale,ae=Vt.domain();E.select(this).call(E.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(pe,Gt.tickFormat).tickValues(Gt.ordinal?ae:null).tickFormat(function(oe){return h.isOrdinal(Gt)?oe:q(Gt.model.dimensions[Gt.visibleIndex],oe)}).scale(Vt)),l.font(mt.selectAll("text"),Gt.model.tickFont)}),mt.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),mt.selectAll("text").style("text-shadow",e.makeTextShadow(W)).style("cursor","default");var vt=gt.selectAll("."+_.cn.axisHeading).data(f,o);vt.enter().append("g").classed(_.cn.axisHeading,!0);var At=vt.selectAll("."+_.cn.axisTitle).data(f,o);At.enter().append("text").classed(_.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Z?"none":"auto"),At.text(function(Gt){return Gt.label}).each(function(Gt){var pe=E.select(this);l.font(pe,Gt.model.labelFont),e.convertToTspans(pe,J)}).attr("transform",function(Gt){var pe=R(Gt.model.labelAngle,Gt.model.labelSide),Vt=_.axisTitleOffset;return(pe.dir>0?"":r(0,2*Vt+Gt.model.height))+d(pe.degrees)+r(-Vt*pe.dx,-Vt*pe.dy)}).attr("text-anchor",function(Gt){var pe=R(Gt.model.labelAngle,Gt.model.labelSide),Vt=Math.abs(pe.dx),ae=Math.abs(pe.dy);return 2*Vt>ae?pe.dir*pe.dx<0?"start":"end":"middle"});var Ot=gt.selectAll("."+_.cn.axisExtent).data(f,o);Ot.enter().append("g").classed(_.cn.axisExtent,!0);var Pt=Ot.selectAll("."+_.cn.axisExtentTop).data(f,o);Pt.enter().append("g").classed(_.cn.axisExtentTop,!0),Pt.attr("transform",r(0,-_.axisExtentOffset));var Et=Pt.selectAll("."+_.cn.axisExtentTopText).data(f,o);Et.enter().append("text").classed(_.cn.axisExtentTopText,!0).call(P),Et.text(function(Gt){return V(Gt,!0)}).each(function(Gt){l.font(E.select(this),Gt.model.rangeFont)});var Nt=Ot.selectAll("."+_.cn.axisExtentBottom).data(f,o);Nt.enter().append("g").classed(_.cn.axisExtentBottom,!0),Nt.attr("transform",function(Gt){return r(0,Gt.model.height+_.axisExtentOffset)});var ne=Nt.selectAll("."+_.cn.axisExtentBottomText).data(f,o);ne.enter().append("text").classed(_.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(P),ne.text(function(Gt){return V(Gt,!1)}).each(function(Gt){l.font(E.select(this),Gt.model.rangeFont)}),a.ensureAxisBrush(gt,W,J)}},24196:function(tt,U,t){var E=t(36336),S=t(5048),i=t(95724).isVisible,L={};function T(r,e,l){var n=e.indexOf(l),s=r.indexOf(n);return s===-1&&(s+=e.length),s}function v(r,e){return function(l,n){return T(r,e,l)-T(r,e,n)}}var d=tt.exports=function(r,e){var l=r._fullLayout,n=S(r,[],L);if(n){var s={},o={},f={},b={},h=l._size;e.forEach(function(x,k){var y=x[0].trace;f[k]=y.index;var A=b[k]=y._fullInput.index;s[k]=r.data[A].dimensions,o[k]=r.data[A].dimensions.slice()});var _=function(x,k,y){var A=o[x][k],C=y.map(function(O){return O.slice()}),u="dimensions["+k+"].constraintrange",m=l._tracePreGUI[r._fullData[f[x]]._fullInput.uid];if(m[u]===void 0){var M=A.constraintrange;m[u]=M||null}var w=r._fullData[f[x]].dimensions[k];C.length?(C.length===1&&(C=C[0]),A.constraintrange=C,w.constraintrange=C.slice(),C=[C]):(delete A.constraintrange,delete w.constraintrange,C=null);var z={};z[u]=C,r.emit("plotly_restyle",[z,[b[x]]])},a=function(x){r.emit("plotly_hover",x)},c=function(x){r.emit("plotly_unhover",x)},p=function(x,k){var y=v(k,o[x].filter(i));s[x].sort(y),o[x].filter(function(A){return!i(A)}).sort(function(A){return o[x].indexOf(A)}).forEach(function(A){s[x].splice(s[x].indexOf(A),1),s[x].splice(o[x].indexOf(A),0,A)}),r.emit("plotly_restyle",[{dimensions:[s[x]]},[b[x]]])};E(r,e,{width:h.w,height:h.h,margin:{t:h.t,r:h.r,b:h.b,l:h.l}},{filterChanged:_,hover:a,unhover:c,axesMoved:p})}};d.reglPrecompiled=L},74996:function(tt,U,t){var E=t(45464),S=t(86968).u,i=t(25376),L=t(22548),T=t(21776).Ks,v=t(21776).Gw,d=t(92880).extendFlat,r=t(98192).c,e=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});tt.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},e,{}),outsidetextfont:d({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:S({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},e,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(tt,U,t){var E=t(7316);U.name="pie",U.plot=function(S,i,L,T){E.plotBasePlot(U.name,S,i,L,T)},U.clean=function(S,i,L,T){E.cleanBasePlot(U.name,S,i,L,T)}},45768:function(tt,U,t){var E=t(38248),S=t(49760),i=t(76308),L={};function T(e,l){var n=[],s=e._fullLayout,o=s.hiddenlabels||[],f=l.labels,b=l.marker.colors||[],h=l.values,_=l._length,a=l._hasValues&&_,c,p;if(l.dlabel)for(f=new Array(_),c=0;c<_;c++)f[c]=String(l.label0+c*l.dlabel);var x={},k=v(s["_"+l.type+"colormap"]),y=0,A=!1;for(c=0;c<_;c++){var C,u,m;if(a){if(C=h[c],!E(C))continue;C=+C}else C=1;u=f[c],(u===void 0||u==="")&&(u=c),u=String(u);var M=x[u];M===void 0?(x[u]=n.length,m=o.indexOf(u)!==-1,m||(y+=C),n.push({v:C,label:u,color:k(b[c],u),i:c,pts:[c],hidden:m})):(A=!0,p=n[M],p.v+=C,p.pts.push(c),p.hidden||(y+=C),p.color===!1&&b[c]&&(p.color=k(b[c],u)))}n=n.filter(function(z){return z.v>=0});var w=l.type==="funnelarea"?A:l.sort;return w&&n.sort(function(z,O){return O.v-z.v}),n[0]&&(n[0].vTotal=y),n}function v(e){return function(l,n){return!l||(l=S(l),!l.isValid())?!1:(l=i.addOpacity(l,l.getAlpha()),e[n]||(e[n]=l),l)}}function d(e,l){var n=(l||{}).type;n||(n="pie");var s=e._fullLayout,o=e.calcdata,f=s[n+"colorway"],b=s["_"+n+"colormap"];s["extend"+n+"colors"]&&(f=r(f,L));for(var h=0,_=0;_<o.length;_++){var a=o[_],c=a[0].trace.type;if(c===n)for(var p=0;p<a.length;p++){var x=a[p];x.color===!1&&(b[x.label]?x.color=b[x.label]:(b[x.label]=x.color=f[h%f.length],h++))}}}function r(e,l){var n,s=JSON.stringify(e),o=l[s];if(!o){for(o=e.slice(),n=0;n<e.length;n++)o.push(S(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)o.push(S(e[n]).darken(20).toHexString());l[s]=o}return o}tt.exports={calc:T,crossTraceCalc:d,makePullColorFn:v,generateExtendedColors:r}},74174:function(tt,U,t){var E=t(38248),S=t(3400),i=t(74996),L=t(86968).Q,T=t(31508).handleText,v=t(3400).coercePattern;function d(l,n){var s=S.isArrayOrTypedArray(l),o=S.isArrayOrTypedArray(n),f=Math.min(s?l.length:1/0,o?n.length:1/0);if(isFinite(f)||(f=0),f&&o){for(var b,h=0;h<f;h++){var _=n[h];if(E(_)&&_>0){b=!0;break}}b||(f=0)}return{hasLabels:s,hasValues:o,len:f}}function r(l,n,s,o,f){var b=o("marker.line.width");b&&o("marker.line.color",f?void 0:s.paper_bgcolor);var h=o("marker.colors");v(o,"marker.pattern",h),l.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=l.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=s.paper_bgcolor)}function e(l,n,s,o){function f(M,w){return S.coerce(l,n,i,M,w)}var b=f("labels"),h=f("values"),_=d(b,h),a=_.len;if(n._hasLabels=_.hasLabels,n._hasValues=_.hasValues,!n._hasLabels&&n._hasValues&&(f("label0"),f("dlabel")),!a){n.visible=!1;return}n._length=a,r(l,n,o,f,!0),f("scalegroup");var c=f("text"),p=f("texttemplate"),x;if(p||(x=f("textinfo",S.isArrayOrTypedArray(c)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),p||x&&x!=="none"){var k=f("textposition");T(l,n,o,f,k,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var y=Array.isArray(k)||k==="auto",A=y||k==="outside";A&&f("automargin"),(k==="inside"||k==="auto"||Array.isArray(k))&&f("insidetextorientation")}else x==="none"&&f("textposition","none");L(n,o,f);var C=f("hole"),u=f("title.text");if(u){var m=f("title.position",C?"middle center":"top center");!C&&m==="middle center"&&(n.title.position="top center"),S.coerceFont(f,"title.font",o.font)}f("sort"),f("direction"),f("rotation"),f("pull")}tt.exports={handleLabelsAndValues:d,handleMarkerDefaults:r,supplyDefaults:e}},53644:function(tt,U,t){var E=t(10624).appendArrayMultiPointValues;tt.exports=function(S,i){var L={curveNumber:i.index,pointNumbers:S.pts,data:i._input,fullData:i,label:S.label,color:S.color,value:S.v,percent:S.percent,text:S.text,bbox:S.bbox,v:S.v};return S.pts.length===1&&(L.pointNumber=L.i=S.pts[0]),E(L,i,S.pts),i.type==="funnelarea"&&(delete L.v,delete L.i),L}},21552:function(tt,U,t){var E=t(43616),S=t(76308);tt.exports=function(i,L,T,v){var d=T.marker.pattern;d&&d.shape?E.pointStyle(i,T,v,L):S.fill(i,L.color)}},69656:function(tt,U,t){var E=t(3400);function S(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}U.formatPiePercent=function(i,L){var T=S((i*100).toPrecision(3));return E.numSeparate(T,L)+"%"},U.formatPieValue=function(i,L){var T=S(i.toPrecision(10));return E.numSeparate(T,L)},U.getFirstFilled=function(i,L){if(E.isArrayOrTypedArray(i))for(var T=0;T<L.length;T++){var v=i[L[T]];if(v||v===0||v==="")return v}},U.castOption=function(i,L){if(E.isArrayOrTypedArray(i))return U.getFirstFilled(i,L);if(i)return i},U.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},75792:function(tt,U,t){tt.exports={attributes:t(74996),supplyDefaults:t(74174).supplyDefaults,supplyLayoutDefaults:t(90248),layoutAttributes:t(85204),calc:t(45768).calc,crossTraceCalc:t(45768).crossTraceCalc,plot:t(37820).plot,style:t(22152),styleOne:t(10528),moduleType:"trace",name:"pie",basePlotModule:t(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(tt){tt.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(tt,U,t){var E=t(3400),S=t(85204);tt.exports=function(i,L){function T(v,d){return E.coerce(i,L,S,v,d)}T("hiddenlabels"),T("piecolorway",L.colorway),T("extendpiecolors")}},37820:function(tt,U,t){var E=t(33428),S=t(7316),i=t(93024),L=t(76308),T=t(43616),v=t(3400),d=v.strScale,r=v.strTranslate,e=t(72736),l=t(82744),n=l.recordMinTextSize,s=l.clearMinTextSize,o=t(78048).TEXTPAD,f=t(69656),b=t(53644),h=t(3400).isValidTextValue;function _(Z,$){var G=Z._context.staticPlot,rt=Z._fullLayout,ot=rt._size;s("pie",rt),k($,Z),q($,ot);var W=v.makeTraceGroups(rt._pielayer,$,"trace").each(function(H){var at=E.select(this),Q=H[0],ct=Q.trace;J(H),at.attr("stroke-linejoin","round"),at.each(function(){var ft=E.select(this).selectAll("g.slice").data(H);ft.enter().append("g").classed("slice",!0),ft.exit().remove();var yt=[[[],[]],[[],[]]],xt=!1;ft.each(function(Et,Nt){if(Et.hidden){E.select(this).selectAll("path,g").remove();return}Et.pointNumber=Et.i,Et.curveNumber=ct.index,yt[Et.pxmid[1]<0?0:1][Et.pxmid[0]<0?0:1].push(Et);var ne=Q.cx,Gt=Q.cy,pe=E.select(this),Vt=pe.selectAll("path.surface").data([Et]);if(Vt.enter().append("path").classed("surface",!0).style({"pointer-events":G?"none":"all"}),pe.call(c,Z,H),ct.pull){var ae=+f.castOption(ct.pull,Et.pts)||0;ae>0&&(ne+=ae*Et.pxmid[0],Gt+=ae*Et.pxmid[1])}Et.cxFinal=ne,Et.cyFinal=Gt;function oe(Wt,Bt,Mt,St){var Dt=St*(Bt[0]-Wt[0]),dt=St*(Bt[1]-Wt[1]);return"a"+St*Q.r+","+St*Q.r+" 0 "+Et.largeArc+(Mt?" 1 ":" 0 ")+Dt+","+dt}var ce=ct.hole;if(Et.v===Q.vTotal){var le="M"+(ne+Et.px0[0])+","+(Gt+Et.px0[1])+oe(Et.px0,Et.pxmid,!0,1)+oe(Et.pxmid,Et.px0,!0,1)+"Z";ce?Vt.attr("d","M"+(ne+ce*Et.px0[0])+","+(Gt+ce*Et.px0[1])+oe(Et.px0,Et.pxmid,!1,ce)+oe(Et.pxmid,Et.px0,!1,ce)+"Z"+le):Vt.attr("d",le)}else{var ye=oe(Et.px0,Et.px1,!0,1);if(ce){var Tt=1-ce;Vt.attr("d","M"+(ne+ce*Et.px1[0])+","+(Gt+ce*Et.px1[1])+oe(Et.px1,Et.px0,!1,ce)+"l"+Tt*Et.px0[0]+","+Tt*Et.px0[1]+ye+"Z")}else Vt.attr("d","M"+ne+","+Gt+"l"+Et.px0[0]+","+Et.px0[1]+ye+"Z")}nt(Z,Et,Q);var Ft=f.castOption(ct.textposition,Et.pts),$t=pe.selectAll("g.slicetext").data(Et.text&&Ft!=="none"?[0]:[]);$t.enter().append("g").classed("slicetext",!0),$t.exit().remove(),$t.each(function(){var Wt=v.ensureSingle(E.select(this),"text","",function(zt){zt.attr("data-notex",1)}),Bt=v.ensureUniformFontSize(Z,Ft==="outside"?p(ct,Et,rt.font):x(ct,Et,rt.font));Wt.text(Et.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,Bt).call(e.convertToTspans,Z);var Mt=T.bBox(Wt.node()),St;if(Ft==="outside")St=O(Mt,Et);else if(St=y(Mt,Et,Q),Ft==="auto"&&St.scale<1){var Dt=v.ensureUniformFontSize(Z,ct.outsidetextfont);Wt.call(T.font,Dt),Mt=T.bBox(Wt.node()),St=O(Mt,Et)}var dt=St.textPosAngle,ht=dt===void 0?Et.pxmid:it(Q.r,dt);if(St.targetX=ne+ht[0]*St.rCenter+(St.x||0),St.targetY=Gt+ht[1]*St.rCenter+(St.y||0),Y(St,Mt),St.outside){var bt=St.targetY;Et.yLabelMin=bt-Mt.height/2,Et.yLabelMid=bt,Et.yLabelMax=bt+Mt.height/2,Et.labelExtraX=0,Et.labelExtraY=0,xt=!0}St.fontSize=Bt.size,n(ct.type,St,rt),H[Nt].transform=St,v.setTransormAndDisplay(Wt,St)})});var Lt=E.select(this).selectAll("g.titletext").data(ct.title.text?[0]:[]);if(Lt.enter().append("g").classed("titletext",!0),Lt.exit().remove(),Lt.each(function(){var Et=v.ensureSingle(E.select(this),"text","",function(Gt){Gt.attr("data-notex",1)}),Nt=ct.title.text;ct._meta&&(Nt=v.templateString(Nt,ct._meta)),Et.text(Nt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,ct.title.font).call(e.convertToTspans,Z);var ne;ct.title.position==="middle center"?ne=D(Q):ne=P(Q,ot),Et.attr("transform",r(ne.x,ne.y)+d(Math.min(1,ne.scale))+r(ne.tx,ne.ty))}),xt&&B(yt,ct),a(ft,ct),xt&&ct.automargin){var gt=T.bBox(at.node()),mt=ct.domain,vt=ot.w*(mt.x[1]-mt.x[0]),At=ot.h*(mt.y[1]-mt.y[0]),Ot=(.5*vt-Q.r)/ot.w,Pt=(.5*At-Q.r)/ot.h;S.autoMargin(Z,"pie."+ct.uid+".automargin",{xl:mt.x[0]-Ot,xr:mt.x[1]+Ot,yb:mt.y[0]-Pt,yt:mt.y[1]+Pt,l:Math.max(Q.cx-Q.r-gt.left,0),r:Math.max(gt.right-(Q.cx+Q.r),0),b:Math.max(gt.bottom-(Q.cy+Q.r),0),t:Math.max(Q.cy-Q.r-gt.top,0),pad:5})}})});setTimeout(function(){W.selectAll("tspan").each(function(){var H=E.select(this);H.attr("dy")&&H.attr("dy",H.attr("dy"))})},0)}function a(Z,$){Z.each(function(G){var rt=E.select(this);if(!G.labelExtraX&&!G.labelExtraY){rt.select("path.textline").remove();return}var ot=rt.select("g.slicetext text");G.transform.targetX+=G.labelExtraX,G.transform.targetY+=G.labelExtraY,v.setTransormAndDisplay(ot,G.transform);var W=G.cxFinal+G.pxmid[0],H=G.cyFinal+G.pxmid[1],at="M"+W+","+H,Q=(G.yLabelMax-G.yLabelMin)*(G.pxmid[0]<0?-1:1)/4;if(G.labelExtraX){var ct=G.labelExtraX*G.pxmid[1]/G.pxmid[0],ft=G.yLabelMid+G.labelExtraY-(G.cyFinal+G.pxmid[1]);Math.abs(ct)>Math.abs(ft)?at+="l"+ft*G.pxmid[0]/G.pxmid[1]+","+ft+"H"+(W+G.labelExtraX+Q):at+="l"+G.labelExtraX+","+ct+"v"+(ft-ct)+"h"+Q}else at+="V"+(G.yLabelMid+G.labelExtraY)+"h"+Q;v.ensureSingle(rt,"path","textline").call(L.stroke,$.outsidetextfont.color).attr({"stroke-width":Math.min(2,$.outsidetextfont.size/8),d:at,fill:"none"})})}function c(Z,$,G){var rt=G[0],ot=rt.cx,W=rt.cy,H=rt.trace,at=H.type==="funnelarea";"_hasHoverLabel"in H||(H._hasHoverLabel=!1),"_hasHoverEvent"in H||(H._hasHoverEvent=!1),Z.on("mouseover",function(Q){var ct=$._fullLayout,ft=$._fullData[H.index];if(!($._dragging||ct.hovermode===!1)){var yt=ft.hoverinfo;if(Array.isArray(yt)&&(yt=i.castHoverinfo({hoverinfo:[f.castOption(yt,Q.pts)],_module:H._module},ct,0)),yt==="all"&&(yt="label+text+value+percent+name"),ft.hovertemplate||yt!=="none"&&yt!=="skip"&&yt){var xt=Q.rInscribed||0,Lt=ot+Q.pxmid[0]*(1-xt),gt=W+Q.pxmid[1]*(1-xt),mt=ct.separators,vt=[];if(yt&&yt.indexOf("label")!==-1&&vt.push(Q.label),Q.text=f.castOption(ft.hovertext||ft.text,Q.pts),yt&&yt.indexOf("text")!==-1){var At=Q.text;v.isValidTextValue(At)&&vt.push(At)}Q.value=Q.v,Q.valueLabel=f.formatPieValue(Q.v,mt),yt&&yt.indexOf("value")!==-1&&vt.push(Q.valueLabel),Q.percent=Q.v/rt.vTotal,Q.percentLabel=f.formatPiePercent(Q.percent,mt),yt&&yt.indexOf("percent")!==-1&&vt.push(Q.percentLabel);var Ot=ft.hoverlabel,Pt=Ot.font,Et=[];i.loneHover({trace:H,x0:Lt-xt*rt.r,x1:Lt+xt*rt.r,y:gt,_x0:at?ot+Q.TL[0]:Lt-xt*rt.r,_x1:at?ot+Q.TR[0]:Lt+xt*rt.r,_y0:at?W+Q.TL[1]:gt-xt*rt.r,_y1:at?W+Q.BL[1]:gt+xt*rt.r,text:vt.join("<br>"),name:ft.hovertemplate||yt.indexOf("name")!==-1?ft.name:void 0,idealAlign:Q.pxmid[0]<0?"left":"right",color:f.castOption(Ot.bgcolor,Q.pts)||Q.color,borderColor:f.castOption(Ot.bordercolor,Q.pts),fontFamily:f.castOption(Pt.family,Q.pts),fontSize:f.castOption(Pt.size,Q.pts),fontColor:f.castOption(Pt.color,Q.pts),nameLength:f.castOption(Ot.namelength,Q.pts),textAlign:f.castOption(Ot.align,Q.pts),hovertemplate:f.castOption(ft.hovertemplate,Q.pts),hovertemplateLabels:Q,eventData:[b(Q,ft)]},{container:ct._hoverlayer.node(),outerContainer:ct._paper.node(),gd:$,inOut_bbox:Et}),Q.bbox=Et[0],H._hasHoverLabel=!0}H._hasHoverEvent=!0,$.emit("plotly_hover",{points:[b(Q,ft)],event:E.event})}}),Z.on("mouseout",function(Q){var ct=$._fullLayout,ft=$._fullData[H.index],yt=E.select(this).datum();H._hasHoverEvent&&(Q.originalEvent=E.event,$.emit("plotly_unhover",{points:[b(yt,ft)],event:E.event}),H._hasHoverEvent=!1),H._hasHoverLabel&&(i.loneUnhover(ct._hoverlayer.node()),H._hasHoverLabel=!1)}),Z.on("click",function(Q){var ct=$._fullLayout,ft=$._fullData[H.index];$._dragging||ct.hovermode===!1||($._hoverdata=[b(Q,ft)],i.click($,E.event))})}function p(Z,$,G){var rt=f.castOption(Z.outsidetextfont.color,$.pts)||f.castOption(Z.textfont.color,$.pts)||G.color,ot=f.castOption(Z.outsidetextfont.family,$.pts)||f.castOption(Z.textfont.family,$.pts)||G.family,W=f.castOption(Z.outsidetextfont.size,$.pts)||f.castOption(Z.textfont.size,$.pts)||G.size,H=f.castOption(Z.outsidetextfont.weight,$.pts)||f.castOption(Z.textfont.weight,$.pts)||G.weight,at=f.castOption(Z.outsidetextfont.style,$.pts)||f.castOption(Z.textfont.style,$.pts)||G.style,Q=f.castOption(Z.outsidetextfont.variant,$.pts)||f.castOption(Z.textfont.variant,$.pts)||G.variant;return{color:rt,family:ot,size:W,weight:H,style:at,variant:Q}}function x(Z,$,G){var rt=f.castOption(Z.insidetextfont.color,$.pts);!rt&&Z._input.textfont&&(rt=f.castOption(Z._input.textfont.color,$.pts));var ot=f.castOption(Z.insidetextfont.family,$.pts)||f.castOption(Z.textfont.family,$.pts)||G.family,W=f.castOption(Z.insidetextfont.size,$.pts)||f.castOption(Z.textfont.size,$.pts)||G.size,H=f.castOption(Z.insidetextfont.weight,$.pts)||f.castOption(Z.textfont.weight,$.pts)||G.weight,at=f.castOption(Z.insidetextfont.style,$.pts)||f.castOption(Z.textfont.style,$.pts)||G.style,Q=f.castOption(Z.insidetextfont.variant,$.pts)||f.castOption(Z.textfont.variant,$.pts)||G.variant;return{color:rt||L.contrast($.color),family:ot,size:W,weight:H,style:at,variant:Q}}function k(Z,$){for(var G,rt,ot=0;ot<Z.length;ot++)if(G=Z[ot][0],rt=G.trace,rt.title.text){var W=rt.title.text;rt._meta&&(W=v.templateString(W,rt._meta));var H=T.tester.append("text").attr("data-notex",1).text(W).call(T.font,rt.title.font).call(e.convertToTspans,$),at=T.bBox(H.node(),!0);G.titleBox={width:at.width,height:at.height},H.remove()}}function y(Z,$,G){var rt=G.r||$.rpx1,ot=$.rInscribed,W=$.startangle===$.stopangle;if(W)return{rCenter:1-ot,scale:0,rotate:0,textPosAngle:0};var H=$.ring,at=H===1&&Math.abs($.startangle-$.stopangle)===Math.PI*2,Q=$.halfangle,ct=$.midangle,ft=G.trace.insidetextorientation,yt=ft==="horizontal",xt=ft==="tangential",Lt=ft==="radial",gt=ft==="auto",mt=[],vt;if(!gt){var At=function(pe,Vt){if(A($,pe)){var ae=Math.abs(pe-$.startangle),oe=Math.abs(pe-$.stopangle),ce=ae<oe?ae:oe;Vt==="tan"?vt=u(Z,rt,H,ce,0):vt=C(Z,rt,H,ce,Math.PI/2),vt.textPosAngle=pe,mt.push(vt)}},Ot;if(yt||xt){for(Ot=4;Ot>=-4;Ot-=2)At(Math.PI*Ot,"tan");for(Ot=4;Ot>=-4;Ot-=2)At(Math.PI*(Ot+1),"tan")}if(yt||Lt){for(Ot=4;Ot>=-4;Ot-=2)At(Math.PI*(Ot+1.5),"rad");for(Ot=4;Ot>=-4;Ot-=2)At(Math.PI*(Ot+.5),"rad")}}if(at||gt||yt){var Pt=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(vt={scale:ot*rt*2/Pt,rCenter:1-ot,rotate:0},vt.textPosAngle=($.startangle+$.stopangle)/2,vt.scale>=1)return vt;mt.push(vt)}(gt||Lt)&&(vt=C(Z,rt,H,Q,ct),vt.textPosAngle=($.startangle+$.stopangle)/2,mt.push(vt)),(gt||xt)&&(vt=u(Z,rt,H,Q,ct),vt.textPosAngle=($.startangle+$.stopangle)/2,mt.push(vt));for(var Et=0,Nt=0,ne=0;ne<mt.length;ne++){var Gt=mt[ne].scale;if(Nt<Gt&&(Nt=Gt,Et=ne),!gt&&Nt>=1)break}return mt[Et]}function A(Z,$){var G=Z.startangle,rt=Z.stopangle;return G>$&&$>rt||G<$&&$<rt}function C(Z,$,G,rt,ot){$=Math.max(0,$-2*o);var W=Z.width/Z.height,H=w(W,rt,$,G);return{scale:H*2/Z.height,rCenter:m(W,H/$),rotate:M(ot)}}function u(Z,$,G,rt,ot){$=Math.max(0,$-2*o);var W=Z.height/Z.width,H=w(W,rt,$,G);return{scale:H*2/Z.width,rCenter:m(W,H/$),rotate:M(ot+Math.PI/2)}}function m(Z,$){return Math.cos($)-Z*$}function M(Z){return(180/Math.PI*Z+720)%180-90}function w(Z,$,G,rt){var ot=Z+1/(2*Math.tan($));return G*Math.min(1/(Math.sqrt(ot*ot+.5)+ot),rt/(Math.sqrt(Z*Z+rt/2)+Z))}function z(Z,$){return Z.v===$.vTotal&&!$.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function O(Z,$){var G=$.pxmid[0],rt=$.pxmid[1],ot=Z.width/2,W=Z.height/2;return G<0&&(ot*=-1),rt<0&&(W*=-1),{scale:1,rCenter:1,rotate:0,x:ot+Math.abs(W)*(ot>0?1:-1)/2,y:W/(1+G*G/(rt*rt)),outside:!0}}function D(Z){var $=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/$,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function P(Z,$){var G=1,rt=1,ot,W=Z.trace,H={x:Z.cx,y:Z.cy},at={tx:0,ty:0};at.ty+=W.title.font.size,ot=N(W),W.title.position.indexOf("top")!==-1?(H.y-=(1+ot)*Z.r,at.ty-=Z.titleBox.height):W.title.position.indexOf("bottom")!==-1&&(H.y+=(1+ot)*Z.r);var Q=F(Z.r,Z.trace.aspectratio),ct=$.w*(W.domain.x[1]-W.domain.x[0])/2;return W.title.position.indexOf("left")!==-1?(ct=ct+Q,H.x-=(1+ot)*Q,at.tx+=Z.titleBox.width/2):W.title.position.indexOf("center")!==-1?ct*=2:W.title.position.indexOf("right")!==-1&&(ct=ct+Q,H.x+=(1+ot)*Q,at.tx-=Z.titleBox.width/2),G=ct/Z.titleBox.width,rt=R(Z,$)/Z.titleBox.height,{x:H.x,y:H.y,scale:Math.min(G,rt),tx:at.tx,ty:at.ty}}function F(Z,$){return Z/($===void 0?1:$)}function R(Z,$){var G=Z.trace,rt=$.h*(G.domain.y[1]-G.domain.y[0]);return Math.min(Z.titleBox.height,rt/2)}function N(Z){var $=Z.pull;if(!$)return 0;var G;if(v.isArrayOrTypedArray($))for($=0,G=0;G<Z.pull.length;G++)Z.pull[G]>$&&($=Z.pull[G]);return $}function B(Z,$){var G,rt,ot,W,H,at,Q,ct,ft,yt,xt,Lt,gt;function mt(Pt,Et){return Pt.pxmid[1]-Et.pxmid[1]}function vt(Pt,Et){return Et.pxmid[1]-Pt.pxmid[1]}function At(Pt,Et){Et||(Et={});var Nt=Et.labelExtraY+(rt?Et.yLabelMax:Et.yLabelMin),ne=rt?Pt.yLabelMin:Pt.yLabelMax,Gt=rt?Pt.yLabelMax:Pt.yLabelMin,pe=Pt.cyFinal+H(Pt.px0[1],Pt.px1[1]),Vt=Nt-ne,ae,oe,ce,le,ye,Tt;if(Vt*Q>0&&(Pt.labelExtraY=Vt),!!v.isArrayOrTypedArray($.pull))for(oe=0;oe<yt.length;oe++)ce=yt[oe],!(ce===Pt||(f.castOption($.pull,Pt.pts)||0)>=(f.castOption($.pull,ce.pts)||0))&&((Pt.pxmid[1]-ce.pxmid[1])*Q>0?(le=ce.cyFinal+H(ce.px0[1],ce.px1[1]),Vt=le-ne-Pt.labelExtraY,Vt*Q>0&&(Pt.labelExtraY+=Vt)):(Gt+Pt.labelExtraY-pe)*Q>0&&(ae=3*at*Math.abs(oe-yt.indexOf(Pt)),ye=ce.cxFinal+W(ce.px0[0],ce.px1[0]),Tt=ye+ae-(Pt.cxFinal+Pt.pxmid[0])-Pt.labelExtraX,Tt*at>0&&(Pt.labelExtraX+=Tt)))}for(rt=0;rt<2;rt++)for(ot=rt?mt:vt,H=rt?Math.max:Math.min,Q=rt?1:-1,G=0;G<2;G++){for(W=G?Math.max:Math.min,at=G?1:-1,ct=Z[rt][G],ct.sort(ot),ft=Z[1-rt][G],yt=ft.concat(ct),Lt=[],xt=0;xt<ct.length;xt++)ct[xt].yLabelMid!==void 0&&Lt.push(ct[xt]);for(gt=!1,xt=0;rt&&xt<ft.length;xt++)if(ft[xt].yLabelMid!==void 0){gt=ft[xt];break}for(xt=0;xt<Lt.length;xt++){var Ot=xt&&Lt[xt-1];gt&&!xt&&(Ot=gt),At(Lt[xt],Ot)}}}function q(Z,$){for(var G=[],rt=0;rt<Z.length;rt++){var ot=Z[rt][0],W=ot.trace,H=W.domain,at=$.w*(H.x[1]-H.x[0]),Q=$.h*(H.y[1]-H.y[0]);W.title.text&&W.title.position!=="middle center"&&(Q-=R(ot,$));var ct=at/2,ft=Q/2;W.type==="funnelarea"&&!W.scalegroup&&(ft/=W.aspectratio),ot.r=Math.min(ct,ft)/(1+N(W)),ot.cx=$.l+$.w*(W.domain.x[1]+W.domain.x[0])/2,ot.cy=$.t+$.h*(1-W.domain.y[0])-Q/2,W.title.text&&W.title.position.indexOf("bottom")!==-1&&(ot.cy-=R(ot,$)),W.scalegroup&&G.indexOf(W.scalegroup)===-1&&G.push(W.scalegroup)}V(Z,G)}function V(Z,$){for(var G,rt,ot,W=0;W<$.length;W++){var H=1/0,at=$[W];for(rt=0;rt<Z.length;rt++)if(G=Z[rt][0],ot=G.trace,ot.scalegroup===at){var Q;if(ot.type==="pie")Q=G.r*G.r;else if(ot.type==="funnelarea"){var ct,ft;ot.aspectratio>1?(ct=G.r,ft=ct/ot.aspectratio):(ft=G.r,ct=ft*ot.aspectratio),ct*=(1+ot.baseratio)/2,Q=ct*ft}H=Math.min(H,Q/G.vTotal)}for(rt=0;rt<Z.length;rt++)if(G=Z[rt][0],ot=G.trace,ot.scalegroup===at){var yt=H*G.vTotal;ot.type==="funnelarea"&&(yt/=(1+ot.baseratio)/2,yt/=ot.aspectratio),G.r=Math.sqrt(yt)}}}function J(Z){var $=Z[0],G=$.r,rt=$.trace,ot=f.getRotationAngle(rt.rotation),W=2*Math.PI/$.vTotal,H="px0",at="px1",Q,ct,ft;if(rt.direction==="counterclockwise"){for(Q=0;Q<Z.length&&Z[Q].hidden;Q++);if(Q===Z.length)return;ot+=W*Z[Q].v,W*=-1,H="px1",at="px0"}for(ft=it(G,ot),Q=0;Q<Z.length;Q++)ct=Z[Q],!ct.hidden&&(ct[H]=ft,ct.startangle=ot,ot+=W*ct.v/2,ct.pxmid=it(G,ot),ct.midangle=ot,ot+=W*ct.v/2,ft=it(G,ot),ct.stopangle=ot,ct[at]=ft,ct.largeArc=ct.v>$.vTotal/2?1:0,ct.halfangle=Math.PI*Math.min(ct.v/$.vTotal,.5),ct.ring=1-rt.hole,ct.rInscribed=z(ct,$))}function it(Z,$){return[Z*Math.sin($),-Z*Math.cos($)]}function nt(Z,$,G){var rt=Z._fullLayout,ot=G.trace,W=ot.texttemplate,H=ot.textinfo;if(!W&&H&&H!=="none"){var at=H.split("+"),Q=function(Et){return at.indexOf(Et)!==-1},ct=Q("label"),ft=Q("text"),yt=Q("value"),xt=Q("percent"),Lt=rt.separators,gt;if(gt=ct?[$.label]:[],ft){var mt=f.getFirstFilled(ot.text,$.pts);h(mt)&&gt.push(mt)}yt&&gt.push(f.formatPieValue($.v,Lt)),xt&&gt.push(f.formatPiePercent($.v/G.vTotal,Lt)),$.text=gt.join("<br>")}function vt(Et){return{label:Et.label,value:Et.v,valueLabel:f.formatPieValue(Et.v,rt.separators),percent:Et.v/G.vTotal,percentLabel:f.formatPiePercent(Et.v/G.vTotal,rt.separators),color:Et.color,text:Et.text,customdata:v.castOption(ot,Et.i,"customdata")}}if(W){var At=v.castOption(ot,$.i,"texttemplate");if(!At)$.text="";else{var Ot=vt($),Pt=f.getFirstFilled(ot.text,$.pts);(h(Pt)||Pt==="")&&(Ot.text=Pt),$.text=v.texttemplateString(At,Ot,Z._fullLayout._d3locale,Ot,ot._meta||{})}}}function Y(Z,$){var G=Z.rotate*Math.PI/180,rt=Math.cos(G),ot=Math.sin(G),W=($.left+$.right)/2,H=($.top+$.bottom)/2;Z.textX=W*rt-H*ot,Z.textY=W*ot+H*rt,Z.noCenter=!0}tt.exports={plot:_,formatSliceLabel:nt,transformInsideText:y,determineInsideTextFont:x,positionTitleOutside:P,prerenderTitles:k,layoutAreas:q,attachFxHandlers:c,computeTransform:Y}},22152:function(tt,U,t){var E=t(33428),S=t(10528),i=t(82744).resizeText;tt.exports=function(L){var T=L._fullLayout._pielayer.selectAll(".trace");i(L,T,"pie"),T.each(function(v){var d=v[0],r=d.trace,e=E.select(this);e.style({opacity:r.opacity}),e.selectAll("path.surface").each(function(l){E.select(this).call(S,l,r,L)})})}},10528:function(tt,U,t){var E=t(76308),S=t(69656).castOption,i=t(21552);tt.exports=function(L,T,v,d){var r=v.marker.line,e=S(r.color,T.pts)||E.defaultLine,l=S(r.width,T.pts)||0;L.call(i,T,v,d).style("stroke-width",l).call(E.stroke,e)}},35484:function(tt,U,t){var E=t(52904);tt.exports={x:E.x,y:E.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:E.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(tt,U,t){var E=t(67792).gl_pointcloud2d,S=t(3400).isArrayOrTypedArray,i=t(43080),L=t(19280).findExtremes,T=t(44928);function v(e,l){this.scene=e,this.uid=l,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=E(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var d=v.prototype;d.handlePick=function(e){var l=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[l*2],this.pickXYData[l*2+1]]:[this.pickXData[l],this.pickYData[l]],textLabel:S(this.textLabels)?this.textLabels[l]:this.textLabels,color:this.color,name:this.name,pointIndex:l,hoverinfo:this.hoverinfo}},d.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=T(e,{})},d.updateFast=function(e){var l=this.xData=this.pickXData=e.x,n=this.yData=this.pickYData=e.y,s=this.pickXYData=e.xy,o=e.xbounds&&e.ybounds,f=e.indices,b,h,_,a=this.bounds,c,p,x;if(s){if(_=s,b=s.length>>>1,o)a[0]=e.xbounds[0],a[2]=e.xbounds[1],a[1]=e.ybounds[0],a[3]=e.ybounds[1];else for(x=0;x<b;x++)c=_[x*2],p=_[x*2+1],c<a[0]&&(a[0]=c),c>a[2]&&(a[2]=c),p<a[1]&&(a[1]=p),p>a[3]&&(a[3]=p);if(f)h=f;else for(h=new Int32Array(b),x=0;x<b;x++)h[x]=x}else for(b=l.length,_=new Float32Array(2*b),h=new Int32Array(b),x=0;x<b;x++)c=l[x],p=n[x],h[x]=x,_[x*2]=c,_[x*2+1]=p,c<a[0]&&(a[0]=c),c>a[2]&&(a[2]=c),p<a[1]&&(a[1]=p),p>a[3]&&(a[3]=p);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=_;var k=i(e.marker.color),y=i(e.marker.border.color),A=e.opacity*e.marker.opacity;k[3]*=A,this.pointcloudOptions.color=k;var C=e.marker.blend;if(C===null){var u=100;C=l.length<u||n.length<u}this.pointcloudOptions.blend=C,y[3]*=A,this.pointcloudOptions.borderColor=y;var m=e.marker.sizemin,M=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=m,this.pointcloudOptions.sizeMax=M,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var w=this.scene.xaxis,z=this.scene.yaxis,O=M/2||.5;e._extremes[w._id]=L(w,[a[0],a[2]],{ppad:O}),e._extremes[z._id]=L(z,[a[1],a[3]],{ppad:O})},d.dispose=function(){this.pointcloud.dispose()};function r(e,l){var n=new v(e,l.uid);return n.update(l),n}tt.exports=r},41904:function(tt,U,t){var E=t(3400),S=t(35484);tt.exports=function(i,L,T){function v(d,r){return E.coerce(i,L,S,d,r)}v("x"),v("y"),v("xbounds"),v("ybounds"),i.xy&&i.xy instanceof Float32Array&&(L.xy=i.xy),i.indices&&i.indices instanceof Int32Array&&(L.indices=i.indices),v("text"),v("marker.color",T),v("marker.opacity"),v("marker.blend"),v("marker.sizemin"),v("marker.sizemax"),v("marker.border.color",T),v("marker.border.arearatio"),L._length=null}},156:function(tt,U,t){tt.exports={attributes:t(35484),supplyDefaults:t(41904),calc:t(41484),plot:t(11072),moduleType:"trace",name:"pointcloud",basePlotModule:t(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(tt,U,t){var E=t(25376),S=t(45464),i=t(22548),L=t(55756),T=t(86968).u,v=t(21776).Ks,d=t(49084),r=t(31780).templatedArray,e=t(29736).descriptionOnlyNumbers,l=t(92880).extendFlat,n=t(67824).overrideAll,s=tt.exports=n({hoverinfo:l({},S.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:e("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:E({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:l(d().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");s.transforms=void 0},10760:function(tt,U,t){var E=t(67824).overrideAll,S=t(84888)._M,i=t(59596),L=t(65460),T=t(93972),v=t(86476),d=t(22676).prepSelect,r=t(3400),e=t(24040),l="sankey";U.name=l,U.baseLayoutAttrOverrides=E({hoverlabel:L.hoverlabel},"plot","nested"),U.plot=function(s){var o=S(s.calcdata,l)[0];i(s,o),U.updateFx(s)},U.clean=function(s,o,f,b){var h=b._has&&b._has(l),_=o._has&&o._has(l);h&&!_&&(b._paperdiv.selectAll(".sankey").remove(),b._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(s){for(var o=0;o<s._fullData.length;o++)n(s,o)};function n(s,o){var f=s._fullData[o],b=s._fullLayout,h=b.dragmode,_=b.dragmode==="pan"?"move":"crosshair",a=f._bgRect;if(a&&!(h==="pan"||h==="zoom")){T(a,_);var c={_id:"x",c2p:r.identity,_offset:f._sankey.translateX,_length:f._sankey.width},p={_id:"y",c2p:r.identity,_offset:f._sankey.translateY,_length:f._sankey.height},x={gd:s,element:a.node(),plotinfo:{id:o,xaxis:c,yaxis:p,fillRangeItems:r.noop},subplot:o,xaxes:[c],yaxes:[p],doneFnCompleted:function(k){var y=s._fullData[o],A,C=y.node.groups.slice(),u=[];function m(O){for(var D=y._sankey.graph.nodes,P=0;P<D.length;P++)if(D[P].pointNumber===O)return D[P]}for(var M=0;M<k.length;M++){var w=m(k[M].pointNumber);if(w)if(w.group){for(var z=0;z<w.childrenNodes.length;z++)u.push(w.childrenNodes[z].pointNumber);C[w.pointNumber-y.node._count]=!1}else u.push(w.pointNumber)}A=C.filter(Boolean).concat([u]),e.call("_guiRestyle",s,{"node.groups":[A]},o)}};x.prepFn=function(k,y,A){d(k,y,A,x,h)},v.init(x)}}},48068:function(tt,U,t){var E=t(78484),S=t(3400),i=t(71688).wrap,L=S.isArrayOrTypedArray,T=S.isIndex,v=t(8932);function d(e){var l=e.node,n=e.link,s=[],o=L(n.color),f=L(n.hovercolor),b=L(n.customdata),h={},_={},a=n.colorscales.length,c;for(c=0;c<a;c++){var p=n.colorscales[c],x=v.extractScale(p,{cLetter:"c"}),k=v.makeColorScaleFunc(x);_[p.label]=k}var y=0;for(c=0;c<n.value.length;c++)n.source[c]>y&&(y=n.source[c]),n.target[c]>y&&(y=n.target[c]);var A=y+1;e.node._count=A;var C,u=e.node.groups,m={};for(c=0;c<u.length;c++){var M=u[c];for(C=0;C<M.length;C++){var w=M[C],z=A+c;m.hasOwnProperty(w)?S.warn("Node "+w+" is already part of a group."):m[w]=z}}var O={source:[],target:[]};for(c=0;c<n.value.length;c++){var D=n.value[c],P=n.source[c],F=n.target[c];if(D>0&&T(P,A)&&T(F,A)&&!(m.hasOwnProperty(P)&&m.hasOwnProperty(F)&&m[P]===m[F])){m.hasOwnProperty(F)&&(F=m[F]),m.hasOwnProperty(P)&&(P=m[P]),P=+P,F=+F,h[P]=h[F]=!0;var R="";n.label&&n.label[c]&&(R=n.label[c]);var N=null;R&&_.hasOwnProperty(R)&&(N=_[R]),s.push({pointNumber:c,label:R,color:o?n.color[c]:n.color,hovercolor:f?n.hovercolor[c]:n.hovercolor,customdata:b?n.customdata[c]:n.customdata,concentrationscale:N,source:P,target:F,value:+D}),O.source.push(P),O.target.push(F)}}var B=A+u.length,q=L(l.color),V=L(l.customdata),J=[];for(c=0;c<B;c++)if(h[c]){var it=l.label[c];J.push({group:c>A-1,childrenNodes:[],pointNumber:c,label:it,color:q?l.color[c]:l.color,customdata:V?l.customdata[c]:l.customdata})}var nt=!1;return r(B,O.source,O.target)&&(nt=!0),{circular:nt,links:s,nodes:J,groups:u,groupLookup:m}}function r(e,l,n){for(var s=S.init2dArray(e,0),o=0;o<Math.min(l.length,n.length);o++)if(S.isIndex(l[o],e)&&S.isIndex(n[o],e)){if(l[o]===n[o])return!0;s[l[o]].push(n[o])}var f=E(s);return f.components.some(function(b){return b.length>1})}tt.exports=function(e,l){var n=d(l);return i({circular:n.circular,_nodes:n.nodes,_links:n.links,_groups:n.groups,_groupLookup:n.groupLookup})}},11820:function(tt){tt.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(tt,U,t){var E=t(3400),S=t(41440),i=t(76308),L=t(49760),T=t(86968).Q,v=t(16132),d=t(31780),r=t(51272);tt.exports=function(l,n,s,o){function f(w,z){return E.coerce(l,n,S,w,z)}var b=E.extendDeep(o.hoverlabel,l.hoverlabel),h=l.node,_=d.newContainer(n,"node");function a(w,z){return E.coerce(h,_,S.node,w,z)}a("label"),a("groups"),a("x"),a("y"),a("pad"),a("thickness"),a("line.color"),a("line.width"),a("hoverinfo",l.hoverinfo),v(h,_,a,b),a("hovertemplate"),a("align");var c=o.colorway,p=function(w){return c[w%c.length]};a("color",_.label.map(function(w,z){return i.addOpacity(p(z),.8)})),a("customdata");var x=l.link||{},k=d.newContainer(n,"link");function y(w,z){return E.coerce(x,k,S.link,w,z)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",l.hoverinfo),v(x,k,y,b),y("hovertemplate");var A=L(o.paper_bgcolor).getLuminance()<.333,C=A?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",u=y("color",C);function m(w){var z=L(w);if(!z.isValid())return w;var O=z.getAlpha();return O<=.8?z.setAlpha(O+.2):z=A?z.brighten():z.darken(),z.toRgbString()}y("hovercolor",Array.isArray(u)?u.map(m):m(u)),y("customdata"),r(x,k,{name:"colorscales",handleItemDefaults:e}),T(n,o,f),f("orientation"),f("valueformat"),f("valuesuffix");var M;_.x.length&&_.y.length&&(M="freeform"),f("arrangement",M),E.coerceFont(f,"textfont",E.extendFlat({},o.font)),n._length=null};function e(l,n){function s(o,f){return E.coerce(l,n,S.link.colorscales,o,f)}s("label"),s("cmin"),s("cmax"),s("colorscale")}},45499:function(tt,U,t){tt.exports={attributes:t(41440),supplyDefaults:t(47140),calc:t(48068),plot:t(59596),moduleType:"trace",name:"sankey",basePlotModule:t(10760),selectPoints:t(81128),categories:["noOpacity"],meta:{}}},59596:function(tt,U,t){var E=t(33428),S=t(3400),i=S.numberFormat,L=t(83248),T=t(93024),v=t(76308),d=t(11820).cn,r=S._;function e(p){return p!==""}function l(p,x){return p.filter(function(k){return k.key===x.traceId})}function n(p,x){E.select(p).select("path").style("fill-opacity",x),E.select(p).select("rect").style("fill-opacity",x)}function s(p){E.select(p).select("text.name").style("fill","black")}function o(p){return function(x){return p.node.sourceLinks.indexOf(x.link)!==-1||p.node.targetLinks.indexOf(x.link)!==-1}}function f(p){return function(x){return x.node.sourceLinks.indexOf(p.link)!==-1||x.node.targetLinks.indexOf(p.link)!==-1}}function b(p,x,k){x&&k&&l(k,x).selectAll("."+d.sankeyLink).filter(o(x)).call(_.bind(0,x,k,!1))}function h(p,x,k){x&&k&&l(k,x).selectAll("."+d.sankeyLink).filter(o(x)).call(a.bind(0,x,k,!1))}function _(p,x,k,y){y.style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha}),y.each(function(A){var C=A.link.label;C!==""&&l(x,p).selectAll("."+d.sankeyLink).filter(function(u){return u.link.label===C}).style("fill",function(u){if(!u.link.concentrationscale)return u.tinyColorHoverHue}).style("fill-opacity",function(u){if(!u.link.concentrationscale)return u.tinyColorHoverAlpha})}),k&&l(x,p).selectAll("."+d.sankeyNode).filter(f(p)).call(b)}function a(p,x,k,y){y.style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha}),y.each(function(A){var C=A.link.label;C!==""&&l(x,p).selectAll("."+d.sankeyLink).filter(function(u){return u.link.label===C}).style("fill",function(u){return u.tinyColorHue}).style("fill-opacity",function(u){return u.tinyColorAlpha})}),k&&l(x,p).selectAll(d.sankeyNode).filter(f(p)).call(h)}function c(p,x){var k=p.hoverlabel||{},y=S.nestedProperty(k,x).get();return Array.isArray(y)?!1:y}tt.exports=function(p,x){for(var k=p._fullLayout,y=k._paper,A=k._size,C=0;C<p._fullData.length;C++)if(p._fullData[C].visible&&p._fullData[C].type===d.sankey&&!p._fullData[C]._viewInitial){var u=p._fullData[C].node;p._fullData[C]._viewInitial={node:{groups:u.groups.slice(),x:u.x.slice(),y:u.y.slice()}}}var m=function(J,it){var nt=it.link;nt.originalEvent=E.event,p._hoverdata=[nt],T.click(p,{target:!0})},M=function(J,it,nt){p._fullLayout.hovermode!==!1&&(E.select(J).call(_.bind(0,it,nt,!0)),it.link.trace.link.hoverinfo!=="skip"&&(it.link.fullData=it.link.trace,p.emit("plotly_hover",{event:E.event,points:[it.link]})))},w=r(p,"source:")+" ",z=r(p,"target:")+" ",O=r(p,"concentration:")+" ",D=r(p,"incoming flow count:")+" ",P=r(p,"outgoing flow count:")+" ",F=function(J,it){if(p._fullLayout.hovermode===!1)return;var nt=it.link.trace.link;if(nt.hoverinfo==="none"||nt.hoverinfo==="skip")return;var Y=[];function Z(at){var Q,ct;at.circular?(Q=(at.circularPathData.leftInnerExtent+at.circularPathData.rightInnerExtent)/2,ct=at.circularPathData.verticalFullExtent):(Q=(at.source.x1+at.target.x0)/2,ct=(at.y0+at.y1)/2);var ft=[Q,ct];return at.trace.orientation==="v"&&ft.reverse(),ft[0]+=it.parent.translateX,ft[1]+=it.parent.translateY,ft}for(var $=0,G=0;G<it.flow.links.length;G++){var rt=it.flow.links[G];if(!(p._fullLayout.hovermode==="closest"&&it.link.pointNumber!==rt.pointNumber)){it.link.pointNumber===rt.pointNumber&&($=G),rt.fullData=rt.trace,nt=it.link.trace.link;var ot=Z(rt),W={valueLabel:i(it.valueFormat)(rt.value)+it.valueSuffix};Y.push({x:ot[0],y:ot[1],name:W.valueLabel,text:[rt.label||"",w+rt.source.label,z+rt.target.label,rt.concentrationscale?O+i("%0.2f")(rt.flow.labelConcentration):""].filter(e).join("<br>"),color:c(nt,"bgcolor")||v.addOpacity(rt.color,1),borderColor:c(nt,"bordercolor"),fontFamily:c(nt,"font.family"),fontSize:c(nt,"font.size"),fontColor:c(nt,"font.color"),fontWeight:c(nt,"font.weight"),fontStyle:c(nt,"font.style"),fontVariant:c(nt,"font.variant"),nameLength:c(nt,"namelength"),textAlign:c(nt,"align"),idealAlign:E.event.x<ot[0]?"right":"left",hovertemplate:nt.hovertemplate,hovertemplateLabels:W,eventData:[rt]})}}var H=T.loneHover(Y,{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:p,anchorIndex:$});H.each(function(){var at=this;it.link.concentrationscale||n(at,.65),s(at)})},R=function(J,it,nt){p._fullLayout.hovermode!==!1&&(E.select(J).call(a.bind(0,it,nt,!0)),it.link.trace.link.hoverinfo!=="skip"&&(it.link.fullData=it.link.trace,p.emit("plotly_unhover",{event:E.event,points:[it.link]})),T.loneUnhover(k._hoverlayer.node()))},N=function(J,it,nt){var Y=it.node;Y.originalEvent=E.event,p._hoverdata=[Y],E.select(J).call(h,it,nt),T.click(p,{target:!0})},B=function(J,it,nt){p._fullLayout.hovermode!==!1&&(E.select(J).call(b,it,nt),it.node.trace.node.hoverinfo!=="skip"&&(it.node.fullData=it.node.trace,p.emit("plotly_hover",{event:E.event,points:[it.node]})))},q=function(J,it){if(p._fullLayout.hovermode!==!1){var nt=it.node.trace.node;if(!(nt.hoverinfo==="none"||nt.hoverinfo==="skip")){var Y=E.select(J).select("."+d.nodeRect),Z=p._fullLayout._paperdiv.node().getBoundingClientRect(),$=Y.node().getBoundingClientRect(),G=$.left-2-Z.left,rt=$.right+2-Z.left,ot=$.top+$.height/4-Z.top,W={valueLabel:i(it.valueFormat)(it.node.value)+it.valueSuffix};it.node.fullData=it.node.trace,p._fullLayout._calcInverseTransform(p);var H=p._fullLayout._invScaleX,at=p._fullLayout._invScaleY,Q=T.loneHover({x0:H*G,x1:H*rt,y:at*ot,name:i(it.valueFormat)(it.node.value)+it.valueSuffix,text:[it.node.label,D+it.node.targetLinks.length,P+it.node.sourceLinks.length].filter(e).join("<br>"),color:c(nt,"bgcolor")||it.tinyColorHue,borderColor:c(nt,"bordercolor"),fontFamily:c(nt,"font.family"),fontSize:c(nt,"font.size"),fontColor:c(nt,"font.color"),fontWeight:c(nt,"font.weight"),fontStyle:c(nt,"font.style"),fontVariant:c(nt,"font.variant"),nameLength:c(nt,"namelength"),textAlign:c(nt,"align"),idealAlign:"left",hovertemplate:nt.hovertemplate,hovertemplateLabels:W,eventData:[it.node]},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:p});n(Q,.85),s(Q)}}},V=function(J,it,nt){p._fullLayout.hovermode!==!1&&(E.select(J).call(h,it,nt),it.node.trace.node.hoverinfo!=="skip"&&(it.node.fullData=it.node.trace,p.emit("plotly_unhover",{event:E.event,points:[it.node]})),T.loneUnhover(k._hoverlayer.node()))};L(p,y,x,{width:A.w,height:A.h,margin:{t:A.t,r:A.r,b:A.b,l:A.l}},{linkEvents:{hover:M,follow:F,unhover:R,select:m},nodeEvents:{hover:B,follow:q,unhover:V,select:N}})}},83248:function(tt,U,t){var E=t(49812),S=t(67756).Gz,i=t(33428),L=t(26800),T=t(48932),v=t(11820),d=t(49760),r=t(76308),e=t(43616),l=t(3400),n=l.strTranslate,s=l.strRotate,o=t(71688),f=o.keyFun,b=o.repeat,h=o.unwrap,_=t(72736),a=t(24040),c=t(84284),p=c.CAP_SHIFT,x=c.LINE_SPACING,k=3;function y($,G,rt){var ot=h(G),W=ot.trace,H=W.domain,at=W.orientation==="h",Q=W.node.pad,ct=W.node.thickness,ft={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[W.node.align],yt=$.width*(H.x[1]-H.x[0]),xt=$.height*(H.y[1]-H.y[0]),Lt=ot._nodes,gt=ot._links,mt=ot.circular,vt;mt?vt=T.sankeyCircular().circularLinkGap(0):vt=L.sankey(),vt.iterations(v.sankeyIterations).size(at?[yt,xt]:[xt,yt]).nodeWidth(ct).nodePadding(Q).nodeId(function(Tt){return Tt.pointNumber}).nodeAlign(ft).nodes(Lt).links(gt);var At=vt();vt.nodePadding()<Q&&l.warn("node.pad was reduced to ",vt.nodePadding()," to fit within the figure.");var Ot,Pt,Et;for(var Nt in ot._groupLookup){var ne=parseInt(ot._groupLookup[Nt]),Gt;for(Ot=0;Ot<At.nodes.length;Ot++)if(At.nodes[Ot].pointNumber===ne){Gt=At.nodes[Ot];break}if(Gt){var pe={pointNumber:parseInt(Nt),x0:Gt.x0,x1:Gt.x1,y0:Gt.y0,y1:Gt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};At.nodes.unshift(pe),Gt.childrenNodes.unshift(pe)}}function Vt(){for(Ot=0;Ot<At.nodes.length;Ot++){var Tt=At.nodes[Ot],Ft={},$t,Wt;for(Pt=0;Pt<Tt.targetLinks.length;Pt++)Wt=Tt.targetLinks[Pt],$t=Wt.source.pointNumber+":"+Wt.target.pointNumber,Ft.hasOwnProperty($t)||(Ft[$t]=[]),Ft[$t].push(Wt);var Bt=Object.keys(Ft);for(Pt=0;Pt<Bt.length;Pt++){$t=Bt[Pt];var Mt=Ft[$t],St=0,Dt={};for(Et=0;Et<Mt.length;Et++)Wt=Mt[Et],Dt[Wt.label]||(Dt[Wt.label]=0),Dt[Wt.label]+=Wt.value,St+=Wt.value;for(Et=0;Et<Mt.length;Et++)Wt=Mt[Et],Wt.flow={value:St,labelConcentration:Dt[Wt.label]/St,concentration:Wt.value/St,links:Mt},Wt.concentrationscale&&(Wt.color=d(Wt.concentrationscale(Wt.flow.labelConcentration)))}var dt=0;for(Pt=0;Pt<Tt.sourceLinks.length;Pt++)dt+=Tt.sourceLinks[Pt].value;for(Pt=0;Pt<Tt.sourceLinks.length;Pt++)Wt=Tt.sourceLinks[Pt],Wt.concentrationOut=Wt.value/dt;var ht=0;for(Pt=0;Pt<Tt.targetLinks.length;Pt++)ht+=Tt.targetLinks[Pt].value;for(Pt=0;Pt<Tt.targetLinks.length;Pt++)Wt=Tt.targetLinks[Pt],Wt.concenrationIn=Wt.value/ht}}Vt();function ae(Tt){Tt.forEach(function(Ft){var $t,Wt,Bt=0,Mt=Ft.length,St;for(Ft.sort(function(Dt,dt){return Dt.y0-dt.y0}),St=0;St<Mt;++St)$t=Ft[St],$t.y0>=Bt||(Wt=Bt-$t.y0,Wt>1e-6&&($t.y0+=Wt,$t.y1+=Wt)),Bt=$t.y1+Q})}function oe(Tt){var Ft=Tt.map(function(dt,ht){return{x0:dt.x0,index:ht}}).sort(function(dt,ht){return dt.x0-ht.x0}),$t=[],Wt=-1,Bt,Mt=-1/0,St;for(Ot=0;Ot<Ft.length;Ot++){var Dt=Tt[Ft[Ot].index];Dt.x0>Mt+ct&&(Wt+=1,Bt=Dt.x0),Mt=Dt.x0,$t[Wt]||($t[Wt]=[]),$t[Wt].push(Dt),St=Bt-Dt.x0,Dt.x0+=St,Dt.x1+=St}return $t}if(W.node.x.length&&W.node.y.length){for(Ot=0;Ot<Math.min(W.node.x.length,W.node.y.length,At.nodes.length);Ot++)if(W.node.x[Ot]&&W.node.y[Ot]){var ce=[W.node.x[Ot]*yt,W.node.y[Ot]*xt];At.nodes[Ot].x0=ce[0]-ct/2,At.nodes[Ot].x1=ce[0]+ct/2;var le=At.nodes[Ot].y1-At.nodes[Ot].y0;At.nodes[Ot].y0=ce[1]-le/2,At.nodes[Ot].y1=ce[1]+le/2}if(W.arrangement==="snap"){Lt=At.nodes;var ye=oe(Lt);ae(ye)}vt.update(At)}return{circular:mt,key:rt,trace:W,guid:l.randstr(),horizontal:at,width:yt,height:xt,nodePad:W.node.pad,nodeLineColor:W.node.line.color,nodeLineWidth:W.node.line.width,linkLineColor:W.link.line.color,linkLineWidth:W.link.line.width,linkArrowLength:W.link.arrowlen,valueFormat:W.valueformat,valueSuffix:W.valuesuffix,textFont:W.textfont,translateX:H.x[0]*$.width+$.margin.l,translateY:$.height-H.y[1]*$.height+$.margin.t,dragParallel:at?xt:yt,dragPerpendicular:at?yt:xt,arrangement:W.arrangement,sankey:vt,graph:At,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A($,G,rt){var ot=d(G.color),W=d(G.hovercolor),H=G.source.label+"|"+G.target.label,at=H+"__"+rt;return G.trace=$.trace,G.curveNumber=$.trace.index,{circular:$.circular,key:at,traceId:$.key,pointNumber:G.pointNumber,link:G,tinyColorHue:r.tinyRGB(ot),tinyColorAlpha:ot.getAlpha(),tinyColorHoverHue:r.tinyRGB(W),tinyColorHoverAlpha:W.getAlpha(),linkPath:u,linkLineColor:$.linkLineColor,linkLineWidth:$.linkLineWidth,linkArrowLength:$.linkArrowLength,valueFormat:$.valueFormat,valueSuffix:$.valueSuffix,sankey:$.sankey,parent:$,interactionState:$.interactionState,flow:G.flow}}function C($,G){var rt="",ot=$.width/2,W=$.circularPathData;return $.circularLinkType==="top"?rt="M "+(W.targetX-G)+" "+(W.targetY+ot)+" L"+(W.rightInnerExtent-G)+" "+(W.targetY+ot)+"A"+(W.rightLargeArcRadius+ot)+" "+(W.rightSmallArcRadius+ot)+" 0 0 1 "+(W.rightFullExtent-ot-G)+" "+(W.targetY-W.rightSmallArcRadius)+"L"+(W.rightFullExtent-ot-G)+" "+W.verticalRightInnerExtent+"A"+(W.rightLargeArcRadius+ot)+" "+(W.rightLargeArcRadius+ot)+" 0 0 1 "+(W.rightInnerExtent-G)+" "+(W.verticalFullExtent-ot)+"L"+W.leftInnerExtent+" "+(W.verticalFullExtent-ot)+"A"+(W.leftLargeArcRadius+ot)+" "+(W.leftLargeArcRadius+ot)+" 0 0 1 "+(W.leftFullExtent+ot)+" "+W.verticalLeftInnerExtent+"L"+(W.leftFullExtent+ot)+" "+(W.sourceY-W.leftSmallArcRadius)+"A"+(W.leftLargeArcRadius+ot)+" "+(W.leftSmallArcRadius+ot)+" 0 0 1 "+W.leftInnerExtent+" "+(W.sourceY+ot)+"L"+W.sourceX+" "+(W.sourceY+ot)+"L"+W.sourceX+" "+(W.sourceY-ot)+"L"+W.leftInnerExtent+" "+(W.sourceY-ot)+"A"+(W.leftLargeArcRadius-ot)+" "+(W.leftSmallArcRadius-ot)+" 0 0 0 "+(W.leftFullExtent-ot)+" "+(W.sourceY-W.leftSmallArcRadius)+"L"+(W.leftFullExtent-ot)+" "+W.verticalLeftInnerExtent+"A"+(W.leftLargeArcRadius-ot)+" "+(W.leftLargeArcRadius-ot)+" 0 0 0 "+W.leftInnerExtent+" "+(W.verticalFullExtent+ot)+"L"+(W.rightInnerExtent-G)+" "+(W.verticalFullExtent+ot)+"A"+(W.rightLargeArcRadius-ot)+" "+(W.rightLargeArcRadius-ot)+" 0 0 0 "+(W.rightFullExtent+ot-G)+" "+W.verticalRightInnerExtent+"L"+(W.rightFullExtent+ot-G)+" "+(W.targetY-W.rightSmallArcRadius)+"A"+(W.rightLargeArcRadius-ot)+" "+(W.rightSmallArcRadius-ot)+" 0 0 0 "+(W.rightInnerExtent-G)+" "+(W.targetY-ot)+"L"+(W.targetX-G)+" "+(W.targetY-ot)+(G>0?"L"+W.targetX+" "+W.targetY:"")+"Z":rt="M "+(W.targetX-G)+" "+(W.targetY-ot)+" L"+(W.rightInnerExtent-G)+" "+(W.targetY-ot)+"A"+(W.rightLargeArcRadius+ot)+" "+(W.rightSmallArcRadius+ot)+" 0 0 0 "+(W.rightFullExtent-ot-G)+" "+(W.targetY+W.rightSmallArcRadius)+"L"+(W.rightFullExtent-ot-G)+" "+W.verticalRightInnerExtent+"A"+(W.rightLargeArcRadius+ot)+" "+(W.rightLargeArcRadius+ot)+" 0 0 0 "+(W.rightInnerExtent-G)+" "+(W.verticalFullExtent+ot)+"L"+W.leftInnerExtent+" "+(W.verticalFullExtent+ot)+"A"+(W.leftLargeArcRadius+ot)+" "+(W.leftLargeArcRadius+ot)+" 0 0 0 "+(W.leftFullExtent+ot)+" "+W.verticalLeftInnerExtent+"L"+(W.leftFullExtent+ot)+" "+(W.sourceY+W.leftSmallArcRadius)+"A"+(W.leftLargeArcRadius+ot)+" "+(W.leftSmallArcRadius+ot)+" 0 0 0 "+W.leftInnerExtent+" "+(W.sourceY-ot)+"L"+W.sourceX+" "+(W.sourceY-ot)+"L"+W.sourceX+" "+(W.sourceY+ot)+"L"+W.leftInnerExtent+" "+(W.sourceY+ot)+"A"+(W.leftLargeArcRadius-ot)+" "+(W.leftSmallArcRadius-ot)+" 0 0 1 "+(W.leftFullExtent-ot)+" "+(W.sourceY+W.leftSmallArcRadius)+"L"+(W.leftFullExtent-ot)+" "+W.verticalLeftInnerExtent+"A"+(W.leftLargeArcRadius-ot)+" "+(W.leftLargeArcRadius-ot)+" 0 0 1 "+W.leftInnerExtent+" "+(W.verticalFullExtent-ot)+"L"+(W.rightInnerExtent-G)+" "+(W.verticalFullExtent-ot)+"A"+(W.rightLargeArcRadius-ot)+" "+(W.rightLargeArcRadius-ot)+" 0 0 1 "+(W.rightFullExtent+ot-G)+" "+W.verticalRightInnerExtent+"L"+(W.rightFullExtent+ot-G)+" "+(W.targetY+W.rightSmallArcRadius)+"A"+(W.rightLargeArcRadius-ot)+" "+(W.rightSmallArcRadius-ot)+" 0 0 1 "+(W.rightInnerExtent-G)+" "+(W.targetY+ot)+"L"+(W.targetX-G)+" "+(W.targetY+ot)+(G>0?"L"+W.targetX+" "+W.targetY:"")+"Z",rt}function u(){var $=.5;function G(rt){var ot=rt.linkArrowLength;if(rt.link.circular)return C(rt.link,ot);var W=Math.abs((rt.link.target.x0-rt.link.source.x1)/2);ot>W&&(ot=W);var H=rt.link.source.x1,at=rt.link.target.x0-ot,Q=S(H,at),ct=Q($),ft=Q(1-$),yt=rt.link.y0-rt.link.width/2,xt=rt.link.y0+rt.link.width/2,Lt=rt.link.y1-rt.link.width/2,gt=rt.link.y1+rt.link.width/2,mt="M"+H+","+yt,vt="C"+ct+","+yt+" "+ft+","+Lt+" "+at+","+Lt,At="C"+ft+","+gt+" "+ct+","+xt+" "+H+","+xt,Ot=ot>0?"L"+(at+ot)+","+(Lt+rt.link.width/2):"";return Ot+="L"+at+","+gt,mt+vt+Ot+At+"Z"}return G}function m($,G){var rt=d(G.color),ot=v.nodePadAcross,W=$.nodePad/2;G.dx=G.x1-G.x0,G.dy=G.y1-G.y0;var H=G.dx,at=Math.max(.5,G.dy),Q="node_"+G.pointNumber;return G.group&&(Q=l.randstr()),G.trace=$.trace,G.curveNumber=$.trace.index,{index:G.pointNumber,key:Q,partOfGroup:G.partOfGroup||!1,group:G.group,traceId:$.key,trace:$.trace,node:G,nodePad:$.nodePad,nodeLineColor:$.nodeLineColor,nodeLineWidth:$.nodeLineWidth,textFont:$.textFont,size:$.horizontal?$.height:$.width,visibleWidth:Math.ceil(H),visibleHeight:at,zoneX:-ot,zoneY:-W,zoneWidth:H+2*ot,zoneHeight:at+2*W,labelY:$.horizontal?G.dy/2+1:G.dx/2+1,left:G.originalLayer===1,sizeAcross:$.width,forceLayouts:$.forceLayouts,horizontal:$.horizontal,darkBackground:rt.getBrightness()<=128,tinyColorHue:r.tinyRGB(rt),tinyColorAlpha:rt.getAlpha(),valueFormat:$.valueFormat,valueSuffix:$.valueSuffix,sankey:$.sankey,graph:$.graph,arrangement:$.arrangement,uniqueNodeLabelPathId:[$.guid,$.key,Q].join("_"),interactionState:$.interactionState,figure:$}}function M($){$.attr("transform",function(G){return n(G.node.x0.toFixed(3),G.node.y0.toFixed(3))})}function w($){$.call(M)}function z($,G){$.call(w),G.attr("d",u())}function O($){$.attr("width",function(G){return G.node.x1-G.node.x0}).attr("height",function(G){return G.visibleHeight})}function D($){return $.link.width>1||$.linkLineWidth>0}function P($){var G=n($.translateX,$.translateY);return G+($.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F($,G,rt){$.on(".basic",null).on("mouseover.basic",function(ot){!ot.interactionState.dragInProgress&&!ot.partOfGroup&&(rt.hover(this,ot,G),ot.interactionState.hovered=[this,ot])}).on("mousemove.basic",function(ot){!ot.interactionState.dragInProgress&&!ot.partOfGroup&&(rt.follow(this,ot),ot.interactionState.hovered=[this,ot])}).on("mouseout.basic",function(ot){!ot.interactionState.dragInProgress&&!ot.partOfGroup&&(rt.unhover(this,ot,G),ot.interactionState.hovered=!1)}).on("click.basic",function(ot){ot.interactionState.hovered&&(rt.unhover(this,ot,G),ot.interactionState.hovered=!1),!ot.interactionState.dragInProgress&&!ot.partOfGroup&&rt.select(this,ot,G)})}function R($,G,rt,ot){var W=i.behavior.drag().origin(function(H){return{x:H.node.x0+H.visibleWidth/2,y:H.node.y0+H.visibleHeight/2}}).on("dragstart",function(H){if(H.arrangement!=="fixed"&&(l.ensureSingle(ot._fullLayout._infolayer,"g","dragcover",function(Q){ot._fullLayout._dragCover=Q}),l.raiseToTop(this),H.interactionState.dragInProgress=H.node,it(H.node),H.interactionState.hovered&&(rt.nodeEvents.unhover.apply(0,H.interactionState.hovered),H.interactionState.hovered=!1),H.arrangement==="snap")){var at=H.traceId+"|"+H.key;H.forceLayouts[at]?H.forceLayouts[at].alpha(1):N($,at,H),B($,G,H,at,ot)}}).on("drag",function(H){if(H.arrangement!=="fixed"){var at=i.event.x,Q=i.event.y;H.arrangement==="snap"?(H.node.x0=at-H.visibleWidth/2,H.node.x1=at+H.visibleWidth/2,H.node.y0=Q-H.visibleHeight/2,H.node.y1=Q+H.visibleHeight/2):(H.arrangement==="freeform"&&(H.node.x0=at-H.visibleWidth/2,H.node.x1=at+H.visibleWidth/2),Q=Math.max(0,Math.min(H.size-H.visibleHeight/2,Q)),H.node.y0=Q-H.visibleHeight/2,H.node.y1=Q+H.visibleHeight/2),it(H.node),H.arrangement!=="snap"&&(H.sankey.update(H.graph),z($.filter(nt(H)),G))}}).on("dragend",function(H){if(H.arrangement!=="fixed"){H.interactionState.dragInProgress=!1;for(var at=0;at<H.node.childrenNodes.length;at++)H.node.childrenNodes[at].x=H.node.x,H.node.childrenNodes[at].y=H.node.y;H.arrangement!=="snap"&&V(H,ot)}});$.on(".drag",null).call(W)}function N($,G,rt,ot){Y(rt.graph.nodes);var W=rt.graph.nodes.filter(function(H){return H.originalX===rt.node.originalX}).filter(function(H){return!H.partOfGroup});rt.forceLayouts[G]=E.forceSimulation(W).alphaDecay(0).force("collide",E.forceCollide().radius(function(H){return H.dy/2+rt.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",q($,G,W,rt)).stop()}function B($,G,rt,ot,W){window.requestAnimationFrame(function H(){var at;for(at=0;at<v.forceTicksPerFrame;at++)rt.forceLayouts[ot].tick();var Q=rt.graph.nodes;if(Z(Q),rt.sankey.update(rt.graph),z($.filter(nt(rt)),G),rt.forceLayouts[ot].alpha()>0)window.requestAnimationFrame(H);else{var ct=rt.node.originalX;rt.node.x0=ct-rt.visibleWidth/2,rt.node.x1=ct+rt.visibleWidth/2,V(rt,W)}})}function q($,G,rt,ot){return function(){for(var W=0,H=0;H<rt.length;H++){var at=rt[H];at===ot.interactionState.dragInProgress?(at.x=at.lastDraggedX,at.y=at.lastDraggedY):(at.vx=(at.originalX-at.x)/v.forceTicksPerFrame,at.y=Math.min(ot.size-at.dy/2,Math.max(at.dy/2,at.y))),W=Math.max(W,Math.abs(at.vx),Math.abs(at.vy))}!ot.interactionState.dragInProgress&&W<.1&&ot.forceLayouts[G].alpha()>0&&ot.forceLayouts[G].alpha(0)}}function V($,G){for(var rt=[],ot=[],W=0;W<$.graph.nodes.length;W++){var H=($.graph.nodes[W].x0+$.graph.nodes[W].x1)/2,at=($.graph.nodes[W].y0+$.graph.nodes[W].y1)/2;rt.push(H/$.figure.width),ot.push(at/$.figure.height)}a.call("_guiRestyle",G,{"node.x":[rt],"node.y":[ot]},$.trace.index).then(function(){G._fullLayout._dragCover&&G._fullLayout._dragCover.remove()})}function J($){var G=[],rt;for(rt=0;rt<$.length;rt++)$[rt].originalX=($[rt].x0+$[rt].x1)/2,$[rt].originalY=($[rt].y0+$[rt].y1)/2,G.indexOf($[rt].originalX)===-1&&G.push($[rt].originalX);for(G.sort(function(ot,W){return ot-W}),rt=0;rt<$.length;rt++)$[rt].originalLayerIndex=G.indexOf($[rt].originalX),$[rt].originalLayer=$[rt].originalLayerIndex/(G.length-1)}function it($){$.lastDraggedX=$.x0+$.dx/2,$.lastDraggedY=$.y0+$.dy/2}function nt($){return function(G){return G.node.originalX===$.node.originalX}}function Y($){for(var G=0;G<$.length;G++)$[G].y=($[G].y0+$[G].y1)/2,$[G].x=($[G].x0+$[G].x1)/2}function Z($){for(var G=0;G<$.length;G++)$[G].y0=$[G].y-$[G].dy/2,$[G].y1=$[G].y0+$[G].dy,$[G].x0=$[G].x-$[G].dx/2,$[G].x1=$[G].x0+$[G].dx}tt.exports=function($,G,rt,ot,W){var H=$._context.staticPlot,at=!1;l.ensureSingle($._fullLayout._infolayer,"g","first-render",function(){at=!0});var Q=$._fullLayout._dragCover,ct=rt.filter(function(At){return h(At).trace.visible}).map(y.bind(null,ot)),ft=G.selectAll("."+v.cn.sankey).data(ct,f);ft.exit().remove(),ft.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",H?"none":"auto").attr("transform",P),ft.each(function(At,Ot){$._fullData[Ot]._sankey=At;var Pt="bgsankey-"+At.trace.uid+"-"+Ot;l.ensureSingle($._fullLayout._draggers,"rect",Pt),$._fullData[Ot]._bgRect=i.select("."+Pt),$._fullData[Ot]._bgRect.style("pointer-events",H?"none":"all").attr("width",At.width).attr("height",At.height).attr("x",At.translateX).attr("y",At.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ft.transition().ease(v.ease).duration(v.duration).attr("transform",P);var yt=ft.selectAll("."+v.cn.sankeyLinks).data(b,f);yt.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xt=yt.selectAll("."+v.cn.sankeyLink).data(function(At){var Ot=At.graph.links;return Ot.filter(function(Pt){return Pt.value}).map(A.bind(null,At))},f);xt.enter().append("path").classed(v.cn.sankeyLink,!0).call(F,ft,W.linkEvents),xt.style("stroke",function(At){return D(At)?r.tinyRGB(d(At.linkLineColor)):At.tinyColorHue}).style("stroke-opacity",function(At){return D(At)?r.opacity(At.linkLineColor):At.tinyColorAlpha}).style("fill",function(At){return At.tinyColorHue}).style("fill-opacity",function(At){return At.tinyColorAlpha}).style("stroke-width",function(At){return D(At)?At.linkLineWidth:1}).attr("d",u()),xt.style("opacity",function(){return $._context.staticPlot||at||Q?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xt.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Lt=ft.selectAll("."+v.cn.sankeyNodeSet).data(b,f);Lt.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Lt.style("cursor",function(At){switch(At.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var gt=Lt.selectAll("."+v.cn.sankeyNode).data(function(At){var Ot=At.graph.nodes;return J(Ot),Ot.map(m.bind(null,At))},f);gt.enter().append("g").classed(v.cn.sankeyNode,!0).call(M).style("opacity",function(At){return($._context.staticPlot||at)&&!At.partOfGroup?1:0}),gt.call(F,ft,W.nodeEvents).call(R,xt,W,$),gt.transition().ease(v.ease).duration(v.duration).call(M).style("opacity",function(At){return At.partOfGroup?0:1}),gt.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var mt=gt.selectAll("."+v.cn.nodeRect).data(b);mt.enter().append("rect").classed(v.cn.nodeRect,!0).call(O),mt.style("stroke-width",function(At){return At.nodeLineWidth}).style("stroke",function(At){return r.tinyRGB(d(At.nodeLineColor))}).style("stroke-opacity",function(At){return r.opacity(At.nodeLineColor)}).style("fill",function(At){return At.tinyColorHue}).style("fill-opacity",function(At){return At.tinyColorAlpha}),mt.transition().ease(v.ease).duration(v.duration).call(O);var vt=gt.selectAll("."+v.cn.nodeLabel).data(b);vt.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),vt.attr("data-notex",1).text(function(At){return At.node.label}).each(function(At){var Ot=i.select(this);e.font(Ot,At.textFont),_.convertToTspans(Ot,$)}).style("text-shadow",_.makeTextShadow($._fullLayout.paper_bgcolor)).attr("text-anchor",function(At){return At.horizontal&&At.left?"end":"start"}).attr("transform",function(At){var Ot=i.select(this),Pt=_.lineCount(Ot),Et=At.textFont.size*((Pt-1)*x-p),Nt=At.nodeLineWidth/2+k,ne=((At.horizontal?At.visibleHeight:At.visibleWidth)-Et)/2;At.horizontal&&(At.left?Nt=-Nt:Nt+=At.visibleWidth);var Gt=At.horizontal?"":"scale(-1,1)"+s(90);return n(At.horizontal?Nt:ne,At.horizontal?ne:Nt)+Gt}),vt.transition().ease(v.ease).duration(v.duration)}},81128:function(tt){tt.exports=function(U,t){for(var E=U.cd,S=[],i=E[0].trace,L=i._sankey.graph.nodes,T=0;T<L.length;T++){var v=L[T];if(!v.partOfGroup){var d=[(v.x0+v.x1)/2,(v.y0+v.y1)/2];i.orientation==="v"&&d.reverse(),t&&t.contains(d,!1,T,U)&&S.push({pointNumber:v.pointNumber})}}return S}},20148:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){for(var L=0;L<S.length;L++)S[L].i=L;E.mergeArray(i.text,S,"tx"),E.mergeArray(i.texttemplate,S,"txt"),E.mergeArray(i.hovertext,S,"htx"),E.mergeArray(i.customdata,S,"data"),E.mergeArray(i.textposition,S,"tp"),i.textfont&&(E.mergeArrayCastPositive(i.textfont.size,S,"ts"),E.mergeArray(i.textfont.color,S,"tc"),E.mergeArray(i.textfont.family,S,"tf"),E.mergeArray(i.textfont.weight,S,"tw"),E.mergeArray(i.textfont.style,S,"ty"),E.mergeArray(i.textfont.variant,S,"tv"));var T=i.marker;if(T){E.mergeArrayCastPositive(T.size,S,"ms"),E.mergeArrayCastPositive(T.opacity,S,"mo"),E.mergeArray(T.symbol,S,"mx"),E.mergeArray(T.angle,S,"ma"),E.mergeArray(T.standoff,S,"mf"),E.mergeArray(T.color,S,"mc");var v=T.line;T.line&&(E.mergeArray(v.color,S,"mlc"),E.mergeArrayCastPositive(v.width,S,"mlw"));var d=T.gradient;d&&d.type!=="none"&&(E.mergeArray(d.type,S,"mgt"),E.mergeArray(d.color,S,"mgc"))}}},52904:function(tt,U,t){var E=t(29736).axisHoverFormat,S=t(21776).Gw,i=t(21776).Ks,L=t(49084),T=t(25376),v=t(98192).u,d=t(98192).c,r=t(43616),e=t(88200),l=t(92880).extendFlat,n=t(98304);function s(b){return{valType:"any",dflt:0,editType:"calc"}}function o(b){return{valType:"any",editType:"calc"}}function f(b){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:s(),yperiod:s(),xperiod0:o(),yperiod0:o(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:E("x"),yhoverformat:E("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:S({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:l({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:d,marker:l({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(tt,U,t){var E=t(38248),S=t(3400),i=t(54460),L=t(1220),T=t(39032).BADNUM,v=t(43028),d=t(90136),r=t(20148),e=t(4500);function l(h,_){var a=h._fullLayout,c=_._xA=i.getFromId(h,_.xaxis||"x","x"),p=_._yA=i.getFromId(h,_.yaxis||"y","y"),x=c.makeCalcdata(_,"x"),k=p.makeCalcdata(_,"y"),y=L(_,c,"x",x),A=L(_,p,"y",k),C=y.vals,u=A.vals,m=_._length,M=new Array(m),w=_.ids,z=b(_,a,c,p),O=!1,D,P,F,R,N,B;o(a,_);var q="x",V="y",J;if(z)S.pushUnique(z.traceIndices,_._expandedIndex),D=z.orientation==="v",D?(V="s",J="x"):(q="s",J="y"),N=z.stackgaps==="interpolate";else{var it=s(_,m);n(h,_,c,p,C,u,it)}var nt=!!_.xperiodalignment,Y=!!_.yperiodalignment;for(P=0;P<m;P++){var Z=M[P]={},$=E(C[P]),G=E(u[P]);$&&G?(Z[q]=C[P],Z[V]=u[P],nt&&(Z.orig_x=x[P],Z.xEnd=y.ends[P],Z.xStart=y.starts[P]),Y&&(Z.orig_y=k[P],Z.yEnd=A.ends[P],Z.yStart=A.starts[P])):z&&(D?$:G)?(Z[J]=D?C[P]:u[P],Z.gap=!0,N?(Z.s=T,O=!0):Z.s=0):Z[q]=Z[V]=T,w&&(Z.id=String(w[P]))}if(r(M,_),d(h,_),e(M,_),z){for(P=0;P<M.length;)M[P][J]===T?M.splice(P,1):P++;if(S.sort(M,function(H,at){return H[J]-at[J]||H.i-at.i}),O){for(P=0;P<M.length-1&&M[P].gap;)P++;for(B=M[P].s,B||(B=M[P].s=0),F=0;F<P;F++)M[F].s=B;for(R=M.length-1;R>P&&M[R].gap;)R--;for(B=M[R].s,F=M.length-1;F>R;F--)M[F].s=B;for(;P<R;)if(P++,M[P].gap){for(F=P+1;M[F].gap;)F++;for(var rt=M[P-1][J],ot=M[P-1].s,W=(M[F].s-ot)/(M[F][J]-rt);P<F;)M[P].s=ot+(M[P][J]-rt)*W,P++}}}return M}function n(h,_,a,c,p,x,k){var y=_._length,A=h._fullLayout,C=a._id,u=c._id,m=A._firstScatter[f(_)]===_.uid,M=(b(_,A,a,c)||{}).orientation,w=_.fill;a._minDtick=0,c._minDtick=0;var z={padded:!0},O={padded:!0};k&&(z.ppad=O.ppad=k);var D=y<2||p[0]!==p[y-1]||x[0]!==x[y-1];D&&(w==="tozerox"||w==="tonextx"&&(m||M==="h"))?z.tozero=!0:!(_.error_y||{}).visible&&(w==="tonexty"||w==="tozeroy"||!v.hasMarkers(_)&&!v.hasText(_))&&(z.padded=!1,z.ppad=0),D&&(w==="tozeroy"||w==="tonexty"&&(m||M==="v"))?O.tozero=!0:(w==="tonextx"||w==="tozerox")&&(O.padded=!1),C&&(_._extremes[C]=i.findExtremes(a,p,z)),u&&(_._extremes[u]=i.findExtremes(c,x,O))}function s(h,_){if(v.hasMarkers(h)){var a=h.marker,c=1.6*(h.marker.sizeref||1),p;if(h.marker.sizemode==="area"?p=function(C){return Math.max(Math.sqrt((C||0)/c),3)}:p=function(C){return Math.max((C||0)/c,3)},S.isArrayOrTypedArray(a.size)){var x={type:"linear"};i.setConvert(x);for(var k=x.makeCalcdata(h.marker,"size"),y=new Array(_),A=0;A<_;A++)y[A]=p(k[A]);return y}else return p(a.size)}}function o(h,_){var a=f(_),c=h._firstScatter;c[a]||(c[a]=_.uid)}function f(h){var _=h.stackgroup;return h.xaxis+h.yaxis+h.type+(_?"-"+_:"")}function b(h,_,a,c){var p=h.stackgroup;if(p){var x=_._scatterStackOpts[a._id+c._id][p],k=x.orientation==="v"?c:a;if(k.type==="linear"||k.type==="log")return x}}tt.exports={calc:l,calcMarkerSize:s,calcAxisExpansion:n,setFirstScatter:o,getStackOpts:b}},4500:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){E.isArrayOrTypedArray(i.selectedpoints)&&E.tagSelected(S,i)}},90136:function(tt,U,t){var E=t(94288).hasColorscale,S=t(47128),i=t(43028);tt.exports=function(L,T){i.hasLines(T)&&E(T,"line")&&S(L,T,{vals:T.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(T)&&(E(T,"marker")&&S(L,T,{vals:T.marker.color,containerStr:"marker",cLetter:"c"}),E(T,"marker.line")&&S(L,T,{vals:T.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(tt){tt.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(tt,U,t){var E=t(16356),S=t(96376).setGroupPositions;function i(v,d){for(var r=d.xaxis,e=d.yaxis,l=v._fullLayout,n=v._fullData,s=v.calcdata,o=[],f=[],b=0;b<n.length;b++){var h=n[b];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===e._id&&(h.orientation==="h"?o.push(s[b]):h.orientation==="v"&&f.push(s[b]))}var _={mode:l.scattermode,gap:l.scattergap};S(v,r,e,f,_),S(v,e,r,o,_)}tt.exports=function(v,d){v._fullLayout.scattermode==="group"&&i(v,d);var r=d.xaxis,e=d.yaxis,l=r._id+e._id,n=v._fullLayout._scatterStackOpts[l];if(n){var s=v.calcdata,o,f,b,h,_,a,c,p,x,k,y,A,C,u,m;for(var M in n){k=n[M];var w=k.traceIndices;if(w.length){for(y=k.stackgaps==="interpolate",A=k.groupnorm,k.orientation==="v"?(C="x",u="y"):(C="y",u="x"),m=new Array(w.length),o=0;o<m.length;o++)m[o]=!1;a=s[w[0]];var z=new Array(a.length);for(o=0;o<a.length;o++)z[o]=a[o][C];for(o=1;o<w.length;o++){for(_=s[w[o]],f=b=0;f<_.length;f++){for(c=_[f][C];c>z[b]&&b<z.length;b++)L(_,f,z[b],o,m,y,C),f++;if(c!==z[b]){for(h=0;h<o;h++)L(s[w[h]],b,c,h,m,y,C);z.splice(b,0,c)}b++}for(;b<z.length;b++)L(_,f,z[b],o,m,y,C),f++}var O=z.length;for(f=0;f<a.length;f++){for(p=a[f][u]=a[f].s,o=1;o<w.length;o++)_=s[w[o]],_[0].trace._rawLength=_[0].trace._length,_[0].trace._length=O,p+=_[f].s,_[f][u]=p;if(A)for(x=(A==="fraction"?p:p/100)||1,o=0;o<w.length;o++){var D=s[w[o]][f];D[u]/=x,D.sNorm=D.s/x}}for(o=0;o<w.length;o++){_=s[w[o]];var P=_[0].trace,F=E.calcMarkerSize(P,P._rawLength),R=Array.isArray(F);if(F&&m[o]||R){var N=F;for(F=new Array(O),f=0;f<O;f++)F[f]=_[f].gap?0:R?N[_[f].i]:N}var B=new Array(O),q=new Array(O);for(f=0;f<O;f++)B[f]=_[f].x,q[f]=_[f].y;E.calcAxisExpansion(v,P,r,e,B,q,F),_[0].t.orientation=k.orientation}}}}};function L(v,d,r,e,l,n,s){l[e]=!0;var o={i:null,gap:!0,s:0};if(o[s]=r,v.splice(d,0,o),d&&r===v[d-1][s]){var f=v[d-1];o.s=f.s,o.i=f.i,o.gap=f.gap}else n&&(o.s=T(v,d,r,s));d||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function T(v,d,r,e){var l=v[d-1],n=v[d+1];return n?l?l.s+(n.s-l.s)*(r-l[e])/(n[e]-l[e]):n.s:l.s}},35036:function(tt,U,t){var E=t(3400),S=t(20011),i=t(52904);tt.exports=function(L,T){var v,d,r;function e(f){return E.coerce(d._input,d,i,f)}if(T.scattermode==="group")for(r=0;r<L.length;r++)d=L[r],d.type==="scatter"&&(v=d._input,S(v,d,T,e));for(r=0;r<L.length;r++){var l=L[r];if(l.type==="scatter"){var n=l.fill;if(!(n==="none"||n==="toself")&&(l.opacity=void 0,n==="tonexty"||n==="tonextx"))for(var s=r-1;s>=0;s--){var o=L[s];if(o.type==="scatter"&&o.xaxis===l.xaxis&&o.yaxis===l.yaxis){o.opacity=void 0;break}}}}}},18800:function(tt,U,t){var E=t(3400),S=t(24040),i=t(52904),L=t(88200),T=t(43028),v=t(43980),d=t(31147),r=t(43912),e=t(74428),l=t(66828),n=t(11731),s=t(124),o=t(70840),f=t(3400).coercePattern;tt.exports=function(b,h,_,a){function c(m,M){return E.coerce(b,h,i,m,M)}var p=v(b,h,a,c);if(p||(h.visible=!1),!!h.visible){d(b,h,a,c),c("xhoverformat"),c("yhoverformat"),c("zorder");var x=r(b,h,a,c);a.scattermode==="group"&&h.orientation===void 0&&c("orientation","v");var k=!x&&p<L.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("mode",k),T.hasMarkers(h)&&e(b,h,_,a,c,{gradient:!0}),T.hasLines(h)&&(l(b,h,_,a,c,{backoff:!0}),n(b,h,c),c("connectgaps"),c("line.simplify")),T.hasText(h)&&(c("texttemplate"),s(b,h,a,c));var y=[];(T.hasMarkers(h)||T.hasText(h))&&(c("cliponaxis"),c("marker.maxdisplayed"),y.push("points")),c("fill",x?x.fillDflt:"none"),h.fill!=="none"&&(o(b,h,_,c,{moduleHasFillgradient:!0}),T.hasLines(h)||n(b,h,c),f(c,"fillpattern",h.fillcolor,!1));var A=(h.line||{}).color,C=(h.marker||{}).color;(h.fill==="tonext"||h.fill==="toself")&&y.push("fills"),c("hoveron",y.join("+")||"points"),h.hoveron!=="fills"&&c("hovertemplate");var u=S.getComponentMethod("errorbars","supplyDefaults");u(b,h,A||C||_,{axis:"y"}),u(b,h,A||C||_,{axis:"x",inherit:"y"}),E.coerceSelectionMarkerOpacity(h,c)}}},98304:function(tt){tt.exports=function(U){return{valType:"color",editType:"style",anim:!0}}},70840:function(tt,U,t){var E=t(76308),S=t(3400).isArrayOrTypedArray;function i(L){for(var T=E.interpolate(L[0][1],L[1][1],.5),v=2;v<L.length;v++){var d=E.interpolate(L[v-1][1],L[v][1],.5);T=E.interpolate(T,d,L[v-1][0]/L[v][0])}return T}tt.exports=function(L,T,v,d,r){r||(r={});var e=!1;if(T.marker){var l=T.marker.color,n=(T.marker.line||{}).color;l&&!S(l)?e=l:n&&!S(n)&&(e=n)}var s;if(r.moduleHasFillgradient){var o=d("fillgradient.type");if(o!=="none"){d("fillgradient.start"),d("fillgradient.stop");var f=d("fillgradient.colorscale");f&&(s=i(f))}}d("fillcolor",E.addOpacity((T.line||{}).color||e||s||v,.5))}},76688:function(tt,U,t){var E=t(54460);tt.exports=function(S,i,L){var T={},v={_fullLayout:L},d=E.getFromTrace(v,i,"x"),r=E.getFromTrace(v,i,"y"),e=S.orig_x;e===void 0&&(e=S.x);var l=S.orig_y;return l===void 0&&(l=S.y),T.xLabel=E.tickText(d,d.c2l(e),!0).text,T.yLabel=E.tickText(r,r.c2l(l),!0).text,T}},44928:function(tt,U,t){var E=t(76308),S=t(43028);tt.exports=function(i,L){var T,v;if(i.mode==="lines")return T=i.line.color,T&&E.opacity(T)?T:i.fillcolor;if(i.mode==="none")return i.fill?i.fillcolor:"";var d=L.mcc||(i.marker||{}).color,r=L.mlcc||((i.marker||{}).line||{}).color;return v=d&&E.opacity(d)?d:r&&E.opacity(r)&&(L.mlw||((i.marker||{}).line||{}).width)?r:"",v?E.opacity(v)<.3?E.addOpacity(v,.3):v:(T=(i.line||{}).color,T&&E.opacity(T)&&S.hasLines(i)&&i.line.width?T:i.fillcolor)}},20011:function(tt,U,t){var E=t(71888).getAxisGroup;tt.exports=function(S,i,L,T){var v=i.orientation,d=i[{v:"x",h:"y"}[v]+"axis"],r=E(L,d)+v,e=L._alignmentOpts||{},l=T("alignmentgroup"),n=e[r];n||(n=e[r]={});var s=n[l];s?s.traces.push(i):s=n[l]={traces:[i],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var o=T("offsetgroup"),f=s.offsetGroups,b=f[o];o&&(b||(b=f[o]={offsetIndex:Object.keys(f).length}),i._offsetIndex=b.offsetIndex)}},98723:function(tt,U,t){var E=t(3400),S=t(93024),i=t(24040),L=t(44928),T=t(76308),v=E.fillText;tt.exports=function(d,r,e,l){var n=d.cd,s=n[0].trace,o=d.xa,f=d.ya,b=o.c2p(r),h=f.c2p(e),_=[b,h],a=s.hoveron||"",c=s.mode.indexOf("markers")!==-1?3:.5,p=!!s.xperiodalignment,x=!!s.yperiodalignment;if(a.indexOf("points")!==-1){var k=function(V){if(p){var J=o.c2p(V.xStart),it=o.c2p(V.xEnd);return b>=Math.min(J,it)&&b<=Math.max(J,it)?0:1/0}var nt=Math.max(3,V.mrc||0),Y=1-1/nt,Z=Math.abs(o.c2p(V.x)-b);return Z<nt?Y*Z/nt:Z-nt+Y},y=function(V){if(x){var J=f.c2p(V.yStart),it=f.c2p(V.yEnd);return h>=Math.min(J,it)&&h<=Math.max(J,it)?0:1/0}var nt=Math.max(3,V.mrc||0),Y=1-1/nt,Z=Math.abs(f.c2p(V.y)-h);return Z<nt?Y*Z/nt:Z-nt+Y},A=function(V){var J=Math.max(c,V.mrc||0),it=o.c2p(V.x)-b,nt=f.c2p(V.y)-h;return Math.max(Math.sqrt(it*it+nt*nt)-J,1-c/J)},C=S.getDistanceFunction(l,k,y,A);if(S.getClosest(n,C,d),d.index!==!1){var u=n[d.index],m=o.c2p(u.x,!0),M=f.c2p(u.y,!0),w=u.mrc||1;d.index=u.i;var z=n[0].t.orientation,O=z&&(u.sNorm||u.s),D=z==="h"?O:u.orig_x!==void 0?u.orig_x:u.x,P=z==="v"?O:u.orig_y!==void 0?u.orig_y:u.y;return E.extendFlat(d,{color:L(s,u),x0:m-w,x1:m+w,xLabelVal:D,y0:M-w,y1:M+w,yLabelVal:P,spikeDistance:A(u),hovertemplate:s.hovertemplate}),v(u,s,d),i.getComponentMethod("errorbars","hoverInfo")(u,s,d),[d]}}function F(V){if(!V)return!1;var J=V.node();try{var it=new DOMPoint(_[0],_[1]);return J.isPointInFill(it)}catch{var nt=J.ownerSVGElement.createSVGPoint();return nt.x=_[0],nt.y=_[1],J.isPointInFill(nt)}}function R(V){var J,it=[],nt=1/0,Y=-1/0,Z=1/0,$=-1/0,G;for(J=0;J<V.length;J++){var rt=V[J];rt.contains(_)&&(it.push(rt),Z=Math.min(Z,rt.ymin),$=Math.max($,rt.ymax))}if(it.length===0)return null;Z=Math.max(Z,0),$=Math.min($,f._length),G=(Z+$)/2;var ot,W,H,at,Q,ct,ft;for(J=0;J<it.length;J++)for(W=it[J].pts,ot=1;ot<W.length;ot++)ct=W[ot-1][1],ft=W[ot][1],ct>G!=ft>=G&&(at=W[ot-1][0],Q=W[ot][0],ft-ct&&(H=at+(Q-at)*(G-ct)/(ft-ct),nt=Math.min(nt,H),Y=Math.max(Y,H)));return nt=Math.max(nt,0),Y=Math.min(Y,o._length),{x0:nt,x1:Y,y0:G,y1:G}}if(a.indexOf("fills")!==-1&&s._fillElement){var N=F(s._fillElement)&&!F(s._fillExclusionElement);if(N){var B=R(s._polygons);B===null&&(B={x0:_[0],x1:_[0],y0:_[1],y1:_[1]});var q=T.defaultLine;return T.opacity(s.fillcolor)?q=s.fillcolor:T.opacity((s.line||{}).color)&&(q=s.line.color),E.extendFlat(d,{distance:d.maxHoverDistance,x0:B.x0,x1:B.x1,y0:B.y0,y1:B.y1,color:q,hovertemplate:!1}),delete d.index,s.text&&!E.isArrayOrTypedArray(s.text)?d.text=String(s.text):d.text=s.name,[d]}}}},65875:function(tt,U,t){var E=t(43028);tt.exports={hasLines:E.hasLines,hasMarkers:E.hasMarkers,hasText:E.hasText,isBubble:E.isBubble,attributes:t(52904),layoutAttributes:t(55308),supplyDefaults:t(18800),crossTraceDefaults:t(35036),supplyLayoutDefaults:t(59748),calc:t(16356).calc,crossTraceCalc:t(96664),arraysToCalcdata:t(20148),plot:t(96504),colorbar:t(5528),formatLabels:t(76688),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(98723),selectPoints:t(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(tt){tt.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(tt,U,t){var E=t(3400),S=t(55308);tt.exports=function(i,L){function T(d,r){return E.coerce(i,L,S,d,r)}var v=L.barmode==="group";L.scattermode==="group"&&T("scattergap",v?L.bargap:.2)}},66828:function(tt,U,t){var E=t(3400).isArrayOrTypedArray,S=t(94288).hasColorscale,i=t(27260);tt.exports=function(L,T,v,d,r,e){e||(e={});var l=(L.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),r("line.color",v),S(L,"line"))i(L,T,d,r,{prefix:"line.",cLetter:"c"});else{var n=(E(l)?!1:l)||v;r("line.color",n)}r("line.width"),e.noDash||r("line.dash"),e.backoff&&r("line.backoff")}},52340:function(tt,U,t){var E=t(43616),S=t(39032),i=S.BADNUM,L=S.LOG_CLIP,T=L+.5,v=L-.5,d=t(3400),r=d.segmentsIntersect,e=d.constrain,l=t(88200);tt.exports=function(n,s){var o=s.trace||{},f=s.xaxis,b=s.yaxis,h=f.type==="log",_=b.type==="log",a=f._length,c=b._length,p=s.backoff,x=o.marker,k=s.connectGaps,y=s.baseTolerance,A=s.shape,C=A==="linear",u=o.fill&&o.fill!=="none",m=[],M=l.minTolerance,w=n.length,z=new Array(w),O=0,D,P,F,R,N,B,q,V,J,it,nt,Y,Z,$,G,rt;function ot(qt){var te=n[qt];if(!te)return!1;var re=s.linearized?f.l2p(te.x):f.c2p(te.x),Ye=s.linearized?b.l2p(te.y):b.c2p(te.y);if(re===i){if(h&&(re=f.c2p(te.x,!0)),re===i)return!1;_&&Ye===i&&(re*=Math.abs(f._m*c*(f._m>0?T:v)/(b._m*a*(b._m>0?T:v)))),re*=1e3}if(Ye===i){if(_&&(Ye=b.c2p(te.y,!0)),Ye===i)return!1;Ye*=1e3}return[re,Ye]}function W(qt,te,re,Ye){var Be=re-qt,ge=Ye-te,be=.5-qt,Ne=.5-te,pr=Be*Be+ge*ge,fe=Be*be+ge*Ne;if(fe>0&&fe<pr){var De=be*ge-Ne*Be;if(De*De<pr)return!0}}var H,at;function Q(qt,te){var re=qt[0]/a,Ye=qt[1]/c,Be=Math.max(0,-re,re-1,-Ye,Ye-1);return Be&&H!==void 0&&W(re,Ye,H,at)&&(Be=0),Be&&te&&W(re,Ye,te[0]/a,te[1]/c)&&(Be=0),(1+l.toleranceGrowth*Be)*y}function ct(qt,te){var re=qt[0]-te[0],Ye=qt[1]-te[1];return Math.sqrt(re*re+Ye*Ye)}var ft=l.maxScreensAway,yt=-a*ft,xt=a*(1+ft),Lt=-c*ft,gt=c*(1+ft),mt=[[yt,Lt,xt,Lt],[xt,Lt,xt,gt],[xt,gt,yt,gt],[yt,gt,yt,Lt]],vt,At,Ot,Pt,Et,Nt;function ne(qt,te){for(var re=[],Ye=0,Be=0;Be<4;Be++){var ge=mt[Be],be=r(qt[0],qt[1],te[0],te[1],ge[0],ge[1],ge[2],ge[3]);be&&(!Ye||Math.abs(be.x-re[0][0])>1||Math.abs(be.y-re[0][1])>1)&&(be=[be.x,be.y],Ye&&ct(be,qt)<ct(re[0],qt)?re.unshift(be):re.push(be),Ye++)}return re}function Gt(qt){if(qt[0]<yt||qt[0]>xt||qt[1]<Lt||qt[1]>gt)return[e(qt[0],yt,xt),e(qt[1],Lt,gt)]}function pe(qt,te){if(qt[0]===te[0]&&(qt[0]===yt||qt[0]===xt)||qt[1]===te[1]&&(qt[1]===Lt||qt[1]===gt))return!0}function Vt(qt,te){var re=[],Ye=Gt(qt),Be=Gt(te);return Ye&&Be&&pe(Ye,Be)||(Ye&&re.push(Ye),Be&&re.push(Be)),re}function ae(qt,te,re){return function(Ye,Be){var ge=Gt(Ye),be=Gt(Be),Ne=[];if(ge&&be&&pe(ge,be))return Ne;ge&&Ne.push(ge),be&&Ne.push(be);var pr=2*d.constrain((Ye[qt]+Be[qt])/2,te,re)-((ge||Ye)[qt]+(be||Be)[qt]);if(pr){var fe;ge&&be?fe=pr>0==ge[qt]>be[qt]?ge:be:fe=ge||be,fe[qt]+=pr}return Ne}}var oe;A==="linear"||A==="spline"?oe=ne:A==="hv"||A==="vh"?oe=Vt:A==="hvh"?oe=ae(0,yt,xt):A==="vhv"&&(oe=ae(1,Lt,gt));function ce(qt,te){var re=te[0]-qt[0],Ye=(te[1]-qt[1])/re,Be=(qt[1]*te[0]-te[1]*qt[0])/re;return Be>0?[Ye>0?yt:xt,gt]:[Ye>0?xt:yt,Lt]}function le(qt){var te=qt[0],re=qt[1],Ye=te===z[O-1][0],Be=re===z[O-1][1];if(!(Ye&&Be))if(O>1){var ge=te===z[O-2][0],be=re===z[O-2][1];Ye&&(te===yt||te===xt)&&ge?be?O--:z[O-1]=qt:Be&&(re===Lt||re===gt)&&be?ge?O--:z[O-1]=qt:z[O++]=qt}else z[O++]=qt}function ye(qt){z[O-1][0]!==qt[0]&&z[O-1][1]!==qt[1]&&le([Ot,Pt]),le(qt),Et=null,Ot=Pt=0}var Tt=d.isArrayOrTypedArray(x);function Ft(qt){if(qt&&p&&(qt.i=D,qt.d=n,qt.trace=o,qt.marker=Tt?x[qt.i]:x,qt.backoff=p),H=qt[0]/a,at=qt[1]/c,vt=qt[0]<yt?yt:qt[0]>xt?xt:0,At=qt[1]<Lt?Lt:qt[1]>gt?gt:0,vt||At){if(!O)z[O++]=[vt||qt[0],At||qt[1]];else if(Et){var te=oe(Et,qt);te.length>1&&(ye(te[0]),z[O++]=te[1])}else Nt=oe(z[O-1],qt)[0],z[O++]=Nt;var re=z[O-1];vt&&At&&(re[0]!==vt||re[1]!==At)?(Et&&(Ot!==vt&&Pt!==At?le(Ot&&Pt?ce(Et,qt):[Ot||vt,Pt||At]):Ot&&Pt&&le([Ot,Pt])),le([vt,At])):Ot-vt&&Pt-At&&le([vt||Ot,At||Pt]),Et=qt,Ot=vt,Pt=At}else Et&&ye(oe(Et,qt)[0]),z[O++]=qt}for(D=0;D<w;D++)if(P=ot(D),!!P){for(O=0,Et=null,Ft(P),D++;D<w;D++){if(R=ot(D),!R){if(k)continue;break}if(!C||!s.simplify){Ft(R);continue}var $t=ot(D+1);if(it=ct(R,P),!(!(u&&(O===0||O===w-1))&&it<Q(R,$t)*M)){for(V=[(R[0]-P[0])/it,(R[1]-P[1])/it],N=P,nt=it,Y=$=G=0,q=!1,F=R,D++;D<n.length;D++){if(B=$t,$t=ot(D+1),!B){if(k)continue;break}if(J=[B[0]-P[0],B[1]-P[1]],rt=J[0]*V[1]-J[1]*V[0],$=Math.min($,rt),G=Math.max(G,rt),G-$>Q(B,$t))break;F=B,Z=J[0]*V[0]+J[1]*V[1],Z>nt?(nt=Z,R=B,q=!1):Z<Y&&(Y=Z,N=B,q=!0)}if(q?(Ft(R),F!==N&&Ft(N)):(N!==P&&Ft(N),F!==R&&Ft(R)),Ft(F),D>=n.length||!B)break;Ft(B),P=B}}Et&&le([Ot||Et[0],Pt||Et[1]]),m.push(z.slice(0,O))}var Wt=A.slice(A.length-1);if(p&&Wt!=="h"&&Wt!=="v"){for(var Bt=!1,Mt=-1,St=[],Dt=0;Dt<m.length;Dt++)for(var dt=0;dt<m[Dt].length-1;dt++){var ht=m[Dt][dt],bt=m[Dt][dt+1],zt=E.applyBackoff(bt,ht);(zt[0]!==bt[0]||zt[1]!==bt[1])&&(Bt=!0),St[Mt+1]||(Mt++,St[Mt]=[ht,[zt[0],zt[1]]])}return Bt?St:m}return m}},11731:function(tt){tt.exports=function(U,t,E){var S=E("line.shape");S==="spline"&&E("line.smoothing")}},14328:function(tt){var U={tonextx:1,tonexty:1,tonext:1};tt.exports=function(t,E,S){var i,L,T,v,d,r={},e=!1,l=-1,n=0,s=-1;for(L=0;L<S.length;L++)i=S[L][0].trace,T=i.stackgroup||"",T?T in r?d=r[T]:(d=r[T]=n,n++):i.fill in U&&s>=0?d=s:(d=s=n,n++),d<l&&(e=!0),i._groupIndex=l=d;var o=S.slice();e&&o.sort(function(b,h){var _=b[0].trace,a=h[0].trace;return _._groupIndex-a._groupIndex||_.index-a.index});var f={};for(L=0;L<o.length;L++)i=o[L][0].trace,T=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in U&&(v=f[T],i._prevtrace=v||null,v&&(v._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),f[T]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return o}},7152:function(tt,U,t){var E=t(38248);tt.exports=function(S,i){i||(i=2);var L=S.marker,T=L.sizeref||1,v=L.sizemin||0,d=L.sizemode==="area"?function(r){return Math.sqrt(r/T)}:function(r){return r/T};return function(r){var e=d(r/i);return E(e)&&e>0?Math.max(e,v):0}}},5528:function(tt){tt.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(tt,U,t){var E=t(76308),S=t(94288).hasColorscale,i=t(27260),L=t(43028);tt.exports=function(T,v,d,r,e,l){var n=L.isBubble(T),s=(T.line||{}).color,o;if(l=l||{},s&&(d=s),e("marker.symbol"),e("marker.opacity",n?.7:1),e("marker.size"),l.noAngle||(e("marker.angle"),l.noAngleRef||e("marker.angleref"),l.noStandOff||e("marker.standoff")),e("marker.color",d),S(T,"marker")&&i(T,v,r,e,{prefix:"marker.",cLetter:"c"}),l.noSelect||(e("selected.marker.color"),e("unselected.marker.color"),e("selected.marker.size"),e("unselected.marker.size")),l.noLine||(s&&!Array.isArray(s)&&v.marker.color!==s?o=s:n?o=E.background:o=E.defaultLine,e("marker.line.color",o),S(T,"marker.line")&&i(T,v,r,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width",n?1:0)),n&&(e("marker.sizeref"),e("marker.sizemin"),e("marker.sizemode")),l.gradient){var f=e("marker.gradient.type");f!=="none"&&e("marker.gradient.color")}}},31147:function(tt,U,t){var E=t(3400).dateTick0,S=t(39032),i=S.ONEWEEK;function L(T,v){return T%i===0?E(v,1):E(v,0)}tt.exports=function(T,v,d,r,e){if(e||(e={x:!0,y:!0}),e.x){var l=r("xperiod");l&&(r("xperiod0",L(l,v.xcalendar)),r("xperiodalignment"))}if(e.y){var n=r("yperiod");n&&(r("yperiod0",L(n,v.ycalendar)),r("yperiodalignment"))}}},96504:function(tt,U,t){var E=t(33428),S=t(24040),i=t(3400),L=i.ensureSingle,T=i.identity,v=t(43616),d=t(43028),r=t(52340),e=t(14328),l=t(92065).tester;tt.exports=function(f,b,h,_,a,c){var p,x,k=!a,y=!!a&&a.duration>0,A=e(f,b,h);if(p=_.selectAll("g.trace").data(A,function(u){return u[0].trace.uid}),p.enter().append("g").attr("class",function(u){return"trace scatter trace"+u[0].trace.uid}).style("stroke-miterlimit",2),p.order(),n(f,p,b),y){c&&(x=c());var C=E.transition().duration(a.duration).ease(a.easing).each("end",function(){x&&x()}).each("interrupt",function(){x&&x()});C.each(function(){_.selectAll("g.trace").each(function(u,m){s(f,m,b,u,A,this,a)})})}else p.each(function(u,m){s(f,m,b,u,A,this,a)});k&&p.exit().remove(),_.selectAll("path:not([d])").remove()};function n(f,b,h){b.each(function(_){var a=L(E.select(this),"g","fills");v.setClipUrl(a,h.layerClipId,f);var c=_[0].trace,p=[];c._ownfill&&p.push("_ownFill"),c._nexttrace&&p.push("_nextFill");var x=a.selectAll("g").data(p,T);x.enter().append("g"),x.exit().each(function(k){c[k]=null}).remove(),x.order().each(function(k){c[k]=L(E.select(this),"path","js-fill")})})}function s(f,b,h,_,a,c,p){var x=f._context.staticPlot,k;o(f,b,h,_,a);var y=!!p&&p.duration>0;function A(ye){return y?ye.transition():ye}var C=h.xaxis,u=h.yaxis,m=_[0].trace,M=m.line,w=E.select(c),z=L(w,"g","errorbars"),O=L(w,"g","lines"),D=L(w,"g","points"),P=L(w,"g","text");if(S.getComponentMethod("errorbars","plot")(f,z,h,p),m.visible!==!0)return;A(w).style("opacity",m.opacity);var F,R,N=m.fill.charAt(m.fill.length-1);N!=="x"&&N!=="y"&&(N="");var B,q;N==="y"?(B=1,q=u.c2p(0,!0)):N==="x"&&(B=0,q=C.c2p(0,!0)),_[0][h.isRangePlot?"nodeRangePlot3":"node3"]=w;var V="",J=[],it=m._prevtrace,nt=null,Y=null;it&&(V=it._prevRevpath||"",R=it._nextFill,J=it._ownPolygons,nt=it._fillsegments,Y=it._fillElement);var Z,$,G="",rt="",ot,W,H,at,Q,ct,ft=[];m._polygons=[];var yt=[],xt=[],Lt=i.noop;if(F=m._ownFill,d.hasLines(m)||m.fill!=="none"){R&&R.datum(_),["hv","vh","hvh","vhv"].indexOf(M.shape)!==-1?(ot=v.steps(M.shape),W=v.steps(M.shape.split("").reverse().join(""))):M.shape==="spline"?ot=W=function(ye){var Tt=ye[ye.length-1];return ye.length>1&&ye[0][0]===Tt[0]&&ye[0][1]===Tt[1]?v.smoothclosed(ye.slice(1),M.smoothing):v.smoothopen(ye,M.smoothing)}:ot=W=function(ye){return"M"+ye.join("L")},H=function(ye){return W(ye.reverse())},xt=r(_,{xaxis:C,yaxis:u,trace:m,connectGaps:m.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:m.fill}),yt=new Array(xt.length);var gt=0;for(k=0;k<xt.length;k++){var mt,vt=xt[k];!mt||!N?(mt=vt.slice(),yt[gt]=mt,gt++):mt.push.apply(mt,vt)}m._fillElement=null,m._fillExclusionElement=Y,m._fillsegments=yt.slice(0,gt),yt=m._fillsegments,xt.length&&(at=xt[0][0].slice(),Q=xt[xt.length-1],ct=Q[Q.length-1].slice()),Lt=function(ye){return function(Tt){if(Z=ot(Tt),$=H(Tt),G?N?(G+="L"+Z.substr(1),rt=$+("L"+rt.substr(1))):(G+="Z"+Z,rt=$+"Z"+rt):(G=Z,rt=$),d.hasLines(m)){var Ft=E.select(this);if(Ft.datum(_),ye)A(Ft.style("opacity",0).attr("d",Z).call(v.lineGroupStyle)).style("opacity",1);else{var $t=A(Ft);$t.attr("d",Z),v.singleLineStyle(_,$t)}}}}}var At=O.selectAll(".js-line").data(xt);A(At.exit()).style("opacity",0).remove(),At.each(Lt(!1)),At.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Lt(!0)),v.setClipUrl(At,h.layerClipId,f);function Ot(ye){A(ye).attr("d","M0,0Z")}var Pt=function(){var ye=new Array(yt.length);for(k=0;k<yt.length;k++)ye[k]=l(yt[k]);return ye},Et=function(ye){var Tt,Ft;if(!ye||ye.length===0)for(Tt=new Array(yt.length),Ft=0;Ft<yt.length;Ft++){var $t=yt[Ft][0].slice(),Wt=yt[Ft][yt[Ft].length-1].slice();$t[B]=Wt[B]=q;var Bt=[Wt,$t],Mt=Bt.concat(yt[Ft]);Tt[Ft]=l(Mt)}else{for(Tt=new Array(ye.length-1+yt.length),Ft=0;Ft<ye.length-1;Ft++)Tt[Ft]=l(ye[Ft]);var St=ye[ye.length-1].slice();for(St.reverse(),Ft=0;Ft<yt.length;Ft++)Tt[ye.length-1+Ft]=l(yt[Ft].concat(St))}return Tt};xt.length?(F?(F.datum(_),at&&ct&&(N?(at[B]=ct[B]=q,A(F).attr("d","M"+ct+"L"+at+"L"+G.substr(1)).call(v.singleFillStyle,f),ft=Et(null)):(A(F).attr("d",G+"Z").call(v.singleFillStyle,f),ft=Pt())),m._polygons=ft,m._fillElement=F):R&&(m.fill.substr(0,6)==="tonext"&&G&&V?(m.fill==="tonext"?(A(R).attr("d",G+"Z"+V+"Z").call(v.singleFillStyle,f),ft=Pt(),m._polygons=ft.concat(J)):(A(R).attr("d",G+"L"+V.substr(1)+"Z").call(v.singleFillStyle,f),ft=Et(nt),m._polygons=ft),m._fillElement=R):Ot(R)),m._prevRevpath=rt):(F?Ot(F):R&&Ot(R),m._prevRevpath=null),m._ownPolygons=ft;function Nt(ye){return ye.filter(function(Tt){return!Tt.gap&&Tt.vis})}function ne(ye){return ye.filter(function(Tt){return Tt.vis})}function Gt(ye){return ye.filter(function(Tt){return!Tt.gap})}function pe(ye){return ye.id}function Vt(ye){if(ye.ids)return pe}function ae(){return!1}function oe(ye,Tt,Ft){var $t,Wt,Bt,Mt=Ft[0].trace,St=d.hasMarkers(Mt),Dt=d.hasText(Mt),dt=Vt(Mt),ht=ae,bt=ae;if(St||Dt){var zt=T,qt=Mt.stackgroup,te=qt&&f._fullLayout._scatterStackOpts[C._id+u._id][qt].stackgaps==="infer zero";Mt.marker.maxdisplayed||Mt._needsCull?zt=te?ne:Nt:qt&&!te&&(zt=Gt),St&&(ht=zt),Dt&&(bt=zt)}Wt=ye.selectAll("path.point"),$t=Wt.data(ht,dt);var re=$t.enter().append("path").classed("point",!0);y&&re.call(v.pointStyle,Mt,f).call(v.translatePoints,C,u).style("opacity",0).transition().style("opacity",1),$t.order();var Ye;St&&(Ye=v.makePointStyleFns(Mt)),$t.each(function(Be){var ge=E.select(this),be=A(ge);Bt=v.translatePoint(Be,be,C,u),Bt?(v.singlePointStyle(Be,be,Mt,Ye,f),h.layerClipId&&v.hideOutsideRangePoint(Be,be,C,u,Mt.xcalendar,Mt.ycalendar),Mt.customdata&&ge.classed("plotly-customdata",Be.data!==null&&Be.data!==void 0)):be.remove()}),y?$t.exit().transition().style("opacity",0).remove():$t.exit().remove(),Wt=Tt.selectAll("g"),$t=Wt.data(bt,dt),$t.enter().append("g").classed("textpoint",!0).append("text"),$t.order(),$t.each(function(Be){var ge=E.select(this),be=A(ge.select("text"));Bt=v.translatePoint(Be,be,C,u),Bt?h.layerClipId&&v.hideOutsideRangePoint(Be,ge,C,u,Mt.xcalendar,Mt.ycalendar):ge.remove()}),$t.selectAll("text").call(v.textPointStyle,Mt,f).each(function(Be){var ge=C.c2p(Be.x),be=u.c2p(Be.y);E.select(this).selectAll("tspan.line").each(function(){A(E.select(this)).attr({x:ge,y:be})})}),$t.exit().remove()}D.datum(_),P.datum(_),oe(D,P,_);var ce=m.cliponaxis===!1,le=ce?null:h.layerClipId;v.setClipUrl(D,le,f),v.setClipUrl(P,le,f)}function o(f,b,h,_,a){var c=h.xaxis,p=h.yaxis,x=E.extent(i.simpleMap(c.range,c.r2c)),k=E.extent(i.simpleMap(p.range,p.r2c)),y=_[0].trace;if(d.hasMarkers(y)){var A=y.marker.maxdisplayed;if(A!==0){var C=_.filter(function(w){return w.x>=x[0]&&w.x<=x[1]&&w.y>=k[0]&&w.y<=k[1]}),u=Math.ceil(C.length/A),m=0;a.forEach(function(w,z){var O=w[0].trace;d.hasMarkers(O)&&O.marker.maxdisplayed>0&&z<b&&m++});var M=Math.round(m*u/3+Math.floor(m/3)*u/7.1);_.forEach(function(w){delete w.vis}),C.forEach(function(w,z){Math.round((z+M)%u)===0&&(w.vis=!0)})}}}},91560:function(tt,U,t){var E=t(43028);tt.exports=function(S,i){var L=S.cd,T=S.xaxis,v=S.yaxis,d=[],r=L[0].trace,e,l,n,s,o=!E.hasMarkers(r)&&!E.hasText(r);if(o)return[];if(i===!1)for(e=0;e<L.length;e++)L[e].selected=0;else for(e=0;e<L.length;e++)l=L[e],n=T.c2p(l.x),s=v.c2p(l.y),l.i!==null&&i.contains([n,s],!1,e,S)?(d.push({pointNumber:l.i,x:T.c2d(l.x),y:v.c2d(l.y)}),l.selected=1):l.selected=0;return d}},43912:function(tt){var U=["orientation","groupnorm","stackgaps"];tt.exports=function(t,E,S,i){var L=S._scatterStackOpts,T=i("stackgroup");if(T){var v=E.xaxis+E.yaxis,d=L[v];d||(d=L[v]={});var r=d[T],e=!1;r?r.traces.push(E):(r=d[T]={traceIndices:[],traces:[E]},e=!0);for(var l={orientation:E.x&&!E.y?"h":"v"},n=0;n<U.length;n++){var s=U[n],o=s+"Found";if(!r[o]){var f=t[s]!==void 0,b=s==="orientation";if((f||e)&&(r[s]=i(s,l[s]),b&&(r.fillDflt=r[s]==="h"?"tonextx":"tonexty"),f&&(r[o]=!0,!e&&(delete r.traces[0][s],b))))for(var h=0;h<r.traces.length-1;h++){var _=r.traces[h];_._input.fill!==_.fill&&(_.fill=r.fillDflt)}}}return r}}},49224:function(tt,U,t){var E=t(33428),S=t(43616),i=t(24040);function L(r){var e=E.select(r).selectAll("g.trace.scatter");e.style("opacity",function(l){return l[0].trace.opacity}),e.selectAll("g.points").each(function(l){var n=E.select(this),s=l.trace||l[0].trace;T(n,s,r)}),e.selectAll("g.text").each(function(l){var n=E.select(this),s=l.trace||l[0].trace;v(n,s,r)}),e.selectAll("g.trace path.js-line").call(S.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(S.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(e)}function T(r,e,l){S.pointStyle(r.selectAll("path.point"),e,l)}function v(r,e,l){S.textPointStyle(r.selectAll("text"),e,l)}function d(r,e,l){var n=e[0].trace;n.selectedpoints?(S.selectedPointStyle(l.selectAll("path.point"),n),S.selectedTextStyle(l.selectAll("text"),n)):(T(l,n,r),v(l,n,r))}tt.exports={style:L,stylePoints:T,styleText:v,styleOnSelect:d}},43028:function(tt,U,t){var E=t(3400),S=t(38116).isTypedArraySpec;tt.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var L=i.marker;return E.isPlainObject(L)&&(E.isArrayOrTypedArray(L.size)||S(L.size))}}},124:function(tt,U,t){var E=t(3400);tt.exports=function(S,i,L,T,v){v=v||{},T("textposition"),E.coerceFont(T,"textfont",v.font||L.font,v),v.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},43980:function(tt,U,t){var E=t(3400),S=t(24040);tt.exports=function(i,L,T,v){var d=v("x"),r=v("y"),e,l=S.getComponentMethod("calendars","handleTraceDefaults");if(l(i,L,["x","y"],T),d){var n=E.minRowLength(d);r?e=Math.min(n,E.minRowLength(r)):(e=n,v("y0"),v("dy"))}else{if(!r)return 0;e=E.minRowLength(r),v("x0"),v("dx")}return L._length=e,e}},91592:function(tt,U,t){var E=t(52904),S=t(25376),i=t(49084),L=t(29736).axisHoverFormat,T=t(21776).Ks,v=t(21776).Gw,d=t(45464),r=t(99168),e=t(87792),l=t(92880).extendFlat,n=t(67824).overrideAll,s=t(95376),o=E.line,f=E.marker,b=f.line,h=l({width:o.width,dash:{valType:"enumerated",values:s(r),dflt:"solid"}},i("line"));function _(c){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var a=tt.exports=n({x:E.x,y:E.y,z:{valType:"data_array"},text:l({},E.text,{}),texttemplate:v({},{}),hovertext:l({},E.hovertext,{}),hovertemplate:T(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),mode:l({},E.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:_(),y:_(),z:_()},connectgaps:E.connectgaps,line:h,marker:l({symbol:{valType:"enumerated",values:s(e),dflt:"circle",arrayOk:!0},size:l({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:l({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:l({width:l({},b.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:l({},E.textposition,{dflt:"top center"}),textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:d.opacity,hoverinfo:l({},d.hoverinfo)},"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes"},41484:function(tt,U,t){var E=t(20148),S=t(90136);tt.exports=function(i,L){var T=[{x:!1,y:!1,trace:L,t:{}}];return E(T,L),S(i,L),T}},45156:function(tt,U,t){var E=t(24040);function S(T,v,d,r){if(!v||!v.visible)return null;for(var e=E.getComponentMethod("errorbars","makeComputeError")(v),l=new Array(T.length),n=0;n<T.length;n++){var s=e(+T[n],n);if(r.type==="log"){var o=r.c2l(T[n]),f=T[n]-s[0],b=T[n]+s[1];if(l[n]=[(r.c2l(f,!0)-o)*d,(r.c2l(b,!0)-o)*d],f>0){var h=r.c2l(f);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else l[n]=[-s[0]*d,s[1]*d]}return l}function i(T){for(var v=0;v<T.length;v++)if(T[v])return T[v].length;return 0}function L(T,v,d){var r=[S(T.x,T.error_x,v[0],d.xaxis),S(T.y,T.error_y,v[1],d.yaxis),S(T.z,T.error_z,v[2],d.zaxis)],e=i(r);if(e===0)return null;for(var l=new Array(e),n=0;n<e;n++){for(var s=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(r[o])for(var f=0;f<2;f++)s[f][o]=r[o][n][f];l[n]=s}return l}tt.exports=L},41064:function(tt,U,t){var E=t(67792).gl_line3d,S=t(67792).gl_scatter3d,i=t(67792).gl_error3d,L=t(67792).gl_mesh3d,T=t(67792).delaunay_triangulate,v=t(3400),d=t(43080),r=t(33040).formatColor,e=t(7152),l=t(99168),n=t(87792),s=t(54460),o=t(10624).appendArrayPointValue,f=t(45156);function b(w,z){this.scene=w,this.uid=z,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=b.prototype;h.handlePick=function(w){if(w.object&&(w.object===this.linePlot||w.object===this.delaunayMesh||w.object===this.textMarkers||w.object===this.scatterPlot)){var z=w.index=w.data.index;return w.object.highlight&&w.object.highlight(null),this.scatterPlot&&(w.object=this.scatterPlot,this.scatterPlot.highlight(w.data)),w.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[z]||this.textLabels[z]===0)&&(w.textLabel=this.textLabels[z]):w.textLabel=this.textLabels),w.traceCoordinate=[this.data.x[z],this.data.y[z],this.data.z[z]],!0}};function _(w,z,O){var D=(O+1)%3,P=(O+2)%3,F=[],R=[],N;for(N=0;N<w.length;++N){var B=w[N];isNaN(B[D])||!isFinite(B[D])||isNaN(B[P])||!isFinite(B[P])||(F.push([B[D],B[P]]),R.push(N))}var q=T(F);for(N=0;N<q.length;++N)for(var V=q[N],J=0;J<V.length;++J)V[J]=R[V[J]];return{positions:w,cells:q,meshColor:z}}function a(w){for(var z=[0,0,0],O=[[0,0,0],[0,0,0],[0,0,0]],D=[1,1,1],P=0;P<3;P++){var F=w[P];F&&F.copy_zstyle!==!1&&w[2].visible!==!1&&(F=w[2]),!(!F||!F.visible)&&(z[P]=F.width/2,O[P]=d(F.color),D[P]=F.thickness)}return{capSize:z,color:O,lineWidth:D}}function c(w){return w==null?0:w.indexOf("left")>-1?-1:w.indexOf("right")>-1?1:0}function p(w){return w==null?0:w.indexOf("top")>-1?-1:w.indexOf("bottom")>-1?1:0}function x(w){var z=0,O=0,D=[z,O];if(Array.isArray(w))for(var P=0;P<w.length;P++)D[P]=[z,O],w[P]&&(D[P][0]=c(w[P]),D[P][1]=p(w[P]));else D[0]=c(w),D[1]=p(w);return D}function k(w,z){return z(w*4)}function y(w){return n[w]}function A(w,z,O,D,P){var F=null;if(v.isArrayOrTypedArray(w)){F=[];for(var R=0;R<z;R++)w[R]===void 0?F[R]=D:F[R]=O(w[R],P)}else F=O(w,v.identity);return F}function C(w,z){var O=[],D=w.fullSceneLayout,P=w.dataScale,F=D.xaxis,R=D.yaxis,N=D.zaxis,B=z.marker,q=z.line,V=z.x||[],J=z.y||[],it=z.z||[],nt=V.length,Y=z.xcalendar,Z=z.ycalendar,$=z.zcalendar,G,rt,ot,W,H,at;for(H=0;H<nt;H++)G=F.d2l(V[H],0,Y)*P[0],rt=R.d2l(J[H],0,Z)*P[1],ot=N.d2l(it[H],0,$)*P[2],O[H]=[G,rt,ot];if(Array.isArray(z.text))at=z.text;else if(v.isTypedArray(z.text))at=Array.from(z.text);else if(z.text!==void 0)for(at=new Array(nt),H=0;H<nt;H++)at[H]=z.text;function Q(Gt,pe){var Vt=D[Gt];return s.tickText(Vt,Vt.d2l(pe),!0).text}var ct=z.texttemplate;if(ct){var ft=w.fullLayout,yt=ft._d3locale,xt=Array.isArray(ct),Lt=xt?Math.min(ct.length,nt):nt,gt=xt?function(Gt){return ct[Gt]}:function(){return ct};for(at=new Array(Lt),H=0;H<Lt;H++){var mt={x:V[H],y:J[H],z:it[H]},vt={xLabel:Q("xaxis",V[H]),yLabel:Q("yaxis",J[H]),zLabel:Q("zaxis",it[H])},At={};o(At,z,H);var Ot=z._meta||{};at[H]=v.texttemplateString(gt(H),vt,yt,At,mt,Ot)}}if(W={position:O,mode:z.mode,text:at},"line"in z&&(W.lineColor=r(q,1,nt),W.lineWidth=q.width,W.lineDashes=q.dash),"marker"in z){var Pt=e(z);W.scatterColor=r(B,1,nt),W.scatterSize=A(B.size,nt,k,20,Pt),W.scatterMarker=A(B.symbol,nt,y,"\u25CF"),W.scatterLineWidth=B.line.width,W.scatterLineColor=r(B.line,1,nt),W.scatterAngle=0}"textposition"in z&&(W.textOffset=x(z.textposition),W.textColor=r(z.textfont,1,nt),W.textSize=A(z.textfont.size,nt,v.identity,12),W.textFontFamily=z.textfont.family,W.textFontWeight=z.textfont.weight,W.textFontStyle=z.textfont.style,W.textFontVariant=z.textfont.variant,W.textAngle=0);var Et=["x","y","z"];for(W.project=[!1,!1,!1],W.projectScale=[1,1,1],W.projectOpacity=[1,1,1],H=0;H<3;++H){var Nt=z.projection[Et[H]];(W.project[H]=Nt.show)&&(W.projectOpacity[H]=Nt.opacity,W.projectScale[H]=Nt.scale)}W.errorBounds=f(z,P,D);var ne=a([z.error_x,z.error_y,z.error_z]);return W.errorColor=ne.color,W.errorLineWidth=ne.lineWidth,W.errorCapSize=ne.capSize,W.delaunayAxis=z.surfaceaxis,W.delaunayColor=d(z.surfacecolor),W}function u(w){if(v.isArrayOrTypedArray(w)){var z=w[0];return v.isArrayOrTypedArray(z)&&(w=z),"rgb("+w.slice(0,3).map(function(O){return Math.round(O*255)})+")"}return null}function m(w){return v.isArrayOrTypedArray(w)?w.length===4&&typeof w[0]=="number"?u(w):w.map(u):null}h.update=function(w){var z=this.scene.glplot.gl,O,D,P,F,R=l.solid;this.data=w;var N=C(this.scene,w);"mode"in N&&(this.mode=N.mode),"lineDashes"in N&&N.lineDashes in l&&(R=l[N.lineDashes]),this.color=m(N.scatterColor)||m(N.lineColor),this.dataPoints=N.position,O={gl:this.scene.glplot.gl,position:N.position,color:N.lineColor,lineWidth:N.lineWidth||1,dashes:R[0],dashScale:R[1],opacity:w.opacity,connectGaps:w.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(O):(this.linePlot=E(O),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=w.opacity;if(w.marker&&w.marker.opacity!==void 0&&(B*=w.marker.opacity),D={gl:this.scene.glplot.gl,position:N.position,color:N.scatterColor,size:N.scatterSize,glyph:N.scatterMarker,opacity:B,orthographic:!0,lineWidth:N.scatterLineWidth,lineColor:N.scatterLineColor,project:N.project,projectScale:N.projectScale,projectOpacity:N.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(D):(this.scatterPlot=S(D),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:N.position,glyph:N.text,color:N.textColor,size:N.textSize,angle:N.textAngle,alignment:N.textOffset,font:N.textFontFamily,fontWeight:N.textFontWeight,fontStyle:N.textFontStyle,fontVariant:N.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:w.opacity},this.textLabels=w.hovertext||w.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=S(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),P={gl:this.scene.glplot.gl,position:N.position,color:N.errorColor,error:N.errorBounds,lineWidth:N.errorLineWidth,capSize:N.errorCapSize,opacity:w.opacity},this.errorBars?N.errorBounds?this.errorBars.update(P):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):N.errorBounds&&(this.errorBars=i(P),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),N.delaunayAxis>=0){var q=_(N.position,N.delaunayColor,N.delaunayAxis);q.opacity=w.opacity,this.delaunayMesh?this.delaunayMesh.update(q):(q.gl=z,this.delaunayMesh=L(q),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function M(w,z){var O=new b(w,z.uid);return O.update(z),O}tt.exports=M},83484:function(tt,U,t){var E=t(24040),S=t(3400),i=t(43028),L=t(74428),T=t(66828),v=t(124),d=t(91592);tt.exports=function(e,l,n,s){function o(x,k){return S.coerce(e,l,d,x,k)}var f=r(e,l,o,s);if(!f){l.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),i.hasMarkers(l)&&L(e,l,n,s,o,{noSelect:!0,noAngle:!0}),i.hasLines(l)&&(o("connectgaps"),T(e,l,n,s,o)),i.hasText(l)&&(o("texttemplate"),v(e,l,s,o,{noSelect:!0}));var b=(l.line||{}).color,h=(l.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",b||h);for(var _=["x","y","z"],a=0;a<3;++a){var c="projection."+_[a];o(c+".show")&&(o(c+".opacity"),o(c+".scale"))}var p=E.getComponentMethod("errorbars","supplyDefaults");p(e,l,b||h||n,{axis:"z"}),p(e,l,b||h||n,{axis:"y",inherit:"z"}),p(e,l,b||h||n,{axis:"x",inherit:"z"})};function r(e,l,n,s){var o=0,f=n("x"),b=n("y"),h=n("z"),_=E.getComponentMethod("calendars","handleTraceDefaults");return _(e,l,["x","y","z"],s),f&&b&&h&&(o=Math.min(f.length,b.length,h.length),l._length=l._xlength=l._ylength=l._zlength=o),o}},3296:function(tt,U,t){tt.exports={plot:t(41064),attributes:t(91592),markerSymbols:t(87792),supplyDefaults:t(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t(41484),moduleType:"trace",name:"scatter3d",basePlotModule:t(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(tt,U,t){var E=t(98304),S=t(52904),i=t(45464),L=t(21776).Ks,T=t(21776).Gw,v=t(49084),d=t(92880).extendFlat,r=S.marker,e=S.line,l=r.line;tt.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:d({},S.mode,{dflt:"markers"}),text:d({},S.text,{}),texttemplate:T({editType:"plot"},{keys:["a","b","text"]}),hovertext:d({},S.hovertext,{}),line:{color:e.color,width:e.width,dash:e.dash,backoff:e.backoff,shape:d({},e.shape,{values:["linear","spline"]}),smoothing:e.smoothing,editType:"calc"},connectgaps:S.connectgaps,fill:d({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:E(),marker:d({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:d({width:l.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:S.textfont,textposition:S.textposition,selected:S.selected,unselected:S.unselected,hoverinfo:d({},i.hoverinfo,{flags:["a","b","text","name"]}),hoveron:S.hoveron,hovertemplate:L(),zorder:S.zorder}},48228:function(tt,U,t){var E=t(38248),S=t(90136),i=t(20148),L=t(4500),T=t(16356).calcMarkerSize,v=t(50948);tt.exports=function(d,r){var e=r._carpetTrace=v(d,r);if(!(!e||!e.visible||e.visible==="legendonly")){var l;r.xaxis=e.xaxis,r.yaxis=e.yaxis;var n=r._length,s=new Array(n),o,f,b=!1;for(l=0;l<n;l++)if(o=r.a[l],f=r.b[l],E(o)&&E(f)){var h=e.ab2xy(+o,+f,!0),_=e.isVisible(+o,+f);_||(b=!0),s[l]={x:h[0],y:h[1],a:o,b:f,vis:_}}else s[l]={x:!1,y:!1};return r._needsCull=b,s[0].carpet=e,s[0].trace=r,T(r,n),S(d,r),i(s,r),L(s,r),s}}},6176:function(tt,U,t){var E=t(3400),S=t(88200),i=t(43028),L=t(74428),T=t(66828),v=t(11731),d=t(124),r=t(70840),e=t(90372);tt.exports=function(l,n,s,o){function f(x,k){return E.coerce(l,n,e,x,k)}f("carpet"),n.xaxis="x",n.yaxis="y";var b=f("a"),h=f("b"),_=Math.min(b.length,h.length);if(!_){n.visible=!1;return}n._length=_,f("text"),f("texttemplate"),f("hovertext");var a=_<S.PTS_LINESONLY?"lines+markers":"lines";f("mode",a),i.hasMarkers(n)&&L(l,n,s,o,f,{gradient:!0}),i.hasLines(n)&&(T(l,n,s,o,f,{backoff:!0}),v(l,n,f),f("connectgaps")),i.hasText(n)&&d(l,n,o,f);var c=[];(i.hasMarkers(n)||i.hasText(n))&&(f("marker.maxdisplayed"),c.push("points")),f("fill"),n.fill!=="none"&&(r(l,n,s,f),i.hasLines(n)||v(l,n,f)),(n.fill==="tonext"||n.fill==="toself")&&c.push("fills");var p=f("hoveron",c.join("+")||"points");p!=="fills"&&f("hovertemplate"),f("zorder"),E.coerceSelectionMarkerOpacity(n,f)}},89307:function(tt){tt.exports=function(U,t,E,S,i){var L=S[i];return U.a=L.a,U.b=L.b,U.y=L.y,U}},52364:function(tt){tt.exports=function(U,t){var E={},S=t._carpet,i=S.ab2ij([U.a,U.b]),L=Math.floor(i[0]),T=i[0]-L,v=Math.floor(i[1]),d=i[1]-v,r=S.evalxy([],L,v,T,d);return E.yLabel=r[1].toFixed(3),E}},58960:function(tt,U,t){var E=t(98723),S=t(3400).fillText;tt.exports=function(i,L,T,v){var d=E(i,L,T,v);if(!d||d[0].index===!1)return;var r=d[0];if(r.index===void 0){var e=1-r.y0/i.ya._length,l=i.xa._length,n=l*e/2,s=l-n;return r.x0=Math.max(Math.min(r.x0,s),n),r.x1=Math.max(Math.min(r.x1,s),n),d}var o=r.cd[r.index];r.a=o.a,r.b=o.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var f=r.trace,b=f._carpet,h=f._module.formatLabels(o,f);r.yLabel=h.yLabel,delete r.text;var _=[];function a(x,k){var y;x.labelprefix&&x.labelprefix.length>0?y=x.labelprefix.replace(/ = $/,""):y=x._hovertitle,_.push(y+": "+k.toFixed(3)+x.labelsuffix)}if(!f.hovertemplate){var c=o.hi||f.hoverinfo,p=c.split("+");p.indexOf("all")!==-1&&(p=["a","b","text"]),p.indexOf("a")!==-1&&a(b.aaxis,o.a),p.indexOf("b")!==-1&&a(b.baxis,o.b),_.push("y: "+r.yLabel),p.indexOf("text")!==-1&&S(o,f,_),r.extraText=_.join("<br>")}return d}},4184:function(tt,U,t){tt.exports={attributes:t(90372),supplyDefaults:t(6176),colorbar:t(5528),formatLabels:t(52364),calc:t(48228),plot:t(20036),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(58960),selectPoints:t(91560),eventData:t(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:t(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(tt,U,t){var E=t(96504),S=t(54460),i=t(43616);tt.exports=function(L,T,v,d){var r,e,l,n=v[0][0].carpet,s=S.getFromId(L,n.xaxis||"x"),o=S.getFromId(L,n.yaxis||"y"),f={xaxis:s,yaxis:o,plot:T.plot};for(r=0;r<v.length;r++)e=v[r][0].trace,e._xA=s,e._yA=o;for(E(L,f,v,d),r=0;r<v.length;r++)e=v[r][0].trace,l=d.selectAll("g.trace"+e.uid+" .js-line"),i.setClipUrl(l,v[r][0].carpet._clipPathId,L)}},6096:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(98304),L=t(52904),T=t(45464),v=t(49084),d=t(98192).u,r=t(92880).extendFlat,e=t(67824).overrideAll,l=L.marker,n=L.line,s=l.line;tt.exports=e({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:S({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:n.color,width:n.width,dash:d},connectgaps:L.connectgaps,marker:r({symbol:l.symbol,opacity:l.opacity,angle:l.angle,angleref:r({},l.angleref,{values:["previous","up","north"]}),standoff:l.standoff,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,colorbar:l.colorbar,line:r({width:s.width},v("marker.line")),gradient:l.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},T.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:E()},"calc","nested")},25212:function(tt,U,t){var E=t(38248),S=t(39032).BADNUM,i=t(90136),L=t(20148),T=t(4500),v=t(3400).isArrayOrTypedArray,d=t(3400)._;function r(e){return e&&typeof e=="string"}tt.exports=function(e,l){var n=v(l.locations),s=n?l.locations.length:l._length,o=new Array(s),f;l.geojson?f=function(p){return r(p)||E(p)}:f=r;for(var b=0;b<s;b++){var h=o[b]={};if(n){var _=l.locations[b];h.loc=f(_)?_:null}else{var a=l.lon[b],c=l.lat[b];E(a)&&E(c)?h.lonlat=[+a,+c]:h.lonlat=[S,S]}}return L(o,l),i(e,l),T(o,l),s&&(o[0].t={labels:{lat:d(e,"lat:")+" ",lon:d(e,"lon:")+" "}}),o}},86188:function(tt,U,t){var E=t(3400),S=t(43028),i=t(74428),L=t(66828),T=t(124),v=t(70840),d=t(6096);tt.exports=function(r,e,l,n){function s(p,x){return E.coerce(r,e,d,p,x)}var o=s("locations"),f;if(o&&o.length){var b=s("geojson"),h;(typeof b=="string"&&b!==""||E.isPlainObject(b))&&(h="geojson-id");var _=s("locationmode",h);_==="geojson-id"&&s("featureidkey"),f=o.length}else{var a=s("lon")||[],c=s("lat")||[];f=Math.min(a.length,c.length)}if(!f){e.visible=!1;return}e._length=f,s("text"),s("hovertext"),s("hovertemplate"),s("mode"),S.hasMarkers(e)&&i(r,e,l,n,s,{gradient:!0}),S.hasLines(e)&&(L(r,e,l,n,s),s("connectgaps")),S.hasText(e)&&(s("texttemplate"),T(r,e,n,s)),s("fill"),e.fill!=="none"&&v(r,e,l,s),E.coerceSelectionMarkerOpacity(e,s)}},58544:function(tt){tt.exports=function(U,t,E,S,i){U.lon=t.lon,U.lat=t.lat,U.location=t.loc?t.loc:null;var L=S[i];return L.fIn&&L.fIn.properties&&(U.properties=L.fIn.properties),U}},56696:function(tt,U,t){var E=t(54460);tt.exports=function(S,i,L){var T={},v=L[i.geo]._subplot,d=v.mockAxis,r=S.lonlat;return T.lonLabel=E.tickText(d,d.c2l(r[0]),!0).text,T.latLabel=E.tickText(d,d.c2l(r[1]),!0).text,T}},64292:function(tt,U,t){var E=t(93024),S=t(39032).BADNUM,i=t(44928),L=t(3400).fillText,T=t(6096);tt.exports=function(d,r,e){var l=d.cd,n=l[0].trace,s=d.xa,o=d.ya,f=d.subplot,b=f.projection.isLonLatOverEdges,h=f.project;function _(A){var C=A.lonlat;if(C[0]===S||b(C))return 1/0;var u=h(C),m=h([r,e]),M=Math.abs(u[0]-m[0]),w=Math.abs(u[1]-m[1]),z=Math.max(3,A.mrc||0);return Math.max(Math.sqrt(M*M+w*w)-z,1-3/z)}if(E.getClosest(l,_,d),d.index!==!1){var a=l[d.index],c=a.lonlat,p=[s.c2p(c),o.c2p(c)],x=a.mrc||1;d.x0=p[0]-x,d.x1=p[0]+x,d.y0=p[1]-x,d.y1=p[1]+x,d.loc=a.loc,d.lon=c[0],d.lat=c[1];var k={};k[n.geo]={_subplot:f};var y=n._module.formatLabels(a,n,k);return d.lonLabel=y.lonLabel,d.latLabel=y.latLabel,d.color=i(n,a),d.extraText=v(n,a,d,l[0].t.labels),d.hovertemplate=n.hovertemplate,[d]}};function v(d,r,e,l){if(d.hovertemplate)return;var n=r.hi||d.hoverinfo,s=n==="all"?T.hoverinfo.flags:n.split("+"),o=s.indexOf("location")!==-1&&Array.isArray(d.locations),f=s.indexOf("lon")!==-1,b=s.indexOf("lat")!==-1,h=s.indexOf("text")!==-1,_=[];function a(c){return c+"\xB0"}return o?_.push(r.loc):f&&b?_.push("("+a(e.latLabel)+", "+a(e.lonLabel)+")"):f?_.push(l.lon+a(e.lonLabel)):b&&_.push(l.lat+a(e.latLabel)),h&&L(r,d,_),_.join("<br>")}},36952:function(tt,U,t){tt.exports={attributes:t(6096),supplyDefaults:t(86188),colorbar:t(5528),formatLabels:t(56696),calc:t(25212),calcGeoJSON:t(48691).calcGeoJSON,plot:t(48691).plot,style:t(25064),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(64292),eventData:t(58544),selectPoints:t(8796),moduleType:"trace",name:"scattergeo",basePlotModule:t(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(tt,U,t){var E=t(33428),S=t(3400),i=t(59972).getTopojsonFeatures,L=t(44808),T=t(27144),v=t(19280).findExtremes,d=t(39032).BADNUM,r=t(16356).calcMarkerSize,e=t(43028),l=t(25064);function n(o,f,b){var h=f.layers.frontplot.select(".scatterlayer"),_=S.makeTraceGroups(h,b,"trace scattergeo");function a(c,p){c.lonlat[0]===d&&E.select(p).remove()}_.selectAll("*").remove(),_.each(function(c){var p=E.select(this),x=c[0].trace;if(e.hasLines(x)||x.fill!=="none"){var k=L.calcTraceToLineCoords(c),y=x.fill!=="none"?L.makePolygon(k):L.makeLine(k);p.selectAll("path.js-line").data([{geojson:y,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}e.hasMarkers(x)&&p.selectAll("path.point").data(S.identity).enter().append("path").classed("point",!0).each(function(A){a(A,this)}),e.hasText(x)&&p.selectAll("g").data(S.identity).enter().append("g").append("text").each(function(A){a(A,this)}),l(o,c)})}function s(o,f){var b=o[0].trace,h=f[b.geo],_=h._subplot,a=b._length,c,p;if(S.isArrayOrTypedArray(b.locations)){var x=b.locationmode,k=x==="geojson-id"?T.extractTraceFeature(o):i(b,_.topojson);for(c=0;c<a;c++){p=o[c];var y=x==="geojson-id"?p.fOut:T.locationToFeature(x,p.loc,k);p.lonlat=y?y.properties.ct:[d,d]}}var A={padded:!0},C,u;if(h.fitbounds==="geojson"&&b.locationmode==="geojson-id"){var m=T.computeBbox(T.getTraceGeojson(b));C=[m[0],m[2]],u=[m[1],m[3]]}else{for(C=new Array(a),u=new Array(a),c=0;c<a;c++)p=o[c],C[c]=p.lonlat[0],u[c]=p.lonlat[1];A.ppad=r(b,a)}b._extremes.lon=v(h.lonaxis._ax,C,A),b._extremes.lat=v(h.lataxis._ax,u,A)}tt.exports={calcGeoJSON:s,plot:n}},8796:function(tt,U,t){var E=t(43028),S=t(39032).BADNUM;tt.exports=function(i,L){var T=i.cd,v=i.xaxis,d=i.yaxis,r=[],e=T[0].trace,l,n,s,o,f,b=!E.hasMarkers(e)&&!E.hasText(e);if(b)return[];if(L===!1)for(f=0;f<T.length;f++)T[f].selected=0;else for(f=0;f<T.length;f++)l=T[f],n=l.lonlat,n[0]!==S&&(s=v.c2p(n),o=d.c2p(n),L.contains([s,o],null,f,i)?(r.push({pointNumber:f,lon:n[0],lat:n[1]}),l.selected=1):l.selected=0);return r}},25064:function(tt,U,t){var E=t(33428),S=t(43616),i=t(76308),L=t(49224),T=L.stylePoints,v=L.styleText;tt.exports=function(r,e){e&&d(r,e)};function d(r,e){var l=e[0].trace,n=e[0].node3;n.style("opacity",e[0].trace.opacity),T(n,l,r),v(n,l,r),n.selectAll("path.js-line").style("fill","none").each(function(s){var o=E.select(this),f=s.trace,b=f.line||{};o.call(i.stroke,b.color).call(S.dashLine,b.dash||"",b.width||0),f.fill!=="none"&&o.call(i.fill,f.fillcolor)})}},2876:function(tt,U,t){var E=t(45464),S=t(25376),i=t(98304),L=t(52904),T=t(29736).axisHoverFormat,v=t(49084),d=t(95376),r=t(92880).extendFlat,e=t(67824).overrideAll,l=t(67072).DASHES,n=L.line,s=L.marker,o=s.line,f=tt.exports=e({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:d(l),dflt:"solid"}},marker:r({},v("marker"),{symbol:s.symbol,angle:s.angle,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:r({},v("marker.line"),{width:o.width})}),connectgaps:L.connectgaps,fill:r({},L.fill,{dflt:"none"}),fillcolor:i(),selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:E.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=L.hovertemplate,f.texttemplate=L.texttemplate},64628:function(tt,U,t){var E=t(41272);tt.exports={moduleType:"trace",name:"scattergl",basePlotModule:t(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t(2876),supplyDefaults:t(80220),crossTraceDefaults:t(35036),colorbar:t(5528),formatLabels:t(99396),calc:t(24856),hoverPoints:E.hoverPoints,selectPoints:t(73224),meta:{}}},24856:function(tt,U,t){var E=t(3108),S=t(3400),i=t(79811),L=t(19280).findExtremes,T=t(1220),v=t(16356),d=v.calcMarkerSize,r=v.calcAxisExpansion,e=v.setFirstScatter,l=t(90136),n=t(84236),s=t(74588),o=t(39032).BADNUM,f=t(67072).TOO_MANY_POINTS;tt.exports=function(_,a){var c=_._fullLayout,p=a._xA=i.getFromId(_,a.xaxis,"x"),x=a._yA=i.getFromId(_,a.yaxis,"y"),k=c._plots[a.xaxis+a.yaxis],y=a._length,A=y>=f,C=y*2,u={},m,M=p.makeCalcdata(a,"x"),w=x.makeCalcdata(a,"y"),z=T(a,p,"x",M),O=T(a,x,"y",w),D=z.vals,P=O.vals;a._x=D,a._y=P,a.xperiodalignment&&(a._origX=M,a._xStarts=z.starts,a._xEnds=z.ends),a.yperiodalignment&&(a._origY=w,a._yStarts=O.starts,a._yEnds=O.ends);var F=new Array(C),R=new Array(y);for(m=0;m<y;m++)F[m*2]=D[m]===o?NaN:D[m],F[m*2+1]=P[m]===o?NaN:P[m],R[m]=m;if(p.type==="log")for(m=0;m<C;m+=2)F[m]=p.c2l(F[m]);if(x.type==="log")for(m=1;m<C;m+=2)F[m]=x.c2l(F[m]);A&&p.type!=="log"&&x.type!=="log"?u.tree=E(F):u.ids=R,l(_,a);var N=h(_,k,a,F,D,P),B=s(_,k);e(c,a);var q;return A?N.marker&&(q=N.marker.sizeAvg||Math.max(N.marker.size,3)):q=d(a,y),r(_,a,p,x,D,P,q),N.errorX&&b(a,p,N.errorX),N.errorY&&b(a,x,N.errorY),N.fill&&!B.fill2d&&(B.fill2d=!0),N.marker&&!B.scatter2d&&(B.scatter2d=!0),N.line&&!B.line2d&&(B.line2d=!0),(N.errorX||N.errorY)&&!B.error2d&&(B.error2d=!0),N.text&&!B.glText&&(B.glText=!0),N.marker&&(N.marker.snap=y),B.lineOptions.push(N.line),B.errorXOptions.push(N.errorX),B.errorYOptions.push(N.errorY),B.fillOptions.push(N.fill),B.markerOptions.push(N.marker),B.markerSelectedOptions.push(N.markerSel),B.markerUnselectedOptions.push(N.markerUnsel),B.textOptions.push(N.text),B.textSelectedOptions.push(N.textSel),B.textUnselectedOptions.push(N.textUnsel),B.selectBatch.push([]),B.unselectBatch.push([]),u._scene=B,u.index=B.count,u.x=D,u.y=P,u.positions=F,B.count++,[{x:!1,y:!1,t:u,trace:a}]};function b(_,a,c){var p=_._extremes[a._id],x=L(a,c._bnds,{padded:!0});p.min=p.min.concat(x.min),p.max=p.max.concat(x.max)}function h(_,a,c,p,x,k){var y=n.style(_,c);if(y.marker&&(y.marker.positions=p),y.line&&p.length>1&&S.extendFlat(y.line,n.linePositions(_,c,p)),y.errorX||y.errorY){var A=n.errorBarPositions(_,c,p,x,k);y.errorX&&S.extendFlat(y.errorX,A.x),y.errorY&&S.extendFlat(y.errorY,A.y)}return y.text&&(S.extendFlat(y.text,{positions:p},n.textPosition(_,c,y.text,y.marker)),S.extendFlat(y.textSel,{positions:p},n.textPosition(_,c,y.text,y.markerSel)),S.extendFlat(y.textUnsel,{positions:p},n.textPosition(_,c,y.text,y.markerUnsel))),y}},67072:function(tt){var U=20;tt.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(tt,U,t){var E=t(38248),S=t(20472),i=t(72160),L=t(24040),T=t(3400),v=T.isArrayOrTypedArray,d=t(43616),r=t(79811),e=t(33040).formatColor,l=t(43028),n=t(7152),s=t(80088),o=t(67072),f=t(13448).DESELECTDIM,b={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=t(10624).appendArrayPointValue;function _(D,P){var F,R={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=D._context.plotGlPixelRatio;if(P.visible!==!0)return R;if(l.hasText(P)&&(R.text=a(D,P),R.textSel=x(D,P,P.selected),R.textUnsel=x(D,P,P.unselected)),l.hasMarkers(P)&&(R.marker=c(D,P),R.markerSel=p(D,P,P.selected),R.markerUnsel=p(D,P,P.unselected),!P.unselected&&v(P.marker.opacity))){var B=P.marker.opacity;for(R.markerUnsel.opacity=new Array(B.length),F=0;F<B.length;F++)R.markerUnsel.opacity[F]=f*B[F]}if(l.hasLines(P)){R.line={overlay:!0,thickness:P.line.width*N,color:P.line.color,opacity:P.opacity};var q=(o.DASHES[P.line.dash]||[1]).slice();for(F=0;F<q.length;++F)q[F]*=P.line.width*N;R.line.dashes=q}return P.error_x&&P.error_x.visible&&(R.errorX=k(P,P.error_x,N)),P.error_y&&P.error_y.visible&&(R.errorY=k(P,P.error_y,N)),P.fill&&P.fill!=="none"&&(R.fill={closed:!0,fill:P.fillcolor,thickness:0}),R}function a(D,P){var F=D._fullLayout,R=P._length,N=P.textfont,B=P.textposition,q=v(B)?B:[B],V=N.color,J=N.size,it=N.family,nt=N.weight,Y=N.style,Z=N.variant,$={},G,rt=D._context.plotGlPixelRatio,ot=P.texttemplate;if(ot){$.text=[];var W=F._d3locale,H=Array.isArray(ot),at=H?Math.min(ot.length,R):R,Q=H?function(mt){return ot[mt]}:function(){return ot};for(G=0;G<at;G++){var ct={i:G},ft=P._module.formatLabels(ct,P,F),yt={};h(yt,P,G);var xt=P._meta||{};$.text.push(T.texttemplateString(Q(G),ft,W,yt,ct,xt))}}else v(P.text)&&P.text.length<R?$.text=P.text.slice():$.text=P.text;if(v($.text))for(G=$.text.length;G<R;G++)$.text[G]="";for($.opacity=P.opacity,$.font={},$.align=[],$.baseline=[],G=0;G<q.length;G++){var Lt=q[G].split(/\s+/);switch(Lt[1]){case"left":$.align.push("right");break;case"right":$.align.push("left");break;default:$.align.push(Lt[1])}switch(Lt[0]){case"top":$.baseline.push("bottom");break;case"bottom":$.baseline.push("top");break;default:$.baseline.push(Lt[0])}}if(v(V))for($.color=new Array(R),G=0;G<R;G++)$.color[G]=V[G];else $.color=V;if(v(J)||Array.isArray(it)||Array.isArray(nt)||Array.isArray(Y)||Array.isArray(Z))for($.font=new Array(R),G=0;G<R;G++){var gt=$.font[G]={};gt.size=(T.isTypedArray(J)?J[G]:v(J)?E(J[G])?J[G]:0:J)*rt,gt.family=Array.isArray(it)?it[G]:it,gt.weight=Array.isArray(nt)?nt[G]:nt,gt.style=Array.isArray(Y)?Y[G]:Y,gt.variant=Array.isArray(Z)?Z[G]:Z}else $.font={size:J*rt,family:it,weight:nt,style:Y,variant:Z};return $}function c(D,P){var F=P._length,R=P.marker,N={},B,q=v(R.symbol),V=v(R.angle),J=v(R.color),it=v(R.line.color),nt=v(R.opacity),Y=v(R.size),Z=v(R.line.width),$;if(q||($=s.isOpenSymbol(R.symbol)),q||J||it||nt||V){N.symbols=new Array(F),N.angles=new Array(F),N.colors=new Array(F),N.borderColors=new Array(F);var G=R.symbol,rt=R.angle,ot=e(R,R.opacity,F),W=e(R.line,R.opacity,F);if(!v(W[0])){var H=W;for(W=Array(F),B=0;B<F;B++)W[B]=H}if(!v(ot[0])){var at=ot;for(ot=Array(F),B=0;B<F;B++)ot[B]=at}if(!v(G)){var Q=G;for(G=Array(F),B=0;B<F;B++)G[B]=Q}if(!v(rt)){var ct=rt;for(rt=Array(F),B=0;B<F;B++)rt[B]=ct}for(N.symbols=G,N.angles=rt,N.colors=ot,N.borderColors=W,B=0;B<F;B++)q&&($=s.isOpenSymbol(R.symbol[B])),$&&(W[B]=ot[B].slice(),ot[B]=ot[B].slice(),ot[B][3]=0);for(N.opacity=P.opacity,N.markers=new Array(F),B=0;B<F;B++)N.markers[B]=M({mx:N.symbols[B],ma:N.angles[B]},P)}else $?(N.color=i(R.color,"uint8"),N.color[3]=0,N.borderColor=i(R.color,"uint8")):(N.color=i(R.color,"uint8"),N.borderColor=i(R.line.color,"uint8")),N.opacity=P.opacity*R.opacity,N.marker=M({mx:R.symbol,ma:R.angle},P);var ft=1,yt=n(P,ft),xt;if(Y||Z){var Lt=N.sizes=new Array(F),gt=N.borderSizes=new Array(F),mt=0,vt;if(Y){for(B=0;B<F;B++)Lt[B]=yt(R.size[B]),mt+=Lt[B];vt=mt/F}else for(xt=yt(R.size),B=0;B<F;B++)Lt[B]=xt;if(Z)for(B=0;B<F;B++)gt[B]=R.line.width[B];else for(xt=R.line.width,B=0;B<F;B++)gt[B]=xt;N.sizeAvg=vt}else N.size=yt(R&&R.size||10),N.borderSizes=yt(R.line.width);return N}function p(D,P,F){var R=P.marker,N={};return F&&(F.marker&&F.marker.symbol?N=c(D,T.extendFlat({},R,F.marker)):F.marker&&(F.marker.size&&(N.size=F.marker.size),F.marker.color&&(N.colors=F.marker.color),F.marker.opacity!==void 0&&(N.opacity=F.marker.opacity))),N}function x(D,P,F){var R={};if(!F)return R;if(F.textfont){var N={opacity:1,text:P.text,texttemplate:P.texttemplate,textposition:P.textposition,textfont:T.extendFlat({},P.textfont)};F.textfont&&T.extendFlat(N.textfont,F.textfont),R=a(D,N)}return R}function k(D,P,F){var R={capSize:P.width*2*F,lineWidth:P.thickness*F,color:P.color};return P.copy_ystyle&&(R=D.error_y),R}var y=o.SYMBOL_SDF_SIZE,A=o.SYMBOL_SIZE,C=o.SYMBOL_STROKE,u={},m=d.symbolFuncs[0](A*.05);function M(D,P){var F=D.mx;if(F==="circle")return null;var R,N,B=d.symbolNumber(F),q=d.symbolFuncs[B%100],V=!!d.symbolNoDot[B%100],J=!!d.symbolNoFill[B%100],it=s.isDotSymbol(F);if(D.ma&&(F+="_"+D.ma),u[F])return u[F];var nt=d.getMarkerAngle(D,P);return it&&!V?R=q(A*1.1,nt)+m:R=q(A,nt),N=S(R,{w:y,h:y,viewBox:[-A,-A,A,A],stroke:J?C:-C}),u[F]=N,N||null}function w(D,P,F){var R=F.length,N=R/2,B,q;if(l.hasLines(P)&&N)if(P.line.shape==="hv"){for(B=[],q=0;q<N-1;q++)isNaN(F[q*2])||isNaN(F[q*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(F[q*2],F[q*2+1]),!isNaN(F[q*2+2])&&!isNaN(F[q*2+3])?B.push(F[q*2+2],F[q*2+1]):B.push(NaN,NaN));B.push(F[R-2],F[R-1])}else if(P.line.shape==="hvh"){for(B=[],q=0;q<N-1;q++)if(isNaN(F[q*2])||isNaN(F[q*2+1])||isNaN(F[q*2+2])||isNaN(F[q*2+3]))!isNaN(F[q*2])&&!isNaN(F[q*2+1])?B.push(F[q*2],F[q*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var V=(F[q*2]+F[q*2+2])/2;B.push(F[q*2],F[q*2+1],V,F[q*2+1],V,F[q*2+3])}B.push(F[R-2],F[R-1])}else if(P.line.shape==="vhv"){for(B=[],q=0;q<N-1;q++)if(isNaN(F[q*2])||isNaN(F[q*2+1])||isNaN(F[q*2+2])||isNaN(F[q*2+3]))!isNaN(F[q*2])&&!isNaN(F[q*2+1])?B.push(F[q*2],F[q*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var J=(F[q*2+1]+F[q*2+3])/2;B.push(F[q*2],F[q*2+1],F[q*2],J,F[q*2+2],J)}B.push(F[R-2],F[R-1])}else if(P.line.shape==="vh"){for(B=[],q=0;q<N-1;q++)isNaN(F[q*2])||isNaN(F[q*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(F[q*2],F[q*2+1]),!isNaN(F[q*2+2])&&!isNaN(F[q*2+3])?B.push(F[q*2],F[q*2+3]):B.push(NaN,NaN));B.push(F[R-2],F[R-1])}else B=F;var it=!1;for(q=0;q<B.length;q++)if(isNaN(B[q])){it=!0;break}var nt=it||B.length>o.TOO_MANY_POINTS||l.hasMarkers(P)?"rect":"round";if(it&&P.connectgaps){var Y=B[0],Z=B[1];for(q=0;q<B.length;q+=2)isNaN(B[q])||isNaN(B[q+1])?(B[q]=Y,B[q+1]=Z):(Y=B[q],Z=B[q+1])}return{join:nt,positions:B}}function z(D,P,F,R,N){var B=L.getComponentMethod("errorbars","makeComputeError"),q=r.getFromId(D,P.xaxis,"x"),V=r.getFromId(D,P.yaxis,"y"),J=F.length/2,it={};function nt(Y,Z){var $=Z._id.charAt(0),G=P["error_"+$];if(G&&G.visible&&(Z.type==="linear"||Z.type==="log")){for(var rt=B(G),ot={x:0,y:1}[$],W={x:[0,1,2,3],y:[2,3,0,1]}[$],H=new Float64Array(4*J),at=1/0,Q=-1/0,ct=0,ft=0;ct<J;ct++,ft+=4){var yt=Y[ct];if(E(yt)){var xt=F[ct*2+ot],Lt=rt(yt,ct),gt=Lt[0],mt=Lt[1];if(E(gt)&&E(mt)){var vt=yt-gt,At=yt+mt;H[ft+W[0]]=xt-Z.c2l(vt),H[ft+W[1]]=Z.c2l(At)-xt,H[ft+W[2]]=0,H[ft+W[3]]=0,at=Math.min(at,yt-gt),Q=Math.max(Q,yt+mt)}}}it[$]={positions:F,errors:H,_bnds:[at,Q]}}}return nt(R,q),nt(N,V),it}function O(D,P,F,R){var N=P._length,B={},q;if(l.hasMarkers(P)){var V=F.font,J=F.align,it=F.baseline;for(B.offset=new Array(N),q=0;q<N;q++){var nt=R.sizes?R.sizes[q]:R.size,Y=v(V)?V[q].size:V.size,Z=v(J)?J.length>1?J[q]:J[0]:J,$=v(it)?it.length>1?it[q]:it[0]:it,G=b[Z],rt=b[$],ot=nt?nt/.8+1:0,W=-rt*ot-rt*.5;B.offset[q]=[G*ot/Y,W/Y]}}return B}tt.exports={style:_,markerStyle:c,markerSelection:p,linePositions:w,errorBarPositions:z,textPosition:O}},80220:function(tt,U,t){var E=t(3400),S=t(24040),i=t(80088),L=t(2876),T=t(88200),v=t(43028),d=t(43980),r=t(31147),e=t(74428),l=t(66828),n=t(70840),s=t(124);tt.exports=function(o,f,b,h){function _(C,u){return E.coerce(o,f,L,C,u)}var a=o.marker?i.isOpenSymbol(o.marker.symbol):!1,c=v.isBubble(o),p=d(o,f,h,_);if(!p){f.visible=!1;return}r(o,f,h,_),_("xhoverformat"),_("yhoverformat");var x=p<T.PTS_LINESONLY?"lines+markers":"lines";_("text"),_("hovertext"),_("hovertemplate"),_("mode",x),v.hasMarkers(f)&&(e(o,f,b,h,_,{noAngleRef:!0,noStandOff:!0}),_("marker.line.width",a||c?1:0)),v.hasLines(f)&&(_("connectgaps"),l(o,f,b,h,_),_("line.shape")),v.hasText(f)&&(_("texttemplate"),s(o,f,h,_));var k=(f.line||{}).color,y=(f.marker||{}).color;_("fill"),f.fill!=="none"&&n(o,f,b,_);var A=S.getComponentMethod("errorbars","supplyDefaults");A(o,f,k||y||b,{axis:"y"}),A(o,f,k||y||b,{axis:"x",inherit:"y"}),E.coerceSelectionMarkerOpacity(f,_)}},26768:function(tt,U,t){var E=t(3400),S=t(76308),i=t(13448).DESELECTDIM;function L(T){var v=T[0],d=v.trace,r=v.t,e=r._scene,l=r.index,n=e.selectBatch[l],s=e.unselectBatch[l],o=e.textOptions[l],f=e.textSelectedOptions[l]||{},b=e.textUnselectedOptions[l]||{},h=E.extendFlat({},o),_,a;if(n.length||s.length){var c=f.color,p=b.color,x=o.color,k=E.isArrayOrTypedArray(x);for(h.color=new Array(d._length),_=0;_<n.length;_++)a=n[_],h.color[a]=c||(k?x[a]:x);for(_=0;_<s.length;_++){a=s[_];var y=k?x[a]:x;h.color[a]=p||(c?y:S.addOpacity(y,i))}}e.glText[l].update(h)}tt.exports={styleTextSelection:L}},99396:function(tt,U,t){var E=t(76688);tt.exports=function(S,i,L){var T=S.i;return"x"in S||(S.x=i._x[T]),"y"in S||(S.y=i._y[T]),E(S,i,L)}},80088:function(tt,U,t){var E=t(67072);U.isOpenSymbol=function(S){return typeof S=="string"?E.OPEN_RE.test(S):S%200>100},U.isDotSymbol=function(S){return typeof S=="string"?E.DOT_RE.test(S):S>200}},41272:function(tt,U,t){var E=t(24040),S=t(3400),i=t(44928);function L(v,d,r,e){var l=v.cd,n=l[0].t,s=l[0].trace,o=v.xa,f=v.ya,b=n.x,h=n.y,_=o.c2p(d),a=f.c2p(r),c=v.distance,p;if(n.tree){var x=o.p2c(_-c),k=o.p2c(_+c),y=f.p2c(a-c),A=f.p2c(a+c);e==="x"?p=n.tree.range(Math.min(x,k),Math.min(f._rl[0],f._rl[1]),Math.max(x,k),Math.max(f._rl[0],f._rl[1])):p=n.tree.range(Math.min(x,k),Math.min(y,A),Math.max(x,k),Math.max(y,A))}else p=n.ids;var C,u,m,M,w,z,O,D,P,F=c;if(e==="x"){var R=!!s.xperiodalignment,N=!!s.yperiodalignment;for(w=0;w<p.length;w++){if(C=p[w],m=b[C],z=Math.abs(o.c2p(m)-_),R){var B=o.c2p(s._xStarts[C]),q=o.c2p(s._xEnds[C]);z=_>=Math.min(B,q)&&_<=Math.max(B,q)?0:1/0}if(z<F){if(F=z,M=h[C],O=f.c2p(M)-a,N){var V=f.c2p(s._yStarts[C]),J=f.c2p(s._yEnds[C]);O=a>=Math.min(V,J)&&a<=Math.max(V,J)?0:1/0}P=Math.sqrt(z*z+O*O),u=p[w]}}}else for(w=p.length-1;w>-1;w--)C=p[w],m=b[C],M=h[C],z=o.c2p(m)-_,O=f.c2p(M)-a,D=Math.sqrt(z*z+O*O),D<F&&(F=P=D,u=C);return v.index=u,v.distance=F,v.dxy=P,u===void 0?[v]:[T(v,b,h,s)]}function T(v,d,r,e){var l=v.xa,n=v.ya,s=v.distance,o=v.dxy,f=v.index,b={pointNumber:f,x:d[f],y:r[f]};b.tx=S.isArrayOrTypedArray(e.text)?e.text[f]:e.text,b.htx=Array.isArray(e.hovertext)?e.hovertext[f]:e.hovertext,b.data=Array.isArray(e.customdata)?e.customdata[f]:e.customdata,b.tp=Array.isArray(e.textposition)?e.textposition[f]:e.textposition;var h=e.textfont;h&&(b.ts=S.isArrayOrTypedArray(h.size)?h.size[f]:h.size,b.tc=S.isArrayOrTypedArray(h.color)?h.color[f]:h.color,b.tf=Array.isArray(h.family)?h.family[f]:h.family,b.tw=Array.isArray(h.weight)?h.weight[f]:h.weight,b.ty=Array.isArray(h.style)?h.style[f]:h.style,b.tv=Array.isArray(h.variant)?h.variant[f]:h.variant);var _=e.marker;_&&(b.ms=S.isArrayOrTypedArray(_.size)?_.size[f]:_.size,b.mo=S.isArrayOrTypedArray(_.opacity)?_.opacity[f]:_.opacity,b.mx=S.isArrayOrTypedArray(_.symbol)?_.symbol[f]:_.symbol,b.ma=S.isArrayOrTypedArray(_.angle)?_.angle[f]:_.angle,b.mc=S.isArrayOrTypedArray(_.color)?_.color[f]:_.color);var a=_&&_.line;a&&(b.mlc=Array.isArray(a.color)?a.color[f]:a.color,b.mlw=S.isArrayOrTypedArray(a.width)?a.width[f]:a.width);var c=_&&_.gradient;c&&c.type!=="none"&&(b.mgt=Array.isArray(c.type)?c.type[f]:c.type,b.mgc=Array.isArray(c.color)?c.color[f]:c.color);var p=l.c2p(b.x,!0),x=n.c2p(b.y,!0),k=b.mrc||1,y=e.hoverlabel;y&&(b.hbg=Array.isArray(y.bgcolor)?y.bgcolor[f]:y.bgcolor,b.hbc=Array.isArray(y.bordercolor)?y.bordercolor[f]:y.bordercolor,b.hts=S.isArrayOrTypedArray(y.font.size)?y.font.size[f]:y.font.size,b.htc=Array.isArray(y.font.color)?y.font.color[f]:y.font.color,b.htf=Array.isArray(y.font.family)?y.font.family[f]:y.font.family,b.hnl=S.isArrayOrTypedArray(y.namelength)?y.namelength[f]:y.namelength);var A=e.hoverinfo;A&&(b.hi=Array.isArray(A)?A[f]:A);var C=e.hovertemplate;C&&(b.ht=Array.isArray(C)?C[f]:C);var u={};u[v.index]=b;var m=e._origX,M=e._origY,w=S.extendFlat({},v,{color:i(e,b),x0:p-k,x1:p+k,xLabelVal:m?m[f]:b.x,y0:x-k,y1:x+k,yLabelVal:M?M[f]:b.y,cd:u,distance:s,spikeDistance:o,hovertemplate:b.ht});return b.htx?w.text=b.htx:b.tx?w.text=b.tx:e.text&&(w.text=e.text),S.fillText(b,e,w),E.getComponentMethod("errorbars","hoverInfo")(b,e,w),w}tt.exports={hoverPoints:L,calcHover:T}},38983:function(tt,U,t){var E=t(64628);E.plot=t(89876),tt.exports=E},89876:function(tt,U,t){var E=t(38540),S=t(13472),i=t(24544),L=t(23352),T=t(3400),v=t(72760).selectMode,d=t(5048),r=t(43028),e=t(14328),l=t(26768).styleTextSelection,n={};function s(f,b,h,_){var a=f._size,c=f.width*_,p=f.height*_,x=a.l*_,k=a.b*_,y=a.r*_,A=a.t*_,C=a.w*_,u=a.h*_;return[x+b.domain[0]*C,k+h.domain[0]*u,c-y-(1-b.domain[1])*C,p-A-(1-h.domain[1])*u]}var o=tt.exports=function(f,b,h){if(h.length){var _=f._fullLayout,a=b._scene,c=b.xaxis,p=b.yaxis,x,k;if(a){var y=d(f,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!y){a.init();return}var A=a.count,C=_._glcanvas.data()[0].regl;if(e(f,b,h),a.dirty){if((a.line2d||a.error2d)&&!(a.scatter2d||a.fill2d||a.glText)&&C.clear({}),a.error2d===!0&&(a.error2d=i(C)),a.line2d===!0&&(a.line2d=S(C)),a.scatter2d===!0&&(a.scatter2d=E(C)),a.fill2d===!0&&(a.fill2d=S(C)),a.glText===!0)for(a.glText=new Array(A),x=0;x<A;x++)a.glText[x]=new L(C);if(a.glText){if(A>a.glText.length){var u=A-a.glText.length;for(x=0;x<u;x++)a.glText.push(new L(C))}else if(A<a.glText.length){var m=a.glText.length-A,M=a.glText.splice(A,m);M.forEach(function(ot){ot.destroy()})}for(x=0;x<A;x++)a.glText[x].update(a.textOptions[x])}if(a.line2d&&(a.line2d.update(a.lineOptions),a.lineOptions=a.lineOptions.map(function(ot){if(ot&&ot.positions){for(var W=ot.positions,H=0;H<W.length&&(isNaN(W[H])||isNaN(W[H+1]));)H+=2;for(var at=W.length-2;at>H&&(isNaN(W[at])||isNaN(W[at+1]));)at-=2;ot.positions=W.slice(H,at+2)}return ot}),a.line2d.update(a.lineOptions)),a.error2d){var w=(a.errorXOptions||[]).concat(a.errorYOptions||[]);a.error2d.update(w)}a.scatter2d&&a.scatter2d.update(a.markerOptions),a.fillOrder=T.repeat(null,A),a.fill2d&&(a.fillOptions=a.fillOptions.map(function(ot,W){var H=h[W];if(!(!ot||!H||!H[0]||!H[0].trace)){var at=H[0],Q=at.trace,ct=at.t,ft=a.lineOptions[W],yt,xt,Lt=[];Q._ownfill&&Lt.push(W),Q._nexttrace&&Lt.push(W+1),Lt.length&&(a.fillOrder[W]=Lt);var gt=[],mt=ft&&ft.positions||ct.positions,vt,At;if(Q.fill==="tozeroy"){for(vt=0;vt<mt.length&&isNaN(mt[vt+1]);)vt+=2;for(At=mt.length-2;At>vt&&isNaN(mt[At+1]);)At-=2;mt[vt+1]!==0&&(gt=[mt[vt],0]),gt=gt.concat(mt.slice(vt,At+2)),mt[At+1]!==0&&(gt=gt.concat([mt[At],0]))}else if(Q.fill==="tozerox"){for(vt=0;vt<mt.length&&isNaN(mt[vt]);)vt+=2;for(At=mt.length-2;At>vt&&isNaN(mt[At]);)At-=2;mt[vt]!==0&&(gt=[0,mt[vt+1]]),gt=gt.concat(mt.slice(vt,At+2)),mt[At]!==0&&(gt=gt.concat([0,mt[At+1]]))}else if(Q.fill==="toself"||Q.fill==="tonext"){for(gt=[],yt=0,ot.splitNull=!0,xt=0;xt<mt.length;xt+=2)(isNaN(mt[xt])||isNaN(mt[xt+1]))&&(gt=gt.concat(mt.slice(yt,xt)),gt.push(mt[yt],mt[yt+1]),gt.push(null,null),yt=xt+2);gt=gt.concat(mt.slice(yt)),yt&&gt.push(mt[yt],mt[yt+1])}else{var Ot=Q._nexttrace;if(Ot){var Pt=a.lineOptions[W+1];if(Pt){var Et=Pt.positions;if(Q.fill==="tonexty"){for(gt=mt.slice(),W=Math.floor(Et.length/2);W--;){var Nt=Et[W*2],ne=Et[W*2+1];isNaN(Nt)||isNaN(ne)||gt.push(Nt,ne)}ot.fill=Ot.fillcolor}}}}if(Q._prevtrace&&Q._prevtrace.fill==="tonext"){var Gt=a.lineOptions[W-1].positions,pe=gt.length/2;yt=pe;var Vt=[yt];for(xt=0;xt<Gt.length;xt+=2)(isNaN(Gt[xt])||isNaN(Gt[xt+1]))&&(Vt.push(xt/2+pe+1),yt=xt+2);gt=gt.concat(Gt),ot.hole=Vt}return ot.fillmode=Q.fill,ot.opacity=Q.opacity,ot.positions=gt,ot}}),a.fill2d.update(a.fillOptions))}var z=_.dragmode,O=v(z),D=_.clickmode.indexOf("select")>-1;for(x=0;x<A;x++){var P=h[x][0],F=P.trace,R=P.t,N=R.index,B=F._length,q=R.x,V=R.y;if(F.selectedpoints||O||D){if(O||(O=!0),F.selectedpoints){var J=a.selectBatch[N]=T.selIndices2selPoints(F),it={};for(k=0;k<J.length;k++)it[J[k]]=1;var nt=[];for(k=0;k<B;k++)it[k]||nt.push(k);a.unselectBatch[N]=nt}var Y=R.xpx=new Array(B),Z=R.ypx=new Array(B);for(k=0;k<B;k++)Y[k]=c.c2p(q[k]),Z[k]=p.c2p(V[k])}else R.xpx=R.ypx=null}if(O){if(a.select2d||(a.select2d=E(_._glcanvas.data()[1].regl)),a.scatter2d){var $=new Array(A);for(x=0;x<A;x++)$[x]=a.selectBatch[x].length||a.unselectBatch[x].length?a.markerUnselectedOptions[x]:{};a.scatter2d.update($)}a.select2d&&(a.select2d.update(a.markerOptions),a.select2d.update(a.markerSelectedOptions)),a.glText&&h.forEach(function(ot){var W=((ot||[])[0]||{}).trace||{};r.hasText(W)&&l(ot)})}else a.scatter2d&&a.scatter2d.update(a.markerOptions);var G={viewport:s(_,c,p,f._context.plotGlPixelRatio),range:[(c._rl||c.range)[0],(p._rl||p.range)[0],(c._rl||c.range)[1],(p._rl||p.range)[1]]},rt=T.repeat(G,a.count);a.fill2d&&a.fill2d.update(rt),a.line2d&&a.line2d.update(rt),a.error2d&&a.error2d.update(rt.concat(rt)),a.scatter2d&&a.scatter2d.update(rt),a.select2d&&a.select2d.update(rt),a.glText&&a.glText.forEach(function(ot){ot.update(G)})}}};o.reglPrecompiled=n},74588:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){var L=i._scene,T={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},v={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return i._scene||(L=i._scene={},L.init=function(){E.extendFlat(L,v,T)},L.init(),L.update=function(d){var r=E.repeat(d,L.count);if(L.fill2d&&L.fill2d.update(r),L.scatter2d&&L.scatter2d.update(r),L.line2d&&L.line2d.update(r),L.error2d&&L.error2d.update(r.concat(r)),L.select2d&&L.select2d.update(r),L.glText)for(var e=0;e<L.count;e++)L.glText[e].update(d)},L.draw=function(){for(var d=L.count,r=L.fill2d,e=L.error2d,l=L.line2d,n=L.scatter2d,s=L.glText,o=L.select2d,f=L.selectBatch,b=L.unselectBatch,h=0;h<d;h++){if(r&&L.fillOrder[h]&&r.draw(L.fillOrder[h]),l&&L.lineOptions[h]&&l.draw(h),e&&(L.errorXOptions[h]&&e.draw(h),L.errorYOptions[h]&&e.draw(h+d)),n&&L.markerOptions[h])if(b[h].length){var _=E.repeat([],L.count);_[h]=b[h],n.draw(_)}else f[h].length||n.draw(h);s[h]&&L.textOptions[h]&&s[h].render()}o&&o.draw(f),L.dirty=!1},L.destroy=function(){L.fill2d&&L.fill2d.destroy&&L.fill2d.destroy(),L.scatter2d&&L.scatter2d.destroy&&L.scatter2d.destroy(),L.error2d&&L.error2d.destroy&&L.error2d.destroy(),L.line2d&&L.line2d.destroy&&L.line2d.destroy(),L.select2d&&L.select2d.destroy&&L.select2d.destroy(),L.glText&&L.glText.forEach(function(d){d.destroy&&d.destroy()}),L.lineOptions=null,L.fillOptions=null,L.markerOptions=null,L.markerSelectedOptions=null,L.markerUnselectedOptions=null,L.errorXOptions=null,L.errorYOptions=null,L.textOptions=null,L.textSelectedOptions=null,L.textUnselectedOptions=null,L.selectBatch=null,L.unselectBatch=null,i._scene=null}),L.dirty||E.extendFlat(L,T),L}},73224:function(tt,U,t){var E=t(43028),S=t(26768).styleTextSelection;tt.exports=function(i,L){var T=i.cd,v=i.xaxis,d=i.yaxis,r=[],e=T[0].trace,l=T[0].t,n=e._length,s=l.x,o=l.y,f=l._scene,b=l.index;if(!f)return r;var h=E.hasText(e),_=E.hasMarkers(e),a=!_&&!h;if(e.visible!==!0||a)return r;var c=[],p=[];if(L!==!1&&!L.degenerate)for(var x=0;x<n;x++)L.contains([l.xpx[x],l.ypx[x]],!1,x,i)?(c.push(x),r.push({pointNumber:x,x:v.c2d(s[x]),y:d.c2d(o[x])})):p.push(x);if(_){var k=f.scatter2d;if(!c.length&&!p.length){var y=new Array(f.count);y[b]=f.markerOptions[b],k.update.apply(k,y)}else if(!f.selectBatch[b].length&&!f.unselectBatch[b].length){var A=new Array(f.count);A[b]=f.markerUnselectedOptions[b],k.update.apply(k,A)}}return f.selectBatch[b]=c,f.unselectBatch[b]=p,h&&S(T),r}},31512:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(98304),L=t(6096),T=t(52904),v=t(5232),d=t(45464),r=t(49084),e=t(92880).extendFlat,l=t(67824).overrideAll,n=t(5232),s=L.line,o=L.marker;tt.exports=l({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:e({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:e({},o.opacity,{dflt:1})},mode:e({},T.mode,{dflt:"markers"}),text:e({},T.text,{}),texttemplate:S({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:e({},T.hovertext,{}),line:{color:s.color,width:s.width},connectgaps:T.connectgaps,marker:e({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode},r("marker")),fill:L.fill,fillcolor:i(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:T.selected.marker},unselected:{marker:T.unselected.marker},hoverinfo:e({},d.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:E()},"calc","nested")},59392:function(tt,U,t){var E=t(38248),S=t(3400),i=t(39032).BADNUM,L=t(44808),T=t(8932),v=t(43616),d=t(7152),r=t(43028),e=t(89032),l=t(10624).appendArrayPointValue,n=t(72736).NEWLINES,s=t(72736).BR_TAG_ALL;tt.exports=function(x,k){var y=k[0].trace,A=y.visible===!0&&y._length!==0,C=y.fill!=="none",u=r.hasLines(y),m=r.hasMarkers(y),M=r.hasText(y),w=m&&y.marker.symbol==="circle",z=m&&y.marker.symbol!=="circle",O=y.cluster&&y.cluster.enabled,D=o("fill"),P=o("line"),F=o("circle"),R=o("symbol"),N={fill:D,line:P,circle:F,symbol:R};if(!A)return N;var B;if((C||u)&&(B=L.calcTraceToLineCoords(k)),C&&(D.geojson=L.makePolygon(B),D.layout.visibility="visible",S.extendFlat(D.paint,{"fill-color":y.fillcolor})),u&&(P.geojson=L.makeLine(B),P.layout.visibility="visible",S.extendFlat(P.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),w){var q=f(k);F.geojson=q.geojson,F.layout.visibility="visible",O&&(F.filter=["!",["has","point_count"]],N.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":c(y.cluster.color,y.cluster.step),"circle-radius":c(y.cluster.size,y.cluster.step),"circle-opacity":c(y.cluster.opacity,y.cluster.step)}},N.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":p(y),"text-size":12}}),S.extendFlat(F.paint,{"circle-color":q.mcc,"circle-radius":q.mrc,"circle-opacity":q.mo})}if(w&&O&&(F.filter=["!",["has","point_count"]]),(z||M)&&(R.geojson=b(k,x),S.extendFlat(R.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),z&&(S.extendFlat(R.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&y.marker.angle!=="auto"&&S.extendFlat(R.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),R.layout["icon-allow-overlap"]=y.marker.allowoverlap,S.extendFlat(R.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),M)){var V=(y.marker||{}).size,J=e(y.textposition,V);S.extendFlat(R.layout,{"text-size":y.textfont.size,"text-anchor":J.anchor,"text-offset":J.offset,"text-font":p(y)}),S.extendFlat(R.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return N};function o(x){return{type:x,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function f(x){var k=x[0].trace,y=k.marker,A=k.selectedpoints,C=S.isArrayOrTypedArray(y.color),u=S.isArrayOrTypedArray(y.size),m=S.isArrayOrTypedArray(y.opacity),M;function w(J){return k.opacity*J}function z(J){return J/2}var O;C&&(T.hasColorscale(k,"marker")?O=T.makeColorScaleFuncFromTrace(y):O=S.identity);var D;u&&(D=d(k));var P;m&&(P=function(J){var it=E(J)?+S.constrain(J,0,1):0;return w(it)});var F=[];for(M=0;M<x.length;M++){var R=x[M],N=R.lonlat;if(!a(N)){var B={};O&&(B.mcc=R.mcc=O(R.mc)),D&&(B.mrc=R.mrc=D(R.ms)),P&&(B.mo=P(R.mo)),A&&(B.selected=R.selected||0),F.push({type:"Feature",id:M+1,geometry:{type:"Point",coordinates:N},properties:B})}}var q;if(A)for(q=v.makeSelectedPointStyleFns(k),M=0;M<F.length;M++){var V=F[M].properties;q.selectedOpacityFn&&(V.mo=w(q.selectedOpacityFn(V))),q.selectedColorFn&&(V.mcc=q.selectedColorFn(V)),q.selectedSizeFn&&(V.mrc=q.selectedSizeFn(V))}return{geojson:{type:"FeatureCollection",features:F},mcc:C||q&&q.selectedColorFn?{type:"identity",property:"mcc"}:y.color,mrc:u||q&&q.selectedSizeFn?{type:"identity",property:"mrc"}:z(y.size),mo:m||q&&q.selectedOpacityFn?{type:"identity",property:"mo"}:w(y.opacity)}}function b(x,k){for(var y=k._fullLayout,A=x[0].trace,C=A.marker||{},u=C.symbol,m=C.angle,M=u!=="circle"?h(u):_,w=m!=="auto"?h(m,!0):_,z=r.hasText(A)?h(A.text):_,O=[],D=0;D<x.length;D++){var P=x[D];if(!a(P.lonlat)){var F=A.texttemplate,R;if(F){var N=Array.isArray(F)?F[D]||"":F,B=A._module.formatLabels(P,A,y),q={};l(q,A,P.i);var V=A._meta||{};R=S.texttemplateString(N,B,y._d3locale,q,P,V)}else R=z(D);R&&(R=R.replace(n,"").replace(s,`
`)),O.push({type:"Feature",geometry:{type:"Point",coordinates:P.lonlat},properties:{symbol:M(D),angle:w(D),text:R}})}}return{type:"FeatureCollection",features:O}}function h(x,k){return S.isArrayOrTypedArray(x)?k?function(y){return E(x[y])?+x[y]:0}:function(y){return x[y]}:x?function(){return x}:_}function _(){return""}function a(x){return x[0]===i}function c(x,k){var y;if(S.isArrayOrTypedArray(x)&&S.isArrayOrTypedArray(k)){y=["step",["get","point_count"],x[0]];for(var A=1;A<x.length;A++)y.push(k[A-1],x[A])}else y=x;return y}function p(x){var k=x.textfont,y="";k.weight==="bold"&&(y+=" Bold"),k.style==="italic"&&(y+=" Italic");var A=k.family;return y&&(A=A.replace(" Regular",y)),A=A.split(", "),A}},15752:function(tt,U,t){var E=t(3400),S=t(43028),i=t(74428),L=t(66828),T=t(124),v=t(70840),d=t(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];tt.exports=function(l,n,s,o){function f(C,u){return E.coerce(l,n,d,C,u)}function b(C,u){return E.coerce2(l,n,d,C,u)}var h=e(l,n,f);if(!h){n.visible=!1;return}if(f("text"),f("texttemplate"),f("hovertext"),f("hovertemplate"),f("mode"),f("below"),S.hasMarkers(n)){i(l,n,s,o,f,{noLine:!0,noAngle:!0}),f("marker.allowoverlap"),f("marker.angle");var _=n.marker;_.symbol!=="circle"&&(E.isArrayOrTypedArray(_.size)&&(_.size=_.size[0]),E.isArrayOrTypedArray(_.color)&&(_.color=_.color[0]))}S.hasLines(n)&&(L(l,n,s,o,f,{noDash:!0}),f("connectgaps"));var a=b("cluster.maxzoom"),c=b("cluster.step"),p=b("cluster.color",n.marker&&n.marker.color||s),x=b("cluster.size"),k=b("cluster.opacity"),y=a!==!1||c!==!1||p!==!1||x!==!1||k!==!1,A=f("cluster.enabled",y);(A||S.hasText(n))&&T(l,n,o,f,{noSelect:!0,noFontVariant:!0,font:{family:r.indexOf(o.font.family)!==-1?o.font.family:"Open Sans Regular",weight:o.font.weight,style:o.font.style,size:o.font.size,color:o.font.color}}),f("fill"),n.fill!=="none"&&v(l,n,s,f),E.coerceSelectionMarkerOpacity(n,f)};function e(l,n,s){var o=s("lon")||[],f=s("lat")||[],b=Math.min(o.length,f.length);return n._length=b,b}},37920:function(tt){tt.exports=function(U,t){return U.lon=t.lon,U.lat=t.lat,U}},11960:function(tt,U,t){var E=t(54460);tt.exports=function(S,i,L){var T={},v=L[i.subplot]._subplot,d=v.mockAxis,r=S.lonlat;return T.lonLabel=E.tickText(d,d.c2l(r[0]),!0).text,T.latLabel=E.tickText(d,d.c2l(r[1]),!0).text,T}},63312:function(tt,U,t){var E=t(93024),S=t(3400),i=t(44928),L=S.fillText,T=t(39032).BADNUM,v=t(47552).traceLayerPrefix;function d(e,l,n){var s=e.cd,o=s[0].trace,f=e.xa,b=e.ya,h=e.subplot,_=[],a=v+o.uid+"-circle",c=o.cluster&&o.cluster.enabled;if(c){var p=h.map.queryRenderedFeatures(null,{layers:[a]});_=p.map(function(P){return P.id})}var x=l>=0?Math.floor((l+180)/360):Math.ceil((l-180)/360),k=x*360,y=l-k;function A(P){var F=P.lonlat;if(F[0]===T||c&&_.indexOf(P.i+1)===-1)return 1/0;var R=S.modHalf(F[0],360),N=F[1],B=h.project([R,N]),q=B.x-f.c2p([y,N]),V=B.y-b.c2p([R,n]),J=Math.max(3,P.mrc||0);return Math.max(Math.sqrt(q*q+V*V)-J,1-3/J)}if(E.getClosest(s,A,e),e.index!==!1){var C=s[e.index],u=C.lonlat,m=[S.modHalf(u[0],360)+k,u[1]],M=f.c2p(m),w=b.c2p(m),z=C.mrc||1;e.x0=M-z,e.x1=M+z,e.y0=w-z,e.y1=w+z;var O={};O[o.subplot]={_subplot:h};var D=o._module.formatLabels(C,o,O);return e.lonLabel=D.lonLabel,e.latLabel=D.latLabel,e.color=i(o,C),e.extraText=r(o,C,s[0].t.labels),e.hovertemplate=o.hovertemplate,[e]}}function r(e,l,n){if(e.hovertemplate)return;var s=l.hi||e.hoverinfo,o=s.split("+"),f=o.indexOf("all")!==-1,b=o.indexOf("lon")!==-1,h=o.indexOf("lat")!==-1,_=l.lonlat,a=[];function c(p){return p+"\xB0"}return f||b&&h?a.push("("+c(_[1])+", "+c(_[0])+")"):b?a.push(n.lon+c(_[0])):h&&a.push(n.lat+c(_[1])),(f||o.indexOf("text")!==-1)&&L(l,e,a),a.join("<br>")}tt.exports={hoverPoints:d,getExtraText:r}},11572:function(tt,U,t){tt.exports={attributes:t(31512),supplyDefaults:t(15752),colorbar:t(5528),formatLabels:t(11960),calc:t(25212),plot:t(9660),hoverPoints:t(63312).hoverPoints,eventData:t(37920),selectPoints:t(404),styleOnSelect:function(E,S){if(S){var i=S[0].trace;i._glTrace.update(S)}},moduleType:"trace",name:"scattermapbox",basePlotModule:t(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(tt,U,t){var E=t(3400),S=t(59392),i=t(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(d,r,e,l){this.type="scattermapbox",this.subplot=d,this.uid=r,this.clusterEnabled=e,this.isHidden=l,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var v=T.prototype;v.addSource=function(d,r,e){var l={type:"geojson",data:r.geojson};e&&e.enabled&&E.extendFlat(l,{cluster:!0,clusterMaxZoom:e.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[d]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[d],l)},v.setSourceData=function(d,r){this.subplot.map.getSource(this.sourceIds[d]).setData(r.geojson)},v.addLayer=function(d,r,e){var l={type:r.type,id:this.layerIds[d],source:this.sourceIds[d],layout:r.layout,paint:r.paint};r.filter&&(l.filter=r.filter);for(var n=this.layerIds[d],s,o=this.subplot.getMapLayers(),f=0;f<o.length;f++)if(o[f].id===n){s=!0;break}s?(this.subplot.setOptions(n,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",l.paint)):this.subplot.addLayer(l,e)},v.update=function(d){var r=d[0].trace,e=this.subplot,l=e.map,n=S(e.gd,d),s=e.belowLookup["trace-"+this.uid],o=!!(r.cluster&&r.cluster.enabled),f=!!this.clusterEnabled,b=this;function h(C){C||b.addSource("circle",n.circle,r.cluster);for(var u=L.cluster,m=0;m<u.length;m++){var M=u[m],w=n[M];b.addLayer(M,w,s)}}function _(C){for(var u=L.cluster,m=u.length-1;m>=0;m--){var M=u[m];l.removeLayer(b.layerIds[M])}C||l.removeSource(b.sourceIds.circle)}function a(C){for(var u=L.nonCluster,m=0;m<u.length;m++){var M=u[m],w=n[M];C||b.addSource(M,w),b.addLayer(M,w,s)}}function c(C){for(var u=L.nonCluster,m=u.length-1;m>=0;m--){var M=u[m];l.removeLayer(b.layerIds[M]),C||l.removeSource(b.sourceIds[M])}}function p(C){f?_(C):c(C)}function x(C){o?h(C):a(C)}function k(){for(var C=o?L.cluster:L.nonCluster,u=0;u<C.length;u++){var m=C[u],M=n[m];M&&(e.setOptions(b.layerIds[m],"setLayoutProperty",M.layout),M.layout.visibility==="visible"&&(m!=="cluster"&&b.setSourceData(m,M),e.setOptions(b.layerIds[m],"setPaintProperty",M.paint)))}}var y=this.isHidden,A=r.visible!==!0;A?y||p():y?A||x():f!==o?(p(),x()):(this.below!==s&&(p(!0),x(!0)),k()),this.clusterEnabled=o,this.isHidden=A,this.below=s,d[0].trace._glTrace=this},v.dispose=function(){for(var d=this.subplot.map,r=this.clusterEnabled?L.cluster:L.nonCluster,e=r.length-1;e>=0;e--){var l=r[e];d.removeLayer(this.layerIds[l]),d.removeSource(this.sourceIds[l])}},tt.exports=function(d,r){var e=r[0].trace,l=e.cluster&&e.cluster.enabled,n=e.visible!==!0,s=new T(d,e.uid,l,n),o=S(d.gd,r),f=s.below=d.belowLookup["trace-"+e.uid],b,h,_;if(l)for(s.addSource("circle",o.circle,e.cluster),b=0;b<L.cluster.length;b++)h=L.cluster[b],_=o[h],s.addLayer(h,_,f);else for(b=0;b<L.nonCluster.length;b++)h=L.nonCluster[b],_=o[h],s.addSource(h,_,e.cluster),s.addLayer(h,_,f);return r[0].trace._glTrace=s,s}},404:function(tt,U,t){var E=t(3400),S=t(43028),i=t(39032).BADNUM;tt.exports=function(L,T){var v=L.cd,d=L.xaxis,r=L.yaxis,e=[],l=v[0].trace,n;if(!S.hasMarkers(l))return[];if(T===!1)for(n=0;n<v.length;n++)v[n].selected=0;else for(n=0;n<v.length;n++){var s=v[n],o=s.lonlat;if(o[0]!==i){var f=[E.modHalf(o[0],360),o[1]],b=[d.c2p(f),r.c2p(f)];T.contains(b,null,n,L)?(e.push({pointNumber:n,lon:o[0],lat:o[1]}),s.selected=1):s.selected=0}}return e}},8319:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(92880).extendFlat,L=t(98304),T=t(52904),v=t(45464),d=T.line;tt.exports={mode:T.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:S({editType:"plot"},{keys:["r","theta","text"]}),hovertext:T.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:i({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:i({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:i({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:i({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:T.hoveron,hovertemplate:E(),selected:T.selected,unselected:T.unselected}},58320:function(tt,U,t){var E=t(38248),S=t(39032).BADNUM,i=t(54460),L=t(90136),T=t(20148),v=t(4500),d=t(16356).calcMarkerSize;tt.exports=function(r,e){for(var l=r._fullLayout,n=e.subplot,s=l[n].radialaxis,o=l[n].angularaxis,f=s.makeCalcdata(e,"r"),b=o.makeCalcdata(e,"theta"),h=e._length,_=new Array(h),a=0;a<h;a++){var c=f[a],p=b[a],x=_[a]={};E(c)&&E(p)?(x.r=c,x.theta=p):x.r=S}var k=d(e,h);return e._extremes.x=i.findExtremes(s,f,{ppad:k}),L(r,e),T(_,e),v(_,e),_}},85968:function(tt,U,t){var E=t(3400),S=t(43028),i=t(74428),L=t(66828),T=t(11731),v=t(124),d=t(70840),r=t(88200).PTS_LINESONLY,e=t(8319);function l(s,o,f,b){function h(c,p){return E.coerce(s,o,e,c,p)}var _=n(s,o,b,h);if(!_){o.visible=!1;return}h("thetaunit"),h("mode",_<r?"lines+markers":"lines"),h("text"),h("hovertext"),o.hoveron!=="fills"&&h("hovertemplate"),S.hasMarkers(o)&&i(s,o,f,b,h,{gradient:!0}),S.hasLines(o)&&(L(s,o,f,b,h,{backoff:!0}),T(s,o,h),h("connectgaps")),S.hasText(o)&&(h("texttemplate"),v(s,o,b,h));var a=[];(S.hasMarkers(o)||S.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),a.push("points")),h("fill"),o.fill!=="none"&&(d(s,o,f,h),S.hasLines(o)||T(s,o,h)),(o.fill==="tonext"||o.fill==="toself")&&a.push("fills"),h("hoveron",a.join("+")||"points"),E.coerceSelectionMarkerOpacity(o,h)}function n(s,o,f,b){var h=b("r"),_=b("theta");E.isTypedArray(h)&&(o.r=h=Array.from(h)),E.isTypedArray(_)&&(o.theta=_=Array.from(_));var a;if(h)_?a=Math.min(h.length,_.length):(a=h.length,b("theta0"),b("dtheta"));else{if(!_)return 0;a=o.theta.length,b("r0"),b("dr")}return o._length=a,a}tt.exports={handleRThetaDefaults:n,supplyDefaults:l}},22852:function(tt,U,t){var E=t(3400),S=t(54460);tt.exports=function(i,L,T){var v={},d=T[L.subplot]._subplot,r,e;d?(r=d.radialAxis,e=d.angularAxis):(d=T[L.subplot],r=d.radialaxis,e=d.angularaxis);var l=r.c2l(i.r);v.rLabel=S.tickText(r,l,!0).text;var n=e.thetaunit==="degrees"?E.rad2deg(i.theta):i.theta;return v.thetaLabel=S.tickText(e,n,!0).text,v}},8504:function(tt,U,t){var E=t(98723);function S(L,T,v,d){var r=E(L,T,v,d);if(!(!r||r[0].index===!1)){var e=r[0];if(e.index===void 0)return r;var l=L.subplot,n=e.cd[e.index],s=e.trace;if(l.isPtInside(n))return e.xLabelVal=void 0,e.yLabelVal=void 0,i(n,s,l,e),e.hovertemplate=s.hovertemplate,r}}function i(L,T,v,d){var r=v.radialAxis,e=v.angularAxis;r._hovertitle="r",e._hovertitle="\u03B8";var l={};l[T.subplot]={_subplot:v};var n=T._module.formatLabels(L,T,l);d.rLabel=n.rLabel,d.thetaLabel=n.thetaLabel;var s=L.hi||T.hoverinfo,o=[];function f(h,_){o.push(h._hovertitle+": "+_)}if(!T.hovertemplate){var b=s.split("+");b.indexOf("all")!==-1&&(b=["r","theta","text"]),b.indexOf("r")!==-1&&f(r,d.rLabel),b.indexOf("theta")!==-1&&f(e,d.thetaLabel),b.indexOf("text")!==-1&&d.text&&(o.push(d.text),delete d.text),d.extraText=o.join("<br>")}}tt.exports={hoverPoints:S,makeHoverPointText:i}},76924:function(tt,U,t){tt.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:t(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:t(8319),supplyDefaults:t(85968).supplyDefaults,colorbar:t(5528),formatLabels:t(22852),calc:t(58320),plot:t(43456),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(8504).hoverPoints,selectPoints:t(91560),meta:{}}},43456:function(tt,U,t){var E=t(96504),S=t(39032).BADNUM;tt.exports=function(i,L,T){for(var v=L.layers.frontplot.select("g.scatterlayer"),d=L.xaxis,r=L.yaxis,e={xaxis:d,yaxis:r,plot:L.framework,layerClipId:L._hasClipOnAxisFalse?L.clipIds.forTraces:null},l=L.radialAxis,n=L.angularAxis,s=0;s<T.length;s++)for(var o=T[s],f=0;f<o.length;f++){f===0&&(o[0].trace._xA=d,o[0].trace._yA=r);var b=o[f],h=b.r;if(h===S)b.x=b.y=S;else{var _=l.c2g(h),a=n.c2g(b.theta);b.x=_*Math.cos(a),b.y=_*Math.sin(a)}}E(i,e,T,v)}},24396:function(tt,U,t){var E=t(8319),S=t(2876),i=t(21776).Gw;tt.exports={mode:E.mode,r:E.r,theta:E.theta,r0:E.r0,dr:E.dr,theta0:E.theta0,dtheta:E.dtheta,thetaunit:E.thetaunit,text:E.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:E.hovertext,hovertemplate:E.hovertemplate,line:{color:S.line.color,width:S.line.width,dash:S.line.dash,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,fill:S.fill,fillcolor:S.fillcolor,textposition:S.textposition,textfont:S.textfont,hoverinfo:E.hoverinfo,selected:E.selected,unselected:E.unselected}},27160:function(tt,U,t){tt.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:t(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:t(24396),supplyDefaults:t(98608),colorbar:t(5528),formatLabels:t(94120),calc:t(66720),hoverPoints:t(1600).hoverPoints,selectPoints:t(73224),meta:{}}},66720:function(tt,U,t){var E=t(90136),S=t(16356).calcMarkerSize,i=t(84236),L=t(54460),T=t(67072).TOO_MANY_POINTS;tt.exports=function(v,d){var r=v._fullLayout,e=d.subplot,l=r[e].radialaxis,n=r[e].angularaxis,s=d._r=l.makeCalcdata(d,"r"),o=d._theta=n.makeCalcdata(d,"theta"),f=d._length,b={};f<s.length&&(s=s.slice(0,f)),f<o.length&&(o=o.slice(0,f)),b.r=s,b.theta=o,E(v,d);var h=b.opts=i.style(v,d),_;return f<T?_=S(d,f):h.marker&&(_=2*(h.marker.sizeAvg||Math.max(h.marker.size,3))),d._extremes.x=L.findExtremes(l,s,{ppad:_}),[{x:!1,y:!1,t:b,trace:d}]}},98608:function(tt,U,t){var E=t(3400),S=t(43028),i=t(85968).handleRThetaDefaults,L=t(74428),T=t(66828),v=t(124),d=t(70840),r=t(88200).PTS_LINESONLY,e=t(24396);tt.exports=function(l,n,s,o){function f(h,_){return E.coerce(l,n,e,h,_)}var b=i(l,n,o,f);if(!b){n.visible=!1;return}f("thetaunit"),f("mode",b<r?"lines+markers":"lines"),f("text"),f("hovertext"),n.hoveron!=="fills"&&f("hovertemplate"),S.hasMarkers(n)&&L(l,n,s,o,f,{noAngleRef:!0,noStandOff:!0}),S.hasLines(n)&&(T(l,n,s,o,f),f("connectgaps")),S.hasText(n)&&(f("texttemplate"),v(l,n,o,f)),f("fill"),n.fill!=="none"&&d(l,n,s,f),E.coerceSelectionMarkerOpacity(n,f)}},94120:function(tt,U,t){var E=t(22852);tt.exports=function(S,i,L){var T=S.i;return"r"in S||(S.r=i._r[T]),"theta"in S||(S.theta=i._theta[T]),E(S,i,L)}},1600:function(tt,U,t){var E=t(41272),S=t(8504).makeHoverPointText;function i(L,T,v,d){var r=L.cd,e=r[0].t,l=e.r,n=e.theta,s=E.hoverPoints(L,T,v,d);if(!(!s||s[0].index===!1)){var o=s[0];if(o.index===void 0)return s;var f=L.subplot,b=o.cd[o.index],h=o.trace;if(b.r=l[o.index],b.theta=n[o.index],!!f.isPtInside(b))return o.xLabelVal=void 0,o.yLabelVal=void 0,S(b,h,f,o),s}}tt.exports={hoverPoints:i}},62944:function(tt,U,t){var E=t(27160);E.plot=t(56512),tt.exports=E},56512:function(tt,U,t){var E=t(3108),S=t(38248),i=t(89876),L=t(74588),T=t(84236),v=t(3400),d=t(67072).TOO_MANY_POINTS,r={};tt.exports=function(e,l,n){if(n.length){var s=l.radialAxis,o=l.angularAxis,f=L(e,l);return n.forEach(function(b){if(!(!b||!b[0]||!b[0].trace)){var h=b[0],_=h.trace,a=h.t,c=_._length,p=a.r,x=a.theta,k=a.opts,y,A=p.slice(),C=x.slice();for(y=0;y<p.length;y++)l.isPtInside({r:p[y],theta:x[y]})||(A[y]=NaN,C[y]=NaN);var u=new Array(c*2),m=Array(c),M=Array(c);for(y=0;y<c;y++){var w=A[y],z,O;if(S(w)){var D=s.c2g(w),P=o.c2g(C[y],_.thetaunit);z=D*Math.cos(P),O=D*Math.sin(P)}else z=O=NaN;m[y]=u[y*2]=z,M[y]=u[y*2+1]=O}a.tree=E(u),k.marker&&c>=d&&(k.marker.cluster=a.tree),k.marker&&(k.markerSel.positions=k.markerUnsel.positions=k.marker.positions=u),k.line&&u.length>1&&v.extendFlat(k.line,T.linePositions(e,_,u)),k.text&&(v.extendFlat(k.text,{positions:u},T.textPosition(e,_,k.text,k.marker)),v.extendFlat(k.textSel,{positions:u},T.textPosition(e,_,k.text,k.markerSel)),v.extendFlat(k.textUnsel,{positions:u},T.textPosition(e,_,k.text,k.markerUnsel))),k.fill&&!f.fill2d&&(f.fill2d=!0),k.marker&&!f.scatter2d&&(f.scatter2d=!0),k.line&&!f.line2d&&(f.line2d=!0),k.text&&!f.glText&&(f.glText=!0),f.lineOptions.push(k.line),f.fillOptions.push(k.fill),f.markerOptions.push(k.marker),f.markerSelectedOptions.push(k.markerSel),f.markerUnselectedOptions.push(k.markerUnsel),f.textOptions.push(k.text),f.textSelectedOptions.push(k.textSel),f.textUnselectedOptions.push(k.textUnsel),f.selectBatch.push([]),f.unselectBatch.push([]),a.x=m,a.y=M,a.rawx=m,a.rawy=M,a.r=p,a.theta=x,a.positions=u,a._scene=f,a.index=f.count,f.count++}}),i(e,l,n)}},tt.exports.reglPrecompiled=r},69496:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(92880).extendFlat,L=t(98304),T=t(52904),v=t(45464),d=T.line;tt.exports={mode:T.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:S({editType:"plot"},{keys:["real","imag","text"]}),hovertext:T.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:i({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:i({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:i({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:i({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:T.hoveron,hovertemplate:E(),selected:T.selected,unselected:T.unselected}},47507:function(tt,U,t){var E=t(38248),S=t(39032).BADNUM,i=t(90136),L=t(20148),T=t(4500),v=t(16356).calcMarkerSize;tt.exports=function(d,r){for(var e=d._fullLayout,l=r.subplot,n=e[l].realaxis,s=e[l].imaginaryaxis,o=n.makeCalcdata(r,"real"),f=s.makeCalcdata(r,"imag"),b=r._length,h=new Array(b),_=0;_<b;_++){var a=o[_],c=f[_],p=h[_]={};E(a)&&E(c)?(p.real=a,p.imag=c):p.real=S}return v(r,b),i(d,r),L(h,r),T(h,r),h}},76716:function(tt,U,t){var E=t(3400),S=t(43028),i=t(74428),L=t(66828),T=t(11731),v=t(124),d=t(70840),r=t(88200).PTS_LINESONLY,e=t(69496);tt.exports=function(n,s,o,f){function b(a,c){return E.coerce(n,s,e,a,c)}var h=l(n,s,f,b);if(!h){s.visible=!1;return}b("mode",h<r?"lines+markers":"lines"),b("text"),b("hovertext"),s.hoveron!=="fills"&&b("hovertemplate"),S.hasMarkers(s)&&i(n,s,o,f,b,{gradient:!0}),S.hasLines(s)&&(L(n,s,o,f,b,{backoff:!0}),T(n,s,b),b("connectgaps")),S.hasText(s)&&(b("texttemplate"),v(n,s,f,b));var _=[];(S.hasMarkers(s)||S.hasText(s))&&(b("cliponaxis"),b("marker.maxdisplayed"),_.push("points")),b("fill"),s.fill!=="none"&&(d(n,s,o,b),S.hasLines(s)||T(n,s,b)),(s.fill==="tonext"||s.fill==="toself")&&_.push("fills"),b("hoveron",_.join("+")||"points"),E.coerceSelectionMarkerOpacity(s,b)};function l(n,s,o,f){var b=f("real"),h=f("imag"),_;return b&&h&&(_=Math.min(b.length,h.length)),E.isTypedArray(b)&&(s.real=b=Array.from(b)),E.isTypedArray(h)&&(s.imag=h=Array.from(h)),s._length=_,_}},49504:function(tt,U,t){var E=t(54460);tt.exports=function(S,i,L){var T={},v=L[i.subplot]._subplot;return T.realLabel=E.tickText(v.radialAxis,S.real,!0).text,T.imagLabel=E.tickText(v.angularAxis,S.imag,!0).text,T}},25292:function(tt,U,t){var E=t(98723);function S(L,T,v,d){var r=E(L,T,v,d);if(!(!r||r[0].index===!1)){var e=r[0];if(e.index===void 0)return r;var l=L.subplot,n=e.cd[e.index],s=e.trace;if(l.isPtInside(n))return e.xLabelVal=void 0,e.yLabelVal=void 0,i(n,s,l,e),e.hovertemplate=s.hovertemplate,r}}function i(L,T,v,d){var r=v.radialAxis,e=v.angularAxis;r._hovertitle="real",e._hovertitle="imag";var l={};l[T.subplot]={_subplot:v};var n=T._module.formatLabels(L,T,l);d.realLabel=n.realLabel,d.imagLabel=n.imagLabel;var s=L.hi||T.hoverinfo,o=[];function f(h,_){o.push(h._hovertitle+": "+_)}if(!T.hovertemplate){var b=s.split("+");b.indexOf("all")!==-1&&(b=["real","imag","text"]),b.indexOf("real")!==-1&&f(r,d.realLabel),b.indexOf("imag")!==-1&&f(e,d.imagLabel),b.indexOf("text")!==-1&&d.text&&(o.push(d.text),delete d.text),d.extraText=o.join("<br>")}}tt.exports={hoverPoints:S,makeHoverPointText:i}},95443:function(tt,U,t){tt.exports={moduleType:"trace",name:"scattersmith",basePlotModule:t(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:t(69496),supplyDefaults:t(76716),colorbar:t(5528),formatLabels:t(49504),calc:t(47507),plot:t(34927),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(25292).hoverPoints,selectPoints:t(91560),meta:{}}},34927:function(tt,U,t){var E=t(96504),S=t(39032).BADNUM,i=t(36416),L=i.smith;tt.exports=function(T,v,d){for(var r=v.layers.frontplot.select("g.scatterlayer"),e=v.xaxis,l=v.yaxis,n={xaxis:e,yaxis:l,plot:v.framework,layerClipId:v._hasClipOnAxisFalse?v.clipIds.forTraces:null},s=0;s<d.length;s++)for(var o=d[s],f=0;f<o.length;f++){f===0&&(o[0].trace._xA=e,o[0].trace._yA=l);var b=o[f],h=b.real;if(h===S)b.x=b.y=S;else{var _=L([h,b.imag]);b.x=_[0],b.y=_[1]}}E(T,n,d,r)}},5896:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(98304),L=t(52904),T=t(45464),v=t(49084),d=t(98192).u,r=t(92880).extendFlat,e=L.marker,l=L.line,n=e.line;tt.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:l.color,width:l.width,dash:d,backoff:l.backoff,shape:r({},l.shape,{values:["linear","spline"]}),smoothing:l.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i(),marker:r({symbol:e.symbol,opacity:e.opacity,angle:e.angle,angleref:e.angleref,standoff:e.standoff,maxdisplayed:e.maxdisplayed,size:e.size,sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:e.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},T.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:E()}},34335:function(tt,U,t){var E=t(38248),S=t(90136),i=t(20148),L=t(4500),T=t(16356).calcMarkerSize,v=["a","b","c"],d={a:["b","c"],b:["a","c"],c:["a","b"]};tt.exports=function(r,e){var l=r._fullLayout[e.subplot],n=l.sum,s=e.sum||n,o={a:e.a,b:e.b,c:e.c},f,b,h,_,a,c;for(f=0;f<v.length;f++)if(h=v[f],!o[h]){for(a=o[d[h][0]],c=o[d[h][1]],_=new Array(a.length),b=0;b<a.length;b++)_[b]=s-a[b]-c[b];o[h]=_}var p=e._length,x=new Array(p),k,y,A,C,u,m;for(f=0;f<p;f++)k=o.a[f],y=o.b[f],A=o.c[f],E(k)&&E(y)&&E(A)?(k=+k,y=+y,A=+A,C=n/(k+y+A),C!==1&&(k*=C,y*=C,A*=C),m=k,u=A-y,x[f]={x:u,y:m,a:k,b:y,c:A}):x[f]={x:!1,y:!1};return T(e,p),S(r,e),i(x,e),L(x,e),x}},84256:function(tt,U,t){var E=t(3400),S=t(88200),i=t(43028),L=t(74428),T=t(66828),v=t(11731),d=t(124),r=t(70840),e=t(5896);tt.exports=function(l,n,s,o){function f(x,k){return E.coerce(l,n,e,x,k)}var b=f("a"),h=f("b"),_=f("c"),a;if(b?(a=b.length,h?(a=Math.min(a,h.length),_&&(a=Math.min(a,_.length))):_?a=Math.min(a,_.length):a=0):h&&_&&(a=Math.min(h.length,_.length)),!a){n.visible=!1;return}n._length=a,f("sum"),f("text"),f("hovertext"),n.hoveron!=="fills"&&f("hovertemplate");var c=a<S.PTS_LINESONLY?"lines+markers":"lines";f("mode",c),i.hasMarkers(n)&&L(l,n,s,o,f,{gradient:!0}),i.hasLines(n)&&(T(l,n,s,o,f,{backoff:!0}),v(l,n,f),f("connectgaps")),i.hasText(n)&&(f("texttemplate"),d(l,n,o,f));var p=[];(i.hasMarkers(n)||i.hasText(n))&&(f("cliponaxis"),f("marker.maxdisplayed"),p.push("points")),f("fill"),n.fill!=="none"&&(r(l,n,s,f),i.hasLines(n)||v(l,n,f)),(n.fill==="tonext"||n.fill==="toself")&&p.push("fills"),f("hoveron",p.join("+")||"points"),E.coerceSelectionMarkerOpacity(n,f)}},97476:function(tt){tt.exports=function(U,t,E,S,i){if(t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),S[i]){var L=S[i];U.a=L.a,U.b=L.b,U.c=L.c}else U.a=t.a,U.b=t.b,U.c=t.c;return U}},90404:function(tt,U,t){var E=t(54460);tt.exports=function(S,i,L){var T={},v=L[i.subplot]._subplot;return T.aLabel=E.tickText(v.aaxis,S.a,!0).text,T.bLabel=E.tickText(v.baxis,S.b,!0).text,T.cLabel=E.tickText(v.caxis,S.c,!0).text,T}},26596:function(tt,U,t){var E=t(98723);tt.exports=function(S,i,L,T){var v=E(S,i,L,T);if(!v||v[0].index===!1)return;var d=v[0];if(d.index===void 0){var r=1-d.y0/S.ya._length,e=S.xa._length,l=e*r/2,n=e-l;return d.x0=Math.max(Math.min(d.x0,n),l),d.x1=Math.max(Math.min(d.x1,n),l),v}var s=d.cd[d.index],o=d.trace,f=d.subplot;d.a=s.a,d.b=s.b,d.c=s.c,d.xLabelVal=void 0,d.yLabelVal=void 0;var b={};b[o.subplot]={_subplot:f};var h=o._module.formatLabels(s,o,b);d.aLabel=h.aLabel,d.bLabel=h.bLabel,d.cLabel=h.cLabel;var _=s.hi||o.hoverinfo,a=[];function c(x,k){a.push(x._hovertitle+": "+k)}if(!o.hovertemplate){var p=_.split("+");p.indexOf("all")!==-1&&(p=["a","b","c"]),p.indexOf("a")!==-1&&c(f.aaxis,d.aLabel),p.indexOf("b")!==-1&&c(f.baxis,d.bLabel),p.indexOf("c")!==-1&&c(f.caxis,d.cLabel)}return d.extraText=a.join("<br>"),d.hovertemplate=o.hovertemplate,v}},34864:function(tt,U,t){tt.exports={attributes:t(5896),supplyDefaults:t(84256),colorbar:t(5528),formatLabels:t(90404),calc:t(34335),plot:t(88776),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(26596),selectPoints:t(91560),eventData:t(97476),moduleType:"trace",name:"scatterternary",basePlotModule:t(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(tt,U,t){var E=t(96504);tt.exports=function(S,i,L){var T=i.plotContainer;T.select(".scatterlayer").selectAll("*").remove();for(var v=i.xaxis,d=i.yaxis,r={xaxis:v,yaxis:d,plot:T,layerClipId:i._hasClipOnAxisFalse?i.clipIdRelative:null},e=i.layers.frontplot.select("g.scatterlayer"),l=0;l<L.length;l++){var n=L[l];n.length&&(n[0].trace._xA=v,n[0].trace._yA=d)}E(S,r,L,e)}},44524:function(tt,U,t){var E=t(52904),S=t(49084),i=t(29736).axisHoverFormat,L=t(21776).Ks,T=t(2876),v=t(33816).idRegex,d=t(31780).templatedArray,r=t(92880).extendFlat,e=E.marker,l=e.line,n=r(S("marker.line",{editTypeOverride:"calc"}),{width:r({},l.width,{editType:"calc"}),editType:"calc"}),s=r(S("marker"),{symbol:e.symbol,angle:e.angle,size:r({},e.size,{editType:"markerSize"}),sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,opacity:e.opacity,colorbar:e.colorbar,line:n,editType:"calc"});s.color.editType=s.cmin.editType=s.cmax.editType="style";function o(f){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[f],editType:"plot"}}}tt.exports={dimensions:d("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},T.text,{}),hovertext:r({},T.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),marker:s,xaxes:o("x"),yaxes:o("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},28888:function(tt,U,t){var E=t(24040),S=t(12704);tt.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t(44524),supplyDefaults:t(69544),colorbar:t(5528),calc:t(66821),plot:t(54840),hoverPoints:t(72248).hoverPoints,selectPoints:t(62500),editStyle:t(83156),meta:{}},E.register(S)},99332:function(tt,U,t){var E=t(13472),S=t(24040),i=t(5048),L=t(84888)._M,T=t(57952),v=t(79811).getFromId,d=t(54460).shouldShowZeroLine,r="splom",e={};function l(h){var _=h._fullLayout,a=S.getModule(r),c=L(h.calcdata,a)[0],p=i(h,["ANGLE_instanced_arrays","OES_element_index_uint"],e);p&&(_._hasOnlyLargeSploms&&o(h),a.plot(h,{},c))}function n(h){var _=h.calcdata,a=h._fullLayout;a._hasOnlyLargeSploms&&o(h);for(var c=0;c<_.length;c++){var p=_[c][0],x=p.trace,k=a._splomScenes[x.uid];x.type==="splom"&&k&&k.matrix&&s(h,x,k)}}function s(h,_,a){for(var c=a.matrixOptions.data.length,p=_._visibleDims,x=a.viewOpts.ranges=new Array(c),k=0;k<p.length;k++){var y=p[k],A=x[k]=new Array(4),C=v(h,_._diag[y][0]);C&&(A[0]=C.r2l(C.range[0]),A[2]=C.r2l(C.range[1]));var u=v(h,_._diag[y][1]);u&&(A[1]=u.r2l(u.range[0]),A[3]=u.r2l(u.range[1]))}a.selectBatch.length||a.unselectBatch.length?a.matrix.update({ranges:x},{ranges:x}):a.matrix.update({ranges:x})}function o(h){var _=h._fullLayout,a=_._glcanvas.data()[0].regl,c=_._splomGrid;c||(c=_._splomGrid=E(a)),c.update(f(h))}function f(h){var _=h._context.plotGlPixelRatio,a=h._fullLayout,c=a._size,p=[0,0,a.width*_,a.height*_],x={},k;function y(q,V,J,it,nt,Y){J*=_,it*=_,nt*=_,Y*=_;var Z=V[q+"color"],$=V[q+"width"],G=String(Z+$);G in x?x[G].data.push(NaN,NaN,J,it,nt,Y):x[G]={data:[J,it,nt,Y],join:"rect",thickness:$*_,color:Z,viewport:p,range:p,overlay:!1}}for(k in a._splomSubplots){var A=a._plots[k],C=A.xaxis,u=A.yaxis,m=C._gridVals,M=u._gridVals,w=C._offset,z=C._length,O=u._length,D=c.b+u.domain[0]*c.h,P=-u._m,F=-P*u.r2l(u.range[0],u.calendar),R,N;if(C.showgrid)for(k=0;k<m.length;k++)R=w+C.l2p(m[k].x),y("grid",C,R,D,R,D+O);if(u.showgrid)for(k=0;k<M.length;k++)N=D+F+P*M[k].x,y("grid",u,w,N,w+z,N);d(h,C,u)&&(R=w+C.l2p(0),y("zeroline",C,R,D,R,D+O)),d(h,u,C)&&(N=D+F+0,y("zeroline",u,w,N,w+z,N))}var B=[];for(k in x)B.push(x[k]);return B}function b(h,_,a,c){var p={},x;if(c._splomScenes){for(x=0;x<h.length;x++){var k=h[x];k.type==="splom"&&(p[k.uid]=1)}for(x=0;x<a.length;x++){var y=a[x];if(!p[y.uid]){var A=c._splomScenes[y.uid];A&&A.destroy&&A.destroy(),c._splomScenes[y.uid]=null,delete c._splomScenes[y.uid]}}}Object.keys(c._splomScenes||{}).length===0&&delete c._splomScenes,c._splomGrid&&!_._hasOnlyLargeSploms&&c._hasOnlyLargeSploms&&(c._splomGrid.destroy(),c._splomGrid=null,delete c._splomGrid),T.clean(h,_,a,c)}tt.exports={name:r,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:l,drag:n,updateGrid:o,clean:b,updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:e}},66821:function(tt,U,t){var E=t(3400),S=t(79811),i=t(16356).calcMarkerSize,L=t(16356).calcAxisExpansion,T=t(90136),v=t(84236).markerSelection,d=t(84236).markerStyle,r=t(72308),e=t(39032).BADNUM,l=t(67072).TOO_MANY_POINTS;tt.exports=function(n,s){var o=s.dimensions,f=s._length,b={},h=b.cdata=[],_=b.data=[],a=s._visibleDims=[],c,p,x,k,y;function A(w,z){for(var O=w.makeCalcdata({v:z.values,vcalendar:s.calendar},"v"),D=0;D<O.length;D++)O[D]=O[D]===e?NaN:O[D];h.push(O),_.push(w.type==="log"?E.simpleMap(O,w.c2l):O)}for(c=0;c<o.length;c++)if(x=o[c],x.visible){if(k=S.getFromId(n,s._diag[c][0]),y=S.getFromId(n,s._diag[c][1]),k&&y&&k.type!==y.type){E.log("Skipping splom dimension "+c+" with conflicting axis types");continue}k?(A(k,x),y&&y.type==="category"&&(y._categories=k._categories.slice())):A(y,x),a.push(c)}T(n,s),E.extendFlat(b,d(n,s));var C=h.length,u=C*f>l,m;for(u?m=b.sizeAvg||Math.max(b.size,3):m=i(s,f),p=0;p<a.length;p++)c=a[p],x=o[c],k=S.getFromId(n,s._diag[c][0])||{},y=S.getFromId(n,s._diag[c][1])||{},L(n,s,k,y,h[p],h[p],m);var M=r(n,s);return M.matrix||(M.matrix=!0),M.matrixOptions=b,M.selectedOptions=v(n,s,s.selected),M.unselectedOptions=v(n,s,s.unselected),[{x:!1,y:!1,t:{},trace:s}]}},69544:function(tt,U,t){var E=t(3400),S=t(51272),i=t(44524),L=t(43028),T=t(74428),v=t(26284),d=t(80088).isOpenSymbol;tt.exports=function(l,n,s,o){function f(k,y){return E.coerce(l,n,i,k,y)}var b=S(l,n,{name:"dimensions",handleItemDefaults:r}),h=f("diagonal.visible"),_=f("showupperhalf"),a=f("showlowerhalf"),c=v(n,b,"values");if(!c||!h&&!_&&!a){n.visible=!1;return}f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),T(l,n,s,o,f,{noAngleRef:!0,noStandOff:!0});var p=d(n.marker.symbol),x=L.isBubble(n);f("marker.line.width",p||x?1:0),e(l,n,o,f),E.coerceSelectionMarkerOpacity(n,f)};function r(l,n){function s(f,b){return E.coerce(l,n,i.dimensions,f,b)}s("label");var o=s("values");o&&o.length?s("visible"):n.visible=!1,s("axis.type"),s("axis.matches")}function e(l,n,s,o){var f=n.dimensions,b=f.length,h=n.showupperhalf,_=n.showlowerhalf,a=n.diagonal.visible,c,p,x=new Array(b),k=new Array(b);for(c=0;c<b;c++){var y=c?c+1:"";x[c]="x"+y,k[c]="y"+y}var A=o("xaxes",x),C=o("yaxes",k),u=n._diag=new Array(b);n._xaxes={},n._yaxes={};var m=[],M=[];function w(q,V,J,it){if(q){var nt=q.charAt(0),Y=s._splomAxes[nt];if(n["_"+nt+"axes"][q]=1,it.push(q),!(q in Y)){var Z=Y[q]={};J&&(Z.label=J.label||"",J.visible&&J.axis&&(J.axis.type&&(Z.type=J.axis.type),J.axis.matches&&(Z.matches=V)))}}}var z=!a&&!_,O=!a&&!h;for(n._axesDim={},c=0;c<b;c++){var D=f[c],P=c===0,F=c===b-1,R=P&&z||F&&O?void 0:A[c],N=P&&O||F&&z?void 0:C[c];w(R,N,D,m),w(N,R,D,M),u[c]=[R,N],n._axesDim[R]=c,n._axesDim[N]=c}for(c=0;c<m.length;c++)for(p=0;p<M.length;p++){var B=m[c]+M[p];(c>p&&h||c<p&&_||c===p&&(a||!_||!h))&&(s._splomSubplots[B]=1)}(!_||!a&&h&&_)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}},83156:function(tt,U,t){var E=t(3400),S=t(90136),i=t(84236).markerStyle;tt.exports=function(L,T){var v=T.trace,d=L._fullLayout._splomScenes[v.uid];if(d){S(L,v),E.extendFlat(d.matrixOptions,i(L,v));var r=E.extendFlat({},d.matrixOptions,d.viewOpts);d.matrix.update(r,null)}}},50328:function(tt,U){U.getDimIndex=function(t,E){for(var S=E._id,i=S.charAt(0),L={x:0,y:1}[i],T=t._visibleDims,v=0;v<T.length;v++){var d=T[v];if(t._diag[d][L]===S)return v}return!1}},72248:function(tt,U,t){var E=t(50328),S=t(41272).calcHover,i=t(54460).getFromId,L=t(92880).extendFlat;function T(d,r,e,l,n){n||(n={});var s=(l||"").charAt(0)==="x",o=(l||"").charAt(0)==="y",f=v(d,r,e);if((s||o)&&n.hoversubplots==="axis"&&f[0])for(var b=(s?d.xa:d.ya)._subplotsWith,h=n.gd,_=L({},d),a=0;a<b.length;a++){var c=b[a];if(c!==d.xa._id+d.ya._id){o?_.xa=i(h,c,"x"):_.ya=i(h,c,"y");var p=s||o,x=v(_,r,e,p);f=f.concat(x)}}return f}function v(d,r,e,l){var n=d.cd,s=n[0].trace,o=d.scene,f=o.matrixOptions.cdata,b=d.xa,h=d.ya,_=b.c2p(r),a=h.c2p(e),c=d.distance,p=E.getDimIndex(s,b),x=E.getDimIndex(s,h);if(p===!1||x===!1)return[d];for(var k=f[p],y=f[x],A,C,u=c,m=0;m<k.length;m++)if(!(l&&m!==d.index)){var M=k[m],w=y[m],z=b.c2p(M)-_,O=h.c2p(w)-a,D=Math.sqrt(z*z+O*O);(l||D<u)&&(u=C=D,A=m)}return d.index=A,d.distance=u,d.dxy=C,A===void 0?[d]:[S(d,k,y,s)]}tt.exports={hoverPoints:T}},97924:function(tt,U,t){var E=t(28888);E.basePlotModule=t(99332),tt.exports=E},54840:function(tt,U,t){var E=t(55795),S=t(3400),i=t(79811),L=t(72760).selectMode;tt.exports=function(v,d,r){if(r.length)for(var e=0;e<r.length;e++)T(v,r[e][0])};function T(v,d){var r=v._fullLayout,e=r._size,l=d.trace,n=d.t,s=r._splomScenes[l.uid],o=s.matrixOptions,f=o.cdata,b=r._glcanvas.data()[0].regl,h=r.dragmode,_,a,c,p,x;if(f.length!==0){o.lower=l.showupperhalf,o.upper=l.showlowerhalf,o.diagonal=l.diagonal.visible;var k=l._visibleDims,y=f.length,A=s.viewOpts={};for(A.ranges=new Array(y),A.domains=new Array(y),x=0;x<k.length;x++){c=k[x];var C=A.ranges[x]=new Array(4),u=A.domains[x]=new Array(4);_=i.getFromId(v,l._diag[c][0]),_&&(C[0]=_._rl[0],C[2]=_._rl[1],u[0]=_.domain[0],u[2]=_.domain[1]),a=i.getFromId(v,l._diag[c][1]),a&&(C[1]=a._rl[0],C[3]=a._rl[1],u[1]=a.domain[0],u[3]=a.domain[1])}var m=v._context.plotGlPixelRatio,M=e.l*m,w=e.b*m,z=e.w*m,O=e.h*m;A.viewport=[M,w,z+M,O+w],s.matrix===!0&&(s.matrix=E(b));var D=r.clickmode.indexOf("select")>-1,P=L(h)||!!l.selectedpoints||D,F=!0;if(P){var R=l._length;if(l.selectedpoints){s.selectBatch=l.selectedpoints;var N=l.selectedpoints,B={};for(c=0;c<N.length;c++)B[N[c]]=!0;var q=[];for(c=0;c<R;c++)B[c]||q.push(c);s.unselectBatch=q}var V=n.xpx=new Array(y),J=n.ypx=new Array(y);for(x=0;x<k.length;x++){if(c=k[x],_=i.getFromId(v,l._diag[c][0]),_)for(V[x]=new Array(R),p=0;p<R;p++)V[x][p]=_.c2p(f[x][p]);if(a=i.getFromId(v,l._diag[c][1]),a)for(J[x]=new Array(R),p=0;p<R;p++)J[x][p]=a.c2p(f[x][p])}if(s.selectBatch.length||s.unselectBatch.length){var it=S.extendFlat({},o,s.unselectedOptions,A),nt=S.extendFlat({},o,s.selectedOptions,A);s.matrix.update(it,nt),F=!1}}else n.xpx=n.ypx=null;if(F){var Y=S.extendFlat({},o,A);s.matrix.update(Y,null)}}}},72308:function(tt,U,t){var E=t(3400);tt.exports=function(S,i){var L=S._fullLayout,T=i.uid,v=L._splomScenes;v||(v=L._splomScenes={});var d={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},e=v[i.uid];return e||(e=v[T]=E.extendFlat({},d,r),e.draw=function(){e.matrix&&e.matrix.draw&&(e.selectBatch.length||e.unselectBatch.length?e.matrix.draw(e.unselectBatch,e.selectBatch):e.matrix.draw()),e.dirty=!1},e.destroy=function(){e.matrix&&e.matrix.destroy&&e.matrix.destroy(),e.matrixOptions=null,e.selectBatch=null,e.unselectBatch=null,e=null}),e.dirty||E.extendFlat(e,d),e}},62500:function(tt,U,t){var E=t(3400),S=E.pushUnique,i=t(43028),L=t(50328);tt.exports=function(T,v){var d=T.cd,r=d[0].trace,e=d[0].t,l=T.scene,n=l.matrixOptions.cdata,s=T.xaxis,o=T.yaxis,f=[];if(!l)return f;var b=!i.hasMarkers(r)&&!i.hasText(r);if(r.visible!==!0||b)return f;var h=L.getDimIndex(r,s),_=L.getDimIndex(r,o);if(h===!1||_===!1)return f;var a=e.xpx[h],c=e.ypx[_],p=n[h],x=n[_],k=(T.scene.selectBatch||[]).slice(),y=[];if(v!==!1&&!v.degenerate)for(var A=0;A<p.length;A++)v.contains([a[A],c[A]],null,A,T)?(f.push({pointNumber:A,x:p[A],y:x[A]}),S(k,A)):k.indexOf(A)!==-1?S(k,A):y.push(A);var C=l.matrixOptions;return!k.length&&!y.length?l.matrix.update(C,null):!l.selectBatch.length&&!l.unselectBatch.length&&l.matrix.update(l.unselectedOptions,E.extendFlat({},C,l.selectedOptions,l.viewOpts)),l.selectBatch=k,l.unselectBatch=y,f}},90167:function(tt,U,t){var E=t(49084),S=t(29736).axisHoverFormat,i=t(21776).Ks,L=t(52948),T=t(45464),v=t(92880).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:S("u",1),vhoverformat:S("v",1),whoverformat:S("w",1),xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(d,E("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(e){d[e]=L[e]}),d.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,tt.exports=d},3832:function(tt,U,t){var E=t(3400),S=t(47128);function i(d,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var e=L(r);r._gridFill=e.fill,r._Xs=e.Xs,r._Ys=e.Ys,r._Zs=e.Zs,r._len=e.len;var l=0,n,s,o;r.starts&&(n=v(r.starts.x||[]),s=v(r.starts.y||[]),o=v(r.starts.z||[]),l=Math.min(n.length,s.length,o.length)),r._startsX=n||[],r._startsY=s||[],r._startsZ=o||[];var f=0,b=1/0,h;for(h=0;h<r._len;h++){var _=r._u[h],a=r._v[h],c=r._w[h],p=Math.sqrt(_*_+a*a+c*c);f=Math.max(f,p),b=Math.min(b,p)}for(S(d,r,{vals:[b,f],containerStr:"",cLetter:"c"}),h=0;h<l;h++){var x=n[h];e.xMax=Math.max(e.xMax,x),e.xMin=Math.min(e.xMin,x);var k=s[h];e.yMax=Math.max(e.yMax,k),e.yMin=Math.min(e.yMin,k);var y=o[h];e.zMax=Math.max(e.zMax,y),e.zMin=Math.min(e.zMin,y)}r._slen=l,r._normMax=f,r._xbnds=[e.xMin,e.xMax],r._ybnds=[e.yMin,e.yMax],r._zbnds=[e.zMin,e.zMax]}function L(d){var r=d._x,e=d._y,l=d._z,n=d._len,s,o,f,b=-1/0,h=1/0,_=-1/0,a=1/0,c=-1/0,p=1/0,x="",k,y,A,C,u,m,M,w,z;for(n&&(C=r[0],m=e[0],w=l[0]),n>1&&(u=r[n-1],M=e[n-1],z=l[n-1]),s=0;s<n;s++)b=Math.max(b,r[s]),h=Math.min(h,r[s]),_=Math.max(_,e[s]),a=Math.min(a,e[s]),c=Math.max(c,l[s]),p=Math.min(p,l[s]),!k&&r[s]!==C&&(k=!0,x+="x"),!y&&e[s]!==m&&(y=!0,x+="y"),!A&&l[s]!==w&&(A=!0,x+="z");k||(x+="x"),y||(x+="y"),A||(x+="z");var O=T(d._x),D=T(d._y),P=T(d._z);x=x.replace("x",(C>u?"-":"+")+"x"),x=x.replace("y",(m>M?"-":"+")+"y"),x=x.replace("z",(w>z?"-":"+")+"z");var F=function(){n=0,O=[],D=[],P=[]};(!n||n<O.length*D.length*P.length)&&F();var R=function(ct){return ct==="x"?r:ct==="y"?e:l},N=function(ct){return ct==="x"?O:ct==="y"?D:P},B=function(ct){return ct[n-1]<ct[0]?-1:1},q=R(x[1]),V=R(x[3]),J=R(x[5]),it=N(x[1]).length,nt=N(x[3]).length,Y=N(x[5]).length,Z=!1,$=function(ct,ft,yt){return it*(nt*ct+ft)+yt},G=B(R(x[1])),rt=B(R(x[3])),ot=B(R(x[5]));for(s=0;s<Y-1;s++){for(o=0;o<nt-1;o++){for(f=0;f<it-1;f++){var W=$(s,o,f),H=$(s,o,f+1),at=$(s,o+1,f),Q=$(s+1,o,f);if((!(q[W]*G<q[H]*G)||!(V[W]*rt<V[at]*rt)||!(J[W]*ot<J[Q]*ot))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(E.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:h,yMin:a,zMin:p,xMax:b,yMax:_,zMax:c,Xs:O,Ys:D,Zs:P,len:n,fill:x}}function T(d){return E.distinctVals(d).vals}function v(d,r){if(r===void 0&&(r=d.length),E.isTypedArray(d))return d.subarray(0,r);for(var e=[],l=0;l<r;l++)e[l]=+d[l];return e}tt.exports={calc:i,filter:v,processGrid:L}},25668:function(tt,U,t){var E=t(67792).gl_streamtube3d,S=E.createTubeMesh,i=t(3400),L=t(33040).parseColorScale,T=t(8932).extractOpts,v=t(52094),d={xaxis:0,yaxis:1,zaxis:2};function r(f,b){this.scene=f,this.uid=b,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(f){var b=this.scene.fullSceneLayout,h=this.scene.dataScale;function _(p,x){var k=b[x],y=h[d[x]];return k.l2c(p)/y}if(f.object===this.mesh){var a=f.data.position,c=f.data.velocity;return f.traceCoordinate=[_(a[0],"xaxis"),_(a[1],"yaxis"),_(a[2],"zaxis"),_(c[0],"xaxis"),_(c[1],"yaxis"),_(c[2],"zaxis"),f.data.intensity*this.data._normMax,f.data.divergence],f.textLabel=this.data.hovertext||this.data.text,!0}};function l(f){var b=f.length,h;return b>2?h=f.slice(1,b-1):b===2?h=[(f[0]+f[1])/2]:h=f,h}function n(f){var b=f.length;return b===1?[.5,.5]:[f[1]-f[0],f[b-1]-f[b-2]]}function s(f,b){var h=f.fullSceneLayout,_=f.dataScale,a=b._len,c={};function p(nt,Y){var Z=h[Y],$=_[d[Y]];return i.simpleMap(nt,function(G){return Z.d2l(G)*$})}if(c.vectors=v(p(b._u,"xaxis"),p(b._v,"yaxis"),p(b._w,"zaxis"),a),!a)return{positions:[],cells:[]};var x=p(b._Xs,"xaxis"),k=p(b._Ys,"yaxis"),y=p(b._Zs,"zaxis");c.meshgrid=[x,k,y],c.gridFill=b._gridFill;var A=b._slen;if(A)c.startingPositions=v(p(b._startsX,"xaxis"),p(b._startsY,"yaxis"),p(b._startsZ,"zaxis"));else{for(var C=k[0],u=l(x),m=l(y),M=new Array(u.length*m.length),w=0,z=0;z<u.length;z++)for(var O=0;O<m.length;O++)M[w++]=[u[z],C,m[O]];c.startingPositions=M}c.colormap=L(b),c.tubeSize=b.sizeref,c.maxLength=b.maxdisplayed;var D=p(b._xbnds,"xaxis"),P=p(b._ybnds,"yaxis"),F=p(b._zbnds,"zaxis"),R=n(x),N=n(k),B=n(y),q=[[D[0]-R[0],P[0]-N[0],F[0]-B[0]],[D[1]+R[1],P[1]+N[1],F[1]+B[1]]],V=E(c,q),J=T(b);V.vertexIntensityBounds=[J.min/b._normMax,J.max/b._normMax];var it=b.lightposition;return V.lightPosition=[it.x,it.y,it.z],V.ambient=b.lighting.ambient,V.diffuse=b.lighting.diffuse,V.specular=b.lighting.specular,V.roughness=b.lighting.roughness,V.fresnel=b.lighting.fresnel,V.opacity=b.opacity,b._pad=V.tubeScale*b.sizeref*2,V}e.update=function(f){this.data=f;var b=s(this.scene,f);this.mesh.update(b)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function o(f,b){var h=f.glplot.gl,_=s(f,b),a=S(h,_),c=new r(f,b.uid);return c.mesh=a,c.data=b,a._trace=c,f.glplot.add(a),c}tt.exports=o},54304:function(tt,U,t){var E=t(3400),S=t(27260),i=t(90167);tt.exports=function(L,T,v,d){function r(b,h){return E.coerce(L,T,i,b,h)}var e=r("u"),l=r("v"),n=r("w"),s=r("x"),o=r("y"),f=r("z");if(!e||!e.length||!l||!l.length||!n||!n.length||!s||!s.length||!o||!o.length||!f||!f.length){T.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),S(L,T,d,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),T._length=null}},15436:function(tt,U,t){tt.exports={moduleType:"trace",name:"streamtube",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(90167),supplyDefaults:t(54304),colorbar:{min:"cmin",max:"cmax"},calc:t(3832).calc,plot:t(25668),eventData:function(E,S){return E.tubex=E.x,E.tubey=E.y,E.tubez=E.z,E.tubeu=S.traceCoordinate[3],E.tubev=S.traceCoordinate[4],E.tubew=S.traceCoordinate[5],E.norm=S.traceCoordinate[6],E.divergence=S.traceCoordinate[7],delete E.x,delete E.y,delete E.z,E},meta:{}}},424:function(tt,U,t){var E=t(45464),S=t(21776).Ks,i=t(21776).Gw,L=t(49084),T=t(86968).u,v=t(74996),d=t(27328),r=t(92880).extendFlat,e=t(98192).c;tt.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:e,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},E.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:S({},{keys:d.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(tt,U,t){var E=t(7316);U.name="sunburst",U.plot=function(S,i,L,T){E.plotBasePlot(U.name,S,i,L,T)},U.clean=function(S,i,L,T){E.cleanBasePlot(U.name,S,i,L,T)}},3776:function(tt,U,t){var E=t(74148),S=t(38248),i=t(3400),L=t(8932).makeColorScaleFuncFromTrace,T=t(45768).makePullColorFn,v=t(45768).generateExtendedColors,d=t(8932).calc,r=t(39032).ALMOST_EQUAL,e={},l={},n={};U.calc=function(o,f){var b=o._fullLayout,h=f.ids,_=i.isArrayOrTypedArray(h),a=f.labels,c=f.parents,p=f.values,x=i.isArrayOrTypedArray(p),k=[],y={},A={},C=function(G,rt){y[G]?y[G].push(rt):y[G]=[rt],A[rt]=1},u=function(G){return G||typeof G=="number"},m=function(G){return!x||S(p[G])&&p[G]>=0},M,w,z;_?(M=Math.min(h.length,c.length),w=function(G){return u(h[G])&&m(G)},z=function(G){return String(h[G])}):(M=Math.min(a.length,c.length),w=function(G){return u(a[G])&&m(G)},z=function(G){return String(a[G])}),x&&(M=Math.min(M,p.length));for(var O=0;O<M;O++)if(w(O)){var D=z(O),P=u(c[O])?String(c[O]):"",F={i:O,id:D,pid:P,label:u(a[O])?String(a[O]):""};x&&(F.v=+p[O]),k.push(F),C(P,D)}if(y[""]){if(y[""].length>1){for(var R=i.randstr(),N=0;N<k.length;N++)k[N].pid===""&&(k[N].pid=R);k.unshift({hasMultipleRoots:!0,id:R,pid:"",label:""})}}else{var B=[],q;for(q in y)A[q]||B.push(q);if(B.length===1)q=B[0],k.unshift({hasImpliedRoot:!0,id:q,pid:"",label:q});else return i.warn(["Multiple implied roots, cannot build",f.type,"hierarchy of",f.name+".","These roots include:",B.join(", ")].join(" "))}var V;try{V=E.stratify().id(function(G){return G.id}).parentId(function(G){return G.pid})(k)}catch(G){return i.warn(["Failed to build",f.type,"hierarchy of",f.name+".","Error:",G.message].join(" "))}var J=E.hierarchy(V),it=!1;if(x)switch(f.branchvalues){case"remainder":J.sum(function(G){return G.data.v});break;case"total":J.each(function(G){var rt=G.data.data,ot=rt.v;if(G.children){var W=G.children.reduce(function(H,at){return H+at.data.data.v},0);if((rt.hasImpliedRoot||rt.hasMultipleRoots)&&(ot=W),ot<W*r)return it=!0,i.warn(["Total value for node",G.data.data.id,"of",f.name,"is smaller than the sum of its children.",`
parent value =`,ot,`
children sum =`,W].join(" "))}G.value=ot});break}else s(J,f,{branches:f.count.indexOf("branches")!==-1,leaves:f.count.indexOf("leaves")!==-1});if(!it){f.sort&&J.sort(function(G,rt){return rt.value-G.value});var nt,Y,Z=f.marker.colors||[],$=!!Z.length;return f._hasColorscale?($||(Z=x?f.values:f._values),d(o,f,{vals:Z,containerStr:"marker",cLetter:"c"}),Y=L(f.marker)):nt=T(b["_"+f.type+"colormap"]),J.each(function(G){var rt=G.data.data;rt.color=f._hasColorscale?Y(Z[rt.i]):nt(Z[rt.i],rt.id)}),k[0].hierarchy=J,k}},U._runCrossTraceCalc=function(o,f){var b=f._fullLayout,h=f.calcdata,_=b[o+"colorway"],a=b["_"+o+"colormap"];b["extend"+o+"colors"]&&(_=v(_,o==="icicle"?n:o==="treemap"?l:e));var c=0,p;function x(C){var u=C.data.data,m=u.id;u.color===!1&&(a[m]?u.color=a[m]:C.parent?C.parent.parent?u.color=C.parent.data.data.color:(a[m]=u.color=_[c%_.length],c++):u.color=p)}for(var k=0;k<h.length;k++){var y=h[k],A=y[0];A.trace.type===o&&A.hierarchy&&(p=A.trace.root.color,A.hierarchy.each(x))}},U.crossTraceCalc=function(o){return U._runCrossTraceCalc("sunburst",o)};function s(o,f,b){var h=0,_=o.children;if(_){for(var a=_.length,c=0;c<a;c++)h+=s(_[c],f,b);b.branches&&h++}else b.leaves&&h++;return o.value=o.data.data.value=h,f._values||(f._values=[]),f._values[o.data.data.i]=h,h}},27328:function(tt){tt.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(tt,U,t){var E=t(3400),S=t(424),i=t(86968).Q,L=t(31508).handleText,T=t(74174).handleMarkerDefaults,v=t(8932),d=v.hasColorscale,r=v.handleDefaults;tt.exports=function(e,l,n,s){function o(p,x){return E.coerce(e,l,S,p,x)}var f=o("labels"),b=o("parents");if(!f||!f.length||!b||!b.length){l.visible=!1;return}var h=o("values");h&&h.length?o("branchvalues"):o("count"),o("level"),o("maxdepth"),T(e,l,s,o);var _=l._hasColorscale=d(e,"marker","colors")||(e.marker||{}).coloraxis;_&&r(e,l,s,o,{prefix:"marker.",cLetter:"c"}),o("leaf.opacity",_?1:.7);var a=o("text");o("texttemplate"),l.texttemplate||o("textinfo",E.isArrayOrTypedArray(a)?"text+label":"label"),o("hovertext"),o("hovertemplate");var c="auto";L(e,l,s,o,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),o("insidetextorientation"),o("sort"),o("rotation"),o("root.color"),i(l,s,o),l._length=null}},60404:function(tt,U,t){var E=t(43616),S=t(76308);tt.exports=function(i,L,T,v,d){var r=L.data.data,e=r.i,l=d||r.color;if(e>=0){L.i=r.i;var n=T.marker;n.pattern?(!n.colors||!n.pattern.shape)&&(n.color=l,L.color=l):(n.color=l,L.color=l),E.pointStyle(i,T,v,L)}else S.fill(i,l)}},45716:function(tt,U,t){var E=t(33428),S=t(24040),i=t(10624).appendArrayPointValue,L=t(93024),T=t(3400),v=t(95924),d=t(78176),r=t(69656),e=r.formatPieValue;tt.exports=function(n,s,o,f,b){var h=f[0],_=h.trace,a=h.hierarchy,c=_.type==="sunburst",p=_.type==="treemap"||_.type==="icicle";"_hasHoverLabel"in _||(_._hasHoverLabel=!1),"_hasHoverEvent"in _||(_._hasHoverEvent=!1);var x=function(A){var C=o._fullLayout;if(!(o._dragging||C.hovermode===!1)){var u=o._fullData[_.index],m=A.data.data,M=m.i,w=d.isHierarchyRoot(A),z=d.getParent(a,A),O=d.getValue(A),D=function(W){return T.castOption(u,M,W)},P=D("hovertemplate"),F=L.castHoverinfo(u,C,M),R=C.separators,N;if(P||F&&F!=="none"&&F!=="skip"){var B,q;c&&(B=h.cx+A.pxmid[0]*(1-A.rInscribed),q=h.cy+A.pxmid[1]*(1-A.rInscribed)),p&&(B=A._hoverX,q=A._hoverY);var V={},J=[],it=[],nt=function(W){return J.indexOf(W)!==-1};F&&(J=F==="all"?u._module.attributes.hoverinfo.flags:F.split("+")),V.label=m.label,nt("label")&&V.label&&it.push(V.label),m.hasOwnProperty("v")&&(V.value=m.v,V.valueLabel=e(V.value,R),nt("value")&&it.push(V.valueLabel)),V.currentPath=A.currentPath=d.getPath(A.data),nt("current path")&&!w&&it.push(V.currentPath);var Y,Z=[],$=function(){Z.indexOf(Y)===-1&&(it.push(Y),Z.push(Y))};V.percentParent=A.percentParent=O/d.getValue(z),V.parent=A.parentString=d.getPtLabel(z),nt("percent parent")&&(Y=d.formatPercent(V.percentParent,R)+" of "+V.parent,$()),V.percentEntry=A.percentEntry=O/d.getValue(s),V.entry=A.entry=d.getPtLabel(s),nt("percent entry")&&!w&&!A.onPathbar&&(Y=d.formatPercent(V.percentEntry,R)+" of "+V.entry,$()),V.percentRoot=A.percentRoot=O/d.getValue(a),V.root=A.root=d.getPtLabel(a),nt("percent root")&&!w&&(Y=d.formatPercent(V.percentRoot,R)+" of "+V.root,$()),V.text=D("hovertext")||D("text"),nt("text")&&(Y=V.text,T.isValidTextValue(Y)&&it.push(Y)),N=[l(A,u,b.eventDataKeys)];var G={trace:u,y:q,_x0:A._x0,_x1:A._x1,_y0:A._y0,_y1:A._y1,text:it.join("<br>"),name:P||nt("name")?u.name:void 0,color:D("hoverlabel.bgcolor")||m.color,borderColor:D("hoverlabel.bordercolor"),fontFamily:D("hoverlabel.font.family"),fontSize:D("hoverlabel.font.size"),fontColor:D("hoverlabel.font.color"),fontWeight:D("hoverlabel.font.weight"),fontStyle:D("hoverlabel.font.style"),fontVariant:D("hoverlabel.font.variant"),nameLength:D("hoverlabel.namelength"),textAlign:D("hoverlabel.align"),hovertemplate:P,hovertemplateLabels:V,eventData:N};c&&(G.x0=B-A.rInscribed*A.rpx1,G.x1=B+A.rInscribed*A.rpx1,G.idealAlign=A.pxmid[0]<0?"left":"right"),p&&(G.x=B,G.idealAlign=B<0?"left":"right");var rt=[];L.loneHover(G,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:o,inOut_bbox:rt}),N[0].bbox=rt[0],_._hasHoverLabel=!0}if(p){var ot=n.select("path.surface");b.styleOne(ot,A,u,o,{hovered:!0})}_._hasHoverEvent=!0,o.emit("plotly_hover",{points:N||[l(A,u,b.eventDataKeys)],event:E.event})}},k=function(A){var C=o._fullLayout,u=o._fullData[_.index],m=E.select(this).datum();if(_._hasHoverEvent&&(A.originalEvent=E.event,o.emit("plotly_unhover",{points:[l(m,u,b.eventDataKeys)],event:E.event}),_._hasHoverEvent=!1),_._hasHoverLabel&&(L.loneUnhover(C._hoverlayer.node()),_._hasHoverLabel=!1),p){var M=n.select("path.surface");b.styleOne(M,m,u,o,{hovered:!1})}},y=function(A){var C=o._fullLayout,u=o._fullData[_.index],m=c&&(d.isHierarchyRoot(A)||d.isLeaf(A)),M=d.getPtId(A),w=d.isEntry(A)?d.findEntryWithChild(a,M):d.findEntryWithLevel(a,M),z=d.getPtId(w),O={points:[l(A,u,b.eventDataKeys)],event:E.event};m||(O.nextLevel=z);var D=v.triggerHandler(o,"plotly_"+_.type+"click",O);if(D!==!1&&C.hovermode&&(o._hoverdata=[l(A,u,b.eventDataKeys)],L.click(o,E.event)),!m&&D!==!1&&!o._dragging&&!o._transitioning){S.call("_storeDirectGUIEdit",u,C._tracePreGUI[u.uid],{level:u.level});var P={data:[{level:z}],traces:[_.index]},F={frame:{redraw:!1,duration:b.transitionTime},transition:{duration:b.transitionTime,easing:b.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(C._hoverlayer.node()),S.call("animate",o,P,F)}};n.on("mouseover",x),n.on("mouseout",k),n.on("click",y)};function l(n,s,o){for(var f=n.data.data,b={curveNumber:s.index,pointNumber:f.i,data:s._input,fullData:s},h=0;h<o.length;h++){var _=o[h];_ in n&&(b[_]=n[_])}return"parentString"in n&&!d.isHierarchyRoot(n)&&(b.parent=n.parentString),i(b,s,f.i),b}},78176:function(tt,U,t){var E=t(3400),S=t(76308),i=t(93972),L=t(69656);U.findEntryWithLevel=function(r,e){var l;return e&&r.eachAfter(function(n){if(U.getPtId(n)===e)return l=n.copy()}),l||r},U.findEntryWithChild=function(r,e){var l;return r.eachAfter(function(n){for(var s=n.children||[],o=0;o<s.length;o++){var f=s[o];if(U.getPtId(f)===e)return l=n.copy()}}),l||r},U.isEntry=function(r){return!r.parent},U.isLeaf=function(r){return!r.children},U.getPtId=function(r){return r.data.data.id},U.getPtLabel=function(r){return r.data.data.label},U.getValue=function(r){return r.value},U.isHierarchyRoot=function(r){return d(r)===""},U.setSliceCursor=function(r,e,l){var n=l.isTransitioning;if(!n){var s=r.datum();n=l.hideOnRoot&&U.isHierarchyRoot(s)||l.hideOnLeaves&&U.isLeaf(s)}i(r,n?null:"pointer")};function T(r,e,l){return{color:U.getOutsideTextFontKey("color",r,e,l),family:U.getOutsideTextFontKey("family",r,e,l),size:U.getOutsideTextFontKey("size",r,e,l),weight:U.getOutsideTextFontKey("weight",r,e,l),style:U.getOutsideTextFontKey("style",r,e,l),variant:U.getOutsideTextFontKey("variant",r,e,l)}}function v(r,e,l,n){var s=(n||{}).onPathbar,o=e.data.data,f=o.i,b=E.castOption(r,f,(s?"pathbar.textfont":"insidetextfont")+".color");return!b&&r._input.textfont&&(b=E.castOption(r._input,f,"textfont.color")),{color:b||S.contrast(o.color),family:U.getInsideTextFontKey("family",r,e,l,n),size:U.getInsideTextFontKey("size",r,e,l,n),weight:U.getInsideTextFontKey("weight",r,e,l,n),style:U.getInsideTextFontKey("style",r,e,l,n),variant:U.getInsideTextFontKey("variant",r,e,l,n)}}U.getInsideTextFontKey=function(r,e,l,n,s){var o=(s||{}).onPathbar,f=o?"pathbar.textfont":"insidetextfont",b=l.data.data.i;return E.castOption(e,b,f+"."+r)||E.castOption(e,b,"textfont."+r)||n.size},U.getOutsideTextFontKey=function(r,e,l,n){var s=l.data.data.i;return E.castOption(e,s,"outsidetextfont."+r)||E.castOption(e,s,"textfont."+r)||n.size},U.isOutsideText=function(r,e){return!r._hasColorscale&&U.isHierarchyRoot(e)},U.determineTextFont=function(r,e,l,n){return U.isOutsideText(r,e)?T(r,e,l):v(r,e,l,n)},U.hasTransition=function(r){return!!(r&&r.duration>0)},U.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},U.isHeader=function(r,e){return!(U.isLeaf(r)||r.depth===e._maxDepth-1)};function d(r){return r.data.data.pid}U.getParent=function(r,e){return U.findEntryWithLevel(r,d(e))},U.listPath=function(r,e){var l=r.parent;if(!l)return[];var n=e?[l.data[e]]:[l];return U.listPath(l,e).concat(n)},U.getPath=function(r){return U.listPath(r,"label").join("/")+"/"},U.formatValue=L.formatPieValue,U.formatPercent=function(r,e){var l=E.formatPercent(r,0);return l==="0%"&&(l=L.formatPiePercent(r,e)),l}},5621:function(tt,U,t){tt.exports={moduleType:"trace",name:"sunburst",basePlotModule:t(54904),categories:[],animatable:!0,attributes:t(424),layoutAttributes:t(84920),supplyDefaults:t(25244),supplyLayoutDefaults:t(28732),calc:t(3776).calc,crossTraceCalc:t(3776).crossTraceCalc,plot:t(96488).plot,style:t(85676).style,colorbar:t(5528),meta:{}}},84920:function(tt){tt.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(tt,U,t){var E=t(3400),S=t(84920);tt.exports=function(i,L){function T(v,d){return E.coerce(i,L,S,v,d)}T("sunburstcolorway",L.colorway),T("extendsunburstcolors")}},96488:function(tt,U,t){var E=t(33428),S=t(74148),i=t(67756).qy,L=t(43616),T=t(3400),v=t(72736),d=t(82744),r=d.recordMinTextSize,e=d.clearMinTextSize,l=t(37820),n=t(69656).getRotationAngle,s=l.computeTransform,o=l.transformInsideText,f=t(85676).styleOne,b=t(60100).resizeText,h=t(45716),_=t(27328),a=t(78176);U.plot=function(A,C,u,m){var M=A._fullLayout,w=M._sunburstlayer,z,O,D=!u,P=!M.uniformtext.mode&&a.hasTransition(u);if(e("sunburst",M),z=w.selectAll("g.trace.sunburst").data(C,function(R){return R[0].trace.uid}),z.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),z.order(),P){m&&(O=m());var F=E.transition().duration(u.duration).ease(u.easing).each("end",function(){O&&O()}).each("interrupt",function(){O&&O()});F.each(function(){w.selectAll("g.trace").each(function(R){c(A,R,this,u)})})}else z.each(function(R){c(A,R,this,u)}),M.uniformtext.mode&&b(A,M._sunburstlayer.selectAll(".trace"),"sunburst");D&&z.exit().remove()};function c(A,C,u,m){var M=A._context.staticPlot,w=A._fullLayout,z=!w.uniformtext.mode&&a.hasTransition(m),O=E.select(u),D=O.selectAll("g.slice"),P=C[0],F=P.trace,R=P.hierarchy,N=a.findEntryWithLevel(R,F.level),B=a.getMaxDepth(F),q=w._size,V=F.domain,J=q.w*(V.x[1]-V.x[0]),it=q.h*(V.y[1]-V.y[0]),nt=.5*Math.min(J,it),Y=P.cx=q.l+q.w*(V.x[1]+V.x[0])/2,Z=P.cy=q.t+q.h*(1-V.y[0])-it/2;if(!N)return D.remove();var $=null,G={};z&&D.each(function(Nt){G[a.getPtId(Nt)]={rpx0:Nt.rpx0,rpx1:Nt.rpx1,x0:Nt.x0,x1:Nt.x1,transform:Nt.transform},!$&&a.isEntry(Nt)&&($=Nt)});var rt=p(N).descendants(),ot=N.height+1,W=0,H=B;P.hasMultipleRoots&&a.isHierarchyRoot(N)&&(rt=rt.slice(1),ot-=1,W=1,H+=1),rt=rt.filter(function(Nt){return Nt.y1<=H});var at=n(F.rotation);at&&rt.forEach(function(Nt){Nt.x0+=at,Nt.x1+=at});var Q=Math.min(ot,B),ct=function(Nt){return(Nt-W)/Q*nt},ft=function(Nt,ne){return[Nt*Math.cos(ne),-Nt*Math.sin(ne)]},yt=function(Nt){return T.pathAnnulus(Nt.rpx0,Nt.rpx1,Nt.x0,Nt.x1,Y,Z)},xt=function(Nt){return Y+k(Nt)[0]*(Nt.transform.rCenter||0)+(Nt.transform.x||0)},Lt=function(Nt){return Z+k(Nt)[1]*(Nt.transform.rCenter||0)+(Nt.transform.y||0)};D=D.data(rt,a.getPtId),D.enter().append("g").classed("slice",!0),z?D.exit().transition().each(function(){var Nt=E.select(this),ne=Nt.select("path.surface");ne.transition().attrTween("d",function(pe){var Vt=At(pe);return function(ae){return yt(Vt(ae))}});var Gt=Nt.select("g.slicetext");Gt.attr("opacity",0)}).remove():D.exit().remove(),D.order();var gt=null;if(z&&$){var mt=a.getPtId($);D.each(function(Nt){gt===null&&a.getPtId(Nt)===mt&&(gt=Nt.x1)})}var vt=D;z&&(vt=vt.transition().each("end",function(){var Nt=E.select(this);a.setSliceCursor(Nt,A,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),vt.each(function(Nt){var ne=E.select(this),Gt=T.ensureSingle(ne,"path","surface",function(le){le.style("pointer-events",M?"none":"all")});Nt.rpx0=ct(Nt.y0),Nt.rpx1=ct(Nt.y1),Nt.xmid=(Nt.x0+Nt.x1)/2,Nt.pxmid=ft(Nt.rpx1,Nt.xmid),Nt.midangle=-(Nt.xmid-Math.PI/2),Nt.startangle=-(Nt.x0-Math.PI/2),Nt.stopangle=-(Nt.x1-Math.PI/2),Nt.halfangle=.5*Math.min(T.angleDelta(Nt.x0,Nt.x1)||Math.PI,Math.PI),Nt.ring=1-Nt.rpx0/Nt.rpx1,Nt.rInscribed=x(Nt),z?Gt.transition().attrTween("d",function(le){var ye=Ot(le);return function(Tt){return yt(ye(Tt))}}):Gt.attr("d",yt),ne.call(h,N,A,C,{eventDataKeys:_.eventDataKeys,transitionTime:_.CLICK_TRANSITION_TIME,transitionEasing:_.CLICK_TRANSITION_EASING}).call(a.setSliceCursor,A,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:A._transitioning}),Gt.call(f,Nt,F,A);var pe=T.ensureSingle(ne,"g","slicetext"),Vt=T.ensureSingle(pe,"text","",function(le){le.attr("data-notex",1)}),ae=T.ensureUniformFontSize(A,a.determineTextFont(F,Nt,w.font));Vt.text(U.formatSliceLabel(Nt,N,F,C,w)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ae).call(v.convertToTspans,A);var oe=L.bBox(Vt.node());Nt.transform=o(oe,Nt,P),Nt.transform.targetX=xt(Nt),Nt.transform.targetY=Lt(Nt);var ce=function(le,ye){var Tt=le.transform;return s(Tt,ye),Tt.fontSize=ae.size,r(F.type,Tt,w),T.getTextTransform(Tt)};z?Vt.transition().attrTween("transform",function(le){var ye=Pt(le);return function(Tt){return ce(ye(Tt),oe)}}):Vt.attr("transform",ce(Nt,oe))});function At(Nt){var ne=a.getPtId(Nt),Gt=G[ne],pe=G[a.getPtId(N)],Vt;if(pe){var ae=(Nt.x1>pe.x1?2*Math.PI:0)+at;Vt=Nt.rpx1<pe.rpx1?{x0:Nt.x0,x1:Nt.x1,rpx0:0,rpx1:0}:{x0:ae,x1:ae,rpx0:Nt.rpx0,rpx1:Nt.rpx1}}else{var oe,ce=a.getPtId(Nt.parent);D.each(function($t){if(a.getPtId($t)===ce)return oe=$t});var le=oe.children,ye;le.forEach(function($t,Wt){if(a.getPtId($t)===ne)return ye=Wt});var Tt=le.length,Ft=i(oe.x0,oe.x1);Vt={rpx0:nt,rpx1:nt,x0:Ft(ye/Tt),x1:Ft((ye+1)/Tt)}}return i(Gt,Vt)}function Ot(Nt){var ne=G[a.getPtId(Nt)],Gt,pe={x0:Nt.x0,x1:Nt.x1,rpx0:Nt.rpx0,rpx1:Nt.rpx1};if(ne)Gt=ne;else if($)if(Nt.parent)if(gt){var Vt=(Nt.x1>gt?2*Math.PI:0)+at;Gt={x0:Vt,x1:Vt}}else Gt={rpx0:nt,rpx1:nt},T.extendFlat(Gt,Et(Nt));else Gt={rpx0:0,rpx1:0};else Gt={x0:at,x1:at};return i(Gt,pe)}function Pt(Nt){var ne=G[a.getPtId(Nt)],Gt,pe=Nt.transform;if(ne)Gt=ne;else if(Gt={rpx1:Nt.rpx1,transform:{textPosAngle:pe.textPosAngle,scale:0,rotate:pe.rotate,rCenter:pe.rCenter,x:pe.x,y:pe.y}},$)if(Nt.parent)if(gt){var Vt=Nt.x1>gt?2*Math.PI:0;Gt.x0=Gt.x1=Vt}else T.extendFlat(Gt,Et(Nt));else Gt.x0=Gt.x1=at;else Gt.x0=Gt.x1=at;var ae=i(Gt.transform.textPosAngle,Nt.transform.textPosAngle),oe=i(Gt.rpx1,Nt.rpx1),ce=i(Gt.x0,Nt.x0),le=i(Gt.x1,Nt.x1),ye=i(Gt.transform.scale,pe.scale),Tt=i(Gt.transform.rotate,pe.rotate),Ft=pe.rCenter===0?3:Gt.transform.rCenter===0?1/3:1,$t=i(Gt.transform.rCenter,pe.rCenter),Wt=function(Bt){return $t(Math.pow(Bt,Ft))};return function(Bt){var Mt=oe(Bt),St=ce(Bt),Dt=le(Bt),dt=Wt(Bt),ht=ft(Mt,(St+Dt)/2),bt=ae(Bt),zt={pxmid:ht,rpx1:Mt,transform:{textPosAngle:bt,rCenter:dt,x:pe.x,y:pe.y}};return r(F.type,pe,w),{transform:{targetX:xt(zt),targetY:Lt(zt),scale:ye(Bt),rotate:Tt(Bt),rCenter:dt}}}}function Et(Nt){var ne=Nt.parent,Gt=G[a.getPtId(ne)],pe={};if(Gt){var Vt=ne.children,ae=Vt.indexOf(Nt),oe=Vt.length,ce=i(Gt.x0,Gt.x1);pe.x0=ce(ae/oe),pe.x1=ce(ae/oe)}else pe.x0=pe.x1=0;return pe}}function p(A){return S.partition().size([2*Math.PI,A.height+1])(A)}U.formatSliceLabel=function(A,C,u,m,M){var w=u.texttemplate,z=u.textinfo;if(!w&&(!z||z==="none"))return"";var O=M.separators,D=m[0],P=A.data.data,F=D.hierarchy,R=a.isHierarchyRoot(A),N=a.getParent(F,A),B=a.getValue(A);if(!w){var q=z.split("+"),V=function(W){return q.indexOf(W)!==-1},J=[],it;if(V("label")&&P.label&&J.push(P.label),P.hasOwnProperty("v")&&V("value")&&J.push(a.formatValue(P.v,O)),!R){V("current path")&&J.push(a.getPath(A.data));var nt=0;V("percent parent")&&nt++,V("percent entry")&&nt++,V("percent root")&&nt++;var Y=nt>1;if(nt){var Z,$=function(W){it=a.formatPercent(Z,O),Y&&(it+=" of "+W),J.push(it)};V("percent parent")&&!R&&(Z=B/a.getValue(N),$("parent")),V("percent entry")&&(Z=B/a.getValue(C),$("entry")),V("percent root")&&(Z=B/a.getValue(F),$("root"))}}return V("text")&&(it=T.castOption(u,P.i,"text"),T.isValidTextValue(it)&&J.push(it)),J.join("<br>")}var G=T.castOption(u,P.i,"texttemplate");if(!G)return"";var rt={};P.label&&(rt.label=P.label),P.hasOwnProperty("v")&&(rt.value=P.v,rt.valueLabel=a.formatValue(P.v,O)),rt.currentPath=a.getPath(A.data),R||(rt.percentParent=B/a.getValue(N),rt.percentParentLabel=a.formatPercent(rt.percentParent,O),rt.parent=a.getPtLabel(N)),rt.percentEntry=B/a.getValue(C),rt.percentEntryLabel=a.formatPercent(rt.percentEntry,O),rt.entry=a.getPtLabel(C),rt.percentRoot=B/a.getValue(F),rt.percentRootLabel=a.formatPercent(rt.percentRoot,O),rt.root=a.getPtLabel(F),P.hasOwnProperty("color")&&(rt.color=P.color);var ot=T.castOption(u,P.i,"text");return(T.isValidTextValue(ot)||ot==="")&&(rt.text=ot),rt.customdata=T.castOption(u,P.i,"customdata"),T.texttemplateString(G,rt,M._d3locale,rt,u._meta||{})};function x(A){return A.rpx0===0&&T.isFullCircle([A.x0,A.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(A.halfangle)),A.ring/2))}function k(A){return y(A.rpx1,A.transform.textPosAngle)}function y(A,C){return[A*Math.sin(C),-A*Math.cos(C)]}},85676:function(tt,U,t){var E=t(33428),S=t(76308),i=t(3400),L=t(82744).resizeText,T=t(60404);function v(r){var e=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,e,"sunburst"),e.each(function(l){var n=E.select(this),s=l[0],o=s.trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(f){E.select(this).call(d,f,o,r)})})}function d(r,e,l,n){var s=e.data.data,o=!e.children,f=s.i,b=i.castOption(l,f,"marker.line.color")||S.defaultLine,h=i.castOption(l,f,"marker.line.width")||0;r.call(T,e,l,n).style("stroke-width",h).call(S.stroke,b).style("opacity",o?l.leaf.opacity:null)}tt.exports={style:v,styleOne:d}},16716:function(tt,U,t){var E=t(76308),S=t(49084),i=t(29736).axisHoverFormat,L=t(21776).Ks,T=t(45464),v=t(92880).extendFlat,d=t(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function e(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:E.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:E.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var l=tt.exports=d(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},S("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:e(),y:e(),z:e()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},S.zauto,{}),zmin:v({},S.zmin,{}),zmax:v({},S.zmax,{})},hoverinfo:v({},T.hoverinfo),showlegend:v({},T.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType="calc+clearAxisTypes",l.transforms=void 0},56576:function(tt,U,t){var E=t(47128);tt.exports=function(S,i){i.surfacecolor?E(S,i,{vals:i.surfacecolor,containerStr:"",cLetter:"c"}):E(S,i,{vals:i.z,containerStr:"",cLetter:"c"})}},79164:function(tt,U,t){var E=t(67792).gl_surface3d,S=t(67792).ndarray,i=t(67792).ndarray_linear_interpolate.d2,L=t(70448),T=t(11240),v=t(3400).isArrayOrTypedArray,d=t(33040).parseColorScale,r=t(43080),e=t(8932).extractOpts;function l(m,M,w){this.scene=m,this.uid=w,this.surface=M,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=l.prototype;n.getXat=function(m,M,w,z){var O=v(this.data.x)?v(this.data.x[0])?this.data.x[M][m]:this.data.x[m]:m;return w===void 0?O:z.d2l(O,0,w)},n.getYat=function(m,M,w,z){var O=v(this.data.y)?v(this.data.y[0])?this.data.y[M][m]:this.data.y[M]:M;return w===void 0?O:z.d2l(O,0,w)},n.getZat=function(m,M,w,z){var O=this.data.z[M][m];return O===null&&this.data.connectgaps&&this.data._interpolatedZ&&(O=this.data._interpolatedZ[M][m]),w===void 0?O:z.d2l(O,0,w)},n.handlePick=function(m){if(m.object===this.surface){var M=(m.data.index[0]-1)/this.dataScaleX-1,w=(m.data.index[1]-1)/this.dataScaleY-1,z=Math.max(Math.min(Math.round(M),this.data.z[0].length-1),0),O=Math.max(Math.min(Math.round(w),this.data._ylength-1),0);m.index=[z,O],m.traceCoordinate=[this.getXat(z,O),this.getYat(z,O),this.getZat(z,O)],m.dataCoordinate=[this.getXat(z,O,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(z,O,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(z,O,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var D=0;D<3;D++){var P=m.dataCoordinate[D];P!=null&&(m.dataCoordinate[D]*=this.scene.dataScale[D])}var F=this.data.hovertext||this.data.text;return v(F)&&F[O]&&F[O][z]!==void 0?m.textLabel=F[O][z]:F?m.textLabel=F:m.textLabel="",m.data.dataCoordinate=m.dataCoordinate.slice(),this.surface.highlight(m.data),this.scene.glplot.spikes.position=m.dataCoordinate,!0}};function s(m){var M=m[0].rgb,w=m[m.length-1].rgb;return M[0]===w[0]&&M[1]===w[1]&&M[2]===w[2]&&M[3]===w[3]}var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function f(m,M){if(m<M)return 0;for(var w=0;Math.floor(m%M)===0;)m/=M,w++;return w}function b(m){for(var M=[],w=0;w<o.length;w++){var z=o[w];M.push(f(m,z))}return M}function h(m){for(var M=b(m),w=m,z=0;z<o.length;z++)if(M[z]>0){w=o[z];break}return w}function _(m,M){if(!(m<1||M<1)){for(var w=b(m),z=b(M),O=1,D=0;D<o.length;D++)O*=Math.pow(o[D],Math.max(w[D],z[D]));return O}}function a(m){if(m.length!==0){for(var M=1,w=0;w<m.length;w++)M=_(M,m[w]);return M}}n.calcXnums=function(m){var M,w=[];for(M=1;M<m;M++){var z=this.getXat(M-1,0),O=this.getXat(M,0);O!==z&&z!==void 0&&z!==null&&O!==void 0&&O!==null?w[M-1]=Math.abs(O-z):w[M-1]=0}var D=0;for(M=1;M<m;M++)D+=w[M-1];for(M=1;M<m;M++)w[M-1]===0?w[M-1]=1:w[M-1]=Math.round(D/w[M-1]);return w},n.calcYnums=function(m){var M,w=[];for(M=1;M<m;M++){var z=this.getYat(0,M-1),O=this.getYat(0,M);O!==z&&z!==void 0&&z!==null&&O!==void 0&&O!==null?w[M-1]=Math.abs(O-z):w[M-1]=0}var D=0;for(M=1;M<m;M++)D+=w[M-1];for(M=1;M<m;M++)w[M-1]===0?w[M-1]=1:w[M-1]=Math.round(D/w[M-1]);return w};var c=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=c[9],x=c[13];n.estimateScale=function(m,M){for(var w=M===0?this.calcXnums(m):this.calcYnums(m),z=1+a(w);z<p;)z*=2;for(;z>x;)z--,z/=h(z),z++,z<p&&(z=x);var O=Math.round(z/m);return O>1?O:1};function k(m,M,w){var z=w[8]+w[2]*M[0]+w[5]*M[1];return m[0]=(w[6]+w[0]*M[0]+w[3]*M[1])/z,m[1]=(w[7]+w[1]*M[0]+w[4]*M[1])/z,m}function y(m,M,w){return A(m,M,k,w),m}function A(m,M,w,z){for(var O=[0,0],D=m.shape[0],P=m.shape[1],F=0;F<D;F++)for(var R=0;R<P;R++)w(O,[F,R],z),m.set(F,R,i(M,O[0],O[1]));return m}n.refineCoords=function(m){for(var M=this.dataScaleX,w=this.dataScaleY,z=m[0].shape[0],O=m[0].shape[1],D=Math.floor(m[0].shape[0]*M+1)|0,P=Math.floor(m[0].shape[1]*w+1)|0,F=1+z+1,R=1+O+1,N=S(new Float32Array(F*R),[F,R]),B=[1/M,0,0,0,1/w,0,0,0,1],q=0;q<m.length;++q){this.surface.padField(N,m[q]);var V=S(new Float32Array(D*P),[D,P]);y(V,N,B),m[q]=V}};function C(m,M){for(var w=!1,z=0;z<m.length;z++)if(M===m[z]){w=!0;break}w===!1&&m.push(M)}n.setContourLevels=function(){var m=[[],[],[]],M=[!1,!1,!1],w=!1,z,O,D;for(z=0;z<3;++z)if(this.showContour[z]&&(w=!0,this.contourSize[z]>0&&this.contourStart[z]!==null&&this.contourEnd[z]!==null&&this.contourEnd[z]>this.contourStart[z]))for(M[z]=!0,O=this.contourStart[z];O<this.contourEnd[z];O+=this.contourSize[z])D=O*this.scene.dataScale[z],C(m[z],D);if(w){var P=[[],[],[]];for(z=0;z<3;++z)this.showContour[z]&&(P[z]=M[z]?m[z]:this.scene.contourLevels[z]);this.surface.update({levels:P})}},n.update=function(m){var M=this.scene,w=M.fullSceneLayout,z=this.surface,O=d(m),D=M.dataScale,P=m.z[0].length,F=m._ylength,R=M.contourLevels;this.data=m;var N,B,q,V,J=[];for(N=0;N<3;N++)for(J[N]=[],B=0;B<P;B++)J[N][B]=[];for(B=0;B<P;B++)for(q=0;q<F;q++)J[0][B][q]=this.getXat(B,q,m.xcalendar,w.xaxis),J[1][B][q]=this.getYat(B,q,m.ycalendar,w.yaxis),J[2][B][q]=this.getZat(B,q,m.zcalendar,w.zaxis);if(m.connectgaps)for(m._emptypoints=T(J[2]),L(J[2],m._emptypoints),m._interpolatedZ=[],B=0;B<P;B++)for(m._interpolatedZ[B]=[],q=0;q<F;q++)m._interpolatedZ[B][q]=J[2][B][q];for(N=0;N<3;N++)for(B=0;B<P;B++)for(q=0;q<F;q++)V=J[N][B][q],V==null?J[N][B][q]=NaN:V=J[N][B][q]*=D[N];for(N=0;N<3;N++)for(B=0;B<P;B++)for(q=0;q<F;q++)V=J[N][B][q],V!=null&&(this.minValues[N]>V&&(this.minValues[N]=V),this.maxValues[N]<V&&(this.maxValues[N]=V));for(N=0;N<3;N++)this.objectOffset[N]=.5*(this.minValues[N]+this.maxValues[N]);for(N=0;N<3;N++)for(B=0;B<P;B++)for(q=0;q<F;q++)V=J[N][B][q],V!=null&&(J[N][B][q]-=this.objectOffset[N]);var it=[S(new Float32Array(P*F),[P,F]),S(new Float32Array(P*F),[P,F]),S(new Float32Array(P*F),[P,F])];for(N=0;N<3;N++)for(B=0;B<P;B++)for(q=0;q<F;q++)it[N].set(B,q,J[N][B][q]);J=[];var nt={colormap:O,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!m.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:m.opacityscale,opacity:m.opacity},Y=e(m);if(nt.intensityBounds=[Y.min,Y.max],m.surfacecolor){var Z=S(new Float32Array(P*F),[P,F]);for(B=0;B<P;B++)for(q=0;q<F;q++)Z.set(B,q,m.surfacecolor[q][B]);it.push(Z)}else nt.intensityBounds[0]*=D[2],nt.intensityBounds[1]*=D[2];(x<it[0].shape[0]||x<it[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(it[0].shape[0],0),this.dataScaleY=this.estimateScale(it[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(it)),m.surfacecolor&&(nt.intensity=it.pop());var $=[!0,!0,!0],G=["x","y","z"];for(N=0;N<3;++N){var rt=m.contours[G[N]];$[N]=rt.highlight,nt.showContour[N]=rt.show||rt.highlight,nt.showContour[N]&&(nt.contourProject[N]=[rt.project.x,rt.project.y,rt.project.z],rt.show?(this.showContour[N]=!0,nt.levels[N]=R[N],z.highlightColor[N]=nt.contourColor[N]=r(rt.color),rt.usecolormap?z.highlightTint[N]=nt.contourTint[N]=0:z.highlightTint[N]=nt.contourTint[N]=1,nt.contourWidth[N]=rt.width,this.contourStart[N]=rt.start,this.contourEnd[N]=rt.end,this.contourSize[N]=rt.size):(this.showContour[N]=!1,this.contourStart[N]=null,this.contourEnd[N]=null,this.contourSize[N]=0),rt.highlight&&(nt.dynamicColor[N]=r(rt.highlightcolor),nt.dynamicWidth[N]=rt.highlightwidth))}s(O)&&(nt.vertexColor=!0),nt.objectOffset=this.objectOffset,nt.coords=it,z.update(nt),z.visible=m.visible,z.enableDynamic=$,z.enableHighlight=$,z.snapToData=!0,"lighting"in m&&(z.ambientLight=m.lighting.ambient,z.diffuseLight=m.lighting.diffuse,z.specularLight=m.lighting.specular,z.roughness=m.lighting.roughness,z.fresnel=m.lighting.fresnel),"lightposition"in m&&(z.lightPosition=[m.lightposition.x,m.lightposition.y,m.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function u(m,M){var w=m.glplot.gl,z=E({gl:w}),O=new l(m,z,M.uid);return z._trace=O,O.update(M),m.glplot.add(z),O}tt.exports=u},60192:function(tt,U,t){var E=t(24040),S=t(3400),i=t(27260),L=t(16716),T=.1;function v(n,s){for(var o=[],f=32,b=0;b<f;b++){var h=b/(f-1),_=s+(1-s)*(1-Math.pow(Math.sin(n*h*Math.PI),2));o.push([h,Math.max(0,Math.min(1,_))])}return o}function d(n){var s=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var o=0;o<n.length;o++){var f=n[o];if(f.length!==2||+f[0]<s)return!1;s=+f[0]}return!0}function r(n,s,o,f){var b,h;function _(m,M){return S.coerce(n,s,L,m,M)}var a=_("x"),c=_("y"),p=_("z");if(!p||!p.length||a&&a.length<1||c&&c.length<1){s.visible=!1;return}s._xlength=Array.isArray(a)&&S.isArrayOrTypedArray(a[0])?p.length:p[0].length,s._ylength=p.length;var x=E.getComponentMethod("calendars","handleTraceDefaults");x(n,s,["x","y","z"],f),_("text"),_("hovertext"),_("hovertemplate"),_("xhoverformat"),_("yhoverformat"),_("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){_(m)});var k=_("surfacecolor"),y=["x","y","z"];for(b=0;b<3;++b){var A="contours."+y[b],C=_(A+".show"),u=_(A+".highlight");if(C||u)for(h=0;h<3;++h)_(A+".project."+y[h]);C&&(_(A+".color"),_(A+".width"),_(A+".usecolormap")),u&&(_(A+".highlightcolor"),_(A+".highlightwidth")),_(A+".start"),_(A+".end"),_(A+".size")}k||(l(n,"zmin","cmin"),l(n,"zmax","cmax"),l(n,"zauto","cauto")),i(n,s,f,_,{prefix:"",cLetter:"c"}),e(n,s,f,_),s._length=null}function e(n,s,o,f){var b=f("opacityscale");b==="max"?s.opacityscale=[[0,T],[1,1]]:b==="min"?s.opacityscale=[[0,1],[1,T]]:b==="extremes"?s.opacityscale=v(1,T):d(b)||(s.opacityscale=void 0)}function l(n,s,o){s in n&&!(o in n)&&(n[o]=n[s])}tt.exports={supplyDefaults:r,opacityscaleDefaults:e}},91304:function(tt,U,t){tt.exports={attributes:t(16716),supplyDefaults:t(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:t(56576),plot:t(79164),moduleType:"trace",name:"surface",basePlotModule:t(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(tt,U,t){var E=t(13916),S=t(92880).extendFlat,i=t(67824).overrideAll,L=t(25376),T=t(86968).u,v=t(29736).descriptionOnlyNumbers,d=tt.exports=i({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:S({},E.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:S({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:S({},E.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:S({},L({arrayOk:!0}))}},"calc","from-root");d.transforms=void 0},85852:function(tt,U,t){var E=t(84888)._M,S=t(24752),i="table";U.name=i,U.plot=function(L){var T=E(L.calcdata,i)[0];T.length&&S(L,T)},U.clean=function(L,T,v,d){var r=d._has&&d._has(i),e=T._has&&T._has(i);r&&!e&&d._paperdiv.selectAll(".table").remove()}},39312:function(tt,U,t){var E=t(71688).wrap;tt.exports=function(){return E({})}},23536:function(tt){tt.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(tt,U,t){var E=t(23536),S=t(92880).extendFlat,i=t(38248),L=t(38116).isTypedArray,T=t(38116).isArrayOrTypedArray;tt.exports=function(f,b){var h=r(b.cells.values),_=function(q){return q.slice(b.header.values.length,q.length)},a=r(b.header.values);a.length&&!a[0].length&&(a[0]=[""],a=r(a));var c=a.concat(_(h).map(function(){return e((a[0]||[""]).length)})),p=b.domain,x=Math.floor(f._fullLayout._size.w*(p.x[1]-p.x[0])),k=Math.floor(f._fullLayout._size.h*(p.y[1]-p.y[0])),y=b.header.values.length?c[0].map(function(){return b.header.height}):[E.emptyHeaderHeight],A=h.length?h[0].map(function(){return b.cells.height}):[],C=y.reduce(d,0),u=k-C,m=u+E.uplift,M=s(A,m),w=s(y,C),z=n(w,[]),O=n(M,z),D={},P=b._fullInput.columnorder;T(P)&&(P=Array.from(P)),P=P.concat(_(h.map(function(q,V){return V})));var F=c.map(function(q,V){var J=T(b.columnwidth)?b.columnwidth[Math.min(V,b.columnwidth.length-1)]:b.columnwidth;return i(J)?Number(J):1}),R=F.reduce(d,0);F=F.map(function(q){return q/R*x});var N=Math.max(v(b.header.line.width),v(b.cells.line.width)),B={key:b.uid+f._context.staticPlot,translateX:p.x[0]*f._fullLayout._size.w,translateY:f._fullLayout._size.h*(1-p.y[1]),size:f._fullLayout._size,width:x,maxLineWidth:N,height:k,columnOrder:P,groupHeight:k,rowBlocks:O,headerRowBlocks:z,scrollY:0,cells:S({},b.cells,{values:h}),headerCells:S({},b.header,{values:c}),gdColumns:c.map(function(q){return q[0]}),gdColumnsOriginalOrder:c.map(function(q){return q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:c.map(function(q,V){var J=D[q];D[q]=(J||0)+1;var it=q+"__"+D[q];return{key:it,label:q,specIndex:V,xIndex:P[V],xScale:l,x:void 0,calcdata:void 0,columnWidth:F[V]}})};return B.columns.forEach(function(q){q.calcdata=B,q.x=l(q)}),B};function v(f){if(T(f)){for(var b=0,h=0;h<f.length;h++)b=Math.max(b,v(f[h]));return b}return f}function d(f,b){return f+b}function r(f){var b=f.slice(),h=1/0,_=0,a;for(a=0;a<b.length;a++)L(b[a])?b[a]=Array.from(b[a]):T(b[a])||(b[a]=[b[a]]),h=Math.min(h,b[a].length),_=Math.max(_,b[a].length);if(h!==_)for(a=0;a<b.length;a++){var c=_-b[a].length;c&&(b[a]=b[a].concat(e(c)))}return b}function e(f){for(var b=new Array(f),h=0;h<f;h++)b[h]="";return b}function l(f){return f.calcdata.columns.reduce(function(b,h){return h.xIndex<f.xIndex?b+h.columnWidth:b},0)}function n(f,b){var h=Object.keys(f);return h.map(function(_){return S({},f[_],{auxiliaryBlocks:b})})}function s(f,b){for(var h={},_,a=0,c=0,p=o(),x=0,k=0,y=0;y<f.length;y++)_=f[y],p.rows.push({rowIndex:y,rowHeight:_}),c+=_,(c>=b||y===f.length-1)&&(h[a]=p,p.key=k++,p.firstRowIndex=x,p.lastRowIndex=y,p=o(),a+=c,x=y+1,c=0);return h}function o(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(tt,U,t){var E=t(92880).extendFlat;U.splitToPanels=function(i){var L=[0,0],T=E({},i,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:E({},i.calcdata,{cells:i.calcdata.headerCells})}),v=E({},i,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),d=E({},i,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[v,d,T]},U.splitToCells=function(i){var L=S(i);return(i.values||[]).slice(L[0],L[1]).map(function(T,v){var d=typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+d,key:L[0]+v,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:T}})};function S(i){var L=i.rowBlocks[i.page],T=L?L.rows[0].rowIndex:0,v=L?T+L.rows.length:0;return[T,v]}},53212:function(tt,U,t){var E=t(3400),S=t(60520),i=t(86968).Q;function L(T,v){for(var d=T.columnorder||[],r=T.header.values.length,e=d.slice(0,r),l=e.slice().sort(function(o,f){return o-f}),n=e.map(function(o){return l.indexOf(o)}),s=n.length;s<r;s++)n.push(s);v("columnorder",n)}tt.exports=function(T,v,d,r){function e(l,n){return E.coerce(T,v,S,l,n)}i(v,r,e),e("columnwidth"),e("header.values"),e("header.format"),e("header.align"),e("header.prefix"),e("header.suffix"),e("header.height"),e("header.line.width"),e("header.line.color"),e("header.fill.color"),E.coerceFont(e,"header.font",E.extendFlat({},r.font)),L(v,e),e("cells.values"),e("cells.format"),e("cells.align"),e("cells.prefix"),e("cells.suffix"),e("cells.height"),e("cells.line.width"),e("cells.line.color"),e("cells.fill.color"),E.coerceFont(e,"cells.font",E.extendFlat({},r.font)),v._length=null}},41724:function(tt,U,t){tt.exports={attributes:t(60520),supplyDefaults:t(53212),calc:t(39312),plot:t(24752),moduleType:"trace",name:"table",basePlotModule:t(85852),categories:["noOpacity"],meta:{}}},24752:function(tt,U,t){var E=t(23536),S=t(33428),i=t(3400),L=i.numberFormat,T=t(71688),v=t(43616),d=t(72736),r=t(3400).raiseToTop,e=t(3400).strTranslate,l=t(3400).cancelTransition,n=t(55992),s=t(53056),o=t(76308);tt.exports=function(H,at){var Q=!H._context.staticPlot,ct=H._fullLayout._paper.selectAll("."+E.cn.table).data(at.map(function(Gt){var pe=T.unwrap(Gt),Vt=pe.trace;return n(H,Vt)}),T.keyFun);ct.exit().remove(),ct.enter().append("g").classed(E.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ct.attr("width",function(Gt){return Gt.width+Gt.size.l+Gt.size.r}).attr("height",function(Gt){return Gt.height+Gt.size.t+Gt.size.b}).attr("transform",function(Gt){return e(Gt.translateX,Gt.translateY)});var ft=ct.selectAll("."+E.cn.tableControlView).data(T.repeat,T.keyFun),yt=ft.enter().append("g").classed(E.cn.tableControlView,!0).style("box-sizing","content-box");if(Q){var xt="onwheel"in document?"wheel":"mousewheel";yt.on("mousemove",function(Gt){ft.filter(function(pe){return Gt===pe}).call(a,H)}).on(xt,function(Gt){if(!Gt.scrollbarState.wheeling){Gt.scrollbarState.wheeling=!0;var pe=Gt.scrollY+S.event.deltaY,Vt=V(H,ft,null,pe)(Gt);Vt||(S.event.stopPropagation(),S.event.preventDefault()),Gt.scrollbarState.wheeling=!1}}).call(a,H,!0)}ft.attr("transform",function(Gt){return e(Gt.size.l,Gt.size.t)});var Lt=ft.selectAll("."+E.cn.scrollBackground).data(T.repeat,T.keyFun);Lt.enter().append("rect").classed(E.cn.scrollBackground,!0).attr("fill","none"),Lt.attr("width",function(Gt){return Gt.width}).attr("height",function(Gt){return Gt.height}),ft.each(function(Gt){v.setClipUrl(S.select(this),b(H,Gt),H)});var gt=ft.selectAll("."+E.cn.yColumn).data(function(Gt){return Gt.columns},T.keyFun);gt.enter().append("g").classed(E.cn.yColumn,!0),gt.exit().remove(),gt.attr("transform",function(Gt){return e(Gt.x,0)}),Q&&gt.call(S.behavior.drag().origin(function(Gt){var pe=S.select(this);return P(pe,Gt,-E.uplift),r(this),Gt.calcdata.columnDragInProgress=!0,a(ft.filter(function(Vt){return Gt.calcdata.key===Vt.key}),H),Gt}).on("drag",function(Gt){var pe=S.select(this),Vt=function(ce){return(Gt===ce?S.event.x:ce.x)+ce.columnWidth/2};Gt.x=Math.max(-E.overdrag,Math.min(Gt.calcdata.width+E.overdrag-Gt.columnWidth,S.event.x));var ae=_(gt).filter(function(ce){return ce.calcdata.key===Gt.calcdata.key}),oe=ae.sort(function(ce,le){return Vt(ce)-Vt(le)});oe.forEach(function(ce,le){ce.xIndex=le,ce.x=Gt===ce?ce.x:ce.xScale(ce)}),gt.filter(function(ce){return Gt!==ce}).transition().ease(E.transitionEase).duration(E.transitionDuration).attr("transform",function(ce){return e(ce.x,0)}),pe.call(l).attr("transform",e(Gt.x,-E.uplift))}).on("dragend",function(Gt){var pe=S.select(this),Vt=Gt.calcdata;Gt.x=Gt.xScale(Gt),Gt.calcdata.columnDragInProgress=!1,P(pe,Gt,0),O(H,Vt,Vt.columns.map(function(ae){return ae.xIndex}))})),gt.each(function(Gt){v.setClipUrl(S.select(this),h(H,Gt),H)});var mt=gt.selectAll("."+E.cn.columnBlock).data(s.splitToPanels,T.keyFun);mt.enter().append("g").classed(E.cn.columnBlock,!0).attr("id",function(Gt){return Gt.key}),mt.style("cursor",function(Gt){return Gt.dragHandle?"ew-resize":Gt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var vt=mt.filter(R),At=mt.filter(F);Q&&At.call(S.behavior.drag().origin(function(Gt){return S.event.stopPropagation(),Gt}).on("drag",V(H,ft,-1)).on("dragend",function(){})),c(H,ft,vt,mt),c(H,ft,At,mt);var Ot=ft.selectAll("."+E.cn.scrollAreaClip).data(T.repeat,T.keyFun);Ot.enter().append("clipPath").classed(E.cn.scrollAreaClip,!0).attr("id",function(Gt){return b(H,Gt)});var Pt=Ot.selectAll("."+E.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);Pt.enter().append("rect").classed(E.cn.scrollAreaClipRect,!0).attr("x",-E.overdrag).attr("y",-E.uplift).attr("fill","none"),Pt.attr("width",function(Gt){return Gt.width+2*E.overdrag}).attr("height",function(Gt){return Gt.height+E.uplift});var Et=gt.selectAll("."+E.cn.columnBoundary).data(T.repeat,T.keyFun);Et.enter().append("g").classed(E.cn.columnBoundary,!0);var Nt=gt.selectAll("."+E.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);Nt.enter().append("clipPath").classed(E.cn.columnBoundaryClippath,!0),Nt.attr("id",function(Gt){return h(H,Gt)});var ne=Nt.selectAll("."+E.cn.columnBoundaryRect).data(T.repeat,T.keyFun);ne.enter().append("rect").classed(E.cn.columnBoundaryRect,!0).attr("fill","none"),ne.attr("width",function(Gt){return Gt.columnWidth+2*f(Gt)}).attr("height",function(Gt){return Gt.calcdata.height+2*f(Gt)+E.uplift}).attr("x",function(Gt){return-f(Gt)}).attr("y",function(Gt){return-f(Gt)}),q(null,At,ft)};function f(H){return Math.ceil(H.calcdata.maxLineWidth/2)}function b(H,at){return"clip"+H._fullLayout._uid+"_scrollAreaBottomClip_"+at.key}function h(H,at){return"clip"+H._fullLayout._uid+"_columnBoundaryClippath_"+at.calcdata.key+"_"+at.specIndex}function _(H){return[].concat.apply([],H.map(function(at){return at})).map(function(at){return at.__data__})}function a(H,at,Q){function ct(mt){var vt=mt.rowBlocks;return $(vt,vt.length-1)+(vt.length?G(vt[vt.length-1],1/0):1)}var ft=H.selectAll("."+E.cn.scrollbarKit).data(T.repeat,T.keyFun);ft.enter().append("g").classed(E.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ft.each(function(mt){var vt=mt.scrollbarState;vt.totalHeight=ct(mt),vt.scrollableAreaHeight=mt.groupHeight-N(mt),vt.currentlyVisibleHeight=Math.min(vt.totalHeight,vt.scrollableAreaHeight),vt.ratio=vt.currentlyVisibleHeight/vt.totalHeight,vt.barLength=Math.max(vt.ratio*vt.currentlyVisibleHeight,E.goldenRatio*E.scrollbarWidth),vt.barWiggleRoom=vt.currentlyVisibleHeight-vt.barLength,vt.wiggleRoom=Math.max(0,vt.totalHeight-vt.scrollableAreaHeight),vt.topY=vt.barWiggleRoom===0?0:mt.scrollY/vt.wiggleRoom*vt.barWiggleRoom,vt.bottomY=vt.topY+vt.barLength,vt.dragMultiplier=vt.wiggleRoom/vt.barWiggleRoom}).attr("transform",function(mt){var vt=mt.width+E.scrollbarWidth/2+E.scrollbarOffset;return e(vt,N(mt))});var yt=ft.selectAll("."+E.cn.scrollbar).data(T.repeat,T.keyFun);yt.enter().append("g").classed(E.cn.scrollbar,!0);var xt=yt.selectAll("."+E.cn.scrollbarSlider).data(T.repeat,T.keyFun);xt.enter().append("g").classed(E.cn.scrollbarSlider,!0),xt.attr("transform",function(mt){return e(0,mt.scrollbarState.topY||0)});var Lt=xt.selectAll("."+E.cn.scrollbarGlyph).data(T.repeat,T.keyFun);Lt.enter().append("line").classed(E.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",E.scrollbarWidth).attr("stroke-linecap","round").attr("y1",E.scrollbarWidth/2),Lt.attr("y2",function(mt){return mt.scrollbarState.barLength-E.scrollbarWidth/2}).attr("stroke-opacity",function(mt){return mt.columnDragInProgress||!mt.scrollbarState.barWiggleRoom||Q?0:.4}),Lt.transition().delay(0).duration(0),Lt.transition().delay(E.scrollbarHideDelay).duration(E.scrollbarHideDuration).attr("stroke-opacity",0);var gt=yt.selectAll("."+E.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);gt.enter().append("line").classed(E.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",E.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(mt){var vt=S.event.y,At=this.getBoundingClientRect(),Ot=mt.scrollbarState,Pt=vt-At.top,Et=S.scale.linear().domain([0,Ot.scrollableAreaHeight]).range([0,Ot.totalHeight]).clamp(!0);Ot.topY<=Pt&&Pt<=Ot.bottomY||V(at,H,null,Et(Pt-Ot.barLength/2))(mt)}).call(S.behavior.drag().origin(function(mt){return S.event.stopPropagation(),mt.scrollbarState.scrollbarScrollInProgress=!0,mt}).on("drag",V(at,H)).on("dragend",function(){})),gt.attr("y2",function(mt){return mt.scrollbarState.scrollableAreaHeight}),at._context.staticPlot&&(Lt.remove(),gt.remove())}function c(H,at,Q,ct){var ft=p(Q),yt=x(ft);C(yt);var xt=k(yt);m(xt);var Lt=A(yt),gt=y(Lt);u(gt),M(gt,at,ct,H),Z(yt)}function p(H){var at=H.selectAll("."+E.cn.columnCells).data(T.repeat,T.keyFun);return at.enter().append("g").classed(E.cn.columnCells,!0),at.exit().remove(),at}function x(H){var at=H.selectAll("."+E.cn.columnCell).data(s.splitToCells,function(Q){return Q.keyWithinBlock});return at.enter().append("g").classed(E.cn.columnCell,!0),at.exit().remove(),at}function k(H){var at=H.selectAll("."+E.cn.cellRect).data(T.repeat,function(Q){return Q.keyWithinBlock});return at.enter().append("rect").classed(E.cn.cellRect,!0),at}function y(H){var at=H.selectAll("."+E.cn.cellText).data(T.repeat,function(Q){return Q.keyWithinBlock});return at.enter().append("text").classed(E.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){S.event.stopPropagation()}),at}function A(H){var at=H.selectAll("."+E.cn.cellTextHolder).data(T.repeat,function(Q){return Q.keyWithinBlock});return at.enter().append("g").classed(E.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),at}function C(H){H.each(function(at,Q){var ct=at.calcdata.cells.font,ft=at.column.specIndex,yt={size:D(ct.size,ft,Q),color:D(ct.color,ft,Q),family:D(ct.family,ft,Q),weight:D(ct.weight,ft,Q),style:D(ct.style,ft,Q),variant:D(ct.variant,ft,Q)};at.rowNumber=at.key,at.align=D(at.calcdata.cells.align,ft,Q),at.cellBorderWidth=D(at.calcdata.cells.line.width,ft,Q),at.font=yt})}function u(H){H.each(function(at){v.font(S.select(this),at.font)})}function m(H){H.attr("width",function(at){return at.column.columnWidth}).attr("stroke-width",function(at){return at.cellBorderWidth}).each(function(at){var Q=S.select(this);o.stroke(Q,D(at.calcdata.cells.line.color,at.column.specIndex,at.rowNumber)),o.fill(Q,D(at.calcdata.cells.fill.color,at.column.specIndex,at.rowNumber))})}function M(H,at,Q,ct){H.text(function(ft){var yt=ft.column.specIndex,xt=ft.rowNumber,Lt=ft.value,gt=typeof Lt=="string",mt=gt&&Lt.match(/<br>/i),vt=!gt||mt;ft.mayHaveMarkup=gt&&Lt.match(/[<&>]/);var At=w(Lt);ft.latex=At;var Ot=At?"":D(ft.calcdata.cells.prefix,yt,xt)||"",Pt=At?"":D(ft.calcdata.cells.suffix,yt,xt)||"",Et=At?null:D(ft.calcdata.cells.format,yt,xt)||null,Nt=Ot+(Et?L(Et)(ft.value):ft.value)+Pt,ne;ft.wrappingNeeded=!ft.wrapped&&!vt&&!At&&(ne=z(Nt)),ft.cellHeightMayIncrease=mt||At||ft.mayHaveMarkup||(ne===void 0?z(Nt):ne),ft.needsConvertToTspans=ft.mayHaveMarkup||ft.wrappingNeeded||ft.latex;var Gt;if(ft.wrappingNeeded){var pe=E.wrapSplitCharacter===" "?Nt.replace(/<a href=/ig,"<a_href="):Nt,Vt=pe.split(E.wrapSplitCharacter),ae=E.wrapSplitCharacter===" "?Vt.map(function(oe){return oe.replace(/<a_href=/ig,"<a href=")}):Vt;ft.fragments=ae.map(function(oe){return{text:oe,width:null}}),ft.fragments.push({fragment:E.wrapSpacer,width:null}),Gt=ae.join(E.lineBreaker)+E.lineBreaker+E.wrapSpacer}else delete ft.fragments,Gt=Nt;return Gt}).attr("dy",function(ft){return ft.needsConvertToTspans?0:"0.75em"}).each(function(ft){var yt=this,xt=S.select(yt),Lt=ft.wrappingNeeded?it:nt;ft.needsConvertToTspans?d.convertToTspans(xt,ct,Lt(Q,yt,at,ct,ft)):S.select(yt.parentNode).attr("transform",function(gt){return e(Y(gt),E.cellPad)}).attr("text-anchor",function(gt){return{left:"start",center:"middle",right:"end"}[gt.align]})})}function w(H){return typeof H=="string"&&H.match(E.latexCheck)}function z(H){return H.indexOf(E.wrapSplitCharacter)!==-1}function O(H,at,Q){var ct=at.gdColumnsOriginalOrder;at.gdColumns.sort(function(ft,yt){return Q[ct.indexOf(ft)]-Q[ct.indexOf(yt)]}),at.columnorder=Q,H.emit("plotly_restyle")}function D(H,at,Q){if(i.isArrayOrTypedArray(H)){var ct=H[Math.min(at,H.length-1)];return i.isArrayOrTypedArray(ct)?ct[Math.min(Q,ct.length-1)]:ct}else return H}function P(H,at,Q){H.transition().ease(E.releaseTransitionEase).duration(E.releaseTransitionDuration).attr("transform",e(at.x,Q))}function F(H){return H.type==="cells"}function R(H){return H.type==="header"}function N(H){var at=H.rowBlocks.length?H.rowBlocks[0].auxiliaryBlocks:[];return at.reduce(function(Q,ct){return Q+G(ct,1/0)},0)}function B(H,at,Q){for(var ct=[],ft=0,yt=0;yt<H.length;yt++){for(var xt=H[yt],Lt=xt.rows,gt=0,mt=0;mt<Lt.length;mt++)gt+=Lt[mt].rowHeight;xt.allRowsHeight=gt;var vt=ft+gt,At=at,Ot=At+Q;At<vt&&Ot>ft&&ct.push(yt),ft+=gt}return ct}function q(H,at,Q){var ct=_(at)[0];if(ct!==void 0){var ft=ct.rowBlocks,yt=ct.calcdata,xt=$(ft,ft.length),Lt=ct.calcdata.groupHeight-N(ct),gt=yt.scrollY=Math.max(0,Math.min(xt-Lt,yt.scrollY)),mt=B(ft,gt,Lt);mt.length===1&&(mt[0]===ft.length-1?mt.unshift(mt[0]-1):mt.push(mt[0]+1)),mt[0]%2&&mt.reverse(),at.each(function(vt,At){vt.page=mt[At],vt.scrollY=gt}),at.attr("transform",function(vt){var At=$(vt.rowBlocks,vt.page)-vt.scrollY;return e(0,At)}),H&&(J(H,Q,at,mt,ct.prevPages,ct,0),J(H,Q,at,mt,ct.prevPages,ct,1),a(Q,H))}}function V(H,at,Q,ct){return function(ft){var yt=ft.calcdata?ft.calcdata:ft,xt=at.filter(function(vt){return yt.key===vt.key}),Lt=Q||yt.scrollbarState.dragMultiplier,gt=yt.scrollY;yt.scrollY=ct===void 0?yt.scrollY+Lt*S.event.dy:ct;var mt=xt.selectAll("."+E.cn.yColumn).selectAll("."+E.cn.columnBlock).filter(F);return q(H,mt,xt),yt.scrollY===gt}}function J(H,at,Q,ct,ft,yt,xt){var Lt=ct[xt]!==ft[xt];Lt&&(clearTimeout(yt.currentRepaint[xt]),yt.currentRepaint[xt]=setTimeout(function(){var gt=Q.filter(function(mt,vt){return vt===xt&&ct[vt]!==ft[vt]});c(H,at,gt,Q),ft[xt]=ct[xt]}))}function it(H,at,Q,ct){return function(){var ft=S.select(at.parentNode);ft.each(function(yt){var xt=yt.fragments;ft.selectAll("tspan.line").each(function(Et,Nt){xt[Nt].width=this.getComputedTextLength()});var Lt=xt[xt.length-1].width,gt=xt.slice(0,-1),mt=[],vt,At,Ot=0,Pt=yt.column.columnWidth-2*E.cellPad;for(yt.value="";gt.length;)vt=gt.shift(),At=vt.width+Lt,Ot+At>Pt&&(yt.value+=mt.join(E.wrapSpacer)+E.lineBreaker,mt=[],Ot=0),mt.push(vt.text),Ot+=At;Ot&&(yt.value+=mt.join(E.wrapSpacer)),yt.wrapped=!0}),ft.selectAll("tspan.line").remove(),M(ft.select("."+E.cn.cellText),Q,H,ct),S.select(at.parentNode.parentNode).call(Z)}}function nt(H,at,Q,ct,ft){return function(){if(!ft.settledY){var yt=S.select(at.parentNode),xt=ot(ft),Lt=ft.key-xt.firstRowIndex,gt=xt.rows[Lt].rowHeight,mt=ft.cellHeightMayIncrease?at.parentNode.getBoundingClientRect().height+2*E.cellPad:gt,vt=Math.max(mt,gt),At=vt-xt.rows[Lt].rowHeight;At&&(xt.rows[Lt].rowHeight=vt,H.selectAll("."+E.cn.columnCell).call(Z),q(null,H.filter(F),0),a(Q,ct,!0)),yt.attr("transform",function(){var Ot=this,Pt=Ot.parentNode,Et=Pt.getBoundingClientRect(),Nt=S.select(Ot.parentNode).select("."+E.cn.cellRect).node().getBoundingClientRect(),ne=Ot.transform.baseVal.consolidate(),Gt=Nt.top-Et.top+(ne?ne.matrix.f:E.cellPad);return e(Y(ft,S.select(Ot.parentNode).select("."+E.cn.cellTextHolder).node().getBoundingClientRect().width),Gt)}),ft.settledY=!0}}}function Y(H,at){switch(H.align){case"left":return E.cellPad;case"right":return H.column.columnWidth-(at||0)-E.cellPad;case"center":return(H.column.columnWidth-(at||0))/2;default:return E.cellPad}}function Z(H){H.attr("transform",function(at){var Q=at.rowBlocks[0].auxiliaryBlocks.reduce(function(xt,Lt){return xt+G(Lt,1/0)},0),ct=ot(at),ft=G(ct,at.key),yt=ft+Q;return e(0,yt)}).selectAll("."+E.cn.cellRect).attr("height",function(at){return W(ot(at),at.key).rowHeight})}function $(H,at){for(var Q=0,ct=at-1;ct>=0;ct--)Q+=rt(H[ct]);return Q}function G(H,at){for(var Q=0,ct=0;ct<H.rows.length&&H.rows[ct].rowIndex<at;ct++)Q+=H.rows[ct].rowHeight;return Q}function rt(H){var at=H.allRowsHeight;if(at!==void 0)return at;for(var Q=0,ct=0;ct<H.rows.length;ct++)Q+=H.rows[ct].rowHeight;return H.allRowsHeight=Q,Q}function ot(H){return H.rowBlocks[H.page]}function W(H,at){return H.rows[at-H.firstRowIndex]}},40516:function(tt,U,t){var E=t(21776).Ks,S=t(21776).Gw,i=t(49084),L=t(86968).u,T=t(74996),v=t(424),d=t(32984),r=t(92880).extendFlat,e=t(98192).c;tt.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:e,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:v.textinfo,texttemplate:S({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:E({},{keys:d.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:r({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(tt,U,t){var E=t(7316);U.name="treemap",U.plot=function(S,i,L,T){E.plotBasePlot(U.name,S,i,L,T)},U.clean=function(S,i,L,T){E.cleanBasePlot(U.name,S,i,L,T)}},97840:function(tt,U,t){var E=t(3776);U.r=function(S,i){return E.calc(S,i)},U.q=function(S){return E._runCrossTraceCalc("treemap",S)}},32984:function(tt){tt.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(tt,U,t){var E=t(3400),S=t(40516),i=t(76308),L=t(86968).Q,T=t(31508).handleText,v=t(78048).TEXTPAD,d=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,l=r.handleDefaults;tt.exports=function(n,s,o,f){function b(u,m){return E.coerce(n,s,S,u,m)}var h=b("labels"),_=b("parents");if(!h||!h.length||!_||!_.length){s.visible=!1;return}var a=b("values");a&&a.length?b("branchvalues"):b("count"),b("level"),b("maxdepth");var c=b("tiling.packing");c==="squarify"&&b("tiling.squarifyratio"),b("tiling.flip"),b("tiling.pad");var p=b("text");b("texttemplate"),s.texttemplate||b("textinfo",E.isArrayOrTypedArray(p)?"text+label":"label"),b("hovertext"),b("hovertemplate");var x=b("pathbar.visible"),k="auto";T(n,s,f,b,k,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),b("textposition");var y=s.textposition.indexOf("bottom")!==-1;d(n,s,f,b);var A=s._hasColorscale=e(n,"marker","colors")||(n.marker||{}).coloraxis;A?l(n,s,f,b,{prefix:"marker.",cLetter:"c"}):b("marker.depthfade",!(s.marker.colors||[]).length);var C=s.textfont.size*2;b("marker.pad.t",y?C/4:C),b("marker.pad.l",C/4),b("marker.pad.r",C/4),b("marker.pad.b",y?C:C/4),b("marker.cornerradius"),s._hovered={marker:{line:{width:2,color:i.contrast(f.paper_bgcolor)}}},x&&(b("pathbar.thickness",s.pathbar.textfont.size+2*v),b("pathbar.side"),b("pathbar.edgeshape")),b("sort"),b("root.color"),L(s,f,b),s._length=null}},95808:function(tt,U,t){var E=t(33428),S=t(78176),i=t(82744),L=i.clearMinTextSize,T=t(60100).resizeText,v=t(52960);tt.exports=function(d,r,e,l,n){var s=n.type,o=n.drawDescendants,f=d._fullLayout,b=f["_"+s+"layer"],h,_,a=!e;if(L(s,f),h=b.selectAll("g.trace."+s).data(r,function(p){return p[0].trace.uid}),h.enter().append("g").classed("trace",!0).classed(s,!0),h.order(),!f.uniformtext.mode&&S.hasTransition(e)){l&&(_=l());var c=E.transition().duration(e.duration).ease(e.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});c.each(function(){b.selectAll("g.trace").each(function(p){v(d,p,this,e,o)})})}else h.each(function(p){v(d,p,this,e,o)}),f.uniformtext.mode&&T(d,b.selectAll(".trace"),s);a&&h.exit().remove()}},27336:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(72736),T=t(13832),v=t(66192).styleOne,d=t(32984),r=t(78176),e=t(45716),l=!0;tt.exports=function(n,s,o,f,b){var h=b.barDifY,_=b.width,a=b.height,c=b.viewX,p=b.viewY,x=b.pathSlice,k=b.toMoveInsideSlice,y=b.strTransform,A=b.hasTransition,C=b.handleSlicesExit,u=b.makeUpdateSliceInterpolator,m=b.makeUpdateTextInterpolator,M={},w=n._context.staticPlot,z=n._fullLayout,O=s[0],D=O.trace,P=O.hierarchy,F=_/D._entryDepth,R=r.listPath(o.data,"id"),N=T(P.copy(),[_,a],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();N=N.filter(function(q){var V=R.indexOf(q.data.id);return V===-1?!1:(q.x0=F*V,q.x1=F*(V+1),q.y0=h,q.y1=h+a,q.onPathbar=!0,!0)}),N.reverse(),f=f.data(N,r.getPtId),f.enter().append("g").classed("pathbar",!0),C(f,l,M,[_,a],x),f.order();var B=f;A&&(B=B.transition().each("end",function(){var q=E.select(this);r.setSliceCursor(q,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),B.each(function(q){q._x0=c(q.x0),q._x1=c(q.x1),q._y0=p(q.y0),q._y1=p(q.y1),q._hoverX=c(q.x1-Math.min(_,a)/2),q._hoverY=p(q.y1-a/2);var V=E.select(this),J=S.ensureSingle(V,"path","surface",function(Z){Z.style("pointer-events",w?"none":"all")});A?J.transition().attrTween("d",function(Z){var $=u(Z,l,M,[_,a]);return function(G){return x($(G))}}):J.attr("d",x),V.call(e,o,n,s,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),J.call(v,q,D,n,{hovered:!1}),q._text=(r.getPtLabel(q)||"").split("<br>").join(" ")||"";var it=S.ensureSingle(V,"g","slicetext"),nt=S.ensureSingle(it,"text","",function(Z){Z.attr("data-notex",1)}),Y=S.ensureUniformFontSize(n,r.determineTextFont(D,q,z.font,{onPathbar:!0}));nt.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,Y).call(L.convertToTspans,n),q.textBB=i.bBox(nt.node()),q.transform=k(q,{fontSize:Y.size,onPathbar:!0}),q.transform.fontSize=Y.size,A?nt.transition().attrTween("transform",function(Z){var $=m(Z,l,M,[_,a]);return function(G){return y($(G))}}):nt.attr("transform",y(q))})}},76477:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(72736),T=t(13832),v=t(66192).styleOne,d=t(32984),r=t(78176),e=t(45716),l=t(96488).formatSliceLabel,n=!1;tt.exports=function(s,o,f,b,h){var _=h.width,a=h.height,c=h.viewX,p=h.viewY,x=h.pathSlice,k=h.toMoveInsideSlice,y=h.strTransform,A=h.hasTransition,C=h.handleSlicesExit,u=h.makeUpdateSliceInterpolator,m=h.makeUpdateTextInterpolator,M=h.prevEntry,w={},z=s._context.staticPlot,O=s._fullLayout,D=o[0],P=D.trace,F=P.textposition.indexOf("left")!==-1,R=P.textposition.indexOf("right")!==-1,N=P.textposition.indexOf("bottom")!==-1,B=!N&&!P.marker.pad.t||N&&!P.marker.pad.b,q=T(f,[_,a],{packing:P.tiling.packing,squarifyratio:P.tiling.squarifyratio,flipX:P.tiling.flip.indexOf("x")>-1,flipY:P.tiling.flip.indexOf("y")>-1,pad:{inner:P.tiling.pad,top:P.marker.pad.t,left:P.marker.pad.l,right:P.marker.pad.r,bottom:P.marker.pad.b}}),V=q.descendants(),J=1/0,it=-1/0;V.forEach(function(G){var rt=G.depth;rt>=P._maxDepth?(G.x0=G.x1=(G.x0+G.x1)/2,G.y0=G.y1=(G.y0+G.y1)/2):(J=Math.min(J,rt),it=Math.max(it,rt))}),b=b.data(V,r.getPtId),P._maxVisibleLayers=isFinite(it)?it-J+1:0,b.enter().append("g").classed("slice",!0),C(b,n,w,[_,a],x),b.order();var nt=null;if(A&&M){var Y=r.getPtId(M);b.each(function(G){nt===null&&r.getPtId(G)===Y&&(nt={x0:G.x0,x1:G.x1,y0:G.y0,y1:G.y1})})}var Z=function(){return nt||{x0:0,x1:_,y0:0,y1:a}},$=b;return A&&($=$.transition().each("end",function(){var G=E.select(this);r.setSliceCursor(G,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(G){var rt=r.isHeader(G,P);G._x0=c(G.x0),G._x1=c(G.x1),G._y0=p(G.y0),G._y1=p(G.y1),G._hoverX=c(G.x1-P.marker.pad.r),G._hoverY=p(N?G.y1-P.marker.pad.b/2:G.y0+P.marker.pad.t/2);var ot=E.select(this),W=S.ensureSingle(ot,"path","surface",function(yt){yt.style("pointer-events",z?"none":"all")});A?W.transition().attrTween("d",function(yt){var xt=u(yt,n,Z(),[_,a]);return function(Lt){return x(xt(Lt))}}):W.attr("d",x),ot.call(e,f,s,o,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,s,{isTransitioning:s._transitioning}),W.call(v,G,P,s,{hovered:!1}),G.x0===G.x1||G.y0===G.y1?G._text="":rt?G._text=B?"":r.getPtLabel(G)||"":G._text=l(G,f,P,o,O)||"";var H=S.ensureSingle(ot,"g","slicetext"),at=S.ensureSingle(H,"text","",function(yt){yt.attr("data-notex",1)}),Q=S.ensureUniformFontSize(s,r.determineTextFont(P,G,O.font)),ct=G._text||" ",ft=rt&&ct.indexOf("<br>")===-1;at.text(ct).classed("slicetext",!0).attr("text-anchor",R?"end":F||ft?"start":"middle").call(i.font,Q).call(L.convertToTspans,s),G.textBB=i.bBox(at.node()),G.transform=k(G,{fontSize:Q.size,isHeader:rt}),G.transform.fontSize=Q.size,A?at.transition().attrTween("transform",function(yt){var xt=m(yt,n,Z(),[_,a]);return function(Lt){return y(xt(Lt))}}):at.attr("transform",y(G))}),nt}},83024:function(tt){tt.exports=function U(t,E,S){var i;S.swapXY&&(i=t.x0,t.x0=t.y0,t.y0=i,i=t.x1,t.x1=t.y1,t.y1=i),S.flipX&&(i=t.x0,t.x0=E[0]-t.x1,t.x1=E[0]-i),S.flipY&&(i=t.y0,t.y0=E[1]-t.y1,t.y1=E[1]-i);var L=t.children;if(L)for(var T=0;T<L.length;T++)U(L[T],E,S)}},31991:function(tt,U,t){tt.exports={moduleType:"trace",name:"treemap",basePlotModule:t(79516),categories:[],animatable:!0,attributes:t(40516),layoutAttributes:t(45392),supplyDefaults:t(34092),supplyLayoutDefaults:t(77480),calc:t(97840).r,crossTraceCalc:t(97840).q,plot:t(53264),style:t(66192).style,colorbar:t(5528),meta:{}}},45392:function(tt){tt.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(tt,U,t){var E=t(3400),S=t(45392);tt.exports=function(i,L){function T(v,d){return E.coerce(i,L,S,v,d)}T("treemapcolorway",L.colorway),T("extendtreemapcolors")}},13832:function(tt,U,t){var E=t(74148),S=t(83024);tt.exports=function(L,T,v){var d=v.flipX,r=v.flipY,e=v.packing==="dice-slice",l=v.pad[r?"bottom":"top"],n=v.pad[d?"right":"left"],s=v.pad[d?"left":"right"],o=v.pad[r?"top":"bottom"],f;e&&(f=n,n=l,l=f,f=s,s=o,o=f);var b=E.treemap().tile(i(v.packing,v.squarifyratio)).paddingInner(v.pad.inner).paddingLeft(n).paddingRight(s).paddingTop(l).paddingBottom(o).size(e?[T[1],T[0]]:T)(L);return(e||d||r)&&S(b,T,{swapXY:e,flipX:d,flipY:r}),b};function i(L,T){switch(L){case"squarify":return E.treemapSquarify.ratio(T);case"binary":return E.treemapBinary;case"dice":return E.treemapDice;case"slice":return E.treemapSlice;default:return E.treemapSliceDice}}},53264:function(tt,U,t){var E=t(95808),S=t(76477);tt.exports=function(i,L,T,v){return E(i,L,T,v,{type:"treemap",drawDescendants:S})}},52960:function(tt,U,t){var E=t(33428),S=t(67756).qy,i=t(78176),L=t(3400),T=t(78048).TEXTPAD,v=t(98184),d=v.toMoveInsideBar,r=t(82744),e=r.recordMinTextSize,l=t(32984),n=t(27336);function s(o){return i.isHierarchyRoot(o)?"":i.getPtId(o)}tt.exports=function(o,f,b,h,_){var a=o._fullLayout,c=f[0],p=c.trace,x=p.type,k=x==="icicle",y=c.hierarchy,A=i.findEntryWithLevel(y,p.level),C=E.select(b),u=C.selectAll("g.pathbar"),m=C.selectAll("g.slice");if(!A){u.remove(),m.remove();return}var M=i.isHierarchyRoot(A),w=!a.uniformtext.mode&&i.hasTransition(h),z=i.getMaxDepth(p),O=function(Tt){return Tt.data.depth-A.data.depth<z},D=a._size,P=p.domain,F=D.w*(P.x[1]-P.x[0]),R=D.h*(P.y[1]-P.y[0]),N=F,B=p.pathbar.thickness,q=p.marker.line.width+l.gapWithPathbar,V=p.pathbar.visible?p.pathbar.side.indexOf("bottom")>-1?R+q:-(B+q):0,J={x0:N,x1:N,y0:V,y1:V+B},it=function(Tt,Ft,$t){var Wt=p.tiling.pad,Bt=function(dt){return dt-Wt<=Ft.x0},Mt=function(dt){return dt+Wt>=Ft.x1},St=function(dt){return dt-Wt<=Ft.y0},Dt=function(dt){return dt+Wt>=Ft.y1};return Tt.x0===Ft.x0&&Tt.x1===Ft.x1&&Tt.y0===Ft.y0&&Tt.y1===Ft.y1?{x0:Tt.x0,x1:Tt.x1,y0:Tt.y0,y1:Tt.y1}:{x0:Bt(Tt.x0-Wt)?0:Mt(Tt.x0-Wt)?$t[0]:Tt.x0,x1:Bt(Tt.x1+Wt)?0:Mt(Tt.x1+Wt)?$t[0]:Tt.x1,y0:St(Tt.y0-Wt)?0:Dt(Tt.y0-Wt)?$t[1]:Tt.y0,y1:St(Tt.y1+Wt)?0:Dt(Tt.y1+Wt)?$t[1]:Tt.y1}},nt=null,Y={},Z={},$=null,G=function(Tt,Ft){return Ft?Y[s(Tt)]:Z[s(Tt)]},rt=function(Tt,Ft,$t,Wt){if(Ft)return Y[s(y)]||J;var Bt=Z[p.level]||$t;return O(Tt)?it(Tt,Bt,Wt):{}};c.hasMultipleRoots&&M&&z++,p._maxDepth=z,p._backgroundColor=a.paper_bgcolor,p._entryDepth=A.data.depth,p._atRootLevel=M;var ot=-F/2+D.l+D.w*(P.x[1]+P.x[0])/2,W=-R/2+D.t+D.h*(1-(P.y[1]+P.y[0])/2),H=function(Tt){return ot+Tt},at=function(Tt){return W+Tt},Q=at(0),ct=H(0),ft=function(Tt){return ct+Tt},yt=function(Tt){return Q+Tt};function xt(Tt,Ft){return Tt+","+Ft}var Lt=ft(0),gt=function(Tt){Tt.x=Math.max(Lt,Tt.x)},mt=p.pathbar.edgeshape,vt=function(Tt){var Ft=ft(Math.max(Math.min(Tt.x0,Tt.x0),0)),$t=ft(Math.min(Math.max(Tt.x1,Tt.x1),N)),Wt=yt(Tt.y0),Bt=yt(Tt.y1),Mt=B/2,St={},Dt={};St.x=Ft,Dt.x=$t,St.y=Dt.y=(Wt+Bt)/2;var dt={x:Ft,y:Wt},ht={x:$t,y:Wt},bt={x:$t,y:Bt},zt={x:Ft,y:Bt};return mt===">"?(dt.x-=Mt,ht.x-=Mt,bt.x-=Mt,zt.x-=Mt):mt==="/"?(bt.x-=Mt,zt.x-=Mt,St.x-=Mt/2,Dt.x-=Mt/2):mt==="\\"?(dt.x-=Mt,ht.x-=Mt,St.x-=Mt/2,Dt.x-=Mt/2):mt==="<"&&(St.x-=Mt,Dt.x-=Mt),gt(dt),gt(zt),gt(St),gt(ht),gt(bt),gt(Dt),"M"+xt(dt.x,dt.y)+"L"+xt(ht.x,ht.y)+"L"+xt(Dt.x,Dt.y)+"L"+xt(bt.x,bt.y)+"L"+xt(zt.x,zt.y)+"L"+xt(St.x,St.y)+"Z"},At=p[k?"tiling":"marker"].pad,Ot=function(Tt){return p.textposition.indexOf(Tt)!==-1},Pt=Ot("top"),Et=Ot("left"),Nt=Ot("right"),ne=Ot("bottom"),Gt=function(Tt){var Ft=H(Tt.x0),$t=H(Tt.x1),Wt=at(Tt.y0),Bt=at(Tt.y1),Mt=$t-Ft,St=Bt-Wt;if(!Mt||!St)return"";var Dt=p.marker.cornerradius||0,dt=Math.min(Dt,Mt/2,St/2);dt&&Tt.data&&Tt.data.data&&Tt.data.data.label&&(Pt&&(dt=Math.min(dt,At.t)),Et&&(dt=Math.min(dt,At.l)),Nt&&(dt=Math.min(dt,At.r)),ne&&(dt=Math.min(dt,At.b)));var ht=function(bt,zt){return dt?"a"+xt(dt,dt)+" 0 0 1 "+xt(bt,zt):""};return"M"+xt(Ft,Wt+dt)+ht(dt,-dt)+"L"+xt($t-dt,Wt)+ht(dt,dt)+"L"+xt($t,Bt-dt)+ht(-dt,dt)+"L"+xt(Ft+dt,Bt)+ht(-dt,-dt)+"Z"},pe=function(Tt,Ft){var $t=Tt.x0,Wt=Tt.x1,Bt=Tt.y0,Mt=Tt.y1,St=Tt.textBB,Dt=Pt||Ft.isHeader&&!ne,dt=Dt?"start":ne?"end":"middle",ht=Ot("right"),bt=Ot("left")||Ft.onPathbar,zt=bt?-1:ht?1:0;if(Ft.isHeader){if($t+=(k?At:At.l)-T,Wt-=(k?At:At.r)-T,$t>=Wt){var qt=($t+Wt)/2;$t=qt,Wt=qt}var te;ne?(te=Mt-(k?At:At.b),Bt<te&&te<Mt&&(Bt=te)):(te=Bt+(k?At:At.t),Bt<te&&te<Mt&&(Mt=te))}var re=d($t,Wt,Bt,Mt,St,{isHorizontal:!1,constrained:!0,angle:0,anchor:dt,leftToRight:zt});return re.fontSize=Ft.fontSize,re.targetX=H(re.targetX),re.targetY=at(re.targetY),isNaN(re.targetX)||isNaN(re.targetY)?{}:($t!==Wt&&Bt!==Mt&&e(p.type,re,a),{scale:re.scale,rotate:re.rotate,textX:re.textX,textY:re.textY,anchorX:re.anchorX,anchorY:re.anchorY,targetX:re.targetX,targetY:re.targetY})},Vt=function(Tt,Ft){for(var $t,Wt=0,Bt=Tt;!$t&&Wt<z;)Wt++,Bt=Bt.parent,Bt?$t=G(Bt,Ft):Wt=z;return $t||{}},ae=function(Tt,Ft,$t,Wt){var Bt=G(Tt,Ft),Mt;if(Ft)Mt=J;else{var St=G(A,Ft);St?Mt=it(Tt,St,Wt):Mt={}}return S(Bt,Mt)},oe=function(Tt,Ft,$t,Wt,Bt){var Mt=G(Tt,Ft),St;if(Mt)St=Mt;else if(Ft)St=J;else if(nt)if(Tt.parent){var Dt=$||$t;Dt&&!Ft?St=it(Tt,Dt,Wt):(St={},L.extendFlat(St,Vt(Tt,Ft)))}else St=L.extendFlat({},Tt),k&&(Bt.orientation==="h"?Bt.flipX?St.x0=Tt.x1:St.x1=0:Bt.flipY?St.y0=Tt.y1:St.y1=0);else St={};return S(St,{x0:Tt.x0,x1:Tt.x1,y0:Tt.y0,y1:Tt.y1})},ce=function(Tt,Ft,$t,Wt){var Bt=G(Tt,Ft),Mt={},St=rt(Tt,Ft,$t,Wt);L.extendFlat(Mt,{transform:pe({x0:St.x0,x1:St.x1,y0:St.y0,y1:St.y1,textBB:Tt.textBB,_text:Tt._text},{isHeader:i.isHeader(Tt,p)})}),Bt?Mt=Bt:Tt.parent&&L.extendFlat(Mt,Vt(Tt,Ft));var Dt=Tt.transform;return Tt.x0!==Tt.x1&&Tt.y0!==Tt.y1&&e(p.type,Dt,a),S(Mt,{transform:{scale:Dt.scale,rotate:Dt.rotate,textX:Dt.textX,textY:Dt.textY,anchorX:Dt.anchorX,anchorY:Dt.anchorY,targetX:Dt.targetX,targetY:Dt.targetY}})},le=function(Tt,Ft,$t,Wt,Bt){var Mt=Wt[0],St=Wt[1];w?Tt.exit().transition().each(function(){var Dt=E.select(this),dt=Dt.select("path.surface");dt.transition().attrTween("d",function(bt){var zt=ae(bt,Ft,$t,[Mt,St]);return function(qt){return Bt(zt(qt))}});var ht=Dt.select("g.slicetext");ht.attr("opacity",0)}).remove():Tt.exit().remove()},ye=function(Tt){var Ft=Tt.transform;return Tt.x0!==Tt.x1&&Tt.y0!==Tt.y1&&e(p.type,Ft,a),L.getTextTransform({textX:Ft.textX,textY:Ft.textY,anchorX:Ft.anchorX,anchorY:Ft.anchorY,targetX:Ft.targetX,targetY:Ft.targetY,scale:Ft.scale,rotate:Ft.rotate})};w&&(u.each(function(Tt){Y[s(Tt)]={x0:Tt.x0,x1:Tt.x1,y0:Tt.y0,y1:Tt.y1},Tt.transform&&(Y[s(Tt)].transform={textX:Tt.transform.textX,textY:Tt.transform.textY,anchorX:Tt.transform.anchorX,anchorY:Tt.transform.anchorY,targetX:Tt.transform.targetX,targetY:Tt.transform.targetY,scale:Tt.transform.scale,rotate:Tt.transform.rotate})}),m.each(function(Tt){Z[s(Tt)]={x0:Tt.x0,x1:Tt.x1,y0:Tt.y0,y1:Tt.y1},Tt.transform&&(Z[s(Tt)].transform={textX:Tt.transform.textX,textY:Tt.transform.textY,anchorX:Tt.transform.anchorX,anchorY:Tt.transform.anchorY,targetX:Tt.transform.targetX,targetY:Tt.transform.targetY,scale:Tt.transform.scale,rotate:Tt.transform.rotate}),!nt&&i.isEntry(Tt)&&(nt=Tt)})),$=_(o,f,A,m,{width:F,height:R,viewX:H,viewY:at,pathSlice:Gt,toMoveInsideSlice:pe,prevEntry:nt,makeUpdateSliceInterpolator:oe,makeUpdateTextInterpolator:ce,handleSlicesExit:le,hasTransition:w,strTransform:ye}),p.pathbar.visible?n(o,f,A,u,{barDifY:V,width:N,height:B,viewX:ft,viewY:yt,pathSlice:vt,toMoveInsideSlice:pe,makeUpdateSliceInterpolator:oe,makeUpdateTextInterpolator:ce,handleSlicesExit:le,hasTransition:w,strTransform:ye}):u.remove()}},66192:function(tt,U,t){var E=t(33428),S=t(76308),i=t(3400),L=t(78176),T=t(82744).resizeText,v=t(60404);function d(e){var l=e._fullLayout._treemaplayer.selectAll(".trace");T(e,l,"treemap"),l.each(function(n){var s=E.select(this),o=n[0],f=o.trace;s.style("opacity",f.opacity),s.selectAll("path.surface").each(function(b){E.select(this).call(r,b,f,e,{hovered:!1})})})}function r(e,l,n,s,o){var f=(o||{}).hovered,b=l.data.data,h=b.i,_,a,c=b.color,p=L.isHierarchyRoot(l),x=1;if(f)_=n._hovered.marker.line.color,a=n._hovered.marker.line.width;else if(p&&c===n.root.color)x=100,_="rgba(0,0,0,0)",a=0;else if(_=i.castOption(n,h,"marker.line.color")||S.defaultLine,a=i.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!l.onPathbar){var k=n.marker.depthfade;if(k){var y=S.combine(S.addOpacity(n._backgroundColor,.75),c),A;if(k===!0){var C=L.getMaxDepth(n);isFinite(C)?L.isLeaf(l)?A=0:A=n._maxVisibleLayers-(l.data.depth-n._entryDepth):A=l.data.height+1}else A=l.data.depth-n._entryDepth,n._atRootLevel||A++;if(A>0)for(var u=0;u<A;u++){var m=.5*u/A;c=S.combine(S.addOpacity(y,m),c)}}}e.call(v,l,n,s,c).style("stroke-width",a).call(S.stroke,_).style("opacity",x)}tt.exports={style:d,styleOne:r}},13988:function(tt,U,t){var E=t(63188),S=t(92880).extendFlat,i=t(29736).axisHoverFormat;tt.exports={y:E.y,x:E.x,x0:E.x0,y0:E.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:S({},E.name,{}),orientation:S({},E.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:E.fillcolor,points:S({},E.boxpoints,{}),jitter:S({},E.jitter,{}),pointpos:S({},E.pointpos,{}),width:S({},E.width,{}),marker:E.marker,text:E.text,hovertext:E.hovertext,hovertemplate:E.hovertemplate,quartilemethod:E.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:E.selected,unselected:E.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:E.zorder}},67064:function(tt,U,t){var E=t(3400),S=t(54460),i=t(62555),L=t(63800),T=t(39032).BADNUM;tt.exports=function(e,l){var n=i(e,l);if(n[0].t.empty)return n;for(var s=e._fullLayout,o=S.getFromId(e,l[l.orientation==="h"?"xaxis":"yaxis"]),f=1/0,b=-1/0,h=0,_=0,a=0;a<n.length;a++){var c=n[a],p=c.pts.map(L.extractVal),x=c.bandwidth=d(l,c,p),k=c.span=r(l,c,o,x);if(c.min===c.max&&x===0)k=c.span=[c.min,c.max],c.density=[{v:1,t:k[0]}],c.bandwidth=x,h=Math.max(h,1);else{var y=k[1]-k[0],A=Math.ceil(y/(x/3)),C=y/A;if(!isFinite(C)||!isFinite(A))return E.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var u=L.makeKDE(c,l,p);c.density=new Array(A);for(var m=0,M=k[0];M<k[1]+C/2;m++,M+=C){var w=u(M);c.density[m]={v:w,t:M},h=Math.max(h,w)}}_=Math.max(_,p.length),f=Math.min(f,k[0]),b=Math.max(b,k[1])}var z=S.findExtremes(o,[f,b],{padded:!0});if(l._extremes[o._id]=z,l.width)n[0].t.maxKDE=h;else{var O=s._violinScaleGroupStats,D=l.scalegroup,P=O[D];P?(P.maxKDE=Math.max(P.maxKDE,h),P.maxCount=Math.max(P.maxCount,_)):O[D]={maxKDE:h,maxCount:_}}return n[0].t.labels.kde=E._(e,"kde:"),n};function v(e,l,n){var s=Math.min(l,n/1.349);return 1.059*s*Math.pow(e,-.2)}function d(e,l,n){var s=l.max-l.min;if(!s)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,s/1e4);var o=n.length,f=E.stdev(n,o-1,l.mean);return Math.max(v(o,f,l.q3-l.q1),s/100)}function r(e,l,n,s){var o=e.spanmode,f=e.span||[],b=[l.min,l.max],h=[l.min-2*s,l.max+2*s],_;function a(p){var x=f[p],k=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,e[l.valLetter+"calendar"]);return k===T?h[p]:k}o==="soft"?_=h:o==="hard"?_=b:_=[a(0),a(1)];var c={type:"linear",range:_};return S.setConvert(c),c.cleanRange(),_}},14348:function(tt,U,t){var E=t(96404).setPositionOffset,S=["v","h"];tt.exports=function(i,L){for(var T=i.calcdata,v=L.xaxis,d=L.yaxis,r=0;r<S.length;r++){for(var e=S[r],l=e==="h"?d:v,n=[],s=0;s<T.length;s++){var o=T[s],f=o[0].t,b=o[0].trace;b.visible===!0&&b.type==="violin"&&!f.empty&&b.orientation===e&&b.xaxis===v._id&&b.yaxis===d._id&&n.push(s)}E("violin",i,n,l)}}},36240:function(tt,U,t){var E=t(3400),S=t(76308),i=t(90624),L=t(13988);tt.exports=function(T,v,d,r){function e(C,u){return E.coerce(T,v,L,C,u)}function l(C,u){return E.coerce2(T,v,L,C,u)}if(i.handleSampleDefaults(T,v,e,r),v.visible!==!1){e("bandwidth"),e("side");var n=e("width");n||(e("scalegroup",v.name),e("scalemode"));var s=e("span"),o;Array.isArray(s)&&(o="manual"),e("spanmode",o);var f=e("line.color",(T.marker||{}).color||d),b=e("line.width"),h=e("fillcolor",S.addOpacity(v.line.color,.5));i.handlePointsDefaults(T,v,e,{prefix:""});var _=l("box.width"),a=l("box.fillcolor",h),c=l("box.line.color",f),p=l("box.line.width",b),x=e("box.visible",!!(_||a||c||p));x||(v.box={visible:!1});var k=l("meanline.color",f),y=l("meanline.width",b),A=e("meanline.visible",!!(k||y));A||(v.meanline={visible:!1}),e("quartilemethod"),e("zorder")}}},63800:function(tt,U,t){var E=t(3400),S={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};U.makeKDE=function(i,L,T){var v=T.length,d=S.gaussian,r=i.bandwidth,e=1/(v*r);return function(l){for(var n=0,s=0;s<v;s++)n+=d((l-T[s])/r);return e*n}},U.getPositionOnKdePath=function(i,L,T){var v,d;L.orientation==="h"?(v="y",d="x"):(v="x",d="y");var r=E.findPointOnPath(i.path,T,d,{pathLength:i.pathLength}),e=i.posCenterPx,l=r[v],n=L.side==="both"?2*e-l:e;return[l,n]},U.getKdeValue=function(i,L,T){var v=i.pts.map(U.extractVal),d=U.makeKDE(i,L,v);return d(T)/i.posDensityScale},U.extractVal=function(i){return i.v}},78e3:function(tt,U,t){var E=t(76308),S=t(3400),i=t(54460),L=t(27576),T=t(63800);tt.exports=function(v,d,r,e,l){l||(l={});var n=l.hoverLayer,s=v.cd,o=s[0].trace,f=o.hoveron,b=f.indexOf("violins")!==-1,h=f.indexOf("kde")!==-1,_=[],a,c;if(b||h){var p=L.hoverOnBoxes(v,d,r,e);if(h&&p.length>0){var x=v.xa,k=v.ya,y,A,C,u,m;o.orientation==="h"?(m=d,y="y",C=k,A="x",u=x):(m=r,y="x",C=x,A="y",u=k);var M=s[v.index];if(m>=M.span[0]&&m<=M.span[1]){var w=S.extendFlat({},v),z=u.c2p(m,!0),O=T.getKdeValue(M,o,m),D=T.getPositionOnKdePath(M,o,z),P=C._offset,F=C._length;w[y+"0"]=D[0],w[y+"1"]=D[1],w[A+"0"]=w[A+"1"]=z,w[A+"Label"]=A+": "+i.hoverLabelText(u,m,o[A+"hoverformat"])+", "+s[0].t.labels.kde+" "+O.toFixed(3);for(var R=0,N=0;N<p.length;N++)if(p[N].attr==="med"){R=N;break}w.spikeDistance=p[R].spikeDistance;var B=y+"Spike";w[B]=p[R][B],p[R].spikeDistance=void 0,p[R][B]=void 0,w.hovertemplate=!1,_.push(w),c={},c[y+"1"]=S.constrain(P+D[0],P,P+F),c[y+"2"]=S.constrain(P+D[1],P,P+F),c[A+"1"]=c[A+"2"]=u._offset+z}}b&&(_=_.concat(p))}f.indexOf("points")!==-1&&(a=L.hoverOnPoints(v,d,r));var q=n.selectAll(".violinline-"+o.uid).data(c?[0]:[]);return q.enter().append("line").classed("violinline-"+o.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(c).call(E.stroke,v.color),e==="closest"?a?[a]:_:(a&&_.push(a),_)}},22869:function(tt,U,t){tt.exports={attributes:t(13988),layoutAttributes:t(98228),supplyDefaults:t(36240),crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(8939),calc:t(67064),crossTraceCalc:t(14348),plot:t(5140),style:t(95908),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(78e3),selectPoints:t(8264),moduleType:"trace",name:"violin",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(tt,U,t){var E=t(16560),S=t(3400).extendFlat;tt.exports={violinmode:S({},E.boxmode,{}),violingap:S({},E.boxgap,{}),violingroupgap:S({},E.boxgroupgap,{})}},8939:function(tt,U,t){var E=t(3400),S=t(98228),i=t(68832);tt.exports=function(L,T,v){function d(r,e){return E.coerce(L,T,S,r,e)}i._supply(L,T,v,d,"violin")}},5140:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(18728),T=t(52340),v=t(63800);tt.exports=function(d,r,e,l){var n=d._context.staticPlot,s=d._fullLayout,o=r.xaxis,f=r.yaxis;function b(h,_){var a=T(h,{xaxis:o,yaxis:f,trace:_,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(a[0],1)}S.makeTraceGroups(l,e,"trace violins").each(function(h){var _=E.select(this),a=h[0],c=a.t,p=a.trace;if(p.visible!==!0||c.empty){_.remove();return}var x=c.bPos,k=c.bdPos,y=r[c.valLetter+"axis"],A=r[c.posLetter+"axis"],C=p.side==="both",u=C||p.side==="positive",m=C||p.side==="negative",M=_.selectAll("path.violin").data(S.identity);M.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),M.exit().remove(),M.each(function(N){var B=E.select(this),q=N.density,V=q.length,J=A.c2l(N.pos+x,!0),it=A.l2p(J),nt;if(p.width)nt=c.maxKDE/k;else{var Y=s._violinScaleGroupStats[p.scalegroup];nt=p.scalemode==="count"?Y.maxKDE/k*(Y.maxCount/N.pts.length):Y.maxKDE/k}var Z,$,G,rt,ot,W,H;if(u){for(W=new Array(V),rt=0;rt<V;rt++)H=W[rt]={},H[c.posLetter]=J+q[rt].v/nt,H[c.valLetter]=y.c2l(q[rt].t,!0);Z=b(W,p)}if(m){for(W=new Array(V),ot=0,rt=V-1;ot<V;ot++,rt--)H=W[ot]={},H[c.posLetter]=J-q[rt].v/nt,H[c.valLetter]=y.c2l(q[rt].t,!0);$=b(W,p)}if(C)G=Z+"L"+$.substr(1)+"Z";else{var at=[it,y.c2p(q[0].t)],Q=[it,y.c2p(q[V-1].t)];p.orientation==="h"&&(at.reverse(),Q.reverse()),u?G="M"+at+"L"+Z.substr(1)+"L"+Q:G="M"+Q+"L"+$.substr(1)+"L"+at}B.attr("d",G),N.posCenterPx=it,N.posDensityScale=nt*k,N.path=B.node(),N.pathLength=N.path.getTotalLength()/(C?2:1)});var w=p.box,z=w.width,O=(w.line||{}).width,D,P;C?(D=k*z,P=0):u?(D=[0,k*z/2],P=O*{x:1,y:-1}[c.posLetter]):(D=[k*z/2,0],P=O*{x:-1,y:1}[c.posLetter]),L.plotBoxAndWhiskers(_,{pos:A,val:y},p,{bPos:x,bdPos:D,bPosPxOffset:P}),L.plotBoxMean(_,{pos:A,val:y},p,{bPos:x,bdPos:D,bPosPxOffset:P});var F;!p.box.visible&&p.meanline.visible&&(F=S.identity);var R=_.selectAll("path.meanline").data(F||[]);R.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),R.exit().remove(),R.each(function(N){var B=y.c2p(N.mean,!0),q=v.getPositionOnKdePath(N,p,B);E.select(this).attr("d",p.orientation==="h"?"M"+B+","+q[0]+"V"+q[1]:"M"+q[0]+","+B+"H"+q[1])}),L.plotPoints(_,{x:o,y:f},p,c)})}},95908:function(tt,U,t){var E=t(33428),S=t(76308),i=t(49224).stylePoints;tt.exports=function(L){var T=E.select(L).selectAll("g.trace.violins");T.style("opacity",function(v){return v[0].trace.opacity}),T.each(function(v){var d=v[0].trace,r=E.select(this),e=d.box||{},l=e.line||{},n=d.meanline||{},s=n.width;r.selectAll("path.violin").style("stroke-width",d.line.width+"px").call(S.stroke,d.line.color).call(S.fill,d.fillcolor),r.selectAll("path.box").style("stroke-width",l.width+"px").call(S.stroke,l.color).call(S.fill,e.fillcolor);var o={"stroke-width":s+"px","stroke-dasharray":2*s+"px,"+s+"px"};r.selectAll("path.mean").style(o).call(S.stroke,n.color),r.selectAll("path.meanline").style(o).call(S.stroke,n.color),i(r,d,L)})}},58168:function(tt,U,t){var E=t(49084),S=t(50048),i=t(16716),L=t(45464),T=t(92880).extendFlat,v=t(67824).overrideAll,d=tt.exports=v(T({x:S.x,y:S.y,z:S.z,value:S.value,isomin:S.isomin,isomax:S.isomax,surface:S.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:S.slices,caps:S.caps,text:S.text,hovertext:S.hovertext,xhoverformat:S.xhoverformat,yhoverformat:S.yhoverformat,zhoverformat:S.zhoverformat,valuehoverformat:S.valuehoverformat,hovertemplate:S.hovertemplate},E("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:S.colorbar,opacity:S.opacity,opacityscale:i.opacityscale,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:T({},L.hoverinfo),showlegend:T({},L.showlegend,{dflt:!1})}),"calc","nested");d.x.editType=d.y.editType=d.z.editType=d.value.editType="calc+clearAxisTypes",d.transforms=void 0},91976:function(tt,U,t){var E=t(67792).gl_mesh3d,S=t(33040).parseColorScale,i=t(3400).isArrayOrTypedArray,L=t(43080),T=t(8932).extractOpts,v=t(52094),d=t(31460).findNearestOnAxis,r=t(31460).generateIsoMeshes;function e(s,o,f){this.scene=s,this.uid=f,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var l=e.prototype;l.handlePick=function(s){if(s.object===this.mesh){var o=s.data.index,f=this.data._meshX[o],b=this.data._meshY[o],h=this.data._meshZ[o],_=this.data._Ys.length,a=this.data._Zs.length,c=d(f,this.data._Xs).id,p=d(b,this.data._Ys).id,x=d(h,this.data._Zs).id,k=s.index=x+a*p+a*_*c;s.traceCoordinate=[this.data._meshX[k],this.data._meshY[k],this.data._meshZ[k],this.data._value[k]];var y=this.data.hovertext||this.data.text;return i(y)&&y[k]!==void 0?s.textLabel=y[k]:y&&(s.textLabel=y),!0}},l.update=function(s){var o=this.scene,f=o.fullSceneLayout;this.data=r(s);function b(p,x,k,y){return x.map(function(A){return p.d2l(A,0,y)*k})}var h=v(b(f.xaxis,s._meshX,o.dataScale[0],s.xcalendar),b(f.yaxis,s._meshY,o.dataScale[1],s.ycalendar),b(f.zaxis,s._meshZ,o.dataScale[2],s.zcalendar)),_=v(s._meshI,s._meshJ,s._meshK),a={positions:h,cells:_,lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,opacityscale:s.opacityscale,contourEnable:s.contour.show,contourColor:L(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},c=T(s);a.vertexIntensity=s._meshIntensity,a.vertexIntensityBounds=[c.min,c.max],a.colormap=S(s),this.mesh.update(a)},l.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(s,o){var f=s.glplot.gl,b=E({gl:f}),h=new e(s,b,o.uid);return b._trace=h,h.update(o),s.glplot.add(b),h}tt.exports=n},12448:function(tt,U,t){var E=t(3400),S=t(58168),i=t(70548).supplyIsoDefaults,L=t(60192).opacityscaleDefaults;tt.exports=function(T,v,d,r){function e(l,n){return E.coerce(T,v,S,l,n)}i(T,v,d,r,e),L(T,v,r,e)}},67776:function(tt,U,t){tt.exports={attributes:t(58168),supplyDefaults:t(12448),calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(91976),moduleType:"trace",name:"volume",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(tt,U,t){var E=t(20832),S=t(52904).line,i=t(45464),L=t(29736).axisHoverFormat,T=t(21776).Ks,v=t(21776).Gw,d=t(10213),r=t(92880).extendFlat,e=t(76308);function l(n){return{marker:{color:r({},E.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},E.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},E.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}tt.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:E.hovertext,hovertemplate:T({},{keys:d.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label"])}),text:E.text,textposition:E.textposition,insidetextanchor:E.insidetextanchor,textangle:E.textangle,textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:E.orientation,offset:E.offset,width:E.width,increasing:l(),decreasing:l(),totals:l(),connector:{line:{color:r({},S.color,{dflt:e.defaultLine}),width:r({},S.width,{editType:"plot"}),dash:S.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,zorder:E.zorder}},73540:function(tt,U,t){var E=t(54460),S=t(1220),i=t(3400).mergeArray,L=t(4500),T=t(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function d(r){return r==="t"||r==="total"}tt.exports=function(r,e){var l=E.getFromId(r,e.xaxis||"x"),n=E.getFromId(r,e.yaxis||"y"),s,o,f,b,h,_;e.orientation==="h"?(s=l.makeCalcdata(e,"x"),f=n.makeCalcdata(e,"y"),b=S(e,n,"y",f),h=!!e.yperiodalignment,_="y"):(s=n.makeCalcdata(e,"y"),f=l.makeCalcdata(e,"x"),b=S(e,l,"x",f),h=!!e.xperiodalignment,_="x"),o=b.vals;for(var a=Math.min(o.length,s.length),c=new Array(a),p=0,x,k=!1,y=0;y<a;y++){var A=s[y]||0,C=!1;(s[y]!==T||d(e.measure[y])||v(e.measure[y]))&&y+1<a&&(s[y+1]!==T||d(e.measure[y+1])||v(e.measure[y+1]))&&(C=!0);var u=c[y]={i:y,p:o[y],s:A,rawS:A,cNext:C};v(e.measure[y])?(p=u.s,u.isSum=!0,u.dir="totals",u.s=p):d(e.measure[y])?(u.isSum=!0,u.dir="totals",u.s=p):(u.isSum=!1,u.dir=u.rawS<0?"decreasing":"increasing",x=u.s,u.s=p+x,p+=x),u.dir==="totals"&&(k=!0),h&&(c[y].orig_p=f[y],c[y][_+"End"]=b.ends[y],c[y][_+"Start"]=b.starts[y]),e.ids&&(u.id=String(e.ids[y])),u.v=(e.base||0)+p}return c.length&&(c[0].hasTotals=k),i(e.text,c,"tx"),i(e.hovertext,c,"htx"),L(c,e),c}},10213:function(tt){tt.exports={eventDataKeys:["initial","delta","final"]}},50152:function(tt,U,t){var E=t(96376).setGroupPositions;tt.exports=function(S,i){var L=S._fullLayout,T=S._fullData,v=S.calcdata,d=i.xaxis,r=i.yaxis,e=[],l=[],n=[],s,o;for(o=0;o<T.length;o++){var f=T[o];f.visible===!0&&f.xaxis===d._id&&f.yaxis===r._id&&f.type==="waterfall"&&(s=v[o],f.orientation==="h"?n.push(s):l.push(s),e.push(s))}var b={mode:L.waterfallmode,norm:L.waterfallnorm,gap:L.waterfallgap,groupgap:L.waterfallgroupgap};for(E(S,d,r,l,b),E(S,r,d,n,b),o=0;o<e.length;o++){s=e[o];for(var h=0;h<s.length;h++){var _=s[h];_.isSum===!1&&(_.s0+=h===0?0:s[h-1].s),h+1<s.length&&(s[h].nextP0=s[h+1].p0,s[h].nextS0=s[h+1].s0)}}}},24224:function(tt,U,t){var E=t(3400),S=t(20011),i=t(31508).handleText,L=t(43980),T=t(31147),v=t(65776),d=t(76308),r=t(48164),e=r.INCREASING.COLOR,l=r.DECREASING.COLOR,n="#4499FF";function s(b,h,_){b(h+".marker.color",_),b(h+".marker.line.color",d.defaultLine),b(h+".marker.line.width")}function o(b,h,_,a){function c(A,C){return E.coerce(b,h,v,A,C)}var p=L(b,h,a,c);if(!p){h.visible=!1;return}T(b,h,a,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",h.x&&!h.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");i(b,h,a,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(c("texttemplate"),h.texttemplate||c("textinfo")),s(c,"increasing",e),s(c,"decreasing",l),s(c,"totals",n);var k=c("connector.visible");if(k){c("connector.mode");var y=c("connector.line.width");y&&(c("connector.line.color"),c("connector.line.dash"))}c("zorder")}function f(b,h){var _,a;function c(x){return E.coerce(a._input,a,v,x)}if(h.waterfallmode==="group")for(var p=0;p<b.length;p++)a=b[p],_=a._input,S(_,a,h,c)}tt.exports={supplyDefaults:o,crossTraceDefaults:f}},53256:function(tt){tt.exports=function(U,t){return U.x="xVal"in t?t.xVal:t.x,U.y="yVal"in t?t.yVal:t.y,"initial"in t&&(U.initial=t.initial),"delta"in t&&(U.delta=t.delta),"final"in t&&(U.final=t.final),t.xa&&(U.xaxis=t.xa),t.ya&&(U.yaxis=t.ya),U}},94196:function(tt,U,t){var E=t(54460).hoverLabelText,S=t(76308).opacity,i=t(63400).hoverOnBars,L=t(48164),T={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};tt.exports=function(d,r,e,l,n){var s=i(d,r,e,l,n);if(!s)return;var o=s.cd,f=o[0].trace,b=f.orientation==="h",h=b?"x":"y",_=b?d.xa:d.ya;function a(M){return E(_,M,f[h+"hoverformat"])}var c=s.index,p=o[c],x=p.isSum?p.b+p.s:p.rawS;s.initial=p.b+p.s-x,s.delta=x,s.final=s.initial+s.delta;var k=a(Math.abs(s.delta));s.deltaLabel=x<0?"("+k+")":k,s.finalLabel=a(s.final),s.initialLabel=a(s.initial);var y=p.hi||f.hoverinfo,A=[];if(y&&y!=="none"&&y!=="skip"){var C=y==="all",u=y.split("+"),m=function(M){return C||u.indexOf(M)!==-1};p.isSum||(m("final")&&(b?!m("x"):!m("y"))&&A.push(s.finalLabel),m("delta")&&(x<0?A.push(s.deltaLabel+" "+T.decreasing):A.push(s.deltaLabel+" "+T.increasing)),m("initial")&&A.push("Initial: "+s.initialLabel))}return A.length&&(s.extraText=A.join("<br>")),s.color=v(f,p),[s]};function v(d,r){var e=d[r.dir].marker,l=e.color,n=e.line.color,s=e.line.width;if(S(l))return l;if(S(n)&&s)return n}},95952:function(tt,U,t){tt.exports={attributes:t(65776),layoutAttributes:t(91352),supplyDefaults:t(24224).supplyDefaults,crossTraceDefaults:t(24224).crossTraceDefaults,supplyLayoutDefaults:t(59464),calc:t(73540),crossTraceCalc:t(50152),plot:t(64488),style:t(12252).style,hoverPoints:t(94196),eventData:t(53256),selectPoints:t(45784),moduleType:"trace",name:"waterfall",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(tt){tt.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(tt,U,t){var E=t(3400),S=t(91352);tt.exports=function(i,L,T){var v=!1;function d(l,n){return E.coerce(i,L,S,l,n)}for(var r=0;r<T.length;r++){var e=T[r];if(e.visible&&e.type==="waterfall"){v=!0;break}}v&&(d("waterfallmode"),d("waterfallgap",.2),d("waterfallgroupgap"))}},64488:function(tt,U,t){var E=t(33428),S=t(3400),i=t(43616),L=t(39032).BADNUM,T=t(98184),v=t(82744).clearMinTextSize;tt.exports=function(e,l,n,s){var o=e._fullLayout;v("waterfall",o),T.plot(e,l,n,s,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),d(e,l,n,s)};function d(e,l,n,s){var o=l.xaxis,f=l.yaxis;S.makeTraceGroups(s,n,"trace bars").each(function(b){var h=E.select(this),_=b[0].trace,a=S.ensureSingle(h,"g","lines");if(!_.connector||!_.connector.visible){a.remove();return}var c=_.orientation==="h",p=_.connector.mode,x=a.selectAll("g.line").data(S.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var k=x.size();x.each(function(y,A){if(!(A!==k-1&&!y.cNext)){var C=r(y,o,f,c),u=C[0],m=C[1],M="";u[0]!==L&&m[0]!==L&&u[1]!==L&&m[1]!==L&&(p==="spanning"&&!y.isSum&&A>0&&(c?M+="M"+u[0]+","+m[1]+"V"+m[0]:M+="M"+u[1]+","+m[0]+"H"+u[0]),p!=="between"&&(y.isSum||A<k-1)&&(c?M+="M"+u[1]+","+m[0]+"V"+m[1]:M+="M"+u[0]+","+m[1]+"H"+u[1]),u[2]!==L&&m[2]!==L&&(c?M+="M"+u[1]+","+m[1]+"V"+m[2]:M+="M"+u[1]+","+m[1]+"H"+u[2])),M===""&&(M="M0,0Z"),S.ensureSingle(E.select(this),"path").attr("d",M).call(i.setClipUrl,l.layerClipId,e)}})})}function r(e,l,n,s){var o=[],f=[],b=s?l:n,h=s?n:l;return o[0]=b.c2p(e.s0,!0),f[0]=h.c2p(e.p0,!0),o[1]=b.c2p(e.s1,!0),f[1]=h.c2p(e.p1,!0),o[2]=b.c2p(e.nextS0,!0),f[2]=h.c2p(e.nextP0,!0),s?[o,f]:[f,o]}},12252:function(tt,U,t){var E=t(33428),S=t(43616),i=t(76308),L=t(13448).DESELECTDIM,T=t(60100),v=t(82744).resizeText,d=T.styleTextPoints;function r(e,l,n){var s=n||E.select(e).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(e,s,"waterfall"),s.style("opacity",function(o){return o[0].trace.opacity}),s.each(function(o){var f=E.select(this),b=o[0].trace;f.selectAll(".point > path").each(function(h){if(!h.isBlank){var _=b[h.dir].marker;E.select(this).call(i.fill,_.color).call(i.stroke,_.line.color).call(S.dashLine,_.line.dash,_.line.width).style("opacity",b.selectedpoints&&!h.selected?L:1)}}),d(f,b,e),f.selectAll(".lines").each(function(){var h=b.connector.line;S.lineGroupStyle(E.select(this).selectAll("path"),h.width,h.color,h.dash)})})}tt.exports={style:r}},84224:function(tt,U,t){var E=t(54460),S=t(3400),i=t(73060),L=t(60468).W,T=t(39032).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=v.aggregations;U.supplyDefaults=function(o,f){var b={},h;function _(w,z){return S.coerce(o,b,v,w,z)}var a=_("enabled");if(!a)return b;var c=i.findArrayAttributes(f),p={};for(h=0;h<c.length;h++)p[c[h]]=1;var x=_("groups");if(!Array.isArray(x)){if(!p[x])return b.enabled=!1,b;p[x]=0}var k=o.aggregations||[],y=b.aggregations=new Array(k.length),A;function C(w,z){return S.coerce(k[h],A,d,w,z)}for(h=0;h<k.length;h++){A={_index:h};var u=C("target"),m=C("func"),M=C("enabled");M&&u&&(p[u]||m==="count"&&p[u]===void 0)?(m==="stddev"&&C("funcmode"),p[u]=0,y[h]=A):y[h]={enabled:!1,_index:h}}for(h=0;h<c.length;h++)p[c[h]]&&y.push({target:c[h],func:d.func.dflt,enabled:!0,_index:-1});return b},U.calcTransform=function(o,f,b){if(b.enabled){var h=b.groups,_=S.getTargetArray(f,{target:h});if(_){var a,c,p,x,k={},y={},A=[],C=L(f.transforms,b),u=_.length;for(f._length&&(u=Math.min(u,f._length)),a=0;a<u;a++)c=_[a],p=k[c],p===void 0?(k[c]=A.length,x=[a],A.push(x),y[k[c]]=C(a)):(A[p].push(a),y[k[c]]=(y[k[c]]||[]).concat(C(a)));b._indexToPoints=y;var m=b.aggregations;for(a=0;a<m.length;a++)r(o,f,A,m[a]);typeof h=="string"&&r(o,f,A,{target:h,func:"first",enabled:!0}),f._length=A.length}}};function r(o,f,b,h){if(h.enabled){for(var _=h.target,a=S.nestedProperty(f,_),c=a.get(),p=E.getDataConversions(o,f,_,c),x=e(h,p),k=new Array(b.length),y=0;y<b.length;y++)k[y]=x(c,b[y]);a.set(k),h.func==="count"&&S.pushUnique(f._arrayAttrs,_)}}function e(o,f){var b=o.func,h=f.d2c,_=f.c2d;switch(b){case"count":return l;case"first":return n;case"last":return s;case"sum":return function(a,c){for(var p=0,x=0;x<c.length;x++){var k=h(a[c[x]]);k!==T&&(p+=k)}return _(p)};case"avg":return function(a,c){for(var p=0,x=0,k=0;k<c.length;k++){var y=h(a[c[k]]);y!==T&&(p+=y,x++)}return x?_(p/x):T};case"min":return function(a,c){for(var p=1/0,x=0;x<c.length;x++){var k=h(a[c[x]]);k!==T&&(p=Math.min(p,k))}return p===1/0?T:_(p)};case"max":return function(a,c){for(var p=-1/0,x=0;x<c.length;x++){var k=h(a[c[x]]);k!==T&&(p=Math.max(p,k))}return p===-1/0?T:_(p)};case"range":return function(a,c){for(var p=1/0,x=-1/0,k=0;k<c.length;k++){var y=h(a[c[k]]);y!==T&&(p=Math.min(p,y),x=Math.max(x,y))}return x===-1/0||p===1/0?T:_(x-p)};case"change":return function(a,c){var p=h(a[c[0]]),x=h(a[c[c.length-1]]);return p===T||x===T?T:_(x-p)};case"median":return function(a,c){for(var p=[],x=0;x<c.length;x++){var k=h(a[c[x]]);k!==T&&p.push(k)}if(!p.length)return T;p.sort(S.sorterAsc);var y=(p.length-1)/2;return _((p[Math.floor(y)]+p[Math.ceil(y)])/2)};case"mode":return function(a,c){for(var p={},x=0,k=T,y=0;y<c.length;y++){var A=h(a[c[y]]);if(A!==T){var C=p[A]=(p[A]||0)+1;C>x&&(x=C,k=A)}}return x?_(k):T};case"rms":return function(a,c){for(var p=0,x=0,k=0;k<c.length;k++){var y=h(a[c[k]]);y!==T&&(p+=y*y,x++)}return x?_(Math.sqrt(p/x)):T};case"stddev":return function(a,c){var p=0,x=0,k=1,y=T,A;for(A=0;A<c.length&&y===T;A++)y=h(a[c[A]]);if(y===T)return T;for(;A<c.length;A++){var C=h(a[c[A]]);if(C!==T){var u=C-y;p+=u,x+=u*u,k++}}var m=o.funcmode==="sample"?k-1:k;return m?Math.sqrt((x-p*p/k)/m):0}}}function l(o,f){return f.length}function n(o,f){return o[f[0]]}function s(o,f){return o[f[f.length-1]]}},76744:function(tt,U,t){var E=t(3400),S=t(24040),i=t(54460),L=t(60468).W,T=t(69104),v=T.COMPARISON_OPS,d=T.INTERVAL_OPS,r=T.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(d).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(l){var n={};function s(h,_){return E.coerce(l,n,U.attributes,h,_)}var o=s("enabled");if(o){var f=s("target");if(E.isArrayOrTypedArray(f)&&f.length===0)return n.enabled=!1,n;s("preservegaps"),s("operation"),s("value");var b=S.getComponentMethod("calendars","handleDefaults");b(l,n,"valuecalendar",null),b(l,n,"targetcalendar",null)}return n},U.calcTransform=function(l,n,s){if(!s.enabled)return;var o=E.getTargetArray(n,s);if(!o)return;var f=s.target,b=o.length;n._length&&(b=Math.min(b,n._length));var h=s.targetcalendar,_=n._arrayAttrs,a=s.preservegaps;if(typeof f=="string"){var c=E.nestedProperty(n,f+"calendar").get();c&&(h=c)}var p=i.getDataToCoordFunc(l,n,f,o),x=e(s,p,h),k={},y={},A=0;function C(O,D){for(var P=0;P<_.length;P++){var F=E.nestedProperty(n,_[P]);O(F,D)}}var u,m;a?(u=function(O){k[O.astr]=E.extendDeep([],O.get()),O.set(new Array(b))},m=function(O,D){var P=k[O.astr][D];O.get()[D]=P}):(u=function(O){k[O.astr]=E.extendDeep([],O.get()),O.set([])},m=function(O,D){var P=k[O.astr][D];O.get().push(P)}),C(u);for(var M=L(n.transforms,s),w=0;w<b;w++){var z=x(o[w]);z?(C(m,w),y[A++]=M(w)):a&&A++}s._indexToPoints=y,n._length=A};function e(l,n,s){var o=l.operation,f=l.value,b=E.isArrayOrTypedArray(f);function h(p){return p.indexOf(o)!==-1}var _=function(p){return n(p,0,l.valuecalendar)},a=function(p){return n(p,0,s)},c;switch(h(v)?c=_(b?f[0]:f):h(d)?c=b?[_(f[0]),_(f[1])]:[_(f),_(f)]:h(r)&&(c=b?f.map(_):[_(f)]),o){case"=":return function(p){return a(p)===c};case"!=":return function(p){return a(p)!==c};case"<":return function(p){return a(p)<c};case"<=":return function(p){return a(p)<=c};case">":return function(p){return a(p)>c};case">=":return function(p){return a(p)>=c};case"[]":return function(p){var x=a(p);return x>=c[0]&&x<=c[1]};case"()":return function(p){var x=a(p);return x>c[0]&&x<c[1]};case"[)":return function(p){var x=a(p);return x>=c[0]&&x<c[1]};case"(]":return function(p){var x=a(p);return x>c[0]&&x<=c[1]};case"][":return function(p){var x=a(p);return x<=c[0]||x>=c[1]};case")(":return function(p){var x=a(p);return x<c[0]||x>c[1]};case"](":return function(p){var x=a(p);return x<=c[0]||x>c[1]};case")[":return function(p){var x=a(p);return x<c[0]||x>=c[1]};case"{}":return function(p){return c.indexOf(a(p))!==-1};case"}{":return function(p){return c.indexOf(a(p))===-1}}}},32028:function(tt,U,t){var E=t(3400),S=t(73060),i=t(7316),L=t(60468).W;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,d,r){var e,l={};function n(_,a){return E.coerce(v,l,U.attributes,_,a)}var s=n("enabled");if(!s)return l;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var o=v.styles,f=l.styles=[];if(o)for(e=0;e<o.length;e++){var b=f[e]={};E.coerce(o[e],f[e],U.attributes.styles,"target");var h=E.coerce(o[e],f[e],U.attributes.styles,"value");E.isPlainObject(h)?b.value=E.extendDeep({},h):h&&delete b.value}return l},U.transform=function(v,d){var r,e,l,n=[];for(e=0;e<v.length;e++)for(r=T(v[e],d),l=0;l<r.length;l++)n.push(r[l]);return n};function T(v,d){var r,e,l,n,s,o,f,b,h,_,a=d.transform,c=d.transformIndex,p=v.transforms[c].groups,x=L(v.transforms,a);if(!E.isArrayOrTypedArray(p)||p.length===0)return[v];var k=E.filterUnique(p),y=new Array(k.length),A=p.length,C=S.findArrayAttributes(v),u=a.styles||[],m={};for(r=0;r<u.length;r++)m[u[r].target]=u[r].value;a.styles&&(_=E.keyedContainer(a,"styles","target","value.name"));var M={},w={};for(r=0;r<k.length;r++){o=k[r],M[o]=r,w[o]=0,f=y[r]=E.extendDeepNoArrays({},v),f._group=o,f.transforms[c]._indexToPoints={};var z=null;for(_&&(z=_.get(o)),z||z===""?f.name=z:f.name=E.templateString(a.nameformat,{trace:v.name,group:o}),b=f.transforms,f.transforms=[],e=0;e<b.length;e++)f.transforms[e]=E.extendDeepNoArrays({},b[e]);for(e=0;e<C.length;e++)E.nestedProperty(f,C[e]).set([])}for(l=0;l<C.length;l++){for(n=C[l],e=0,h=[];e<k.length;e++)h[e]=E.nestedProperty(y[e],n).get();for(s=E.nestedProperty(v,n).get(),e=0;e<A;e++)h[M[p[e]]].push(s[e])}for(e=0;e<A;e++){f=y[M[p[e]]];var O=f.transforms[c]._indexToPoints;O[w[p[e]]]=x(e),w[p[e]]++}for(r=0;r<k.length;r++)o=k[r],f=y[r],i.clearExpandedTraceDefaultColors(f),f=E.extendDeepNoArrays(f,m[o]||{});return y}},60468:function(tt,U){U.W=function(t,E){for(var S,i,L=0;L<t.length&&(S=t[L],S!==E);L++)!S._indexToPoints||S.enabled===!1||(i=S._indexToPoints);var T=i?function(v){return i[v]}:function(v){return[v]};return T}},76272:function(tt,U,t){var E=t(3400),S=t(54460),i=t(60468).W,L=t(39032).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(d){var r={};function e(n,s){return E.coerce(d,r,U.attributes,n,s)}var l=e("enabled");return l&&(e("target"),e("order")),r},U.calcTransform=function(d,r,e){if(e.enabled){var l=E.getTargetArray(r,e);if(l){var n=e.target,s=l.length;r._length&&(s=Math.min(s,r._length));var o=r._arrayAttrs,f=S.getDataToCoordFunc(d,r,n,l),b=T(e,l,f,s),h=i(r.transforms,e),_={},a,c;for(a=0;a<o.length;a++){var p=E.nestedProperty(r,o[a]),x=p.get(),k=new Array(s);for(c=0;c<s;c++)k[c]=x[b[c]];p.set(k)}for(c=0;c<s;c++)_[c]=h(b[c]);e._indexToPoints=_,r._length=s}}};function T(d,r,e,l){var n=new Array(l),s=new Array(l),o;for(o=0;o<l;o++)n[o]={v:r[o],i:o};for(n.sort(v(d,e)),o=0;o<l;o++)s[o]=n[o].i;return s}function v(d,r){switch(d.order){case"ascending":return function(e,l){var n=r(e.v),s=r(l.v);return n===L?1:s===L?-1:n-s};case"descending":return function(e,l){var n=r(e.v),s=r(l.v);return n===L?1:s===L?-1:s-n}}}},25788:function(tt,U){U.version="2.32.0"},67792:function(tt,U,t){var E=t(4168);(function(){var S={1964:function(v,d,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,d,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function e(dt,ht){if(!(dt instanceof ht))throw new TypeError("Cannot call a class as a function")}function l(dt,ht){for(var bt=0;bt<ht.length;bt++){var zt=ht[bt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty(dt,s(zt.key),zt)}}function n(dt,ht,bt){return ht&&l(dt.prototype,ht),bt&&l(dt,bt),Object.defineProperty(dt,"prototype",{writable:!1}),dt}function s(dt){var ht=o(dt,"string");return x(ht)=="symbol"?ht:ht+""}function o(dt,ht){if(x(dt)!="object"||!dt)return dt;var bt=dt[Symbol.toPrimitive];if(bt!==void 0){var zt=bt.call(dt,ht||"default");if(x(zt)!="object")return zt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(dt)}function f(dt,ht,bt){return ht=a(ht),b(dt,_()?Reflect.construct(ht,bt||[],a(dt).constructor):ht.apply(dt,bt))}function b(dt,ht){if(ht&&(x(ht)==="object"||typeof ht=="function"))return ht;if(ht!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(dt)}function h(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}function _(){try{var dt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!dt})()}function a(dt){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},a(dt)}function c(dt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),Object.defineProperty(dt,"prototype",{writable:!1}),ht&&p(dt,ht)}function p(dt,ht){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(bt,zt){return bt.__proto__=zt,bt},p(dt,ht)}function x(dt){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},x(dt)}var k=r(7507),y=r(3778),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.hp=M,d.IS=50;var C=2147483647;M.TYPED_ARRAY_SUPPORT=u(),!M.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var dt=new Uint8Array(1),ht={foo:function(){return 42}};return Object.setPrototypeOf(ht,Uint8Array.prototype),Object.setPrototypeOf(dt,ht),dt.foo()===42}catch{return!1}}Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}});function m(dt){if(dt>C)throw new RangeError('The value "'+dt+'" is invalid for option "size"');var ht=new Uint8Array(dt);return Object.setPrototypeOf(ht,M.prototype),ht}function M(dt,ht,bt){if(typeof dt=="number"){if(typeof ht=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return D(dt)}return w(dt,ht,bt)}M.poolSize=8192;function w(dt,ht,bt){if(typeof dt=="string")return P(dt,ht);if(ArrayBuffer.isView(dt))return R(dt);if(dt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(dt));if(Wt(dt,ArrayBuffer)||dt&&Wt(dt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Wt(dt,SharedArrayBuffer)||dt&&Wt(dt.buffer,SharedArrayBuffer)))return N(dt,ht,bt);if(typeof dt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var zt=dt.valueOf&&dt.valueOf();if(zt!=null&&zt!==dt)return M.from(zt,ht,bt);var qt=B(dt);if(qt)return qt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof dt[Symbol.toPrimitive]=="function")return M.from(dt[Symbol.toPrimitive]("string"),ht,bt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(dt))}M.from=function(dt,ht,bt){return w(dt,ht,bt)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array);function z(dt){if(typeof dt!="number")throw new TypeError('"size" argument must be of type number');if(dt<0)throw new RangeError('The value "'+dt+'" is invalid for option "size"')}function O(dt,ht,bt){return z(dt),dt<=0?m(dt):ht!==void 0?typeof bt=="string"?m(dt).fill(ht,bt):m(dt).fill(ht):m(dt)}M.alloc=function(dt,ht,bt){return O(dt,ht,bt)};function D(dt){return z(dt),m(dt<0?0:q(dt)|0)}M.allocUnsafe=function(dt){return D(dt)},M.allocUnsafeSlow=function(dt){return D(dt)};function P(dt,ht){if((typeof ht!="string"||ht==="")&&(ht="utf8"),!M.isEncoding(ht))throw new TypeError("Unknown encoding: "+ht);var bt=V(dt,ht)|0,zt=m(bt),qt=zt.write(dt,ht);return qt!==bt&&(zt=zt.slice(0,qt)),zt}function F(dt){for(var ht=dt.length<0?0:q(dt.length)|0,bt=m(ht),zt=0;zt<ht;zt+=1)bt[zt]=dt[zt]&255;return bt}function R(dt){if(Wt(dt,Uint8Array)){var ht=new Uint8Array(dt);return N(ht.buffer,ht.byteOffset,ht.byteLength)}return F(dt)}function N(dt,ht,bt){if(ht<0||dt.byteLength<ht)throw new RangeError('"offset" is outside of buffer bounds');if(dt.byteLength<ht+(bt||0))throw new RangeError('"length" is outside of buffer bounds');var zt;return ht===void 0&&bt===void 0?zt=new Uint8Array(dt):bt===void 0?zt=new Uint8Array(dt,ht):zt=new Uint8Array(dt,ht,bt),Object.setPrototypeOf(zt,M.prototype),zt}function B(dt){if(M.isBuffer(dt)){var ht=q(dt.length)|0,bt=m(ht);return bt.length===0||dt.copy(bt,0,0,ht),bt}if(dt.length!==void 0)return typeof dt.length!="number"||Bt(dt.length)?m(0):F(dt);if(dt.type==="Buffer"&&Array.isArray(dt.data))return F(dt.data)}function q(dt){if(dt>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return dt|0}M.isBuffer=function(dt){return dt!=null&&dt._isBuffer===!0&&dt!==M.prototype},M.compare=function(dt,ht){if(Wt(dt,Uint8Array)&&(dt=M.from(dt,dt.offset,dt.byteLength)),Wt(ht,Uint8Array)&&(ht=M.from(ht,ht.offset,ht.byteLength)),!M.isBuffer(dt)||!M.isBuffer(ht))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(dt===ht)return 0;for(var bt=dt.length,zt=ht.length,qt=0,te=Math.min(bt,zt);qt<te;++qt)if(dt[qt]!==ht[qt]){bt=dt[qt],zt=ht[qt];break}return bt<zt?-1:zt<bt?1:0},M.isEncoding=function(dt){switch(String(dt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(dt,ht){if(!Array.isArray(dt))throw new TypeError('"list" argument must be an Array of Buffers');if(dt.length===0)return M.alloc(0);var bt;if(ht===void 0)for(ht=0,bt=0;bt<dt.length;++bt)ht+=dt[bt].length;var zt=M.allocUnsafe(ht),qt=0;for(bt=0;bt<dt.length;++bt){var te=dt[bt];if(Wt(te,Uint8Array))qt+te.length>zt.length?(M.isBuffer(te)||(te=M.from(te)),te.copy(zt,qt)):Uint8Array.prototype.set.call(zt,te,qt);else if(M.isBuffer(te))te.copy(zt,qt);else throw new TypeError('"list" argument must be an Array of Buffers');qt+=te.length}return zt};function V(dt,ht){if(M.isBuffer(dt))return dt.length;if(ArrayBuffer.isView(dt)||Wt(dt,ArrayBuffer))return dt.byteLength;if(typeof dt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(dt));var bt=dt.length,zt=arguments.length>2&&arguments[2]===!0;if(!zt&&bt===0)return 0;for(var qt=!1;;)switch(ht){case"ascii":case"latin1":case"binary":return bt;case"utf8":case"utf-8":return le(dt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt*2;case"hex":return bt>>>1;case"base64":return Ft(dt).length;default:if(qt)return zt?-1:le(dt).length;ht=(""+ht).toLowerCase(),qt=!0}}M.byteLength=V;function J(dt,ht,bt){var zt=!1;if((ht===void 0||ht<0)&&(ht=0),ht>this.length||((bt===void 0||bt>this.length)&&(bt=this.length),bt<=0)||(bt>>>=0,ht>>>=0,bt<=ht))return"";for(dt||(dt="utf8");;)switch(dt){case"hex":return yt(this,ht,bt);case"utf8":case"utf-8":return H(this,ht,bt);case"ascii":return ct(this,ht,bt);case"latin1":case"binary":return ft(this,ht,bt);case"base64":return W(this,ht,bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,ht,bt);default:if(zt)throw new TypeError("Unknown encoding: "+dt);dt=(dt+"").toLowerCase(),zt=!0}}M.prototype._isBuffer=!0;function it(dt,ht,bt){var zt=dt[ht];dt[ht]=dt[bt],dt[bt]=zt}M.prototype.swap16=function(){var dt=this.length;if(dt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ht=0;ht<dt;ht+=2)it(this,ht,ht+1);return this},M.prototype.swap32=function(){var dt=this.length;if(dt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ht=0;ht<dt;ht+=4)it(this,ht,ht+3),it(this,ht+1,ht+2);return this},M.prototype.swap64=function(){var dt=this.length;if(dt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ht=0;ht<dt;ht+=8)it(this,ht,ht+7),it(this,ht+1,ht+6),it(this,ht+2,ht+5),it(this,ht+3,ht+4);return this},M.prototype.toString=function(){var dt=this.length;return dt===0?"":arguments.length===0?H(this,0,dt):J.apply(this,arguments)},M.prototype.toLocaleString=M.prototype.toString,M.prototype.equals=function(dt){if(!M.isBuffer(dt))throw new TypeError("Argument must be a Buffer");return this===dt?!0:M.compare(this,dt)===0},M.prototype.inspect=function(){var dt="",ht=d.IS;return dt=this.toString("hex",0,ht).replace(/(.{2})/g,"$1 ").trim(),this.length>ht&&(dt+=" ... "),"<Buffer "+dt+">"},A&&(M.prototype[A]=M.prototype.inspect),M.prototype.compare=function(dt,ht,bt,zt,qt){if(Wt(dt,Uint8Array)&&(dt=M.from(dt,dt.offset,dt.byteLength)),!M.isBuffer(dt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(dt));if(ht===void 0&&(ht=0),bt===void 0&&(bt=dt?dt.length:0),zt===void 0&&(zt=0),qt===void 0&&(qt=this.length),ht<0||bt>dt.length||zt<0||qt>this.length)throw new RangeError("out of range index");if(zt>=qt&&ht>=bt)return 0;if(zt>=qt)return-1;if(ht>=bt)return 1;if(ht>>>=0,bt>>>=0,zt>>>=0,qt>>>=0,this===dt)return 0;for(var te=qt-zt,re=bt-ht,Ye=Math.min(te,re),Be=this.slice(zt,qt),ge=dt.slice(ht,bt),be=0;be<Ye;++be)if(Be[be]!==ge[be]){te=Be[be],re=ge[be];break}return te<re?-1:re<te?1:0};function nt(dt,ht,bt,zt,qt){if(dt.length===0)return-1;if(typeof bt=="string"?(zt=bt,bt=0):bt>2147483647?bt=2147483647:bt<-2147483648&&(bt=-2147483648),bt=+bt,Bt(bt)&&(bt=qt?0:dt.length-1),bt<0&&(bt=dt.length+bt),bt>=dt.length){if(qt)return-1;bt=dt.length-1}else if(bt<0)if(qt)bt=0;else return-1;if(typeof ht=="string"&&(ht=M.from(ht,zt)),M.isBuffer(ht))return ht.length===0?-1:Y(dt,ht,bt,zt,qt);if(typeof ht=="number")return ht=ht&255,typeof Uint8Array.prototype.indexOf=="function"?qt?Uint8Array.prototype.indexOf.call(dt,ht,bt):Uint8Array.prototype.lastIndexOf.call(dt,ht,bt):Y(dt,[ht],bt,zt,qt);throw new TypeError("val must be string, number or Buffer")}function Y(dt,ht,bt,zt,qt){var te=1,re=dt.length,Ye=ht.length;if(zt!==void 0&&(zt=String(zt).toLowerCase(),zt==="ucs2"||zt==="ucs-2"||zt==="utf16le"||zt==="utf-16le")){if(dt.length<2||ht.length<2)return-1;te=2,re/=2,Ye/=2,bt/=2}function Be(fe,De){return te===1?fe[De]:fe.readUInt16BE(De*te)}var ge;if(qt){var be=-1;for(ge=bt;ge<re;ge++)if(Be(dt,ge)===Be(ht,be===-1?0:ge-be)){if(be===-1&&(be=ge),ge-be+1===Ye)return be*te}else be!==-1&&(ge-=ge-be),be=-1}else for(bt+Ye>re&&(bt=re-Ye),ge=bt;ge>=0;ge--){for(var Ne=!0,pr=0;pr<Ye;pr++)if(Be(dt,ge+pr)!==Be(ht,pr)){Ne=!1;break}if(Ne)return ge}return-1}M.prototype.includes=function(dt,ht,bt){return this.indexOf(dt,ht,bt)!==-1},M.prototype.indexOf=function(dt,ht,bt){return nt(this,dt,ht,bt,!0)},M.prototype.lastIndexOf=function(dt,ht,bt){return nt(this,dt,ht,bt,!1)};function Z(dt,ht,bt,zt){bt=Number(bt)||0;var qt=dt.length-bt;zt?(zt=Number(zt),zt>qt&&(zt=qt)):zt=qt;var te=ht.length;zt>te/2&&(zt=te/2);var re;for(re=0;re<zt;++re){var Ye=parseInt(ht.substr(re*2,2),16);if(Bt(Ye))return re;dt[bt+re]=Ye}return re}function $(dt,ht,bt,zt){return $t(le(ht,dt.length-bt),dt,bt,zt)}function G(dt,ht,bt,zt){return $t(ye(ht),dt,bt,zt)}function rt(dt,ht,bt,zt){return $t(Ft(ht),dt,bt,zt)}function ot(dt,ht,bt,zt){return $t(Tt(ht,dt.length-bt),dt,bt,zt)}M.prototype.write=function(dt,ht,bt,zt){if(ht===void 0)zt="utf8",bt=this.length,ht=0;else if(bt===void 0&&typeof ht=="string")zt=ht,bt=this.length,ht=0;else if(isFinite(ht))ht=ht>>>0,isFinite(bt)?(bt=bt>>>0,zt===void 0&&(zt="utf8")):(zt=bt,bt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var qt=this.length-ht;if((bt===void 0||bt>qt)&&(bt=qt),dt.length>0&&(bt<0||ht<0)||ht>this.length)throw new RangeError("Attempt to write outside buffer bounds");zt||(zt="utf8");for(var te=!1;;)switch(zt){case"hex":return Z(this,dt,ht,bt);case"utf8":case"utf-8":return $(this,dt,ht,bt);case"ascii":case"latin1":case"binary":return G(this,dt,ht,bt);case"base64":return rt(this,dt,ht,bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,dt,ht,bt);default:if(te)throw new TypeError("Unknown encoding: "+zt);zt=(""+zt).toLowerCase(),te=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(dt,ht,bt){return ht===0&&bt===dt.length?k.fromByteArray(dt):k.fromByteArray(dt.slice(ht,bt))}function H(dt,ht,bt){bt=Math.min(dt.length,bt);for(var zt=[],qt=ht;qt<bt;){var te=dt[qt],re=null,Ye=te>239?4:te>223?3:te>191?2:1;if(qt+Ye<=bt){var Be=void 0,ge=void 0,be=void 0,Ne=void 0;switch(Ye){case 1:te<128&&(re=te);break;case 2:Be=dt[qt+1],(Be&192)===128&&(Ne=(te&31)<<6|Be&63,Ne>127&&(re=Ne));break;case 3:Be=dt[qt+1],ge=dt[qt+2],(Be&192)===128&&(ge&192)===128&&(Ne=(te&15)<<12|(Be&63)<<6|ge&63,Ne>2047&&(Ne<55296||Ne>57343)&&(re=Ne));break;case 4:Be=dt[qt+1],ge=dt[qt+2],be=dt[qt+3],(Be&192)===128&&(ge&192)===128&&(be&192)===128&&(Ne=(te&15)<<18|(Be&63)<<12|(ge&63)<<6|be&63,Ne>65535&&Ne<1114112&&(re=Ne))}}re===null?(re=65533,Ye=1):re>65535&&(re-=65536,zt.push(re>>>10&1023|55296),re=56320|re&1023),zt.push(re),qt+=Ye}return Q(zt)}var at=4096;function Q(dt){var ht=dt.length;if(ht<=at)return String.fromCharCode.apply(String,dt);for(var bt="",zt=0;zt<ht;)bt+=String.fromCharCode.apply(String,dt.slice(zt,zt+=at));return bt}function ct(dt,ht,bt){var zt="";bt=Math.min(dt.length,bt);for(var qt=ht;qt<bt;++qt)zt+=String.fromCharCode(dt[qt]&127);return zt}function ft(dt,ht,bt){var zt="";bt=Math.min(dt.length,bt);for(var qt=ht;qt<bt;++qt)zt+=String.fromCharCode(dt[qt]);return zt}function yt(dt,ht,bt){var zt=dt.length;(!ht||ht<0)&&(ht=0),(!bt||bt<0||bt>zt)&&(bt=zt);for(var qt="",te=ht;te<bt;++te)qt+=Mt[dt[te]];return qt}function xt(dt,ht,bt){for(var zt=dt.slice(ht,bt),qt="",te=0;te<zt.length-1;te+=2)qt+=String.fromCharCode(zt[te]+zt[te+1]*256);return qt}M.prototype.slice=function(dt,ht){var bt=this.length;dt=~~dt,ht=ht===void 0?bt:~~ht,dt<0?(dt+=bt,dt<0&&(dt=0)):dt>bt&&(dt=bt),ht<0?(ht+=bt,ht<0&&(ht=0)):ht>bt&&(ht=bt),ht<dt&&(ht=dt);var zt=this.subarray(dt,ht);return Object.setPrototypeOf(zt,M.prototype),zt};function Lt(dt,ht,bt){if(dt%1!==0||dt<0)throw new RangeError("offset is not uint");if(dt+ht>bt)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUintLE=M.prototype.readUIntLE=function(dt,ht,bt){dt=dt>>>0,ht=ht>>>0,bt||Lt(dt,ht,this.length);for(var zt=this[dt],qt=1,te=0;++te<ht&&(qt*=256);)zt+=this[dt+te]*qt;return zt},M.prototype.readUintBE=M.prototype.readUIntBE=function(dt,ht,bt){dt=dt>>>0,ht=ht>>>0,bt||Lt(dt,ht,this.length);for(var zt=this[dt+--ht],qt=1;ht>0&&(qt*=256);)zt+=this[dt+--ht]*qt;return zt},M.prototype.readUint8=M.prototype.readUInt8=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,1,this.length),this[dt]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,2,this.length),this[dt]|this[dt+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,2,this.length),this[dt]<<8|this[dt+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,4,this.length),(this[dt]|this[dt+1]<<8|this[dt+2]<<16)+this[dt+3]*16777216},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,4,this.length),this[dt]*16777216+(this[dt+1]<<16|this[dt+2]<<8|this[dt+3])},M.prototype.readBigUInt64LE=St(function(dt){dt=dt>>>0,Vt(dt,"offset");var ht=this[dt],bt=this[dt+7];(ht===void 0||bt===void 0)&&ae(dt,this.length-8);var zt=ht+this[++dt]*Math.pow(2,8)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,24),qt=this[++dt]+this[++dt]*Math.pow(2,8)+this[++dt]*Math.pow(2,16)+bt*Math.pow(2,24);return BigInt(zt)+(BigInt(qt)<<BigInt(32))}),M.prototype.readBigUInt64BE=St(function(dt){dt=dt>>>0,Vt(dt,"offset");var ht=this[dt],bt=this[dt+7];(ht===void 0||bt===void 0)&&ae(dt,this.length-8);var zt=ht*Math.pow(2,24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+this[++dt],qt=this[++dt]*Math.pow(2,24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+bt;return(BigInt(zt)<<BigInt(32))+BigInt(qt)}),M.prototype.readIntLE=function(dt,ht,bt){dt=dt>>>0,ht=ht>>>0,bt||Lt(dt,ht,this.length);for(var zt=this[dt],qt=1,te=0;++te<ht&&(qt*=256);)zt+=this[dt+te]*qt;return qt*=128,zt>=qt&&(zt-=Math.pow(2,8*ht)),zt},M.prototype.readIntBE=function(dt,ht,bt){dt=dt>>>0,ht=ht>>>0,bt||Lt(dt,ht,this.length);for(var zt=ht,qt=1,te=this[dt+--zt];zt>0&&(qt*=256);)te+=this[dt+--zt]*qt;return qt*=128,te>=qt&&(te-=Math.pow(2,8*ht)),te},M.prototype.readInt8=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,1,this.length),this[dt]&128?(255-this[dt]+1)*-1:this[dt]},M.prototype.readInt16LE=function(dt,ht){dt=dt>>>0,ht||Lt(dt,2,this.length);var bt=this[dt]|this[dt+1]<<8;return bt&32768?bt|4294901760:bt},M.prototype.readInt16BE=function(dt,ht){dt=dt>>>0,ht||Lt(dt,2,this.length);var bt=this[dt+1]|this[dt]<<8;return bt&32768?bt|4294901760:bt},M.prototype.readInt32LE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,4,this.length),this[dt]|this[dt+1]<<8|this[dt+2]<<16|this[dt+3]<<24},M.prototype.readInt32BE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,4,this.length),this[dt]<<24|this[dt+1]<<16|this[dt+2]<<8|this[dt+3]},M.prototype.readBigInt64LE=St(function(dt){dt=dt>>>0,Vt(dt,"offset");var ht=this[dt],bt=this[dt+7];(ht===void 0||bt===void 0)&&ae(dt,this.length-8);var zt=this[dt+4]+this[dt+5]*Math.pow(2,8)+this[dt+6]*Math.pow(2,16)+(bt<<24);return(BigInt(zt)<<BigInt(32))+BigInt(ht+this[++dt]*Math.pow(2,8)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,24))}),M.prototype.readBigInt64BE=St(function(dt){dt=dt>>>0,Vt(dt,"offset");var ht=this[dt],bt=this[dt+7];(ht===void 0||bt===void 0)&&ae(dt,this.length-8);var zt=(ht<<24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+this[++dt];return(BigInt(zt)<<BigInt(32))+BigInt(this[++dt]*Math.pow(2,24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+bt)}),M.prototype.readFloatLE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,4,this.length),y.read(this,dt,!0,23,4)},M.prototype.readFloatBE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,4,this.length),y.read(this,dt,!1,23,4)},M.prototype.readDoubleLE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,8,this.length),y.read(this,dt,!0,52,8)},M.prototype.readDoubleBE=function(dt,ht){return dt=dt>>>0,ht||Lt(dt,8,this.length),y.read(this,dt,!1,52,8)};function gt(dt,ht,bt,zt,qt,te){if(!M.isBuffer(dt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ht>qt||ht<te)throw new RangeError('"value" argument is out of bounds');if(bt+zt>dt.length)throw new RangeError("Index out of range")}M.prototype.writeUintLE=M.prototype.writeUIntLE=function(dt,ht,bt,zt){if(dt=+dt,ht=ht>>>0,bt=bt>>>0,!zt){var qt=Math.pow(2,8*bt)-1;gt(this,dt,ht,bt,qt,0)}var te=1,re=0;for(this[ht]=dt&255;++re<bt&&(te*=256);)this[ht+re]=dt/te&255;return ht+bt},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(dt,ht,bt,zt){if(dt=+dt,ht=ht>>>0,bt=bt>>>0,!zt){var qt=Math.pow(2,8*bt)-1;gt(this,dt,ht,bt,qt,0)}var te=bt-1,re=1;for(this[ht+te]=dt&255;--te>=0&&(re*=256);)this[ht+te]=dt/re&255;return ht+bt},M.prototype.writeUint8=M.prototype.writeUInt8=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,1,255,0),this[ht]=dt&255,ht+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,2,65535,0),this[ht]=dt&255,this[ht+1]=dt>>>8,ht+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,2,65535,0),this[ht]=dt>>>8,this[ht+1]=dt&255,ht+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,4,4294967295,0),this[ht+3]=dt>>>24,this[ht+2]=dt>>>16,this[ht+1]=dt>>>8,this[ht]=dt&255,ht+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,4,4294967295,0),this[ht]=dt>>>24,this[ht+1]=dt>>>16,this[ht+2]=dt>>>8,this[ht+3]=dt&255,ht+4};function mt(dt,ht,bt,zt,qt){pe(ht,zt,qt,dt,bt,7);var te=Number(ht&BigInt(4294967295));dt[bt++]=te,te=te>>8,dt[bt++]=te,te=te>>8,dt[bt++]=te,te=te>>8,dt[bt++]=te;var re=Number(ht>>BigInt(32)&BigInt(4294967295));return dt[bt++]=re,re=re>>8,dt[bt++]=re,re=re>>8,dt[bt++]=re,re=re>>8,dt[bt++]=re,bt}function vt(dt,ht,bt,zt,qt){pe(ht,zt,qt,dt,bt,7);var te=Number(ht&BigInt(4294967295));dt[bt+7]=te,te=te>>8,dt[bt+6]=te,te=te>>8,dt[bt+5]=te,te=te>>8,dt[bt+4]=te;var re=Number(ht>>BigInt(32)&BigInt(4294967295));return dt[bt+3]=re,re=re>>8,dt[bt+2]=re,re=re>>8,dt[bt+1]=re,re=re>>8,dt[bt]=re,bt+8}M.prototype.writeBigUInt64LE=St(function(dt){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return mt(this,dt,ht,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=St(function(dt){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return vt(this,dt,ht,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(dt,ht,bt,zt){if(dt=+dt,ht=ht>>>0,!zt){var qt=Math.pow(2,8*bt-1);gt(this,dt,ht,bt,qt-1,-qt)}var te=0,re=1,Ye=0;for(this[ht]=dt&255;++te<bt&&(re*=256);)dt<0&&Ye===0&&this[ht+te-1]!==0&&(Ye=1),this[ht+te]=(dt/re>>0)-Ye&255;return ht+bt},M.prototype.writeIntBE=function(dt,ht,bt,zt){if(dt=+dt,ht=ht>>>0,!zt){var qt=Math.pow(2,8*bt-1);gt(this,dt,ht,bt,qt-1,-qt)}var te=bt-1,re=1,Ye=0;for(this[ht+te]=dt&255;--te>=0&&(re*=256);)dt<0&&Ye===0&&this[ht+te+1]!==0&&(Ye=1),this[ht+te]=(dt/re>>0)-Ye&255;return ht+bt},M.prototype.writeInt8=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,1,127,-128),dt<0&&(dt=255+dt+1),this[ht]=dt&255,ht+1},M.prototype.writeInt16LE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,2,32767,-32768),this[ht]=dt&255,this[ht+1]=dt>>>8,ht+2},M.prototype.writeInt16BE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,2,32767,-32768),this[ht]=dt>>>8,this[ht+1]=dt&255,ht+2},M.prototype.writeInt32LE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,4,2147483647,-2147483648),this[ht]=dt&255,this[ht+1]=dt>>>8,this[ht+2]=dt>>>16,this[ht+3]=dt>>>24,ht+4},M.prototype.writeInt32BE=function(dt,ht,bt){return dt=+dt,ht=ht>>>0,bt||gt(this,dt,ht,4,2147483647,-2147483648),dt<0&&(dt=4294967295+dt+1),this[ht]=dt>>>24,this[ht+1]=dt>>>16,this[ht+2]=dt>>>8,this[ht+3]=dt&255,ht+4},M.prototype.writeBigInt64LE=St(function(dt){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return mt(this,dt,ht,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=St(function(dt){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return vt(this,dt,ht,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function At(dt,ht,bt,zt,qt,te){if(bt+zt>dt.length)throw new RangeError("Index out of range");if(bt<0)throw new RangeError("Index out of range")}function Ot(dt,ht,bt,zt,qt){return ht=+ht,bt=bt>>>0,qt||At(dt,ht,bt,4),y.write(dt,ht,bt,zt,23,4),bt+4}M.prototype.writeFloatLE=function(dt,ht,bt){return Ot(this,dt,ht,!0,bt)},M.prototype.writeFloatBE=function(dt,ht,bt){return Ot(this,dt,ht,!1,bt)};function Pt(dt,ht,bt,zt,qt){return ht=+ht,bt=bt>>>0,qt||At(dt,ht,bt,8),y.write(dt,ht,bt,zt,52,8),bt+8}M.prototype.writeDoubleLE=function(dt,ht,bt){return Pt(this,dt,ht,!0,bt)},M.prototype.writeDoubleBE=function(dt,ht,bt){return Pt(this,dt,ht,!1,bt)},M.prototype.copy=function(dt,ht,bt,zt){if(!M.isBuffer(dt))throw new TypeError("argument should be a Buffer");if(bt||(bt=0),!zt&&zt!==0&&(zt=this.length),ht>=dt.length&&(ht=dt.length),ht||(ht=0),zt>0&&zt<bt&&(zt=bt),zt===bt||dt.length===0||this.length===0)return 0;if(ht<0)throw new RangeError("targetStart out of bounds");if(bt<0||bt>=this.length)throw new RangeError("Index out of range");if(zt<0)throw new RangeError("sourceEnd out of bounds");zt>this.length&&(zt=this.length),dt.length-ht<zt-bt&&(zt=dt.length-ht+bt);var qt=zt-bt;return this===dt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ht,bt,zt):Uint8Array.prototype.set.call(dt,this.subarray(bt,zt),ht),qt},M.prototype.fill=function(dt,ht,bt,zt){if(typeof dt=="string"){if(typeof ht=="string"?(zt=ht,ht=0,bt=this.length):typeof bt=="string"&&(zt=bt,bt=this.length),zt!==void 0&&typeof zt!="string")throw new TypeError("encoding must be a string");if(typeof zt=="string"&&!M.isEncoding(zt))throw new TypeError("Unknown encoding: "+zt);if(dt.length===1){var qt=dt.charCodeAt(0);(zt==="utf8"&&qt<128||zt==="latin1")&&(dt=qt)}}else typeof dt=="number"?dt=dt&255:typeof dt=="boolean"&&(dt=Number(dt));if(ht<0||this.length<ht||this.length<bt)throw new RangeError("Out of range index");if(bt<=ht)return this;ht=ht>>>0,bt=bt===void 0?this.length:bt>>>0,dt||(dt=0);var te;if(typeof dt=="number")for(te=ht;te<bt;++te)this[te]=dt;else{var re=M.isBuffer(dt)?dt:M.from(dt,zt),Ye=re.length;if(Ye===0)throw new TypeError('The value "'+dt+'" is invalid for argument "value"');for(te=0;te<bt-ht;++te)this[te+ht]=re[te%Ye]}return this};var Et={};function Nt(dt,ht,bt){Et[dt]=function(zt){function qt(){var te;return e(this,qt),te=f(this,qt),Object.defineProperty(te,"message",{value:ht.apply(te,arguments),writable:!0,configurable:!0}),te.name="".concat(te.name," [").concat(dt,"]"),te.stack,delete te.name,te}return c(qt,zt),n(qt,[{key:"code",get:function(){return dt},set:function(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(dt,"]: ").concat(this.message)}}])}(bt)}Nt("ERR_BUFFER_OUT_OF_BOUNDS",function(dt){return dt?"".concat(dt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Nt("ERR_INVALID_ARG_TYPE",function(dt,ht){return'The "'.concat(dt,'" argument must be of type number. Received type ').concat(x(ht))},TypeError),Nt("ERR_OUT_OF_RANGE",function(dt,ht,bt){var zt='The value of "'.concat(dt,'" is out of range.'),qt=bt;return Number.isInteger(bt)&&Math.abs(bt)>Math.pow(2,32)?qt=ne(String(bt)):typeof bt=="bigint"&&(qt=String(bt),(bt>Math.pow(BigInt(2),BigInt(32))||bt<-Math.pow(BigInt(2),BigInt(32)))&&(qt=ne(qt)),qt+="n"),zt+=" It must be ".concat(ht,". Received ").concat(qt),zt},RangeError);function ne(dt){for(var ht="",bt=dt.length,zt=dt[0]==="-"?1:0;bt>=zt+4;bt-=3)ht="_".concat(dt.slice(bt-3,bt)).concat(ht);return"".concat(dt.slice(0,bt)).concat(ht)}function Gt(dt,ht,bt){Vt(ht,"offset"),(dt[ht]===void 0||dt[ht+bt]===void 0)&&ae(ht,dt.length-(bt+1))}function pe(dt,ht,bt,zt,qt,te){if(dt>bt||dt<ht){var re=typeof ht=="bigint"?"n":"",Ye;throw te>3?ht===0||ht===BigInt(0)?Ye=">= 0".concat(re," and < 2").concat(re," ** ").concat((te+1)*8).concat(re):Ye=">= -(2".concat(re," ** ").concat((te+1)*8-1).concat(re,") and < 2 ** ")+"".concat((te+1)*8-1).concat(re):Ye=">= ".concat(ht).concat(re," and <= ").concat(bt).concat(re),new Et.ERR_OUT_OF_RANGE("value",Ye,dt)}Gt(zt,qt,te)}function Vt(dt,ht){if(typeof dt!="number")throw new Et.ERR_INVALID_ARG_TYPE(ht,"number",dt)}function ae(dt,ht,bt){throw Math.floor(dt)!==dt?(Vt(dt,bt),new Et.ERR_OUT_OF_RANGE(bt||"offset","an integer",dt)):ht<0?new Et.ERR_BUFFER_OUT_OF_BOUNDS:new Et.ERR_OUT_OF_RANGE(bt||"offset",">= ".concat(bt?1:0," and <= ").concat(ht),dt)}var oe=/[^+/0-9A-Za-z-_]/g;function ce(dt){if(dt=dt.split("=")[0],dt=dt.trim().replace(oe,""),dt.length<2)return"";for(;dt.length%4!==0;)dt=dt+"=";return dt}function le(dt,ht){ht=ht||1/0;for(var bt,zt=dt.length,qt=null,te=[],re=0;re<zt;++re){if(bt=dt.charCodeAt(re),bt>55295&&bt<57344){if(!qt){if(bt>56319){(ht-=3)>-1&&te.push(239,191,189);continue}else if(re+1===zt){(ht-=3)>-1&&te.push(239,191,189);continue}qt=bt;continue}if(bt<56320){(ht-=3)>-1&&te.push(239,191,189),qt=bt;continue}bt=(qt-55296<<10|bt-56320)+65536}else qt&&(ht-=3)>-1&&te.push(239,191,189);if(qt=null,bt<128){if((ht-=1)<0)break;te.push(bt)}else if(bt<2048){if((ht-=2)<0)break;te.push(bt>>6|192,bt&63|128)}else if(bt<65536){if((ht-=3)<0)break;te.push(bt>>12|224,bt>>6&63|128,bt&63|128)}else if(bt<1114112){if((ht-=4)<0)break;te.push(bt>>18|240,bt>>12&63|128,bt>>6&63|128,bt&63|128)}else throw new Error("Invalid code point")}return te}function ye(dt){for(var ht=[],bt=0;bt<dt.length;++bt)ht.push(dt.charCodeAt(bt)&255);return ht}function Tt(dt,ht){for(var bt,zt,qt,te=[],re=0;re<dt.length&&!((ht-=2)<0);++re)bt=dt.charCodeAt(re),zt=bt>>8,qt=bt%256,te.push(qt),te.push(zt);return te}function Ft(dt){return k.toByteArray(ce(dt))}function $t(dt,ht,bt,zt){var qt;for(qt=0;qt<zt&&!(qt+bt>=ht.length||qt>=dt.length);++qt)ht[qt+bt]=dt[qt];return qt}function Wt(dt,ht){return dt instanceof ht||dt!=null&&dt.constructor!=null&&dt.constructor.name!=null&&dt.constructor.name===ht.name}function Bt(dt){return dt!==dt}var Mt=function(){for(var dt="0123456789abcdef",ht=new Array(256),bt=0;bt<16;++bt)for(var zt=bt*16,qt=0;qt<16;++qt)ht[zt+qt]=dt[bt]+dt[qt];return ht}();function St(dt){return typeof BigInt>"u"?Dt:dt}function Dt(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=l,v.exports.isMobile=l,v.exports.default=l;var d=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,e=/android|ipad|playbook|silk/i;function l(n){n||(n={});var s=n.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;var o=d.test(s)&&!r.test(s)||!!n.tablet&&e.test(s);return!o&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(o=!0),o}},6296:function(v,d,r){v.exports=f;var e=r(7261),l=r(9977),n=r(4192);function s(b,h){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(_){return b[_]}),this._mode=h,this._active=b[h],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=s.prototype;o.flush=function(b){for(var h=this._controllerList,_=0;_<h.length;++_)h[_].flush(b)},o.idle=function(b){for(var h=this._controllerList,_=0;_<h.length;++_)h[_].idle(b)},o.lookAt=function(b,h,_,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].lookAt(b,h,_,a)},o.rotate=function(b,h,_,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].rotate(b,h,_,a)},o.pan=function(b,h,_,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].pan(b,h,_,a)},o.translate=function(b,h,_,a){for(var c=this._controllerList,p=0;p<c.length;++p)c[p].translate(b,h,_,a)},o.setMatrix=function(b,h){for(var _=this._controllerList,a=0;a<_.length;++a)_[a].setMatrix(b,h)},o.setDistanceLimits=function(b,h){for(var _=this._controllerList,a=0;a<_.length;++a)_[a].setDistanceLimits(b,h)},o.setDistance=function(b,h){for(var _=this._controllerList,a=0;a<_.length;++a)_[a].setDistance(b,h)},o.recalcMatrix=function(b){this._active.recalcMatrix(b)},o.getDistance=function(b){return this._active.getDistance(b)},o.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},o.lastT=function(){return this._active.lastT()},o.setMode=function(b){if(b!==this._mode){var h=this._controllerNames.indexOf(b);if(!(h<0)){var _=this._active,a=this._controllerList[h],c=Math.max(_.lastT(),a.lastT());_.recalcMatrix(c),a.setMatrix(c,_.computedMatrix),this._active=a,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode};function f(b){b=b||{};var h=b.eye||[0,0,1],_=b.center||[0,0,0],a=b.up||[0,1,0],c=b.distanceLimits||[0,1/0],p=b.mode||"turntable",x=e(),k=l(),y=n();return x.setDistanceLimits(c[0],c[1]),x.lookAt(0,h,_,a),k.setDistanceLimits(c[0],c[1]),k.lookAt(0,h,_,a),y.setDistanceLimits(c[0],c[1]),y.lookAt(0,h,_,a),new s({turntable:x,orbit:k,matrix:y},p)}},7169:function(v,d,r){var e=typeof WeakMap>"u"?r(1538):WeakMap,l=r(2762),n=r(8116),s=new e;function o(f){var b=s.get(f),h=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!h||!f.isBuffer(h)){var _=l(f,new Float32Array([-1,-1,-1,4,4,-1]));b=n(f,[{buffer:_,type:f.FLOAT,size:2}]),b._triangleBuffer=_,s.set(f,b)}b.bind(),f.drawArrays(f.TRIANGLES,0,3),b.unbind()}v.exports=o},1085:function(v,d,r){var e=r(1371);v.exports=l;function l(n,s,o){s=typeof s=="number"?s:1,o=o||": ";var f=n.split(/\r?\n/),b=String(f.length+s-1).length;return f.map(function(h,_){var a=_+s,c=String(a).length,p=e(a,b-c);return p+o+h}).join(`
`)}},3952:function(v,d,r){v.exports=n;var e=r(3250);function l(s,o){for(var f=new Array(o+1),b=0;b<s.length;++b)f[b]=s[b];for(var b=0;b<=s.length;++b){for(var h=s.length;h<=o;++h){for(var _=new Array(o),a=0;a<o;++a)_[a]=Math.pow(h+1-b,a);f[h]=_}var c=e.apply(void 0,f);if(c)return!0}return!1}function n(s){var o=s.length;if(o===0)return[];if(o===1)return[0];for(var f=s[0].length,b=[s[0]],h=[0],_=1;_<o;++_){if(b.push(s[_]),!l(b,f)){b.pop();continue}if(h.push(_),h.length===f+1)return h}return h}},5995:function(v,d,r){v.exports=n;var e=r(7642),l=r(6037);function n(s,o){return e(o).filter(function(f){for(var b=new Array(f.length),h=0;h<f.length;++h)b[h]=o[f[h]];return l(b)*s<1})}},3502:function(v,d,r){v.exports=n;var e=r(5995),l=r(9127);function n(s,o){return l(e(s,o))}},6468:function(v){v.exports=function(d){return atob(d)}},2642:function(v,d,r){v.exports=n;var e=r(727);function l(s){for(var o=0,f=0;f<s.length;++f)o+=s[f];return o}function n(s,o){for(var f=o.length,b=new Array(f+1),h=0;h<f;++h){for(var _=new Array(f+1),a=0;a<=f;++a)_[a]=s[a][h];b[h]=_}b[f]=new Array(f+1);for(var h=0;h<=f;++h)b[f][h]=1;for(var c=new Array(f+1),h=0;h<f;++h)c[h]=o[h];c[f]=1;var p=e(b,c),x=l(p[f+1]);x===0&&(x=1);for(var k=new Array(f+1),h=0;h<=f;++h)k[h]=l(p[h])/x;return k}},7507:function(v,d){d.byteLength=b,d.toByteArray=_,d.fromByteArray=p;for(var r=[],e=[],l=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=n.length;s<o;++s)r[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function f(x){var k=x.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=x.indexOf("=");y===-1&&(y=k);var A=y===k?0:4-y%4;return[y,A]}function b(x){var k=f(x),y=k[0],A=k[1];return(y+A)*3/4-A}function h(x,k,y){return(k+y)*3/4-y}function _(x){var k,y=f(x),A=y[0],C=y[1],u=new l(h(x,A,C)),m=0,M=C>0?A-4:A,w;for(w=0;w<M;w+=4)k=e[x.charCodeAt(w)]<<18|e[x.charCodeAt(w+1)]<<12|e[x.charCodeAt(w+2)]<<6|e[x.charCodeAt(w+3)],u[m++]=k>>16&255,u[m++]=k>>8&255,u[m++]=k&255;return C===2&&(k=e[x.charCodeAt(w)]<<2|e[x.charCodeAt(w+1)]>>4,u[m++]=k&255),C===1&&(k=e[x.charCodeAt(w)]<<10|e[x.charCodeAt(w+1)]<<4|e[x.charCodeAt(w+2)]>>2,u[m++]=k>>8&255,u[m++]=k&255),u}function a(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function c(x,k,y){for(var A,C=[],u=k;u<y;u+=3)A=(x[u]<<16&16711680)+(x[u+1]<<8&65280)+(x[u+2]&255),C.push(a(A));return C.join("")}function p(x){for(var k,y=x.length,A=y%3,C=[],u=16383,m=0,M=y-A;m<M;m+=u)C.push(c(x,m,m+u>M?M:m+u));return A===1?(k=x[y-1],C.push(r[k>>2]+r[k<<4&63]+"==")):A===2&&(k=(x[y-2]<<8)+x[y-1],C.push(r[k>>10]+r[k>>4&63]+r[k<<2&63]+"=")),C.join("")}},3865:function(v,d,r){var e=r(869);v.exports=l;function l(n,s){return e(n[0].mul(s[1]).add(s[0].mul(n[1])),n[1].mul(s[1]))}},1318:function(v){v.exports=d;function d(r,e){return r[0].mul(e[1]).cmp(e[0].mul(r[1]))}},8697:function(v,d,r){var e=r(869);v.exports=l;function l(n,s){return e(n[0].mul(s[1]),n[1].mul(s[0]))}},7842:function(v,d,r){var e=r(6330),l=r(1533),n=r(2651),s=r(4387),o=r(869),f=r(8697);v.exports=b;function b(h,_){if(e(h))return _?f(h,b(_)):[h[0].clone(),h[1].clone()];var a=0,c,p;if(l(h))c=h.clone();else if(typeof h=="string")c=s(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))c=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),a-=256;c=n(h)}}if(e(_))c.mul(_[1]),p=_[0].clone();else if(l(_))p=_.clone();else if(typeof _=="string")p=s(_);else if(!_)p=n(1);else if(_===Math.floor(_))p=n(_);else{for(;_!==Math.floor(_);)_=_*Math.pow(2,256),a+=256;p=n(_)}return a>0?c=c.ushln(a):a<0&&(p=p.ushln(-a)),o(c,p)}},6330:function(v,d,r){var e=r(1533);v.exports=l;function l(n){return Array.isArray(n)&&n.length===2&&e(n[0])&&e(n[1])}},5716:function(v,d,r){var e=r(6859);v.exports=l;function l(n){return n.cmp(new e(0))}},1369:function(v,d,r){var e=r(5716);v.exports=l;function l(n){var s=n.length,o=n.words,f=0;if(s===1)f=o[0];else if(s===2)f=o[0]+o[1]*67108864;else for(var b=0;b<s;b++){var h=o[b];f+=h*Math.pow(67108864,b)}return e(n)*f}},4025:function(v,d,r){var e=r(2361),l=r(8828).countTrailingZeros;v.exports=n;function n(s){var o=l(e.lo(s));if(o<32)return o;var f=l(e.hi(s));return f>20?52:f+32}},1533:function(v,d,r){r(6859),v.exports=e;function e(l){return l&&typeof l=="object"&&!!l.words}},2651:function(v,d,r){var e=r(6859),l=r(2361);v.exports=n;function n(s){var o=l.exponent(s);return o<52?new e(s):new e(s*Math.pow(2,52-o)).ushln(o-52)}},869:function(v,d,r){var e=r(2651),l=r(5716);v.exports=n;function n(s,o){var f=l(s),b=l(o);if(f===0)return[e(0),e(1)];if(b===0)return[e(0),e(0)];b<0&&(s=s.neg(),o=o.neg());var h=s.gcd(o);return h.cmpn(1)?[s.div(h),o.div(h)]:[s,o]}},4387:function(v,d,r){var e=r(6859);v.exports=l;function l(n){return new e(n)}},6504:function(v,d,r){var e=r(869);v.exports=l;function l(n,s){return e(n[0].mul(s[0]),n[1].mul(s[1]))}},7721:function(v,d,r){var e=r(5716);v.exports=l;function l(n){return e(n[0])*e(n[1])}},5572:function(v,d,r){var e=r(869);v.exports=l;function l(n,s){return e(n[0].mul(s[1]).sub(n[1].mul(s[0])),n[1].mul(s[1]))}},946:function(v,d,r){var e=r(1369),l=r(4025);v.exports=n;function n(s){var o=s[0],f=s[1];if(o.cmpn(0)===0)return 0;var b=o.abs().divmod(f.abs()),h=b.div,_=e(h),a=b.mod,c=o.negative!==f.negative?-1:1;if(a.cmpn(0)===0)return c*_;if(_){var p=l(_)+4,x=e(a.ushln(p).divRound(f));return c*(_+x*Math.pow(2,-p))}else{var k=f.bitLength()-a.bitLength()+53,x=e(a.ushln(k).divRound(f));return k<1023?c*x*Math.pow(2,-k):(x*=Math.pow(2,-1023),c*x*Math.pow(2,1023-k))}}},2478:function(v){function d(o,f,b,h,_){for(var a=_+1;h<=_;){var c=h+_>>>1,p=o[c],x=b!==void 0?b(p,f):p-f;x>=0?(a=c,_=c-1):h=c+1}return a}function r(o,f,b,h,_){for(var a=_+1;h<=_;){var c=h+_>>>1,p=o[c],x=b!==void 0?b(p,f):p-f;x>0?(a=c,_=c-1):h=c+1}return a}function e(o,f,b,h,_){for(var a=h-1;h<=_;){var c=h+_>>>1,p=o[c],x=b!==void 0?b(p,f):p-f;x<0?(a=c,h=c+1):_=c-1}return a}function l(o,f,b,h,_){for(var a=h-1;h<=_;){var c=h+_>>>1,p=o[c],x=b!==void 0?b(p,f):p-f;x<=0?(a=c,h=c+1):_=c-1}return a}function n(o,f,b,h,_){for(;h<=_;){var a=h+_>>>1,c=o[a],p=b!==void 0?b(c,f):c-f;if(p===0)return a;p<=0?h=a+1:_=a-1}return-1}function s(o,f,b,h,_,a){return typeof b=="function"?a(o,f,b,h===void 0?0:h|0,_===void 0?o.length-1:_|0):a(o,f,void 0,b===void 0?0:b|0,h===void 0?o.length-1:h|0)}v.exports={ge:function(o,f,b,h,_){return s(o,f,b,h,_,d)},gt:function(o,f,b,h,_){return s(o,f,b,h,_,r)},lt:function(o,f,b,h,_){return s(o,f,b,h,_,e)},le:function(o,f,b,h,_){return s(o,f,b,h,_,l)},eq:function(o,f,b,h,_){return s(o,f,b,h,_,n)}}},8828:function(v,d){"use restrict";var r=32;d.INT_BITS=r,d.INT_MAX=2147483647,d.INT_MIN=-1<<r-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var s=n>>r-1;return(n^s)-s},d.min=function(n,s){return s^(n^s)&-(n<s)},d.max=function(n,s){return n^(n^s)&-(n<s)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var s,o;return s=(n>65535)<<4,n>>>=s,o=(n>255)<<3,n>>>=o,s|=o,o=(n>15)<<2,n>>>=o,s|=o,o=(n>3)<<1,n>>>=o,s|=o,s|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function e(n){var s=32;return n&=-n,n&&s--,n&65535&&(s-=16),n&16711935&&(s-=8),n&252645135&&(s-=4),n&858993459&&(s-=2),n&1431655765&&(s-=1),s}d.countTrailingZeros=e,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var l=new Array(256);(function(n){for(var s=0;s<256;++s){var o=s,f=s,b=7;for(o>>>=1;o;o>>>=1)f<<=1,f|=o&1,--b;n[s]=f<<b&255}})(l),d.reverse=function(n){return l[n&255]<<24|l[n>>>8&255]<<16|l[n>>>16&255]<<8|l[n>>>24&255]},d.interleave2=function(n,s){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,n|s<<1},d.deinterleave2=function(n,s){return n=n>>>s&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,s,o){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|=s<<1,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,n|o<<2},d.deinterleave3=function(n,s){return n=n>>>s&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var s=n|n-1;return s+1|(~s&-~s)-1>>>e(n)+1}},6859:function(v,d,r){v=r.nmd(v),function(e,l){function n(R,N){if(!R)throw new Error(N||"Assertion failed")}function s(R,N){R.super_=N;var B=function(){};B.prototype=N.prototype,R.prototype=new B,R.prototype.constructor=R}function o(R,N,B){if(o.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((N==="le"||N==="be")&&(B=N,N=10),this._init(R||0,N||10,B||"be"))}typeof e=="object"?e.exports=o:l.BN=o,o.BN=o,o.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=r(7790).Buffer}catch{}o.isBN=function(R){return R instanceof o?!0:R!==null&&typeof R=="object"&&R.constructor.wordSize===o.wordSize&&Array.isArray(R.words)},o.max=function(R,N){return R.cmp(N)>0?R:N},o.min=function(R,N){return R.cmp(N)<0?R:N},o.prototype._init=function(R,N,B){if(typeof R=="number")return this._initNumber(R,N,B);if(typeof R=="object")return this._initArray(R,N,B);N==="hex"&&(N=16),n(N===(N|0)&&N>=2&&N<=36),R=R.toString().replace(/\s+/g,"");var q=0;R[0]==="-"&&(q++,this.negative=1),q<R.length&&(N===16?this._parseHex(R,q,B):(this._parseBase(R,N,q),B==="le"&&this._initArray(this.toArray(),N,B)))},o.prototype._initNumber=function(R,N,B){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[R&67108863],this.length=1):R<4503599627370496?(this.words=[R&67108863,R/67108864&67108863],this.length=2):(n(R<9007199254740992),this.words=[R&67108863,R/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),N,B)},o.prototype._initArray=function(R,N,B){if(n(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var V,J,it=0;if(B==="be")for(q=R.length-1,V=0;q>=0;q-=3)J=R[q]|R[q-1]<<8|R[q-2]<<16,this.words[V]|=J<<it&67108863,this.words[V+1]=J>>>26-it&67108863,it+=24,it>=26&&(it-=26,V++);else if(B==="le")for(q=0,V=0;q<R.length;q+=3)J=R[q]|R[q+1]<<8|R[q+2]<<16,this.words[V]|=J<<it&67108863,this.words[V+1]=J>>>26-it&67108863,it+=24,it>=26&&(it-=26,V++);return this.strip()};function b(R,N){var B=R.charCodeAt(N);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function h(R,N,B){var q=b(R,B);return B-1>=N&&(q|=b(R,B-1)<<4),q}o.prototype._parseHex=function(R,N,B){this.length=Math.ceil((R.length-N)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var V=0,J=0,it;if(B==="be")for(q=R.length-1;q>=N;q-=2)it=h(R,N,q)<<V,this.words[J]|=it&67108863,V>=18?(V-=18,J+=1,this.words[J]|=it>>>26):V+=8;else{var nt=R.length-N;for(q=nt%2===0?N+1:N;q<R.length;q+=2)it=h(R,N,q)<<V,this.words[J]|=it&67108863,V>=18?(V-=18,J+=1,this.words[J]|=it>>>26):V+=8}this.strip()};function _(R,N,B,q){for(var V=0,J=Math.min(R.length,B),it=N;it<J;it++){var nt=R.charCodeAt(it)-48;V*=q,nt>=49?V+=nt-49+10:nt>=17?V+=nt-17+10:V+=nt}return V}o.prototype._parseBase=function(R,N,B){this.words=[0],this.length=1;for(var q=0,V=1;V<=67108863;V*=N)q++;q--,V=V/N|0;for(var J=R.length-B,it=J%q,nt=Math.min(J,J-it)+B,Y=0,Z=B;Z<nt;Z+=q)Y=_(R,Z,Z+q,N),this.imuln(V),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(it!==0){var $=1;for(Y=_(R,Z,R.length,N),Z=0;Z<it;Z++)$*=N;this.imuln($),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},o.prototype.copy=function(R){R.words=new Array(this.length);for(var N=0;N<this.length;N++)R.words[N]=this.words[N];R.length=this.length,R.negative=this.negative,R.red=this.red},o.prototype.clone=function(){var R=new o(null);return this.copy(R),R},o.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(R,N){R=R||10,N=N|0||1;var B;if(R===16||R==="hex"){B="";for(var q=0,V=0,J=0;J<this.length;J++){var it=this.words[J],nt=((it<<q|V)&16777215).toString(16);V=it>>>24-q&16777215,V!==0||J!==this.length-1?B=a[6-nt.length]+nt+B:B=nt+B,q+=2,q>=26&&(q-=26,J--)}for(V!==0&&(B=V.toString(16)+B);B.length%N!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(R===(R|0)&&R>=2&&R<=36){var Y=c[R],Z=p[R];B="";var $=this.clone();for($.negative=0;!$.isZero();){var G=$.modn(Z).toString(R);$=$.idivn(Z),$.isZero()?B=G+B:B=a[Y-G.length]+G+B}for(this.isZero()&&(B="0"+B);B.length%N!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=this.words[1]*67108864:this.length===3&&this.words[2]===1?R+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(R,N){return n(typeof f<"u"),this.toArrayLike(f,R,N)},o.prototype.toArray=function(R,N){return this.toArrayLike(Array,R,N)},o.prototype.toArrayLike=function(R,N,B){var q=this.byteLength(),V=B||Math.max(1,q);n(q<=V,"byte array longer than desired length"),n(V>0,"Requested array length <= 0"),this.strip();var J=N==="le",it=new R(V),nt,Y,Z=this.clone();if(J){for(Y=0;!Z.isZero();Y++)nt=Z.andln(255),Z.iushrn(8),it[Y]=nt;for(;Y<V;Y++)it[Y]=0}else{for(Y=0;Y<V-q;Y++)it[Y]=0;for(Y=0;!Z.isZero();Y++)nt=Z.andln(255),Z.iushrn(8),it[V-Y-1]=nt}return it},Math.clz32?o.prototype._countBits=function(R){return 32-Math.clz32(R)}:o.prototype._countBits=function(R){var N=R,B=0;return N>=4096&&(B+=13,N>>>=13),N>=64&&(B+=7,N>>>=7),N>=8&&(B+=4,N>>>=4),N>=2&&(B+=2,N>>>=2),B+N},o.prototype._zeroBits=function(R){if(R===0)return 26;var N=R,B=0;return N&8191||(B+=13,N>>>=13),N&127||(B+=7,N>>>=7),N&15||(B+=4,N>>>=4),N&3||(B+=2,N>>>=2),N&1||B++,B},o.prototype.bitLength=function(){var R=this.words[this.length-1],N=this._countBits(R);return(this.length-1)*26+N};function x(R){for(var N=new Array(R.bitLength()),B=0;B<N.length;B++){var q=B/26|0,V=B%26;N[B]=(R.words[q]&1<<V)>>>V}return N}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,N=0;N<this.length;N++){var B=this._zeroBits(this.words[N]);if(R+=B,B!==26)break}return R},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},o.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var N=0;N<R.length;N++)this.words[N]=this.words[N]|R.words[N];return this.strip()},o.prototype.ior=function(R){return n((this.negative|R.negative)===0),this.iuor(R)},o.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},o.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},o.prototype.iuand=function(R){var N;this.length>R.length?N=R:N=this;for(var B=0;B<N.length;B++)this.words[B]=this.words[B]&R.words[B];return this.length=N.length,this.strip()},o.prototype.iand=function(R){return n((this.negative|R.negative)===0),this.iuand(R)},o.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},o.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},o.prototype.iuxor=function(R){var N,B;this.length>R.length?(N=this,B=R):(N=R,B=this);for(var q=0;q<B.length;q++)this.words[q]=N.words[q]^B.words[q];if(this!==N)for(;q<N.length;q++)this.words[q]=N.words[q];return this.length=N.length,this.strip()},o.prototype.ixor=function(R){return n((this.negative|R.negative)===0),this.iuxor(R)},o.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},o.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},o.prototype.inotn=function(R){n(typeof R=="number"&&R>=0);var N=Math.ceil(R/26)|0,B=R%26;this._expand(N),B>0&&N--;for(var q=0;q<N;q++)this.words[q]=~this.words[q]&67108863;return B>0&&(this.words[q]=~this.words[q]&67108863>>26-B),this.strip()},o.prototype.notn=function(R){return this.clone().inotn(R)},o.prototype.setn=function(R,N){n(typeof R=="number"&&R>=0);var B=R/26|0,q=R%26;return this._expand(B+1),N?this.words[B]=this.words[B]|1<<q:this.words[B]=this.words[B]&~(1<<q),this.strip()},o.prototype.iadd=function(R){var N;if(this.negative!==0&&R.negative===0)return this.negative=0,N=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,N=this.isub(R),R.negative=1,N._normSign();var B,q;this.length>R.length?(B=this,q=R):(B=R,q=this);for(var V=0,J=0;J<q.length;J++)N=(B.words[J]|0)+(q.words[J]|0)+V,this.words[J]=N&67108863,V=N>>>26;for(;V!==0&&J<B.length;J++)N=(B.words[J]|0)+V,this.words[J]=N&67108863,V=N>>>26;if(this.length=B.length,V!==0)this.words[this.length]=V,this.length++;else if(B!==this)for(;J<B.length;J++)this.words[J]=B.words[J];return this},o.prototype.add=function(R){var N;return R.negative!==0&&this.negative===0?(R.negative=0,N=this.sub(R),R.negative^=1,N):R.negative===0&&this.negative!==0?(this.negative=0,N=R.sub(this),this.negative=1,N):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},o.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var N=this.iadd(R);return R.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var B=this.cmp(R);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,V;B>0?(q=this,V=R):(q=R,V=this);for(var J=0,it=0;it<V.length;it++)N=(q.words[it]|0)-(V.words[it]|0)+J,J=N>>26,this.words[it]=N&67108863;for(;J!==0&&it<q.length;it++)N=(q.words[it]|0)+J,J=N>>26,this.words[it]=N&67108863;if(J===0&&it<q.length&&q!==this)for(;it<q.length;it++)this.words[it]=q.words[it];return this.length=Math.max(this.length,it),q!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(R){return this.clone().isub(R)};function k(R,N,B){B.negative=N.negative^R.negative;var q=R.length+N.length|0;B.length=q,q=q-1|0;var V=R.words[0]|0,J=N.words[0]|0,it=V*J,nt=it&67108863,Y=it/67108864|0;B.words[0]=nt;for(var Z=1;Z<q;Z++){for(var $=Y>>>26,G=Y&67108863,rt=Math.min(Z,N.length-1),ot=Math.max(0,Z-R.length+1);ot<=rt;ot++){var W=Z-ot|0;V=R.words[W]|0,J=N.words[ot]|0,it=V*J+G,$+=it/67108864|0,G=it&67108863}B.words[Z]=G|0,Y=$|0}return Y!==0?B.words[Z]=Y|0:B.length--,B.strip()}var y=function(R,N,B){var q=R.words,V=N.words,J=B.words,it=0,nt,Y,Z,$=q[0]|0,G=$&8191,rt=$>>>13,ot=q[1]|0,W=ot&8191,H=ot>>>13,at=q[2]|0,Q=at&8191,ct=at>>>13,ft=q[3]|0,yt=ft&8191,xt=ft>>>13,Lt=q[4]|0,gt=Lt&8191,mt=Lt>>>13,vt=q[5]|0,At=vt&8191,Ot=vt>>>13,Pt=q[6]|0,Et=Pt&8191,Nt=Pt>>>13,ne=q[7]|0,Gt=ne&8191,pe=ne>>>13,Vt=q[8]|0,ae=Vt&8191,oe=Vt>>>13,ce=q[9]|0,le=ce&8191,ye=ce>>>13,Tt=V[0]|0,Ft=Tt&8191,$t=Tt>>>13,Wt=V[1]|0,Bt=Wt&8191,Mt=Wt>>>13,St=V[2]|0,Dt=St&8191,dt=St>>>13,ht=V[3]|0,bt=ht&8191,zt=ht>>>13,qt=V[4]|0,te=qt&8191,re=qt>>>13,Ye=V[5]|0,Be=Ye&8191,ge=Ye>>>13,be=V[6]|0,Ne=be&8191,pr=be>>>13,fe=V[7]|0,De=fe&8191,Ge=fe>>>13,vr=V[8]|0,$e=vr&8191,Kt=vr>>>13,ie=V[9]|0,he=ie&8191,Ae=ie>>>13;B.negative=R.negative^N.negative,B.length=19,nt=Math.imul(G,Ft),Y=Math.imul(G,$t),Y=Y+Math.imul(rt,Ft)|0,Z=Math.imul(rt,$t);var Ee=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,nt=Math.imul(W,Ft),Y=Math.imul(W,$t),Y=Y+Math.imul(H,Ft)|0,Z=Math.imul(H,$t),nt=nt+Math.imul(G,Bt)|0,Y=Y+Math.imul(G,Mt)|0,Y=Y+Math.imul(rt,Bt)|0,Z=Z+Math.imul(rt,Mt)|0;var Fe=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,nt=Math.imul(Q,Ft),Y=Math.imul(Q,$t),Y=Y+Math.imul(ct,Ft)|0,Z=Math.imul(ct,$t),nt=nt+Math.imul(W,Bt)|0,Y=Y+Math.imul(W,Mt)|0,Y=Y+Math.imul(H,Bt)|0,Z=Z+Math.imul(H,Mt)|0,nt=nt+Math.imul(G,Dt)|0,Y=Y+Math.imul(G,dt)|0,Y=Y+Math.imul(rt,Dt)|0,Z=Z+Math.imul(rt,dt)|0;var Re=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Re>>>26)|0,Re&=67108863,nt=Math.imul(yt,Ft),Y=Math.imul(yt,$t),Y=Y+Math.imul(xt,Ft)|0,Z=Math.imul(xt,$t),nt=nt+Math.imul(Q,Bt)|0,Y=Y+Math.imul(Q,Mt)|0,Y=Y+Math.imul(ct,Bt)|0,Z=Z+Math.imul(ct,Mt)|0,nt=nt+Math.imul(W,Dt)|0,Y=Y+Math.imul(W,dt)|0,Y=Y+Math.imul(H,Dt)|0,Z=Z+Math.imul(H,dt)|0,nt=nt+Math.imul(G,bt)|0,Y=Y+Math.imul(G,zt)|0,Y=Y+Math.imul(rt,bt)|0,Z=Z+Math.imul(rt,zt)|0;var Ce=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,nt=Math.imul(gt,Ft),Y=Math.imul(gt,$t),Y=Y+Math.imul(mt,Ft)|0,Z=Math.imul(mt,$t),nt=nt+Math.imul(yt,Bt)|0,Y=Y+Math.imul(yt,Mt)|0,Y=Y+Math.imul(xt,Bt)|0,Z=Z+Math.imul(xt,Mt)|0,nt=nt+Math.imul(Q,Dt)|0,Y=Y+Math.imul(Q,dt)|0,Y=Y+Math.imul(ct,Dt)|0,Z=Z+Math.imul(ct,dt)|0,nt=nt+Math.imul(W,bt)|0,Y=Y+Math.imul(W,zt)|0,Y=Y+Math.imul(H,bt)|0,Z=Z+Math.imul(H,zt)|0,nt=nt+Math.imul(G,te)|0,Y=Y+Math.imul(G,re)|0,Y=Y+Math.imul(rt,te)|0,Z=Z+Math.imul(rt,re)|0;var We=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(We>>>26)|0,We&=67108863,nt=Math.imul(At,Ft),Y=Math.imul(At,$t),Y=Y+Math.imul(Ot,Ft)|0,Z=Math.imul(Ot,$t),nt=nt+Math.imul(gt,Bt)|0,Y=Y+Math.imul(gt,Mt)|0,Y=Y+Math.imul(mt,Bt)|0,Z=Z+Math.imul(mt,Mt)|0,nt=nt+Math.imul(yt,Dt)|0,Y=Y+Math.imul(yt,dt)|0,Y=Y+Math.imul(xt,Dt)|0,Z=Z+Math.imul(xt,dt)|0,nt=nt+Math.imul(Q,bt)|0,Y=Y+Math.imul(Q,zt)|0,Y=Y+Math.imul(ct,bt)|0,Z=Z+Math.imul(ct,zt)|0,nt=nt+Math.imul(W,te)|0,Y=Y+Math.imul(W,re)|0,Y=Y+Math.imul(H,te)|0,Z=Z+Math.imul(H,re)|0,nt=nt+Math.imul(G,Be)|0,Y=Y+Math.imul(G,ge)|0,Y=Y+Math.imul(rt,Be)|0,Z=Z+Math.imul(rt,ge)|0;var er=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(er>>>26)|0,er&=67108863,nt=Math.imul(Et,Ft),Y=Math.imul(Et,$t),Y=Y+Math.imul(Nt,Ft)|0,Z=Math.imul(Nt,$t),nt=nt+Math.imul(At,Bt)|0,Y=Y+Math.imul(At,Mt)|0,Y=Y+Math.imul(Ot,Bt)|0,Z=Z+Math.imul(Ot,Mt)|0,nt=nt+Math.imul(gt,Dt)|0,Y=Y+Math.imul(gt,dt)|0,Y=Y+Math.imul(mt,Dt)|0,Z=Z+Math.imul(mt,dt)|0,nt=nt+Math.imul(yt,bt)|0,Y=Y+Math.imul(yt,zt)|0,Y=Y+Math.imul(xt,bt)|0,Z=Z+Math.imul(xt,zt)|0,nt=nt+Math.imul(Q,te)|0,Y=Y+Math.imul(Q,re)|0,Y=Y+Math.imul(ct,te)|0,Z=Z+Math.imul(ct,re)|0,nt=nt+Math.imul(W,Be)|0,Y=Y+Math.imul(W,ge)|0,Y=Y+Math.imul(H,Be)|0,Z=Z+Math.imul(H,ge)|0,nt=nt+Math.imul(G,Ne)|0,Y=Y+Math.imul(G,pr)|0,Y=Y+Math.imul(rt,Ne)|0,Z=Z+Math.imul(rt,pr)|0;var Ue=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,nt=Math.imul(Gt,Ft),Y=Math.imul(Gt,$t),Y=Y+Math.imul(pe,Ft)|0,Z=Math.imul(pe,$t),nt=nt+Math.imul(Et,Bt)|0,Y=Y+Math.imul(Et,Mt)|0,Y=Y+Math.imul(Nt,Bt)|0,Z=Z+Math.imul(Nt,Mt)|0,nt=nt+Math.imul(At,Dt)|0,Y=Y+Math.imul(At,dt)|0,Y=Y+Math.imul(Ot,Dt)|0,Z=Z+Math.imul(Ot,dt)|0,nt=nt+Math.imul(gt,bt)|0,Y=Y+Math.imul(gt,zt)|0,Y=Y+Math.imul(mt,bt)|0,Z=Z+Math.imul(mt,zt)|0,nt=nt+Math.imul(yt,te)|0,Y=Y+Math.imul(yt,re)|0,Y=Y+Math.imul(xt,te)|0,Z=Z+Math.imul(xt,re)|0,nt=nt+Math.imul(Q,Be)|0,Y=Y+Math.imul(Q,ge)|0,Y=Y+Math.imul(ct,Be)|0,Z=Z+Math.imul(ct,ge)|0,nt=nt+Math.imul(W,Ne)|0,Y=Y+Math.imul(W,pr)|0,Y=Y+Math.imul(H,Ne)|0,Z=Z+Math.imul(H,pr)|0,nt=nt+Math.imul(G,De)|0,Y=Y+Math.imul(G,Ge)|0,Y=Y+Math.imul(rt,De)|0,Z=Z+Math.imul(rt,Ge)|0;var ar=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(ar>>>26)|0,ar&=67108863,nt=Math.imul(ae,Ft),Y=Math.imul(ae,$t),Y=Y+Math.imul(oe,Ft)|0,Z=Math.imul(oe,$t),nt=nt+Math.imul(Gt,Bt)|0,Y=Y+Math.imul(Gt,Mt)|0,Y=Y+Math.imul(pe,Bt)|0,Z=Z+Math.imul(pe,Mt)|0,nt=nt+Math.imul(Et,Dt)|0,Y=Y+Math.imul(Et,dt)|0,Y=Y+Math.imul(Nt,Dt)|0,Z=Z+Math.imul(Nt,dt)|0,nt=nt+Math.imul(At,bt)|0,Y=Y+Math.imul(At,zt)|0,Y=Y+Math.imul(Ot,bt)|0,Z=Z+Math.imul(Ot,zt)|0,nt=nt+Math.imul(gt,te)|0,Y=Y+Math.imul(gt,re)|0,Y=Y+Math.imul(mt,te)|0,Z=Z+Math.imul(mt,re)|0,nt=nt+Math.imul(yt,Be)|0,Y=Y+Math.imul(yt,ge)|0,Y=Y+Math.imul(xt,Be)|0,Z=Z+Math.imul(xt,ge)|0,nt=nt+Math.imul(Q,Ne)|0,Y=Y+Math.imul(Q,pr)|0,Y=Y+Math.imul(ct,Ne)|0,Z=Z+Math.imul(ct,pr)|0,nt=nt+Math.imul(W,De)|0,Y=Y+Math.imul(W,Ge)|0,Y=Y+Math.imul(H,De)|0,Z=Z+Math.imul(H,Ge)|0,nt=nt+Math.imul(G,$e)|0,Y=Y+Math.imul(G,Kt)|0,Y=Y+Math.imul(rt,$e)|0,Z=Z+Math.imul(rt,Kt)|0;var It=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(It>>>26)|0,It&=67108863,nt=Math.imul(le,Ft),Y=Math.imul(le,$t),Y=Y+Math.imul(ye,Ft)|0,Z=Math.imul(ye,$t),nt=nt+Math.imul(ae,Bt)|0,Y=Y+Math.imul(ae,Mt)|0,Y=Y+Math.imul(oe,Bt)|0,Z=Z+Math.imul(oe,Mt)|0,nt=nt+Math.imul(Gt,Dt)|0,Y=Y+Math.imul(Gt,dt)|0,Y=Y+Math.imul(pe,Dt)|0,Z=Z+Math.imul(pe,dt)|0,nt=nt+Math.imul(Et,bt)|0,Y=Y+Math.imul(Et,zt)|0,Y=Y+Math.imul(Nt,bt)|0,Z=Z+Math.imul(Nt,zt)|0,nt=nt+Math.imul(At,te)|0,Y=Y+Math.imul(At,re)|0,Y=Y+Math.imul(Ot,te)|0,Z=Z+Math.imul(Ot,re)|0,nt=nt+Math.imul(gt,Be)|0,Y=Y+Math.imul(gt,ge)|0,Y=Y+Math.imul(mt,Be)|0,Z=Z+Math.imul(mt,ge)|0,nt=nt+Math.imul(yt,Ne)|0,Y=Y+Math.imul(yt,pr)|0,Y=Y+Math.imul(xt,Ne)|0,Z=Z+Math.imul(xt,pr)|0,nt=nt+Math.imul(Q,De)|0,Y=Y+Math.imul(Q,Ge)|0,Y=Y+Math.imul(ct,De)|0,Z=Z+Math.imul(ct,Ge)|0,nt=nt+Math.imul(W,$e)|0,Y=Y+Math.imul(W,Kt)|0,Y=Y+Math.imul(H,$e)|0,Z=Z+Math.imul(H,Kt)|0,nt=nt+Math.imul(G,he)|0,Y=Y+Math.imul(G,Ae)|0,Y=Y+Math.imul(rt,he)|0,Z=Z+Math.imul(rt,Ae)|0;var Ut=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,nt=Math.imul(le,Bt),Y=Math.imul(le,Mt),Y=Y+Math.imul(ye,Bt)|0,Z=Math.imul(ye,Mt),nt=nt+Math.imul(ae,Dt)|0,Y=Y+Math.imul(ae,dt)|0,Y=Y+Math.imul(oe,Dt)|0,Z=Z+Math.imul(oe,dt)|0,nt=nt+Math.imul(Gt,bt)|0,Y=Y+Math.imul(Gt,zt)|0,Y=Y+Math.imul(pe,bt)|0,Z=Z+Math.imul(pe,zt)|0,nt=nt+Math.imul(Et,te)|0,Y=Y+Math.imul(Et,re)|0,Y=Y+Math.imul(Nt,te)|0,Z=Z+Math.imul(Nt,re)|0,nt=nt+Math.imul(At,Be)|0,Y=Y+Math.imul(At,ge)|0,Y=Y+Math.imul(Ot,Be)|0,Z=Z+Math.imul(Ot,ge)|0,nt=nt+Math.imul(gt,Ne)|0,Y=Y+Math.imul(gt,pr)|0,Y=Y+Math.imul(mt,Ne)|0,Z=Z+Math.imul(mt,pr)|0,nt=nt+Math.imul(yt,De)|0,Y=Y+Math.imul(yt,Ge)|0,Y=Y+Math.imul(xt,De)|0,Z=Z+Math.imul(xt,Ge)|0,nt=nt+Math.imul(Q,$e)|0,Y=Y+Math.imul(Q,Kt)|0,Y=Y+Math.imul(ct,$e)|0,Z=Z+Math.imul(ct,Kt)|0,nt=nt+Math.imul(W,he)|0,Y=Y+Math.imul(W,Ae)|0,Y=Y+Math.imul(H,he)|0,Z=Z+Math.imul(H,Ae)|0;var Me=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Me>>>26)|0,Me&=67108863,nt=Math.imul(le,Dt),Y=Math.imul(le,dt),Y=Y+Math.imul(ye,Dt)|0,Z=Math.imul(ye,dt),nt=nt+Math.imul(ae,bt)|0,Y=Y+Math.imul(ae,zt)|0,Y=Y+Math.imul(oe,bt)|0,Z=Z+Math.imul(oe,zt)|0,nt=nt+Math.imul(Gt,te)|0,Y=Y+Math.imul(Gt,re)|0,Y=Y+Math.imul(pe,te)|0,Z=Z+Math.imul(pe,re)|0,nt=nt+Math.imul(Et,Be)|0,Y=Y+Math.imul(Et,ge)|0,Y=Y+Math.imul(Nt,Be)|0,Z=Z+Math.imul(Nt,ge)|0,nt=nt+Math.imul(At,Ne)|0,Y=Y+Math.imul(At,pr)|0,Y=Y+Math.imul(Ot,Ne)|0,Z=Z+Math.imul(Ot,pr)|0,nt=nt+Math.imul(gt,De)|0,Y=Y+Math.imul(gt,Ge)|0,Y=Y+Math.imul(mt,De)|0,Z=Z+Math.imul(mt,Ge)|0,nt=nt+Math.imul(yt,$e)|0,Y=Y+Math.imul(yt,Kt)|0,Y=Y+Math.imul(xt,$e)|0,Z=Z+Math.imul(xt,Kt)|0,nt=nt+Math.imul(Q,he)|0,Y=Y+Math.imul(Q,Ae)|0,Y=Y+Math.imul(ct,he)|0,Z=Z+Math.imul(ct,Ae)|0;var ke=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(ke>>>26)|0,ke&=67108863,nt=Math.imul(le,bt),Y=Math.imul(le,zt),Y=Y+Math.imul(ye,bt)|0,Z=Math.imul(ye,zt),nt=nt+Math.imul(ae,te)|0,Y=Y+Math.imul(ae,re)|0,Y=Y+Math.imul(oe,te)|0,Z=Z+Math.imul(oe,re)|0,nt=nt+Math.imul(Gt,Be)|0,Y=Y+Math.imul(Gt,ge)|0,Y=Y+Math.imul(pe,Be)|0,Z=Z+Math.imul(pe,ge)|0,nt=nt+Math.imul(Et,Ne)|0,Y=Y+Math.imul(Et,pr)|0,Y=Y+Math.imul(Nt,Ne)|0,Z=Z+Math.imul(Nt,pr)|0,nt=nt+Math.imul(At,De)|0,Y=Y+Math.imul(At,Ge)|0,Y=Y+Math.imul(Ot,De)|0,Z=Z+Math.imul(Ot,Ge)|0,nt=nt+Math.imul(gt,$e)|0,Y=Y+Math.imul(gt,Kt)|0,Y=Y+Math.imul(mt,$e)|0,Z=Z+Math.imul(mt,Kt)|0,nt=nt+Math.imul(yt,he)|0,Y=Y+Math.imul(yt,Ae)|0,Y=Y+Math.imul(xt,he)|0,Z=Z+Math.imul(xt,Ae)|0;var qe=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(qe>>>26)|0,qe&=67108863,nt=Math.imul(le,te),Y=Math.imul(le,re),Y=Y+Math.imul(ye,te)|0,Z=Math.imul(ye,re),nt=nt+Math.imul(ae,Be)|0,Y=Y+Math.imul(ae,ge)|0,Y=Y+Math.imul(oe,Be)|0,Z=Z+Math.imul(oe,ge)|0,nt=nt+Math.imul(Gt,Ne)|0,Y=Y+Math.imul(Gt,pr)|0,Y=Y+Math.imul(pe,Ne)|0,Z=Z+Math.imul(pe,pr)|0,nt=nt+Math.imul(Et,De)|0,Y=Y+Math.imul(Et,Ge)|0,Y=Y+Math.imul(Nt,De)|0,Z=Z+Math.imul(Nt,Ge)|0,nt=nt+Math.imul(At,$e)|0,Y=Y+Math.imul(At,Kt)|0,Y=Y+Math.imul(Ot,$e)|0,Z=Z+Math.imul(Ot,Kt)|0,nt=nt+Math.imul(gt,he)|0,Y=Y+Math.imul(gt,Ae)|0,Y=Y+Math.imul(mt,he)|0,Z=Z+Math.imul(mt,Ae)|0;var Ke=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,nt=Math.imul(le,Be),Y=Math.imul(le,ge),Y=Y+Math.imul(ye,Be)|0,Z=Math.imul(ye,ge),nt=nt+Math.imul(ae,Ne)|0,Y=Y+Math.imul(ae,pr)|0,Y=Y+Math.imul(oe,Ne)|0,Z=Z+Math.imul(oe,pr)|0,nt=nt+Math.imul(Gt,De)|0,Y=Y+Math.imul(Gt,Ge)|0,Y=Y+Math.imul(pe,De)|0,Z=Z+Math.imul(pe,Ge)|0,nt=nt+Math.imul(Et,$e)|0,Y=Y+Math.imul(Et,Kt)|0,Y=Y+Math.imul(Nt,$e)|0,Z=Z+Math.imul(Nt,Kt)|0,nt=nt+Math.imul(At,he)|0,Y=Y+Math.imul(At,Ae)|0,Y=Y+Math.imul(Ot,he)|0,Z=Z+Math.imul(Ot,Ae)|0;var Je=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Je>>>26)|0,Je&=67108863,nt=Math.imul(le,Ne),Y=Math.imul(le,pr),Y=Y+Math.imul(ye,Ne)|0,Z=Math.imul(ye,pr),nt=nt+Math.imul(ae,De)|0,Y=Y+Math.imul(ae,Ge)|0,Y=Y+Math.imul(oe,De)|0,Z=Z+Math.imul(oe,Ge)|0,nt=nt+Math.imul(Gt,$e)|0,Y=Y+Math.imul(Gt,Kt)|0,Y=Y+Math.imul(pe,$e)|0,Z=Z+Math.imul(pe,Kt)|0,nt=nt+Math.imul(Et,he)|0,Y=Y+Math.imul(Et,Ae)|0,Y=Y+Math.imul(Nt,he)|0,Z=Z+Math.imul(Nt,Ae)|0;var Ve=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,nt=Math.imul(le,De),Y=Math.imul(le,Ge),Y=Y+Math.imul(ye,De)|0,Z=Math.imul(ye,Ge),nt=nt+Math.imul(ae,$e)|0,Y=Y+Math.imul(ae,Kt)|0,Y=Y+Math.imul(oe,$e)|0,Z=Z+Math.imul(oe,Kt)|0,nt=nt+Math.imul(Gt,he)|0,Y=Y+Math.imul(Gt,Ae)|0,Y=Y+Math.imul(pe,he)|0,Z=Z+Math.imul(pe,Ae)|0;var Pe=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,nt=Math.imul(le,$e),Y=Math.imul(le,Kt),Y=Y+Math.imul(ye,$e)|0,Z=Math.imul(ye,Kt),nt=nt+Math.imul(ae,he)|0,Y=Y+Math.imul(ae,Ae)|0,Y=Y+Math.imul(oe,he)|0,Z=Z+Math.imul(oe,Ae)|0;var rr=(it+nt|0)+((Y&8191)<<13)|0;it=(Z+(Y>>>13)|0)+(rr>>>26)|0,rr&=67108863,nt=Math.imul(le,he),Y=Math.imul(le,Ae),Y=Y+Math.imul(ye,he)|0,Z=Math.imul(ye,Ae);var lr=(it+nt|0)+((Y&8191)<<13)|0;return it=(Z+(Y>>>13)|0)+(lr>>>26)|0,lr&=67108863,J[0]=Ee,J[1]=Fe,J[2]=Re,J[3]=Ce,J[4]=We,J[5]=er,J[6]=Ue,J[7]=ar,J[8]=It,J[9]=Ut,J[10]=Me,J[11]=ke,J[12]=qe,J[13]=Ke,J[14]=Je,J[15]=Ve,J[16]=Pe,J[17]=rr,J[18]=lr,it!==0&&(J[19]=it,B.length++),B};Math.imul||(y=k);function A(R,N,B){B.negative=N.negative^R.negative,B.length=R.length+N.length;for(var q=0,V=0,J=0;J<B.length-1;J++){var it=V;V=0;for(var nt=q&67108863,Y=Math.min(J,N.length-1),Z=Math.max(0,J-R.length+1);Z<=Y;Z++){var $=J-Z,G=R.words[$]|0,rt=N.words[Z]|0,ot=G*rt,W=ot&67108863;it=it+(ot/67108864|0)|0,W=W+nt|0,nt=W&67108863,it=it+(W>>>26)|0,V+=it>>>26,it&=67108863}B.words[J]=nt,q=it,it=V}return q!==0?B.words[J]=q:B.length--,B.strip()}function C(R,N,B){var q=new u;return q.mulp(R,N,B)}o.prototype.mulTo=function(R,N){var B,q=this.length+R.length;return this.length===10&&R.length===10?B=y(this,R,N):q<63?B=k(this,R,N):q<1024?B=A(this,R,N):B=C(this,R,N),B};function u(R,N){this.x=R,this.y=N}u.prototype.makeRBT=function(R){for(var N=new Array(R),B=o.prototype._countBits(R)-1,q=0;q<R;q++)N[q]=this.revBin(q,B,R);return N},u.prototype.revBin=function(R,N,B){if(R===0||R===B-1)return R;for(var q=0,V=0;V<N;V++)q|=(R&1)<<N-V-1,R>>=1;return q},u.prototype.permute=function(R,N,B,q,V,J){for(var it=0;it<J;it++)q[it]=N[R[it]],V[it]=B[R[it]]},u.prototype.transform=function(R,N,B,q,V,J){this.permute(J,R,N,B,q,V);for(var it=1;it<V;it<<=1)for(var nt=it<<1,Y=Math.cos(2*Math.PI/nt),Z=Math.sin(2*Math.PI/nt),$=0;$<V;$+=nt)for(var G=Y,rt=Z,ot=0;ot<it;ot++){var W=B[$+ot],H=q[$+ot],at=B[$+ot+it],Q=q[$+ot+it],ct=G*at-rt*Q;Q=G*Q+rt*at,at=ct,B[$+ot]=W+at,q[$+ot]=H+Q,B[$+ot+it]=W-at,q[$+ot+it]=H-Q,ot!==nt&&(ct=Y*G-Z*rt,rt=Y*rt+Z*G,G=ct)}},u.prototype.guessLen13b=function(R,N){var B=Math.max(N,R)|1,q=B&1,V=0;for(B=B/2|0;B;B=B>>>1)V++;return 1<<V+1+q},u.prototype.conjugate=function(R,N,B){if(!(B<=1))for(var q=0;q<B/2;q++){var V=R[q];R[q]=R[B-q-1],R[B-q-1]=V,V=N[q],N[q]=-N[B-q-1],N[B-q-1]=-V}},u.prototype.normalize13b=function(R,N){for(var B=0,q=0;q<N/2;q++){var V=Math.round(R[2*q+1]/N)*8192+Math.round(R[2*q]/N)+B;R[q]=V&67108863,V<67108864?B=0:B=V/67108864|0}return R},u.prototype.convert13b=function(R,N,B,q){for(var V=0,J=0;J<N;J++)V=V+(R[J]|0),B[2*J]=V&8191,V=V>>>13,B[2*J+1]=V&8191,V=V>>>13;for(J=2*N;J<q;++J)B[J]=0;n(V===0),n((V&-8192)===0)},u.prototype.stub=function(R){for(var N=new Array(R),B=0;B<R;B++)N[B]=0;return N},u.prototype.mulp=function(R,N,B){var q=2*this.guessLen13b(R.length,N.length),V=this.makeRBT(q),J=this.stub(q),it=new Array(q),nt=new Array(q),Y=new Array(q),Z=new Array(q),$=new Array(q),G=new Array(q),rt=B.words;rt.length=q,this.convert13b(R.words,R.length,it,q),this.convert13b(N.words,N.length,Z,q),this.transform(it,J,nt,Y,q,V),this.transform(Z,J,$,G,q,V);for(var ot=0;ot<q;ot++){var W=nt[ot]*$[ot]-Y[ot]*G[ot];Y[ot]=nt[ot]*G[ot]+Y[ot]*$[ot],nt[ot]=W}return this.conjugate(nt,Y,q),this.transform(nt,Y,rt,J,q,V),this.conjugate(rt,J,q),this.normalize13b(rt,q),B.negative=R.negative^N.negative,B.length=R.length+N.length,B.strip()},o.prototype.mul=function(R){var N=new o(null);return N.words=new Array(this.length+R.length),this.mulTo(R,N)},o.prototype.mulf=function(R){var N=new o(null);return N.words=new Array(this.length+R.length),C(this,R,N)},o.prototype.imul=function(R){return this.clone().mulTo(R,this)},o.prototype.imuln=function(R){n(typeof R=="number"),n(R<67108864);for(var N=0,B=0;B<this.length;B++){var q=(this.words[B]|0)*R,V=(q&67108863)+(N&67108863);N>>=26,N+=q/67108864|0,N+=V>>>26,this.words[B]=V&67108863}return N!==0&&(this.words[B]=N,this.length++),this},o.prototype.muln=function(R){return this.clone().imuln(R)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(R){var N=x(R);if(N.length===0)return new o(1);for(var B=this,q=0;q<N.length&&N[q]===0;q++,B=B.sqr());if(++q<N.length)for(var V=B.sqr();q<N.length;q++,V=V.sqr())N[q]!==0&&(B=B.mul(V));return B},o.prototype.iushln=function(R){n(typeof R=="number"&&R>=0);var N=R%26,B=(R-N)/26,q=67108863>>>26-N<<26-N,V;if(N!==0){var J=0;for(V=0;V<this.length;V++){var it=this.words[V]&q,nt=(this.words[V]|0)-it<<N;this.words[V]=nt|J,J=it>>>26-N}J&&(this.words[V]=J,this.length++)}if(B!==0){for(V=this.length-1;V>=0;V--)this.words[V+B]=this.words[V];for(V=0;V<B;V++)this.words[V]=0;this.length+=B}return this.strip()},o.prototype.ishln=function(R){return n(this.negative===0),this.iushln(R)},o.prototype.iushrn=function(R,N,B){n(typeof R=="number"&&R>=0);var q;N?q=(N-N%26)/26:q=0;var V=R%26,J=Math.min((R-V)/26,this.length),it=67108863^67108863>>>V<<V,nt=B;if(q-=J,q=Math.max(0,q),nt){for(var Y=0;Y<J;Y++)nt.words[Y]=this.words[Y];nt.length=J}if(J!==0)if(this.length>J)for(this.length-=J,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+J];else this.words[0]=0,this.length=1;var Z=0;for(Y=this.length-1;Y>=0&&(Z!==0||Y>=q);Y--){var $=this.words[Y]|0;this.words[Y]=Z<<26-V|$>>>V,Z=$&it}return nt&&Z!==0&&(nt.words[nt.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(R,N,B){return n(this.negative===0),this.iushrn(R,N,B)},o.prototype.shln=function(R){return this.clone().ishln(R)},o.prototype.ushln=function(R){return this.clone().iushln(R)},o.prototype.shrn=function(R){return this.clone().ishrn(R)},o.prototype.ushrn=function(R){return this.clone().iushrn(R)},o.prototype.testn=function(R){n(typeof R=="number"&&R>=0);var N=R%26,B=(R-N)/26,q=1<<N;if(this.length<=B)return!1;var V=this.words[B];return!!(V&q)},o.prototype.imaskn=function(R){n(typeof R=="number"&&R>=0);var N=R%26,B=(R-N)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(N!==0&&B++,this.length=Math.min(B,this.length),N!==0){var q=67108863^67108863>>>N<<N;this.words[this.length-1]&=q}return this.strip()},o.prototype.maskn=function(R){return this.clone().imaskn(R)},o.prototype.iaddn=function(R){return n(typeof R=="number"),n(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(this.words[0]|0)<R?(this.words[0]=R-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},o.prototype._iaddn=function(R){this.words[0]+=R;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},o.prototype.isubn=function(R){if(n(typeof R=="number"),n(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},o.prototype.addn=function(R){return this.clone().iaddn(R)},o.prototype.subn=function(R){return this.clone().isubn(R)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(R,N,B){var q=R.length+B,V;this._expand(q);var J,it=0;for(V=0;V<R.length;V++){J=(this.words[V+B]|0)+it;var nt=(R.words[V]|0)*N;J-=nt&67108863,it=(J>>26)-(nt/67108864|0),this.words[V+B]=J&67108863}for(;V<this.length-B;V++)J=(this.words[V+B]|0)+it,it=J>>26,this.words[V+B]=J&67108863;if(it===0)return this.strip();for(n(it===-1),it=0,V=0;V<this.length;V++)J=-(this.words[V]|0)+it,it=J>>26,this.words[V]=J&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(R,N){var B=this.length-R.length,q=this.clone(),V=R,J=V.words[V.length-1]|0,it=this._countBits(J);B=26-it,B!==0&&(V=V.ushln(B),q.iushln(B),J=V.words[V.length-1]|0);var nt=q.length-V.length,Y;if(N!=="mod"){Y=new o(null),Y.length=nt+1,Y.words=new Array(Y.length);for(var Z=0;Z<Y.length;Z++)Y.words[Z]=0}var $=q.clone()._ishlnsubmul(V,1,nt);$.negative===0&&(q=$,Y&&(Y.words[nt]=1));for(var G=nt-1;G>=0;G--){var rt=(q.words[V.length+G]|0)*67108864+(q.words[V.length+G-1]|0);for(rt=Math.min(rt/J|0,67108863),q._ishlnsubmul(V,rt,G);q.negative!==0;)rt--,q.negative=0,q._ishlnsubmul(V,1,G),q.isZero()||(q.negative^=1);Y&&(Y.words[G]=rt)}return Y&&Y.strip(),q.strip(),N!=="div"&&B!==0&&q.iushrn(B),{div:Y||null,mod:q}},o.prototype.divmod=function(R,N,B){if(n(!R.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var q,V,J;return this.negative!==0&&R.negative===0?(J=this.neg().divmod(R,N),N!=="mod"&&(q=J.div.neg()),N!=="div"&&(V=J.mod.neg(),B&&V.negative!==0&&V.iadd(R)),{div:q,mod:V}):this.negative===0&&R.negative!==0?(J=this.divmod(R.neg(),N),N!=="mod"&&(q=J.div.neg()),{div:q,mod:J.mod}):this.negative&R.negative?(J=this.neg().divmod(R.neg(),N),N!=="div"&&(V=J.mod.neg(),B&&V.negative!==0&&V.isub(R)),{div:J.div,mod:V}):R.length>this.length||this.cmp(R)<0?{div:new o(0),mod:this}:R.length===1?N==="div"?{div:this.divn(R.words[0]),mod:null}:N==="mod"?{div:null,mod:new o(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new o(this.modn(R.words[0]))}:this._wordDiv(R,N)},o.prototype.div=function(R){return this.divmod(R,"div",!1).div},o.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},o.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},o.prototype.divRound=function(R){var N=this.divmod(R);if(N.mod.isZero())return N.div;var B=N.div.negative!==0?N.mod.isub(R):N.mod,q=R.ushrn(1),V=R.andln(1),J=B.cmp(q);return J<0||V===1&&J===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},o.prototype.modn=function(R){n(R<=67108863);for(var N=67108864%R,B=0,q=this.length-1;q>=0;q--)B=(N*B+(this.words[q]|0))%R;return B},o.prototype.idivn=function(R){n(R<=67108863);for(var N=0,B=this.length-1;B>=0;B--){var q=(this.words[B]|0)+N*67108864;this.words[B]=q/R|0,N=q%R}return this.strip()},o.prototype.divn=function(R){return this.clone().idivn(R)},o.prototype.egcd=function(R){n(R.negative===0),n(!R.isZero());var N=this,B=R.clone();N.negative!==0?N=N.umod(R):N=N.clone();for(var q=new o(1),V=new o(0),J=new o(0),it=new o(1),nt=0;N.isEven()&&B.isEven();)N.iushrn(1),B.iushrn(1),++nt;for(var Y=B.clone(),Z=N.clone();!N.isZero();){for(var $=0,G=1;!(N.words[0]&G)&&$<26;++$,G<<=1);if($>0)for(N.iushrn($);$-- >0;)(q.isOdd()||V.isOdd())&&(q.iadd(Y),V.isub(Z)),q.iushrn(1),V.iushrn(1);for(var rt=0,ot=1;!(B.words[0]&ot)&&rt<26;++rt,ot<<=1);if(rt>0)for(B.iushrn(rt);rt-- >0;)(J.isOdd()||it.isOdd())&&(J.iadd(Y),it.isub(Z)),J.iushrn(1),it.iushrn(1);N.cmp(B)>=0?(N.isub(B),q.isub(J),V.isub(it)):(B.isub(N),J.isub(q),it.isub(V))}return{a:J,b:it,gcd:B.iushln(nt)}},o.prototype._invmp=function(R){n(R.negative===0),n(!R.isZero());var N=this,B=R.clone();N.negative!==0?N=N.umod(R):N=N.clone();for(var q=new o(1),V=new o(0),J=B.clone();N.cmpn(1)>0&&B.cmpn(1)>0;){for(var it=0,nt=1;!(N.words[0]&nt)&&it<26;++it,nt<<=1);if(it>0)for(N.iushrn(it);it-- >0;)q.isOdd()&&q.iadd(J),q.iushrn(1);for(var Y=0,Z=1;!(B.words[0]&Z)&&Y<26;++Y,Z<<=1);if(Y>0)for(B.iushrn(Y);Y-- >0;)V.isOdd()&&V.iadd(J),V.iushrn(1);N.cmp(B)>=0?(N.isub(B),q.isub(V)):(B.isub(N),V.isub(q))}var $;return N.cmpn(1)===0?$=q:$=V,$.cmpn(0)<0&&$.iadd(R),$},o.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var N=this.clone(),B=R.clone();N.negative=0,B.negative=0;for(var q=0;N.isEven()&&B.isEven();q++)N.iushrn(1),B.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;B.isEven();)B.iushrn(1);var V=N.cmp(B);if(V<0){var J=N;N=B,B=J}else if(V===0||B.cmpn(1)===0)break;N.isub(B)}while(!0);return B.iushln(q)},o.prototype.invm=function(R){return this.egcd(R).a.umod(R)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(R){return this.words[0]&R},o.prototype.bincn=function(R){n(typeof R=="number");var N=R%26,B=(R-N)/26,q=1<<N;if(this.length<=B)return this._expand(B+1),this.words[B]|=q,this;for(var V=q,J=B;V!==0&&J<this.length;J++){var it=this.words[J]|0;it+=V,V=it>>>26,it&=67108863,this.words[J]=it}return V!==0&&(this.words[J]=V,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(R){var N=R<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this.strip();var B;if(this.length>1)B=1;else{N&&(R=-R),n(R<=67108863,"Number is too big");var q=this.words[0]|0;B=q===R?0:q<R?-1:1}return this.negative!==0?-B|0:B},o.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var N=this.ucmp(R);return this.negative!==0?-N|0:N},o.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var N=0,B=this.length-1;B>=0;B--){var q=this.words[B]|0,V=R.words[B]|0;if(q!==V){q<V?N=-1:q>V&&(N=1);break}}return N},o.prototype.gtn=function(R){return this.cmpn(R)===1},o.prototype.gt=function(R){return this.cmp(R)===1},o.prototype.gten=function(R){return this.cmpn(R)>=0},o.prototype.gte=function(R){return this.cmp(R)>=0},o.prototype.ltn=function(R){return this.cmpn(R)===-1},o.prototype.lt=function(R){return this.cmp(R)===-1},o.prototype.lten=function(R){return this.cmpn(R)<=0},o.prototype.lte=function(R){return this.cmp(R)<=0},o.prototype.eqn=function(R){return this.cmpn(R)===0},o.prototype.eq=function(R){return this.cmp(R)===0},o.red=function(R){return new P(R)},o.prototype.toRed=function(R){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(R){return this.red=R,this},o.prototype.forceRed=function(R){return n(!this.red,"Already a number in reduction context"),this._forceRed(R)},o.prototype.redAdd=function(R){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},o.prototype.redIAdd=function(R){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},o.prototype.redSub=function(R){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},o.prototype.redISub=function(R){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},o.prototype.redShl=function(R){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},o.prototype.redMul=function(R){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},o.prototype.redIMul=function(R){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(R){return n(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var m={k256:null,p224:null,p192:null,p25519:null};function M(R,N){this.name=R,this.p=new o(N,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var R=new o(null);return R.words=new Array(Math.ceil(this.n/13)),R},M.prototype.ireduce=function(R){var N=R,B;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),B=N.bitLength();while(B>this.n);var q=B<this.n?-1:N.ucmp(this.p);return q===0?(N.words[0]=0,N.length=1):q>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},M.prototype.split=function(R,N){R.iushrn(this.n,0,N)},M.prototype.imulK=function(R){return R.imul(this.k)};function w(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(w,M),w.prototype.split=function(R,N){for(var B=4194303,q=Math.min(R.length,9),V=0;V<q;V++)N.words[V]=R.words[V];if(N.length=q,R.length<=9){R.words[0]=0,R.length=1;return}var J=R.words[9];for(N.words[N.length++]=J&B,V=10;V<R.length;V++){var it=R.words[V]|0;R.words[V-10]=(it&B)<<4|J>>>22,J=it}J>>>=22,R.words[V-10]=J,J===0&&R.length>10?R.length-=10:R.length-=9},w.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var N=0,B=0;B<R.length;B++){var q=R.words[B]|0;N+=q*977,R.words[B]=N&67108863,N=q*64+(N/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R};function z(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(z,M);function O(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(O,M);function D(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(D,M),D.prototype.imulK=function(R){for(var N=0,B=0;B<R.length;B++){var q=(R.words[B]|0)*19+N,V=q&67108863;q>>>=26,R.words[B]=V,N=q}return N!==0&&(R.words[R.length++]=N),R},o._prime=function(R){if(m[R])return m[R];var N;if(R==="k256")N=new w;else if(R==="p224")N=new z;else if(R==="p192")N=new O;else if(R==="p25519")N=new D;else throw new Error("Unknown prime "+R);return m[R]=N,N};function P(R){if(typeof R=="string"){var N=o._prime(R);this.m=N.p,this.prime=N}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}P.prototype._verify1=function(R){n(R.negative===0,"red works only with positives"),n(R.red,"red works only with red numbers")},P.prototype._verify2=function(R,N){n((R.negative|N.negative)===0,"red works only with positives"),n(R.red&&R.red===N.red,"red works only with red numbers")},P.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},P.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},P.prototype.add=function(R,N){this._verify2(R,N);var B=R.add(N);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},P.prototype.iadd=function(R,N){this._verify2(R,N);var B=R.iadd(N);return B.cmp(this.m)>=0&&B.isub(this.m),B},P.prototype.sub=function(R,N){this._verify2(R,N);var B=R.sub(N);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},P.prototype.isub=function(R,N){this._verify2(R,N);var B=R.isub(N);return B.cmpn(0)<0&&B.iadd(this.m),B},P.prototype.shl=function(R,N){return this._verify1(R),this.imod(R.ushln(N))},P.prototype.imul=function(R,N){return this._verify2(R,N),this.imod(R.imul(N))},P.prototype.mul=function(R,N){return this._verify2(R,N),this.imod(R.mul(N))},P.prototype.isqr=function(R){return this.imul(R,R.clone())},P.prototype.sqr=function(R){return this.mul(R,R)},P.prototype.sqrt=function(R){if(R.isZero())return R.clone();var N=this.m.andln(3);if(n(N%2===1),N===3){var B=this.m.add(new o(1)).iushrn(2);return this.pow(R,B)}for(var q=this.m.subn(1),V=0;!q.isZero()&&q.andln(1)===0;)V++,q.iushrn(1);n(!q.isZero());var J=new o(1).toRed(this),it=J.redNeg(),nt=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new o(2*Y*Y).toRed(this);this.pow(Y,nt).cmp(it)!==0;)Y.redIAdd(it);for(var Z=this.pow(Y,q),$=this.pow(R,q.addn(1).iushrn(1)),G=this.pow(R,q),rt=V;G.cmp(J)!==0;){for(var ot=G,W=0;ot.cmp(J)!==0;W++)ot=ot.redSqr();n(W<rt);var H=this.pow(Z,new o(1).iushln(rt-W-1));$=$.redMul(H),Z=H.redSqr(),G=G.redMul(Z),rt=W}return $},P.prototype.invm=function(R){var N=R._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},P.prototype.pow=function(R,N){if(N.isZero())return new o(1).toRed(this);if(N.cmpn(1)===0)return R.clone();var B=4,q=new Array(1<<B);q[0]=new o(1).toRed(this),q[1]=R;for(var V=2;V<q.length;V++)q[V]=this.mul(q[V-1],R);var J=q[0],it=0,nt=0,Y=N.bitLength()%26;for(Y===0&&(Y=26),V=N.length-1;V>=0;V--){for(var Z=N.words[V],$=Y-1;$>=0;$--){var G=Z>>$&1;if(J!==q[0]&&(J=this.sqr(J)),G===0&&it===0){nt=0;continue}it<<=1,it|=G,nt++,!(nt!==B&&(V!==0||$!==0))&&(J=this.mul(J,q[it]),nt=0,it=0)}Y=26}return J},P.prototype.convertTo=function(R){var N=R.umod(this.m);return N===R?N.clone():N},P.prototype.convertFrom=function(R){var N=R.clone();return N.red=null,N},o.mont=function(R){return new F(R)};function F(R){P.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(F,P),F.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},F.prototype.convertFrom=function(R){var N=this.imod(R.mul(this.rinv));return N.red=null,N},F.prototype.imul=function(R,N){if(R.isZero()||N.isZero())return R.words[0]=0,R.length=1,R;var B=R.imul(N),q=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=B.isub(q).iushrn(this.shift),J=V;return V.cmp(this.m)>=0?J=V.isub(this.m):V.cmpn(0)<0&&(J=V.iadd(this.m)),J._forceRed(this)},F.prototype.mul=function(R,N){if(R.isZero()||N.isZero())return new o(0)._forceRed(this);var B=R.mul(N),q=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=B.isub(q).iushrn(this.shift),J=V;return V.cmp(this.m)>=0?J=V.isub(this.m):V.cmpn(0)<0&&(J=V.iadd(this.m)),J._forceRed(this)},F.prototype.invm=function(R){var N=this.imod(R._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(v,this)},6204:function(v){v.exports=d;function d(r){var e,l,n,s=r.length,o=0;for(e=0;e<s;++e)o+=r[e].length;var f=new Array(o),b=0;for(e=0;e<s;++e){var h=r[e],_=h.length;for(l=0;l<_;++l){var a=f[b++]=new Array(_-1),c=0;for(n=0;n<_;++n)n!==l&&(a[c++]=h[n]);if(l&1){var p=a[1];a[1]=a[0],a[0]=p}}}return f}},6867:function(v,d,r){v.exports=c;var e=r(1888),l=r(855),n=r(7150);function s(p,x){for(var k=0;k<p;++k)if(!(x[k]<=x[k+p]))return!0;return!1}function o(p,x,k,y){for(var A=0,C=0,u=0,m=p.length;u<m;++u){var M=p[u];if(!s(x,M)){for(var w=0;w<2*x;++w)k[A++]=M[w];y[C++]=u}}return C}function f(p,x,k,y){var A=p.length,C=x.length;if(!(A<=0||C<=0)){var u=p[0].length>>>1;if(!(u<=0)){var m,M=e.mallocDouble(2*u*A),w=e.mallocInt32(A);if(A=o(p,u,M,w),A>0){if(u===1&&y)l.init(A),m=l.sweepComplete(u,k,0,A,M,w,0,A,M,w);else{var z=e.mallocDouble(2*u*C),O=e.mallocInt32(C);C=o(x,u,z,O),C>0&&(l.init(A+C),u===1?m=l.sweepBipartite(u,k,0,A,M,w,0,C,z,O):m=n(u,k,y,A,M,w,C,z,O),e.free(z),e.free(O))}e.free(M),e.free(w)}return m}}}var b;function h(p,x){b.push([p,x])}function _(p){return b=[],f(p,p,h,!0),b}function a(p,x){return b=[],f(p,x,h,!1),b}function c(p,x,k){switch(arguments.length){case 1:return _(p);case 2:return typeof x=="function"?f(p,p,x,!0):a(p,x);case 3:return f(p,x,k,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,d){function r(){function n(f,b,h,_,a,c,p,x,k,y,A){for(var C=2*f,u=_,m=C*_;u<a;++u,m+=C){var M=c[b+m],w=c[b+m+f],z=p[u];t:for(var O=x,D=C*x;O<k;++O,D+=C){var P=y[b+D],F=y[b+D+f],R=A[O];if(!(F<M||w<P)){for(var N=b+1;N<f;++N){var B=c[N+m],q=c[N+f+m],V=y[N+D],J=y[N+f+D];if(q<V||J<B)continue t}var it=h(z,R);if(it!==void 0)return it}}}}function s(f,b,h,_,a,c,p,x,k,y,A){for(var C=2*f,u=x,m=C*x;u<k;++u,m+=C){var M=y[b+m],w=y[b+m+f],z=A[u];t:for(var O=_,D=C*_;O<a;++O,D+=C){var P=c[b+D],F=c[b+D+f],R=p[O];if(!(w<P||F<M)){for(var N=b+1;N<f;++N){var B=c[N+D],q=c[N+f+D],V=y[N+m],J=y[N+f+m];if(q<V||J<B)continue t}var it=h(R,z);if(it!==void 0)return it}}}}function o(f,b,h,_,a,c,p,x,k,y,A){return a-_>k-x?n(f,b,h,_,a,c,p,x,k,y,A):s(f,b,h,_,a,c,p,x,k,y,A)}return o}function e(){function n(h,_,a,c,p,x,k,y,A,C,u){for(var m=2*h,M=c,w=m*c;M<p;++M,w+=m){var z=x[_+w],O=x[_+w+h],D=k[M];t:for(var P=y,F=m*y;P<A;++P,F+=m){var R=C[_+F],N=u[P];if(!(R<=z||O<R)){for(var B=_+1;B<h;++B){var q=x[B+w],V=x[B+h+w],J=C[B+F],it=C[B+h+F];if(V<J||it<q)continue t}var nt=a(N,D);if(nt!==void 0)return nt}}}}function s(h,_,a,c,p,x,k,y,A,C,u){for(var m=2*h,M=c,w=m*c;M<p;++M,w+=m){var z=x[_+w],O=x[_+w+h],D=k[M];t:for(var P=y,F=m*y;P<A;++P,F+=m){var R=C[_+F],N=u[P];if(!(R<z||O<R)){for(var B=_+1;B<h;++B){var q=x[B+w],V=x[B+h+w],J=C[B+F],it=C[B+h+F];if(V<J||it<q)continue t}var nt=a(D,N);if(nt!==void 0)return nt}}}}function o(h,_,a,c,p,x,k,y,A,C,u){for(var m=2*h,M=y,w=m*y;M<A;++M,w+=m){var z=C[_+w],O=u[M];t:for(var D=c,P=m*c;D<p;++D,P+=m){var F=x[_+P],R=x[_+P+h],N=k[D];if(!(z<=F||R<z)){for(var B=_+1;B<h;++B){var q=x[B+P],V=x[B+h+P],J=C[B+w],it=C[B+h+w];if(V<J||it<q)continue t}var nt=a(O,N);if(nt!==void 0)return nt}}}}function f(h,_,a,c,p,x,k,y,A,C,u){for(var m=2*h,M=y,w=m*y;M<A;++M,w+=m){var z=C[_+w],O=u[M];t:for(var D=c,P=m*c;D<p;++D,P+=m){var F=x[_+P],R=x[_+P+h],N=k[D];if(!(z<F||R<z)){for(var B=_+1;B<h;++B){var q=x[B+P],V=x[B+h+P],J=C[B+w],it=C[B+h+w];if(V<J||it<q)continue t}var nt=a(N,O);if(nt!==void 0)return nt}}}}function b(h,_,a,c,p,x,k,y,A,C,u,m){return x-p>C-A?c?n(h,_,a,p,x,k,y,A,C,u,m):s(h,_,a,p,x,k,y,A,C,u,m):c?o(h,_,a,p,x,k,y,A,C,u,m):f(h,_,a,p,x,k,y,A,C,u,m)}return b}function l(n){return n?r():e()}d.partial=l(!1),d.full=l(!0)},7150:function(v,d,r){v.exports=R;var e=r(1888),l=r(8828),n=r(2455),s=n.partial,o=n.full,f=r(855),b=r(3545),h=r(8105),_=128,a=1<<22,c=1<<22,p=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),k=h("lo<p0"),y=h("hi<=p0"),A=h("lo<=p0&&p0<=hi"),C=h("lo<p0&&p0<=hi"),u=6,m=2,M=1024,w=e.mallocInt32(M),z=e.mallocDouble(M);function O(N,B){var q=8*l.log2(B+1)*(N+1)|0,V=l.nextPow2(u*q);w.length<V&&(e.free(w),w=e.mallocInt32(V));var J=l.nextPow2(m*q);z.length<J&&(e.free(z),z=e.mallocDouble(J))}function D(N,B,q,V,J,it,nt,Y,Z){var $=u*N;w[$]=B,w[$+1]=q,w[$+2]=V,w[$+3]=J,w[$+4]=it,w[$+5]=nt;var G=m*N;z[G]=Y,z[G+1]=Z}function P(N,B,q,V,J,it,nt,Y,Z,$,G){var rt=2*N,ot=Z*rt,W=$[ot+B];t:for(var H=J,at=J*rt;H<it;++H,at+=rt){var Q=nt[at+B],ct=nt[at+B+N];if(!(W<Q||ct<W)&&!(V&&W===Q)){for(var ft=Y[H],yt=B+1;yt<N;++yt){var Q=nt[at+yt],ct=nt[at+yt+N],xt=$[ot+yt],Lt=$[ot+yt+N];if(ct<xt||Lt<Q)continue t}var gt;if(V?gt=q(G,ft):gt=q(ft,G),gt!==void 0)return gt}}}function F(N,B,q,V,J,it,nt,Y,Z,$){var G=2*N,rt=Y*G,ot=Z[rt+B];t:for(var W=V,H=V*G;W<J;++W,H+=G){var at=nt[W];if(at!==$){var Q=it[H+B],ct=it[H+B+N];if(!(ot<Q||ct<ot)){for(var ft=B+1;ft<N;++ft){var Q=it[H+ft],ct=it[H+ft+N],yt=Z[rt+ft],xt=Z[rt+ft+N];if(ct<yt||xt<Q)continue t}var Lt=q(at,$);if(Lt!==void 0)return Lt}}}}function R(N,B,q,V,J,it,nt,Y,Z){O(N,V+nt);var $=0,G=2*N,rt;for(D($++,0,0,V,0,nt,q?16:0,-1/0,1/0),q||D($++,0,0,nt,0,V,1,-1/0,1/0);$>0;){$-=1;var ot=$*u,W=w[ot],H=w[ot+1],at=w[ot+2],Q=w[ot+3],ct=w[ot+4],ft=w[ot+5],yt=$*m,xt=z[yt],Lt=z[yt+1],gt=ft&1,mt=!!(ft&16),vt=J,At=it,Ot=Y,Pt=Z;if(gt&&(vt=Y,At=Z,Ot=J,Pt=it),!(ft&2&&(at=k(N,W,H,at,vt,At,Lt),H>=at))&&!(ft&4&&(H=y(N,W,H,at,vt,At,xt),H>=at))){var Et=at-H,Nt=ct-Q;if(mt){if(N*Et*(Et+Nt)<c){if(rt=f.scanComplete(N,W,B,H,at,vt,At,Q,ct,Ot,Pt),rt!==void 0)return rt;continue}}else if(N*Math.min(Et,Nt)<_){if(rt=s(N,W,B,gt,H,at,vt,At,Q,ct,Ot,Pt),rt!==void 0)return rt;continue}else if(N*Et*Nt<a){if(rt=f.scanBipartite(N,W,B,gt,H,at,vt,At,Q,ct,Ot,Pt),rt!==void 0)return rt;continue}var ne=p(N,W,H,at,vt,At,xt,Lt);if(H<ne)if(N*(ne-H)<_){if(rt=o(N,W+1,B,H,ne,vt,At,Q,ct,Ot,Pt),rt!==void 0)return rt}else if(W===N-2){if(gt?rt=f.sweepBipartite(N,B,Q,ct,Ot,Pt,H,ne,vt,At):rt=f.sweepBipartite(N,B,H,ne,vt,At,Q,ct,Ot,Pt),rt!==void 0)return rt}else D($++,W+1,H,ne,Q,ct,gt,-1/0,1/0),D($++,W+1,Q,ct,H,ne,gt^1,-1/0,1/0);if(ne<at){var Gt=b(N,W,Q,ct,Ot,Pt),pe=Ot[G*Gt+W],Vt=x(N,W,Gt,ct,Ot,Pt,pe);if(Vt<ct&&D($++,W,ne,at,Vt,ct,(gt|4)+(mt?16:0),pe,Lt),Q<Gt&&D($++,W,ne,at,Q,Gt,(gt|2)+(mt?16:0),xt,pe),Gt+1===Vt){if(mt?rt=F(N,W,B,ne,at,vt,At,Gt,Ot,Pt[Gt]):rt=P(N,W,B,gt,ne,at,vt,At,Gt,Ot,Pt[Gt]),rt!==void 0)return rt}else if(Gt<Vt){var ae;if(mt){if(ae=A(N,W,ne,at,vt,At,pe),ne<ae){var oe=x(N,W,ne,ae,vt,At,pe);if(W===N-2){if(ne<oe&&(rt=f.sweepComplete(N,B,ne,oe,vt,At,Gt,Vt,Ot,Pt),rt!==void 0)||oe<ae&&(rt=f.sweepBipartite(N,B,oe,ae,vt,At,Gt,Vt,Ot,Pt),rt!==void 0))return rt}else ne<oe&&D($++,W+1,ne,oe,Gt,Vt,16,-1/0,1/0),oe<ae&&(D($++,W+1,oe,ae,Gt,Vt,0,-1/0,1/0),D($++,W+1,Gt,Vt,oe,ae,1,-1/0,1/0))}}else gt?ae=C(N,W,ne,at,vt,At,pe):ae=A(N,W,ne,at,vt,At,pe),ne<ae&&(W===N-2?gt?rt=f.sweepBipartite(N,B,Gt,Vt,Ot,Pt,ne,ae,vt,At):rt=f.sweepBipartite(N,B,ne,ae,vt,At,Gt,Vt,Ot,Pt):(D($++,W+1,ne,ae,Gt,Vt,gt,-1/0,1/0),D($++,W+1,Gt,Vt,ne,ae,gt^1,-1/0,1/0)))}}}}}},3545:function(v,d,r){v.exports=o;var e=r(8105),l=e("lo<p0"),n=8;function s(f,b,h,_,a,c){for(var p=2*f,x=p*(h+1)+b,k=h+1;k<_;++k,x+=p)for(var y=a[x],A=k,C=p*(k-1);A>h&&a[C+b]>y;--A,C-=p){for(var u=C,m=C+p,M=0;M<p;++M,++u,++m){var w=a[u];a[u]=a[m],a[m]=w}var z=c[A];c[A]=c[A-1],c[A-1]=z}}function o(f,b,h,_,a,c){if(_<=h+1)return h;for(var p=h,x=_,k=_+h>>>1,y=2*f,A=k,C=a[y*k+b];p<x;){if(x-p<n){s(f,b,p,x,a,c),C=a[y*k+b];break}var u=x-p,m=Math.random()*u+p|0,M=a[y*m+b],w=Math.random()*u+p|0,z=a[y*w+b],O=Math.random()*u+p|0,D=a[y*O+b];M<=z?D>=z?(A=w,C=z):M>=D?(A=m,C=M):(A=O,C=D):z>=D?(A=w,C=z):D>=M?(A=m,C=M):(A=O,C=D);for(var P=y*(x-1),F=y*A,R=0;R<y;++R,++P,++F){var N=a[P];a[P]=a[F],a[F]=N}var B=c[x-1];c[x-1]=c[A],c[A]=B,A=l(f,b,p,x-1,a,c,C);for(var P=y*(x-1),F=y*A,R=0;R<y;++R,++P,++F){var N=a[P];a[P]=a[F],a[F]=N}var B=c[x-1];if(c[x-1]=c[A],c[A]=B,k<A){for(x=A-1;p<x&&a[y*(x-1)+b]===C;)x-=1;x+=1}else if(A<k)for(p=A+1;p<x&&a[y*p+b]===C;)p+=1;else break}return l(f,b,h,k,a,c,a[y*k+b])}},8105:function(v){v.exports=r;var d={"lo===p0":e,"lo<p0":l,"lo<=p0":n,"hi<=p0":s,"lo<p0&&p0<=hi":f,"lo<=p0&&p0<=hi":o,"!(lo>=p0)&&!(p1>=hi)":b};function r(h){return d[h]}function e(h,_,a,c,p,x,k){for(var y=2*h,A=y*a,C=A,u=a,m=_,M=h+_,w=a;c>w;++w,A+=y){var z=p[A+m];if(z===k)if(u===w)u+=1,C+=y;else{for(var O=0;y>O;++O){var D=p[A+O];p[A+O]=p[C],p[C++]=D}var P=x[w];x[w]=x[u],x[u++]=P}}return u}function l(h,_,a,c,p,x,k){for(var y=2*h,A=y*a,C=A,u=a,m=_,M=h+_,w=a;c>w;++w,A+=y){var z=p[A+m];if(z<k)if(u===w)u+=1,C+=y;else{for(var O=0;y>O;++O){var D=p[A+O];p[A+O]=p[C],p[C++]=D}var P=x[w];x[w]=x[u],x[u++]=P}}return u}function n(h,_,a,c,p,x,k){for(var y=2*h,A=y*a,C=A,u=a,m=_,M=h+_,w=a;c>w;++w,A+=y){var z=p[A+M];if(z<=k)if(u===w)u+=1,C+=y;else{for(var O=0;y>O;++O){var D=p[A+O];p[A+O]=p[C],p[C++]=D}var P=x[w];x[w]=x[u],x[u++]=P}}return u}function s(h,_,a,c,p,x,k){for(var y=2*h,A=y*a,C=A,u=a,m=_,M=h+_,w=a;c>w;++w,A+=y){var z=p[A+M];if(z<=k)if(u===w)u+=1,C+=y;else{for(var O=0;y>O;++O){var D=p[A+O];p[A+O]=p[C],p[C++]=D}var P=x[w];x[w]=x[u],x[u++]=P}}return u}function o(h,_,a,c,p,x,k){for(var y=2*h,A=y*a,C=A,u=a,m=_,M=h+_,w=a;c>w;++w,A+=y){var z=p[A+m],O=p[A+M];if(z<=k&&k<=O)if(u===w)u+=1,C+=y;else{for(var D=0;y>D;++D){var P=p[A+D];p[A+D]=p[C],p[C++]=P}var F=x[w];x[w]=x[u],x[u++]=F}}return u}function f(h,_,a,c,p,x,k){for(var y=2*h,A=y*a,C=A,u=a,m=_,M=h+_,w=a;c>w;++w,A+=y){var z=p[A+m],O=p[A+M];if(z<k&&k<=O)if(u===w)u+=1,C+=y;else{for(var D=0;y>D;++D){var P=p[A+D];p[A+D]=p[C],p[C++]=P}var F=x[w];x[w]=x[u],x[u++]=F}}return u}function b(h,_,a,c,p,x,k,y){for(var A=2*h,C=A*a,u=C,m=a,M=_,w=h+_,z=a;c>z;++z,C+=A){var O=p[C+M],D=p[C+w];if(!(O>=k)&&!(y>=D))if(m===z)m+=1,u+=A;else{for(var P=0;A>P;++P){var F=p[C+P];p[C+P]=p[u],p[u++]=F}var R=x[z];x[z]=x[m],x[m++]=R}}return m}},1811:function(v){v.exports=r;var d=32;function r(_,a){a<=4*d?e(0,a-1,_):h(0,a-1,_)}function e(_,a,c){for(var p=2*(_+1),x=_+1;x<=a;++x){for(var k=c[p++],y=c[p++],A=x,C=p-2;A-- >_;){var u=c[C-2],m=c[C-1];if(u<k||u===k&&m<y)break;c[C]=u,c[C+1]=m,C-=2}c[C]=k,c[C+1]=y}}function l(_,a,c){_*=2,a*=2;var p=c[_],x=c[_+1];c[_]=c[a],c[_+1]=c[a+1],c[a]=p,c[a+1]=x}function n(_,a,c){_*=2,a*=2,c[_]=c[a],c[_+1]=c[a+1]}function s(_,a,c,p){_*=2,a*=2,c*=2;var x=p[_],k=p[_+1];p[_]=p[a],p[_+1]=p[a+1],p[a]=p[c],p[a+1]=p[c+1],p[c]=x,p[c+1]=k}function o(_,a,c,p,x){_*=2,a*=2,x[_]=x[a],x[a]=c,x[_+1]=x[a+1],x[a+1]=p}function f(_,a,c){_*=2,a*=2;var p=c[_],x=c[a];return p<x?!1:p===x?c[_+1]>c[a+1]:!0}function b(_,a,c,p){_*=2;var x=p[_];return x<a?!0:x===a?p[_+1]<c:!1}function h(_,a,c){var p=(a-_+1)/6|0,x=_+p,k=a-p,y=_+a>>1,A=y-p,C=y+p,u=x,m=A,M=y,w=C,z=k,O=_+1,D=a-1,P=0;f(u,m,c)&&(P=u,u=m,m=P),f(w,z,c)&&(P=w,w=z,z=P),f(u,M,c)&&(P=u,u=M,M=P),f(m,M,c)&&(P=m,m=M,M=P),f(u,w,c)&&(P=u,u=w,w=P),f(M,w,c)&&(P=M,M=w,w=P),f(m,z,c)&&(P=m,m=z,z=P),f(m,M,c)&&(P=m,m=M,M=P),f(w,z,c)&&(P=w,w=z,z=P);for(var F=c[2*m],R=c[2*m+1],N=c[2*w],B=c[2*w+1],q=2*u,V=2*M,J=2*z,it=2*x,nt=2*y,Y=2*k,Z=0;Z<2;++Z){var $=c[q+Z],G=c[V+Z],rt=c[J+Z];c[it+Z]=$,c[nt+Z]=G,c[Y+Z]=rt}n(A,_,c),n(C,a,c);for(var ot=O;ot<=D;++ot)if(b(ot,F,R,c))ot!==O&&l(ot,O,c),++O;else if(!b(ot,N,B,c))for(;;)if(b(D,N,B,c)){b(D,F,R,c)?(s(ot,O,D,c),++O,--D):(l(ot,D,c),--D);break}else{if(--D<ot)break;continue}o(_,O-1,F,R,c),o(a,D+1,N,B,c),O-2-_<=d?e(_,O-2,c):h(_,O-2,c),a-(D+2)<=d?e(D+2,a,c):h(D+2,a,c),D-O<=d?e(O,D,c):h(O,D,c)}},855:function(v,d,r){v.exports={init:x,sweepBipartite:A,sweepComplete:C,scanBipartite:u,scanComplete:m};var e=r(1888),l=r(8828),n=r(1811),s=1<<28,o=1024,f=e.mallocInt32(o),b=e.mallocInt32(o),h=e.mallocInt32(o),_=e.mallocInt32(o),a=e.mallocInt32(o),c=e.mallocInt32(o),p=e.mallocDouble(o*8);function x(M){var w=l.nextPow2(M);f.length<w&&(e.free(f),f=e.mallocInt32(w)),b.length<w&&(e.free(b),b=e.mallocInt32(w)),h.length<w&&(e.free(h),h=e.mallocInt32(w)),_.length<w&&(e.free(_),_=e.mallocInt32(w)),a.length<w&&(e.free(a),a=e.mallocInt32(w)),c.length<w&&(e.free(c),c=e.mallocInt32(w));var z=8*w;p.length<z&&(e.free(p),p=e.mallocDouble(z))}function k(M,w,z,O){var D=w[O],P=M[z-1];M[D]=P,w[P]=D}function y(M,w,z,O){M[z]=O,w[O]=z}function A(M,w,z,O,D,P,F,R,N,B){for(var q=0,V=2*M,J=M-1,it=V-1,nt=z;nt<O;++nt){var Y=P[nt],Z=V*nt;p[q++]=D[Z+J],p[q++]=-(Y+1),p[q++]=D[Z+it],p[q++]=Y}for(var nt=F;nt<R;++nt){var Y=B[nt]+s,$=V*nt;p[q++]=N[$+J],p[q++]=-Y,p[q++]=N[$+it],p[q++]=Y}var G=q>>>1;n(p,G);for(var rt=0,ot=0,nt=0;nt<G;++nt){var W=p[2*nt+1]|0;if(W>=s)W=W-s|0,k(h,_,ot--,W);else if(W>=0)k(f,b,rt--,W);else if(W<=-s){W=-W-s|0;for(var H=0;H<rt;++H){var at=w(f[H],W);if(at!==void 0)return at}y(h,_,ot++,W)}else{W=-W-1|0;for(var H=0;H<ot;++H){var at=w(W,h[H]);if(at!==void 0)return at}y(f,b,rt++,W)}}}function C(M,w,z,O,D,P,F,R,N,B){for(var q=0,V=2*M,J=M-1,it=V-1,nt=z;nt<O;++nt){var Y=P[nt]+1<<1,Z=V*nt;p[q++]=D[Z+J],p[q++]=-Y,p[q++]=D[Z+it],p[q++]=Y}for(var nt=F;nt<R;++nt){var Y=B[nt]+1<<1,$=V*nt;p[q++]=N[$+J],p[q++]=-Y|1,p[q++]=N[$+it],p[q++]=Y|1}var G=q>>>1;n(p,G);for(var rt=0,ot=0,W=0,nt=0;nt<G;++nt){var H=p[2*nt+1]|0,at=H&1;if(nt<G-1&&H>>1===p[2*nt+3]>>1&&(at=2,nt+=1),H<0){for(var Q=-(H>>1)-1,ct=0;ct<W;++ct){var ft=w(a[ct],Q);if(ft!==void 0)return ft}if(at!==0)for(var ct=0;ct<rt;++ct){var ft=w(f[ct],Q);if(ft!==void 0)return ft}if(at!==1)for(var ct=0;ct<ot;++ct){var ft=w(h[ct],Q);if(ft!==void 0)return ft}at===0?y(f,b,rt++,Q):at===1?y(h,_,ot++,Q):at===2&&y(a,c,W++,Q)}else{var Q=(H>>1)-1;at===0?k(f,b,rt--,Q):at===1?k(h,_,ot--,Q):at===2&&k(a,c,W--,Q)}}}function u(M,w,z,O,D,P,F,R,N,B,q,V){var J=0,it=2*M,nt=w,Y=w+M,Z=1,$=1;O?$=s:Z=s;for(var G=D;G<P;++G){var rt=G+Z,ot=it*G;p[J++]=F[ot+nt],p[J++]=-rt,p[J++]=F[ot+Y],p[J++]=rt}for(var G=N;G<B;++G){var rt=G+$,W=it*G;p[J++]=q[W+nt],p[J++]=-rt}var H=J>>>1;n(p,H);for(var at=0,G=0;G<H;++G){var Q=p[2*G+1]|0;if(Q<0){var rt=-Q,ct=!1;if(rt>=s?(ct=!O,rt-=s):(ct=!!O,rt-=1),ct)y(f,b,at++,rt);else{var ft=V[rt],yt=it*rt,xt=q[yt+w+1],Lt=q[yt+w+1+M];t:for(var gt=0;gt<at;++gt){var mt=f[gt],vt=it*mt;if(!(Lt<F[vt+w+1]||F[vt+w+1+M]<xt)){for(var At=w+2;At<M;++At)if(q[yt+At+M]<F[vt+At]||F[vt+At+M]<q[yt+At])continue t;var Ot=R[mt],Pt;if(O?Pt=z(ft,Ot):Pt=z(Ot,ft),Pt!==void 0)return Pt}}}}else k(f,b,at--,Q-Z)}}function m(M,w,z,O,D,P,F,R,N,B,q){for(var V=0,J=2*M,it=w,nt=w+M,Y=O;Y<D;++Y){var Z=Y+s,$=J*Y;p[V++]=P[$+it],p[V++]=-Z,p[V++]=P[$+nt],p[V++]=Z}for(var Y=R;Y<N;++Y){var Z=Y+1,G=J*Y;p[V++]=B[G+it],p[V++]=-Z}var rt=V>>>1;n(p,rt);for(var ot=0,Y=0;Y<rt;++Y){var W=p[2*Y+1]|0;if(W<0){var Z=-W;if(Z>=s)f[ot++]=Z-s;else{Z-=1;var H=q[Z],at=J*Z,Q=B[at+w+1],ct=B[at+w+1+M];t:for(var ft=0;ft<ot;++ft){var yt=f[ft],xt=F[yt];if(xt===H)break;var Lt=J*yt;if(!(ct<P[Lt+w+1]||P[Lt+w+1+M]<Q)){for(var gt=w+2;gt<M;++gt)if(B[at+gt+M]<P[Lt+gt]||P[Lt+gt+M]<B[at+gt])continue t;var mt=z(xt,H);if(mt!==void 0)return mt}}}}else{for(var Z=W-s,ft=ot-1;ft>=0;--ft)if(f[ft]===Z){for(var gt=ft+1;gt<ot;++gt)f[gt-1]=f[gt];break}--ot}}}},2538:function(v,d,r){var e=r(8902),l=r(5542),n=r(2272),s=r(5023);v.exports=_;function o(a){return[Math.min(a[0],a[1]),Math.max(a[0],a[1])]}function f(a,c){return a[0]-c[0]||a[1]-c[1]}function b(a){return a.map(o).sort(f)}function h(a,c,p){return c in a?a[c]:p}function _(a,c,p){Array.isArray(c)?(p=p||{},c=c||[]):(p=c||{},c=[]);var x=!!h(p,"delaunay",!0),k=!!h(p,"interior",!0),y=!!h(p,"exterior",!0),A=!!h(p,"infinity",!1);if(!k&&!y||a.length===0)return[];var C=e(a,c);if(x||k!==y||A){for(var u=l(a.length,b(c)),m=0;m<C.length;++m){var M=C[m];u.addTriangle(M[0],M[1],M[2])}return x&&n(a,u),y?k?A?s(u,0,A):u.cells():s(u,1,A):s(u,-1)}else return C}},2272:function(v,d,r){var e=r(2646)[4];r(2478),v.exports=n;function l(s,o,f,b,h,_){var a=o.opposite(b,h);if(!(a<0)){if(h<b){var c=b;b=h,h=c,c=_,_=a,a=c}o.isConstraint(b,h)||e(s[b],s[h],s[_],s[a])<0&&f.push(b,h)}}function n(s,o){for(var f=[],b=s.length,h=o.stars,_=0;_<b;++_)for(var a=h[_],c=1;c<a.length;c+=2){var p=a[c];if(!(p<_)&&!o.isConstraint(_,p)){for(var x=a[c-1],k=-1,y=1;y<a.length;y+=2)if(a[y-1]===p){k=a[y];break}k<0||e(s[_],s[p],s[x],s[k])<0&&f.push(_,p)}}for(;f.length>0;){for(var p=f.pop(),_=f.pop(),x=-1,k=-1,a=h[_],A=1;A<a.length;A+=2){var C=a[A-1],u=a[A];C===p?k=u:u===p&&(x=C)}x<0||k<0||e(s[_],s[p],s[x],s[k])>=0||(o.flip(_,p),l(s,o,f,x,_,k),l(s,o,f,_,k,x),l(s,o,f,k,p,x),l(s,o,f,p,x,k))}}},5023:function(v,d,r){var e=r(2478);v.exports=b;function l(h,_,a,c,p,x,k){this.cells=h,this.neighbor=_,this.flags=c,this.constraint=a,this.active=p,this.next=x,this.boundary=k}var n=l.prototype;function s(h,_){return h[0]-_[0]||h[1]-_[1]||h[2]-_[2]}n.locate=function(){var h=[0,0,0];return function(_,a,c){var p=_,x=a,k=c;return a<c?a<_&&(p=a,x=c,k=_):c<_&&(p=c,x=_,k=a),p<0?-1:(h[0]=p,h[1]=x,h[2]=k,e.eq(this.cells,h,s))}}();function o(h,_){for(var a=h.cells(),c=a.length,p=0;p<c;++p){var x=a[p],k=x[0],y=x[1],A=x[2];y<A?y<k&&(x[0]=y,x[1]=A,x[2]=k):A<k&&(x[0]=A,x[1]=k,x[2]=y)}a.sort(s);for(var C=new Array(c),p=0;p<C.length;++p)C[p]=0;var u=[],m=[],M=new Array(3*c),w=new Array(3*c),z=null;_&&(z=[]);for(var O=new l(a,M,w,C,u,m,z),p=0;p<c;++p)for(var x=a[p],D=0;D<3;++D){var k=x[D],y=x[(D+1)%3],P=M[3*p+D]=O.locate(y,k,h.opposite(y,k)),F=w[3*p+D]=h.isConstraint(k,y);P<0&&(F?m.push(p):(u.push(p),C[p]=1),_&&z.push([y,k,-1]))}return O}function f(h,_,a){for(var c=0,p=0;p<h.length;++p)_[p]===a&&(h[c++]=h[p]);return h.length=c,h}function b(h,_,a){var c=o(h,a);if(_===0)return a?c.cells.concat(c.boundary):c.cells;for(var p=1,x=c.active,k=c.next,y=c.flags,A=c.cells,C=c.constraint,u=c.neighbor;x.length>0||k.length>0;){for(;x.length>0;){var m=x.pop();if(y[m]!==-p){y[m]=p;for(var M=A[m],w=0;w<3;++w){var z=u[3*m+w];z>=0&&y[z]===0&&(C[3*m+w]?k.push(z):(x.push(z),y[z]=p))}}}var O=k;k=x,x=O,k.length=0,p=-p}var D=f(A,y,_);return a?D.concat(c.boundary):D}},8902:function(v,d,r){var e=r(2478),l=r(3250)[3],n=0,s=1,o=2;v.exports=k;function f(y,A,C,u,m){this.a=y,this.b=A,this.idx=C,this.lowerIds=u,this.upperIds=m}function b(y,A,C,u){this.a=y,this.b=A,this.type=C,this.idx=u}function h(y,A){var C=y.a[0]-A.a[0]||y.a[1]-A.a[1]||y.type-A.type;return C||y.type!==n&&(C=l(y.a,y.b,A.b),C)?C:y.idx-A.idx}function _(y,A){return l(y.a,y.b,A)}function a(y,A,C,u,m){for(var M=e.lt(A,u,_),w=e.gt(A,u,_),z=M;z<w;++z){for(var O=A[z],D=O.lowerIds,P=D.length;P>1&&l(C[D[P-2]],C[D[P-1]],u)>0;)y.push([D[P-1],D[P-2],m]),P-=1;D.length=P,D.push(m);for(var F=O.upperIds,P=F.length;P>1&&l(C[F[P-2]],C[F[P-1]],u)<0;)y.push([F[P-2],F[P-1],m]),P-=1;F.length=P,F.push(m)}}function c(y,A){var C;return y.a[0]<A.a[0]?C=l(y.a,y.b,A.a):C=l(A.b,A.a,y.a),C||(A.b[0]<y.b[0]?C=l(y.a,y.b,A.b):C=l(A.b,A.a,y.b),C||y.idx-A.idx)}function p(y,A,C){var u=e.le(y,C,c),m=y[u],M=m.upperIds,w=M[M.length-1];m.upperIds=[w],y.splice(u+1,0,new f(C.a,C.b,C.idx,[w],M))}function x(y,A,C){var u=C.a;C.a=C.b,C.b=u;var m=e.eq(y,C,c),M=y[m],w=y[m-1];w.upperIds=M.upperIds,y.splice(m,1)}function k(y,A){for(var C=y.length,u=A.length,m=[],M=0;M<C;++M)m.push(new b(y[M],null,n,M));for(var M=0;M<u;++M){var w=A[M],z=y[w[0]],O=y[w[1]];z[0]<O[0]?m.push(new b(z,O,o,M),new b(O,z,s,M)):z[0]>O[0]&&m.push(new b(O,z,o,M),new b(z,O,s,M))}m.sort(h);for(var D=m[0].a[0]-(1+Math.abs(m[0].a[0]))*Math.pow(2,-52),P=[new f([D,1],[D,0],-1,[],[])],F=[],M=0,R=m.length;M<R;++M){var N=m[M],B=N.type;B===n?a(F,P,y,N.a,N.idx):B===o?p(P,y,N):x(P,y,N)}return F}},5542:function(v,d,r){var e=r(2478);v.exports=o;function l(f,b){this.stars=f,this.edges=b}var n=l.prototype;function s(f,b,h){for(var _=1,a=f.length;_<a;_+=2)if(f[_-1]===b&&f[_]===h){f[_-1]=f[a-2],f[_]=f[a-1],f.length=a-2;return}}n.isConstraint=function(){var f=[0,0];function b(h,_){return h[0]-_[0]||h[1]-_[1]}return function(h,_){return f[0]=Math.min(h,_),f[1]=Math.max(h,_),e.eq(this.edges,f,b)>=0}}(),n.removeTriangle=function(f,b,h){var _=this.stars;s(_[f],b,h),s(_[b],h,f),s(_[h],f,b)},n.addTriangle=function(f,b,h){var _=this.stars;_[f].push(b,h),_[b].push(h,f),_[h].push(f,b)},n.opposite=function(f,b){for(var h=this.stars[b],_=1,a=h.length;_<a;_+=2)if(h[_]===f)return h[_-1];return-1},n.flip=function(f,b){var h=this.opposite(f,b),_=this.opposite(b,f);this.removeTriangle(f,b,h),this.removeTriangle(b,f,_),this.addTriangle(f,_,h),this.addTriangle(b,h,_)},n.edges=function(){for(var f=this.stars,b=[],h=0,_=f.length;h<_;++h)for(var a=f[h],c=0,p=a.length;c<p;c+=2)b.push([a[c],a[c+1]]);return b},n.cells=function(){for(var f=this.stars,b=[],h=0,_=f.length;h<_;++h)for(var a=f[h],c=0,p=a.length;c<p;c+=2){var x=a[c],k=a[c+1];h<Math.min(x,k)&&b.push([h,x,k])}return b};function o(f,b){for(var h=new Array(f),_=0;_<f;++_)h[_]=[];return new l(h,b)}},2419:function(v){v.exports=d;function d(r){for(var e=1,l=1;l<r.length;++l)for(var n=0;n<l;++n)if(r[l]<r[n])e=-e;else if(r[n]===r[l])return 0;return e}},3628:function(v,d,r){var e=r(1338),l=r(727);function n(f,b){for(var h=0,_=f.length,a=0;a<_;++a)h+=f[a]*b[a];return h}function s(f){var b=f.length;if(b===0)return[];f[0].length;var h=e([f.length+1,f.length+1],1),_=e([f.length+1],1);h[b][b]=0;for(var a=0;a<b;++a){for(var c=0;c<=a;++c)h[c][a]=h[a][c]=2*n(f[a],f[c]);_[a]=n(f[a],f[a])}for(var p=l(h,_),x=0,k=p[b+1],a=0;a<k.length;++a)x+=k[a];for(var y=new Array(b),a=0;a<b;++a){for(var k=p[a],A=0,c=0;c<k.length;++c)A+=k[c];y[a]=A/x}return y}function o(f){if(f.length===0)return[];for(var b=f[0].length,h=e([b]),_=s(f),a=0;a<f.length;++a)for(var c=0;c<b;++c)h[c]+=f[a][c]*_[a];return h}o.barycenetric=s,v.exports=o},6037:function(v,d,r){v.exports=l;var e=r(3628);function l(n){for(var s=e(n),o=0,f=0;f<n.length;++f)for(var b=n[f],h=0;h<s.length;++h)o+=Math.pow(b[h]-s[h],2);return Math.sqrt(o/n.length)}},332:function(v,d,r){v.exports=z;var e=r(1755),l=r(6867),n=r(1125),s=r(7842),o=r(1318),f=r(946),b=r(5838),h=r(1278),_=r(3637);function a(O){var D=f(O);return[h(D,-1/0),h(D,1/0)]}function c(O,D){for(var P=new Array(D.length),F=0;F<D.length;++F){var R=D[F],N=O[R[0]],B=O[R[1]];P[F]=[h(Math.min(N[0],B[0]),-1/0),h(Math.min(N[1],B[1]),-1/0),h(Math.max(N[0],B[0]),1/0),h(Math.max(N[1],B[1]),1/0)]}return P}function p(O){for(var D=new Array(O.length),P=0;P<O.length;++P){var F=O[P];D[P]=[h(F[0],-1/0),h(F[1],-1/0),h(F[0],1/0),h(F[1],1/0)]}return D}function x(O,D,P){var F=[];return l(P,function(R,N){var B=D[R],q=D[N];if(!(B[0]===q[0]||B[0]===q[1]||B[1]===q[0]||B[1]===q[1])){var V=O[B[0]],J=O[B[1]],it=O[q[0]],nt=O[q[1]];n(V,J,it,nt)&&F.push([R,N])}}),F}function k(O,D,P,F){var R=[];return l(P,F,function(N,B){var q=D[N];if(!(q[0]===B||q[1]===B)){var V=O[B],J=O[q[0]],it=O[q[1]];n(J,it,V,V)&&R.push([N,B])}}),R}function y(O,D,P,F,R){var N,B,q=O.map(function(yt){return[s(yt[0]),s(yt[1])]});for(N=0;N<P.length;++N){var V=P[N];B=V[0];var J=V[1],it=D[B],nt=D[J],Y=_(b(O[it[0]]),b(O[it[1]]),b(O[nt[0]]),b(O[nt[1]]));if(Y){var Z=O.length;O.push([f(Y[0]),f(Y[1])]),q.push(Y),F.push([B,Z],[J,Z])}}for(F.sort(function(yt,xt){if(yt[0]!==xt[0])return yt[0]-xt[0];var Lt=q[yt[1]],gt=q[xt[1]];return o(Lt[0],gt[0])||o(Lt[1],gt[1])}),N=F.length-1;N>=0;--N){var $=F[N];B=$[0];var G=D[B],rt=G[0],ot=G[1],W=O[rt],H=O[ot];if((W[0]-H[0]||W[1]-H[1])<0){var at=rt;rt=ot,ot=at}G[0]=rt;var Q=G[1]=$[1],ct;for(R&&(ct=G[2]);N>0&&F[N-1][0]===B;){var $=F[--N],ft=$[1];R?D.push([Q,ft,ct]):D.push([Q,ft]),Q=ft}R?D.push([Q,ot,ct]):D.push([Q,ot])}return q}function A(O,D,P){for(var F=D.length,R=new e(F),N=[],B=0;B<D.length;++B){var q=D[B],V=a(q[0]),J=a(q[1]);N.push([h(V[0],-1/0),h(J[0],-1/0),h(V[1],1/0),h(J[1],1/0)])}l(N,function($,G){R.link($,G)});for(var it=!0,nt=new Array(F),B=0;B<F;++B){var Y=R.find(B);Y!==B&&(it=!1,O[Y]=[Math.min(O[B][0],O[Y][0]),Math.min(O[B][1],O[Y][1])])}if(it)return null;for(var Z=0,B=0;B<F;++B){var Y=R.find(B);Y===B?(nt[B]=Z,O[Z++]=O[B]):nt[B]=-1}O.length=Z;for(var B=0;B<F;++B)nt[B]<0&&(nt[B]=nt[R.find(B)]);return nt}function C(O,D){return O[0]-D[0]||O[1]-D[1]}function u(O,D){var P=O[0]-D[0]||O[1]-D[1];return P||(O[2]<D[2]?-1:O[2]>D[2]?1:0)}function m(O,D,P){if(O.length!==0){if(D)for(var F=0;F<O.length;++F){var R=O[F],N=D[R[0]],B=D[R[1]];R[0]=Math.min(N,B),R[1]=Math.max(N,B)}else for(var F=0;F<O.length;++F){var R=O[F],N=R[0],B=R[1];R[0]=Math.min(N,B),R[1]=Math.max(N,B)}P?O.sort(u):O.sort(C);for(var q=1,F=1;F<O.length;++F){var V=O[F-1],J=O[F];J[0]===V[0]&&J[1]===V[1]&&(!P||J[2]===V[2])||(O[q++]=J)}O.length=q}}function M(O,D,P){var F=A(O,[],p(O));return m(D,F,P),!!F}function w(O,D,P){var F=c(O,D),R=x(O,D,F),N=p(O),B=k(O,D,F,N),q=y(O,D,R,B,P),V=A(O,q);return m(D,V,P),V?!0:R.length>0||B.length>0}function z(O,D,P){var F;if(P){F=D;for(var R=new Array(D.length),N=0;N<D.length;++N){var B=D[N];R[N]=[B[0],B[1],P[N]]}D=R}for(var q=M(O,D,!!P);w(O,D,!!P);)q=!0;if(P&&q){F.length=0,P.length=0;for(var N=0;N<D.length;++N){var B=D[N];F.push([B[0],B[1]]),P.push(B[2])}}return q}},3637:function(v,d,r){v.exports=_;var e=r(6504),l=r(8697),n=r(5572),s=r(7721),o=r(544),f=r(2653),b=r(8987);function h(a,c){return n(e(a[0],c[1]),e(a[1],c[0]))}function _(a,c,p,x){var k=o(c,a),y=o(x,p),A=h(k,y);if(s(A)===0)return null;var C=o(a,p),u=h(y,C),m=l(u,A),M=b(k,m),w=f(a,M);return w}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,d,r){var e=r(3642),l=r(395);v.exports=n;function n(b){var h,_,a,c,p,x,k,y,m,A,C;if(b||(b={}),y=(b.nshades||72)-1,k=b.format||"hex",x=b.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!e[x])throw Error(x+" not a supported colorscale");p=e[x]}else if(Array.isArray(x))p=x.slice();else throw Error("unsupported colormap option",x);if(p.length>y+1)throw new Error(x+" map requires nshades to be at least size "+p.length);Array.isArray(b.alpha)?b.alpha.length!==2?A=[1,1]:A=b.alpha.slice():typeof b.alpha=="number"?A=[b.alpha,b.alpha]:A=[1,1],h=p.map(function(z){return Math.round(z.index*y)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var u=p.map(function(z,O){var D=p[O].index,P=p[O].rgb.slice();return P.length===4&&P[3]>=0&&P[3]<=1||(P[3]=A[0]+(A[1]-A[0])*D),P}),m=[];for(C=0;C<h.length-1;++C){c=h[C+1]-h[C],_=u[C],a=u[C+1];for(var M=0;M<c;M++){var w=M/c;m.push([Math.round(l(_[0],a[0],w)),Math.round(l(_[1],a[1],w)),Math.round(l(_[2],a[2],w)),l(_[3],a[3],w)])}}return m.push(p[p.length-1].rgb.concat(A[1])),k==="hex"?m=m.map(o):k==="rgbaString"?m=m.map(f):k==="float"&&(m=m.map(s)),m}function s(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function o(b){for(var h,_="#",a=0;a<3;++a)h=b[a],h=h.toString(16),_+=("00"+h).substr(h.length);return _}function f(b){return"rgba("+b.join(",")+")"}},3140:function(v,d,r){v.exports=b;var e=r(3250),l=r(8572),n=r(9362),s=r(5382),o=r(8210);function f(h,_,a){var c=n(h[0],-_[0]),p=n(h[1],-_[1]),x=n(a[0],-_[0]),k=n(a[1],-_[1]),y=o(s(c,x),s(p,k));return y[y.length-1]>=0}function b(h,_,a,c){var p=e(_,a,c);if(p===0){var x=l(e(h,_,a)),k=l(e(h,_,c));if(x===k){if(x===0){var y=f(h,_,a),A=f(h,_,c);return y===A?0:y?1:-1}return 0}else{if(k===0)return x>0||f(h,_,c)?-1:1;if(x===0)return k>0||f(h,_,a)?1:-1}return l(k-x)}var C=e(h,_,a);if(C>0)return p>0&&e(h,_,c)>0?1:-1;if(C<0)return p>0||e(h,_,c)>0?1:-1;var u=e(h,_,c);return u>0||f(h,_,a)?1:-1}},8572:function(v){v.exports=function(d){return d<0?-1:d>0?1:0}},8507:function(v){v.exports=e;var d=Math.min;function r(l,n){return l-n}function e(l,n){var s=l.length,o=l.length-n.length;if(o)return o;switch(s){case 0:return 0;case 1:return l[0]-n[0];case 2:return l[0]+l[1]-n[0]-n[1]||d(l[0],l[1])-d(n[0],n[1]);case 3:var f=l[0]+l[1],b=n[0]+n[1];if(o=f+l[2]-(b+n[2]),o)return o;var h=d(l[0],l[1]),_=d(n[0],n[1]);return d(h,l[2])-d(_,n[2])||d(h+l[2],f)-d(_+n[2],b);case 4:var a=l[0],c=l[1],p=l[2],x=l[3],k=n[0],y=n[1],A=n[2],C=n[3];return a+c+p+x-(k+y+A+C)||d(a,c,p,x)-d(k,y,A,C,k)||d(a+c,a+p,a+x,c+p,c+x,p+x)-d(k+y,k+A,k+C,y+A,y+C,A+C)||d(a+c+p,a+c+x,a+p+x,c+p+x)-d(k+y+A,k+y+C,k+A+C,y+A+C);default:for(var u=l.slice().sort(r),m=n.slice().sort(r),M=0;M<s;++M)if(o=u[M]-m[M],o)return o;return 0}}},3788:function(v,d,r){var e=r(8507),l=r(2419);v.exports=n;function n(s,o){return e(s,o)||l(s)-l(o)}},7352:function(v,d,r){var e=r(5721),l=r(4750),n=r(2690);v.exports=s;function s(o){var f=o.length;if(f===0)return[];if(f===1)return[[0]];var b=o[0].length;return b===0?[]:b===1?e(o):b===2?l(o):n(o,b)}},5721:function(v){v.exports=d;function d(r){for(var e=0,l=0,n=1;n<r.length;++n)r[n][0]<r[e][0]&&(e=n),r[n][0]>r[l][0]&&(l=n);return e<l?[[e],[l]]:e>l?[[l],[e]]:[[e]]}},4750:function(v,d,r){v.exports=l;var e=r(3090);function l(n){var s=e(n),o=s.length;if(o<=2)return[];for(var f=new Array(o),b=s[o-1],h=0;h<o;++h){var _=s[h];f[h]=[b,_],b=_}return f}},2690:function(v,d,r){v.exports=o;var e=r(8954),l=r(3952);function n(f,b){for(var h=f.length,_=new Array(h),a=0;a<b.length;++a)_[a]=f[b[a]];for(var c=b.length,a=0;a<h;++a)b.indexOf(a)<0&&(_[c++]=f[a]);return _}function s(f,b){for(var h=f.length,_=b.length,a=0;a<h;++a)for(var c=f[a],p=0;p<c.length;++p){var x=c[p];if(x<_)c[p]=b[x];else{x=x-_;for(var k=0;k<_;++k)x>=b[k]&&(x+=1);c[p]=x}}return f}function o(f,b){try{return e(f,!0)}catch{var h=l(f);if(h.length<=b)return[];var _=n(f,h),a=e(_,!0);return s(a,h)}}},4769:function(v){function d(e,l,n,s,o,f){var b=6*o*o-6*o,h=3*o*o-4*o+1,_=-6*o*o+6*o,a=3*o*o-2*o;if(e.length){f||(f=new Array(e.length));for(var c=e.length-1;c>=0;--c)f[c]=b*e[c]+h*l[c]+_*n[c]+a*s[c];return f}return b*e+h*l+_*n[c]+a*s}function r(e,l,n,s,o,f){var b=o-1,h=o*o,_=b*b,a=(1+2*o)*_,c=o*_,p=h*(3-2*o),x=h*b;if(e.length){f||(f=new Array(e.length));for(var k=e.length-1;k>=0;--k)f[k]=a*e[k]+c*l[k]+p*n[k]+x*s[k];return f}return a*e+c*l+p*n+x*s}v.exports=r,v.exports.derivative=d},7642:function(v,d,r){var e=r(8954),l=r(1682);v.exports=f;function n(b,h){this.point=b,this.index=h}function s(b,h){for(var _=b.point,a=h.point,c=_.length,p=0;p<c;++p){var x=a[p]-_[p];if(x)return x}return 0}function o(b,h,_){if(b===1)return _?[[-1,0]]:[];var a=h.map(function(y,A){return[y[0],A]});a.sort(function(y,A){return y[0]-A[0]});for(var c=new Array(b-1),p=1;p<b;++p){var x=a[p-1],k=a[p];c[p-1]=[x[1],k[1]]}return _&&c.push([-1,c[0][1]],[c[b-1][1],-1]),c}function f(b,h){var _=b.length;if(_===0)return[];var a=b[0].length;if(a<1)return[];if(a===1)return o(_,b,h);for(var c=new Array(_),p=1,x=0;x<_;++x){for(var k=b[x],y=new Array(a+1),A=0,C=0;C<a;++C){var u=k[C];y[C]=u,A+=u*u}y[a]=A,c[x]=new n(y,x),p=Math.max(A,p)}l(c,s),_=c.length;for(var m=new Array(_+a+1),M=new Array(_+a+1),w=(a+1)*(a+1)*p,z=new Array(a+1),x=0;x<=a;++x)z[x]=0;z[a]=w,m[0]=z.slice(),M[0]=-1;for(var x=0;x<=a;++x){var y=z.slice();y[x]=1,m[x+1]=y,M[x+1]=-1}for(var x=0;x<_;++x){var O=c[x];m[x+a+1]=O.point,M[x+a+1]=O.index}var D=e(m,!1);if(h?D=D.filter(function(P){for(var F=0,R=0;R<=a;++R){var N=M[P[R]];if(N<0&&++F>=2)return!1;P[R]=N}return!0}):D=D.filter(function(P){for(var F=0;F<=a;++F){var R=M[P[F]];if(R<0)return!1;P[F]=R}return!0}),a&1)for(var x=0;x<D.length;++x){var O=D[x],y=O[0];O[0]=O[1],O[1]=y}return D}},2361:function(v){var d=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),e=new Uint32Array(r.buffer);if(r[0]=1,d=!0,e[1]===1072693248){let n=function(f,b){return e[0]=f,e[1]=b,r[0]},s=function(f){return r[0]=f,e[0]},o=function(f){return r[0]=f,e[1]};v.exports=function(f){return r[0]=f,[e[0],e[1]]},v.exports.pack=n,v.exports.lo=s,v.exports.hi=o}else if(e[0]===1072693248){let n=function(f,b){return e[1]=f,e[0]=b,r[0]},s=function(f){return r[0]=f,e[1]},o=function(f){return r[0]=f,e[0]};v.exports=function(f){return r[0]=f,[e[1],e[0]]},v.exports.pack=n,v.exports.lo=s,v.exports.hi=o}else d=!1}if(!d){let n=function(f,b){return l.writeUInt32LE(f,0,!0),l.writeUInt32LE(b,4,!0),l.readDoubleLE(0,!0)},s=function(f){return l.writeDoubleLE(f,0,!0),l.readUInt32LE(0,!0)},o=function(f){return l.writeDoubleLE(f,0,!0),l.readUInt32LE(4,!0)};var l=new Buffer(8);v.exports=function(f){return l.writeDoubleLE(f,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=s,v.exports.hi=o}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var s=v.exports.hi(n);return(s<<1>>>21)-1023},v.exports.fraction=function(n){var s=v.exports.lo(n),o=v.exports.hi(n),f=o&(1<<20)-1;return o&2146435072&&(f+=1048576),[s,f]},v.exports.denormalized=function(n){var s=v.exports.hi(n);return!(s&2146435072)}},1338:function(v){function d(l,n,s){var o=l[s]|0;if(o<=0)return[];var f=new Array(o),b;if(s===l.length-1)for(b=0;b<o;++b)f[b]=n;else for(b=0;b<o;++b)f[b]=d(l,n,s+1);return f}function r(l,n){var s,o;for(s=new Array(l),o=0;o<l;++o)s[o]=n;return s}function e(l,n){switch(typeof n>"u"&&(n=0),typeof l){case"number":if(l>0)return r(l|0,n);break;case"object":if(typeof l.length=="number")return d(l,n,0);break}return[]}v.exports=e},3134:function(v,d,r){v.exports=l;var e=r(1682);function l(n,s){var o=n.length;if(typeof s!="number"){s=0;for(var f=0;f<o;++f){var b=n[f];s=Math.max(s,b[0],b[1])}s=(s|0)+1}s=s|0;for(var h=new Array(s),f=0;f<s;++f)h[f]=[];for(var f=0;f<o;++f){var b=n[f];h[b[0]].push(b[1]),h[b[1]].push(b[0])}for(var _=0;_<s;++_)e(h[_],function(a,c){return a-c});return h}},5033:function(v){v.exports=d;function d(r,e,l){var n=e||0,s=l||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[s*r[12]-r[8],s*r[13]-r[9],s*r[14]-r[10],s*r[15]-r[11]]]}},9215:function(v,d,r){v.exports=b;var e=r(4769),l=r(2478);function n(h,_,a){return Math.min(_,Math.max(h,a))}function s(h,_,a){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var c=0;c<this.dimension;++c)this.bounds[0][c]=-1/0,this.bounds[1][c]=1/0;this._state=h.slice().reverse(),this._velocity=_.slice().reverse(),this._time=[a],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var o=s.prototype;o.flush=function(h){var _=l.gt(this._time,h)-1;_<=0||(this._time.splice(0,_),this._state.splice(0,_*this.dimension),this._velocity.splice(0,_*this.dimension))},o.curve=function(h){var _=this._time,a=_.length,c=l.le(_,h),p=this._scratch[0],x=this._state,k=this._velocity,y=this.dimension,A=this.bounds;if(c<0)for(var C=y-1,u=0;u<y;++u,--C)p[u]=x[C];else if(c>=a-1)for(var C=x.length-1,m=h-_[a-1],u=0;u<y;++u,--C)p[u]=x[C]+m*k[C];else{for(var C=y*(c+1)-1,M=_[c],w=_[c+1],z=w-M||1,O=this._scratch[1],D=this._scratch[2],P=this._scratch[3],F=this._scratch[4],R=!0,u=0;u<y;++u,--C)O[u]=x[C],P[u]=k[C]*z,D[u]=x[C+y],F[u]=k[C+y]*z,R=R&&O[u]===D[u]&&P[u]===F[u]&&P[u]===0;if(R)for(var u=0;u<y;++u)p[u]=O[u];else e(O,P,D,F,(h-M)/z,p)}for(var N=A[0],B=A[1],u=0;u<y;++u)p[u]=n(N[u],B[u],p[u]);return p},o.dcurve=function(h){var _=this._time,a=_.length,c=l.le(_,h),p=this._scratch[0],x=this._state,k=this._velocity,y=this.dimension;if(c>=a-1)for(var A=x.length-1,C=h-_[a-1],u=0;u<y;++u,--A)p[u]=k[A];else{for(var A=y*(c+1)-1,m=_[c],M=_[c+1],w=M-m||1,z=this._scratch[1],O=this._scratch[2],D=this._scratch[3],P=this._scratch[4],F=!0,u=0;u<y;++u,--A)z[u]=x[A],D[u]=k[A]*w,O[u]=x[A+y],P[u]=k[A+y]*w,F=F&&z[u]===O[u]&&D[u]===P[u]&&D[u]===0;if(F)for(var u=0;u<y;++u)p[u]=0;else{e.derivative(z,D,O,P,(h-m)/w,p);for(var u=0;u<y;++u)p[u]/=w}}return p},o.lastT=function(){var h=this._time;return h[h.length-1]},o.stable=function(){for(var h=this._velocity,_=h.length,a=this.dimension-1;a>=0;--a)if(h[--_])return!1;return!0},o.jump=function(h){var _=this.lastT(),a=this.dimension;if(!(h<_||arguments.length!==a+1)){var c=this._state,p=this._velocity,x=c.length-this.dimension,k=this.bounds,y=k[0],A=k[1];this._time.push(_,h);for(var C=0;C<2;++C)for(var u=0;u<a;++u)c.push(c[x++]),p.push(0);this._time.push(h);for(var u=a;u>0;--u)c.push(n(y[u-1],A[u-1],arguments[u])),p.push(0)}},o.push=function(h){var _=this.lastT(),a=this.dimension;if(!(h<_||arguments.length!==a+1)){var c=this._state,p=this._velocity,x=c.length-this.dimension,k=h-_,y=this.bounds,A=y[0],C=y[1],u=k>1e-6?1/k:0;this._time.push(h);for(var m=a;m>0;--m){var M=n(A[m-1],C[m-1],arguments[m]);c.push(M),p.push((M-c[x++])*u)}}},o.set=function(h){var _=this.dimension;if(!(h<this.lastT()||arguments.length!==_+1)){var a=this._state,c=this._velocity,p=this.bounds,x=p[0],k=p[1];this._time.push(h);for(var y=_;y>0;--y)a.push(n(x[y-1],k[y-1],arguments[y])),c.push(0)}},o.move=function(h){var _=this.lastT(),a=this.dimension;if(!(h<=_||arguments.length!==a+1)){var c=this._state,p=this._velocity,x=c.length-this.dimension,k=this.bounds,y=k[0],A=k[1],C=h-_,u=C>1e-6?1/C:0;this._time.push(h);for(var m=a;m>0;--m){var M=arguments[m];c.push(n(y[m-1],A[m-1],c[x++]+M)),p.push(M*u)}}},o.idle=function(h){var _=this.lastT();if(!(h<_)){var a=this.dimension,c=this._state,p=this._velocity,x=c.length-a,k=this.bounds,y=k[0],A=k[1],C=h-_;this._time.push(h);for(var u=a-1;u>=0;--u)c.push(n(y[u],A[u],c[x]+C*p[x])),p.push(0),x+=1}};function f(h){for(var _=new Array(h),a=0;a<h;++a)_[a]=0;return _}function b(h,_,a){switch(arguments.length){case 0:return new s([0],[0],0);case 1:if(typeof h=="number"){var c=f(h);return new s(c,c,0)}else return new s(h,f(h.length),0);case 2:if(typeof _=="number"){var c=f(h.length);return new s(h,c,+_)}else a=0;case 3:if(h.length!==_.length)throw new Error("state and velocity lengths must match");return new s(h,_,a)}}},3840:function(v){v.exports=y;var d=0,r=1;function e(A,C,u,m,M,w){this._color=A,this.key=C,this.value=u,this.left=m,this.right=M,this._count=w}function l(A){return new e(A._color,A.key,A.value,A.left,A.right,A._count)}function n(A,C){return new e(A,C.key,C.value,C.left,C.right,C._count)}function s(A){A._count=1+(A.left?A.left._count:0)+(A.right?A.right._count:0)}function o(A,C){this._compare=A,this.root=C}var f=o.prototype;Object.defineProperty(f,"keys",{get:function(){var A=[];return this.forEach(function(C,u){A.push(C)}),A}}),Object.defineProperty(f,"values",{get:function(){var A=[];return this.forEach(function(C,u){A.push(u)}),A}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(A,C){for(var u=this._compare,m=this.root,M=[],w=[];m;){var z=u(A,m.key);M.push(m),w.push(z),z<=0?m=m.left:m=m.right}M.push(new e(d,A,C,null,null,1));for(var O=M.length-2;O>=0;--O){var m=M[O];w[O]<=0?M[O]=new e(m._color,m.key,m.value,M[O+1],m.right,m._count+1):M[O]=new e(m._color,m.key,m.value,m.left,M[O+1],m._count+1)}for(var O=M.length-1;O>1;--O){var D=M[O-1],m=M[O];if(D._color===r||m._color===r)break;var P=M[O-2];if(P.left===D)if(D.left===m){var F=P.right;if(F&&F._color===d)D._color=r,P.right=n(r,F),P._color=d,O-=1;else{if(P._color=d,P.left=D.right,D._color=r,D.right=P,M[O-2]=D,M[O-1]=m,s(P),s(D),O>=3){var R=M[O-3];R.left===P?R.left=D:R.right=D}break}}else{var F=P.right;if(F&&F._color===d)D._color=r,P.right=n(r,F),P._color=d,O-=1;else{if(D.right=m.left,P._color=d,P.left=m.right,m._color=r,m.left=D,m.right=P,M[O-2]=m,M[O-1]=D,s(P),s(D),s(m),O>=3){var R=M[O-3];R.left===P?R.left=m:R.right=m}break}}else if(D.right===m){var F=P.left;if(F&&F._color===d)D._color=r,P.left=n(r,F),P._color=d,O-=1;else{if(P._color=d,P.right=D.left,D._color=r,D.left=P,M[O-2]=D,M[O-1]=m,s(P),s(D),O>=3){var R=M[O-3];R.right===P?R.right=D:R.left=D}break}}else{var F=P.left;if(F&&F._color===d)D._color=r,P.left=n(r,F),P._color=d,O-=1;else{if(D.left=m.right,P._color=d,P.right=m.left,m._color=r,m.right=D,m.left=P,M[O-2]=m,M[O-1]=D,s(P),s(D),s(m),O>=3){var R=M[O-3];R.right===P?R.right=m:R.left=m}break}}}return M[0]._color=r,new o(u,M[0])};function b(A,C){if(C.left){var u=b(A,C.left);if(u)return u}var u=A(C.key,C.value);if(u)return u;if(C.right)return b(A,C.right)}function h(A,C,u,m){var M=C(A,m.key);if(M<=0){if(m.left){var w=h(A,C,u,m.left);if(w)return w}var w=u(m.key,m.value);if(w)return w}if(m.right)return h(A,C,u,m.right)}function _(A,C,u,m,M){var w=u(A,M.key),z=u(C,M.key),O;if(w<=0&&(M.left&&(O=_(A,C,u,m,M.left),O)||z>0&&(O=m(M.key,M.value),O)))return O;if(z>0&&M.right)return _(A,C,u,m,M.right)}f.forEach=function(A,C,u){if(this.root)switch(arguments.length){case 1:return b(A,this.root);case 2:return h(C,this._compare,A,this.root);case 3:return this._compare(C,u)>=0?void 0:_(C,u,this._compare,A,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var A=[],C=this.root;C;)A.push(C),C=C.left;return new a(this,A)}}),Object.defineProperty(f,"end",{get:function(){for(var A=[],C=this.root;C;)A.push(C),C=C.right;return new a(this,A)}}),f.at=function(A){if(A<0)return new a(this,[]);for(var C=this.root,u=[];;){if(u.push(C),C.left){if(A<C.left._count){C=C.left;continue}A-=C.left._count}if(!A)return new a(this,u);if(A-=1,C.right){if(A>=C.right._count)break;C=C.right}else break}return new a(this,[])},f.ge=function(A){for(var C=this._compare,u=this.root,m=[],M=0;u;){var w=C(A,u.key);m.push(u),w<=0&&(M=m.length),w<=0?u=u.left:u=u.right}return m.length=M,new a(this,m)},f.gt=function(A){for(var C=this._compare,u=this.root,m=[],M=0;u;){var w=C(A,u.key);m.push(u),w<0&&(M=m.length),w<0?u=u.left:u=u.right}return m.length=M,new a(this,m)},f.lt=function(A){for(var C=this._compare,u=this.root,m=[],M=0;u;){var w=C(A,u.key);m.push(u),w>0&&(M=m.length),w<=0?u=u.left:u=u.right}return m.length=M,new a(this,m)},f.le=function(A){for(var C=this._compare,u=this.root,m=[],M=0;u;){var w=C(A,u.key);m.push(u),w>=0&&(M=m.length),w<0?u=u.left:u=u.right}return m.length=M,new a(this,m)},f.find=function(A){for(var C=this._compare,u=this.root,m=[];u;){var M=C(A,u.key);if(m.push(u),M===0)return new a(this,m);M<=0?u=u.left:u=u.right}return new a(this,[])},f.remove=function(A){var C=this.find(A);return C?C.remove():this},f.get=function(A){for(var C=this._compare,u=this.root;u;){var m=C(A,u.key);if(m===0)return u.value;m<=0?u=u.left:u=u.right}};function a(A,C){this.tree=A,this._stack=C}var c=a.prototype;Object.defineProperty(c,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(c,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),c.clone=function(){return new a(this.tree,this._stack.slice())};function p(A,C){A.key=C.key,A.value=C.value,A.left=C.left,A.right=C.right,A._color=C._color,A._count=C._count}function x(A){for(var C,u,m,M,w=A.length-1;w>=0;--w){if(C=A[w],w===0){C._color=r;return}if(u=A[w-1],u.left===C){if(m=u.right,m.right&&m.right._color===d){if(m=u.right=l(m),M=m.right=l(m.right),u.right=m.left,m.left=u,m.right=M,m._color=u._color,C._color=r,u._color=r,M._color=r,s(u),s(m),w>1){var z=A[w-2];z.left===u?z.left=m:z.right=m}A[w-1]=m;return}else if(m.left&&m.left._color===d){if(m=u.right=l(m),M=m.left=l(m.left),u.right=M.left,m.left=M.right,M.left=u,M.right=m,M._color=u._color,u._color=r,m._color=r,C._color=r,s(u),s(m),s(M),w>1){var z=A[w-2];z.left===u?z.left=M:z.right=M}A[w-1]=M;return}if(m._color===r)if(u._color===d){u._color=r,u.right=n(d,m);return}else{u.right=n(d,m);continue}else{if(m=l(m),u.right=m.left,m.left=u,m._color=u._color,u._color=d,s(u),s(m),w>1){var z=A[w-2];z.left===u?z.left=m:z.right=m}A[w-1]=m,A[w]=u,w+1<A.length?A[w+1]=C:A.push(C),w=w+2}}else{if(m=u.left,m.left&&m.left._color===d){if(m=u.left=l(m),M=m.left=l(m.left),u.left=m.right,m.right=u,m.left=M,m._color=u._color,C._color=r,u._color=r,M._color=r,s(u),s(m),w>1){var z=A[w-2];z.right===u?z.right=m:z.left=m}A[w-1]=m;return}else if(m.right&&m.right._color===d){if(m=u.left=l(m),M=m.right=l(m.right),u.left=M.right,m.right=M.left,M.right=u,M.left=m,M._color=u._color,u._color=r,m._color=r,C._color=r,s(u),s(m),s(M),w>1){var z=A[w-2];z.right===u?z.right=M:z.left=M}A[w-1]=M;return}if(m._color===r)if(u._color===d){u._color=r,u.left=n(d,m);return}else{u.left=n(d,m);continue}else{if(m=l(m),u.left=m.right,m.right=u,m._color=u._color,u._color=d,s(u),s(m),w>1){var z=A[w-2];z.right===u?z.right=m:z.left=m}A[w-1]=m,A[w]=u,w+1<A.length?A[w+1]=C:A.push(C),w=w+2}}}}c.remove=function(){var A=this._stack;if(A.length===0)return this.tree;var C=new Array(A.length),u=A[A.length-1];C[C.length-1]=new e(u._color,u.key,u.value,u.left,u.right,u._count);for(var m=A.length-2;m>=0;--m){var u=A[m];u.left===A[m+1]?C[m]=new e(u._color,u.key,u.value,C[m+1],u.right,u._count):C[m]=new e(u._color,u.key,u.value,u.left,C[m+1],u._count)}if(u=C[C.length-1],u.left&&u.right){var M=C.length;for(u=u.left;u.right;)C.push(u),u=u.right;var w=C[M-1];C.push(new e(u._color,w.key,w.value,u.left,u.right,u._count)),C[M-1].key=u.key,C[M-1].value=u.value;for(var m=C.length-2;m>=M;--m)u=C[m],C[m]=new e(u._color,u.key,u.value,u.left,C[m+1],u._count);C[M-1].left=C[M]}if(u=C[C.length-1],u._color===d){var z=C[C.length-2];z.left===u?z.left=null:z.right===u&&(z.right=null),C.pop();for(var m=0;m<C.length;++m)C[m]._count--;return new o(this.tree._compare,C[0])}else if(u.left||u.right){u.left?p(u,u.left):u.right&&p(u,u.right),u._color=r;for(var m=0;m<C.length-1;++m)C[m]._count--;return new o(this.tree._compare,C[0])}else{if(C.length===1)return new o(this.tree._compare,null);for(var m=0;m<C.length;++m)C[m]._count--;var O=C[C.length-2];x(C),O.left===u?O.left=null:O.right=null}return new o(this.tree._compare,C[0])},Object.defineProperty(c,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(c,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(c,"index",{get:function(){var A=0,C=this._stack;if(C.length===0){var u=this.tree.root;return u?u._count:0}else C[C.length-1].left&&(A=C[C.length-1].left._count);for(var m=C.length-2;m>=0;--m)C[m+1]===C[m].right&&(++A,C[m].left&&(A+=C[m].left._count));return A},enumerable:!0}),c.next=function(){var A=this._stack;if(A.length!==0){var C=A[A.length-1];if(C.right)for(C=C.right;C;)A.push(C),C=C.left;else for(A.pop();A.length>0&&A[A.length-1].right===C;)C=A[A.length-1],A.pop()}},Object.defineProperty(c,"hasNext",{get:function(){var A=this._stack;if(A.length===0)return!1;if(A[A.length-1].right)return!0;for(var C=A.length-1;C>0;--C)if(A[C-1].left===A[C])return!0;return!1}}),c.update=function(A){var C=this._stack;if(C.length===0)throw new Error("Can't update empty node!");var u=new Array(C.length),m=C[C.length-1];u[u.length-1]=new e(m._color,m.key,A,m.left,m.right,m._count);for(var M=C.length-2;M>=0;--M)m=C[M],m.left===C[M+1]?u[M]=new e(m._color,m.key,m.value,u[M+1],m.right,m._count):u[M]=new e(m._color,m.key,m.value,m.left,u[M+1],m._count);return new o(this.tree._compare,u[0])},c.prev=function(){var A=this._stack;if(A.length!==0){var C=A[A.length-1];if(C.left)for(C=C.left;C;)A.push(C),C=C.right;else for(A.pop();A.length>0&&A[A.length-1].left===C;)C=A[A.length-1],A.pop()}},Object.defineProperty(c,"hasPrev",{get:function(){var A=this._stack;if(A.length===0)return!1;if(A[A.length-1].left)return!0;for(var C=A.length-1;C>0;--C)if(A[C-1].right===A[C])return!0;return!1}});function k(A,C){return A<C?-1:A>C?1:0}function y(A){return new o(A||k,null)}},3837:function(v,d,r){v.exports=m;var e=r(4935),l=r(501),n=r(5304),s=r(6429),o=r(6444),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function b(M,w){return M[0]=w[0],M[1]=w[1],M[2]=w[2],M}function h(M){this.gl=M,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(M)}var _=h.prototype;_.update=function(M){M=M||{};function w(Y,Z,$){if($ in M){var G=M[$],rt=this[$],ot;(Y?Array.isArray(G)&&Array.isArray(G[0]):Array.isArray(G))?this[$]=ot=[Z(G[0]),Z(G[1]),Z(G[2])]:this[$]=ot=[Z(G),Z(G),Z(G)];for(var W=0;W<3;++W)if(ot[W]!==rt[W])return!0}return!1}var z=w.bind(this,!1,Number),O=w.bind(this,!1,Boolean),D=w.bind(this,!1,String),P=w.bind(this,!0,function(Y){if(Array.isArray(Y)){if(Y.length===3)return[+Y[0],+Y[1],+Y[2],1];if(Y.length===4)return[+Y[0],+Y[1],+Y[2],+Y[3]]}return[0,0,0,1]}),F,R=!1,N=!1;if("bounds"in M)for(var B=M.bounds,q=0;q<2;++q)for(var V=0;V<3;++V)B[q][V]!==this.bounds[q][V]&&(N=!0),this.bounds[q][V]=B[q][V];if("ticks"in M){F=M.ticks,R=!0,this.autoTicks=!1;for(var q=0;q<3;++q)this.tickSpacing[q]=0}else z("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in M||"tickSpacing"in M||(this.autoTicks=!0),N=!0,R=!0,this._firstInit=!1),N&&this.autoTicks&&(F=o.create(this.bounds,this.tickSpacing),R=!0),R){for(var q=0;q<3;++q)F[q].sort(function(Z,$){return Z.x-$.x});o.equal(F,this.ticks)?R=!1:this.ticks=F}O("tickEnable"),D("tickFont")&&(R=!0),D("tickFontStyle")&&(R=!0),D("tickFontWeight")&&(R=!0),D("tickFontVariant")&&(R=!0),z("tickSize"),z("tickAngle"),z("tickPad"),P("tickColor");var J=D("labels");D("labelFont")&&(J=!0),D("labelFontStyle")&&(J=!0),D("labelFontWeight")&&(J=!0),D("labelFontVariant")&&(J=!0),O("labelEnable"),z("labelSize"),z("labelPad"),P("labelColor"),O("lineEnable"),O("lineMirror"),z("lineWidth"),P("lineColor"),O("lineTickEnable"),O("lineTickMirror"),z("lineTickLength"),z("lineTickWidth"),P("lineTickColor"),O("gridEnable"),z("gridWidth"),P("gridColor"),O("zeroEnable"),P("zeroLineColor"),z("zeroLineWidth"),O("backgroundEnable"),P("backgroundColor");var it=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],nt=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(J||R)&&this._text.update(this.bounds,this.labels,it,this.ticks,nt):this._text=e(this.gl,this.bounds,this.labels,it,this.ticks,nt),this._lines&&R&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=l(this.gl,this.bounds,this.ticks))};function a(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var c=[new a,new a,new a];function p(M,w,z,O,D){for(var P=M.primalOffset,F=M.primalMinor,R=M.mirrorOffset,N=M.mirrorMinor,B=O[w],q=0;q<3;++q)if(w!==q){var V=P,J=R,it=F,nt=N;B&1<<q&&(V=R,J=P,it=N,nt=F),V[q]=z[0][q],J[q]=z[1][q],D[q]>0?(it[q]=-1,nt[q]=0):(it[q]=0,nt[q]=1)}}var x=[0,0,0],k={model:f,view:f,projection:f,_ortho:!1};_.isOpaque=function(){return!0},_.isTransparent=function(){return!1},_.drawTransparent=function(M){};var y=0,A=[0,0,0],C=[0,0,0],u=[0,0,0];_.draw=function(M){M=M||k;for(var w=this.gl,z=M.model||f,O=M.view||f,D=M.projection||f,P=this.bounds,F=M._ortho||!1,R=s(z,O,D,P,F),N=R.cubeEdges,B=R.axis,q=O[12],V=O[13],J=O[14],it=O[15],nt=F?2:1,Y=nt*this.pixelRatio*(D[3]*q+D[7]*V+D[11]*J+D[15]*it)/w.drawingBufferHeight,Z=0;Z<3;++Z)this.lastCubeProps.cubeEdges[Z]=N[Z],this.lastCubeProps.axis[Z]=B[Z];for(var $=c,Z=0;Z<3;++Z)p(c[Z],Z,this.bounds,N,B);for(var w=this.gl,G=x,Z=0;Z<3;++Z)this.backgroundEnable[Z]?G[Z]=B[Z]:G[Z]=0;this._background.draw(z,O,D,P,G,this.backgroundColor),this._lines.bind(z,O,D,this);for(var Z=0;Z<3;++Z){var rt=[0,0,0];B[Z]>0?rt[Z]=P[1][Z]:rt[Z]=P[0][Z];for(var ot=0;ot<2;++ot){var W=(Z+1+ot)%3,H=(Z+1+(ot^1))%3;this.gridEnable[W]&&this._lines.drawGrid(W,H,this.bounds,rt,this.gridColor[W],this.gridWidth[W]*this.pixelRatio)}for(var ot=0;ot<2;++ot){var W=(Z+1+ot)%3,H=(Z+1+(ot^1))%3;this.zeroEnable[H]&&Math.min(P[0][H],P[1][H])<=0&&Math.max(P[0][H],P[1][H])>=0&&this._lines.drawZero(W,H,this.bounds,rt,this.zeroLineColor[H],this.zeroLineWidth[H]*this.pixelRatio)}}for(var Z=0;Z<3;++Z){this.lineEnable[Z]&&this._lines.drawAxisLine(Z,this.bounds,$[Z].primalOffset,this.lineColor[Z],this.lineWidth[Z]*this.pixelRatio),this.lineMirror[Z]&&this._lines.drawAxisLine(Z,this.bounds,$[Z].mirrorOffset,this.lineColor[Z],this.lineWidth[Z]*this.pixelRatio);for(var at=b(A,$[Z].primalMinor),Q=b(C,$[Z].mirrorMinor),ct=this.lineTickLength,ot=0;ot<3;++ot){var ft=Y/z[5*ot];at[ot]*=ct[ot]*ft,Q[ot]*=ct[ot]*ft}this.lineTickEnable[Z]&&this._lines.drawAxisTicks(Z,$[Z].primalOffset,at,this.lineTickColor[Z],this.lineTickWidth[Z]*this.pixelRatio),this.lineTickMirror[Z]&&this._lines.drawAxisTicks(Z,$[Z].mirrorOffset,Q,this.lineTickColor[Z],this.lineTickWidth[Z]*this.pixelRatio)}this._lines.unbind(),this._text.bind(z,O,D,this.pixelRatio);var yt,xt=.5,Lt,gt;function mt(Nt){gt=[0,0,0],gt[Nt]=1}function vt(Nt,ne,Gt){var pe=(Nt+1)%3,Vt=(Nt+2)%3,ae=ne[pe],oe=ne[Vt],ce=Gt[pe],le=Gt[Vt];if(ae>0&&le>0){mt(pe);return}else if(ae>0&&le<0){mt(pe);return}else if(ae<0&&le>0){mt(pe);return}else if(ae<0&&le<0){mt(pe);return}else if(oe>0&&ce>0){mt(Vt);return}else if(oe>0&&ce<0){mt(Vt);return}else if(oe<0&&ce>0){mt(Vt);return}else if(oe<0&&ce<0){mt(Vt);return}}for(var Z=0;Z<3;++Z){for(var At=$[Z].primalMinor,Ot=$[Z].mirrorMinor,Pt=b(u,$[Z].primalOffset),ot=0;ot<3;++ot)this.lineTickEnable[Z]&&(Pt[ot]+=Y*At[ot]*Math.max(this.lineTickLength[ot],0)/z[5*ot]);var Et=[0,0,0];if(Et[Z]=1,this.tickEnable[Z]){this.tickAngle[Z]===-3600?(this.tickAngle[Z]=0,this.tickAlign[Z]="auto"):this.tickAlign[Z]=-1,Lt=1,yt=[this.tickAlign[Z],xt,Lt],yt[0]==="auto"?yt[0]=y:yt[0]=parseInt(""+yt[0]),gt=[0,0,0],vt(Z,At,Ot);for(var ot=0;ot<3;++ot)Pt[ot]+=Y*At[ot]*this.tickPad[ot]/z[5*ot];this._text.drawTicks(Z,this.tickSize[Z],this.tickAngle[Z],Pt,this.tickColor[Z],Et,gt,yt)}if(this.labelEnable[Z]){Lt=0,gt=[0,0,0],this.labels[Z].length>4&&(mt(Z),Lt=1),yt=[this.labelAlign[Z],xt,Lt],yt[0]==="auto"?yt[0]=y:yt[0]=parseInt(""+yt[0]);for(var ot=0;ot<3;++ot)Pt[ot]+=Y*At[ot]*this.labelPad[ot]/z[5*ot];Pt[Z]+=.5*(P[0][Z]+P[1][Z]),this._text.drawLabel(Z,this.labelSize[Z],this.labelAngle[Z],Pt,this.labelColor[Z],[0,0,0],gt,yt)}}this._text.unbind()},_.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function m(M,w){var z=new h(M);return z.update(w),z}},5304:function(v,d,r){v.exports=f;var e=r(2762),l=r(8116),n=r(1879).bg;function s(b,h,_,a){this.gl=b,this.buffer=h,this.vao=_,this.shader=a}var o=s.prototype;o.draw=function(b,h,_,a,c,p){for(var x=!1,k=0;k<3;++k)x=x||c[k];if(x){var y=this.gl;y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:h,projection:_,bounds:a,enable:c,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),y.disable(y.POLYGON_OFFSET_FILL)}},o.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(b){for(var h=[],_=[],a=0,c=0;c<3;++c)for(var p=(c+1)%3,x=(c+2)%3,k=[0,0,0],y=[0,0,0],A=-1;A<=1;A+=2){_.push(a,a+2,a+1,a+1,a+2,a+3),k[c]=A,y[c]=A;for(var C=-1;C<=1;C+=2){k[p]=C;for(var u=-1;u<=1;u+=2)k[x]=u,h.push(k[0],k[1],k[2],y[0],y[1],y[2]),a+=1}var m=p;p=x,x=m}var M=e(b,new Float32Array(h)),w=e(b,new Uint16Array(_),b.ELEMENT_ARRAY_BUFFER),z=l(b,[{buffer:M,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:M,type:b.FLOAT,size:3,offset:12,stride:24}],w),O=n(b);return O.attributes.position.location=0,O.attributes.normal.location=1,new s(b,M,z,O)}},6429:function(v,d,r){v.exports=A;var e=r(8828),l=r(6760),n=r(5202),s=r(3250),o=new Array(16),f=new Array(8),b=new Array(8),h=new Array(3),_=[0,0,0];(function(){for(var C=0;C<8;++C)f[C]=[1,1,1,1],b[C]=[1,1,1]})();function a(C,u,m){for(var M=0;M<4;++M){C[M]=m[12+M];for(var w=0;w<3;++w)C[M]+=u[w]*m[4*w+M]}}var c=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(C){for(var u=0;u<c.length;++u)if(C=n.positive(C,c[u]),C.length<3)return 0;for(var m=C[0],M=m[0]/m[3],w=m[1]/m[3],z=0,u=1;u+1<C.length;++u){var O=C[u],D=C[u+1],P=O[0]/O[3],F=O[1]/O[3],R=D[0]/D[3],N=D[1]/D[3],B=P-M,q=F-w,V=R-M,J=N-w;z+=Math.abs(B*J-q*V)}return z}var x=[1,1,1],k=[0,0,0],y={cubeEdges:x,axis:k};function A(C,u,m,M,w){l(o,u,C),l(o,m,o);for(var z=0,O=0;O<2;++O){h[2]=M[O][2];for(var D=0;D<2;++D){h[1]=M[D][1];for(var P=0;P<2;++P)h[0]=M[P][0],a(f[z],h,o),z+=1}}for(var F=-1,O=0;O<8;++O){for(var R=f[O][3],N=0;N<3;++N)b[O][N]=f[O][N]/R;w&&(b[O][2]*=-1),R<0&&(F<0||b[O][2]<b[F][2])&&(F=O)}if(F<0){F=0;for(var B=0;B<3;++B){for(var q=(B+2)%3,V=(B+1)%3,J=-1,it=-1,nt=0;nt<2;++nt){var Y=nt<<B,Z=Y+(nt<<q)+(1-nt<<V),$=Y+(1-nt<<q)+(nt<<V);s(b[Y],b[Z],b[$],_)<0||(nt?J=1:it=1)}if(J<0||it<0){it>J&&(F|=1<<B);continue}for(var nt=0;nt<2;++nt){var Y=nt<<B,Z=Y+(nt<<q)+(1-nt<<V),$=Y+(1-nt<<q)+(nt<<V),G=p([f[Y],f[Z],f[$],f[Y+(1<<q)+(1<<V)]]);nt?J=G:it=G}if(it>J){F|=1<<B;continue}}}for(var rt=7^F,ot=-1,O=0;O<8;++O)O===F||O===rt||(ot<0||b[ot][1]>b[O][1])&&(ot=O);for(var W=-1,O=0;O<3;++O){var H=ot^1<<O;if(!(H===F||H===rt)){W<0&&(W=H);var V=b[H];V[0]<b[W][0]&&(W=H)}}for(var at=-1,O=0;O<3;++O){var H=ot^1<<O;if(!(H===F||H===rt||H===W)){at<0&&(at=H);var V=b[H];V[0]>b[at][0]&&(at=H)}}var Q=x;Q[0]=Q[1]=Q[2]=0,Q[e.log2(W^ot)]=ot&W,Q[e.log2(ot^at)]=ot&at;var ct=at^7;ct===F||ct===rt?(ct=W^7,Q[e.log2(at^ct)]=ct&at):Q[e.log2(W^ct)]=ct&W;for(var ft=k,yt=F,B=0;B<3;++B)yt&1<<B?ft[B]=-1:ft[B]=1;return y}},501:function(v,d,r){v.exports=x;var e=r(2762),l=r(8116),n=r(1879).n,s=[0,0,0],o=[0,0,0],f=[0,0,0],b=[0,0,0],h=[1,1];function _(k){return k[0]=k[1]=k[2]=0,k}function a(k,y){return k[0]=y[0],k[1]=y[1],k[2]=y[2],k}function c(k,y,A,C,u,m,M,w){this.gl=k,this.vertBuffer=y,this.vao=A,this.shader=C,this.tickCount=u,this.tickOffset=m,this.gridCount=M,this.gridOffset=w}var p=c.prototype;p.bind=function(k,y,A){this.shader.bind(),this.shader.uniforms.model=k,this.shader.uniforms.view=y,this.shader.uniforms.projection=A,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(k,y,A,C,u){var m=_(o);this.shader.uniforms.majorAxis=o,m[k]=y[1][k]-y[0][k],this.shader.uniforms.minorAxis=m;var M=a(b,A);M[k]+=y[0][k],this.shader.uniforms.offset=M,this.shader.uniforms.lineWidth=u,this.shader.uniforms.color=C;var w=_(f);w[(k+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6);var w=_(f);w[(k+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(k,y,A,C,u){if(this.tickCount[k]){var m=_(s);m[k]=1,this.shader.uniforms.majorAxis=m,this.shader.uniforms.offset=y,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=C,this.shader.uniforms.lineWidth=u;var M=_(f);M[k]=1,this.shader.uniforms.screenAxis=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[k],this.tickOffset[k])}},p.drawGrid=function(k,y,A,C,u,m){if(this.gridCount[k]){var M=_(o);M[y]=A[1][y]-A[0][y],this.shader.uniforms.minorAxis=M;var w=a(b,C);w[y]+=A[0][y],this.shader.uniforms.offset=w;var z=_(s);z[k]=1,this.shader.uniforms.majorAxis=z;var O=_(f);O[k]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=m,this.shader.uniforms.color=u,this.vao.draw(this.gl.TRIANGLES,this.gridCount[k],this.gridOffset[k])}},p.drawZero=function(k,y,A,C,u,m){var M=_(o);this.shader.uniforms.majorAxis=M,M[k]=A[1][k]-A[0][k],this.shader.uniforms.minorAxis=M;var w=a(b,C);w[k]+=A[0][k],this.shader.uniforms.offset=w;var z=_(f);z[y]=1,this.shader.uniforms.screenAxis=z,this.shader.uniforms.lineWidth=m,this.shader.uniforms.color=u,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(k,y,A){var C=[],u=[0,0,0],m=[0,0,0],M=[0,0,0],w=[0,0,0];C.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var z=0;z<3;++z){for(var O=C.length/3|0,D=0;D<A[z].length;++D){var P=+A[z][D].x;C.push(P,0,1,P,1,1,P,0,-1,P,0,-1,P,1,1,P,1,-1)}var R=C.length/3|0;u[z]=O,m[z]=R-O;for(var O=C.length/3|0,F=0;F<A[z].length;++F){var P=+A[z][F].x;C.push(P,0,1,P,1,1,P,0,-1,P,0,-1,P,1,1,P,1,-1)}var R=C.length/3|0;M[z]=O,w[z]=R-O}var N=e(k,new Float32Array(C)),B=l(k,[{buffer:N,type:k.FLOAT,size:3,stride:0,offset:0}]),q=n(k);return q.attributes.position.location=0,new c(k,N,B,q,m,u,w,M)}},1879:function(v,d,r){var e=r(3236),l=r(9405),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),s=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.n=function(_){return l(_,n,s,null,[{name:"position",type:"vec3"}])};var o=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),f=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.Q=function(_){return l(_,o,f,null,[{name:"position",type:"vec3"}])};var b=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);d.bg=function(_){return l(_,b,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,d,r){v.exports=p;var e=r(2762),l=r(8116),n=r(4359),s=r(1879).Q,o=window||E.global||{},f=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};var b=3;function h(x,k,y,A){this.gl=x,this.shader=k,this.buffer=y,this.vao=A,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var _=h.prototype,a=[0,0];_.bind=function(x,k,y,A){this.vao.bind(),this.shader.bind();var C=this.shader.uniforms;C.model=x,C.view=k,C.projection=y,C.pixelScale=A,a[0]=this.gl.drawingBufferWidth,a[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=a},_.unbind=function(){this.vao.unbind()},_.update=function(x,k,y,A,C){var u=[];function m(B,q,V,J,it,nt){var Y=[V.style,V.weight,V.variant,V.family].join("_"),Z=f[Y];Z||(Z=f[Y]={});var $=Z[q];$||($=Z[q]=c(q,{triangles:!0,font:V.family,fontStyle:V.style,fontWeight:V.weight,fontVariant:V.variant,textAlign:"center",textBaseline:"middle",lineSpacing:it,styletags:nt}));for(var G=(J||12)/12,rt=$.positions,ot=$.cells,W=0,H=ot.length;W<H;++W)for(var at=ot[W],Q=2;Q>=0;--Q){var ct=rt[at[Q]];u.push(G*ct[0],-G*ct[1],B)}}for(var M=[0,0,0],w=[0,0,0],z=[0,0,0],O=[0,0,0],D=1.25,P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){z[F]=u.length/b|0,m(.5*(x[0][F]+x[1][F]),k[F],y[F],12,D,P),O[F]=(u.length/b|0)-z[F],M[F]=u.length/b|0;for(var R=0;R<A[F].length;++R)if(A[F][R].text){var N={family:A[F][R].font||C[F].family,style:C[F].fontStyle||C[F].style,weight:C[F].fontWeight||C[F].weight,variant:C[F].fontVariant||C[F].variant};m(A[F][R].x,A[F][R].text,N,A[F][R].fontSize||12,D,P)}w[F]=(u.length/b|0)-M[F]}this.buffer.update(u),this.tickOffset=M,this.tickCount=w,this.labelOffset=z,this.labelCount=O},_.drawTicks=function(x,k,y,A,C,u,m,M){this.tickCount[x]&&(this.shader.uniforms.axis=u,this.shader.uniforms.color=C,this.shader.uniforms.angle=y,this.shader.uniforms.scale=k,this.shader.uniforms.offset=A,this.shader.uniforms.alignDir=m,this.shader.uniforms.alignOpt=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},_.drawLabel=function(x,k,y,A,C,u,m,M){this.labelCount[x]&&(this.shader.uniforms.axis=u,this.shader.uniforms.color=C,this.shader.uniforms.angle=y,this.shader.uniforms.scale=k,this.shader.uniforms.offset=A,this.shader.uniforms.alignDir=m,this.shader.uniforms.alignOpt=M,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},_.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function c(x,k){try{return n(x,k)}catch(y){return console.warn('error vectorizing text:"'+x+'" error:',y),{cells:[],positions:[]}}}function p(x,k,y,A,C,u){var m=e(x),M=l(x,[{buffer:m,size:3}]),w=s(x);w.attributes.position.location=0;var z=new h(x,w,m,M);return z.update(k,y,A,C,u),z}},6444:function(v,d){d.create=e,d.equal=l;function r(n,s){var o=n+"",f=o.indexOf("."),b=0;f>=0&&(b=o.length-f-1);var h=Math.pow(10,b),_=Math.round(n*s*h),a=_+"";if(a.indexOf("e")>=0)return a;var c=_/h,p=_%h;_<0?(c=-Math.ceil(c)|0,p=-p|0):(c=Math.floor(c)|0,p=p|0);var x=""+c;if(_<0&&(x="-"+x),b){for(var k=""+p;k.length<b;)k="0"+k;return x+"."+k}else return x}function e(n,s){for(var o=[],f=0;f<3;++f){for(var b=[],h=.5*(n[0][f]+n[1][f]),_=0;_*s[f]<=n[1][f];++_)b.push({x:_*s[f],text:r(s[f],_)});for(var _=-1;_*s[f]>=n[0][f];--_)b.push({x:_*s[f],text:r(s[f],_)});o.push(b)}return o}function l(n,s){for(var o=0;o<3;++o){if(n[o].length!==s[o].length)return!1;for(var f=0;f<n[o].length;++f){var b=n[o][f],h=s[o][f];if(b.x!==h.x||b.text!==h.text||b.font!==h.font||b.fontColor!==h.fontColor||b.fontSize!==h.fontSize||b.dx!==h.dx||b.dy!==h.dy)return!1}}return!0}},5445:function(v,d,r){v.exports=y;var e=r(5033),l=r(5202),n=r(6429),s=r(6760),o=r(5665),f=r(5352),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function _(A,C,u){this.lo=A,this.hi=C,this.pixelsPerDataUnit=u}var a=[0,0,0,1],c=[0,0,0,1];function p(A,C,u,m,M){for(var w=0;w<3;++w){for(var z=a,O=c,D=0;D<3;++D)O[D]=z[D]=u[D];O[3]=z[3]=1,O[w]+=1,f(O,O,C),O[3]<0&&(A[w]=1/0),z[w]-=1,f(z,z,C),z[3]<0&&(A[w]=1/0);var P=(z[0]/z[3]-O[0]/O[3])*m,F=(z[1]/z[3]-O[1]/O[3])*M;A[w]=.25*Math.sqrt(P*P+F*F)}return A}var x=[new _(1/0,-1/0,1/0),new _(1/0,-1/0,1/0),new _(1/0,-1/0,1/0)],k=[0,0,0];function y(A,C,u,m,F){var w=C.model||b,z=C.view||b,O=C.projection||b,D=C._ortho||!1,P=A.bounds,F=F||n(w,z,O,P,D),R=F.axis;s(h,z,w),s(h,O,h);for(var N=x,B=0;B<3;++B)N[B].lo=1/0,N[B].hi=-1/0,N[B].pixelsPerDataUnit=1/0;var q=e(o(h,h));o(h,h);for(var V=0;V<3;++V){var J=(V+1)%3,it=(V+2)%3,nt=k;t:for(var B=0;B<2;++B){var Y=[];if(R[V]<0!=!!B){nt[V]=P[B][V];for(var Z=0;Z<2;++Z){nt[J]=P[Z^B][J];for(var $=0;$<2;++$)nt[it]=P[$^Z^B][it],Y.push(nt.slice())}for(var G=D?5:4,Z=G;Z===G;++Z){if(Y.length===0)continue t;Y=l.positive(Y,q[Z])}for(var Z=0;Z<Y.length;++Z)for(var it=Y[Z],rt=p(k,h,it,u,m),$=0;$<3;++$)N[$].lo=Math.min(N[$].lo,it[$]),N[$].hi=Math.max(N[$].hi,it[$]),$!==V&&(N[$].pixelsPerDataUnit=Math.min(N[$].pixelsPerDataUnit,Math.abs(rt[$])))}}}return N}},2762:function(v,d,r){var e=r(1888),l=r(5298),n=r(9618),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function o(c,p,x,k,y){this.gl=c,this.type=p,this.handle=x,this.length=k,this.usage=y}var f=o.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)};function b(c,p,x,k,y,A){var C=y.length*y.BYTES_PER_ELEMENT;if(A<0)return c.bufferData(p,y,k),C;if(C+A>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return c.bufferSubData(p,A,y),x}function h(c,p){for(var x=e.malloc(c.length,p),k=c.length,y=0;y<k;++y)x[y]=c[y];return x}function _(c,p){for(var x=1,k=p.length-1;k>=0;--k){if(p[k]!==x)return!1;x*=c[k]}return!0}f.update=function(c,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof c=="object"&&typeof c.shape<"u"){var x=c.dtype;if(s.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var k=gl.getExtension("OES_element_index_uint");k&&x!=="uint16"?x="uint32":x="uint16"}if(x===c.dtype&&_(c.shape,c.stride))c.offset===0&&c.data.length===c.shape[0]?this.length=b(this.gl,this.type,this.length,this.usage,c.data,p):this.length=b(this.gl,this.type,this.length,this.usage,c.data.subarray(c.offset,c.shape[0]),p);else{var y=e.malloc(c.size,x),A=n(y,c.shape);l.assign(A,c),p<0?this.length=b(this.gl,this.type,this.length,this.usage,y,p):this.length=b(this.gl,this.type,this.length,this.usage,y.subarray(0,c.size),p),e.free(y)}}else if(Array.isArray(c)){var C;this.type===this.gl.ELEMENT_ARRAY_BUFFER?C=h(c,"uint16"):C=h(c,"float32"),p<0?this.length=b(this.gl,this.type,this.length,this.usage,C,p):this.length=b(this.gl,this.type,this.length,this.usage,C.subarray(0,c.length),p),e.free(C)}else if(typeof c=="object"&&typeof c.length=="number")this.length=b(this.gl,this.type,this.length,this.usage,c,p);else if(typeof c=="number"||c===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");c=c|0,c<=0&&(c=1),this.gl.bufferData(this.type,c|0,this.usage),this.length=c}else throw new Error("gl-buffer: Invalid data type")};function a(c,p,x,k){if(x=x||c.ARRAY_BUFFER,k=k||c.DYNAMIC_DRAW,x!==c.ARRAY_BUFFER&&x!==c.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(k!==c.DYNAMIC_DRAW&&k!==c.STATIC_DRAW&&k!==c.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=c.createBuffer(),A=new o(c,x,y,0,k);return A.update(p),A}v.exports=a},6405:function(v,d,r){var e=r(2931);v.exports=function(n,s){var o=n.positions,f=n.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),b;for(var h=0,_=1/0,a=-1/0,c=1/0,p=-1/0,x=1/0,k=-1/0,y=null,A=null,C=[],u=1/0,m=!1,M=n.coneSizemode==="raw",w=0;w<o.length;w++){var z=o[w];_=Math.min(z[0],_),a=Math.max(z[0],a),c=Math.min(z[1],c),p=Math.max(z[1],p),x=Math.min(z[2],x),k=Math.max(z[2],k);var O=f[w];if(e.length(O)>h&&(h=e.length(O)),w&&!M){var D=2*e.distance(y,z)/(e.length(A)+e.length(O));D?(u=Math.min(u,D),m=!1):m=!0}m||(y=z,A=O),C.push(O)}var P=[_,c,x],F=[a,p,k];s&&(s[0]=P,s[1]=F),h===0&&(h=1);var R=1/h;isFinite(u)||(u=1),b.vectorScale=u;var N=n.coneSize||(M?1:.5);n.absoluteConeSize&&(N=n.absoluteConeSize*R),b.coneScale=N;for(var w=0,B=0;w<o.length;w++)for(var z=o[w],q=z[0],V=z[1],J=z[2],it=C[w],nt=e.length(it)*R,Y=0,Z=8;Y<Z;Y++){b.positions.push([q,V,J,B++]),b.positions.push([q,V,J,B++]),b.positions.push([q,V,J,B++]),b.positions.push([q,V,J,B++]),b.positions.push([q,V,J,B++]),b.positions.push([q,V,J,B++]),b.vectors.push(it),b.vectors.push(it),b.vectors.push(it),b.vectors.push(it),b.vectors.push(it),b.vectors.push(it),b.vertexIntensity.push(nt,nt,nt),b.vertexIntensity.push(nt,nt,nt);var $=b.positions.length;b.cells.push([$-6,$-5,$-4],[$-3,$-2,$-1])}return b};var l=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,s){return v.exports.createMesh(n,s,{shaders:l,traceType:"cone"})}},9060:function(v,d,r){var e=r(9405),l=r(2762),n=r(8116),s=r(7766),o=r(6760),f=r(7608),b=r(9618),h=r(6729),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function a(C,u,m,M,w,z,O,D,P,F,R){this.gl=C,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=u,this.dirty=!0,this.triShader=m,this.pickShader=M,this.trianglePositions=w,this.triangleVectors=z,this.triangleColors=D,this.triangleUVs=P,this.triangleIds=O,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=R,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var c=a.prototype;c.isOpaque=function(){return this.opacity>=1},c.isTransparent=function(){return this.opacity<1},c.pickSlots=1,c.setPickBase=function(C){this.pickId=C};function p(C){for(var u=h({colormap:C,nshades:256,format:"rgba"}),m=new Uint8Array(1024),M=0;M<256;++M){for(var w=u[M],z=0;z<3;++z)m[4*M+z]=w[z];m[4*M+3]=w[3]*255}return b(m,[256,256,4],[4,0,1])}function x(C){for(var u=C.length,m=new Array(u),M=0;M<u;++M)m[M]=C[M][2];return m}c.update=function(C){C=C||{};var u=this.gl;this.dirty=!0,"lightPosition"in C&&(this.lightPosition=C.lightPosition),"opacity"in C&&(this.opacity=C.opacity),"ambient"in C&&(this.ambientLight=C.ambient),"diffuse"in C&&(this.diffuseLight=C.diffuse),"specular"in C&&(this.specularLight=C.specular),"roughness"in C&&(this.roughness=C.roughness),"fresnel"in C&&(this.fresnel=C.fresnel),C.tubeScale!==void 0&&(this.tubeScale=C.tubeScale),C.vectorScale!==void 0&&(this.vectorScale=C.vectorScale),C.coneScale!==void 0&&(this.coneScale=C.coneScale),C.coneOffset!==void 0&&(this.coneOffset=C.coneOffset),C.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=u.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=u.LINEAR,this.texture.setPixels(p(C.colormap)),this.texture.generateMipmap());var m=C.cells,M=C.positions,w=C.vectors;if(!(!M||!m||!w)){var z=[],O=[],D=[],P=[],F=[];this.cells=m,this.positions=M,this.vectors=w;var R=C.meshColor||[1,1,1,1],N=C.vertexIntensity,B=1/0,q=-1/0;if(N)if(C.vertexIntensityBounds)B=+C.vertexIntensityBounds[0],q=+C.vertexIntensityBounds[1];else for(var V=0;V<N.length;++V){var J=N[V];B=Math.min(B,J),q=Math.max(q,J)}else for(var V=0;V<M.length;++V){var J=M[V][2];B=Math.min(B,J),q=Math.max(q,J)}N?this.intensity=N:this.intensity=x(M),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var V=0;V<M.length;++V)for(var it=M[V],nt=0;nt<3;++nt)isNaN(it[nt])||!isFinite(it[nt])||(this.bounds[0][nt]=Math.min(this.bounds[0][nt],it[nt]),this.bounds[1][nt]=Math.max(this.bounds[1][nt],it[nt]));var Y=0;t:for(var V=0;V<m.length;++V){var Z=m[V];switch(Z.length){case 3:for(var nt=0;nt<3;++nt)for(var $=Z[nt],it=M[$],G=0;G<3;++G)if(isNaN(it[G])||!isFinite(it[G]))continue t;for(var nt=0;nt<3;++nt){var $=Z[2-nt],it=M[$];z.push(it[0],it[1],it[2],it[3]);var rt=w[$];O.push(rt[0],rt[1],rt[2],rt[3]||0);var ot=R;ot.length===3?D.push(ot[0],ot[1],ot[2],1):D.push(ot[0],ot[1],ot[2],ot[3]);var W;N?W=[(N[$]-B)/(q-B),0]:W=[(it[2]-B)/(q-B),0],P.push(W[0],W[1]),F.push(V)}Y+=1;break}}this.triangleCount=Y,this.trianglePositions.update(z),this.triangleVectors.update(O),this.triangleColors.update(D),this.triangleUVs.update(P),this.triangleIds.update(new Uint32Array(F))}},c.drawTransparent=c.draw=function(C){C=C||{};for(var u=this.gl,m=C.model||_,M=C.view||_,w=C.projection||_,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)z[0][O]=Math.max(z[0][O],this.clipBounds[0][O]),z[1][O]=Math.min(z[1][O],this.clipBounds[1][O]);var D={model:m,view:M,projection:w,inverseModel:_.slice(),clipBounds:z,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};D.inverseModel=f(D.inverseModel,D.model),u.disable(u.CULL_FACE),this.texture.bind(0);var P=new Array(16);o(P,D.view,D.model),o(P,D.projection,P),f(P,P);for(var O=0;O<3;++O)D.eyePosition[O]=P[12+O]/P[15];for(var F=P[15],O=0;O<3;++O)F+=this.lightPosition[O]*P[4*O+3];for(var O=0;O<3;++O){for(var R=P[12+O],N=0;N<3;++N)R+=P[4*N+O]*this.lightPosition[N];D.lightPosition[O]=R/F}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=D,this.triangleVAO.bind(),u.drawArrays(u.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},c.drawPick=function(C){C=C||{};for(var u=this.gl,m=C.model||_,M=C.view||_,w=C.projection||_,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)z[0][O]=Math.max(z[0][O],this.clipBounds[0][O]),z[1][O]=Math.min(z[1][O],this.clipBounds[1][O]);this._model=[].slice.call(m),this._view=[].slice.call(M),this._projection=[].slice.call(w),this._resolution=[u.drawingBufferWidth,u.drawingBufferHeight];var D={model:m,view:M,projection:w,clipBounds:z,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},P=this.pickShader;P.bind(),P.uniforms=D,this.triangleCount>0&&(this.triangleVAO.bind(),u.drawArrays(u.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},c.pick=function(C){if(!C||C.id!==this.pickId)return null;var u=C.value[0]+256*C.value[1]+65536*C.value[2],m=this.cells[u],M=this.positions[m[1]].slice(0,3),w={position:M,dataCoordinate:M,index:Math.floor(m[1]/48)};return this.traceType==="cone"?w.index=Math.floor(m[1]/48):this.traceType==="streamtube"&&(w.intensity=this.intensity[m[1]],w.velocity=this.vectors[m[1]].slice(0,3),w.divergence=this.vectors[m[1]][3],w.index=u),w},c.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function k(C,u){var m=e(C,u.meshShader.vertex,u.meshShader.fragment,null,u.meshShader.attributes);return m.attributes.position.location=0,m.attributes.color.location=2,m.attributes.uv.location=3,m.attributes.vector.location=4,m}function y(C,u){var m=e(C,u.pickShader.vertex,u.pickShader.fragment,null,u.pickShader.attributes);return m.attributes.position.location=0,m.attributes.id.location=1,m.attributes.vector.location=4,m}function A(C,u,m){var M=m.shaders;arguments.length===1&&(u=C,C=u.gl);var w=k(C,M),z=y(C,M),O=s(C,b(new Uint8Array([255,255,255,255]),[1,1,4]));O.generateMipmap(),O.minFilter=C.LINEAR_MIPMAP_LINEAR,O.magFilter=C.LINEAR;var D=l(C),P=l(C),F=l(C),R=l(C),N=l(C),B=n(C,[{buffer:D,type:C.FLOAT,size:4},{buffer:N,type:C.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:C.FLOAT,size:4},{buffer:R,type:C.FLOAT,size:2},{buffer:P,type:C.FLOAT,size:4}]),q=new a(C,O,w,z,D,P,N,F,R,B,m.traceType||"cone");return q.update(u),q}v.exports=A},614:function(v,d,r){var e=r(3236),l=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:l,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},d.pickShader={vertex:s,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,d,r){var e=r(737);v.exports=function(l){return e[l]}},9165:function(v,d,r){v.exports=a;var e=r(2762),l=r(8116),n=r(3436),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(c,p,x,k){this.gl=c,this.shader=k,this.buffer=p,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var f=o.prototype;f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.drawTransparent=f.draw=function(c){var p=this.gl,x=this.shader.uniforms;this.shader.bind();var k=x.view=c.view||s,y=x.projection=c.projection||s;x.model=c.model||s,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var A=k[12],C=k[13],u=k[14],m=k[15],M=c._ortho||!1,w=M?2:1,z=w*this.pixelRatio*(y[3]*A+y[7]*C+y[11]*u+y[15]*m)/p.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)p.lineWidth(this.lineWidth[O]*this.pixelRatio),x.capSize=this.capSize[O]*z,this.lineCount[O]&&p.drawArrays(p.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};function b(c,p){for(var x=0;x<3;++x)c[0][x]=Math.min(c[0][x],p[x]),c[1][x]=Math.max(c[1][x],p[x])}var h=function(){for(var c=new Array(3),p=0;p<3;++p){for(var x=[],k=1;k<=2;++k)for(var y=-1;y<=1;y+=2){var A=(k+p)%3,C=[0,0,0];C[A]=y,x.push(C)}c[p]=x}return c}();function _(c,p,x,k){for(var y=h[k],A=0;A<y.length;++A){var C=y[A];c.push(p[0],p[1],p[2],x[0],x[1],x[2],x[3],C[0],C[1],C[2])}return y.length}f.update=function(c){c=c||{},"lineWidth"in c&&(this.lineWidth=c.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in c&&(this.capSize=c.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in c&&(this.opacity=+c.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=c.color||[[0,0,0],[0,0,0],[0,0,0]],x=c.position,k=c.error;if(Array.isArray(p[0])||(p=[p,p,p]),x&&k){var y=[],A=x.length,C=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var u=0;u<3;++u){this.lineOffset[u]=C;t:for(var m=0;m<A;++m){for(var M=x[m],w=0;w<3;++w)if(isNaN(M[w])||!isFinite(M[w]))continue t;var z=k[m],O=p[u];if(Array.isArray(O[0])&&(O=p[m]),O.length===3?O=[O[0],O[1],O[2],1]:O.length===4&&(O=[O[0],O[1],O[2],O[3]],!this.hasAlpha&&O[3]<1&&(this.hasAlpha=!0)),!(isNaN(z[0][u])||isNaN(z[1][u]))){if(z[0][u]<0){var D=M.slice();D[u]+=z[0][u],y.push(M[0],M[1],M[2],O[0],O[1],O[2],O[3],0,0,0,D[0],D[1],D[2],O[0],O[1],O[2],O[3],0,0,0),b(this.bounds,D),C+=2+_(y,D,O,u)}if(z[1][u]>0){var D=M.slice();D[u]+=z[1][u],y.push(M[0],M[1],M[2],O[0],O[1],O[2],O[3],0,0,0,D[0],D[1],D[2],O[0],O[1],O[2],O[3],0,0,0),b(this.bounds,D),C+=2+_(y,D,O,u)}}}this.lineCount[u]=C-this.lineOffset[u]}this.buffer.update(y)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function a(c){var p=c.gl,x=e(p),k=l(p,[{buffer:x,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:p.FLOAT,size:3,offset:28,stride:40}]),y=n(p);y.attributes.position.location=0,y.attributes.color.location=1,y.attributes.offset.location=2;var A=new o(p,x,k,y);return A.update(c),A}},3436:function(v,d,r){var e=r(3236),l=r(9405),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),s=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(o){return l(o,n,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,d,r){var e=r(7766);v.exports=C;var l=null,n,s,o,f;function b(u){var m=u.getParameter(u.FRAMEBUFFER_BINDING),M=u.getParameter(u.RENDERBUFFER_BINDING),w=u.getParameter(u.TEXTURE_BINDING_2D);return[m,M,w]}function h(u,m){u.bindFramebuffer(u.FRAMEBUFFER,m[0]),u.bindRenderbuffer(u.RENDERBUFFER,m[1]),u.bindTexture(u.TEXTURE_2D,m[2])}function _(u,m){var M=u.getParameter(m.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(M+1);for(var w=0;w<=M;++w){for(var z=new Array(M),O=0;O<w;++O)z[O]=u.COLOR_ATTACHMENT0+O;for(var O=w;O<M;++O)z[O]=u.NONE;l[w]=z}}function a(u){switch(u){case n:throw new Error("gl-fbo: Framebuffer unsupported");case s:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case f:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function c(u,m,M,w,z,O){if(!w)return null;var D=e(u,m,M,z,w);return D.magFilter=u.NEAREST,D.minFilter=u.NEAREST,D.mipSamples=1,D.bind(),u.framebufferTexture2D(u.FRAMEBUFFER,O,u.TEXTURE_2D,D.handle,0),D}function p(u,m,M,w,z){var O=u.createRenderbuffer();return u.bindRenderbuffer(u.RENDERBUFFER,O),u.renderbufferStorage(u.RENDERBUFFER,w,m,M),u.framebufferRenderbuffer(u.FRAMEBUFFER,z,u.RENDERBUFFER,O),O}function x(u){var m=b(u.gl),M=u.gl,w=u.handle=M.createFramebuffer(),z=u._shape[0],O=u._shape[1],D=u.color.length,P=u._ext,F=u._useStencil,R=u._useDepth,N=u._colorType;M.bindFramebuffer(M.FRAMEBUFFER,w);for(var B=0;B<D;++B)u.color[B]=c(M,z,O,N,M.RGBA,M.COLOR_ATTACHMENT0+B);D===0?(u._color_rb=p(M,z,O,M.RGBA4,M.COLOR_ATTACHMENT0),P&&P.drawBuffersWEBGL(l[0])):D>1&&P.drawBuffersWEBGL(l[D]);var q=M.getExtension("WEBGL_depth_texture");q?F?u.depth=c(M,z,O,q.UNSIGNED_INT_24_8_WEBGL,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):R&&(u.depth=c(M,z,O,M.UNSIGNED_SHORT,M.DEPTH_COMPONENT,M.DEPTH_ATTACHMENT)):R&&F?u._depth_rb=p(M,z,O,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):R?u._depth_rb=p(M,z,O,M.DEPTH_COMPONENT16,M.DEPTH_ATTACHMENT):F&&(u._depth_rb=p(M,z,O,M.STENCIL_INDEX,M.STENCIL_ATTACHMENT));var V=M.checkFramebufferStatus(M.FRAMEBUFFER);if(V!==M.FRAMEBUFFER_COMPLETE){u._destroyed=!0,M.bindFramebuffer(M.FRAMEBUFFER,null),M.deleteFramebuffer(u.handle),u.handle=null,u.depth&&(u.depth.dispose(),u.depth=null),u._depth_rb&&(M.deleteRenderbuffer(u._depth_rb),u._depth_rb=null);for(var B=0;B<u.color.length;++B)u.color[B].dispose(),u.color[B]=null;u._color_rb&&(M.deleteRenderbuffer(u._color_rb),u._color_rb=null),h(M,m),a(V)}h(M,m)}function k(u,m,M,w,z,O,D,P){this.gl=u,this._shape=[m|0,M|0],this._destroyed=!1,this._ext=P,this.color=new Array(z);for(var F=0;F<z;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=O,this._useStencil=D;var R=this,N=[m|0,M|0];Object.defineProperties(N,{0:{get:function(){return R._shape[0]},set:function(B){return R.width=B}},1:{get:function(){return R._shape[1]},set:function(B){return R.height=B}}}),this._shapeVector=N,x(this)}var y=k.prototype;function A(u,m,M){if(u._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(u._shape[0]===m&&u._shape[1]===M)){var w=u.gl,z=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(m<0||m>z||M<0||M>z)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");u._shape[0]=m,u._shape[1]=M;for(var O=b(w),D=0;D<u.color.length;++D)u.color[D].shape=u._shape;u._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,u._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,u._shape[0],u._shape[1])),u.depth&&(u.depth.shape=u._shape),u._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,u._depth_rb),u._useDepth&&u._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,u._shape[0],u._shape[1]):u._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,u._shape[0],u._shape[1]):u._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,u._shape[0],u._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,u.handle);var P=w.checkFramebufferStatus(w.FRAMEBUFFER);P!==w.FRAMEBUFFER_COMPLETE&&(u.dispose(),h(w,O),a(P)),h(w,O)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(u){if(Array.isArray(u)||(u=[u|0,u|0]),u.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var m=u[0]|0,M=u[1]|0;return A(this,m,M),[m,M]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(u){return u=u|0,A(this,u,this._shape[1]),u},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(u){return u=u|0,A(this,this._shape[0],u),u},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,this.handle),u.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var u=this.gl;u.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(u.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var m=0;m<this.color.length;++m)this.color[m].dispose(),this.color[m]=null;this._color_rb&&(u.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function C(u,m,M,w){n||(n=u.FRAMEBUFFER_UNSUPPORTED,s=u.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=u.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,f=u.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var z=u.getExtension("WEBGL_draw_buffers");if(!l&&z&&_(u,z),Array.isArray(m)&&(w=M,M=m[1]|0,m=m[0]|0),typeof m!="number")throw new Error("gl-fbo: Missing shape parameter");var O=u.getParameter(u.MAX_RENDERBUFFER_SIZE);if(m<0||m>O||M<0||M>O)throw new Error("gl-fbo: Parameters are too large for FBO");w=w||{};var D=1;if("color"in w){if(D=Math.max(w.color|0,0),D<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(D>1)if(z){if(D>u.getParameter(z.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+D+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var P=u.UNSIGNED_BYTE,F=u.getExtension("OES_texture_float");if(w.float&&D>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");P=u.FLOAT}else w.preferFloat&&D>0&&F&&(P=u.FLOAT);var R=!0;"depth"in w&&(R=!!w.depth);var N=!1;return"stencil"in w&&(N=!!w.stencil),new k(u,m,M,P,D,R,N,z)}},2992:function(v,d,r){var e=r(3387).sprintf,l=r(5171),n=r(1848),s=r(1085);v.exports=o;function o(f,b,h){var _=n(b)||"of unknown name (see npm glsl-shader-name)",a="unknown type";h!==void 0&&(a=h===l.FRAGMENT_SHADER?"fragment":"vertex");for(var c=e(`Error compiling %s shader %s:
`,a,_),p=e("%s%s",c,f),x=f.split(`
`),k={},y=0;y<x.length;y++){var A=x[y];if(!(A===""||A==="\0")){var C=parseInt(A.split(":")[2]);if(isNaN(C))throw new Error(e("Could not parse error: %s",A));k[C]=A}}for(var u=s(b).split(`
`),y=0;y<u.length;y++)if(!(!k[y+3]&&!k[y+2]&&!k[y+1])){var m=u[y];if(c+=m+`
`,k[y+1]){var M=k[y+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),c+=e(`^^^ %s

`,M)}}return{long:c.trim(),short:p.trim()}}},2510:function(v,d,r){v.exports=a;var e=r(2478),l=r(7762),n=r(1888),s=r(9405),o=r(2762),f=r(6768);function b(c,p,x,k,y,A,C){this.plot=c,this.shader=p,this.pickShader=x,this.positionBuffer=k,this.weightBuffer=y,this.colorBuffer=A,this.idBuffer=C,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=b.prototype,_=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var c=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,x=this.shader,k=this.bounds,y=this.numVertices;if(!(y<=0)){var A=p.gl,C=p.dataBox,u=k[2]-k[0],m=k[3]-k[1],M=C[2]-C[0],w=C[3]-C[1];c[0]=2*u/M,c[4]=2*m/w,c[6]=2*(k[0]-C[0])/M-1,c[7]=2*(k[1]-C[1])/w-1,x.bind();var z=x.uniforms;z.viewTransform=c,z.shape=this.shape;var O=x.attributes;this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),O.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,y)}}}(),h.drawPick=function(){var c=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(x){var k=this.plot,y=this.pickShader,A=this.bounds,C=this.numVertices;if(!(C<=0)){var u=k.gl,m=k.dataBox,M=A[2]-A[0],w=A[3]-A[1],z=m[2]-m[0],O=m[3]-m[1];c[0]=2*M/z,c[4]=2*w/O,c[6]=2*(A[0]-m[0])/z-1,c[7]=2*(A[1]-m[1])/O-1;for(var D=0;D<4;++D)p[D]=x>>D*8&255;this.pickOffset=x,y.bind();var P=y.uniforms;P.viewTransform=c,P.pickOffset=p,P.shape=this.shape;var F=y.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(u.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(u.UNSIGNED_BYTE,!1),u.drawArrays(u.TRIANGLES,0,C),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(c,p,x){var k=this.pickOffset,y=this.shape[0]*this.shape[1];if(x<k||x>=k+y)return null;var A=x-k,C=this.xData,u=this.yData;return{object:this,pointId:A,dataCoord:[C[A%this.shape[0]],u[A/this.shape[0]|0]]}},h.update=function(c){c=c||{};var p=c.shape||[0,0],x=c.x||l(p[0]),k=c.y||l(p[1]),y=c.z||new Float32Array(p[0]*p[1]),A=c.zsmooth!==!1;this.xData=x,this.yData=k;var C=c.colorLevels||[0],u=c.colorValues||[0,0,0,1],m=C.length,M=this.bounds,w,z,O,D;A?(w=M[0]=x[0],z=M[1]=k[0],O=M[2]=x[x.length-1],D=M[3]=k[k.length-1]):(w=M[0]=x[0]+(x[1]-x[0])/2,z=M[1]=k[0]+(k[1]-k[0])/2,O=M[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,D=M[3]=k[k.length-1]+(k[k.length-1]-k[k.length-2])/2);var P=1/(O-w),F=1/(D-z),R=p[0],N=p[1];this.shape=[R,N];var B=(A?(R-1)*(N-1):R*N)*(_.length>>>1);this.numVertices=B;for(var q=n.mallocUint8(B*4),V=n.mallocFloat32(B*2),J=n.mallocUint8(B*2),it=n.mallocUint32(B),nt=0,Y=A?R-1:R,Z=A?N-1:N,$=0;$<Z;++$){var G,rt;A?(G=F*(k[$]-z),rt=F*(k[$+1]-z)):(G=$<N-1?F*(k[$]-(k[$+1]-k[$])/2-z):F*(k[$]-(k[$]-k[$-1])/2-z),rt=$<N-1?F*(k[$]+(k[$+1]-k[$])/2-z):F*(k[$]+(k[$]-k[$-1])/2-z));for(var ot=0;ot<Y;++ot){var W,H;A?(W=P*(x[ot]-w),H=P*(x[ot+1]-w)):(W=ot<R-1?P*(x[ot]-(x[ot+1]-x[ot])/2-w):P*(x[ot]-(x[ot]-x[ot-1])/2-w),H=ot<R-1?P*(x[ot]+(x[ot+1]-x[ot])/2-w):P*(x[ot]+(x[ot]-x[ot-1])/2-w));for(var at=0;at<_.length;at+=2){var Q=_[at],ct=_[at+1],ft=A?($+ct)*R+(ot+Q):$*R+ot,yt=y[ft],xt=e.le(C,yt),Lt,gt,mt,vt;if(xt<0)Lt=u[0],gt=u[1],mt=u[2],vt=u[3];else if(xt===m-1)Lt=u[4*m-4],gt=u[4*m-3],mt=u[4*m-2],vt=u[4*m-1];else{var At=(yt-C[xt])/(C[xt+1]-C[xt]),Ot=1-At,Pt=4*xt,Et=4*(xt+1);Lt=Ot*u[Pt]+At*u[Et],gt=Ot*u[Pt+1]+At*u[Et+1],mt=Ot*u[Pt+2]+At*u[Et+2],vt=Ot*u[Pt+3]+At*u[Et+3]}q[4*nt]=255*Lt,q[4*nt+1]=255*gt,q[4*nt+2]=255*mt,q[4*nt+3]=255*vt,V[2*nt]=W*.5+H*.5,V[2*nt+1]=G*.5+rt*.5,J[2*nt]=Q,J[2*nt+1]=ct,it[nt]=$*R+ot,nt+=1}}}this.positionBuffer.update(V),this.weightBuffer.update(J),this.colorBuffer.update(q),this.idBuffer.update(it),n.free(V),n.free(q),n.free(J),n.free(it)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function a(c,p){var x=c.gl,k=s(x,f.vertex,f.fragment),y=s(x,f.pickVertex,f.pickFragment),A=o(x),C=o(x),u=o(x),m=o(x),M=new b(c,k,y,A,C,u,m);return M.update(p),c.addObject(M),M}},6768:function(v,d,r){var e=r(3236);v.exports={fragment:e([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,d,r){var e=r(3236),l=r(9405),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),s=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),o=e([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),f=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];d.createShader=function(b){return l(b,n,s,null,f)},d.createPickShader=function(b){return l(b,n,o,null,f)}},5714:function(v,d,r){v.exports=u;var e=r(2762),l=r(8116),n=r(7766),s=new Uint8Array(4),o=new Float32Array(s.buffer);function f(m,M,w,z){return s[0]=z,s[1]=w,s[2]=M,s[3]=m,o[0]}var b=r(2478),h=r(9618),_=r(7319),a=_.createShader,c=_.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(m,M){for(var w=0,z=0;z<3;++z){var O=m[z]-M[z];w+=O*O}return Math.sqrt(w)}function k(m){for(var M=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)M[0][w]=Math.max(m[0][w],M[0][w]),M[1][w]=Math.min(m[1][w],M[1][w]);return M}function y(m,M,w,z){this.arcLength=m,this.position=M,this.index=w,this.dataCoordinate=z}function A(m,M,w,z,O,D){this.gl=m,this.shader=M,this.pickShader=w,this.buffer=z,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=D,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var C=A.prototype;C.isTransparent=function(){return this.hasAlpha},C.isOpaque=function(){return!this.hasAlpha},C.pickSlots=1,C.setPickBase=function(m){this.pickId=m},C.drawTransparent=C.draw=function(m){if(this.vertexCount){var M=this.gl,w=this.shader,z=this.vao;w.bind(),w.uniforms={model:m.model||p,view:m.view||p,projection:m.projection||p,clipBounds:k(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(M.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},C.drawPick=function(m){if(this.vertexCount){var M=this.gl,w=this.pickShader,z=this.vao;w.bind(),w.uniforms={model:m.model||p,view:m.view||p,projection:m.projection||p,pickId:this.pickId,clipBounds:k(this.clipBounds),screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(M.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},C.update=function(m){var M,w;this.dirty=!0;var z=!!m.connectGaps;"dashScale"in m&&(this.dashScale=m.dashScale),this.hasAlpha=!1,"opacity"in m&&(this.opacity=+m.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],D=[],P=[],F=0,R=0,N=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=m.position||m.positions;if(B){var q=m.color||m.colors||[0,0,0,1],V=m.lineWidth||1,J=!1;t:for(M=1;M<B.length;++M){var it=B[M-1],nt=B[M];for(D.push(F),P.push(it.slice()),w=0;w<3;++w){if(isNaN(it[w])||isNaN(nt[w])||!isFinite(it[w])||!isFinite(nt[w])){if(!z&&O.length>0){for(var Y=0;Y<24;++Y)O.push(O[O.length-12]);R+=2,J=!0}continue t}N[0][w]=Math.min(N[0][w],it[w],nt[w]),N[1][w]=Math.max(N[1][w],it[w],nt[w])}var Z,$;Array.isArray(q[0])?(Z=q.length>M-1?q[M-1]:q.length>0?q[q.length-1]:[0,0,0,1],$=q.length>M?q[M]:q.length>0?q[q.length-1]:[0,0,0,1]):Z=$=q,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),$.length===3&&($=[$[0],$[1],$[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var G;Array.isArray(V)?G=V.length>M-1?V[M-1]:V.length>0?V[V.length-1]:[0,0,0,1]:G=V;var rt=F;if(F+=x(it,nt),J){for(w=0;w<2;++w)O.push(it[0],it[1],it[2],nt[0],nt[1],nt[2],rt,G,Z[0],Z[1],Z[2],Z[3]);R+=2,J=!1}O.push(it[0],it[1],it[2],nt[0],nt[1],nt[2],rt,G,Z[0],Z[1],Z[2],Z[3],it[0],it[1],it[2],nt[0],nt[1],nt[2],rt,-G,Z[0],Z[1],Z[2],Z[3],nt[0],nt[1],nt[2],it[0],it[1],it[2],F,-G,$[0],$[1],$[2],$[3],nt[0],nt[1],nt[2],it[0],it[1],it[2],F,G,$[0],$[1],$[2],$[3]),R+=4}}if(this.buffer.update(O),D.push(F),P.push(B[B.length-1].slice()),this.bounds=N,this.vertexCount=R,this.points=P,this.arcLength=D,"dashes"in m){var ot=m.dashes,W=ot.slice();for(W.unshift(0),M=1;M<W.length;++M)W[M]=W[M-1]+W[M];var H=h(new Array(256*4),[256,1,4]);for(M=0;M<256;++M){for(w=0;w<4;++w)H.set(M,0,w,0);b.le(W,W[W.length-1]*M/255)&1?H.set(M,0,0,0):H.set(M,0,0,255)}this.texture.setPixels(H)}},C.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},C.pick=function(m){if(!m||m.id!==this.pickId)return null;var M=f(m.value[0],m.value[1],m.value[2],0),w=b.le(this.arcLength,M);if(w<0)return null;if(w===this.arcLength.length-1)return new y(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var z=this.points[w],O=this.points[Math.min(w+1,this.points.length-1)],D=(M-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),P=1-D,F=[0,0,0],R=0;R<3;++R)F[R]=P*z[R]+D*O[R];var N=Math.min(D<.5?w:w+1,this.points.length-1);return new y(M,F,N,this.points[N])};function u(m){var M=m.gl||m.scene&&m.scene.gl,w=a(M);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var z=c(M);z.attributes.position.location=0,z.attributes.nextPosition.location=1,z.attributes.arcLength.location=2,z.attributes.lineWidth.location=3,z.attributes.color.location=4;for(var O=e(M),D=l(M,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),P=h(new Array(1024),[256,1,4]),F=0;F<1024;++F)P.data[F]=255;var R=n(M,P);R.wrap=M.REPEAT;var N=new A(M,w,z,O,D,R);return N.update(m),N}},1903:function(v){v.exports=d;function d(r){var e=new Float32Array(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}},6864:function(v){v.exports=d;function d(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=d;function d(r){var e=r[0],l=r[1],n=r[2],s=r[3],o=r[4],f=r[5],b=r[6],h=r[7],_=r[8],a=r[9],c=r[10],p=r[11],x=r[12],k=r[13],y=r[14],A=r[15],C=e*f-l*o,u=e*b-n*o,m=e*h-s*o,M=l*b-n*f,w=l*h-s*f,z=n*h-s*b,O=_*k-a*x,D=_*y-c*x,P=_*A-p*x,F=a*y-c*k,R=a*A-p*k,N=c*A-p*y;return C*N-u*R+m*F+M*P-w*D+z*O}},7399:function(v){v.exports=d;function d(r,e){var l=e[0],n=e[1],s=e[2],o=e[3],f=l+l,b=n+n,h=s+s,_=l*f,a=n*f,c=n*b,p=s*f,x=s*b,k=s*h,y=o*f,A=o*b,C=o*h;return r[0]=1-c-k,r[1]=a+C,r[2]=p-A,r[3]=0,r[4]=a-C,r[5]=1-_-k,r[6]=x+y,r[7]=0,r[8]=p+A,r[9]=x-y,r[10]=1-_-c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=e[3],b=n+n,h=s+s,_=o+o,a=n*b,c=n*h,p=n*_,x=s*h,k=s*_,y=o*_,A=f*b,C=f*h,u=f*_;return r[0]=1-(x+y),r[1]=c+u,r[2]=p-C,r[3]=0,r[4]=c-u,r[5]=1-(a+y),r[6]=k+A,r[7]=0,r[8]=p+C,r[9]=k-A,r[10]=1-(a+x),r[11]=0,r[12]=l[0],r[13]=l[1],r[14]=l[2],r[15]=1,r}},7894:function(v){v.exports=d;function d(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=d;function d(r,e){var l=e[0],n=e[1],s=e[2],o=e[3],f=e[4],b=e[5],h=e[6],_=e[7],a=e[8],c=e[9],p=e[10],x=e[11],k=e[12],y=e[13],A=e[14],C=e[15],u=l*b-n*f,m=l*h-s*f,M=l*_-o*f,w=n*h-s*b,z=n*_-o*b,O=s*_-o*h,D=a*y-c*k,P=a*A-p*k,F=a*C-x*k,R=c*A-p*y,N=c*C-x*y,B=p*C-x*A,q=u*B-m*N+M*R+w*F-z*P+O*D;return q?(q=1/q,r[0]=(b*B-h*N+_*R)*q,r[1]=(s*N-n*B-o*R)*q,r[2]=(y*O-A*z+C*w)*q,r[3]=(p*z-c*O-x*w)*q,r[4]=(h*F-f*B-_*P)*q,r[5]=(l*B-s*F+o*P)*q,r[6]=(A*M-k*O-C*m)*q,r[7]=(a*O-p*M+x*m)*q,r[8]=(f*N-b*F+_*D)*q,r[9]=(n*F-l*N-o*D)*q,r[10]=(k*z-y*M+C*u)*q,r[11]=(c*M-a*z-x*u)*q,r[12]=(b*P-f*R-h*D)*q,r[13]=(l*R-n*P+s*D)*q,r[14]=(y*m-k*w-A*u)*q,r[15]=(a*w-c*m+p*u)*q,r):null}},6582:function(v,d,r){var e=r(7894);v.exports=l;function l(n,s,o,f){var b,h,_,a,c,p,x,k,y,A,C=s[0],u=s[1],m=s[2],M=f[0],w=f[1],z=f[2],O=o[0],D=o[1],P=o[2];return Math.abs(C-O)<1e-6&&Math.abs(u-D)<1e-6&&Math.abs(m-P)<1e-6?e(n):(x=C-O,k=u-D,y=m-P,A=1/Math.sqrt(x*x+k*k+y*y),x*=A,k*=A,y*=A,b=w*y-z*k,h=z*x-M*y,_=M*k-w*x,A=Math.sqrt(b*b+h*h+_*_),A?(A=1/A,b*=A,h*=A,_*=A):(b=0,h=0,_=0),a=k*_-y*h,c=y*b-x*_,p=x*h-k*b,A=Math.sqrt(a*a+c*c+p*p),A?(A=1/A,a*=A,c*=A,p*=A):(a=0,c=0,p=0),n[0]=b,n[1]=a,n[2]=x,n[3]=0,n[4]=h,n[5]=c,n[6]=k,n[7]=0,n[8]=_,n[9]=p,n[10]=y,n[11]=0,n[12]=-(b*C+h*u+_*m),n[13]=-(a*C+c*u+p*m),n[14]=-(x*C+k*u+y*m),n[15]=1,n)}},6760:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=e[3],b=e[4],h=e[5],_=e[6],a=e[7],c=e[8],p=e[9],x=e[10],k=e[11],y=e[12],A=e[13],C=e[14],u=e[15],m=l[0],M=l[1],w=l[2],z=l[3];return r[0]=m*n+M*b+w*c+z*y,r[1]=m*s+M*h+w*p+z*A,r[2]=m*o+M*_+w*x+z*C,r[3]=m*f+M*a+w*k+z*u,m=l[4],M=l[5],w=l[6],z=l[7],r[4]=m*n+M*b+w*c+z*y,r[5]=m*s+M*h+w*p+z*A,r[6]=m*o+M*_+w*x+z*C,r[7]=m*f+M*a+w*k+z*u,m=l[8],M=l[9],w=l[10],z=l[11],r[8]=m*n+M*b+w*c+z*y,r[9]=m*s+M*h+w*p+z*A,r[10]=m*o+M*_+w*x+z*C,r[11]=m*f+M*a+w*k+z*u,m=l[12],M=l[13],w=l[14],z=l[15],r[12]=m*n+M*b+w*c+z*y,r[13]=m*s+M*h+w*p+z*A,r[14]=m*o+M*_+w*x+z*C,r[15]=m*f+M*a+w*k+z*u,r}},4040:function(v){v.exports=d;function d(r,e,l,n,s,o,f){var b=1/(e-l),h=1/(n-s),_=1/(o-f);return r[0]=-2*b,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*_,r[11]=0,r[12]=(e+l)*b,r[13]=(s+n)*h,r[14]=(f+o)*_,r[15]=1,r}},4772:function(v){v.exports=d;function d(r,e,l,n,s){var o=1/Math.tan(e/2),f=1/(n-s);return r[0]=o/l,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=o,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(s+n)*f,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*s*n*f,r[15]=0,r}},6079:function(v){v.exports=d;function d(r,e,l,n){var s=n[0],o=n[1],f=n[2],b=Math.sqrt(s*s+o*o+f*f),h,_,a,c,p,x,k,y,A,C,u,m,M,w,z,O,D,P,F,R,N,B,q,V;return Math.abs(b)<1e-6?null:(b=1/b,s*=b,o*=b,f*=b,h=Math.sin(l),_=Math.cos(l),a=1-_,c=e[0],p=e[1],x=e[2],k=e[3],y=e[4],A=e[5],C=e[6],u=e[7],m=e[8],M=e[9],w=e[10],z=e[11],O=s*s*a+_,D=o*s*a+f*h,P=f*s*a-o*h,F=s*o*a-f*h,R=o*o*a+_,N=f*o*a+s*h,B=s*f*a+o*h,q=o*f*a-s*h,V=f*f*a+_,r[0]=c*O+y*D+m*P,r[1]=p*O+A*D+M*P,r[2]=x*O+C*D+w*P,r[3]=k*O+u*D+z*P,r[4]=c*F+y*R+m*N,r[5]=p*F+A*R+M*N,r[6]=x*F+C*R+w*N,r[7]=k*F+u*R+z*N,r[8]=c*B+y*q+m*V,r[9]=p*B+A*q+M*V,r[10]=x*B+C*q+w*V,r[11]=k*B+u*q+z*V,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}},5567:function(v){v.exports=d;function d(r,e,l){var n=Math.sin(l),s=Math.cos(l),o=e[4],f=e[5],b=e[6],h=e[7],_=e[8],a=e[9],c=e[10],p=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=o*s+_*n,r[5]=f*s+a*n,r[6]=b*s+c*n,r[7]=h*s+p*n,r[8]=_*s-o*n,r[9]=a*s-f*n,r[10]=c*s-b*n,r[11]=p*s-h*n,r}},2408:function(v){v.exports=d;function d(r,e,l){var n=Math.sin(l),s=Math.cos(l),o=e[0],f=e[1],b=e[2],h=e[3],_=e[8],a=e[9],c=e[10],p=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=o*s-_*n,r[1]=f*s-a*n,r[2]=b*s-c*n,r[3]=h*s-p*n,r[8]=o*n+_*s,r[9]=f*n+a*s,r[10]=b*n+c*s,r[11]=h*n+p*s,r}},7089:function(v){v.exports=d;function d(r,e,l){var n=Math.sin(l),s=Math.cos(l),o=e[0],f=e[1],b=e[2],h=e[3],_=e[4],a=e[5],c=e[6],p=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=o*s+_*n,r[1]=f*s+a*n,r[2]=b*s+c*n,r[3]=h*s+p*n,r[4]=_*s-o*n,r[5]=a*s-f*n,r[6]=c*s-b*n,r[7]=p*s-h*n,r}},2504:function(v){v.exports=d;function d(r,e,l){var n=l[0],s=l[1],o=l[2];return r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*s,r[5]=e[5]*s,r[6]=e[6]*s,r[7]=e[7]*s,r[8]=e[8]*o,r[9]=e[9]*o,r[10]=e[10]*o,r[11]=e[11]*o,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}},7656:function(v){v.exports=d;function d(r,e,l){var n=l[0],s=l[1],o=l[2],f,b,h,_,a,c,p,x,k,y,A,C;return e===r?(r[12]=e[0]*n+e[4]*s+e[8]*o+e[12],r[13]=e[1]*n+e[5]*s+e[9]*o+e[13],r[14]=e[2]*n+e[6]*s+e[10]*o+e[14],r[15]=e[3]*n+e[7]*s+e[11]*o+e[15]):(f=e[0],b=e[1],h=e[2],_=e[3],a=e[4],c=e[5],p=e[6],x=e[7],k=e[8],y=e[9],A=e[10],C=e[11],r[0]=f,r[1]=b,r[2]=h,r[3]=_,r[4]=a,r[5]=c,r[6]=p,r[7]=x,r[8]=k,r[9]=y,r[10]=A,r[11]=C,r[12]=f*n+a*s+k*o+e[12],r[13]=b*n+c*s+y*o+e[13],r[14]=h*n+p*s+A*o+e[14],r[15]=_*n+x*s+C*o+e[15]),r}},5665:function(v){v.exports=d;function d(r,e){if(r===e){var l=e[1],n=e[2],s=e[3],o=e[6],f=e[7],b=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=l,r[6]=e[9],r[7]=e[13],r[8]=n,r[9]=o,r[11]=e[14],r[12]=s,r[13]=f,r[14]=b}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}},7626:function(v,d,r){var e=r(2642),l=r(9346);v.exports=b;function n(h,_){for(var a=[0,0,0,0],c=0;c<4;++c)for(var p=0;p<4;++p)a[p]+=h[4*c+p]*_[c];return a}function s(h,_,a,c,p){for(var x=n(c,n(a,n(_,[h[0],h[1],h[2],1]))),k=0;k<3;++k)x[k]/=x[3];return[.5*p[0]*(1+x[0]),.5*p[1]*(1-x[1])]}function o(h,_){if(h.length===2){for(var a=0,c=0,p=0;p<2;++p)a+=Math.pow(_[p]-h[0][p],2),c+=Math.pow(_[p]-h[1][p],2);return a=Math.sqrt(a),c=Math.sqrt(c),a+c<1e-6?[1,0]:[c/(a+c),a/(c+a)]}else if(h.length===3){var x=[0,0];return l(h[0],h[1],h[2],_,x),e(h,x)}return[]}function f(h,_){for(var a=[0,0,0],c=0;c<h.length;++c)for(var p=h[c],x=_[c],k=0;k<3;++k)a[k]+=x*p[k];return a}function b(h,_,a,c,p,x){if(h.length===1)return[0,h[0].slice()];for(var k=new Array(h.length),y=0;y<h.length;++y)k[y]=s(h[y],a,c,p,x);for(var A=0,C=1/0,y=0;y<k.length;++y){for(var u=0,m=0;m<2;++m)u+=Math.pow(k[y][m]-_[m],2);u<C&&(C=u,A=y)}for(var M=o(k,_),w=0,y=0;y<3;++y){if(M[y]<-.001||M[y]>1.0001)return null;w+=M[y]}return Math.abs(w-1)>.001?null:[A,f(h,M),M]}},840:function(v,d,r){var e=r(3236),l=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),s=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),o=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),b=e([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),_=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),a=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),c=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=e([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);d.meshShader={vertex:l,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.wireShader={vertex:s,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.pointShader={vertex:f,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},d.pickShader={vertex:h,fragment:_,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},d.pointPickShader={vertex:a,fragment:_,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},d.contourShader={vertex:c,fragment:p,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,d,r){var e=1e-6,l=1e-6,n=r(9405),s=r(2762),o=r(8116),f=r(7766),b=r(8406),h=r(6760),_=r(7608),a=r(9618),c=r(6729),p=r(7765),x=r(1888),k=r(840),y=r(7626),A=k.meshShader,C=k.wireShader,u=k.pointShader,m=k.pickShader,M=k.pointPickShader,w=k.contourShader,z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(Y,Z,$,G,rt,ot,W,H,at,Q,ct,ft,yt,xt,Lt,gt,mt,vt,At,Ot,Pt,Et,Nt,ne,Gt,pe,Vt){this.gl=Y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=$,this.lineShader=G,this.pointShader=rt,this.pickShader=ot,this.pointPickShader=W,this.contourShader=H,this.trianglePositions=at,this.triangleColors=ct,this.triangleNormals=yt,this.triangleUVs=ft,this.triangleIds=Q,this.triangleVAO=xt,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Lt,this.edgeColors=mt,this.edgeUVs=vt,this.edgeIds=gt,this.edgeVAO=At,this.edgeCount=0,this.pointPositions=Ot,this.pointColors=Et,this.pointUVs=Nt,this.pointSizes=ne,this.pointIds=Pt,this.pointVAO=Gt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=pe,this.contourVAO=Vt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=z,this._view=z,this._projection=z,this._resolution=[1,1]}var D=O.prototype;D.isOpaque=function(){return!this.hasAlpha},D.isTransparent=function(){return this.hasAlpha},D.pickSlots=1,D.setPickBase=function(Y){this.pickId=Y};function P(Y,Z){if(!Z||!Z.length)return 1;for(var $=0;$<Z.length;++$){if(Z.length<2)return 1;if(Z[$][0]===Y)return Z[$][1];if(Z[$][0]>Y&&$>0){var G=(Z[$][0]-Y)/(Z[$][0]-Z[$-1][0]);return Z[$][1]*(1-G)+G*Z[$-1][1]}}return 1}function F(Y,Z){for(var $=c({colormap:Y,nshades:256,format:"rgba"}),G=new Uint8Array(1024),rt=0;rt<256;++rt){for(var ot=$[rt],W=0;W<3;++W)G[4*rt+W]=ot[W];Z?G[4*rt+3]=255*P(rt/255,Z):G[4*rt+3]=255*ot[3]}return a(G,[256,256,4],[4,0,1])}function R(Y){for(var Z=Y.length,$=new Array(Z),G=0;G<Z;++G)$[G]=Y[G][2];return $}D.highlight=function(Y){if(!Y||!this.contourEnable){this.contourCount=0;return}for(var Z=p(this.cells,this.intensity,Y.intensity),$=Z.cells,G=Z.vertexIds,rt=Z.vertexWeights,ot=$.length,W=x.mallocFloat32(6*ot),H=0,at=0;at<ot;++at)for(var Q=$[at],ct=0;ct<2;++ct){var ft=Q[0];Q.length===2&&(ft=Q[ct]);for(var yt=G[ft][0],xt=G[ft][1],Lt=rt[ft],gt=1-Lt,mt=this.positions[yt],vt=this.positions[xt],At=0;At<3;++At)W[H++]=Lt*mt[At]+gt*vt[At]}this.contourCount=H/3|0,this.contourPositions.update(W.subarray(0,H)),x.free(W)},D.update=function(Y){Y=Y||{};var Z=this.gl;this.dirty=!0,"contourEnable"in Y&&(this.contourEnable=Y.contourEnable),"contourColor"in Y&&(this.contourColor=Y.contourColor),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"lightPosition"in Y&&(this.lightPosition=Y.lightPosition),this.hasAlpha=!1,"opacity"in Y&&(this.opacity=Y.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale,this.hasAlpha=!0),"ambient"in Y&&(this.ambientLight=Y.ambient),"diffuse"in Y&&(this.diffuseLight=Y.diffuse),"specular"in Y&&(this.specularLight=Y.specular),"roughness"in Y&&(this.roughness=Y.roughness),"fresnel"in Y&&(this.fresnel=Y.fresnel),Y.texture?(this.texture.dispose(),this.texture=f(Z,Y.texture)):Y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(F(Y.colormap,this.opacityscale)),this.texture.generateMipmap());var $=Y.cells,G=Y.positions;if(!(!G||!$)){var rt=[],ot=[],W=[],H=[],at=[],Q=[],ct=[],ft=[],yt=[],xt=[],Lt=[],gt=[],mt=[],vt=[];this.cells=$,this.positions=G;var At=Y.vertexNormals,Ot=Y.cellNormals,Pt=Y.vertexNormalsEpsilon===void 0?e:Y.vertexNormalsEpsilon,Et=Y.faceNormalsEpsilon===void 0?l:Y.faceNormalsEpsilon;Y.useFacetNormals&&!Ot&&(Ot=b.faceNormals($,G,Et)),!Ot&&!At&&(At=b.vertexNormals($,G,Pt));var Nt=Y.vertexColors,ne=Y.cellColors,Gt=Y.meshColor||[1,1,1,1],pe=Y.vertexUVs,Vt=Y.vertexIntensity,ae=Y.cellUVs,oe=Y.cellIntensity,ce=1/0,le=-1/0;if(!pe&&!ae)if(Vt)if(Y.vertexIntensityBounds)ce=+Y.vertexIntensityBounds[0],le=+Y.vertexIntensityBounds[1];else for(var ye=0;ye<Vt.length;++ye){var Tt=Vt[ye];ce=Math.min(ce,Tt),le=Math.max(le,Tt)}else if(oe)if(Y.cellIntensityBounds)ce=+Y.cellIntensityBounds[0],le=+Y.cellIntensityBounds[1];else for(var ye=0;ye<oe.length;++ye){var Tt=oe[ye];ce=Math.min(ce,Tt),le=Math.max(le,Tt)}else for(var ye=0;ye<G.length;++ye){var Tt=G[ye][2];ce=Math.min(ce,Tt),le=Math.max(le,Tt)}Vt?this.intensity=Vt:oe?this.intensity=oe:this.intensity=R(G),this.pickVertex=!(oe||ne);var Ft=Y.pointSizes,$t=Y.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ye=0;ye<G.length;++ye)for(var Wt=G[ye],Bt=0;Bt<3;++Bt)isNaN(Wt[Bt])||!isFinite(Wt[Bt])||(this.bounds[0][Bt]=Math.min(this.bounds[0][Bt],Wt[Bt]),this.bounds[1][Bt]=Math.max(this.bounds[1][Bt],Wt[Bt]));var Mt=0,St=0,Dt=0;t:for(var ye=0;ye<$.length;++ye){var dt=$[ye];switch(dt.length){case 1:for(var ht=dt[0],Wt=G[ht],Bt=0;Bt<3;++Bt)if(isNaN(Wt[Bt])||!isFinite(Wt[Bt]))continue t;xt.push(Wt[0],Wt[1],Wt[2]);var bt;Nt?bt=Nt[ht]:ne?bt=ne[ye]:bt=Gt,this.opacityscale&&Vt?ot.push(bt[0],bt[1],bt[2],this.opacity*P((Vt[ht]-ce)/(le-ce),this.opacityscale)):bt.length===3?Lt.push(bt[0],bt[1],bt[2],this.opacity):(Lt.push(bt[0],bt[1],bt[2],bt[3]*this.opacity),bt[3]<1&&(this.hasAlpha=!0));var zt;pe?zt=pe[ht]:Vt?zt=[(Vt[ht]-ce)/(le-ce),0]:ae?zt=ae[ye]:oe?zt=[(oe[ye]-ce)/(le-ce),0]:zt=[(Wt[2]-ce)/(le-ce),0],gt.push(zt[0],zt[1]),Ft?mt.push(Ft[ht]):mt.push($t),vt.push(ye),Dt+=1;break;case 2:for(var Bt=0;Bt<2;++Bt)for(var ht=dt[Bt],Wt=G[ht],qt=0;qt<3;++qt)if(isNaN(Wt[qt])||!isFinite(Wt[qt]))continue t;for(var Bt=0;Bt<2;++Bt){var ht=dt[Bt],Wt=G[ht];Q.push(Wt[0],Wt[1],Wt[2]);var bt;Nt?bt=Nt[ht]:ne?bt=ne[ye]:bt=Gt,this.opacityscale&&Vt?ot.push(bt[0],bt[1],bt[2],this.opacity*P((Vt[ht]-ce)/(le-ce),this.opacityscale)):bt.length===3?ct.push(bt[0],bt[1],bt[2],this.opacity):(ct.push(bt[0],bt[1],bt[2],bt[3]*this.opacity),bt[3]<1&&(this.hasAlpha=!0));var zt;pe?zt=pe[ht]:Vt?zt=[(Vt[ht]-ce)/(le-ce),0]:ae?zt=ae[ye]:oe?zt=[(oe[ye]-ce)/(le-ce),0]:zt=[(Wt[2]-ce)/(le-ce),0],ft.push(zt[0],zt[1]),yt.push(ye)}St+=1;break;case 3:for(var Bt=0;Bt<3;++Bt)for(var ht=dt[Bt],Wt=G[ht],qt=0;qt<3;++qt)if(isNaN(Wt[qt])||!isFinite(Wt[qt]))continue t;for(var Bt=0;Bt<3;++Bt){var ht=dt[2-Bt],Wt=G[ht];rt.push(Wt[0],Wt[1],Wt[2]);var bt;Nt?bt=Nt[ht]:ne?bt=ne[ye]:bt=Gt,bt?this.opacityscale&&Vt?ot.push(bt[0],bt[1],bt[2],this.opacity*P((Vt[ht]-ce)/(le-ce),this.opacityscale)):bt.length===3?ot.push(bt[0],bt[1],bt[2],this.opacity):(ot.push(bt[0],bt[1],bt[2],bt[3]*this.opacity),bt[3]<1&&(this.hasAlpha=!0)):ot.push(.5,.5,.5,1);var zt;pe?zt=pe[ht]:Vt?zt=[(Vt[ht]-ce)/(le-ce),0]:ae?zt=ae[ye]:oe?zt=[(oe[ye]-ce)/(le-ce),0]:zt=[(Wt[2]-ce)/(le-ce),0],H.push(zt[0],zt[1]);var te;At?te=At[ht]:te=Ot[ye],W.push(te[0],te[1],te[2]),at.push(ye)}Mt+=1;break}}this.pointCount=Dt,this.edgeCount=St,this.triangleCount=Mt,this.pointPositions.update(xt),this.pointColors.update(Lt),this.pointUVs.update(gt),this.pointSizes.update(mt),this.pointIds.update(new Uint32Array(vt)),this.edgePositions.update(Q),this.edgeColors.update(ct),this.edgeUVs.update(ft),this.edgeIds.update(new Uint32Array(yt)),this.trianglePositions.update(rt),this.triangleColors.update(ot),this.triangleUVs.update(H),this.triangleNormals.update(W),this.triangleIds.update(new Uint32Array(at))}},D.drawTransparent=D.draw=function(Y){Y=Y||{};for(var Z=this.gl,$=Y.model||z,G=Y.view||z,rt=Y.projection||z,ot=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],W=0;W<3;++W)ot[0][W]=Math.max(ot[0][W],this.clipBounds[0][W]),ot[1][W]=Math.min(ot[1][W],this.clipBounds[1][W]);var H={model:$,view:G,projection:rt,inverseModel:z.slice(),clipBounds:ot,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};H.inverseModel=_(H.inverseModel,H.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var at=new Array(16);h(at,H.view,H.model),h(at,H.projection,at),_(at,at);for(var W=0;W<3;++W)H.eyePosition[W]=at[12+W]/at[15];for(var Q=at[15],W=0;W<3;++W)Q+=this.lightPosition[W]*at[4*W+3];for(var W=0;W<3;++W){for(var ct=at[12+W],ft=0;ft<3;++ft)ct+=at[4*ft+W]*this.lightPosition[ft];H.lightPosition[W]=ct/Q}if(this.triangleCount>0){var yt=this.triShader;yt.bind(),yt.uniforms=H,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var yt=this.lineShader;yt.bind(),yt.uniforms=H,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var yt=this.pointShader;yt.bind(),yt.uniforms=H,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var yt=this.contourShader;yt.bind(),yt.uniforms=H,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},D.drawPick=function(Y){Y=Y||{};for(var Z=this.gl,$=Y.model||z,G=Y.view||z,rt=Y.projection||z,ot=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],W=0;W<3;++W)ot[0][W]=Math.max(ot[0][W],this.clipBounds[0][W]),ot[1][W]=Math.min(ot[1][W],this.clipBounds[1][W]);this._model=[].slice.call($),this._view=[].slice.call(G),this._projection=[].slice.call(rt),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var H={model:$,view:G,projection:rt,clipBounds:ot,pickId:this.pickId/255},at=this.pickShader;if(at.bind(),at.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var at=this.pointPickShader;at.bind(),at.uniforms=H,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},D.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;for(var Z=Y.value[0]+256*Y.value[1]+65536*Y.value[2],$=this.cells[Z],G=this.positions,rt=new Array($.length),ot=0;ot<$.length;++ot)rt[ot]=G[$[ot]];var W=Y.coord[0],H=Y.coord[1];if(!this.pickVertex){var at=this.positions[$[0]],Q=this.positions[$[1]],ct=this.positions[$[2]],ft=[(at[0]+Q[0]+ct[0])/3,(at[1]+Q[1]+ct[1])/3,(at[2]+Q[2]+ct[2])/3];return{_cellCenter:!0,position:[W,H],index:Z,cell:$,cellId:Z,intensity:this.intensity[Z],dataCoordinate:ft}}var yt=y(rt,[W*this.pixelRatio,this._resolution[1]-H*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!yt)return null;for(var xt=yt[2],Lt=0,ot=0;ot<$.length;++ot)Lt+=xt[ot]*this.intensity[$[ot]];return{position:yt[1],index:$[yt[0]],cell:$,cellId:Z,intensity:Lt,dataCoordinate:this.positions[$[yt[0]]]}},D.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function N(Y){var Z=n(Y,A.vertex,A.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function B(Y){var Z=n(Y,C.vertex,C.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function q(Y){var Z=n(Y,u.vertex,u.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function V(Y){var Z=n(Y,m.vertex,m.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function J(Y){var Z=n(Y,M.vertex,M.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function it(Y){var Z=n(Y,w.vertex,w.fragment);return Z.attributes.position.location=0,Z}function nt(Y,Z){arguments.length===1&&(Z=Y,Y=Z.gl);var $=Y.getExtension("OES_standard_derivatives")||Y.getExtension("MOZ_OES_standard_derivatives")||Y.getExtension("WEBKIT_OES_standard_derivatives");if(!$)throw new Error("derivatives not supported");var G=N(Y),rt=B(Y),ot=q(Y),W=V(Y),H=J(Y),at=it(Y),Q=f(Y,a(new Uint8Array([255,255,255,255]),[1,1,4]));Q.generateMipmap(),Q.minFilter=Y.LINEAR_MIPMAP_LINEAR,Q.magFilter=Y.LINEAR;var ct=s(Y),ft=s(Y),yt=s(Y),xt=s(Y),Lt=s(Y),gt=o(Y,[{buffer:ct,type:Y.FLOAT,size:3},{buffer:Lt,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ft,type:Y.FLOAT,size:4},{buffer:yt,type:Y.FLOAT,size:2},{buffer:xt,type:Y.FLOAT,size:3}]),mt=s(Y),vt=s(Y),At=s(Y),Ot=s(Y),Pt=o(Y,[{buffer:mt,type:Y.FLOAT,size:3},{buffer:Ot,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:vt,type:Y.FLOAT,size:4},{buffer:At,type:Y.FLOAT,size:2}]),Et=s(Y),Nt=s(Y),ne=s(Y),Gt=s(Y),pe=s(Y),Vt=o(Y,[{buffer:Et,type:Y.FLOAT,size:3},{buffer:pe,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Nt,type:Y.FLOAT,size:4},{buffer:ne,type:Y.FLOAT,size:2},{buffer:Gt,type:Y.FLOAT,size:1}]),ae=s(Y),oe=o(Y,[{buffer:ae,type:Y.FLOAT,size:3}]),ce=new O(Y,Q,G,rt,ot,W,H,at,ct,Lt,ft,yt,xt,gt,mt,Ot,vt,At,Pt,Et,pe,Nt,ne,Gt,Vt,ae,oe);return ce.update(Z),ce}v.exports=nt},8120:function(v,d,r){v.exports=f;var e=r(2762),l=r(9405),n=r(3603);function s(b,h,_){this.plot=b,this.vbo=h,this.shader=_}var o=s.prototype;o.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},o.drawBox=function(){var b=[0,0],h=[0,0];return function(_,a,c,p,x){var k=this.plot,y=this.shader,A=k.gl;b[0]=_,b[1]=a,h[0]=c,h[1]=p,y.uniforms.lo=b,y.uniforms.hi=h,y.uniforms.color=x,A.drawArrays(A.TRIANGLE_STRIP,0,4)}}(),o.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(b){var h=b.gl,_=e(h,[0,0,0,1,1,0,1,1]),a=l(h,n.boxVert,n.lineFrag);return new s(b,_,a)}},1913:function(v,d,r){v.exports=h;var e=r(2762),l=r(9405),n=r(2478),s=r(3603);function o(_,a,c,p){this.plot=_,this.vbo=a,this.shader=c,this.tickShader=p,this.ticks=[[],[]]}function f(_,a){return _-a}var b=o.prototype;b.draw=function(){var _=[0,0],a=[0,0],c=[0,0];return function(){for(var p=this.plot,x=this.vbo,k=this.shader,y=this.ticks,A=p.gl,C=p._tickBounds,u=p.dataBox,m=p.viewBox,M=p.gridLineWidth,w=p.gridLineColor,z=p.gridLineEnable,O=p.pixelRatio,D=0;D<2;++D){var P=C[D],F=C[D+2],R=F-P,N=.5*(u[D+2]+u[D]),B=u[D+2]-u[D];a[D]=2*R/B,_[D]=2*(P-N)/B}k.bind(),x.bind(),k.attributes.dataCoord.pointer(),k.uniforms.dataShift=_,k.uniforms.dataScale=a;for(var q=0,D=0;D<2;++D){c[0]=c[1]=0,c[D]=1,k.uniforms.dataAxis=c,k.uniforms.lineWidth=M[D]/(m[D+2]-m[D])*O,k.uniforms.color=w[D];var V=y[D].length*6;z[D]&&V&&A.drawArrays(A.TRIANGLES,q,V),q+=V}}}(),b.drawTickMarks=function(){var _=[0,0],a=[0,0],c=[1,0],p=[0,1],x=[0,0],k=[0,0];return function(){for(var y=this.plot,A=this.vbo,C=this.tickShader,u=this.ticks,m=y.gl,M=y._tickBounds,w=y.dataBox,z=y.viewBox,O=y.pixelRatio,D=y.screenBox,P=D[2]-D[0],F=D[3]-D[1],R=z[2]-z[0],N=z[3]-z[1],B=0;B<2;++B){var q=M[B],V=M[B+2],J=V-q,it=.5*(w[B+2]+w[B]),nt=w[B+2]-w[B];a[B]=2*J/nt,_[B]=2*(q-it)/nt}a[0]*=R/P,_[0]*=R/P,a[1]*=N/F,_[1]*=N/F,C.bind(),A.bind(),C.attributes.dataCoord.pointer();var Y=C.uniforms;Y.dataShift=_,Y.dataScale=a;var Z=y.tickMarkLength,$=y.tickMarkWidth,G=y.tickMarkColor,rt=0,ot=u[0].length*6,W=Math.min(n.ge(u[0],(w[0]-M[0])/(M[2]-M[0]),f),u[0].length),H=Math.min(n.gt(u[0],(w[2]-M[0])/(M[2]-M[0]),f),u[0].length),at=rt+6*W,Q=6*Math.max(0,H-W),ct=Math.min(n.ge(u[1],(w[1]-M[1])/(M[3]-M[1]),f),u[1].length),ft=Math.min(n.gt(u[1],(w[3]-M[1])/(M[3]-M[1]),f),u[1].length),yt=ot+6*ct,xt=6*Math.max(0,ft-ct);x[0]=2*(z[0]-Z[1])/P-1,x[1]=(z[3]+z[1])/F-1,k[0]=Z[1]*O/P,k[1]=$[1]*O/F,xt&&(Y.color=G[1],Y.tickScale=k,Y.dataAxis=p,Y.screenOffset=x,m.drawArrays(m.TRIANGLES,yt,xt)),x[0]=(z[2]+z[0])/P-1,x[1]=2*(z[1]-Z[0])/F-1,k[0]=$[0]*O/P,k[1]=Z[0]*O/F,Q&&(Y.color=G[0],Y.tickScale=k,Y.dataAxis=c,Y.screenOffset=x,m.drawArrays(m.TRIANGLES,at,Q)),x[0]=2*(z[2]+Z[3])/P-1,x[1]=(z[3]+z[1])/F-1,k[0]=Z[3]*O/P,k[1]=$[3]*O/F,xt&&(Y.color=G[3],Y.tickScale=k,Y.dataAxis=p,Y.screenOffset=x,m.drawArrays(m.TRIANGLES,yt,xt)),x[0]=(z[2]+z[0])/P-1,x[1]=2*(z[3]+Z[2])/F-1,k[0]=$[2]*O/P,k[1]=Z[2]*O/F,Q&&(Y.color=G[2],Y.tickScale=k,Y.dataAxis=c,Y.screenOffset=x,m.drawArrays(m.TRIANGLES,at,Q))}}(),b.update=function(){var _=[1,1,-1,-1,1,-1],a=[1,-1,1,1,-1,-1];return function(c){for(var p=c.ticks,x=c.bounds,k=new Float32Array(18*(p[0].length+p[1].length)),y=this.plot.zeroLineEnable,A=0,C=[[],[]],u=0;u<2;++u)for(var m=C[u],M=p[u],w=x[u],z=x[u+2],O=0;O<M.length;++O){var D=(M[O].x-w)/(z-w);m.push(D);for(var P=0;P<6;++P)k[A++]=D,k[A++]=_[P],k[A++]=a[P]}this.ticks=C,this.vbo.update(k)}}(),b.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(_){var a=_.gl,c=e(a),p=l(a,s.gridVert,s.gridFrag),x=l(a,s.tickVert,s.gridFrag),k=new o(_,c,p,x);return k}},4747:function(v,d,r){v.exports=f;var e=r(2762),l=r(9405),n=r(3603);function s(b,h,_){this.plot=b,this.vbo=h,this.shader=_}var o=s.prototype;o.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},o.drawLine=function(){var b=[0,0],h=[0,0];return function(_,a,c,p,x,k){var y=this.plot,A=this.shader,C=y.gl;b[0]=_,b[1]=a,h[0]=c,h[1]=p,A.uniforms.start=b,A.uniforms.end=h,A.uniforms.width=x*y.pixelRatio,A.uniforms.color=k,C.drawArrays(C.TRIANGLE_STRIP,0,4)}}(),o.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(b){var h=b.gl,_=e(h,[-1,-1,-1,1,1,-1,1,1]),a=l(h,n.lineVert,n.lineFrag),c=new s(b,_,a);return c}},3603:function(v,d,r){var e=r(3236),l=e([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:l,textVert:e([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:l,gridVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:l,boxVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,d,r){v.exports=h;var e=r(2762),l=r(9405),n=r(529),s=r(2478),o=r(3603);function f(_,a,c){this.plot=_,this.vbo=a,this.shader=c,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var b=f.prototype;b.drawTicks=function(){var _=[0,0],a=[0,0],c=[0,0];return function(p){var x=this.plot,k=this.shader,y=this.tickX[p],A=this.tickOffset[p],C=x.gl,u=x.viewBox,m=x.dataBox,M=x.screenBox,w=x.pixelRatio,z=x.tickEnable,O=x.tickPad,D=x.tickColor,P=x.tickAngle,F=x.labelEnable,R=x.labelPad,N=x.labelColor,B=x.labelAngle,q=this.labelOffset[p],V=this.labelCount[p],J=s.lt(y,m[p]),it=s.le(y,m[p+2]);_[0]=_[1]=0,_[p]=1,a[p]=(u[2+p]+u[p])/(M[2+p]-M[p])-1;var nt=2/M[2+(p^1)]-M[p^1];a[p^1]=nt*u[p^1]-1,z[p]&&(a[p^1]-=nt*w*O[p],J<it&&A[it]>A[J]&&(k.uniforms.dataAxis=_,k.uniforms.screenOffset=a,k.uniforms.color=D[p],k.uniforms.angle=P[p],C.drawArrays(C.TRIANGLES,A[J],A[it]-A[J]))),F[p]&&V&&(a[p^1]-=nt*w*R[p],k.uniforms.dataAxis=c,k.uniforms.screenOffset=a,k.uniforms.color=N[p],k.uniforms.angle=B[p],C.drawArrays(C.TRIANGLES,q,V)),a[p^1]=nt*u[2+(p^1)]-1,z[p+2]&&(a[p^1]+=nt*w*O[p+2],J<it&&A[it]>A[J]&&(k.uniforms.dataAxis=_,k.uniforms.screenOffset=a,k.uniforms.color=D[p+2],k.uniforms.angle=P[p+2],C.drawArrays(C.TRIANGLES,A[J],A[it]-A[J]))),F[p+2]&&V&&(a[p^1]+=nt*w*R[p+2],k.uniforms.dataAxis=c,k.uniforms.screenOffset=a,k.uniforms.color=N[p+2],k.uniforms.angle=B[p+2],C.drawArrays(C.TRIANGLES,q,V))}}(),b.drawTitle=function(){var _=[0,0],a=[0,0];return function(){var c=this.plot,p=this.shader,x=c.gl,k=c.screenBox,y=c.titleCenter,A=c.titleAngle,C=c.titleColor,u=c.pixelRatio;if(this.titleCount){for(var m=0;m<2;++m)a[m]=2*(y[m]*u-k[m])/(k[2+m]-k[m])-1;p.bind(),p.uniforms.dataAxis=_,p.uniforms.screenOffset=a,p.uniforms.angle=A,p.uniforms.color=C,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),b.bind=function(){var _=[0,0],a=[0,0],c=[0,0];return function(){var p=this.plot,x=this.shader,k=p._tickBounds,y=p.dataBox,A=p.screenBox,C=p.viewBox;x.bind();for(var u=0;u<2;++u){var m=k[u],M=k[u+2],w=M-m,z=.5*(y[u+2]+y[u]),O=y[u+2]-y[u],D=C[u],P=C[u+2],F=P-D,R=A[u],N=A[u+2],B=N-R;a[u]=2*w/O*F/B,_[u]=2*(m-z)/O*F/B}c[1]=2*p.pixelRatio/(A[3]-A[1]),c[0]=c[1]*(A[3]-A[1])/(A[2]-A[0]),x.uniforms.dataScale=a,x.uniforms.dataShift=_,x.uniforms.textScale=c,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),b.update=function(_){var a=[],c=_.ticks,p=_.bounds,x,k,y,A,C;for(C=0;C<2;++C){var u=[Math.floor(a.length/3)],m=[-1/0],M=c[C];for(x=0;x<M.length;++x){var w=M[x],z=w.x,O=w.text,D=w.font||"sans-serif",P=w.fontStyle||"normal",F=w.fontWeight||"normal",R=w.fontVariant||"normal";A=w.fontSize||12;for(var N=1/(p[C+2]-p[C]),B=p[C],q=O.split(`
`),V=0;V<q.length;V++)for(y=n(D,q[V],{fontStyle:P,fontWeight:F,fontVariant:R}).data,k=0;k<y.length;k+=2)a.push(y[k]*A,-y[k+1]*A-V*A*1.2,(z-B)*N);u.push(Math.floor(a.length/3)),m.push(z)}this.tickOffset[C]=u,this.tickX[C]=m}for(C=0;C<2;++C){for(this.labelOffset[C]=Math.floor(a.length/3),y=n(_.labelFont[C],_.labels[C],{fontStyle:_.labelFontStyle[C],fontWeight:_.labelFontWeight[C],fontVariant:_.labelFontVariant[C],textAlign:"center"}).data,A=_.labelSize[C],x=0;x<y.length;x+=2)a.push(y[x]*A,-y[x+1]*A,0);this.labelCount[C]=Math.floor(a.length/3)-this.labelOffset[C]}for(this.titleOffset=Math.floor(a.length/3),y=n(_.titleFont,_.title,{fontStyle:_.titleFontStyle,fontWeight:_.titleFontWeight,fontVariant:_.titleFontVariant}).data,A=_.titleSize,x=0;x<y.length;x+=2)a.push(y[x]*A,-y[x+1]*A,0);this.titleCount=Math.floor(a.length/3)-this.titleOffset,this.vbo.update(a)},b.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(_){var a=_.gl,c=e(a),p=l(a,o.textVert,o.textFrag),x=new f(_,c,p);return x}},1850:function(v,d,r){v.exports=a;var e=r(3589),l=r(1913),n=r(2142),s=r(4747),o=r(8120);function f(c,p){this.gl=c,this.pickBuffer=p,this.screenBox=[0,0,c.drawingBufferWidth,c.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var b=f.prototype;b.setDirty=function(){this.dirty=this.pickDirty=!0},b.setOverlayDirty=function(){this.dirty=!0},b.nextDepthValue=function(){return this._depthCounter++/65536},b.draw=function(){return function(){var c=this.gl,p=this.screenBox,x=this.viewBox,k=this.dataBox,y=this.pixelRatio,A=this.grid,C=this.line,u=this.text,m=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,c.bindFramebuffer(c.FRAMEBUFFER,null),c.enable(c.SCISSOR_TEST),c.disable(c.DEPTH_TEST),c.depthFunc(c.LESS),c.depthMask(!1),c.enable(c.BLEND),c.blendEquation(c.FUNC_ADD,c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),this.borderColor){c.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var M=this.borderColor;c.clearColor(M[0]*M[3],M[1]*M[3],M[2]*M[3],M[3]),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)}c.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),c.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var w=this.backgroundColor;c.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),c.clear(c.COLOR_BUFFER_BIT),A.draw();var z=this.zeroLineEnable,O=this.zeroLineColor,D=this.zeroLineWidth;if(z[0]||z[1]){C.bind();for(var P=0;P<2;++P)if(!(!z[P]||!(k[P]<=0&&k[P+2]>=0))){var F=p[P]-k[P]*(p[P+2]-p[P])/(k[P+2]-k[P]);P===0?C.drawLine(F,p[1],F,p[3],D[P],O[P]):C.drawLine(p[0],F,p[2],F,D[P],O[P])}}for(var P=0;P<m.length;++P)m[P].draw();c.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),c.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),C.bind();var R=this.borderLineEnable,N=this.borderLineWidth,B=this.borderLineColor;R[1]&&C.drawLine(x[0],x[1]-.5*N[1]*y,x[0],x[3]+.5*N[3]*y,N[1],B[1]),R[0]&&C.drawLine(x[0]-.5*N[0]*y,x[1],x[2]+.5*N[2]*y,x[1],N[0],B[0]),R[3]&&C.drawLine(x[2],x[1]-.5*N[1]*y,x[2],x[3]+.5*N[3]*y,N[3],B[3]),R[2]&&C.drawLine(x[0]-.5*N[0]*y,x[3],x[2]+.5*N[2]*y,x[3],N[2],B[2]),u.bind();for(var P=0;P<2;++P)u.drawTicks(P);this.titleEnable&&u.drawTitle();for(var q=this.overlays,P=0;P<q.length;++P)q[P].draw();c.disable(c.SCISSOR_TEST),c.disable(c.BLEND),c.depthMask(!0)}}}(),b.drawPick=function(){return function(){if(!this.static){var c=this.pickBuffer;this.gl,this._pickTimeout=null,c.begin();for(var p=1,x=this.objects,k=0;k<x.length;++k)p=x[k].drawPick(p);c.end()}}}(),b.pick=function(){return function(c,p){if(!this.static){var x=this.pixelRatio,k=this.pickPixelRatio,y=this.viewBox,A=Math.round((c-y[0]/x)*k)|0,C=Math.round((p-y[1]/x)*k)|0,u=this.pickBuffer.query(A,C,this.pickRadius);if(!u)return null;for(var m=u.id+(u.value[0]<<8)+(u.value[1]<<16)+(u.value[2]<<24),M=this.objects,w=0;w<M.length;++w){var z=M[w].pick(A,C,m);if(z)return z}return null}}}();function h(c){for(var p=c.slice(),x=0;x<p.length;++x)p[x]=p[x].slice();return p}function _(c,p){return c.x-p.x}b.setScreenBox=function(c){var p=this.screenBox,x=this.pixelRatio;p[0]=Math.round(c[0]*x)|0,p[1]=Math.round(c[1]*x)|0,p[2]=Math.round(c[2]*x)|0,p[3]=Math.round(c[3]*x)|0,this.setDirty()},b.setDataBox=function(c){var p=this.dataBox,x=p[0]!==c[0]||p[1]!==c[1]||p[2]!==c[2]||p[3]!==c[3];x&&(p[0]=c[0],p[1]=c[1],p[2]=c[2],p[3]=c[3],this.setDirty())},b.setViewBox=function(c){var p=this.pixelRatio,x=this.viewBox;x[0]=Math.round(c[0]*p)|0,x[1]=Math.round(c[1]*p)|0,x[2]=Math.round(c[2]*p)|0,x[3]=Math.round(c[3]*p)|0;var k=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((c[2]-c[0])*k)|0,Math.round((c[3]-c[1])*k)|0],this.setDirty()},b.update=function(c){c=c||{};var p=this.gl;this.pixelRatio=c.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(c.screenBox||[0,0,p.drawingBufferWidth/x,p.drawingBufferHeight/x]),this.screenBox,this.setViewBox(c.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var k=this.viewBox,y=(k[2]-k[0])/(k[3]-k[1]);this.setDataBox(c.dataBox||[-10,-10/y,10,10/y]),this.borderColor=c.borderColor!==!1?(c.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(c.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(c.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(c.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(c.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(c.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(c.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(c.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(c.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(c.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(c.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(c.titleCenter||[.5*(k[0]+k[2])/x,(k[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in c)||!!c.titleEnable,this.titleAngle=c.titleAngle||0,this.titleColor=(c.titleColor||[0,0,0,1]).slice(),this.labelPad=(c.labelPad||[15,15,15,15]).slice(),this.labelAngle=(c.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(c.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(c.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(c.tickPad||[15,15,15,15]).slice(),this.tickAngle=(c.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(c.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(c.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(c.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(c.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(c.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=c.ticks||[[],[]],C=this._tickBounds;C[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(var u=0;u<2;++u){var m=A[u].slice(0);m.length!==0&&(m.sort(_),C[u]=Math.min(C[u],m[0].x),C[u+2]=Math.max(C[u+2],m[m.length-1].x))}this.grid.update({bounds:C,ticks:A}),this.text.update({bounds:C,ticks:A,labels:c.labels||["x","y"],labelSize:c.labelSize||[12,12],labelFont:c.labelFont||["sans-serif","sans-serif"],labelFontStyle:c.labelFontStyle||["normal","normal"],labelFontWeight:c.labelFontWeight||["normal","normal"],labelFontVariant:c.labelFontVariant||["normal","normal"],title:c.title||"",titleSize:c.titleSize||18,titleFont:c.titleFont||"sans-serif",titleFontStyle:c.titleFontStyle||"normal",titleFontWeight:c.titleFontWeight||"normal",titleFontVariant:c.titleFontVariant||"normal"}),this.static=!!c.static,this.setDirty()},b.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var c=this.objects.length-1;c>=0;--c)this.objects[c].dispose();this.objects.length=0;for(var c=this.overlays.length-1;c>=0;--c)this.overlays[c].dispose();this.overlays.length=0,this.gl=null},b.addObject=function(c){this.objects.indexOf(c)<0&&(this.objects.push(c),this.setDirty())},b.removeObject=function(c){for(var p=this.objects,x=0;x<p.length;++x)if(p[x]===c){p.splice(x,1),this.setDirty();break}},b.addOverlay=function(c){this.overlays.indexOf(c)<0&&(this.overlays.push(c),this.setOverlayDirty())},b.removeOverlay=function(c){for(var p=this.overlays,x=0;x<p.length;++x)if(p[x]===c){p.splice(x,1),this.setOverlayDirty();break}};function a(c){var p=c.gl,x=e(p,[p.drawingBufferWidth,p.drawingBufferHeight]),k=new f(p,x);return k.grid=l(k),k.text=n(k),k.line=s(k),k.box=o(k),k.update(c),k}},4437:function(v,d,r){v.exports=b;var e=r(3025),l=r(6296),n=r(351),s=r(8512),o=r(24),f=r(7520);function b(h,_){h=h||document.body,_=_||{};var a=[.01,1/0];"distanceLimits"in _&&(a[0]=_.distanceLimits[0],a[1]=_.distanceLimits[1]),"zoomMin"in _&&(a[0]=_.zoomMin),"zoomMax"in _&&(a[1]=_.zoomMax);var c=l({center:_.center||[0,0,0],up:_.up||[0,1,0],eye:_.eye||[0,0,10],mode:_.mode||"orbit",distanceLimits:a}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,k=h.clientWidth,y=h.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:c,element:h,delay:_.delay||16,rotateSpeed:_.rotateSpeed||1,zoomSpeed:_.zoomSpeed||1,translateSpeed:_.translateSpeed||1,flipX:!!_.flipX,flipY:!!_.flipY,modes:c.modes,_ortho:_._ortho||_.projection&&_.projection.type==="orthographic"||!1,tick:function(){var C=e(),u=this.delay,m=C-2*u;c.idle(C-u),c.recalcMatrix(m),c.flush(C-(100+u*2));for(var M=!0,w=c.computedMatrix,z=0;z<16;++z)M=M&&p[z]===w[z],p[z]=w[z];var O=h.clientWidth===k&&h.clientHeight===y;return k=h.clientWidth,y=h.clientHeight,M?!O:(x=Math.exp(c.computedRadius[0]),!0)},lookAt:function(C,u,m){c.lookAt(c.lastT(),C,u,m)},rotate:function(C,u,m){c.rotate(c.lastT(),C,u,m)},pan:function(C,u,m){c.pan(c.lastT(),C,u,m)},translate:function(C,u,m){c.translate(c.lastT(),C,u,m)}};return Object.defineProperties(A,{matrix:{get:function(){return c.computedMatrix},set:function(C){return c.setMatrix(c.lastT(),C),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(C){var u=c.computedUp.slice(),m=c.computedEye.slice(),M=c.computedCenter.slice();if(c.setMode(C),C==="turntable"){var w=e();c._active.lookAt(w,m,M,u),c._active.lookAt(w+500,m,M,[0,0,1]),c._active.flush(w)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(C){return c.lookAt(c.lastT(),null,C),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(C){return c.lookAt(c.lastT(),C),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(C){return c.lookAt(c.lastT(),null,null,C),c.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(C){return c.setDistance(c.lastT(),C),C},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(a)},set:function(C){return c.setDistanceLimits(C),C},enumerable:!0}}),h.addEventListener("contextmenu",function(C){return C.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){A.mouseListener=n(h,C),h.addEventListener("touchstart",function(u){var m=o(u.changedTouches[0],h);C(0,m[0],m[1],A._lastMods),C(1,m[0],m[1],A._lastMods)},f?{passive:!0}:!1),h.addEventListener("touchmove",function(u){var m=o(u.changedTouches[0],h);C(1,m[0],m[1],A._lastMods),u.preventDefault()},f?{passive:!1}:!1),h.addEventListener("touchend",function(u){C(0,A._lastX,A._lastY,A._lastMods)},f?{passive:!0}:!1);function C(u,m,M,w){var z=A.keyBindingMode;if(z!==!1){var O=z==="rotate",D=z==="pan",P=z==="zoom",F=!!w.control,R=!!w.alt,N=!!w.shift,B=!!(u&1),q=!!(u&2),V=!!(u&4),J=1/h.clientHeight,it=J*(m-A._lastX),nt=J*(M-A._lastY),Y=A.flipX?1:-1,Z=A.flipY?1:-1,$=Math.PI*A.rotateSpeed,G=e();if(A._lastX!==-1&&A._lastY!==-1&&((O&&B&&!F&&!R&&!N||B&&!F&&!R&&N)&&c.rotate(G,Y*$*it,-Z*$*nt,0),(D&&B&&!F&&!R&&!N||q||B&&F&&!R&&!N)&&c.pan(G,-A.translateSpeed*it*x,A.translateSpeed*nt*x,0),P&&B&&!F&&!R&&!N||V||B&&!F&&R&&!N)){var rt=-A.zoomSpeed*nt/window.innerHeight*(G-c.lastT())*100;c.pan(G,0,0,x*(Math.exp(rt)-1))}return A._lastX=m,A._lastY=M,A._lastMods=w,!0}}A.wheelListener=s(h,function(u,m){if(A.keyBindingMode!==!1&&A.enableWheel){var M=A.flipX?1:-1,w=A.flipY?1:-1,z=e();if(Math.abs(u)>Math.abs(m))c.rotate(z,0,0,-u*M*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var O=-A.zoomSpeed*w*m/window.innerHeight*(z-c.lastT())/20;c.pan(z,0,0,x*(Math.exp(O)-1))}}},!0)},A.enableMouseListeners(),A}},799:function(v,d,r){var e=r(3236),l=r(9405),n=e([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),s=e([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(o){return l(o,n,s,null,[{name:"position",type:"vec2"}])}},4100:function(v,d,r){var e=r(4437),l=r(3837),n=r(5445),s=r(4449),o=r(3589),f=r(2260),b=r(7169),h=r(351),_=r(4772),a=r(4040),c=r(799),p=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:C,createCamera:e};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function k(m,M){var w=null;try{w=m.getContext("webgl",M),w||(w=m.getContext("experimental-webgl",M))}catch{return null}return w}function y(m){var M=Math.round(Math.log(Math.abs(m))/Math.log(10));if(M<0){var w=Math.round(Math.pow(10,-M));return Math.ceil(m*w)/w}else if(M>0){var w=Math.round(Math.pow(10,M));return Math.ceil(m/w)*w}return Math.ceil(m)}function A(m){return typeof m=="boolean"?m:!0}function C(m){m=m||{},m.camera=m.camera||{};var M=m.canvas;if(!M)if(M=document.createElement("canvas"),m.container){var w=m.container;w.appendChild(M)}else document.body.appendChild(M);var z=m.gl;if(z||(m.glOptions&&(p=!!m.glOptions.preserveDrawingBuffer),z=k(M,m.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!z)throw new Error("webgl not supported");var O=m.bounds||[[-10,-10,-10],[10,10,10]],D=new x,P=f(z,z.drawingBufferWidth,z.drawingBufferHeight,{preferFloat:!p}),F=c(z),R=m.cameraObject&&m.cameraObject._ortho===!0||m.camera.projection&&m.camera.projection.type==="orthographic"||!1,N={eye:m.camera.eye||[2,0,0],center:m.camera.center||[0,0,0],up:m.camera.up||[0,1,0],zoomMin:m.camera.zoomMax||.1,zoomMax:m.camera.zoomMin||100,mode:m.camera.mode||"turntable",_ortho:R},B=m.axes||{},q=l(z,B);q.enable=!B.disable;var V=m.spikes||{},J=s(z,V),it=[],nt=[],Y=[],Z=[],$=!0,W=!0,G=new Array(16),rt=new Array(16),ot={view:null,projection:G,model:rt,_ortho:!1},W=!0,H=[z.drawingBufferWidth,z.drawingBufferHeight],at=m.cameraObject||e(M,N),Q={gl:z,contextLost:!1,pixelRatio:m.pixelRatio||1,canvas:M,selection:D,camera:at,axes:q,axesPixels:null,spikes:J,bounds:O,objects:it,shape:H,aspect:m.aspectRatio||[1,1,1],pickRadius:m.pickRadius||10,zNear:m.zNear||.01,zFar:m.zFar||1e3,fovy:m.fovy||Math.PI/4,clearColor:m.clearColor||[0,0,0,0],autoResize:A(m.autoResize),autoBounds:A(m.autoBounds),autoScale:!!m.autoScale,autoCenter:A(m.autoCenter),clipToBounds:A(m.clipToBounds),snapToData:!!m.snapToData,onselect:m.onselect||null,onrender:m.onrender||null,onclick:m.onclick||null,cameraParams:ot,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ot){this.aspect[0]=Ot.x,this.aspect[1]=Ot.y,this.aspect[2]=Ot.z,W=!0},setBounds:function(Ot,Pt){this.bounds[0][Ot]=Pt.min,this.bounds[1][Ot]=Pt.max},setClearColor:function(Ot){this.clearColor=Ot},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ct=[z.drawingBufferWidth/Q.pixelRatio|0,z.drawingBufferHeight/Q.pixelRatio|0];function ft(){if(!Q._stopped&&Q.autoResize){var Ot=M.parentNode,Pt=1,Et=1;Ot&&Ot!==document.body?(Pt=Ot.clientWidth,Et=Ot.clientHeight):(Pt=window.innerWidth,Et=window.innerHeight);var Nt=Math.ceil(Pt*Q.pixelRatio)|0,ne=Math.ceil(Et*Q.pixelRatio)|0;if(Nt!==M.width||ne!==M.height){M.width=Nt,M.height=ne;var Gt=M.style;Gt.position=Gt.position||"absolute",Gt.left="0px",Gt.top="0px",Gt.width=Pt+"px",Gt.height=Et+"px",$=!0}}}Q.autoResize&&ft(),window.addEventListener("resize",ft);function yt(){for(var Ot=it.length,Pt=Z.length,Et=0;Et<Pt;++Et)Y[Et]=0;t:for(var Et=0;Et<Ot;++Et){var Nt=it[Et],ne=Nt.pickSlots;if(!ne){nt[Et]=-1;continue}for(var Gt=0;Gt<Pt;++Gt)if(Y[Gt]+ne<255){nt[Et]=Gt,Nt.setPickBase(Y[Gt]+1),Y[Gt]+=ne;continue t}var pe=o(z,H);nt[Et]=Pt,Z.push(pe),Y.push(ne),Nt.setPickBase(1),Pt+=1}for(;Pt>0&&Y[Pt-1]===0;)Y.pop(),Z.pop().dispose()}Q.update=function(Ot){Q._stopped||($=!0,W=!0)},Q.add=function(Ot){Q._stopped||(Ot.axes=q,it.push(Ot),nt.push(-1),$=!0,W=!0,yt())},Q.remove=function(Ot){if(!Q._stopped){var Pt=it.indexOf(Ot);Pt<0||(it.splice(Pt,1),nt.pop(),$=!0,W=!0,yt())}},Q.dispose=function(){if(!Q._stopped&&(Q._stopped=!0,window.removeEventListener("resize",ft),M.removeEventListener("webglcontextlost",xt),Q.mouseListener.enabled=!1,!Q.contextLost)){q.dispose(),J.dispose();for(var Ot=0;Ot<it.length;++Ot)it[Ot].dispose();P.dispose();for(var Ot=0;Ot<Z.length;++Ot)Z[Ot].dispose();F.dispose(),z=null,q=null,J=null,it=[]}},Q._mouseRotating=!1,Q._prevButtons=0,Q.enableMouseListeners=function(){Q.mouseListener=h(M,function(Ot,Pt,Et){if(!Q._stopped){var Nt=Z.length,ne=it.length,Gt=D.object;D.distance=1/0,D.mouse[0]=Pt,D.mouse[1]=Et,D.object=null,D.screen=null,D.dataCoordinate=D.dataPosition=null;var pe=!1;if(Ot&&Q._prevButtons)Q._mouseRotating=!0;else{Q._mouseRotating&&(W=!0),Q._mouseRotating=!1;for(var Vt=0;Vt<Nt;++Vt){var ae=Z[Vt].query(Pt,ct[1]-Et-1,Q.pickRadius);if(ae){if(ae.distance>D.distance)continue;for(var oe=0;oe<ne;++oe){var ce=it[oe];if(nt[oe]===Vt){var le=ce.pick(ae);le&&(D.buttons=Ot,D.screen=ae.coord,D.distance=ae.distance,D.object=ce,D.index=le.distance,D.dataPosition=le.position,D.dataCoordinate=le.dataCoordinate,D.data=le,pe=!0)}}}}}Gt&&Gt!==D.object&&(Gt.highlight&&Gt.highlight(null),$=!0),D.object&&(D.object.highlight&&D.object.highlight(D.data),$=!0),pe=pe||D.object!==Gt,pe&&Q.onselect&&Q.onselect(D),Ot&1&&!(Q._prevButtons&1)&&Q.onclick&&Q.onclick(D),Q._prevButtons=Ot}})};function xt(){if(Q.contextLost)return!0;z.isContextLost()&&(Q.contextLost=!0,Q.mouseListener.enabled=!1,Q.selection.object=null,Q.oncontextloss&&Q.oncontextloss())}M.addEventListener("webglcontextlost",xt);function Lt(){if(!xt()){z.colorMask(!0,!0,!0,!0),z.depthMask(!0),z.disable(z.BLEND),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL);for(var Ot=it.length,Pt=Z.length,Et=0;Et<Pt;++Et){var Nt=Z[Et];Nt.shape=ct,Nt.begin();for(var ne=0;ne<Ot;++ne)if(nt[ne]===Et){var Gt=it[ne];Gt.drawPick&&(Gt.pixelRatio=1,Gt.drawPick(ot))}Nt.end()}}}var gt=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],mt=[gt[0].slice(),gt[1].slice()];function vt(){if(!xt()){ft();var Ot=Q.camera.tick();ot.view=Q.camera.matrix,$=$||Ot,W=W||Ot,q.pixelRatio=Q.pixelRatio,J.pixelRatio=Q.pixelRatio;var Pt=it.length,Et=gt[0],Nt=gt[1];Et[0]=Et[1]=Et[2]=1/0,Nt[0]=Nt[1]=Nt[2]=-1/0;for(var ne=0;ne<Pt;++ne){var Gt=it[ne];Gt.pixelRatio=Q.pixelRatio,Gt.axes=Q.axes,$=$||!!Gt.dirty,W=W||!!Gt.dirty;var pe=Gt.bounds;if(pe)for(var Vt=pe[0],ae=pe[1],oe=0;oe<3;++oe)Et[oe]=Math.min(Et[oe],Vt[oe]),Nt[oe]=Math.max(Nt[oe],ae[oe])}var ce=Q.bounds;if(Q.autoBounds)for(var oe=0;oe<3;++oe){if(Nt[oe]<Et[oe])Et[oe]=-1,Nt[oe]=1;else{Et[oe]===Nt[oe]&&(Et[oe]-=1,Nt[oe]+=1);var le=.05*(Nt[oe]-Et[oe]);Et[oe]=Et[oe]-le,Nt[oe]=Nt[oe]+le}ce[0][oe]=Et[oe],ce[1][oe]=Nt[oe]}for(var ye=!1,oe=0;oe<3;++oe)ye=ye||mt[0][oe]!==ce[0][oe]||mt[1][oe]!==ce[1][oe],mt[0][oe]=ce[0][oe],mt[1][oe]=ce[1][oe];if(W=W||ye,$=$||ye,!!$){if(ye){for(var Tt=[0,0,0],ne=0;ne<3;++ne)Tt[ne]=y((ce[1][ne]-ce[0][ne])/10);q.autoTicks?q.update({bounds:ce,tickSpacing:Tt}):q.update({bounds:ce})}var Ft=z.drawingBufferWidth,$t=z.drawingBufferHeight;H[0]=Ft,H[1]=$t,ct[0]=Math.max(Ft/Q.pixelRatio,1)|0,ct[1]=Math.max($t/Q.pixelRatio,1)|0,u(Q,R);for(var ne=0;ne<Pt;++ne){var Gt=it[ne];Gt.axesBounds=ce,Q.clipToBounds&&(Gt.clipBounds=ce)}D.object&&(Q.snapToData?J.position=D.dataCoordinate:J.position=D.dataPosition,J.bounds=ce),W&&(W=!1,Lt()),Q.axesPixels=n(Q.axes,ot,Ft,$t),Q.onrender&&Q.onrender(),z.bindFramebuffer(z.FRAMEBUFFER,null),z.viewport(0,0,Ft,$t),Q.clearRGBA(),z.depthMask(!0),z.colorMask(!0,!0,!0,!0),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL),z.disable(z.BLEND),z.disable(z.CULL_FACE);var Wt=!1;q.enable&&(Wt=Wt||q.isTransparent(),q.draw(ot)),J.axes=q,D.object&&J.draw(ot),z.disable(z.CULL_FACE);for(var ne=0;ne<Pt;++ne){var Gt=it[ne];Gt.axes=q,Gt.pixelRatio=Q.pixelRatio,Gt.isOpaque&&Gt.isOpaque()&&Gt.draw(ot),Gt.isTransparent&&Gt.isTransparent()&&(Wt=!0)}if(Wt){P.shape=H,P.bind(),z.clear(z.DEPTH_BUFFER_BIT),z.colorMask(!1,!1,!1,!1),z.depthMask(!0),z.depthFunc(z.LESS),q.enable&&q.isTransparent()&&q.drawTransparent(ot);for(var ne=0;ne<Pt;++ne){var Gt=it[ne];Gt.isOpaque&&Gt.isOpaque()&&Gt.draw(ot)}z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.colorMask(!0,!0,!0,!0),z.depthMask(!1),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),q.isTransparent()&&q.drawTransparent(ot);for(var ne=0;ne<Pt;++ne){var Gt=it[ne];Gt.isTransparent&&Gt.isTransparent()&&Gt.drawTransparent(ot)}z.bindFramebuffer(z.FRAMEBUFFER,null),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.disable(z.DEPTH_TEST),F.bind(),P.color[0].bind(0),F.uniforms.accumBuffer=0,b(z),z.disable(z.BLEND)}$=!1;for(var ne=0;ne<Pt;++ne)it[ne].dirty=!1}}}function At(){Q._stopped||Q.contextLost||(vt(),requestAnimationFrame(At))}return Q.enableMouseListeners(),At(),Q.redraw=function(){Q._stopped||($=!0,vt())},Q}function u(m,M){var w=m.bounds,z=m.cameraParams,O=z.projection,D=z.model,P=m.gl.drawingBufferWidth,F=m.gl.drawingBufferHeight,R=m.zNear,N=m.zFar,B=m.fovy,q=P/F;M?(a(O,-q,q,-1,1,R,N),z._ortho=!0):(_(O,B,q,R,N),z._ortho=!1);for(var V=0;V<16;++V)D[V]=0;D[15]=1;for(var J=0,V=0;V<3;++V)J=Math.max(J,w[1][V]-w[0][V]);for(var V=0;V<3;++V)m.autoScale?D[5*V]=m.aspect[V]/(w[1][V]-w[0][V]):D[5*V]=1/J,m.autoCenter&&(D[12+V]=-D[5*V]*.5*(w[0][V]+w[1][V]))}},6640:function(v,d,r){var e=r(3236);d.pointVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),d.pointFragment=e([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),d.pickVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),d.pickFragment=e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,d,r){var e=r(9405),l=r(2762),n=r(1888),s=r(6640);v.exports=h;function o(_,a,c,p,x){this.plot=_,this.offsetBuffer=a,this.pickBuffer=c,this.shader=p,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var f=o.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(_){var a;_=_||{};function c(u,m){return u in _?_[u]:m}this.sizeMin=c("sizeMin",.5),this.sizeMax=c("sizeMax",20),this.color=c("color",[1,0,0,1]).slice(),this.areaRatio=c("areaRatio",1),this.borderColor=c("borderColor",[0,0,0,1]).slice(),this.blend=c("blend",!1);var p=_.positions.length>>>1,x=_.positions instanceof Float32Array,k=_.idToIndex instanceof Int32Array&&_.idToIndex.length>=p,y=_.positions,A=x?y:n.mallocFloat32(y.length),C=k?_.idToIndex:n.mallocInt32(p);if(x||A.set(y),!k)for(A.set(y),a=0;a<p;a++)C[a]=a;this.points=y,this.offsetBuffer.update(A),this.pickBuffer.update(C),x||n.free(A),k||n.free(C),this.pointCount=p,this.pickOffset=0};function b(_,a){var c=0,p=_.length>>>1,x;for(x=0;x<p;x++){var k=_[x*2],y=_[x*2+1];k>=a[0]&&k<=a[2]&&y>=a[1]&&y<=a[3]&&c++}return c}f.unifiedDraw=function(){var _=[1,0,0,0,1,0,0,0,1],a=[0,0,0,0];return function(c){var p=c!==void 0,x=p?this.pickShader:this.shader,k=this.plot.gl,y=this.plot.dataBox;if(this.pointCount===0)return c;var A=y[2]-y[0],C=y[3]-y[1],u=b(this.points,y),m=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(u,.33333)));_[0]=2/A,_[4]=2/C,_[6]=-2*y[0]/A-1,_[7]=-2*y[1]/C-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=_,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=m<5,x.uniforms.pointSize=m,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(a[0]=c&255,a[1]=c>>8&255,a[2]=c>>16&255,a[3]=c>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(k.UNSIGNED_BYTE),x.uniforms.pickOffset=a,this.pickOffset=c);var M=k.getParameter(k.BLEND),w=k.getParameter(k.DITHER);return M&&!this.blend&&k.disable(k.BLEND),w&&k.disable(k.DITHER),k.drawArrays(k.POINTS,0,this.pointCount),M&&!this.blend&&k.enable(k.BLEND),w&&k.enable(k.DITHER),c+this.pointCount}}(),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(_,a,c){var p=this.pickOffset,x=this.pointCount;if(c<p||c>=p+x)return null;var k=c-p,y=this.points;return{object:this,pointId:k,dataCoord:[y[2*k],y[2*k+1]]}};function h(_,a){var c=_.gl,p=l(c),x=l(c),k=e(c,s.pointVertex,s.pointFragment),y=e(c,s.pickVertex,s.pickFragment),A=new o(_,p,x,k,y);return A.update(a),_.addObject(A),A}},783:function(v){v.exports=d;function d(r,e,l,n){var s=e[0],o=e[1],f=e[2],b=e[3],h=l[0],_=l[1],a=l[2],c=l[3],p,x,k,y,A;return x=s*h+o*_+f*a+b*c,x<0&&(x=-x,h=-h,_=-_,a=-a,c=-c),1-x>1e-6?(p=Math.acos(x),k=Math.sin(p),y=Math.sin((1-n)*p)/k,A=Math.sin(n*p)/k):(y=1-n,A=n),r[0]=y*s+A*h,r[1]=y*o+A*_,r[2]=y*f+A*a,r[3]=y*b+A*c,r}},5964:function(v){v.exports=function(d){return!d&&d!==0?"":d.toString()}},9366:function(v,d,r){var e=r(4359);v.exports=n;var l={};function n(s,o,f){var b=[o.style,o.weight,o.variant,o.family].join("_"),h=l[b];if(h||(h=l[b]={}),s in h)return h[s];var _={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o.family,fontStyle:o.style,fontWeight:o.weight,fontVariant:o.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};_.triangles=!0;var a=e(s,_);_.triangles=!1;var c=e(s,_),p,x;if(f&&f!==1){for(p=0;p<a.positions.length;++p)for(x=0;x<a.positions[p].length;++x)a.positions[p][x]/=f;for(p=0;p<c.positions.length;++p)for(x=0;x<c.positions[p].length;++x)c.positions[p][x]/=f}var k=[[1/0,1/0],[-1/0,-1/0]],y=c.positions.length;for(p=0;p<y;++p){var A=c.positions[p];for(x=0;x<2;++x)k[0][x]=Math.min(k[0][x],A[x]),k[1][x]=Math.max(k[1][x],A[x])}return h[s]=[a,c,k]}},1283:function(v,d,r){var e=r(9405),l=r(3236),n=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),b=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],_={vertex:n,fragment:f,attributes:h},a={vertex:s,fragment:f,attributes:h},c={vertex:o,fragment:f,attributes:h},p={vertex:n,fragment:b,attributes:h},x={vertex:s,fragment:b,attributes:h},k={vertex:o,fragment:b,attributes:h};function y(A,C){var u=e(A,C),m=u.attributes;return m.position.location=0,m.color.location=1,m.glyph.location=2,m.id.location=3,u}d.createPerspective=function(A){return y(A,_)},d.createOrtho=function(A){return y(A,a)},d.createProject=function(A){return y(A,c)},d.createPickPerspective=function(A){return y(A,p)},d.createPickOrtho=function(A){return y(A,x)},d.createPickProject=function(A){return y(A,k)}},8418:function(v,d,r){var e=r(5219),l=r(2762),n=r(8116),s=r(1888),o=r(6760),f=r(1283),b=r(9366),h=r(5964),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=nt;function a(Y,Z){var $=Y[0],G=Y[1],rt=Y[2],ot=Y[3];return Y[0]=Z[0]*$+Z[4]*G+Z[8]*rt+Z[12]*ot,Y[1]=Z[1]*$+Z[5]*G+Z[9]*rt+Z[13]*ot,Y[2]=Z[2]*$+Z[6]*G+Z[10]*rt+Z[14]*ot,Y[3]=Z[3]*$+Z[7]*G+Z[11]*rt+Z[15]*ot,Y}function c(Y,Z,$,G){return a(G,G),a(G,G),a(G,G)}function p(Y,Z){this.index=Y,this.dataCoordinate=this.position=Z}function x(Y){return Y===!0||Y>1?1:Y}function k(Y,Z,$,G,rt,ot,W,H,at,Q,ct,ft){this.gl=Y,this.pixelRatio=1,this.shader=Z,this.orthoShader=$,this.projectShader=G,this.pointBuffer=rt,this.colorBuffer=ot,this.glyphBuffer=W,this.idBuffer=H,this.vao=at,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=Q,this.pickOrthoShader=ct,this.pickProjectShader=ft,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var y=k.prototype;y.pickSlots=1,y.setPickBase=function(Y){this.pickId=Y},y.isTransparent=function(){if(this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&this.projectHasAlpha)return!0;return!1},y.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&!this.projectHasAlpha)return!0;return!1};var A=[0,0],C=[0,0,0],u=[0,0,0],m=[0,0,0,1],M=[0,0,0,1],w=_.slice(),z=[0,0,0],O=[[0,0,0],[0,0,0]];function D(Y){return Y[0]=Y[1]=Y[2]=0,Y}function P(Y,Z){return Y[0]=Z[0],Y[1]=Z[1],Y[2]=Z[2],Y[3]=1,Y}function F(Y,Z,$,G){return Y[0]=Z[0],Y[1]=Z[1],Y[2]=Z[2],Y[$]=G,Y}function R(Y){for(var Z=O,$=0;$<2;++$)for(var G=0;G<3;++G)Z[$][G]=Math.max(Math.min(Y[$][G],1e8),-1e8);return Z}function N(Y,Z,$,G){var rt=Z.axesProject,ot=Z.gl,W=Y.uniforms,H=$.model||_,at=$.view||_,Q=$.projection||_,ct=Z.axesBounds,ft=R(Z.clipBounds),yt;Z.axes&&Z.axes.lastCubeProps?yt=Z.axes.lastCubeProps.axis:yt=[1,1,1],A[0]=2/ot.drawingBufferWidth,A[1]=2/ot.drawingBufferHeight,Y.bind(),W.view=at,W.projection=Q,W.screenSize=A,W.highlightId=Z.highlightId,W.highlightScale=Z.highlightScale,W.clipBounds=ft,W.pickGroup=Z.pickId/255,W.pixelRatio=G;for(var xt=0;xt<3;++xt)if(rt[xt]){W.scale=Z.projectScale[xt],W.opacity=Z.projectOpacity[xt];for(var Lt=w,gt=0;gt<16;++gt)Lt[gt]=0;for(var gt=0;gt<4;++gt)Lt[5*gt]=1;Lt[5*xt]=0,yt[xt]<0?Lt[12+xt]=ct[0][xt]:Lt[12+xt]=ct[1][xt],o(Lt,H,Lt),W.model=Lt;var mt=(xt+1)%3,vt=(xt+2)%3,At=D(C),Ot=D(u);At[mt]=1,Ot[vt]=1;var Pt=c(Q,at,H,P(m,At)),Et=c(Q,at,H,P(M,Ot));if(Math.abs(Pt[1])>Math.abs(Et[1])){var Nt=Pt;Pt=Et,Et=Nt,Nt=At,At=Ot,Ot=Nt;var ne=mt;mt=vt,vt=ne}Pt[0]<0&&(At[mt]=-1),Et[1]>0&&(Ot[vt]=-1);for(var Gt=0,pe=0,gt=0;gt<4;++gt)Gt+=Math.pow(H[4*mt+gt],2),pe+=Math.pow(H[4*vt+gt],2);At[mt]/=Math.sqrt(Gt),Ot[vt]/=Math.sqrt(pe),W.axes[0]=At,W.axes[1]=Ot,W.fragClipBounds[0]=F(z,ft[0],xt,-1e8),W.fragClipBounds[1]=F(z,ft[1],xt,1e8),Z.vao.bind(),Z.vao.draw(ot.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(ot.lineWidth(Z.lineWidth*G),Z.vao.draw(ot.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var B=[-1e8,-1e8,-1e8],q=[1e8,1e8,1e8],V=[B,q];function J(Y,Z,$,G,rt,ot,W){var H=$.gl;if((ot===$.projectHasAlpha||W)&&N(Z,$,G,rt),ot===$.hasAlpha||W){Y.bind();var at=Y.uniforms;at.model=G.model||_,at.view=G.view||_,at.projection=G.projection||_,A[0]=2/H.drawingBufferWidth,A[1]=2/H.drawingBufferHeight,at.screenSize=A,at.highlightId=$.highlightId,at.highlightScale=$.highlightScale,at.fragClipBounds=V,at.clipBounds=$.axes.bounds,at.opacity=$.opacity,at.pickGroup=$.pickId/255,at.pixelRatio=rt,$.vao.bind(),$.vao.draw(H.TRIANGLES,$.vertexCount),$.lineWidth>0&&(H.lineWidth($.lineWidth*rt),$.vao.draw(H.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}y.draw=function(Y){var Z=this.useOrtho?this.orthoShader:this.shader;J(Z,this.projectShader,this,Y,this.pixelRatio,!1,!1)},y.drawTransparent=function(Y){var Z=this.useOrtho?this.orthoShader:this.shader;J(Z,this.projectShader,this,Y,this.pixelRatio,!0,!1)},y.drawPick=function(Y){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;J(Z,this.pickProjectShader,this,Y,1,!0,!0)},y.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;var Z=Y.value[2]+(Y.value[1]<<8)+(Y.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var $=this.points[Z],G=this._selectResult;G.index=Z;for(var rt=0;rt<3;++rt)G.position[rt]=G.dataCoordinate[rt]=$[rt];return G},y.highlight=function(Y){if(!Y)this.highlightId=[1,1,1,1];else{var Z=Y.index,$=Z&255,G=Z>>8&255,rt=Z>>16&255;this.highlightId=[$/255,G/255,rt/255,0]}};function it(Y,Z,$,G){var rt;Array.isArray(Y)?Z<Y.length?rt=Y[Z]:rt=void 0:rt=Y,rt=h(rt);var ot=!0;e(rt)&&(rt="\u25BC",ot=!1),$||($={});var W=$.family;Array.isArray(W)&&(W=W[Z]),W||(W="normal");var H=$.weight;Array.isArray(H)&&(H=H[Z]),H||(H="normal");var at=$.style;Array.isArray(at)&&(at=at[Z]),at||(at="normal");var Q=$.variant;Array.isArray(Q)&&(Q=Q[Z]),Q||(Q="normal");var ct=b(rt,{family:W,weight:H,style:at,variant:Q},G),ct=b(rt,$,G);return{mesh:ct[0],lines:ct[1],bounds:ct[2],visible:ot}}y.update=function(Y){if(Y=Y||{},"perspective"in Y&&(this.useOrtho=!Y.perspective),"orthographic"in Y&&(this.useOrtho=!!Y.orthographic),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"project"in Y)if(Array.isArray(Y.project))this.axesProject=Y.project;else{var Z=!!Y.project;this.axesProject=[Z,Z,Z]}if("projectScale"in Y)if(Array.isArray(Y.projectScale))this.projectScale=Y.projectScale.slice();else{var $=+Y.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in Y){if(Array.isArray(Y.projectOpacity))this.projectOpacity=Y.projectOpacity.slice();else{var $=+Y.projectOpacity;this.projectOpacity=[$,$,$]}for(var G=0;G<3;++G)this.projectOpacity[G]=x(this.projectOpacity[G]),this.projectOpacity[G]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Y&&(this.opacity=x(Y.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var rt=Y.position,ot={family:Y.font||"normal",style:Y.fontStyle||"normal",weight:Y.fontWeight||"normal",variant:Y.fontVariant||"normal"},W=Y.alignment||[0,0],H,at;if(W.length===2)H=W[0],at=W[1];else{H=[],at=[];for(var G=0;G<W.length;++G)H[G]=W[G][0],at[G]=W[G][1]}var Q=[1/0,1/0,1/0],ct=[-1/0,-1/0,-1/0],ft=Y.glyph,yt=Y.color,xt=Y.size,Lt=Y.angle,gt=Y.lineColor,mt=-1,vt=0,At=0,Ot=0;if(rt.length){Ot=rt.length;t:for(var G=0;G<Ot;++G){for(var Pt=rt[G],Et=0;Et<3;++Et)if(isNaN(Pt[Et])||!isFinite(Pt[Et]))continue t;var Nt=it(ft,G,ot,this.pixelRatio),ne=Nt.mesh,Gt=Nt.lines,pe=Nt.bounds;vt+=ne.cells.length*3,At+=Gt.edges.length*2}}var Vt=vt+At,ae=s.mallocFloat(3*Vt),oe=s.mallocFloat(4*Vt),ce=s.mallocFloat(2*Vt),le=s.mallocUint32(Vt);if(Vt>0){var ye=0,Tt=vt,Ft=[0,0,0,1],$t=[0,0,0,1],Wt=Array.isArray(yt)&&Array.isArray(yt[0]),Bt=Array.isArray(gt)&&Array.isArray(gt[0]);t:for(var G=0;G<Ot;++G){mt+=1;for(var Pt=rt[G],Et=0;Et<3;++Et){if(isNaN(Pt[Et])||!isFinite(Pt[Et]))continue t;ct[Et]=Math.max(ct[Et],Pt[Et]),Q[Et]=Math.min(Q[Et],Pt[Et])}var Nt=it(ft,G,ot,this.pixelRatio),ne=Nt.mesh,Gt=Nt.lines,pe=Nt.bounds,Mt=Nt.visible;if(!Mt)Ft=[1,1,1,0];else if(Array.isArray(yt)){var St;if(Wt?G<yt.length?St=yt[G]:St=[0,0,0,0]:St=yt,St.length===3){for(var Et=0;Et<3;++Et)Ft[Et]=St[Et];Ft[3]=1}else if(St.length===4){for(var Et=0;Et<4;++Et)Ft[Et]=St[Et];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else Ft[0]=Ft[1]=Ft[2]=0,Ft[3]=1;if(!Mt)$t=[1,1,1,0];else if(Array.isArray(gt)){var St;if(Bt?G<gt.length?St=gt[G]:St=[0,0,0,0]:St=gt,St.length===3){for(var Et=0;Et<3;++Et)$t[Et]=St[Et];$t[Et]=1}else if(St.length===4){for(var Et=0;Et<4;++Et)$t[Et]=St[Et];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else $t[0]=$t[1]=$t[2]=0,$t[3]=1;var Dt=.5;Mt?Array.isArray(xt)?G<xt.length?Dt=+xt[G]:Dt=12:xt?Dt=+xt:this.useOrtho&&(Dt=12):Dt=0;var dt=0;Array.isArray(Lt)?G<Lt.length?dt=+Lt[G]:dt=0:Lt&&(dt=+Lt);for(var ht=Math.cos(dt),bt=Math.sin(dt),Pt=rt[G],Et=0;Et<3;++Et)ct[Et]=Math.max(ct[Et],Pt[Et]),Q[Et]=Math.min(Q[Et],Pt[Et]);var zt=H,qt=at,zt=0;Array.isArray(H)?G<H.length?zt=H[G]:zt=0:H&&(zt=H);var qt=0;Array.isArray(at)?G<at.length?qt=at[G]:qt=0:at&&(qt=at),zt*=zt>0?1-pe[0][0]:zt<0?1+pe[1][0]:1,qt*=qt>0?1-pe[0][1]:qt<0?1+pe[1][1]:1;for(var te=[zt,qt],re=ne.cells||[],Ye=ne.positions||[],Et=0;Et<re.length;++Et)for(var Be=re[Et],ge=0;ge<3;++ge){for(var be=0;be<3;++be)ae[3*ye+be]=Pt[be];for(var be=0;be<4;++be)oe[4*ye+be]=Ft[be];le[ye]=mt;var Ne=Ye[Be[ge]];ce[2*ye]=Dt*(ht*Ne[0]-bt*Ne[1]+te[0]),ce[2*ye+1]=Dt*(bt*Ne[0]+ht*Ne[1]+te[1]),ye+=1}for(var re=Gt.edges,Ye=Gt.positions,Et=0;Et<re.length;++Et)for(var Be=re[Et],ge=0;ge<2;++ge){for(var be=0;be<3;++be)ae[3*Tt+be]=Pt[be];for(var be=0;be<4;++be)oe[4*Tt+be]=$t[be];le[Tt]=mt;var Ne=Ye[Be[ge]];ce[2*Tt]=Dt*(ht*Ne[0]-bt*Ne[1]+te[0]),ce[2*Tt+1]=Dt*(bt*Ne[0]+ht*Ne[1]+te[1]),Tt+=1}}}this.bounds=[Q,ct],this.points=rt,this.pointCount=rt.length,this.vertexCount=vt,this.lineVertexCount=At,this.pointBuffer.update(ae),this.colorBuffer.update(oe),this.glyphBuffer.update(ce),this.idBuffer.update(le),s.free(ae),s.free(oe),s.free(ce),s.free(le)},y.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function nt(Y){var Z=Y.gl,$=f.createPerspective(Z),G=f.createOrtho(Z),rt=f.createProject(Z),ot=f.createPickPerspective(Z),W=f.createPickOrtho(Z),H=f.createPickProject(Z),at=l(Z),Q=l(Z),ct=l(Z),ft=l(Z),yt=n(Z,[{buffer:at,size:3,type:Z.FLOAT},{buffer:Q,size:4,type:Z.FLOAT},{buffer:ct,size:2,type:Z.FLOAT},{buffer:ft,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),xt=new k(Z,$,G,rt,at,Q,ct,ft,yt,ot,W,H);return xt.update(Y),xt}},4298:function(v,d,r){var e=r(3236);d.boxVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),d.boxFragment=e([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,d,r){var e=r(9405),l=r(2762),n=r(4298);v.exports=f;function s(b,h,_){this.plot=b,this.boxBuffer=h,this.boxShader=_,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var o=s.prototype;o.draw=function(){if(this.enabled){var b=this.plot,h=this.selectBox,_=this.borderWidth;this.innerFill;var a=this.innerColor;this.outerFill;var c=this.outerColor,p=this.borderColor,x=b.box,k=b.screenBox,y=b.dataBox,A=b.viewBox,C=b.pixelRatio,u=(h[0]-y[0])*(A[2]-A[0])/(y[2]-y[0])+A[0],m=(h[1]-y[1])*(A[3]-A[1])/(y[3]-y[1])+A[1],M=(h[2]-y[0])*(A[2]-A[0])/(y[2]-y[0])+A[0],w=(h[3]-y[1])*(A[3]-A[1])/(y[3]-y[1])+A[1];if(u=Math.max(u,A[0]),m=Math.max(m,A[1]),M=Math.min(M,A[2]),w=Math.min(w,A[3]),!(M<u||w<m)){x.bind();var z=k[2]-k[0],O=k[3]-k[1];if(this.outerFill&&(x.drawBox(0,0,z,m,c),x.drawBox(0,m,u,w,c),x.drawBox(0,w,z,O,c),x.drawBox(M,m,z,w,c)),this.innerFill&&x.drawBox(u,m,M,w,a),_>0){var D=_*C;x.drawBox(u-D,m-D,M+D,m+D,p),x.drawBox(u-D,w-D,M+D,w+D,p),x.drawBox(u-D,m-D,u+D,w+D,p),x.drawBox(M-D,m-D,M+D,w+D,p)}}}},o.update=function(b){b=b||{},this.innerFill=!!b.innerFill,this.outerFill=!!b.outerFill,this.innerColor=(b.innerColor||[0,0,0,.5]).slice(),this.outerColor=(b.outerColor||[0,0,0,.5]).slice(),this.borderColor=(b.borderColor||[0,0,0,1]).slice(),this.borderWidth=b.borderWidth||0,this.selectBox=(b.selectBox||this.selectBox).slice()},o.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function f(b,h){var _=b.gl,a=l(_,[0,0,0,1,1,0,1,1]),c=e(_,n.boxVertex,n.boxFragment),p=new s(b,a,c);return p.update(h),b.addOverlay(p),p}},3589:function(v,d,r){v.exports=_;var e=r(2260),l=r(1888),n=r(9618),s=r(8828).nextPow2,o=function(a,c,p){for(var x=1e8,k=-1,y=-1,A=a.shape[0],C=a.shape[1],u=0;u<A;u++)for(var m=0;m<C;m++){var M=a.get(u,m,0),w=a.get(u,m,1),z=a.get(u,m,2),O=a.get(u,m,3);if(M<255||w<255||z<255||O<255){var D=c-u,P=p-m,F=D*D+P*P;F<x&&(x=F,k=u,y=m)}}return[k,y,x]};function f(a,c,p,x,k){this.coord=[a,c],this.id=p,this.value=x,this.distance=k}function b(a,c,p){this.gl=a,this.fbo=c,this.buffer=p,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(c.bind(),a.readPixels(0,0,c.shape[0],c.shape[1],a.RGBA,a.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=b.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(a){if(this.gl){this.fbo.shape=a;var c=this.fbo.shape[0],p=this.fbo.shape[1];if(p*c*4>this.buffer.length){l.free(this.buffer);for(var x=this.buffer=l.mallocUint8(s(p*c*4)),k=0;k<p*c*4;++k)x[k]=255}return a}}}),h.begin=function(){var a=this.gl;this.shape,a&&(this.fbo.bind(),a.clearColor(1,1,1,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT))},h.end=function(){var a=this.gl;a&&(a.bindFramebuffer(a.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(a,c,p){if(!this.gl)return null;var x=this.fbo.shape.slice();a=a|0,c=c|0,typeof p!="number"&&(p=1);var k=Math.min(Math.max(a-p,0),x[0])|0,y=Math.min(Math.max(a+p,0),x[0])|0,A=Math.min(Math.max(c-p,0),x[1])|0,C=Math.min(Math.max(c+p,0),x[1])|0;if(y<=k||C<=A)return null;var u=[y-k,C-A],m=n(this.buffer,[u[0],u[1],4],[4,x[0]*4,1],4*(k+x[0]*A)),M=o(m.hi(u[0],u[1],1),p,p),w=M[0],z=M[1];if(w<0||Math.pow(this.radius,2)<M[2])return null;var O=m.get(w,z,0),D=m.get(w,z,1),P=m.get(w,z,2),F=m.get(w,z,3);return new f(w+k|0,z+A|0,O,[D,P,F],Math.sqrt(M[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),l.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function _(a,c){var p=c[0],x=c[1],k={},y=e(a,p,x,k),A=l.mallocUint8(p*x*4);return new b(a,y,A)}},9405:function(v,d,r){var e=r(3327),l=r(8731),n=r(216),s=r(5091),o=r(2145),f=r(8866);function b(c){this.gl=c,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=b.prototype;h.bind=function(){this.program||this._relink();var c,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(p>x)for(c=x;c<p;c++)this.gl.enableVertexAttribArray(c);else if(x>p)for(c=p;c<x;c++)this.gl.disableVertexAttribArray(c);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},h.dispose=function(){for(var c=this.gl.lastAttribCount,p=0;p<c;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function _(c,p){return c.name<p.name?-1:1}h.update=function(c,p,x,k){if(!p||arguments.length===1){var y=c;c=y.vertex,p=y.fragment,x=y.uniforms,k=y.attributes}var A=this,C=A.gl,u=A._vref;A._vref=s.shader(C,C.VERTEX_SHADER,c),u&&u.dispose(),A.vertShader=A._vref.shader;var m=this._fref;if(A._fref=s.shader(C,C.FRAGMENT_SHADER,p),m&&m.dispose(),A.fragShader=A._fref.shader,!x||!k){var M=C.createProgram();if(C.attachShader(M,A.fragShader),C.attachShader(M,A.vertShader),C.linkProgram(M),!C.getProgramParameter(M,C.LINK_STATUS)){var w=C.getProgramInfoLog(M);throw new f(w,"Error linking program:"+w)}x=x||o.uniforms(C,M),k=k||o.attributes(C,M),C.deleteProgram(M)}k=k.slice(),k.sort(_);var z=[],O=[],D=[],P;for(P=0;P<k.length;++P){var F=k[P];if(F.type.indexOf("mat")>=0){for(var R=F.type.charAt(F.type.length-1)|0,N=new Array(R),B=0;B<R;++B)N[B]=D.length,O.push(F.name+"["+B+"]"),typeof F.location=="number"?D.push(F.location+B):Array.isArray(F.location)&&F.location.length===R&&typeof F.location[B]=="number"?D.push(F.location[B]|0):D.push(-1);z.push({name:F.name,type:F.type,locations:N})}else z.push({name:F.name,type:F.type,locations:[D.length]}),O.push(F.name),typeof F.location=="number"?D.push(F.location|0):D.push(-1)}var q=0;for(P=0;P<D.length;++P)if(D[P]<0){for(;D.indexOf(q)>=0;)q+=1;D[P]=q}var V=new Array(x.length);function J(){A.program=s.program(C,A._vref,A._fref,O,D);for(var it=0;it<x.length;++it)V[it]=C.getUniformLocation(A.program,x[it].name)}J(),A._relink=J,A.types={uniforms:n(x),attributes:n(k)},A.attributes=l(C,A,z,D),Object.defineProperty(A,"uniforms",e(C,A,x,V))};function a(c,p,x,k,y){var A=new b(c);return A.update(p,x,k,y),A}v.exports=a},8866:function(v){function d(r,e,l){this.shortMessage=e||"",this.longMessage=l||"",this.rawError=r||"",this.message="gl-shader: "+(e||r||"")+(l?`
`+l:""),this.stack=new Error().stack}d.prototype=new Error,d.prototype.name="GLError",d.prototype.constructor=d,v.exports=d},8731:function(v,d,r){v.exports=b;var e=r(8866);function l(h,_,a,c,p,x){this._gl=h,this._wrapper=_,this._index=a,this._locations=c,this._dimension=p,this._constFunc=x}var n=l.prototype;n.pointer=function(h,_,a,c){var p=this,x=p._gl,k=p._locations[p._index];x.vertexAttribPointer(k,p._dimension,h||x.FLOAT,!!_,a||0,c||0),x.enableVertexAttribArray(k)},n.set=function(h,_,a,c){return this._constFunc(this._locations[this._index],h,_,a,c)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var s=[function(h,_,a){return a.length===void 0?h.vertexAttrib1f(_,a):h.vertexAttrib1fv(_,a)},function(h,_,a,c){return a.length===void 0?h.vertexAttrib2f(_,a,c):h.vertexAttrib2fv(_,a)},function(h,_,a,c,p){return a.length===void 0?h.vertexAttrib3f(_,a,c,p):h.vertexAttrib3fv(_,a)},function(h,_,a,c,p,x){return a.length===void 0?h.vertexAttrib4f(_,a,c,p,x):h.vertexAttrib4fv(_,a)}];function o(h,_,a,c,p,x,k){var y=s[p],A=new l(h,_,a,c,p,y);Object.defineProperty(x,k,{set:function(C){return h.disableVertexAttribArray(c[a]),y(h,c[a],C),C},get:function(){return A},enumerable:!0})}function f(h,_,a,c,p,x,k){for(var y=new Array(p),A=new Array(p),C=0;C<p;++C)o(h,_,a[C],c,p,y,C),A[C]=y[C];Object.defineProperty(y,"location",{set:function(M){if(Array.isArray(M))for(var w=0;w<p;++w)A[w].location=M[w];else for(var w=0;w<p;++w)A[w].location=M+w;return M},get:function(){for(var M=new Array(p),w=0;w<p;++w)M[w]=c[a[w]];return M},enumerable:!0}),y.pointer=function(M,w,z,O){M=M||h.FLOAT,w=!!w,z=z||p*p,O=O||0;for(var D=0;D<p;++D){var P=c[a[D]];h.vertexAttribPointer(P,p,M,w,z,O+D*p),h.enableVertexAttribArray(P)}};var u=new Array(p),m=h["vertexAttrib"+p+"fv"];Object.defineProperty(x,k,{set:function(M){for(var w=0;w<p;++w){var z=c[a[w]];if(h.disableVertexAttribArray(z),Array.isArray(M[0]))m.call(h,z,M[w]);else{for(var O=0;O<p;++O)u[O]=M[p*w+O];m.call(h,z,u)}}return M},get:function(){return y},enumerable:!0})}function b(h,_,a,c){for(var p={},x=0,k=a.length;x<k;++x){var y=a[x],A=y.name,C=y.type,u=y.locations;switch(C){case"bool":case"int":case"float":o(h,_,u[0],c,1,p,A);break;default:if(C.indexOf("vec")>=0){var m=C.charCodeAt(C.length-1)-48;if(m<2||m>4)throw new e("","Invalid data type for attribute "+A+": "+C);o(h,_,u[0],c,m,p,A)}else if(C.indexOf("mat")>=0){var m=C.charCodeAt(C.length-1)-48;if(m<2||m>4)throw new e("","Invalid data type for attribute "+A+": "+C);f(h,_,u,c,m,p,A)}else throw new e("","Unknown data type for attribute "+A+": "+C);break}}return p}},3327:function(v,d,r){var e=r(216),l=r(8866);v.exports=o;function n(f){return function(){return f}}function s(f,b){for(var h=new Array(f),_=0;_<f;++_)h[_]=b;return h}function o(f,b,h,_){function a(C){return function(u,m,M){return u.getUniform(m.program,M[C])}}function c(C){return function(u){for(var m=p("",C),M=0;M<m.length;++M){var w=m[M],z=w[0],O=w[1];if(_[O]){var D=u;if(typeof z=="string"&&(z.indexOf(".")===0||z.indexOf("[")===0)){var P=z;if(z.indexOf(".")===0&&(P=z.slice(1)),P.indexOf("]")===P.length-1){var F=P.indexOf("["),R=P.slice(0,F),N=P.slice(F+1,P.length-1);D=R?u[R][N]:u[N]}else D=u[P]}var B=h[O].type,q;switch(B){case"bool":case"int":case"sampler2D":case"samplerCube":f.uniform1i(_[O],D);break;case"float":f.uniform1f(_[O],D);break;default:var V=B.indexOf("vec");if(0<=V&&V<=1&&B.length===4+V){if(q=B.charCodeAt(B.length-1)-48,q<2||q>4)throw new l("","Invalid data type");switch(B.charAt(0)){case"b":case"i":f["uniform"+q+"iv"](_[O],D);break;case"v":f["uniform"+q+"fv"](_[O],D);break;default:throw new l("","Unrecognized data type for vector "+name+": "+B)}}else if(B.indexOf("mat")===0&&B.length===4){if(q=B.charCodeAt(B.length-1)-48,q<2||q>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+B);f["uniformMatrix"+q+"fv"](_[O],!1,D);break}else throw new l("","Unknown uniform data type for "+name+": "+B)}}}}}function p(C,u){if(typeof u!="object")return[[C,u]];var m=[];for(var M in u){var w=u[M],z=C;parseInt(M)+""===M?z+="["+M+"]":z+="."+M,typeof w=="object"?m.push.apply(m,p(z,w)):m.push([z,w])}return m}function x(C){switch(C){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var u=C.indexOf("vec");if(0<=u&&u<=1&&C.length===4+u){var m=C.charCodeAt(C.length-1)-48;if(m<2||m>4)throw new l("","Invalid data type");return C.charAt(0)==="b"?s(m,!1):s(m,0)}else if(C.indexOf("mat")===0&&C.length===4){var m=C.charCodeAt(C.length-1)-48;if(m<2||m>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+C);return s(m*m,0)}else throw new l("","Unknown uniform data type for "+name+": "+C)}}function k(C,u,m){if(typeof m=="object"){var M=y(m);Object.defineProperty(C,u,{get:n(M),set:c(m),enumerable:!0,configurable:!1})}else _[m]?Object.defineProperty(C,u,{get:a(m),set:c(m),enumerable:!0,configurable:!1}):C[u]=x(h[m].type)}function y(C){var u;if(Array.isArray(C)){u=new Array(C.length);for(var m=0;m<C.length;++m)k(u,m,C[m])}else{u={};for(var M in C)k(u,M,C[M])}return u}var A=e(h,!0);return{get:n(y(A)),set:c(A),enumerable:!0,configurable:!0}}},216:function(v){v.exports=d;function d(r,e){for(var l={},n=0;n<r.length;++n)for(var s=r[n].name,o=s.split("."),f=l,b=0;b<o.length;++b){var h=o[b].split("[");if(h.length>1){h[0]in f||(f[h[0]]=[]),f=f[h[0]];for(var _=1;_<h.length;++_){var a=parseInt(h[_]);_<h.length-1||b<o.length-1?(a in f||(_<h.length-1?f[a]=[]:f[a]={}),f=f[a]):e?f[a]=n:f[a]=r[n].type}}else b<o.length-1?(h[0]in f||(f[h[0]]={}),f=f[h[0]]):e?f[h[0]]=n:f[h[0]]=r[n].type}return l}},2145:function(v,d){d.uniforms=n,d.attributes=s;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},e=null;function l(o,f){if(!e){var b=Object.keys(r);e={};for(var h=0;h<b.length;++h){var _=b[h];e[o[_]]=r[_]}}return e[f]}function n(o,f){for(var b=o.getProgramParameter(f,o.ACTIVE_UNIFORMS),h=[],_=0;_<b;++_){var a=o.getActiveUniform(f,_);if(a){var c=l(o,a.type);if(a.size>1)for(var p=0;p<a.size;++p)h.push({name:a.name.replace("[0]","["+p+"]"),type:c});else h.push({name:a.name,type:c})}}return h}function s(o,f){for(var b=o.getProgramParameter(f,o.ACTIVE_ATTRIBUTES),h=[],_=0;_<b;++_){var a=o.getActiveAttrib(f,_);a&&h.push({name:a.name,type:l(o,a.type)})}return h}},5091:function(v,d,r){d.shader=p,d.program=x;var e=r(8866),l=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,s=new n,o=0;function f(k,y,A,C,u,m,M){this.id=k,this.src=y,this.type=A,this.shader=C,this.count=m,this.programs=[],this.cache=M}f.prototype.dispose=function(){if(--this.count===0){for(var k=this.cache,y=k.gl,A=this.programs,C=0,u=A.length;C<u;++C){var m=k.programs[A[C]];m&&(delete k.programs[C],y.deleteProgram(m))}y.deleteShader(this.shader),delete k.shaders[this.type===y.FRAGMENT_SHADER|0][this.src]}};function b(k){this.gl=k,this.shaders=[{},{}],this.programs={}}var h=b.prototype;function _(k,y,A){var C=k.createShader(y);if(k.shaderSource(C,A),k.compileShader(C),!k.getShaderParameter(C,k.COMPILE_STATUS)){var u=k.getShaderInfoLog(C);try{var m=l(u,A,y)}catch(M){throw console.warn("Failed to format compiler error: "+M),new e(u,`Error compiling shader:
`+u)}throw new e(u,m.short,m.long)}return C}h.getShaderReference=function(k,y){var A=this.gl,C=this.shaders[k===A.FRAGMENT_SHADER|0],u=C[y];if(!u||!A.isShader(u.shader)){var m=_(A,k,y);u=C[y]=new f(o++,y,k,m,[],1,this)}else u.count+=1;return u};function a(k,y,A,C,u){var m=k.createProgram();k.attachShader(m,y),k.attachShader(m,A);for(var M=0;M<C.length;++M)k.bindAttribLocation(m,u[M],C[M]);if(k.linkProgram(m),!k.getProgramParameter(m,k.LINK_STATUS)){var w=k.getProgramInfoLog(m);throw new e(w,"Error linking program: "+w)}return m}h.getProgram=function(k,y,A,C){var u=[k.id,y.id,A.join(":"),C.join(":")].join("@"),m=this.programs[u];return(!m||!this.gl.isProgram(m))&&(this.programs[u]=m=a(this.gl,k.shader,y.shader,A,C),k.programs.push(u),y.programs.push(u)),m};function c(k){var y=s.get(k);return y||(y=new b(k),s.set(k,y)),y}function p(k,y,A){return c(k).getShaderReference(y,A)}function x(k,y,A,C,u){return c(k).getProgram(y,A,C,u)}},4098:function(v){v.exports=e;function d(l){this.plot=l,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=d.prototype;r.update=function(l){l=l||{},this.enable=(l.enable||[!0,!0,!1,!1]).slice(),this.width=(l.width||[1,1,1,1]).slice(),this.color=(l.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(l.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var l=this.enable,n=this.width,s=this.color,o=this.center,f=this.plot,b=f.line,h=f.dataBox,_=f.viewBox;if(b.bind(),h[0]<=o[0]&&o[0]<=h[2]&&h[1]<=o[1]&&o[1]<=h[3]){var a=_[0]+(o[0]-h[0])/(h[2]-h[0])*(_[2]-_[0]),c=_[1]+(o[1]-h[1])/(h[3]-h[1])*(_[3]-_[1]);l[0]&&b.drawLine(a,c,_[0],c,n[0],s[0]),l[1]&&b.drawLine(a,c,a,_[1],n[1],s[1]),l[2]&&b.drawLine(a,c,_[2],c,n[2],s[2]),l[3]&&b.drawLine(a,c,a,_[3],n[3],s[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function e(l,n){var s=new d(l);return s.update(n),l.addOverlay(s),s}},1493:function(v,d,r){var e=r(3236),l=r(9405),n=e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),s=e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(o){return l(o,n,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,d,r){var e=r(2762),l=r(8116),n=r(1493);v.exports=a;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(c,p,x,k){this.gl=c,this.buffer=p,this.vao=x,this.shader=k,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var f=o.prototype,b=[0,0,0],h=[0,0,0],_=[0,0];f.isTransparent=function(){return!1},f.drawTransparent=function(c){},f.draw=function(c){var p=this.gl,x=this.vao,k=this.shader;x.bind(),k.bind();var y=c.model||s,A=c.view||s,C=c.projection||s,u;this.axes&&(u=this.axes.lastCubeProps.axis);for(var m=b,M=h,w=0;w<3;++w)u&&u[w]<0?(m[w]=this.bounds[0][w],M[w]=this.bounds[1][w]):(m[w]=this.bounds[1][w],M[w]=this.bounds[0][w]);_[0]=p.drawingBufferWidth,_[1]=p.drawingBufferHeight,k.uniforms.model=y,k.uniforms.view=A,k.uniforms.projection=C,k.uniforms.coordinates=[this.position,m,M],k.uniforms.colors=this.colors,k.uniforms.screenShape=_;for(var w=0;w<3;++w)k.uniforms.lineWidth=this.lineWidth[w]*this.pixelRatio,this.enabled[w]&&(x.draw(p.TRIANGLES,6,6*w),this.drawSides[w]&&x.draw(p.TRIANGLES,12,18+12*w));x.unbind()},f.update=function(c){c&&("bounds"in c&&(this.bounds=c.bounds),"position"in c&&(this.position=c.position),"lineWidth"in c&&(this.lineWidth=c.lineWidth),"colors"in c&&(this.colors=c.colors),"enabled"in c&&(this.enabled=c.enabled),"drawSides"in c&&(this.drawSides=c.drawSides))},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function a(c,p){var x=[];function k(m,M,w,z,O,D){var P=[m,M,w,0,0,0,1];P[z+3]=1,P[z]=O,x.push.apply(x,P),P[6]=-1,x.push.apply(x,P),P[z]=D,x.push.apply(x,P),x.push.apply(x,P),P[6]=1,x.push.apply(x,P),P[z]=O,x.push.apply(x,P)}k(0,0,0,0,0,1),k(0,0,0,1,0,1),k(0,0,0,2,0,1),k(1,0,0,1,-1,1),k(1,0,0,2,-1,1),k(0,1,0,0,-1,1),k(0,1,0,2,-1,1),k(0,0,1,0,-1,1),k(0,0,1,1,-1,1);var y=e(c,x),A=l(c,[{type:c.FLOAT,buffer:y,size:3,offset:0,stride:28},{type:c.FLOAT,buffer:y,size:3,offset:12,stride:28},{type:c.FLOAT,buffer:y,size:1,offset:24,stride:28}]),C=n(c);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.weight.location=2;var u=new o(c,y,A,C);return u.update(p),u}},6740:function(v,d,r){var e=r(3236),l=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:l,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},d.pickShader={vertex:s,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,d,r){var e=r(2931),l=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(x,k,y,A){for(var C=x.points,u=x.velocities,m=x.divergences,M=[],w=[],z=[],O=[],D=[],P=[],F=0,R=0,N=l.create(),B=l.create(),q=8,V=0;V<C.length;V++){var J=C[V],it=u[V],nt=m[V];k===0&&(nt=y*.05),R=e.length(it)/A,N=l.create(),e.copy(N,it),N[3]=nt;for(var Y=0;Y<q;Y++)D[Y]=[J[0],J[1],J[2],Y];if(O.length>0)for(var Y=0;Y<q;Y++){var Z=(Y+1)%q;M.push(O[Y],D[Y],D[Z],D[Z],O[Z],O[Y]),z.push(B,N,N,N,B,B),P.push(F,R,R,R,F,F);var $=M.length;w.push([$-6,$-5,$-4],[$-3,$-2,$-1])}var G=O;O=D,D=G;var rt=B;B=N,N=rt;var ot=F;F=R,R=ot}return{positions:M,cells:w,vectors:z,vertexIntensity:P}},o=function(x,k,y,A){for(var C=0,u=0;u<x.length;u++)for(var m=x[u].velocities,M=0;M<m.length;M++)C=Math.max(C,e.length(m[M]));for(var w=x.map(function(J){return s(J,y,A,C)}),z=[],O=[],D=[],P=[],u=0;u<w.length;u++){var F=w[u],R=z.length;z=z.concat(F.positions),D=D.concat(F.vectors),P=P.concat(F.vertexIntensity);for(var M=0;M<F.cells.length;M++){var N=F.cells[M],B=[];O.push(B);for(var q=0;q<N.length;q++)B.push(N[q]+R)}}return{positions:z,cells:O,vectors:D,vertexIntensity:P,colormap:k}},f=function(x,k){var y=x.length,A;for(A=0;A<y;A++){var C=x[A];if(C===k)return A;if(C>k)return A-1}return A},b=function(x,k,y){return x<k?k:x>y?y:x},h=function(x,k,y){var A=k.vectors,C=k.meshgrid,u=x[0],m=x[1],M=x[2],w=C[0].length,z=C[1].length,O=C[2].length,D=f(C[0],u),P=f(C[1],m),F=f(C[2],M),R=D+1,N=P+1,B=F+1;if(D=b(D,0,w-1),R=b(R,0,w-1),P=b(P,0,z-1),N=b(N,0,z-1),F=b(F,0,O-1),B=b(B,0,O-1),D<0||P<0||F<0||R>w-1||N>z-1||B>O-1)return e.create();var q=C[0][D],V=C[0][R],J=C[1][P],it=C[1][N],nt=C[2][F],Y=C[2][B],Z=(u-q)/(V-q),$=(m-J)/(it-J),G=(M-nt)/(Y-nt);isFinite(Z)||(Z=.5),isFinite($)||($=.5),isFinite(G)||(G=.5);var rt,ot,W,H,at,Q;switch(y.reversedX&&(D=w-1-D,R=w-1-R),y.reversedY&&(P=z-1-P,N=z-1-N),y.reversedZ&&(F=O-1-F,B=O-1-B),y.filled){case 5:at=F,Q=B,W=P*O,H=N*O,rt=D*O*z,ot=R*O*z;break;case 4:at=F,Q=B,rt=D*O,ot=R*O,W=P*O*w,H=N*O*w;break;case 3:W=P,H=N,at=F*z,Q=B*z,rt=D*z*O,ot=R*z*O;break;case 2:W=P,H=N,rt=D*z,ot=R*z,at=F*z*w,Q=B*z*w;break;case 1:rt=D,ot=R,at=F*w,Q=B*w,W=P*w*O,H=N*w*O;break;default:rt=D,ot=R,W=P*w,H=N*w,at=F*w*z,Q=B*w*z;break}var ct=A[rt+W+at],ft=A[rt+W+Q],yt=A[rt+H+at],xt=A[rt+H+Q],Lt=A[ot+W+at],gt=A[ot+W+Q],mt=A[ot+H+at],vt=A[ot+H+Q],At=e.create(),Ot=e.create(),Pt=e.create(),Et=e.create();e.lerp(At,ct,Lt,Z),e.lerp(Ot,ft,gt,Z),e.lerp(Pt,yt,mt,Z),e.lerp(Et,xt,vt,Z);var Nt=e.create(),ne=e.create();e.lerp(Nt,At,Pt,$),e.lerp(ne,Ot,Et,$);var Gt=e.create();return e.lerp(Gt,Nt,ne,G),Gt},_=function(x){var k=1/0;x.sort(function(u,m){return u-m});for(var y=x.length,A=1;A<y;A++){var C=Math.abs(x[A]-x[A-1]);C<k&&(k=C)}return k},a=function(x){for(var k=[],y=[],A=[],C={},u={},m={},M=x.length,w=0;w<M;w++){var z=x[w],O=z[0],D=z[1],P=z[2];C[O]||(k.push(O),C[O]=!0),u[D]||(y.push(D),u[D]=!0),m[P]||(A.push(P),m[P]=!0)}var F=_(k),R=_(y),N=_(A),B=Math.min(F,R,N);return isFinite(B)?B:1};v.exports=function(x,k){var y=x.startingPositions,A=x.maxLength||1e3,C=x.tubeSize||1,u=x.absoluteTubeSize,m=x.gridFill||"+x+y+z",M={};m.indexOf("-x")!==-1&&(M.reversedX=!0),m.indexOf("-y")!==-1&&(M.reversedY=!0),m.indexOf("-z")!==-1&&(M.reversedZ=!0),M.filled=n.indexOf(m.replace(/-/g,"").replace(/\+/g,""));var w=x.getVelocity||function(gt){return h(gt,x,M)},z=x.getDivergence||function(gt,mt){var vt=e.create(),At=1e-4;e.add(vt,gt,[At,0,0]);var Ot=w(vt);e.subtract(Ot,Ot,mt),e.scale(Ot,Ot,1/At),e.add(vt,gt,[0,At,0]);var Pt=w(vt);e.subtract(Pt,Pt,mt),e.scale(Pt,Pt,1/At),e.add(vt,gt,[0,0,At]);var Et=w(vt);return e.subtract(Et,Et,mt),e.scale(Et,Et,1/At),e.add(vt,Ot,Pt),e.add(vt,vt,Et),vt},O=[],D=k[0][0],P=k[0][1],F=k[0][2],R=k[1][0],N=k[1][1],B=k[1][2],q=function(gt){var mt=gt[0],vt=gt[1],At=gt[2];return!(mt<D||mt>R||vt<P||vt>N||At<F||At>B)},V=e.distance(k[0],k[1]),J=10*V/A,it=J*J,nt=1,Y=0,Z=y.length;Z>1&&(nt=a(y));for(var $=0;$<Z;$++){var G=e.create();e.copy(G,y[$]);var rt=[G],ot=[],W=w(G),H=G;ot.push(W);var at=[],Q=z(G,W),ct=e.length(Q);isFinite(ct)&&ct>Y&&(Y=ct),at.push(ct),O.push({points:rt,velocities:ot,divergences:at});for(var ft=0;ft<A*100&&rt.length<A&&q(G);){ft++;var yt=e.clone(W),xt=e.squaredLength(yt);if(xt===0)break;if(xt>it&&e.scale(yt,yt,J/Math.sqrt(xt)),e.add(yt,yt,G),W=w(yt),e.squaredDistance(H,yt)-it>-1e-4*it){rt.push(yt),H=yt,ot.push(W);var Q=z(yt,W),ct=e.length(Q);isFinite(ct)&&ct>Y&&(Y=ct),at.push(ct)}G=yt}}var Lt=o(O,x.colormap,Y,nt);return u?Lt.tubeScale=u:(Y===0&&(Y=1),Lt.tubeScale=C*.5*nt/Y),Lt};var c=r(6740),p=r(6405).createMesh;v.exports.createTubeMesh=function(x,k){return p(x,k,{shaders:c,traceType:"streamtube"})}},990:function(v,d,r){var e=r(9405),l=r(3236),n=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),s=l([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),o=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);d.createShader=function(b){var h=e(b,n,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},d.createPickShader=function(b){var h=e(b,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},d.createContourShader=function(b){var h=e(b,o,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},d.createPickContourShader=function(b){var h=e(b,o,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,d,r){v.exports=ot;var e=r(8828),l=r(2762),n=r(8116),s=r(7766),o=r(1888),f=r(6729),b=r(5298),h=r(9994),_=r(9618),a=r(3711),c=r(6760),p=r(7608),x=r(2478),k=r(6199),y=r(990),A=y.createShader,C=y.createContourShader,u=y.createPickShader,m=y.createPickContourShader,M=4*10,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],z=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],O=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var W=0;W<3;++W){var H=O[W],at=(W+1)%3,Q=(W+2)%3;H[at+0]=1,H[Q+3]=1,H[W+6]=1}})();function D(W,H,at,Q,ct){this.position=W,this.index=H,this.uv=at,this.level=Q,this.dataCoordinate=ct}var P=256;function F(W,H,at,Q,ct,ft,yt,xt,Lt,gt,mt,vt,At,Ot,Pt){this.gl=W,this.shape=H,this.bounds=at,this.objectOffset=Pt,this.intensityBounds=[],this._shader=Q,this._pickShader=ct,this._coordinateBuffer=ft,this._vao=yt,this._colorMap=xt,this._contourShader=Lt,this._contourPickShader=gt,this._contourBuffer=mt,this._contourVAO=vt,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new D([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=At,this._dynamicVAO=Ot,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[_(o.mallocFloat(1024),[0,0]),_(o.mallocFloat(1024),[0,0]),_(o.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var R=F.prototype;R.genColormap=function(W,H){var at=!1,Q=h([f({colormap:W,nshades:P,format:"rgba"}).map(function(ct,ft){var yt=H?N(ft/255,H):ct[3];return yt<1&&(at=!0),[ct[0],ct[1],ct[2],255*yt]})]);return b.divseq(Q,255),this.hasAlphaScale=at,Q},R.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},R.isOpaque=function(){return!this.isTransparent()},R.pickSlots=1,R.setPickBase=function(W){this.pickId=W};function N(W,H){if(!H||!H.length)return 1;for(var at=0;at<H.length;++at){if(H.length<2)return 1;if(H[at][0]===W)return H[at][1];if(H[at][0]>W&&at>0){var Q=(H[at][0]-W)/(H[at][0]-H[at-1][0]);return H[at][1]*(1-Q)+Q*H[at-1][1]}}return 1}var B=[0,0,0],q={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function V(W,H){var at,Q,ct,ft=H.axes&&H.axes.lastCubeProps.axis||B,yt=H.showSurface,xt=H.showContour;for(at=0;at<3;++at)for(yt=yt||H.surfaceProject[at],Q=0;Q<3;++Q)xt=xt||H.contourProject[at][Q];for(at=0;at<3;++at){var Lt=q.projections[at];for(Q=0;Q<16;++Q)Lt[Q]=0;for(Q=0;Q<4;++Q)Lt[5*Q]=1;Lt[5*at]=0,Lt[12+at]=H.axesBounds[+(ft[at]>0)][at],c(Lt,W.model,Lt);var gt=q.clipBounds[at];for(ct=0;ct<2;++ct)for(Q=0;Q<3;++Q)gt[ct][Q]=W.clipBounds[ct][Q];gt[0][at]=-1e8,gt[1][at]=1e8}return q.showSurface=yt,q.showContour=xt,q}var J={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},it=w.slice(),nt=[1,0,0,0,1,0,0,0,1];function Y(W,H){W=W||{};var at=this.gl;at.disable(at.CULL_FACE),this._colorMap.bind(0);var Q=J;Q.model=W.model||w,Q.view=W.view||w,Q.projection=W.projection||w,Q.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Q.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Q.objectOffset=this.objectOffset,Q.contourColor=this.contourColor[0],Q.inverseModel=p(Q.inverseModel,Q.model);for(var ct=0;ct<2;++ct)for(var ft=Q.clipBounds[ct],yt=0;yt<3;++yt)ft[yt]=Math.min(Math.max(this.clipBounds[ct][yt],-1e8),1e8);Q.kambient=this.ambientLight,Q.kdiffuse=this.diffuseLight,Q.kspecular=this.specularLight,Q.roughness=this.roughness,Q.fresnel=this.fresnel,Q.opacity=this.opacity,Q.height=0,Q.permutation=nt,Q.vertexColor=this.vertexColor;var xt=it;for(c(xt,Q.view,Q.model),c(xt,Q.projection,xt),p(xt,xt),ct=0;ct<3;++ct)Q.eyePosition[ct]=xt[12+ct]/xt[15];var Lt=xt[15];for(ct=0;ct<3;++ct)Lt+=this.lightPosition[ct]*xt[4*ct+3];for(ct=0;ct<3;++ct){var gt=xt[12+ct];for(yt=0;yt<3;++yt)gt+=xt[4*yt+ct]*this.lightPosition[yt];Q.lightPosition[ct]=gt/Lt}var mt=V(Q,this);if(mt.showSurface){for(this._shader.bind(),this._shader.uniforms=Q,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(at.TRIANGLES,this._vertexCount),ct=0;ct<3;++ct)!this.surfaceProject[ct]||!this.vertexCount||(this._shader.uniforms.model=mt.projections[ct],this._shader.uniforms.clipBounds=mt.clipBounds[ct],this._vao.draw(at.TRIANGLES,this._vertexCount));this._vao.unbind()}if(mt.showContour){var vt=this._contourShader;Q.kambient=1,Q.kdiffuse=0,Q.kspecular=0,Q.opacity=1,vt.bind(),vt.uniforms=Q;var At=this._contourVAO;for(At.bind(),ct=0;ct<3;++ct)for(vt.uniforms.permutation=O[ct],at.lineWidth(this.contourWidth[ct]*this.pixelRatio),yt=0;yt<this.contourLevels[ct].length;++yt)yt===this.highlightLevel[ct]?(vt.uniforms.contourColor=this.highlightColor[ct],vt.uniforms.contourTint=this.highlightTint[ct]):(yt===0||yt-1===this.highlightLevel[ct])&&(vt.uniforms.contourColor=this.contourColor[ct],vt.uniforms.contourTint=this.contourTint[ct]),this._contourCounts[ct][yt]&&(vt.uniforms.height=this.contourLevels[ct][yt],At.draw(at.LINES,this._contourCounts[ct][yt],this._contourOffsets[ct][yt]));for(ct=0;ct<3;++ct)for(vt.uniforms.model=mt.projections[ct],vt.uniforms.clipBounds=mt.clipBounds[ct],yt=0;yt<3;++yt)if(this.contourProject[ct][yt]){vt.uniforms.permutation=O[yt],at.lineWidth(this.contourWidth[yt]*this.pixelRatio);for(var Ot=0;Ot<this.contourLevels[yt].length;++Ot)Ot===this.highlightLevel[yt]?(vt.uniforms.contourColor=this.highlightColor[yt],vt.uniforms.contourTint=this.highlightTint[yt]):(Ot===0||Ot-1===this.highlightLevel[yt])&&(vt.uniforms.contourColor=this.contourColor[yt],vt.uniforms.contourTint=this.contourTint[yt]),this._contourCounts[yt][Ot]&&(vt.uniforms.height=this.contourLevels[yt][Ot],At.draw(at.LINES,this._contourCounts[yt][Ot],this._contourOffsets[yt][Ot]))}for(At.unbind(),At=this._dynamicVAO,At.bind(),ct=0;ct<3;++ct)if(this._dynamicCounts[ct]!==0)for(vt.uniforms.model=Q.model,vt.uniforms.clipBounds=Q.clipBounds,vt.uniforms.permutation=O[ct],at.lineWidth(this.dynamicWidth[ct]*this.pixelRatio),vt.uniforms.contourColor=this.dynamicColor[ct],vt.uniforms.contourTint=this.dynamicTint[ct],vt.uniforms.height=this.dynamicLevel[ct],At.draw(at.LINES,this._dynamicCounts[ct],this._dynamicOffsets[ct]),yt=0;yt<3;++yt)this.contourProject[yt][ct]&&(vt.uniforms.model=mt.projections[yt],vt.uniforms.clipBounds=mt.clipBounds[yt],At.draw(at.LINES,this._dynamicCounts[ct],this._dynamicOffsets[ct]));At.unbind()}}R.draw=function(W){return Y.call(this,W,!1)},R.drawTransparent=function(W){return Y.call(this,W,!0)};var Z={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};R.drawPick=function(W){W=W||{};var H=this.gl;H.disable(H.CULL_FACE);var at=Z;at.model=W.model||w,at.view=W.view||w,at.projection=W.projection||w,at.shape=this._field[2].shape,at.pickId=this.pickId/255,at.lowerBound=this.bounds[0],at.upperBound=this.bounds[1],at.objectOffset=this.objectOffset,at.permutation=nt;for(var Q=0;Q<2;++Q)for(var ct=at.clipBounds[Q],ft=0;ft<3;++ft)ct[ft]=Math.min(Math.max(this.clipBounds[Q][ft],-1e8),1e8);var yt=V(at,this);if(yt.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=at,this._vao.bind(),this._vao.draw(H.TRIANGLES,this._vertexCount),Q=0;Q<3;++Q)this.surfaceProject[Q]&&(this._pickShader.uniforms.model=yt.projections[Q],this._pickShader.uniforms.clipBounds=yt.clipBounds[Q],this._vao.draw(H.TRIANGLES,this._vertexCount));this._vao.unbind()}if(yt.showContour){var xt=this._contourPickShader;xt.bind(),xt.uniforms=at;var Lt=this._contourVAO;for(Lt.bind(),ft=0;ft<3;++ft)for(H.lineWidth(this.contourWidth[ft]*this.pixelRatio),xt.uniforms.permutation=O[ft],Q=0;Q<this.contourLevels[ft].length;++Q)this._contourCounts[ft][Q]&&(xt.uniforms.height=this.contourLevels[ft][Q],Lt.draw(H.LINES,this._contourCounts[ft][Q],this._contourOffsets[ft][Q]));for(Q=0;Q<3;++Q)for(xt.uniforms.model=yt.projections[Q],xt.uniforms.clipBounds=yt.clipBounds[Q],ft=0;ft<3;++ft)if(this.contourProject[Q][ft]){xt.uniforms.permutation=O[ft],H.lineWidth(this.contourWidth[ft]*this.pixelRatio);for(var gt=0;gt<this.contourLevels[ft].length;++gt)this._contourCounts[ft][gt]&&(xt.uniforms.height=this.contourLevels[ft][gt],Lt.draw(H.LINES,this._contourCounts[ft][gt],this._contourOffsets[ft][gt]))}Lt.unbind()}},R.pick=function(W){if(!W||W.id!==this.pickId)return null;var H=this._field[2].shape,at=this._pickResult,Q=H[0]*(W.value[0]+(W.value[2]>>4)/16)/255,ct=Math.floor(Q),ft=Q-ct,yt=H[1]*(W.value[1]+(W.value[2]&15)/16)/255,xt=Math.floor(yt),Lt=yt-xt;ct+=1,xt+=1;var gt=at.position;gt[0]=gt[1]=gt[2]=0;for(var mt=0;mt<2;++mt)for(var vt=mt?ft:1-ft,At=0;At<2;++At)for(var Ot=At?Lt:1-Lt,Pt=ct+mt,Et=xt+At,Nt=vt*Ot,ne=0;ne<3;++ne)gt[ne]+=this._field[ne].get(Pt,Et)*Nt;for(var Gt=this._pickResult.level,pe=0;pe<3;++pe)if(Gt[pe]=x.le(this.contourLevels[pe],gt[pe]),Gt[pe]<0)this.contourLevels[pe].length>0&&(Gt[pe]=0);else if(Gt[pe]<this.contourLevels[pe].length-1){var Vt=this.contourLevels[pe][Gt[pe]],ae=this.contourLevels[pe][Gt[pe]+1];Math.abs(Vt-gt[pe])>Math.abs(ae-gt[pe])&&(Gt[pe]+=1)}for(at.index[0]=ft<.5?ct:ct+1,at.index[1]=Lt<.5?xt:xt+1,at.uv[0]=Q/H[0],at.uv[1]=yt/H[1],ne=0;ne<3;++ne)at.dataCoordinate[ne]=this._field[ne].get(at.index[0],at.index[1]);return at},R.padField=function(W,H){var at=H.shape.slice(),Q=W.shape.slice();b.assign(W.lo(1,1).hi(at[0],at[1]),H),b.assign(W.lo(1).hi(at[0],1),H.hi(at[0],1)),b.assign(W.lo(1,Q[1]-1).hi(at[0],1),H.lo(0,at[1]-1).hi(at[0],1)),b.assign(W.lo(0,1).hi(1,at[1]),H.hi(1)),b.assign(W.lo(Q[0]-1,1).hi(1,at[1]),H.lo(at[0]-1)),W.set(0,0,H.get(0,0)),W.set(0,Q[1]-1,H.get(0,at[1]-1)),W.set(Q[0]-1,0,H.get(at[0]-1,0)),W.set(Q[0]-1,Q[1]-1,H.get(at[0]-1,at[1]-1))};function $(W,H){return Array.isArray(W)?[H(W[0]),H(W[1]),H(W[2])]:[H(W),H(W),H(W)]}function G(W){return Array.isArray(W)?W.length===3?[W[0],W[1],W[2],1]:[W[0],W[1],W[2],W[3]]:[0,0,0,1]}function rt(W){if(Array.isArray(W)){if(Array.isArray(W))return[G(W[0]),G(W[1]),G(W[2])];var H=G(W);return[H.slice(),H.slice(),H.slice()]}}R.update=function(W){W=W||{},this.objectOffset=W.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in W&&(this.contourWidth=$(W.contourWidth,Number)),"showContour"in W&&(this.showContour=$(W.showContour,Boolean)),"showSurface"in W&&(this.showSurface=!!W.showSurface),"contourTint"in W&&(this.contourTint=$(W.contourTint,Boolean)),"contourColor"in W&&(this.contourColor=rt(W.contourColor)),"contourProject"in W&&(this.contourProject=$(W.contourProject,function(ke){return $(ke,Boolean)})),"surfaceProject"in W&&(this.surfaceProject=W.surfaceProject),"dynamicColor"in W&&(this.dynamicColor=rt(W.dynamicColor)),"dynamicTint"in W&&(this.dynamicTint=$(W.dynamicTint,Number)),"dynamicWidth"in W&&(this.dynamicWidth=$(W.dynamicWidth,Number)),"opacity"in W&&(this.opacity=W.opacity),"opacityscale"in W&&(this.opacityscale=W.opacityscale),"colorBounds"in W&&(this.colorBounds=W.colorBounds),"vertexColor"in W&&(this.vertexColor=W.vertexColor?1:0),"colormap"in W&&this._colorMap.setPixels(this.genColormap(W.colormap,this.opacityscale));var H=W.field||W.coords&&W.coords[2]||null,at=!1;if(H||(this._field[2].shape[0]||this._field[2].shape[2]?H=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):H=this._field[2].hi(0,0)),"field"in W||"coords"in W){var Q=(H.shape[0]+2)*(H.shape[1]+2);Q>this._field[2].data.length&&(o.freeFloat(this._field[2].data),this._field[2].data=o.mallocFloat(e.nextPow2(Q))),this._field[2]=_(this._field[2].data,[H.shape[0]+2,H.shape[1]+2]),this.padField(this._field[2],H),this.shape=H.shape.slice();for(var ct=this.shape,ft=0;ft<2;++ft)this._field[2].size>this._field[ft].data.length&&(o.freeFloat(this._field[ft].data),this._field[ft].data=o.mallocFloat(this._field[2].size)),this._field[ft]=_(this._field[ft].data,[ct[0]+2,ct[1]+2]);if(W.coords){var yt=W.coords;if(!Array.isArray(yt)||yt.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ft=0;ft<2;++ft){var xt=yt[ft];for(At=0;At<2;++At)if(xt.shape[At]!==ct[At])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ft],xt)}}else if(W.ticks){var Lt=W.ticks;if(!Array.isArray(Lt)||Lt.length!==2)throw new Error("gl-surface: invalid ticks");for(ft=0;ft<2;++ft){var gt=Lt[ft];if((Array.isArray(gt)||gt.length)&&(gt=_(gt)),gt.shape[0]!==ct[ft])throw new Error("gl-surface: invalid tick length");var mt=_(gt.data,ct);mt.stride[ft]=gt.stride[0],mt.stride[ft^1]=0,this.padField(this._field[ft],mt)}}else{for(ft=0;ft<2;++ft){var vt=[0,0];vt[ft]=1,this._field[ft]=_(this._field[ft].data,[ct[0]+2,ct[1]+2],vt,0)}this._field[0].set(0,0,0);for(var At=0;At<ct[0];++At)this._field[0].set(At+1,0,At);for(this._field[0].set(ct[0]+1,0,ct[0]-1),this._field[1].set(0,0,0),At=0;At<ct[1];++At)this._field[1].set(0,At+1,At);this._field[1].set(0,ct[1]+1,ct[1]-1)}var Ot=this._field,Pt=_(o.mallocFloat(Ot[2].size*3*2),[3,ct[0]+2,ct[1]+2,2]);for(ft=0;ft<3;++ft)k(Pt.pick(ft),Ot[ft],"mirror");var Et=_(o.mallocFloat(Ot[2].size*3),[ct[0]+2,ct[1]+2,3]);for(ft=0;ft<ct[0]+2;++ft)for(At=0;At<ct[1]+2;++At){var Nt=Pt.get(0,ft,At,0),ne=Pt.get(0,ft,At,1),Gt=Pt.get(1,ft,At,0),pe=Pt.get(1,ft,At,1),Vt=Pt.get(2,ft,At,0),ae=Pt.get(2,ft,At,1),oe=Gt*ae-pe*Vt,ce=Vt*ne-ae*Nt,le=Nt*pe-ne*Gt,ye=Math.sqrt(oe*oe+ce*ce+le*le);ye<1e-8?(ye=Math.max(Math.abs(oe),Math.abs(ce),Math.abs(le)),ye<1e-8?(le=1,ce=oe=0,ye=1):ye=1/ye):ye=1/Math.sqrt(ye),Et.set(ft,At,0,oe*ye),Et.set(ft,At,1,ce*ye),Et.set(ft,At,2,le*ye)}o.free(Pt.data);var Tt=[1/0,1/0,1/0],Ft=[-1/0,-1/0,-1/0],$t=1/0,Wt=-1/0,Bt=(ct[0]-1)*(ct[1]-1)*6,Mt=o.mallocFloat(e.nextPow2(10*Bt)),St=0,Dt=0;for(ft=0;ft<ct[0]-1;++ft)t:for(At=0;At<ct[1]-1;++At){for(var dt=0;dt<2;++dt)for(var ht=0;ht<2;++ht)for(var bt=0;bt<3;++bt){var zt=this._field[bt].get(1+ft+dt,1+At+ht);if(isNaN(zt)||!isFinite(zt))continue t}for(bt=0;bt<6;++bt){var qt=ft+z[bt][0],te=At+z[bt][1],re=this._field[0].get(qt+1,te+1),Ye=this._field[1].get(qt+1,te+1);zt=this._field[2].get(qt+1,te+1),oe=Et.get(qt+1,te+1,0),ce=Et.get(qt+1,te+1,1),le=Et.get(qt+1,te+1,2),W.intensity&&(Be=W.intensity.get(qt,te));var Be=W.intensity?W.intensity.get(qt,te):zt+this.objectOffset[2];Mt[St++]=qt,Mt[St++]=te,Mt[St++]=re,Mt[St++]=Ye,Mt[St++]=zt,Mt[St++]=0,Mt[St++]=Be,Mt[St++]=oe,Mt[St++]=ce,Mt[St++]=le,Tt[0]=Math.min(Tt[0],re+this.objectOffset[0]),Tt[1]=Math.min(Tt[1],Ye+this.objectOffset[1]),Tt[2]=Math.min(Tt[2],zt+this.objectOffset[2]),$t=Math.min($t,Be),Ft[0]=Math.max(Ft[0],re+this.objectOffset[0]),Ft[1]=Math.max(Ft[1],Ye+this.objectOffset[1]),Ft[2]=Math.max(Ft[2],zt+this.objectOffset[2]),Wt=Math.max(Wt,Be),Dt+=1}}for(W.intensityBounds&&($t=+W.intensityBounds[0],Wt=+W.intensityBounds[1]),ft=6;ft<St;ft+=10)Mt[ft]=(Mt[ft]-$t)/(Wt-$t);this._vertexCount=Dt,this._coordinateBuffer.update(Mt.subarray(0,St)),o.freeFloat(Mt),o.free(Et.data),this.bounds=[Tt,Ft],this.intensity=W.intensity||this._field[2],(this.intensityBounds[0]!==$t||this.intensityBounds[1]!==Wt)&&(at=!0),this.intensityBounds=[$t,Wt]}if("levels"in W){var ge=W.levels;for(Array.isArray(ge[0])?ge=ge.slice():ge=[[],[],ge],ft=0;ft<3;++ft)ge[ft]=ge[ft].slice(),ge[ft].sort(function(ke,qe){return ke-qe});for(ft=0;ft<3;++ft)for(At=0;At<ge[ft].length;++At)ge[ft][At]-=this.objectOffset[ft];t:for(ft=0;ft<3;++ft){if(ge[ft].length!==this.contourLevels[ft].length){at=!0;break}for(At=0;At<ge[ft].length;++At)if(ge[ft][At]!==this.contourLevels[ft][At]){at=!0;break t}}this.contourLevels=ge}if(at){Ot=this._field,ct=this.shape;for(var be=[],Ne=0;Ne<3;++Ne){var pr=this.contourLevels[Ne],fe=[],De=[],Ge=[0,0,0];for(ft=0;ft<pr.length;++ft){var vr=a(this._field[Ne],pr[ft]);fe.push(be.length/5|0),Dt=0;t:for(At=0;At<vr.cells.length;++At){var $e=vr.cells[At];for(bt=0;bt<2;++bt){var Kt=vr.positions[$e[bt]],ie=Kt[0],he=Math.floor(ie)|0,Ae=ie-he,Ee=Kt[1],Fe=Math.floor(Ee)|0,Re=Ee-Fe,Ce=!1;e:for(var We=0;We<3;++We){Ge[We]=0;var er=(Ne+We+1)%3;for(dt=0;dt<2;++dt){var Ue=dt?Ae:1-Ae;for(qt=Math.min(Math.max(he+dt,0),ct[0])|0,ht=0;ht<2;++ht){var ar=ht?Re:1-Re;if(te=Math.min(Math.max(Fe+ht,0),ct[1])|0,We<2?zt=this._field[er].get(qt,te):zt=(this.intensity.get(qt,te)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(zt)||isNaN(zt)){Ce=!0;break e}var It=Ue*ar;Ge[We]+=It*zt}}}if(!Ce)be.push(Ge[0],Ge[1],Kt[0],Kt[1],Ge[2]),Dt+=1;else{if(bt>0){for(var Ut=0;Ut<5;++Ut)be.pop();Dt-=1}continue t}}}De.push(Dt)}this._contourOffsets[Ne]=fe,this._contourCounts[Ne]=De}var Me=o.mallocFloat(be.length);for(ft=0;ft<be.length;++ft)Me[ft]=be[ft];this._contourBuffer.update(Me),o.freeFloat(Me)}},R.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var W=0;W<3;++W)o.freeFloat(this._field[W].data)},R.highlight=function(W){var H;if(!W){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(H=0;H<3;++H)this.enableHighlight[H]?this.highlightLevel[H]=W.level[H]:this.highlightLevel[H]=-1;var at;for(this.snapToData?at=W.dataCoordinate:at=W.position,H=0;H<3;++H)at[H]-=this.objectOffset[H];if(!((!this.enableDynamic[0]||at[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||at[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||at[2]===this.dynamicLevel[2]))){for(var Q=0,ct=this.shape,ft=o.mallocFloat(12*ct[0]*ct[1]),yt=0;yt<3;++yt){if(!this.enableDynamic[yt]){this.dynamicLevel[yt]=NaN,this._dynamicCounts[yt]=0;continue}this.dynamicLevel[yt]=at[yt];var xt=(yt+1)%3,Lt=(yt+2)%3,gt=this._field[yt],mt=this._field[xt],vt=this._field[Lt],At=a(gt,at[yt]),Ot=At.cells,Pt=At.positions;for(this._dynamicOffsets[yt]=Q,H=0;H<Ot.length;++H)for(var Et=Ot[H],Nt=0;Nt<2;++Nt){var ne=Pt[Et[Nt]],Gt=+ne[0],pe=Gt|0,Vt=Math.min(pe+1,ct[0])|0,ae=Gt-pe,oe=1-ae,ce=+ne[1],le=ce|0,ye=Math.min(le+1,ct[1])|0,Tt=ce-le,Ft=1-Tt,$t=oe*Ft,Wt=oe*Tt,Bt=ae*Ft,Mt=ae*Tt,St=$t*mt.get(pe,le)+Wt*mt.get(pe,ye)+Bt*mt.get(Vt,le)+Mt*mt.get(Vt,ye),Dt=$t*vt.get(pe,le)+Wt*vt.get(pe,ye)+Bt*vt.get(Vt,le)+Mt*vt.get(Vt,ye);if(isNaN(St)||isNaN(Dt)){Nt&&(Q-=1);break}ft[2*Q+0]=St,ft[2*Q+1]=Dt,Q+=1}this._dynamicCounts[yt]=Q-this._dynamicOffsets[yt]}this._dynamicBuffer.update(ft.subarray(0,2*Q)),o.freeFloat(ft)}};function ot(W){var H=W.gl,at=A(H),Q=u(H),ct=C(H),ft=m(H),yt=l(H),xt=n(H,[{buffer:yt,size:4,stride:M,offset:0},{buffer:yt,size:3,stride:M,offset:16},{buffer:yt,size:3,stride:M,offset:28}]),Lt=l(H),gt=n(H,[{buffer:Lt,size:4,stride:20,offset:0},{buffer:Lt,size:1,stride:20,offset:16}]),mt=l(H),vt=n(H,[{buffer:mt,size:2,type:H.FLOAT}]),At=s(H,1,P,H.RGBA,H.UNSIGNED_BYTE);At.minFilter=H.LINEAR,At.magFilter=H.LINEAR;var Ot=new F(H,[0,0],[[0,0,0],[0,0,0]],at,Q,yt,xt,At,ct,ft,Lt,gt,mt,vt,[0,0,0]),Pt={levels:[[],[],[]]};for(var Et in W)Pt[Et]=W[Et];return Pt.colormap=Pt.colormap||"jet",Ot.update(Pt),Ot}},7766:function(v,d,r){var e=r(9618),l=r(5298),n=r(1888);v.exports=m;var s=null,o=null,f=null;function b(M){s=[M.LINEAR,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_NEAREST],o=[M.NEAREST,M.LINEAR,M.NEAREST_MIPMAP_NEAREST,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_LINEAR],f=[M.REPEAT,M.CLAMP_TO_EDGE,M.MIRRORED_REPEAT]}function h(M){return typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&M instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&M instanceof HTMLVideoElement||typeof ImageData<"u"&&M instanceof ImageData}var _=function(M,w){l.muls(M,w,255)};function a(M,w,z){var O=M.gl,D=O.getParameter(O.MAX_TEXTURE_SIZE);if(w<0||w>D||z<0||z>D)throw new Error("gl-texture2d: Invalid texture size");return M._shape=[w,z],M.bind(),O.texImage2D(O.TEXTURE_2D,0,M.format,w,z,0,M.format,M.type,null),M._mipLevels=[0],M}function c(M,w,z,O,D,P){this.gl=M,this.handle=w,this.format=D,this.type=P,this._shape=[z,O],this._mipLevels=[0],this._magFilter=M.NEAREST,this._minFilter=M.NEAREST,this._wrapS=M.CLAMP_TO_EDGE,this._wrapT=M.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,R=[this._wrapS,this._wrapT];Object.defineProperties(R,[{get:function(){return F._wrapS},set:function(B){return F.wrapS=B}},{get:function(){return F._wrapT},set:function(B){return F.wrapT=B}}]),this._wrapVector=R;var N=[this._shape[0],this._shape[1]];Object.defineProperties(N,[{get:function(){return F._shape[0]},set:function(B){return F.width=B}},{get:function(){return F._shape[1]},set:function(B){return F.height=B}}]),this._shapeVector=N}var p=c.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(M){this.bind();var w=this.gl;if(this.type===w.FLOAT&&s.indexOf(M)>=0&&(w.getExtension("OES_texture_float_linear")||(M=w.NEAREST)),o.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,M),this._minFilter=M}},magFilter:{get:function(){return this._magFilter},set:function(M){this.bind();var w=this.gl;if(this.type===w.FLOAT&&s.indexOf(M)>=0&&(w.getExtension("OES_texture_float_linear")||(M=w.NEAREST)),o.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,M),this._magFilter=M}},mipSamples:{get:function(){return this._anisoSamples},set:function(M){var w=this._anisoSamples;if(this._anisoSamples=Math.max(M,1)|0,w!==this._anisoSamples){var z=this.gl.getExtension("EXT_texture_filter_anisotropic");z&&this.gl.texParameterf(this.gl.TEXTURE_2D,z.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(M){if(this.bind(),f.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,M),this._wrapS=M}},wrapT:{get:function(){return this._wrapT},set:function(M){if(this.bind(),f.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,M),this._wrapT=M}},wrap:{get:function(){return this._wrapVector},set:function(M){if(Array.isArray(M)||(M=[M,M]),M.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var w=0;w<2;++w)if(f.indexOf(M[w])<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);this._wrapS=M[0],this._wrapT=M[1];var z=this.gl;return this.bind(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,this._wrapS),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this._wrapT),M}},shape:{get:function(){return this._shapeVector},set:function(M){if(!Array.isArray(M))M=[M|0,M|0];else if(M.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return a(this,M[0]|0,M[1]|0),[M[0]|0,M[1]|0]}},width:{get:function(){return this._shape[0]},set:function(M){return M=M|0,a(this,M,this._shape[1]),M}},height:{get:function(){return this._shape[1]},set:function(M){return M=M|0,a(this,this._shape[0],M),M}}}),p.bind=function(M){var w=this.gl;return M!==void 0&&w.activeTexture(w.TEXTURE0+(M|0)),w.bindTexture(w.TEXTURE_2D,this.handle),M!==void 0?M|0:w.getParameter(w.ACTIVE_TEXTURE)-w.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var M=Math.min(this._shape[0],this._shape[1]),w=0;M>0;++w,M>>>=1)this._mipLevels.indexOf(w)<0&&this._mipLevels.push(w)},p.setPixels=function(M,w,z,O){var D=this.gl;this.bind(),Array.isArray(w)?(O=z,z=w[1]|0,w=w[0]|0):(w=w||0,z=z||0),O=O||0;var P=h(M)?M:M.raw;if(P){var F=this._mipLevels.indexOf(O)<0;F?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,P),this._mipLevels.push(O)):D.texSubImage2D(D.TEXTURE_2D,O,w,z,this.format,this.type,P)}else if(M.shape&&M.stride&&M.data){if(M.shape.length<2||w+M.shape[1]>this._shape[1]>>>O||z+M.shape[0]>this._shape[0]>>>O||w<0||z<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");k(D,w,z,O,this.format,this.type,this._mipLevels,M)}else throw new Error("gl-texture2d: Unsupported data type")};function x(M,w){return M.length===3?w[2]===1&&w[1]===M[0]*M[2]&&w[0]===M[2]:w[0]===1&&w[1]===M[0]}function k(M,w,z,O,D,P,F,R){var N=R.dtype,B=R.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var q=0,V=0,J=x(B,R.stride.slice());if(N==="float32"?q=M.FLOAT:N==="float64"?(q=M.FLOAT,J=!1,N="float32"):N==="uint8"?q=M.UNSIGNED_BYTE:(q=M.UNSIGNED_BYTE,J=!1,N="uint8"),B.length===2)V=M.LUMINANCE,B=[B[0],B[1],1],R=e(R.data,B,[R.stride[0],R.stride[1],1],R.offset);else if(B.length===3){if(B[2]===1)V=M.ALPHA;else if(B[2]===2)V=M.LUMINANCE_ALPHA;else if(B[2]===3)V=M.RGB;else if(B[2]===4)V=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((V===M.LUMINANCE||V===M.ALPHA)&&(D===M.LUMINANCE||D===M.ALPHA)&&(V=D),V!==D)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var it=R.size,nt=F.indexOf(O)<0;if(nt&&F.push(O),q===P&&J)R.offset===0&&R.data.length===it?nt?M.texImage2D(M.TEXTURE_2D,O,D,B[0],B[1],0,D,P,R.data):M.texSubImage2D(M.TEXTURE_2D,O,w,z,B[0],B[1],D,P,R.data):nt?M.texImage2D(M.TEXTURE_2D,O,D,B[0],B[1],0,D,P,R.data.subarray(R.offset,R.offset+it)):M.texSubImage2D(M.TEXTURE_2D,O,w,z,B[0],B[1],D,P,R.data.subarray(R.offset,R.offset+it));else{var Y;P===M.FLOAT?Y=n.mallocFloat32(it):Y=n.mallocUint8(it);var Z=e(Y,B,[B[2],B[2]*B[0],1]);q===M.FLOAT&&P===M.UNSIGNED_BYTE?_(Z,R):l.assign(Z,R),nt?M.texImage2D(M.TEXTURE_2D,O,D,B[0],B[1],0,D,P,Y.subarray(0,it)):M.texSubImage2D(M.TEXTURE_2D,O,w,z,B[0],B[1],D,P,Y.subarray(0,it)),P===M.FLOAT?n.freeFloat32(Y):n.freeUint8(Y)}}function y(M){var w=M.createTexture();return M.bindTexture(M.TEXTURE_2D,w),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),w}function A(M,w,z,O,D){var P=M.getParameter(M.MAX_TEXTURE_SIZE);if(w<0||w>P||z<0||z>P)throw new Error("gl-texture2d: Invalid texture shape");if(D===M.FLOAT&&!M.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=y(M);return M.texImage2D(M.TEXTURE_2D,0,O,w,z,0,O,D,null),new c(M,F,w,z,O,D)}function C(M,w,z,O,D,P){var F=y(M);return M.texImage2D(M.TEXTURE_2D,0,D,D,P,w),new c(M,F,z,O,D,P)}function u(M,w){var z=w.dtype,O=w.shape.slice(),D=M.getParameter(M.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>D||O[1]<0||O[1]>D)throw new Error("gl-texture2d: Invalid texture size");var P=x(O,w.stride.slice()),F=0;z==="float32"?F=M.FLOAT:z==="float64"?(F=M.FLOAT,P=!1,z="float32"):z==="uint8"?F=M.UNSIGNED_BYTE:(F=M.UNSIGNED_BYTE,P=!1,z="uint8");var R=0;if(O.length===2)R=M.LUMINANCE,O=[O[0],O[1],1],w=e(w.data,O,[w.stride[0],w.stride[1],1],w.offset);else if(O.length===3)if(O[2]===1)R=M.ALPHA;else if(O[2]===2)R=M.LUMINANCE_ALPHA;else if(O[2]===3)R=M.RGB;else if(O[2]===4)R=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===M.FLOAT&&!M.getExtension("OES_texture_float")&&(F=M.UNSIGNED_BYTE,P=!1);var N,B,q=w.size;if(P)w.offset===0&&w.data.length===q?N=w.data:N=w.data.subarray(w.offset,w.offset+q);else{var V=[O[2],O[2]*O[0],1];B=n.malloc(q,z);var J=e(B,O,V,0);(z==="float32"||z==="float64")&&F===M.UNSIGNED_BYTE?_(J,w):l.assign(J,w),N=B.subarray(0,q)}var it=y(M);return M.texImage2D(M.TEXTURE_2D,0,R,O[0],O[1],0,R,F,N),P||n.free(B),new c(M,it,O[0],O[1],R,F)}function m(M){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||b(M),typeof arguments[1]=="number")return A(M,arguments[1],arguments[2],arguments[3]||M.RGBA,arguments[4]||M.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return A(M,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var w=arguments[1],z=h(w)?w:w.raw;if(z)return C(M,z,w.width|0,w.height|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(w.shape&&w.data&&w.stride)return u(M,w)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function d(r,e,l){e?e.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(l){if(l.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var s=0;s<l.length;++s){var o=l[s];if(o.buffer){var f=o.buffer,b=o.size||4,h=o.type||r.FLOAT,_=!!o.normalized,a=o.stride||0,c=o.offset||0;f.bind(),r.enableVertexAttribArray(s),r.vertexAttribPointer(s,b,h,_,a,c)}else{if(typeof o=="number")r.vertexAttrib1f(s,o);else if(o.length===1)r.vertexAttrib1f(s,o[0]);else if(o.length===2)r.vertexAttrib2f(s,o[0],o[1]);else if(o.length===3)r.vertexAttrib3f(s,o[0],o[1],o[2]);else if(o.length===4)r.vertexAttrib4f(s,o[0],o[1],o[2],o[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(s)}}for(;s<n;++s)r.disableVertexAttribArray(s)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var s=0;s<n;++s)r.disableVertexAttribArray(s)}}v.exports=d},870:function(v,d,r){var e=r(1433);function l(s){this.gl=s,this._elements=null,this._attributes=null,this._elementsType=s.UNSIGNED_SHORT}l.prototype.bind=function(){e(this.gl,this._elements,this._attributes)},l.prototype.update=function(s,o,f){this._elements=o,this._attributes=s,this._elementsType=f||this.gl.UNSIGNED_SHORT},l.prototype.dispose=function(){},l.prototype.unbind=function(){},l.prototype.draw=function(s,o,f){f=f||0;var b=this.gl;this._elements?b.drawElements(s,o,this._elementsType,f):b.drawArrays(s,f,o)};function n(s){return new l(s)}v.exports=n},7518:function(v,d,r){var e=r(1433);function l(o,f,b,h,_,a){this.location=o,this.dimension=f,this.a=b,this.b=h,this.c=_,this.d=a}l.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(o,f,b){this.gl=o,this._ext=f,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(o,f,b){if(this.bind(),e(this.gl,f,o),this.unbind(),this._attribs.length=0,o)for(var h=0;h<o.length;++h){var _=o[h];typeof _=="number"?this._attribs.push(new l(h,1,_)):Array.isArray(_)&&this._attribs.push(new l(h,_.length,_[0],_[1],_[2],_[3]))}this._useElements=!!f,this._elementsType=b||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(o,f,b){b=b||0;var h=this.gl;this._useElements?h.drawElements(o,f,this._elementsType,b):h.drawArrays(o,b,f)};function s(o,f){return new n(o,f,f.createVertexArrayOES())}v.exports=s},8116:function(v,d,r){var e=r(7518),l=r(870);function n(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}function s(o,f,b,h){var _=o.createVertexArray?new n(o):o.getExtension("OES_vertex_array_object"),a;return _?a=e(o,_):a=l(o),a.update(f,b,h),a}v.exports=s},5632:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]+l[0],r[1]=e[1]+l[1],r[2]=e[2]+l[2],r}},8192:function(v,d,r){v.exports=s;var e=r(2825),l=r(3536),n=r(244);function s(o,f){var b=e(o[0],o[1],o[2]),h=e(f[0],f[1],f[2]);l(b,b),l(h,h);var _=n(b,h);return _>1?0:Math.acos(_)}},9226:function(v){v.exports=d;function d(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r}},3126:function(v){v.exports=d;function d(r){var e=new Float32Array(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}},3990:function(v){v.exports=d;function d(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}},1091:function(v){v.exports=d;function d(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=l[0],b=l[1],h=l[2];return r[0]=s*h-o*b,r[1]=o*f-n*h,r[2]=n*b-s*f,r}},5455:function(v,d,r){v.exports=r(7056)},7056:function(v){v.exports=d;function d(r,e){var l=e[0]-r[0],n=e[1]-r[1],s=e[2]-r[2];return Math.sqrt(l*l+n*n+s*s)}},4008:function(v,d,r){v.exports=r(6690)},6690:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]/l[0],r[1]=e[1]/l[1],r[2]=e[2]/l[2],r}},244:function(v){v.exports=d;function d(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}},2613:function(v){v.exports=1e-6},9922:function(v,d,r){v.exports=l;var e=r(2613);function l(n,s){var o=n[0],f=n[1],b=n[2],h=s[0],_=s[1],a=s[2];return Math.abs(o-h)<=e*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(f-_)<=e*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(b-a)<=e*Math.max(1,Math.abs(b),Math.abs(a))}},9265:function(v){v.exports=d;function d(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}},2681:function(v){v.exports=d;function d(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r}},5137:function(v,d,r){v.exports=l;var e=r(1091)();function l(n,s,o,f,b,h){var _,a;for(s||(s=3),o||(o=0),f?a=Math.min(f*s+o,n.length):a=n.length,_=o;_<a;_+=s)e[0]=n[_],e[1]=n[_+1],e[2]=n[_+2],b(e,e,h),n[_]=e[0],n[_+1]=e[1],n[_+2]=e[2];return n}},2825:function(v){v.exports=d;function d(r,e,l){var n=new Float32Array(3);return n[0]=r,n[1]=e,n[2]=l,n}},2931:function(v,d,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=d;function d(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r}},868:function(v,d,r){v.exports=r(1387)},1387:function(v){v.exports=d;function d(r){var e=r[0],l=r[1],n=r[2];return Math.sqrt(e*e+l*l+n*n)}},6658:function(v){v.exports=d;function d(r,e,l,n){var s=e[0],o=e[1],f=e[2];return r[0]=s+n*(l[0]-s),r[1]=o+n*(l[1]-o),r[2]=f+n*(l[2]-f),r}},7417:function(v){v.exports=d;function d(r,e,l){return r[0]=Math.max(e[0],l[0]),r[1]=Math.max(e[1],l[1]),r[2]=Math.max(e[2],l[2]),r}},8107:function(v){v.exports=d;function d(r,e,l){return r[0]=Math.min(e[0],l[0]),r[1]=Math.min(e[1],l[1]),r[2]=Math.min(e[2],l[2]),r}},4505:function(v,d,r){v.exports=r(5847)},5847:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]*l[0],r[1]=e[1]*l[1],r[2]=e[2]*l[2],r}},5093:function(v){v.exports=d;function d(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r}},3536:function(v){v.exports=d;function d(r,e){var l=e[0],n=e[1],s=e[2],o=l*l+n*n+s*s;return o>0&&(o=1/Math.sqrt(o),r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o),r}},7636:function(v){v.exports=d;function d(r,e){e=e||1;var l=Math.random()*2*Math.PI,n=Math.random()*2-1,s=Math.sqrt(1-n*n)*e;return r[0]=Math.cos(l)*s,r[1]=Math.sin(l)*s,r[2]=n*e,r}},6894:function(v){v.exports=d;function d(r,e,l,n){var s=l[1],o=l[2],f=e[1]-s,b=e[2]-o,h=Math.sin(n),_=Math.cos(n);return r[0]=e[0],r[1]=s+f*_-b*h,r[2]=o+f*h+b*_,r}},109:function(v){v.exports=d;function d(r,e,l,n){var s=l[0],o=l[2],f=e[0]-s,b=e[2]-o,h=Math.sin(n),_=Math.cos(n);return r[0]=s+b*h+f*_,r[1]=e[1],r[2]=o+b*_-f*h,r}},8692:function(v){v.exports=d;function d(r,e,l,n){var s=l[0],o=l[1],f=e[0]-s,b=e[1]-o,h=Math.sin(n),_=Math.cos(n);return r[0]=s+f*_-b*h,r[1]=o+f*h+b*_,r[2]=e[2],r}},2447:function(v){v.exports=d;function d(r,e){return r[0]=Math.round(e[0]),r[1]=Math.round(e[1]),r[2]=Math.round(e[2]),r}},6621:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]*l,r[1]=e[1]*l,r[2]=e[2]*l,r}},8489:function(v){v.exports=d;function d(r,e,l,n){return r[0]=e[0]+l[0]*n,r[1]=e[1]+l[1]*n,r[2]=e[2]+l[2]*n,r}},1463:function(v){v.exports=d;function d(r,e,l,n){return r[0]=e,r[1]=l,r[2]=n,r}},6141:function(v,d,r){v.exports=r(2953)},5486:function(v,d,r){v.exports=r(3066)},2953:function(v){v.exports=d;function d(r,e){var l=e[0]-r[0],n=e[1]-r[1],s=e[2]-r[2];return l*l+n*n+s*s}},3066:function(v){v.exports=d;function d(r){var e=r[0],l=r[1],n=r[2];return e*e+l*l+n*n}},2229:function(v,d,r){v.exports=r(6843)},6843:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]-l[0],r[1]=e[1]-l[1],r[2]=e[2]-l[2],r}},492:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2];return r[0]=n*l[0]+s*l[3]+o*l[6],r[1]=n*l[1]+s*l[4]+o*l[7],r[2]=n*l[2]+s*l[5]+o*l[8],r}},5673:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=l[3]*n+l[7]*s+l[11]*o+l[15];return f=f||1,r[0]=(l[0]*n+l[4]*s+l[8]*o+l[12])/f,r[1]=(l[1]*n+l[5]*s+l[9]*o+l[13])/f,r[2]=(l[2]*n+l[6]*s+l[10]*o+l[14])/f,r}},264:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=l[0],b=l[1],h=l[2],_=l[3],a=_*n+b*o-h*s,c=_*s+h*n-f*o,p=_*o+f*s-b*n,x=-f*n-b*s-h*o;return r[0]=a*_+x*-f+c*-h-p*-b,r[1]=c*_+x*-b+p*-f-a*-h,r[2]=p*_+x*-h+a*-b-c*-f,r}},4361:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]+l[0],r[1]=e[1]+l[1],r[2]=e[2]+l[2],r[3]=e[3]+l[3],r}},2335:function(v){v.exports=d;function d(r){var e=new Float32Array(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}},2933:function(v){v.exports=d;function d(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}},7536:function(v){v.exports=d;function d(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=d;function d(r,e){var l=e[0]-r[0],n=e[1]-r[1],s=e[2]-r[2],o=e[3]-r[3];return Math.sqrt(l*l+n*n+s*s+o*o)}},1373:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]/l[0],r[1]=e[1]/l[1],r[2]=e[2]/l[2],r[3]=e[3]/l[3],r}},3750:function(v){v.exports=d;function d(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}},3390:function(v){v.exports=d;function d(r,e,l,n){var s=new Float32Array(4);return s[0]=r,s[1]=e,s[2]=l,s[3]=n,s}},9970:function(v,d,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=d;function d(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r[3]=1/e[3],r}},6808:function(v){v.exports=d;function d(r){var e=r[0],l=r[1],n=r[2],s=r[3];return Math.sqrt(e*e+l*l+n*n+s*s)}},2573:function(v){v.exports=d;function d(r,e,l,n){var s=e[0],o=e[1],f=e[2],b=e[3];return r[0]=s+n*(l[0]-s),r[1]=o+n*(l[1]-o),r[2]=f+n*(l[2]-f),r[3]=b+n*(l[3]-b),r}},160:function(v){v.exports=d;function d(r,e,l){return r[0]=Math.max(e[0],l[0]),r[1]=Math.max(e[1],l[1]),r[2]=Math.max(e[2],l[2]),r[3]=Math.max(e[3],l[3]),r}},2334:function(v){v.exports=d;function d(r,e,l){return r[0]=Math.min(e[0],l[0]),r[1]=Math.min(e[1],l[1]),r[2]=Math.min(e[2],l[2]),r[3]=Math.min(e[3],l[3]),r}},3576:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]*l[0],r[1]=e[1]*l[1],r[2]=e[2]*l[2],r[3]=e[3]*l[3],r}},1498:function(v){v.exports=d;function d(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r}},5177:function(v){v.exports=d;function d(r,e){var l=e[0],n=e[1],s=e[2],o=e[3],f=l*l+n*n+s*s+o*o;return f>0&&(f=1/Math.sqrt(f),r[0]=l*f,r[1]=n*f,r[2]=s*f,r[3]=o*f),r}},9131:function(v,d,r){var e=r(5177),l=r(9288);v.exports=n;function n(s,o){return o=o||1,s[0]=Math.random(),s[1]=Math.random(),s[2]=Math.random(),s[3]=Math.random(),e(s,s),l(s,s,o),s}},9288:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]*l,r[1]=e[1]*l,r[2]=e[2]*l,r[3]=e[3]*l,r}},4844:function(v){v.exports=d;function d(r,e,l,n){return r[0]=e[0]+l[0]*n,r[1]=e[1]+l[1]*n,r[2]=e[2]+l[2]*n,r[3]=e[3]+l[3]*n,r}},4578:function(v){v.exports=d;function d(r,e,l,n,s){return r[0]=e,r[1]=l,r[2]=n,r[3]=s,r}},7960:function(v){v.exports=d;function d(r,e){var l=e[0]-r[0],n=e[1]-r[1],s=e[2]-r[2],o=e[3]-r[3];return l*l+n*n+s*s+o*o}},483:function(v){v.exports=d;function d(r){var e=r[0],l=r[1],n=r[2],s=r[3];return e*e+l*l+n*n+s*s}},6860:function(v){v.exports=d;function d(r,e,l){return r[0]=e[0]-l[0],r[1]=e[1]-l[1],r[2]=e[2]-l[2],r[3]=e[3]-l[3],r}},5352:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=e[3];return r[0]=l[0]*n+l[4]*s+l[8]*o+l[12]*f,r[1]=l[1]*n+l[5]*s+l[9]*o+l[13]*f,r[2]=l[2]*n+l[6]*s+l[10]*o+l[14]*f,r[3]=l[3]*n+l[7]*s+l[11]*o+l[15]*f,r}},4041:function(v){v.exports=d;function d(r,e,l){var n=e[0],s=e[1],o=e[2],f=l[0],b=l[1],h=l[2],_=l[3],a=_*n+b*o-h*s,c=_*s+h*n-f*o,p=_*o+f*s-b*n,x=-f*n-b*s-h*o;return r[0]=a*_+x*-f+c*-h-p*-b,r[1]=c*_+x*-b+p*-f-a*-h,r[2]=p*_+x*-h+a*-b-c*-f,r[3]=e[3],r}},1848:function(v,d,r){var e=r(4905),l=r(6468);v.exports=n;function n(s){for(var o=Array.isArray(s)?s:e(s),f=0;f<o.length;f++){var b=o[f];if(b.type==="preprocessor"){var h=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var _=h[1],a=h[2];return(_?l(a):a).trim()}}}}},5874:function(v,d,r){v.exports=w;var e=r(620),l=r(7827),n=r(6852),s=r(7932),o=r(3508),f=999,b=9999,h=0,_=1,a=2,c=3,p=4,x=5,k=6,y=7,A=8,C=9,u=10,m=11,M=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function w(z){var O=0,D=0,P=f,F,R,N=[],B=[],q=1,V=0,J=0,it=!1,nt=!1,Y="",Z;z=z||{};var $=n,G=e;z.version==="300 es"&&($=o,G=s);for(var rt={},ot={},O=0;O<$.length;O++)rt[$[O]]=!0;for(var O=0;O<G.length;O++)ot[G[O]]=!0;return function(Pt){return B=[],Pt!==null?H(Pt):at()};function W(Pt){Pt.length&&B.push({type:M[P],data:Pt,position:J,line:q,column:V})}function H(Pt){O=0,Pt.toString&&(Pt=Pt.toString()),Y+=Pt.replace(/\r\n/g,`
`),Z=Y.length;for(var Et;F=Y[O],O<Z;){switch(Et=O,P){case h:O=xt();break;case _:O=yt();break;case a:O=ft();break;case c:O=Lt();break;case p:O=vt();break;case m:O=mt();break;case x:O=At();break;case b:O=Ot();break;case C:O=ct();break;case f:O=Q();break}if(Et!==O)switch(Y[Et]){case`
`:V=0,++q;break;default:++V;break}}return D+=O,Y=Y.slice(O),B}function at(Pt){return N.length&&W(N.join("")),P=u,W("(eof)"),B}function Q(){return N=N.length?[]:N,R==="/"&&F==="*"?(J=D+O-1,P=h,R=F,O+1):R==="/"&&F==="/"?(J=D+O-1,P=_,R=F,O+1):F==="#"?(P=a,J=D+O,O):/\s/.test(F)?(P=C,J=D+O,O):(it=/\d/.test(F),nt=/[^\w_]/.test(F),J=D+O,P=it?p:nt?c:b,O)}function ct(){return/[^\s]/g.test(F)?(W(N.join("")),P=f,O):(N.push(F),R=F,O+1)}function ft(){return(F==="\r"||F===`
`)&&R!=="\\"?(W(N.join("")),P=f,O):(N.push(F),R=F,O+1)}function yt(){return ft()}function xt(){return F==="/"&&R==="*"?(N.push(F),W(N.join("")),P=f,O+1):(N.push(F),R=F,O+1)}function Lt(){if(R==="."&&/\d/.test(F))return P=x,O;if(R==="/"&&F==="*")return P=h,O;if(R==="/"&&F==="/")return P=_,O;if(F==="."&&N.length){for(;gt(N););return P=x,O}if(F===";"||F===")"||F==="("){if(N.length)for(;gt(N););return W(F),P=f,O+1}var Pt=N.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||Pt){for(;gt(N););return P=f,O}return N.push(F),R=F,O+1}function gt(Pt){var Et=0,Nt,ne;do{if(Nt=l.indexOf(Pt.slice(0,Pt.length+Et).join("")),ne=l[Nt],Nt===-1){if(Et--+Pt.length>0)continue;ne=Pt.slice(0,1).join("")}return W(ne),J+=ne.length,N=N.slice(ne.length),N.length}while(!0)}function mt(){return/[^a-fA-F0-9]/.test(F)?(W(N.join("")),P=f,O):(N.push(F),R=F,O+1)}function vt(){return F==="."||/[eE]/.test(F)?(N.push(F),P=x,R=F,O+1):F==="x"&&N.length===1&&N[0]==="0"?(P=m,N.push(F),R=F,O+1):/[^\d]/.test(F)?(W(N.join("")),P=f,O):(N.push(F),R=F,O+1)}function At(){return F==="f"&&(N.push(F),R=F,O+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(R)?(N.push(F),R=F,O+1):/[^\d]/.test(F)?(W(N.join("")),P=f,O):(N.push(F),R=F,O+1)}function Ot(){if(/[^\d\w_]/.test(F)){var Pt=N.join("");return ot[Pt]?P=A:rt[Pt]?P=y:P=k,W(N.join("")),P=f,O}return N.push(F),R=F,O+1}}},3508:function(v,d,r){var e=r(6852);e=e.slice().filter(function(l){return!/^(gl\_|texture)/.test(l)}),v.exports=e.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,d,r){var e=r(620);v.exports=e.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,d,r){var e=r(5874);v.exports=l;function l(n,s){var o=e(s),f=[];return f=f.concat(o(n)),f=f.concat(o(null)),f}},3236:function(v){v.exports=function(d){typeof d=="string"&&(d=[d]);for(var r=[].slice.call(arguments,1),e=[],l=0;l<d.length-1;l++)e.push(d[l],r[l]||"");return e.push(d[l]),e.join("")}},7520:function(v,d,r){var e=r(9507);function l(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{n=!1}return n}v.exports=e&&l()},3778:function(v,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(r,e,l,n,s){var o,f,b=s*8-n-1,h=(1<<b)-1,_=h>>1,a=-7,c=l?s-1:0,p=l?-1:1,x=r[e+c];for(c+=p,o=x&(1<<-a)-1,x>>=-a,a+=b;a>0;o=o*256+r[e+c],c+=p,a-=8);for(f=o&(1<<-a)-1,o>>=-a,a+=n;a>0;f=f*256+r[e+c],c+=p,a-=8);if(o===0)o=1-_;else{if(o===h)return f?NaN:(x?-1:1)*(1/0);f=f+Math.pow(2,n),o=o-_}return(x?-1:1)*f*Math.pow(2,o-n)},d.write=function(r,e,l,n,s,o){var f,b,h,_=o*8-s-1,a=(1<<_)-1,c=a>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:o-1,k=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(b=isNaN(e)?1:0,f=a):(f=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-f))<1&&(f--,h*=2),f+c>=1?e+=p/h:e+=p*Math.pow(2,1-c),e*h>=2&&(f++,h/=2),f+c>=a?(b=0,f=a):f+c>=1?(b=(e*h-1)*Math.pow(2,s),f=f+c):(b=e*Math.pow(2,c-1)*Math.pow(2,s),f=0));s>=8;r[l+x]=b&255,x+=k,b/=256,s-=8);for(f=f<<s|b,_+=s;_>0;r[l+x]=f&255,x+=k,f/=256,_-=8);r[l+x-k]|=y*128}},8954:function(v,d,r){v.exports=c;var e=r(3250),l=r(6803).Fw;function n(p,x,k){this.vertices=p,this.adjacent=x,this.boundary=k,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function s(p,x,k){this.vertices=p,this.cell=x,this.index=k}function o(p,x){return l(p.vertices,x.vertices)}function f(p){return function(){var x=this.tuple;return p.apply(this,x)}}function b(p){var x=e[p+1];return x||(x=e),f(x)}var h=[];function _(p,x,k){this.dimension=p,this.vertices=x,this.simplices=k,this.interior=k.filter(function(C){return!C.boundary}),this.tuple=new Array(p+1);for(var y=0;y<=p;++y)this.tuple[y]=this.vertices[y];var A=h[p];A||(A=h[p]=b(p)),this.orient=A}var a=_.prototype;a.handleBoundaryDegeneracy=function(p,x){var k=this.dimension,y=this.vertices.length-1,A=this.tuple,C=this.vertices,u=[p];for(p.lastVisited=-y;u.length>0;){p=u.pop();for(var m=p.adjacent,M=0;M<=k;++M){var w=m[M];if(!(!w.boundary||w.lastVisited<=-y)){for(var z=w.vertices,O=0;O<=k;++O){var D=z[O];D<0?A[O]=x:A[O]=C[D]}var P=this.orient();if(P>0)return w;w.lastVisited=-y,P===0&&u.push(w)}}}return null},a.walk=function(p,x){var k=this.vertices.length-1,y=this.dimension,A=this.vertices,C=this.tuple,u=x?this.interior.length*Math.random()|0:this.interior.length-1,m=this.interior[u];t:for(;!m.boundary;){for(var M=m.vertices,w=m.adjacent,z=0;z<=y;++z)C[z]=A[M[z]];m.lastVisited=k;for(var z=0;z<=y;++z){var O=w[z];if(!(O.lastVisited>=k)){var D=C[z];C[z]=p;var P=this.orient();if(C[z]=D,P<0){m=O;continue t}else O.boundary?O.lastVisited=-k:O.lastVisited=k}}return}return m},a.addPeaks=function(p,x){var k=this.vertices.length-1,y=this.dimension,A=this.vertices,C=this.tuple,u=this.interior,m=this.simplices,M=[x];x.lastVisited=k,x.vertices[x.vertices.indexOf(-1)]=k,x.boundary=!1,u.push(x);for(var w=[];M.length>0;){var x=M.pop(),z=x.vertices,O=x.adjacent,D=z.indexOf(k);if(!(D<0)){for(var P=0;P<=y;++P)if(P!==D){var F=O[P];if(!(!F.boundary||F.lastVisited>=k)){var R=F.vertices;if(F.lastVisited!==-k){for(var N=0,B=0;B<=y;++B)R[B]<0?(N=B,C[B]=p):C[B]=A[R[B]];var q=this.orient();if(q>0){R[N]=k,F.boundary=!1,u.push(F),M.push(F),F.lastVisited=k;continue}else F.lastVisited=-k}var V=F.adjacent,J=z.slice(),it=O.slice(),nt=new n(J,it,!0);m.push(nt);var Y=V.indexOf(x);if(!(Y<0)){V[Y]=nt,it[D]=F,J[P]=-1,it[P]=x,O[P]=nt,nt.flip();for(var B=0;B<=y;++B){var Z=J[B];if(!(Z<0||Z===k)){for(var $=new Array(y-1),G=0,rt=0;rt<=y;++rt){var ot=J[rt];ot<0||rt===B||($[G++]=ot)}w.push(new s($,nt,B))}}}}}}}w.sort(o);for(var P=0;P+1<w.length;P+=2){var W=w[P],H=w[P+1],at=W.index,Q=H.index;at<0||Q<0||(W.cell.adjacent[W.index]=H.cell,H.cell.adjacent[H.index]=W.cell)}},a.insert=function(p,x){var k=this.vertices;k.push(p);var y=this.walk(p,x);if(y){for(var A=this.dimension,C=this.tuple,u=0;u<=A;++u){var m=y.vertices[u];m<0?C[u]=p:C[u]=k[m]}var M=this.orient(C);M<0||M===0&&(y=this.handleBoundaryDegeneracy(y,p),!y)||this.addPeaks(p,y)}},a.boundary=function(){for(var p=this.dimension,x=[],k=this.simplices,y=k.length,A=0;A<y;++A){var C=k[A];if(C.boundary){for(var u=new Array(p),m=C.vertices,M=0,w=0,z=0;z<=p;++z)m[z]>=0?u[M++]=m[z]:w=z&1;if(w===(p&1)){var O=u[0];u[0]=u[1],u[1]=O}x.push(u)}}return x};function c(p,x){var k=p.length;if(k===0)throw new Error("Must have at least d+1 points");var y=p[0].length;if(k<=y)throw new Error("Must input at least d+1 points");var A=p.slice(0,y+1),C=e.apply(void 0,A);if(C===0)throw new Error("Input not in general position");for(var u=new Array(y+1),m=0;m<=y;++m)u[m]=m;C<0&&(u[0]=1,u[1]=0);for(var M=new n(u,new Array(y+1),!1),w=M.adjacent,z=new Array(y+2),m=0;m<=y;++m){for(var O=u.slice(),D=0;D<=y;++D)D===m&&(O[D]=-1);var P=O[0];O[0]=O[1],O[1]=P;var F=new n(O,new Array(y+1),!0);w[m]=F,z[m]=F}z[y+1]=M;for(var m=0;m<=y;++m)for(var O=w[m].vertices,R=w[m].adjacent,D=0;D<=y;++D){var N=O[D];if(N<0){R[D]=M;continue}for(var B=0;B<=y;++B)w[B].vertices.indexOf(N)<0&&(R[D]=w[B])}for(var q=new _(y,A,z),V=!!x,m=y+1;m<k;++m)q.insert(p[m],V);return q.boundary()}},3352:function(v,d,r){var e=r(2478),l=0,n=1,s=2;v.exports=M;function o(w,z,O,D,P){this.mid=w,this.left=z,this.right=O,this.leftPoints=D,this.rightPoints=P,this.count=(z?z.count:0)+(O?O.count:0)+D.length}var f=o.prototype;function b(w,z){w.mid=z.mid,w.left=z.left,w.right=z.right,w.leftPoints=z.leftPoints,w.rightPoints=z.rightPoints,w.count=z.count}function h(w,z){var O=C(z);w.mid=O.mid,w.left=O.left,w.right=O.right,w.leftPoints=O.leftPoints,w.rightPoints=O.rightPoints,w.count=O.count}function _(w,z){var O=w.intervals([]);O.push(z),h(w,O)}function a(w,z){var O=w.intervals([]),D=O.indexOf(z);return D<0?l:(O.splice(D,1),h(w,O),n)}f.intervals=function(w){return w.push.apply(w,this.leftPoints),this.left&&this.left.intervals(w),this.right&&this.right.intervals(w),w},f.insert=function(w){var z=this.count-this.leftPoints.length;if(this.count+=1,w[1]<this.mid)this.left?4*(this.left.count+1)>3*(z+1)?_(this,w):this.left.insert(w):this.left=C([w]);else if(w[0]>this.mid)this.right?4*(this.right.count+1)>3*(z+1)?_(this,w):this.right.insert(w):this.right=C([w]);else{var O=e.ge(this.leftPoints,w,y),D=e.ge(this.rightPoints,w,A);this.leftPoints.splice(O,0,w),this.rightPoints.splice(D,0,w)}},f.remove=function(w){var z=this.count-this.leftPoints;if(w[1]<this.mid){if(!this.left)return l;var O=this.right?this.right.count:0;if(4*O>3*(z-1))return a(this,w);var D=this.left.remove(w);return D===s?(this.left=null,this.count-=1,n):(D===n&&(this.count-=1),D)}else if(w[0]>this.mid){if(!this.right)return l;var P=this.left?this.left.count:0;if(4*P>3*(z-1))return a(this,w);var D=this.right.remove(w);return D===s?(this.right=null,this.count-=1,n):(D===n&&(this.count-=1),D)}else{if(this.count===1)return this.leftPoints[0]===w?s:l;if(this.leftPoints.length===1&&this.leftPoints[0]===w){if(this.left&&this.right){for(var F=this,R=this.left;R.right;)F=R,R=R.right;if(F===this)R.right=this.right;else{var N=this.left,D=this.right;F.count-=R.count,F.right=R.left,R.left=N,R.right=D}b(this,R),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?b(this,this.left):b(this,this.right);return n}for(var N=e.ge(this.leftPoints,w,y);N<this.leftPoints.length&&this.leftPoints[N][0]===w[0];++N)if(this.leftPoints[N]===w){this.count-=1,this.leftPoints.splice(N,1);for(var D=e.ge(this.rightPoints,w,A);D<this.rightPoints.length&&this.rightPoints[D][1]===w[1];++D)if(this.rightPoints[D]===w)return this.rightPoints.splice(D,1),n}return l}};function c(w,z,O){for(var D=0;D<w.length&&w[D][0]<=z;++D){var P=O(w[D]);if(P)return P}}function p(w,z,O){for(var D=w.length-1;D>=0&&w[D][1]>=z;--D){var P=O(w[D]);if(P)return P}}function x(w,z){for(var O=0;O<w.length;++O){var D=z(w[O]);if(D)return D}}f.queryPoint=function(w,z){if(w<this.mid){if(this.left){var O=this.left.queryPoint(w,z);if(O)return O}return c(this.leftPoints,w,z)}else if(w>this.mid){if(this.right){var O=this.right.queryPoint(w,z);if(O)return O}return p(this.rightPoints,w,z)}else return x(this.leftPoints,z)},f.queryInterval=function(w,z,O){if(w<this.mid&&this.left){var D=this.left.queryInterval(w,z,O);if(D)return D}if(z>this.mid&&this.right){var D=this.right.queryInterval(w,z,O);if(D)return D}return z<this.mid?c(this.leftPoints,z,O):w>this.mid?p(this.rightPoints,w,O):x(this.leftPoints,O)};function k(w,z){return w-z}function y(w,z){var O=w[0]-z[0];return O||w[1]-z[1]}function A(w,z){var O=w[1]-z[1];return O||w[0]-z[0]}function C(w){if(w.length===0)return null;for(var z=[],O=0;O<w.length;++O)z.push(w[O][0],w[O][1]);z.sort(k);for(var D=z[z.length>>1],P=[],F=[],R=[],O=0;O<w.length;++O){var N=w[O];N[1]<D?P.push(N):D<N[0]?F.push(N):R.push(N)}var B=R,q=R.slice();return B.sort(y),q.sort(A),new o(D,C(P),C(F),B,q)}function u(w){this.root=w}var m=u.prototype;m.insert=function(w){this.root?this.root.insert(w):this.root=new o(w[0],null,null,[w],[w])},m.remove=function(w){if(this.root){var z=this.root.remove(w);return z===s&&(this.root=null),z!==l}return!1},m.queryPoint=function(w,z){if(this.root)return this.root.queryPoint(w,z)},m.queryInterval=function(w,z,O){if(w<=z&&this.root)return this.root.queryInterval(w,z,O)},Object.defineProperty(m,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(m,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function M(w){return!w||w.length===0?new u(null):new u(C(w))}},7762:function(v){function d(r){for(var e=new Array(r),l=0;l<r;++l)e[l]=l;return e}v.exports=d},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(e){return e!=null&&(d(e)||r(e)||!!e._isBuffer)};function d(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&d(e.slice(0,0))}},5219:function(v){v.exports=function(d){for(var r=d.length,e,l=0;l<r;l++)if(e=d.charCodeAt(l),(e<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},395:function(v){function d(r,e,l){return r*(1-l)+e*l}v.exports=d},2652:function(v,d,r){var e=r(4335),l=r(6864),n=r(1903),s=r(9921),o=r(7608),f=r(5665),b={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=l(),_=l(),a=[0,0,0,0],c=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];v.exports=function(A,C,u,m,M,w){if(C||(C=[0,0,0]),u||(u=[0,0,0]),m||(m=[0,0,0]),M||(M=[0,0,0,1]),w||(w=[0,0,0,1]),!e(h,A)||(n(_,h),_[3]=0,_[7]=0,_[11]=0,_[15]=1,Math.abs(s(_)<1e-8)))return!1;var z=h[3],O=h[7],D=h[11],P=h[12],F=h[13],R=h[14],N=h[15];if(z!==0||O!==0||D!==0){a[0]=z,a[1]=O,a[2]=D,a[3]=N;var B=o(_,_);if(!B)return!1;f(_,_),x(M,a,_)}else M[0]=M[1]=M[2]=0,M[3]=1;if(C[0]=P,C[1]=F,C[2]=R,k(c,h),u[0]=b.length(c[0]),b.normalize(c[0],c[0]),m[0]=b.dot(c[0],c[1]),y(c[1],c[1],c[0],1,-m[0]),u[1]=b.length(c[1]),b.normalize(c[1],c[1]),m[0]/=u[1],m[1]=b.dot(c[0],c[2]),y(c[2],c[2],c[0],1,-m[1]),m[2]=b.dot(c[1],c[2]),y(c[2],c[2],c[1],1,-m[2]),u[2]=b.length(c[2]),b.normalize(c[2],c[2]),m[1]/=u[2],m[2]/=u[2],b.cross(p,c[1],c[2]),b.dot(c[0],p)<0)for(var q=0;q<3;q++)u[q]*=-1,c[q][0]*=-1,c[q][1]*=-1,c[q][2]*=-1;return w[0]=.5*Math.sqrt(Math.max(1+c[0][0]-c[1][1]-c[2][2],0)),w[1]=.5*Math.sqrt(Math.max(1-c[0][0]+c[1][1]-c[2][2],0)),w[2]=.5*Math.sqrt(Math.max(1-c[0][0]-c[1][1]+c[2][2],0)),w[3]=.5*Math.sqrt(Math.max(1+c[0][0]+c[1][1]+c[2][2],0)),c[2][1]>c[1][2]&&(w[0]=-w[0]),c[0][2]>c[2][0]&&(w[1]=-w[1]),c[1][0]>c[0][1]&&(w[2]=-w[2]),!0};function x(A,C,u){var m=C[0],M=C[1],w=C[2],z=C[3];return A[0]=u[0]*m+u[4]*M+u[8]*w+u[12]*z,A[1]=u[1]*m+u[5]*M+u[9]*w+u[13]*z,A[2]=u[2]*m+u[6]*M+u[10]*w+u[14]*z,A[3]=u[3]*m+u[7]*M+u[11]*w+u[15]*z,A}function k(A,C){A[0][0]=C[0],A[0][1]=C[1],A[0][2]=C[2],A[1][0]=C[4],A[1][1]=C[5],A[1][2]=C[6],A[2][0]=C[8],A[2][1]=C[9],A[2][2]=C[10]}function y(A,C,u,m,M){A[0]=C[0]*m+u[0]*M,A[1]=C[1]*m+u[1]*M,A[2]=C[2]*m+u[2]*M}},4335:function(v){v.exports=function(d,r){var e=r[15];if(e===0)return!1;for(var l=1/e,n=0;n<16;n++)d[n]=r[n]*l;return!0}},7442:function(v,d,r){var e=r(6658),l=r(7182),n=r(2652),s=r(9921),o=r(8648),f=a(),b=a(),h=a();v.exports=_;function _(x,k,y,A){if(s(k)===0||s(y)===0)return!1;var C=n(k,f.translate,f.scale,f.skew,f.perspective,f.quaternion),u=n(y,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!C||!u?!1:(e(h.translate,f.translate,b.translate,A),e(h.skew,f.skew,b.skew,A),e(h.scale,f.scale,b.scale,A),e(h.perspective,f.perspective,b.perspective,A),o(h.quaternion,f.quaternion,b.quaternion,A),l(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function a(){return{translate:c(),scale:c(1),skew:c(),perspective:p(),quaternion:p()}}function c(x){return[x||0,x||0,x||0]}function p(){return[0,0,0,1]}},7182:function(v,d,r){var e={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};e.create();var l=e.create();v.exports=function(n,s,o,f,b,h){return e.identity(n),e.fromRotationTranslation(n,h,s),n[3]=b[0],n[7]=b[1],n[11]=b[2],n[15]=b[3],e.identity(l),f[2]!==0&&(l[9]=f[2],e.multiply(n,n,l)),f[1]!==0&&(l[9]=0,l[8]=f[1],e.multiply(n,n,l)),f[0]!==0&&(l[8]=0,l[4]=f[0],e.multiply(n,n,l)),e.scale(n,n,o),n}},4192:function(v,d,r){var e=r(2478),l=r(7442),n=r(7608),s=r(5567),o=r(2408),f=r(7089),b=r(6582),h=r(7656);r(2504);var _=r(3536),a=[0,0,0];v.exports=k;function c(y){this._components=y.slice(),this._time=[0],this.prevMatrix=y.slice(),this.nextMatrix=y.slice(),this.computedMatrix=y.slice(),this.computedInverse=y.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=c.prototype;p.recalcMatrix=function(y){var A=this._time,C=e.le(A,y),u=this.computedMatrix;if(!(C<0)){var m=this._components;if(C===A.length-1)for(var M=16*C,w=0;w<16;++w)u[w]=m[M++];else{for(var z=A[C+1]-A[C],M=16*C,O=this.prevMatrix,D=!0,w=0;w<16;++w)O[w]=m[M++];for(var P=this.nextMatrix,w=0;w<16;++w)P[w]=m[M++],D=D&&O[w]===P[w];if(z<1e-6||D)for(var w=0;w<16;++w)u[w]=O[w];else l(u,O,P,(y-A[C])/z)}var F=this.computedUp;F[0]=u[1],F[1]=u[5],F[2]=u[9],_(F,F);var R=this.computedInverse;n(R,u);var N=this.computedEye,B=R[15];N[0]=R[12]/B,N[1]=R[13]/B,N[2]=R[14]/B;for(var q=this.computedCenter,V=Math.exp(this.computedRadius[0]),w=0;w<3;++w)q[w]=N[w]-u[2+4*w]*V}},p.idle=function(y){if(!(y<this.lastT())){for(var A=this._components,C=A.length-16,u=0;u<16;++u)A.push(A[C++]);this._time.push(y)}},p.flush=function(y){var A=e.gt(this._time,y)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(y,A,C,u){this.recalcMatrix(y),A=A||this.computedEye,C=C||a,u=u||this.computedUp,this.setMatrix(y,b(this.computedMatrix,A,C,u));for(var m=0,M=0;M<3;++M)m+=Math.pow(C[M]-A[M],2);m=Math.log(Math.sqrt(m)),this.computedRadius[0]=m},p.rotate=function(y,A,C,u){this.recalcMatrix(y);var m=this.computedInverse;A&&o(m,m,A),C&&s(m,m,C),u&&f(m,m,u),this.setMatrix(y,n(this.computedMatrix,m))};var x=[0,0,0];p.pan=function(y,A,C,u){x[0]=-(A||0),x[1]=-(C||0),x[2]=-(u||0),this.recalcMatrix(y);var m=this.computedInverse;h(m,m,x),this.setMatrix(y,n(m,m))},p.translate=function(y,A,C,u){x[0]=A||0,x[1]=C||0,x[2]=u||0,this.recalcMatrix(y);var m=this.computedMatrix;h(m,m,x),this.setMatrix(y,m)},p.setMatrix=function(y,A){if(!(y<this.lastT())){this._time.push(y);for(var C=0;C<16;++C)this._components.push(A[C])}},p.setDistance=function(y,A){this.computedRadius[0]=A},p.setDistanceLimits=function(y,A){var C=this._limits;C[0]=y,C[1]=A},p.getDistanceLimits=function(y){var A=this._limits;return y?(y[0]=A[0],y[1]=A[1],y):A};function k(y){y=y||{};var A=y.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new c(A)}},3090:function(v,d,r){v.exports=l;var e=r(3250)[3];function l(n){var s=n.length;if(s<3){for(var o=new Array(s),f=0;f<s;++f)o[f]=f;return s===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:o}for(var b=new Array(s),f=0;f<s;++f)b[f]=f;b.sort(function(A,C){var u=n[A][0]-n[C][0];return u||n[A][1]-n[C][1]});for(var h=[b[0],b[1]],_=[b[0],b[1]],f=2;f<s;++f){for(var a=b[f],c=n[a],p=h.length;p>1&&e(n[h[p-2]],n[h[p-1]],c)<=0;)p-=1,h.pop();for(h.push(a),p=_.length;p>1&&e(n[_[p-2]],n[_[p-1]],c)>=0;)p-=1,_.pop();_.push(a)}for(var o=new Array(_.length+h.length-2),x=0,f=0,k=h.length;f<k;++f)o[x++]=h[f];for(var y=_.length-2;y>0;--y)o[x++]=_[y];return o}},351:function(v,d,r){v.exports=l;var e=r(4687);function l(n,s){s||(s=n,n=window);var o=0,f=0,b=0,h={shift:!1,alt:!1,control:!1,meta:!1},_=!1;function a(w){var z=!1;return"altKey"in w&&(z=z||w.altKey!==h.alt,h.alt=!!w.altKey),"shiftKey"in w&&(z=z||w.shiftKey!==h.shift,h.shift=!!w.shiftKey),"ctrlKey"in w&&(z=z||w.ctrlKey!==h.control,h.control=!!w.ctrlKey),"metaKey"in w&&(z=z||w.metaKey!==h.meta,h.meta=!!w.metaKey),z}function c(w,z){var O=e.x(z),D=e.y(z);"buttons"in z&&(w=z.buttons|0),(w!==o||O!==f||D!==b||a(z))&&(o=w|0,f=O||0,b=D||0,s&&s(o,f,b,h))}function p(w){c(0,w)}function x(){(o||f||b||h.shift||h.alt||h.meta||h.control)&&(f=b=0,o=0,h.shift=h.alt=h.control=h.meta=!1,s&&s(0,0,0,h))}function k(w){a(w)&&s&&s(o,f,b,h)}function y(w){e.buttons(w)===0?c(0,w):c(o,w)}function A(w){c(o|e.buttons(w),w)}function C(w){c(o&~e.buttons(w),w)}function u(){_||(_=!0,n.addEventListener("mousemove",y),n.addEventListener("mousedown",A),n.addEventListener("mouseup",C),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",x),n.addEventListener("keyup",k),n.addEventListener("keydown",k),n.addEventListener("keypress",k),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",k),window.addEventListener("keydown",k),window.addEventListener("keypress",k)))}function m(){_&&(_=!1,n.removeEventListener("mousemove",y),n.removeEventListener("mousedown",A),n.removeEventListener("mouseup",C),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",x),n.removeEventListener("keyup",k),n.removeEventListener("keydown",k),n.removeEventListener("keypress",k),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",k),window.removeEventListener("keydown",k),window.removeEventListener("keypress",k)))}u();var M={element:n};return Object.defineProperties(M,{enabled:{get:function(){return _},set:function(w){w?u():m()},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return f},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),M}},24:function(v){var d={left:0,top:0};v.exports=r;function r(l,n,s){n=n||l.currentTarget||l.srcElement,Array.isArray(s)||(s=[0,0]);var o=l.clientX||0,f=l.clientY||0,b=e(n);return s[0]=o-b.left,s[1]=f-b.top,s}function e(l){return l===window||l===document||l===document.body?d:l.getBoundingClientRect()}},4687:function(v,d){function r(s){if(typeof s=="object"){if("buttons"in s)return s.buttons;if("which"in s){var o=s.which;if(o===2)return 4;if(o===3)return 2;if(o>0)return 1<<o-1}else if("button"in s){var o=s.button;if(o===1)return 4;if(o===2)return 2;if(o>=0)return 1<<o}}return 0}d.buttons=r;function e(s){return s.target||s.srcElement||window}d.element=e;function l(s){if(typeof s=="object"){if("offsetX"in s)return s.offsetX;var o=e(s),f=o.getBoundingClientRect();return s.clientX-f.left}return 0}d.x=l;function n(s){if(typeof s=="object"){if("offsetY"in s)return s.offsetY;var o=e(s),f=o.getBoundingClientRect();return s.clientY-f.top}return 0}d.y=n},8512:function(v,d,r){var e=r(665);v.exports=l;function l(n,s,o){typeof n=="function"&&(o=!!s,s=n,n=window);var f=e("ex",n),b=function(h){o&&h.preventDefault();var _=h.deltaX||0,a=h.deltaY||0,c=h.deltaZ||0,p=h.deltaMode,x=1;switch(p){case 1:x=f;break;case 2:x=window.innerHeight;break}if(_*=x,a*=x,c*=x,_||a||c)return s(_,a,c,h)};return n.addEventListener("wheel",b),b}},2640:function(v,d,r){var e=r(1888);v.exports=s;var l={"false,0,1":function(o,f,b,h,_){return function(a,c,p,x){var k=a.shape[0]|0,y=a.shape[1]|0,A=a.data,C=a.offset|0,u=a.stride[0]|0,m=a.stride[1]|0,M=C,w,z=-u|0,O=0,D=-m|0,P=0,F=-u-m|0,R=0,N=u|0,B=m-u*k|0,q=0,V=0,J=0,it=2*k|0,nt=h(it),Y=h(it),Z=0,$=0,G=-1,rt=-1,ot=0,W=-k|0,H=k|0,at=0,Q=-k-1|0,ct=k-1|0,ft=0,yt=0,xt=0;for(q=0;q<k;++q)nt[Z++]=b(A[M],c,p,x),M+=N;if(M+=B,y>0){if(V=1,nt[Z++]=b(A[M],c,p,x),M+=N,k>0)for(q=1,w=A[M],$=nt[Z]=b(w,c,p,x),ot=nt[Z+G],at=nt[Z+W],ft=nt[Z+Q],($!==ot||$!==at||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,ot,at,ft,c,p,x),yt=Y[Z]=J++),Z+=1,M+=N,q=2;q<k;++q)w=A[M],$=nt[Z]=b(w,c,p,x),ot=nt[Z+G],at=nt[Z+W],ft=nt[Z+Q],($!==ot||$!==at||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,ot,at,ft,c,p,x),yt=Y[Z]=J++,ft!==ot&&f(Y[Z+G],yt,R,O,ft,ot,c,p,x)),Z+=1,M+=N;for(M+=B,Z=0,xt=G,G=rt,rt=xt,xt=W,W=H,H=xt,xt=Q,Q=ct,ct=xt,V=2;V<y;++V){if(nt[Z++]=b(A[M],c,p,x),M+=N,k>0)for(q=1,w=A[M],$=nt[Z]=b(w,c,p,x),ot=nt[Z+G],at=nt[Z+W],ft=nt[Z+Q],($!==ot||$!==at||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,ot,at,ft,c,p,x),yt=Y[Z]=J++,ft!==at&&f(Y[Z+W],yt,P,R,at,ft,c,p,x)),Z+=1,M+=N,q=2;q<k;++q)w=A[M],$=nt[Z]=b(w,c,p,x),ot=nt[Z+G],at=nt[Z+W],ft=nt[Z+Q],($!==ot||$!==at||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,ot,at,ft,c,p,x),yt=Y[Z]=J++,ft!==at&&f(Y[Z+W],yt,P,R,at,ft,c,p,x),ft!==ot&&f(Y[Z+G],yt,R,O,ft,ot,c,p,x)),Z+=1,M+=N;V&1&&(Z=0),xt=G,G=rt,rt=xt,xt=W,W=H,H=xt,xt=Q,Q=ct,ct=xt,M+=B}}_(Y),_(nt)}},"false,1,0":function(o,f,b,h,_){return function(a,c,p,x){var k=a.shape[0]|0,y=a.shape[1]|0,A=a.data,C=a.offset|0,u=a.stride[0]|0,m=a.stride[1]|0,M=C,w,z=-u|0,O=0,D=-m|0,P=0,F=-u-m|0,R=0,N=m|0,B=u-m*y|0,q=0,V=0,J=0,it=2*y|0,nt=h(it),Y=h(it),Z=0,$=0,G=-1,rt=-1,ot=0,W=-y|0,H=y|0,at=0,Q=-y-1|0,ct=y-1|0,ft=0,yt=0,xt=0;for(V=0;V<y;++V)nt[Z++]=b(A[M],c,p,x),M+=N;if(M+=B,k>0){if(q=1,nt[Z++]=b(A[M],c,p,x),M+=N,y>0)for(V=1,w=A[M],$=nt[Z]=b(w,c,p,x),at=nt[Z+W],ot=nt[Z+G],ft=nt[Z+Q],($!==at||$!==ot||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,at,ot,ft,c,p,x),yt=Y[Z]=J++),Z+=1,M+=N,V=2;V<y;++V)w=A[M],$=nt[Z]=b(w,c,p,x),at=nt[Z+W],ot=nt[Z+G],ft=nt[Z+Q],($!==at||$!==ot||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,at,ot,ft,c,p,x),yt=Y[Z]=J++,ft!==ot&&f(Y[Z+G],yt,P,R,ot,ft,c,p,x)),Z+=1,M+=N;for(M+=B,Z=0,xt=W,W=H,H=xt,xt=G,G=rt,rt=xt,xt=Q,Q=ct,ct=xt,q=2;q<k;++q){if(nt[Z++]=b(A[M],c,p,x),M+=N,y>0)for(V=1,w=A[M],$=nt[Z]=b(w,c,p,x),at=nt[Z+W],ot=nt[Z+G],ft=nt[Z+Q],($!==at||$!==ot||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,at,ot,ft,c,p,x),yt=Y[Z]=J++,ft!==at&&f(Y[Z+W],yt,R,O,ft,at,c,p,x)),Z+=1,M+=N,V=2;V<y;++V)w=A[M],$=nt[Z]=b(w,c,p,x),at=nt[Z+W],ot=nt[Z+G],ft=nt[Z+Q],($!==at||$!==ot||$!==ft)&&(O=A[M+z],P=A[M+D],R=A[M+F],o(q,V,w,O,P,R,$,at,ot,ft,c,p,x),yt=Y[Z]=J++,ft!==ot&&f(Y[Z+G],yt,P,R,ot,ft,c,p,x),ft!==at&&f(Y[Z+W],yt,R,O,ft,at,c,p,x)),Z+=1,M+=N;q&1&&(Z=0),xt=W,W=H,H=xt,xt=G,G=rt,rt=xt,xt=Q,Q=ct,ct=xt,M+=B}}_(Y),_(nt)}}};function n(o,f,b,h,_,a){var c=[a,_].join(","),p=l[c];return p(o,f,b,e.mallocUint32,e.freeUint32)}function s(o){function f(x){throw new Error("ndarray-extract-contour: "+x)}typeof o!="object"&&f("Must specify arguments");var b=o.order;Array.isArray(b)||f("Must specify order");var h=o.arrayArguments||1;h<1&&f("Must have at least one array argument");var _=o.scalarArguments||0;_<0&&f("Scalar arg count must be > 0"),typeof o.vertex!="function"&&f("Must specify vertex creation function"),typeof o.cell!="function"&&f("Must specify cell creation function"),typeof o.phase!="function"&&f("Must specify phase function");for(var a=o.getters||[],c=new Array(h),p=0;p<h;++p)a.indexOf(p)>=0?c[p]=!0:c[p]=!1;return n(o.vertex,o.cell,o.phase,_,b,c)}},6199:function(v,d,r){var e=r(1338),l={zero:function(k,y,A,C){var u=k[0],m=A[0];C|=0;var M=0,w=m;for(M=0;M<u;++M)y[C]=0,C+=w},fdTemplate1:function(k,y,A,C,u,m,M){var w=k[0],z=A[0],O=m[0],D=-1*z,P=z;C|=0,M|=0;var F=0,R=z,N=O;for(F=0;F<w;++F)u[M]=.5*(y[C+D]-y[C+P]),C+=R,M+=N},fdTemplate2:function(k,y,A,C,u,m,M,w,z,O){var D=k[0],P=k[1],F=A[0],R=A[1],N=m[0],B=m[1],q=z[0],V=z[1],J=-1*F,it=F,nt=-1*R,Y=R;C|=0,M|=0,O|=0;var Z=0,$=0,G=R,rt=F-P*R,ot=B,W=N-P*B,H=V,at=q-P*V;for($=0;$<D;++$){for(Z=0;Z<P;++Z)u[M]=.5*(y[C+J]-y[C+it]),w[O]=.5*(y[C+nt]-y[C+Y]),C+=G,M+=ot,O+=H;C+=rt,M+=W,O+=at}}},n={cdiff:function(k){var y={};return function(A,C,u){var m=A.dtype,M=A.order,w=C.dtype,z=C.order,O=u.dtype,D=u.order,P=[m,M.join(),w,z.join(),O,D.join()].join(),F=y[P];return F||(y[P]=F=k([m,M,w,z,O,D])),F(A.shape.slice(0),A.data,A.stride,A.offset|0,C.data,C.stride,C.offset|0,u.data,u.stride,u.offset|0)}},zero:function(k){var y={};return function(A){var C=A.dtype,u=A.order,m=[C,u.join()].join(),M=y[m];return M||(y[m]=M=k([C,u])),M(A.shape.slice(0),A.data,A.stride,A.offset|0)}},fdTemplate1:function(k){var y={};return function(A,C){var u=A.dtype,m=A.order,M=C.dtype,w=C.order,z=[u,m.join(),M,w.join()].join(),O=y[z];return O||(y[z]=O=k([u,m,M,w])),O(A.shape.slice(0),A.data,A.stride,A.offset|0,C.data,C.stride,C.offset|0)}},fdTemplate2:function(k){var y={};return function(A,C,u){var m=A.dtype,M=A.order,w=C.dtype,z=C.order,O=u.dtype,D=u.order,P=[m,M.join(),w,z.join(),O,D.join()].join(),F=y[P];return F||(y[P]=F=k([m,M,w,z,O,D])),F(A.shape.slice(0),A.data,A.stride,A.offset|0,C.data,C.stride,C.offset|0,u.data,u.stride,u.offset|0)}}};function s(k){var y=n[k.funcName];return y(o.bind(void 0,k))}function o(k){return l[k.funcName]}function f(k){return s({funcName:k.funcName})}var b={},h={},_=f({funcName:"cdiff"}),a=f({funcName:"zero"});function c(k){return k in b?b[k]:b[k]=f({funcName:"fdTemplate"+k})}function p(k,y,A,C){return function(u,m){var M=m.shape.slice();return M[0]>2&&M[1]>2&&C(m.pick(-1,-1).lo(1,1).hi(M[0]-2,M[1]-2),u.pick(-1,-1,0).lo(1,1).hi(M[0]-2,M[1]-2),u.pick(-1,-1,1).lo(1,1).hi(M[0]-2,M[1]-2)),M[1]>2&&(A(m.pick(0,-1).lo(1).hi(M[1]-2),u.pick(0,-1,1).lo(1).hi(M[1]-2)),y(u.pick(0,-1,0).lo(1).hi(M[1]-2))),M[1]>2&&(A(m.pick(M[0]-1,-1).lo(1).hi(M[1]-2),u.pick(M[0]-1,-1,1).lo(1).hi(M[1]-2)),y(u.pick(M[0]-1,-1,0).lo(1).hi(M[1]-2))),M[0]>2&&(A(m.pick(-1,0).lo(1).hi(M[0]-2),u.pick(-1,0,0).lo(1).hi(M[0]-2)),y(u.pick(-1,0,1).lo(1).hi(M[0]-2))),M[0]>2&&(A(m.pick(-1,M[1]-1).lo(1).hi(M[0]-2),u.pick(-1,M[1]-1,0).lo(1).hi(M[0]-2)),y(u.pick(-1,M[1]-1,1).lo(1).hi(M[0]-2))),u.set(0,0,0,0),u.set(0,0,1,0),u.set(M[0]-1,0,0,0),u.set(M[0]-1,0,1,0),u.set(0,M[1]-1,0,0),u.set(0,M[1]-1,1,0),u.set(M[0]-1,M[1]-1,0,0),u.set(M[0]-1,M[1]-1,1,0),u}}function x(k){var y=k.join(),M=h[y];if(M)return M;for(var A=k.length,C=[_,a],u=1;u<=A;++u)C.push(c(u));var m=p,M=m.apply(void 0,C);return h[y]=M,M}v.exports=function(k,y,A){if(Array.isArray(A)||(typeof A=="string"?A=e(y.dimension,A):A=e(y.dimension,"clamp")),y.size===0)return k;if(y.dimension===0)return k.set(0),k;var C=x(A);return C(k,y)}},4317:function(v){function d(s,o){var f=Math.floor(o),b=o-f,h=0<=f&&f<s.shape[0],_=0<=f+1&&f+1<s.shape[0],a=h?+s.get(f):0,c=_?+s.get(f+1):0;return(1-b)*a+b*c}function r(s,o,f){var b=Math.floor(o),h=o-b,_=0<=b&&b<s.shape[0],a=0<=b+1&&b+1<s.shape[0],c=Math.floor(f),p=f-c,x=0<=c&&c<s.shape[1],k=0<=c+1&&c+1<s.shape[1],y=_&&x?s.get(b,c):0,A=_&&k?s.get(b,c+1):0,C=a&&x?s.get(b+1,c):0,u=a&&k?s.get(b+1,c+1):0;return(1-p)*((1-h)*y+h*C)+p*((1-h)*A+h*u)}function e(s,o,f,b){var h=Math.floor(o),_=o-h,a=0<=h&&h<s.shape[0],c=0<=h+1&&h+1<s.shape[0],p=Math.floor(f),x=f-p,k=0<=p&&p<s.shape[1],y=0<=p+1&&p+1<s.shape[1],A=Math.floor(b),C=b-A,u=0<=A&&A<s.shape[2],m=0<=A+1&&A+1<s.shape[2],M=a&&k&&u?s.get(h,p,A):0,w=a&&y&&u?s.get(h,p+1,A):0,z=c&&k&&u?s.get(h+1,p,A):0,O=c&&y&&u?s.get(h+1,p+1,A):0,D=a&&k&&m?s.get(h,p,A+1):0,P=a&&y&&m?s.get(h,p+1,A+1):0,F=c&&k&&m?s.get(h+1,p,A+1):0,R=c&&y&&m?s.get(h+1,p+1,A+1):0;return(1-C)*((1-x)*((1-_)*M+_*z)+x*((1-_)*w+_*O))+C*((1-x)*((1-_)*D+_*F)+x*((1-_)*P+_*R))}function l(s){var o=s.shape.length|0,f=new Array(o),b=new Array(o),h=new Array(o),_=new Array(o),a,c;for(a=0;a<o;++a)c=+arguments[a+1],f[a]=Math.floor(c),b[a]=c-f[a],h[a]=0<=f[a]&&f[a]<s.shape[a],_[a]=0<=f[a]+1&&f[a]+1<s.shape[a];var p=0,x,k,y;t:for(a=0;a<1<<o;++a){for(k=1,y=s.offset,x=0;x<o;++x)if(a&1<<x){if(!_[x])continue t;k*=b[x],y+=s.stride[x]*(f[x]+1)}else{if(!h[x])continue t;k*=1-b[x],y+=s.stride[x]*f[x]}p+=k*s.data[y]}return p}function n(s,o,f,b){switch(s.shape.length){case 0:return 0;case 1:return d(s,o);case 2:return r(s,o,f);case 3:return e(s,o,f,b);default:return l.apply(void 0,arguments)}}v.exports=n,v.exports.d1=d,v.exports.d2=r,v.exports.d3=e},5298:function(v,d){var r={"float64,2,1,0":function(){return function(b,h,_,a,c){var p=b[0],x=b[1],k=b[2],y=_[0],A=_[1],C=_[2];a|=0;var u=0,m=0,M=0,w=C,z=A-k*C,O=y-x*A;for(M=0;M<p;++M){for(m=0;m<x;++m){for(u=0;u<k;++u)h[a]/=c,a+=w;a+=z}a+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(b,h,_,a,c,p,x,k){var y=b[0],A=b[1],C=b[2],u=_[0],m=_[1],M=_[2],w=p[0],z=p[1],O=p[2];a|=0,x|=0;for(var D=a,P=x,F=b[0]|0;F>0;){F<64?(y=F,F=0):(y=64,F-=64);for(var R=b[1]|0;R>0;){R<64?(A=R,R=0):(A=64,R-=64),a=D+F*u+R*m,x=P+F*w+R*z;var N=0,B=0,q=0,V=M,J=u-C*M,it=m-y*u,nt=O,Y=w-C*O,Z=z-y*w;for(q=0;q<A;++q){for(B=0;B<y;++B){for(N=0;N<C;++N)h[a]=c[x]*k,a+=V,x+=nt;a+=J,x+=Y}a+=it,x+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(b,h,_,a,c,p,x){var k=b[0],y=b[1],A=_[0],C=_[1],u=p[0],m=p[1];a|=0,x|=0;var M=0,w=0,z=C,O=A-y*C,D=m,P=u-y*m;for(w=0;w<k;++w){for(M=0;M<y;++M)h[a]=c[x],a+=z,x+=D;a+=O,x+=P}}},"float32,1,0,float32,0,1":function(){return function(b,h,_,a,c,p,x){var k=b[0],y=b[1],A=_[0],C=_[1],u=p[0],m=p[1];a|=0,x|=0;for(var M=a,w=x,z=b[1]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64);for(var O=b[0]|0;O>0;){O<64?(k=O,O=0):(k=64,O-=64),a=M+z*C+O*A,x=w+z*m+O*u;var D=0,P=0,F=C,R=A-y*C,N=m,B=u-y*m;for(P=0;P<k;++P){for(D=0;D<y;++D)h[a]=c[x],a+=F,x+=N;a+=R,x+=B}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(b,h,_,a,c,p,x){var k=b[0],y=b[1],A=b[2],C=_[0],u=_[1],m=_[2],M=p[0],w=p[1],z=p[2];a|=0,x|=0;for(var O=a,D=x,P=b[2]|0;P>0;){P<64?(A=P,P=0):(A=64,P-=64);for(var F=b[0]|0;F>0;){F<64?(k=F,F=0):(k=64,F-=64);for(var R=b[1]|0;R>0;){R<64?(y=R,R=0):(y=64,R-=64),a=O+P*m+F*C+R*u,x=D+P*z+F*M+R*w;var N=0,B=0,q=0,V=m,J=C-A*m,it=u-k*C,nt=z,Y=M-A*z,Z=w-k*M;for(q=0;q<y;++q){for(B=0;B<k;++B){for(N=0;N<A;++N)h[a]=c[x],a+=V,x+=nt;a+=J,x+=Y}a+=it,x+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(b,h,_,a,c,p,x){var k=b[0],y=b[1],A=b[2],C=_[0],u=_[1],m=_[2],M=p[0],w=p[1],z=p[2];a|=0,x|=0;var O=0,D=0,P=0,F=m,R=C-A*m,N=u-k*C,B=z,q=M-A*z,V=w-k*M;for(P=0;P<y;++P){for(D=0;D<k;++D){for(O=0;O<A;++O)h[a]=c[x],a+=F,x+=B;a+=R,x+=q}a+=N,x+=V}}}};function e(b,h){var _=h.join(","),a=r[_];return a()}var l=e,n={mul:function(b){var h={};return function(_,a,c){var p=_.dtype,x=_.order,k=a.dtype,y=a.order,A=c.dtype,C=c.order,u=[p,x.join(),k,y.join(),A,C.join()].join(),m=h[u];return m||(h[u]=m=b([p,x,k,y,A,C])),m(_.shape.slice(0),_.data,_.stride,_.offset|0,a.data,a.stride,a.offset|0,c.data,c.stride,c.offset|0)}},muls:function(b){var h={};return function(_,a,c){var p=_.dtype,x=_.order,k=a.dtype,y=a.order,A=[p,x.join(),k,y.join()].join(),C=h[A];return C||(h[A]=C=b([p,x,k,y])),C(_.shape.slice(0),_.data,_.stride,_.offset|0,a.data,a.stride,a.offset|0,c)}},mulseq:function(b){var h={};return function(_,a){var c=_.dtype,p=_.order,x=[c,p.join()].join(),k=h[x];return k||(h[x]=k=b([c,p])),k(_.shape.slice(0),_.data,_.stride,_.offset|0,a)}},div:function(b){var h={};return function(_,a,c){var p=_.dtype,x=_.order,k=a.dtype,y=a.order,A=c.dtype,C=c.order,u=[p,x.join(),k,y.join(),A,C.join()].join(),m=h[u];return m||(h[u]=m=b([p,x,k,y,A,C])),m(_.shape.slice(0),_.data,_.stride,_.offset|0,a.data,a.stride,a.offset|0,c.data,c.stride,c.offset|0)}},divs:function(b){var h={};return function(_,a,c){var p=_.dtype,x=_.order,k=a.dtype,y=a.order,A=[p,x.join(),k,y.join()].join(),C=h[A];return C||(h[A]=C=b([p,x,k,y])),C(_.shape.slice(0),_.data,_.stride,_.offset|0,a.data,a.stride,a.offset|0,c)}},divseq:function(b){var h={};return function(_,a){var c=_.dtype,p=_.order,x=[c,p.join()].join(),k=h[x];return k||(h[x]=k=b([c,p])),k(_.shape.slice(0),_.data,_.stride,_.offset|0,a)}},assign:function(b){var h={};return function(_,a){var c=_.dtype,p=_.order,x=a.dtype,k=a.order,y=[c,p.join(),x,k.join()].join(),A=h[y];return A||(h[y]=A=b([c,p,x,k])),A(_.shape.slice(0),_.data,_.stride,_.offset|0,a.data,a.stride,a.offset|0)}}};function s(b){var h=n[b.funcName];return h(l.bind(void 0,b))}function o(b){return s({funcName:b.funcName})}var f={mul:"*",div:"/"};(function(){for(var b in f)d[b]=o({funcName:b}),d[b+"s"]=o({funcName:b+"s"}),d[b+"seq"]=o({funcName:b+"seq"})})(),d.assign=o({funcName:"assign"})},9994:function(v,d,r){var e=r(9618),l=r(8277);v.exports=function(n,s){for(var o=[],f=n,b=1;Array.isArray(f);)o.push(f.length),b*=f.length,f=f[0];return o.length===0?e():(s||(s=e(new Float64Array(b),o)),l(s,n),s)}},8277:function(v){function d(){return function(o,f,b,h,_){var a=o[0],c=o[1],p=o[2],x=b[0],k=b[1],y=b[2],A=[0,0,0];h|=0;var C=0,u=0,m=0,M=y,w=k-p*y,z=x-c*k;for(m=0;m<a;++m){for(u=0;u<c;++u){for(C=0;C<p;++C){{var O=_,D;for(D=0;D<A.length-1;++D)O=O[A[D]];f[h]=O[A[A.length-1]]}h+=M,++A[2]}h+=w,A[2]-=p,++A[1]}h+=z,A[1]-=c,++A[0]}}}function r(){return d()}var e=r;function l(o){var f={};return function(b,h){var _=b.dtype,a=b.order,c=[_,a.join()].join(),p=f[c];return p||(f[c]=p=o([_,a])),p(b.shape.slice(0),b.data,b.stride,b.offset|0,h)}}function n(o){return l(e.bind(void 0,o))}function s(o){return n({funcName:o.funcName})}v.exports=s({funcName:"convert"})},7640:function(v,d,r){var e=r(1888);function l(_){switch(_){case"uint32":return[e.mallocUint32,e.freeUint32];default:return null}}var n={"uint32,1,0":function(_,a){return function(c,p,x,k,y,A,C,u,m,M,w){var z,O,D,P=c*y+k,F,R=_(u),N,B,q,V;for(z=c+1;z<=p;++z){for(O=z,P+=y,D=P,N=0,B=P,F=0;F<u;++F)R[N++]=x[B],B+=m;t:for(;O-- >c;){N=0,B=D-y;e:for(F=0;F<u;++F){if(q=x[B],V=R[N],q<V)break t;if(q>V)break e;B+=M,N+=w}for(N=D,B=D-y,F=0;F<u;++F)x[N]=x[B],N+=m,B+=m;D-=y}for(N=D,B=0,F=0;F<u;++F)x[N]=R[B++],N+=m}a(R)}}};function s(_,a){var c=l(a),p=[a,_].join(","),x=n[p];return c?x(c[0],c[1]):x()}var o={"uint32,1,0":function(_,a,c){return function p(x,k,y,A,C,u,m,M,w,z,O){var D=(k-x+1)/6|0,P=x+D,F=k-D,R=x+k>>1,N=R-D,B=R+D,q=P,V=N,J=R,it=B,nt=F,Y=x+1,Z=k-1,$=!0,G,rt,ot,W,H,at,Q,ct,ft,yt=0,xt=0,Lt=0,gt,mt,vt,At,Ot,Pt,Et,Nt,ne,Gt,pe,Vt,ae,oe,ce,le,ye=M,Tt=a(ye),Ft=a(ye);mt=C*q,vt=C*V,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=q,q=V,V=rt;break t}if(Lt<0)break t;le+=z}mt=C*it,vt=C*nt,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=it,it=nt,nt=rt;break t}if(Lt<0)break t;le+=z}mt=C*q,vt=C*J,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=q,q=J,J=rt;break t}if(Lt<0)break t;le+=z}mt=C*V,vt=C*J,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=V,V=J,J=rt;break t}if(Lt<0)break t;le+=z}mt=C*q,vt=C*it,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=q,q=it,it=rt;break t}if(Lt<0)break t;le+=z}mt=C*J,vt=C*it,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=J,J=it,it=rt;break t}if(Lt<0)break t;le+=z}mt=C*V,vt=C*nt,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=V,V=nt,nt=rt;break t}if(Lt<0)break t;le+=z}mt=C*V,vt=C*J,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=V,V=J,J=rt;break t}if(Lt<0)break t;le+=z}mt=C*it,vt=C*nt,le=A;t:for(gt=0;gt<M;++gt){if(Q=mt+le,ct=vt+le,Lt=y[Q]-y[ct],Lt>0){rt=it,it=nt,nt=rt;break t}if(Lt<0)break t;le+=z}for(mt=C*q,vt=C*V,At=C*J,Ot=C*it,Pt=C*nt,Et=C*P,Nt=C*R,ne=C*F,ce=0,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,ft=At+le,Gt=Ot+le,pe=Pt+le,Vt=Et+le,ae=Nt+le,oe=ne+le,Tt[ce]=y[ct],Ft[ce]=y[Gt],$=$&&Tt[ce]===Ft[ce],ot=y[Q],W=y[ft],H=y[pe],y[Vt]=ot,y[ae]=W,y[oe]=H,++ce,le+=w;for(mt=C*N,vt=C*x,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,y[Q]=y[ct],le+=w;for(mt=C*B,vt=C*k,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,y[Q]=y[ct],le+=w;if($)for(at=Y;at<=Z;++at){Q=A+at*C,ce=0;t:for(gt=0;gt<M;++gt){if(Lt=y[Q]-Tt[ce],Lt!==0)break t;ce+=O,Q+=z}if(Lt!==0)if(Lt<0){if(at!==Y)for(mt=C*at,vt=C*Y,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,G=y[Q],y[Q]=y[ct],y[ct]=G,le+=w;++Y}else for(;;){Q=A+Z*C,ce=0;t:for(gt=0;gt<M;++gt){if(Lt=y[Q]-Tt[ce],Lt!==0)break t;ce+=O,Q+=z}if(Lt>0)Z--;else if(Lt<0){for(mt=C*at,vt=C*Y,At=C*Z,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,ft=At+le,G=y[Q],y[Q]=y[ct],y[ct]=y[ft],y[ft]=G,le+=w;++Y,--Z;break}else{for(mt=C*at,vt=C*Z,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,G=y[Q],y[Q]=y[ct],y[ct]=G,le+=w;--Z;break}}}else for(at=Y;at<=Z;++at){Q=A+at*C,ce=0;t:for(gt=0;gt<M;++gt){if(yt=y[Q]-Tt[ce],yt!==0)break t;ce+=O,Q+=z}if(yt<0){if(at!==Y)for(mt=C*at,vt=C*Y,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,G=y[Q],y[Q]=y[ct],y[ct]=G,le+=w;++Y}else{Q=A+at*C,ce=0;t:for(gt=0;gt<M;++gt){if(xt=y[Q]-Ft[ce],xt!==0)break t;ce+=O,Q+=z}if(xt>0)for(;;){Q=A+Z*C,ce=0;t:for(gt=0;gt<M;++gt){if(Lt=y[Q]-Ft[ce],Lt!==0)break t;ce+=O,Q+=z}if(Lt>0){if(--Z<at)break;continue}else{Q=A+Z*C,ce=0;t:for(gt=0;gt<M;++gt){if(Lt=y[Q]-Tt[ce],Lt!==0)break t;ce+=O,Q+=z}if(Lt<0){for(mt=C*at,vt=C*Y,At=C*Z,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,ft=At+le,G=y[Q],y[Q]=y[ct],y[ct]=y[ft],y[ft]=G,le+=w;++Y,--Z}else{for(mt=C*at,vt=C*Z,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,G=y[Q],y[Q]=y[ct],y[ct]=G,le+=w;--Z}break}}}}for(mt=C*x,vt=C*(Y-1),ce=0,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,y[Q]=y[ct],y[ct]=Tt[ce],++ce,le+=w;for(mt=C*k,vt=C*(Z+1),ce=0,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,y[Q]=y[ct],y[ct]=Ft[ce],++ce,le+=w;if(Y-2-x<=32?_(x,Y-2,y,A,C,u,m,M,w,z,O):p(x,Y-2,y,A,C,u,m,M,w,z,O),k-(Z+2)<=32?_(Z+2,k,y,A,C,u,m,M,w,z,O):p(Z+2,k,y,A,C,u,m,M,w,z,O),$){c(Tt),c(Ft);return}if(Y<P&&Z>F){t:for(;;){for(Q=A+Y*C,ce=0,le=A,gt=0;gt<M;++gt){if(y[Q]!==Tt[ce])break t;++ce,Q+=w}++Y}t:for(;;){for(Q=A+Z*C,ce=0,le=A,gt=0;gt<M;++gt){if(y[Q]!==Ft[ce])break t;++ce,Q+=w}--Z}for(at=Y;at<=Z;++at){Q=A+at*C,ce=0;t:for(gt=0;gt<M;++gt){if(yt=y[Q]-Tt[ce],yt!==0)break t;ce+=O,Q+=z}if(yt===0){if(at!==Y)for(mt=C*at,vt=C*Y,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,G=y[Q],y[Q]=y[ct],y[ct]=G,le+=w;++Y}else{Q=A+at*C,ce=0;t:for(gt=0;gt<M;++gt){if(xt=y[Q]-Ft[ce],xt!==0)break t;ce+=O,Q+=z}if(xt===0)for(;;){Q=A+Z*C,ce=0;t:for(gt=0;gt<M;++gt){if(Lt=y[Q]-Ft[ce],Lt!==0)break t;ce+=O,Q+=z}if(Lt===0){if(--Z<at)break;continue}else{Q=A+Z*C,ce=0;t:for(gt=0;gt<M;++gt){if(Lt=y[Q]-Tt[ce],Lt!==0)break t;ce+=O,Q+=z}if(Lt<0){for(mt=C*at,vt=C*Y,At=C*Z,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,ft=At+le,G=y[Q],y[Q]=y[ct],y[ct]=y[ft],y[ft]=G,le+=w;++Y,--Z}else{for(mt=C*at,vt=C*Z,le=A,gt=0;gt<M;++gt)Q=mt+le,ct=vt+le,G=y[Q],y[Q]=y[ct],y[ct]=G,le+=w;--Z}break}}}}}c(Tt),c(Ft),Z-Y<=32?_(Y,Z,y,A,C,u,m,M,w,z,O):p(Y,Z,y,A,C,u,m,M,w,z,O)}}};function f(_,a,c){var p=l(a),x=[a,_].join(","),k=o[x];return _.length>1&&p?k(c,p[0],p[1]):k(c)}var b={"uint32,1,0":function(_,a){return function(c){var p=c.data,x=c.offset|0,k=c.shape,y=c.stride,A=y[0]|0,C=k[0]|0,u=y[1]|0,m=k[1]|0,M=u,w=u,z=1;C<=32?_(0,C-1,p,x,A,u,C,m,M,w,z):a(0,C-1,p,x,A,u,C,m,M,w,z)}}};function h(_,a){var c=[a,_].join(","),p=b[c],x=s(_,a),k=f(_,a,x);return p(x,k)}v.exports=h},446:function(v,d,r){var e=r(7640),l={};function n(s){var o=s.order,f=s.dtype,b=[o,f],h=b.join(":"),_=l[h];return _||(l[h]=_=e(o,f)),_(s),s}v.exports=n},9618:function(v,d,r){var e=r(7163),l=typeof Float64Array<"u";function n(a,c){return a[0]-c[0]}function s(){var a=this.stride,c=new Array(a.length),p;for(p=0;p<c.length;++p)c[p]=[Math.abs(a[p]),p];c.sort(n);var x=new Array(c.length);for(p=0;p<x.length;++p)x[p]=c[p][1];return x}var o={T:function(a){function c(x){this.data=x}var p=c.prototype;return p.dtype=a,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new c(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(x){return new c(x)}},0:function(a,c){function p(k,y){this.data=k,this.offset=y}var x=p.prototype;return x.dtype=a,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new p(this.data,this.offset)},x.pick=function(){return c(this.data)},x.valueOf=x.get=function(){return a==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(k){return a==="generic"?this.data.set(this.offset,k):this.data[this.offset]=k},function(k,y,A,C){return new p(k,C)}},1:function(a,c,p){function x(y,A,C,u){this.data=y,this.shape=[A],this.stride=[C],this.offset=u|0}var k=x.prototype;return k.dtype=a,k.dimension=1,Object.defineProperty(k,"size",{get:function(){return this.shape[0]}}),k.order=[0],k.set=function(y,A){return a==="generic"?this.data.set(this.offset+this.stride[0]*y,A):this.data[this.offset+this.stride[0]*y]=A},k.get=function(y){return a==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},k.index=function(y){return this.offset+this.stride[0]*y},k.hi=function(y){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},k.lo=function(y){var A=this.offset,C=0,u=this.shape[0],m=this.stride[0];return typeof y=="number"&&y>=0&&(C=y|0,A+=m*C,u-=C),new x(this.data,u,m,A)},k.step=function(y){var A=this.shape[0],C=this.stride[0],u=this.offset,m=0,M=Math.ceil;return typeof y=="number"&&(m=y|0,m<0?(u+=C*(A-1),A=M(-A/m)):A=M(A/m),C*=m),new x(this.data,A,C,u)},k.transpose=function(y){y=y===void 0?0:y|0;var A=this.shape,C=this.stride;return new x(this.data,A[y],C[y],this.offset)},k.pick=function(y){var A=[],C=[],u=this.offset;typeof y=="number"&&y>=0?u=u+this.stride[0]*y|0:(A.push(this.shape[0]),C.push(this.stride[0]));var m=c[A.length+1];return m(this.data,A,C,u)},function(y,A,C,u){return new x(y,A[0],C[0],u)}},2:function(a,c,p){function x(y,A,C,u,m,M){this.data=y,this.shape=[A,C],this.stride=[u,m],this.offset=M|0}var k=x.prototype;return k.dtype=a,k.dimension=2,Object.defineProperty(k,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(k,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),k.set=function(y,A,C){return a==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*A,C):this.data[this.offset+this.stride[0]*y+this.stride[1]*A]=C},k.get=function(y,A){return a==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*A):this.data[this.offset+this.stride[0]*y+this.stride[1]*A]},k.index=function(y,A){return this.offset+this.stride[0]*y+this.stride[1]*A},k.hi=function(y,A){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof A!="number"||A<0?this.shape[1]:A|0,this.stride[0],this.stride[1],this.offset)},k.lo=function(y,A){var C=this.offset,u=0,m=this.shape[0],M=this.shape[1],w=this.stride[0],z=this.stride[1];return typeof y=="number"&&y>=0&&(u=y|0,C+=w*u,m-=u),typeof A=="number"&&A>=0&&(u=A|0,C+=z*u,M-=u),new x(this.data,m,M,w,z,C)},k.step=function(y,A){var C=this.shape[0],u=this.shape[1],m=this.stride[0],M=this.stride[1],w=this.offset,z=0,O=Math.ceil;return typeof y=="number"&&(z=y|0,z<0?(w+=m*(C-1),C=O(-C/z)):C=O(C/z),m*=z),typeof A=="number"&&(z=A|0,z<0?(w+=M*(u-1),u=O(-u/z)):u=O(u/z),M*=z),new x(this.data,C,u,m,M,w)},k.transpose=function(y,A){y=y===void 0?0:y|0,A=A===void 0?1:A|0;var C=this.shape,u=this.stride;return new x(this.data,C[y],C[A],u[y],u[A],this.offset)},k.pick=function(y,A){var C=[],u=[],m=this.offset;typeof y=="number"&&y>=0?m=m+this.stride[0]*y|0:(C.push(this.shape[0]),u.push(this.stride[0])),typeof A=="number"&&A>=0?m=m+this.stride[1]*A|0:(C.push(this.shape[1]),u.push(this.stride[1]));var M=c[C.length+1];return M(this.data,C,u,m)},function(y,A,C,u){return new x(y,A[0],A[1],C[0],C[1],u)}},3:function(a,c,p){function x(y,A,C,u,m,M,w,z){this.data=y,this.shape=[A,C,u],this.stride=[m,M,w],this.offset=z|0}var k=x.prototype;return k.dtype=a,k.dimension=3,Object.defineProperty(k,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(k,"order",{get:function(){var y=Math.abs(this.stride[0]),A=Math.abs(this.stride[1]),C=Math.abs(this.stride[2]);return y>A?A>C?[2,1,0]:y>C?[1,2,0]:[1,0,2]:y>C?[2,0,1]:C>A?[0,1,2]:[0,2,1]}}),k.set=function(y,A,C,u){return a==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C,u):this.data[this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C]=u},k.get=function(y,A,C){return a==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C):this.data[this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C]},k.index=function(y,A,C){return this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C},k.hi=function(y,A,C){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof C!="number"||C<0?this.shape[2]:C|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},k.lo=function(y,A,C){var u=this.offset,m=0,M=this.shape[0],w=this.shape[1],z=this.shape[2],O=this.stride[0],D=this.stride[1],P=this.stride[2];return typeof y=="number"&&y>=0&&(m=y|0,u+=O*m,M-=m),typeof A=="number"&&A>=0&&(m=A|0,u+=D*m,w-=m),typeof C=="number"&&C>=0&&(m=C|0,u+=P*m,z-=m),new x(this.data,M,w,z,O,D,P,u)},k.step=function(y,A,C){var u=this.shape[0],m=this.shape[1],M=this.shape[2],w=this.stride[0],z=this.stride[1],O=this.stride[2],D=this.offset,P=0,F=Math.ceil;return typeof y=="number"&&(P=y|0,P<0?(D+=w*(u-1),u=F(-u/P)):u=F(u/P),w*=P),typeof A=="number"&&(P=A|0,P<0?(D+=z*(m-1),m=F(-m/P)):m=F(m/P),z*=P),typeof C=="number"&&(P=C|0,P<0?(D+=O*(M-1),M=F(-M/P)):M=F(M/P),O*=P),new x(this.data,u,m,M,w,z,O,D)},k.transpose=function(y,A,C){y=y===void 0?0:y|0,A=A===void 0?1:A|0,C=C===void 0?2:C|0;var u=this.shape,m=this.stride;return new x(this.data,u[y],u[A],u[C],m[y],m[A],m[C],this.offset)},k.pick=function(y,A,C){var u=[],m=[],M=this.offset;typeof y=="number"&&y>=0?M=M+this.stride[0]*y|0:(u.push(this.shape[0]),m.push(this.stride[0])),typeof A=="number"&&A>=0?M=M+this.stride[1]*A|0:(u.push(this.shape[1]),m.push(this.stride[1])),typeof C=="number"&&C>=0?M=M+this.stride[2]*C|0:(u.push(this.shape[2]),m.push(this.stride[2]));var w=c[u.length+1];return w(this.data,u,m,M)},function(y,A,C,u){return new x(y,A[0],A[1],A[2],C[0],C[1],C[2],u)}},4:function(a,c,p){function x(y,A,C,u,m,M,w,z,O,D){this.data=y,this.shape=[A,C,u,m],this.stride=[M,w,z,O],this.offset=D|0}var k=x.prototype;return k.dtype=a,k.dimension=4,Object.defineProperty(k,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(k,"order",{get:p}),k.set=function(y,A,C,u,m){return a==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u,m):this.data[this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u]=m},k.get=function(y,A,C,u){return a==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u):this.data[this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u]},k.index=function(y,A,C,u){return this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u},k.hi=function(y,A,C,u){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof C!="number"||C<0?this.shape[2]:C|0,typeof u!="number"||u<0?this.shape[3]:u|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},k.lo=function(y,A,C,u){var m=this.offset,M=0,w=this.shape[0],z=this.shape[1],O=this.shape[2],D=this.shape[3],P=this.stride[0],F=this.stride[1],R=this.stride[2],N=this.stride[3];return typeof y=="number"&&y>=0&&(M=y|0,m+=P*M,w-=M),typeof A=="number"&&A>=0&&(M=A|0,m+=F*M,z-=M),typeof C=="number"&&C>=0&&(M=C|0,m+=R*M,O-=M),typeof u=="number"&&u>=0&&(M=u|0,m+=N*M,D-=M),new x(this.data,w,z,O,D,P,F,R,N,m)},k.step=function(y,A,C,u){var m=this.shape[0],M=this.shape[1],w=this.shape[2],z=this.shape[3],O=this.stride[0],D=this.stride[1],P=this.stride[2],F=this.stride[3],R=this.offset,N=0,B=Math.ceil;return typeof y=="number"&&(N=y|0,N<0?(R+=O*(m-1),m=B(-m/N)):m=B(m/N),O*=N),typeof A=="number"&&(N=A|0,N<0?(R+=D*(M-1),M=B(-M/N)):M=B(M/N),D*=N),typeof C=="number"&&(N=C|0,N<0?(R+=P*(w-1),w=B(-w/N)):w=B(w/N),P*=N),typeof u=="number"&&(N=u|0,N<0?(R+=F*(z-1),z=B(-z/N)):z=B(z/N),F*=N),new x(this.data,m,M,w,z,O,D,P,F,R)},k.transpose=function(y,A,C,u){y=y===void 0?0:y|0,A=A===void 0?1:A|0,C=C===void 0?2:C|0,u=u===void 0?3:u|0;var m=this.shape,M=this.stride;return new x(this.data,m[y],m[A],m[C],m[u],M[y],M[A],M[C],M[u],this.offset)},k.pick=function(y,A,C,u){var m=[],M=[],w=this.offset;typeof y=="number"&&y>=0?w=w+this.stride[0]*y|0:(m.push(this.shape[0]),M.push(this.stride[0])),typeof A=="number"&&A>=0?w=w+this.stride[1]*A|0:(m.push(this.shape[1]),M.push(this.stride[1])),typeof C=="number"&&C>=0?w=w+this.stride[2]*C|0:(m.push(this.shape[2]),M.push(this.stride[2])),typeof u=="number"&&u>=0?w=w+this.stride[3]*u|0:(m.push(this.shape[3]),M.push(this.stride[3]));var z=c[m.length+1];return z(this.data,m,M,w)},function(y,A,C,u){return new x(y,A[0],A[1],A[2],A[3],C[0],C[1],C[2],C[3],u)}},5:function(a,c,p){function x(y,A,C,u,m,M,w,z,O,D,P,F){this.data=y,this.shape=[A,C,u,m,M],this.stride=[w,z,O,D,P],this.offset=F|0}var k=x.prototype;return k.dtype=a,k.dimension=5,Object.defineProperty(k,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(k,"order",{get:p}),k.set=function(y,A,C,u,m,M){return a==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u+this.stride[4]*m,M):this.data[this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u+this.stride[4]*m]=M},k.get=function(y,A,C,u,m){return a==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u+this.stride[4]*m):this.data[this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u+this.stride[4]*m]},k.index=function(y,A,C,u,m){return this.offset+this.stride[0]*y+this.stride[1]*A+this.stride[2]*C+this.stride[3]*u+this.stride[4]*m},k.hi=function(y,A,C,u,m){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof C!="number"||C<0?this.shape[2]:C|0,typeof u!="number"||u<0?this.shape[3]:u|0,typeof m!="number"||m<0?this.shape[4]:m|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},k.lo=function(y,A,C,u,m){var M=this.offset,w=0,z=this.shape[0],O=this.shape[1],D=this.shape[2],P=this.shape[3],F=this.shape[4],R=this.stride[0],N=this.stride[1],B=this.stride[2],q=this.stride[3],V=this.stride[4];return typeof y=="number"&&y>=0&&(w=y|0,M+=R*w,z-=w),typeof A=="number"&&A>=0&&(w=A|0,M+=N*w,O-=w),typeof C=="number"&&C>=0&&(w=C|0,M+=B*w,D-=w),typeof u=="number"&&u>=0&&(w=u|0,M+=q*w,P-=w),typeof m=="number"&&m>=0&&(w=m|0,M+=V*w,F-=w),new x(this.data,z,O,D,P,F,R,N,B,q,V,M)},k.step=function(y,A,C,u,m){var M=this.shape[0],w=this.shape[1],z=this.shape[2],O=this.shape[3],D=this.shape[4],P=this.stride[0],F=this.stride[1],R=this.stride[2],N=this.stride[3],B=this.stride[4],q=this.offset,V=0,J=Math.ceil;return typeof y=="number"&&(V=y|0,V<0?(q+=P*(M-1),M=J(-M/V)):M=J(M/V),P*=V),typeof A=="number"&&(V=A|0,V<0?(q+=F*(w-1),w=J(-w/V)):w=J(w/V),F*=V),typeof C=="number"&&(V=C|0,V<0?(q+=R*(z-1),z=J(-z/V)):z=J(z/V),R*=V),typeof u=="number"&&(V=u|0,V<0?(q+=N*(O-1),O=J(-O/V)):O=J(O/V),N*=V),typeof m=="number"&&(V=m|0,V<0?(q+=B*(D-1),D=J(-D/V)):D=J(D/V),B*=V),new x(this.data,M,w,z,O,D,P,F,R,N,B,q)},k.transpose=function(y,A,C,u,m){y=y===void 0?0:y|0,A=A===void 0?1:A|0,C=C===void 0?2:C|0,u=u===void 0?3:u|0,m=m===void 0?4:m|0;var M=this.shape,w=this.stride;return new x(this.data,M[y],M[A],M[C],M[u],M[m],w[y],w[A],w[C],w[u],w[m],this.offset)},k.pick=function(y,A,C,u,m){var M=[],w=[],z=this.offset;typeof y=="number"&&y>=0?z=z+this.stride[0]*y|0:(M.push(this.shape[0]),w.push(this.stride[0])),typeof A=="number"&&A>=0?z=z+this.stride[1]*A|0:(M.push(this.shape[1]),w.push(this.stride[1])),typeof C=="number"&&C>=0?z=z+this.stride[2]*C|0:(M.push(this.shape[2]),w.push(this.stride[2])),typeof u=="number"&&u>=0?z=z+this.stride[3]*u|0:(M.push(this.shape[3]),w.push(this.stride[3])),typeof m=="number"&&m>=0?z=z+this.stride[4]*m|0:(M.push(this.shape[4]),w.push(this.stride[4]));var O=c[M.length+1];return O(this.data,M,w,z)},function(y,A,C,u){return new x(y,A[0],A[1],A[2],A[3],A[4],C[0],C[1],C[2],C[3],C[4],u)}}};function f(a,c){var p=c===-1?"T":String(c),x=o[p];return c===-1?x(a):c===0?x(a,h[a][0]):x(a,h[a],s)}function b(a){if(e(a))return"buffer";if(l)switch(Object.prototype.toString.call(a)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(a)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function _(a,c,p,x){if(a===void 0){var m=h.array[0];return m([])}else typeof a=="number"&&(a=[a]);c===void 0&&(c=[a.length]);var k=c.length;if(p===void 0){p=new Array(k);for(var y=k-1,A=1;y>=0;--y)p[y]=A,A*=c[y]}if(x===void 0){x=0;for(var y=0;y<k;++y)p[y]<0&&(x-=(c[y]-1)*p[y])}for(var C=b(a),u=h[C];u.length<=k+1;)u.push(f(C,u.length-1));var m=u[k+1];return m(a,c,p,x)}v.exports=_},1278:function(v,d,r){var e=r(2361),l=Math.pow(2,-1074),n=-1>>>0;v.exports=s;function s(o,f){if(isNaN(o)||isNaN(f))return NaN;if(o===f)return o;if(o===0)return f<0?-l:l;var b=e.hi(o),h=e.lo(o);return f>o==o>0?h===n?(b+=1,h=0):h+=1:h===0?(h=n,b-=1):h-=1,e.pack(h,b)}},8406:function(v,d){var r=1e-6,e=1e-6;d.vertexNormals=function(l,n,s){for(var o=n.length,f=new Array(o),b=s===void 0?r:s,h=0;h<o;++h)f[h]=[0,0,0];for(var h=0;h<l.length;++h)for(var _=l[h],a=0,c=_[_.length-1],p=_[0],x=0;x<_.length;++x){a=c,c=p,p=_[(x+1)%_.length];for(var k=n[a],y=n[c],A=n[p],C=new Array(3),u=0,m=new Array(3),M=0,w=0;w<3;++w)C[w]=k[w]-y[w],u+=C[w]*C[w],m[w]=A[w]-y[w],M+=m[w]*m[w];if(u*M>b)for(var z=f[c],O=1/Math.sqrt(u*M),w=0;w<3;++w){var D=(w+1)%3,P=(w+2)%3;z[w]+=O*(m[D]*C[P]-m[P]*C[D])}}for(var h=0;h<o;++h){for(var z=f[h],F=0,w=0;w<3;++w)F+=z[w]*z[w];if(F>b)for(var O=1/Math.sqrt(F),w=0;w<3;++w)z[w]*=O;else for(var w=0;w<3;++w)z[w]=0}return f},d.faceNormals=function(l,n,s){for(var o=l.length,f=new Array(o),b=s===void 0?e:s,h=0;h<o;++h){for(var _=l[h],a=new Array(3),c=0;c<3;++c)a[c]=n[_[c]];for(var p=new Array(3),x=new Array(3),c=0;c<3;++c)p[c]=a[1][c]-a[0][c],x[c]=a[2][c]-a[0][c];for(var k=new Array(3),y=0,c=0;c<3;++c){var A=(c+1)%3,C=(c+2)%3;k[c]=p[A]*x[C]-p[C]*x[A],y+=k[c]*k[c]}y>b?y=1/Math.sqrt(y):y=0;for(var c=0;c<3;++c)k[c]*=y;f[h]=k}return f}},4081:function(v){v.exports=d;function d(r,e,l,n,s,o,f,b,h,_){var a=e+o+_;if(c>0){var c=Math.sqrt(a+1);r[0]=.5*(f-h)/c,r[1]=.5*(b-n)/c,r[2]=.5*(l-o)/c,r[3]=.5*c}else{var p=Math.max(e,o,_),c=Math.sqrt(2*p-a+1);e>=p?(r[0]=.5*c,r[1]=.5*(s+l)/c,r[2]=.5*(b+n)/c,r[3]=.5*(f-h)/c):o>=p?(r[0]=.5*(l+s)/c,r[1]=.5*c,r[2]=.5*(h+f)/c,r[3]=.5*(b-n)/c):(r[0]=.5*(n+b)/c,r[1]=.5*(f+h)/c,r[2]=.5*c,r[3]=.5*(l-s)/c)}return r}},9977:function(v,d,r){v.exports=c;var e=r(9215),l=r(6582),n=r(7399),s=r(7608),o=r(4081);function f(p,x,k){return Math.sqrt(Math.pow(p,2)+Math.pow(x,2)+Math.pow(k,2))}function b(p,x,k,y){return Math.sqrt(Math.pow(p,2)+Math.pow(x,2)+Math.pow(k,2)+Math.pow(y,2))}function h(p,x){var k=x[0],y=x[1],A=x[2],C=x[3],u=b(k,y,A,C);u>1e-6?(p[0]=k/u,p[1]=y/u,p[2]=A/u,p[3]=C/u):(p[0]=p[1]=p[2]=0,p[3]=1)}function _(p,x,k){this.radius=e([k]),this.center=e(x),this.rotation=e(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var a=_.prototype;a.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},a.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var x=this.computedRotation;h(x,x);var k=this.computedMatrix;n(k,x);var y=this.computedCenter,A=this.computedEye,C=this.computedUp,u=Math.exp(this.computedRadius[0]);A[0]=y[0]+u*k[2],A[1]=y[1]+u*k[6],A[2]=y[2]+u*k[10],C[0]=k[1],C[1]=k[5],C[2]=k[9];for(var m=0;m<3;++m){for(var M=0,w=0;w<3;++w)M+=k[m+4*w]*A[w];k[12+m]=-M}},a.getMatrix=function(p,x){this.recalcMatrix(p);var k=this.computedMatrix;if(x){for(var y=0;y<16;++y)x[y]=k[y];return x}return k},a.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},a.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},a.pan=function(p,x,k,y){x=x||0,k=k||0,y=y||0,this.recalcMatrix(p);var A=this.computedMatrix,C=A[1],u=A[5],m=A[9],M=f(C,u,m);C/=M,u/=M,m/=M;var w=A[0],z=A[4],O=A[8],D=w*C+z*u+O*m;w-=C*D,z-=u*D,O-=m*D;var P=f(w,z,O);w/=P,z/=P,O/=P,A[2],A[6],A[10];var F=w*x+C*k,R=z*x+u*k,N=O*x+m*k;this.center.move(p,F,R,N);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+y),this.radius.set(p,Math.log(B))},a.rotate=function(p,x,k,y){this.recalcMatrix(p),x=x||0,k=k||0;var A=this.computedMatrix,C=A[0],u=A[4],m=A[8],M=A[1],w=A[5],z=A[9],O=A[2],D=A[6],P=A[10],F=x*C+k*M,R=x*u+k*w,N=x*m+k*z,B=-(D*N-P*R),q=-(P*F-O*N),V=-(O*R-D*F),J=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(q,2)-Math.pow(V,2))),it=b(B,q,V,J);it>1e-6?(B/=it,q/=it,V/=it,J/=it):(B=q=V=0,J=1);var nt=this.computedRotation,Y=nt[0],Z=nt[1],$=nt[2],G=nt[3],rt=Y*J+G*B+Z*V-$*q,ot=Z*J+G*q+$*B-Y*V,W=$*J+G*V+Y*q-Z*B,H=G*J-Y*B-Z*q-$*V;if(y){B=O,q=D,V=P;var at=Math.sin(y)/f(B,q,V);B*=at,q*=at,V*=at,J=Math.cos(x),rt=rt*J+H*B+ot*V-W*q,ot=ot*J+H*q+W*B-rt*V,W=W*J+H*V+rt*q-ot*B,H=H*J-rt*B-ot*q-W*V}var Q=b(rt,ot,W,H);Q>1e-6?(rt/=Q,ot/=Q,W/=Q,H/=Q):(rt=ot=W=0,H=1),this.rotation.set(p,rt,ot,W,H)},a.lookAt=function(p,x,k,y){this.recalcMatrix(p),k=k||this.computedCenter,x=x||this.computedEye,y=y||this.computedUp;var A=this.computedMatrix;l(A,x,k,y);var C=this.computedRotation;o(C,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),h(C,C),this.rotation.set(p,C[0],C[1],C[2],C[3]);for(var u=0,m=0;m<3;++m)u+=Math.pow(k[m]-x[m],2);this.radius.set(p,.5*Math.log(Math.max(u,1e-6))),this.center.set(p,k[0],k[1],k[2])},a.translate=function(p,x,k,y){this.center.move(p,x||0,k||0,y||0)},a.setMatrix=function(p,x){var k=this.computedRotation;o(k,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(k,k),this.rotation.set(p,k[0],k[1],k[2],k[3]);var y=this.computedMatrix;s(y,x);var A=y[15];if(Math.abs(A)>1e-6){var C=y[12]/A,u=y[13]/A,m=y[14]/A;this.recalcMatrix(p);var M=Math.exp(this.computedRadius[0]);this.center.set(p,C-y[2]*M,u-y[6]*M,m-y[10]*M),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},a.setDistance=function(p,x){x>0&&this.radius.set(p,Math.log(x))},a.setDistanceLimits=function(p,x){p>0?p=Math.log(p):p=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=x},a.getDistanceLimits=function(p){var x=this.radius.bounds;return p?(p[0]=Math.exp(x[0][0]),p[1]=Math.exp(x[1][0]),p):[Math.exp(x[0][0]),Math.exp(x[1][0])]},a.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},a.fromJSON=function(p){var x=this.lastT(),k=p.center;k&&this.center.set(x,k[0],k[1],k[2]);var y=p.rotation;y&&this.rotation.set(x,y[0],y[1],y[2],y[3]);var A=p.distance;A&&A>0&&this.radius.set(x,Math.log(A)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function c(p){p=p||{};var x=p.center||[0,0,0],k=p.rotation||[0,0,0,1],y=p.radius||1;x=[].slice.call(x,0,3),k=[].slice.call(k,0,4),h(k,k);var A=new _(k,x,Math.log(y));return A.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&A.lookAt(0,p.eye,p.center,p.up),A}},1371:function(v,d,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var e=r(3233);v.exports=function(l,n,s){return s=typeof s<"u"?s+"":" ",e(s,n)+l}},3202:function(v){v.exports=function(d,r){r||(r=[0,""]),d=String(d);var e=parseFloat(d,10);return r[0]=e,r[1]=d.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},3088:function(v,d,r){v.exports=l;var e=r(3140);function l(n,s){for(var o=s.length|0,f=n.length,b=[new Array(o),new Array(o)],h=0;h<o;++h)b[0][h]=[],b[1][h]=[];for(var h=0;h<f;++h){var _=n[h];b[0][_[0]].push(_),b[1][_[1]].push(_)}for(var a=[],h=0;h<o;++h)b[0][h].length+b[1][h].length===0&&a.push([h]);function c(u,m){var M=b[m][u[m]];M.splice(M.indexOf(u),1)}function p(u,m,M){for(var w,z,O,D=0;D<2;++D)if(b[D][m].length>0){w=b[D][m][0],O=D;break}z=w[O^1];for(var P=0;P<2;++P)for(var F=b[P][m],R=0;R<F.length;++R){var N=F[R],B=N[P^1],q=e(s[u],s[m],s[z],s[B]);q>0&&(w=N,z=B,O=P)}return M||w&&c(w,O),z}function x(u,m){var M=b[m][u][0],w=[u];c(M,m);for(var z=M[m^1],O=m;;){for(;z!==u;)w.push(z),z=p(w[w.length-2],z,!1);if(b[0][u].length+b[1][u].length===0)break;var D=w[w.length-1],P=u,F=w[1],R=p(D,P,!0);if(e(s[D],s[P],s[F],s[R])<0)break;w.push(u),z=p(D,P)}return w}function k(u,m){return m[1]===m[m.length-1]}for(var h=0;h<o;++h)for(var y=0;y<2;++y){for(var A=[];b[y][h].length>0;){b[0][h].length;var C=x(h,y);k(A,C)?A.push.apply(A,C):(A.length>0&&a.push(A),A=C)}A.length>0&&a.push(A)}return a}},5609:function(v,d,r){v.exports=l;var e=r(3134);function l(n,s){for(var o=e(n,s.length),f=new Array(s.length),b=new Array(s.length),h=[],_=0;_<s.length;++_){var a=o[_].length;b[_]=a,f[_]=!0,a<=1&&h.push(_)}for(;h.length>0;){var c=h.pop();f[c]=!1;for(var p=o[c],_=0;_<p.length;++_){var x=p[_];--b[x]===0&&h.push(x)}}for(var k=new Array(s.length),y=[],_=0;_<s.length;++_)if(f[_]){var c=y.length;k[_]=c,y.push(s[_])}else k[_]=-1;for(var A=[],_=0;_<n.length;++_){var C=n[_];f[C[0]]&&f[C[1]]&&A.push([k[C[0]],k[C[1]]])}return[A,y]}},2095:function(v,d,r){v.exports=a;var e=r(3134),l=r(3088),n=r(5085),s=r(5250),o=r(8210),f=r(1682),b=r(5609);function h(c,p){for(var x=new Array(c),k=0;k<c;++k)x[k]=p;return x}function _(c){for(var p=new Array(c),x=0;x<c;++x)p[x]=[];return p}function a(c,p){var x=b(c,p);c=x[0],p=x[1];for(var k=p.length,y=c.length,A=e(c,p.length),C=0;C<k;++C)if(A[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var u=l(c,p);function m(gt){for(var mt=gt.length,vt=[0],At=0;At<mt;++At){var Ot=p[gt[At]],Pt=p[gt[(At+1)%mt]],Et=s(-Ot[0],Ot[1]),Nt=s(-Ot[0],Pt[1]),ne=s(Pt[0],Ot[1]),Gt=s(Pt[0],Pt[1]);vt=o(vt,o(o(Et,Nt),o(ne,Gt)))}return vt[vt.length-1]>0}u=u.filter(m);for(var M=u.length,w=new Array(M),z=new Array(M),C=0;C<M;++C){w[C]=C;var O=new Array(M),D=u[C].map(function(mt){return p[mt]}),P=n([D]),F=0;t:for(var R=0;R<M;++R)if(O[R]=0,C!==R){for(var N=u[R],B=N.length,q=0;q<B;++q){var V=P(p[N[q]]);if(V!==0){V<0&&(O[R]=1,F+=1);continue t}}O[R]=1,F+=1}z[C]=[F,C,O]}z.sort(function(gt,mt){return mt[0]-gt[0]});for(var C=0;C<M;++C)for(var O=z[C],J=O[1],it=O[2],R=0;R<M;++R)it[R]&&(w[R]=J);for(var nt=_(M),C=0;C<M;++C)nt[C].push(w[C]),nt[w[C]].push(C);for(var Y={},Z=h(k,!1),C=0;C<M;++C)for(var N=u[C],B=N.length,R=0;R<B;++R){var $=N[R],G=N[(R+1)%B],rt=Math.min($,G)+":"+Math.max($,G);if(rt in Y){var ot=Y[rt];nt[ot].push(C),nt[C].push(ot),Z[$]=Z[G]=!0}else Y[rt]=C}function W(gt){for(var mt=gt.length,vt=0;vt<mt;++vt)if(!Z[gt[vt]])return!1;return!0}for(var H=[],at=h(M,-1),C=0;C<M;++C)w[C]===C&&!W(u[C])?(H.push(C),at[C]=0):at[C]=-1;for(var x=[];H.length>0;){var Q=H.pop(),ct=nt[Q];f(ct,function(mt,vt){return mt-vt});var ft=ct.length,yt=at[Q],xt;if(yt===0){var N=u[Q];xt=[N]}for(var C=0;C<ft;++C){var Lt=ct[C];if(!(at[Lt]>=0)&&(at[Lt]=yt^1,H.push(Lt),yt===0)){var N=u[Lt];W(N)||(N.reverse(),xt.push(N))}}yt===0&&x.push(xt)}return x}},5085:function(v,d,r){v.exports=p;var e=r(3250)[3],l=r(4209),n=r(3352),s=r(2478);function o(){return!0}function f(x){return function(k,y){var A=x[k];return A?!!A.queryPoint(y,o):!1}}function b(x){for(var k={},y=0;y<x.length;++y){var A=x[y],C=A[0][0],u=A[0][1],m=A[1][1],M=[Math.min(u,m),Math.max(u,m)];C in k?k[C].push(M):k[C]=[M]}for(var w={},z=Object.keys(k),y=0;y<z.length;++y){var O=k[z[y]];w[z[y]]=n(O)}return f(w)}function h(x,k){return function(y){var A=s.le(k,y[0]);if(A<0)return 1;var C=x[A];if(!C)if(A>0&&k[A]===y[0])C=x[A-1];else return 1;for(var u=1;C;){var m=C.key,M=e(y,m[0],m[1]);if(m[0][0]<m[1][0])if(M<0)C=C.left;else if(M>0)u=-1,C=C.right;else return 0;else if(M>0)C=C.left;else if(M<0)u=1,C=C.right;else return 0}return u}}function _(x){return 1}function a(x){return function(k){return x(k[0],k[1])?0:1}}function c(x,k){return function(y){return x(y[0],y[1])?0:k(y)}}function p(x){for(var k=x.length,y=[],A=[],C=0,u=0;u<k;++u)for(var m=x[u],M=m.length,w=M-1,z=0;z<M;w=z++){var O=m[w],D=m[z];O[0]===D[0]?A.push([O,D]):y.push([O,D])}if(y.length===0)return A.length===0?_:a(b(A));var P=l(y),F=h(P.slabs,P.coordinates);return A.length===0?F:c(b(A),F)}},9346:function(v){var d=new Float64Array(4),r=new Float64Array(4),e=new Float64Array(4);function l(n,s,o,f,b){d.length<f.length&&(d=new Float64Array(f.length),r=new Float64Array(f.length),e=new Float64Array(f.length));for(var h=0;h<f.length;++h)d[h]=n[h]-f[h],r[h]=s[h]-n[h],e[h]=o[h]-n[h];for(var _=0,a=0,c=0,p=0,x=0,k=0,h=0;h<f.length;++h){var y=r[h],A=e[h],C=d[h];_+=y*y,a+=y*A,c+=A*A,p+=C*y,x+=C*A,k+=C*C}var u=Math.abs(_*c-a*a),m=a*x-c*p,M=a*p-_*x,w;if(m+M<=u)if(m<0)M<0&&p<0?(M=0,-p>=_?(m=1,w=_+2*p+k):(m=-p/_,w=p*m+k)):(m=0,x>=0?(M=0,w=k):-x>=c?(M=1,w=c+2*x+k):(M=-x/c,w=x*M+k));else if(M<0)M=0,p>=0?(m=0,w=k):-p>=_?(m=1,w=_+2*p+k):(m=-p/_,w=p*m+k);else{var z=1/u;m*=z,M*=z,w=m*(_*m+a*M+2*p)+M*(a*m+c*M+2*x)+k}else{var O,D,P,F;m<0?(O=a+p,D=c+x,D>O?(P=D-O,F=_-2*a+c,P>=F?(m=1,M=0,w=_+2*p+k):(m=P/F,M=1-m,w=m*(_*m+a*M+2*p)+M*(a*m+c*M+2*x)+k)):(m=0,D<=0?(M=1,w=c+2*x+k):x>=0?(M=0,w=k):(M=-x/c,w=x*M+k))):M<0?(O=a+x,D=_+p,D>O?(P=D-O,F=_-2*a+c,P>=F?(M=1,m=0,w=c+2*x+k):(M=P/F,m=1-M,w=m*(_*m+a*M+2*p)+M*(a*m+c*M+2*x)+k)):(M=0,D<=0?(m=1,w=_+2*p+k):p>=0?(m=0,w=k):(m=-p/_,w=p*m+k))):(P=c+x-a-p,P<=0?(m=0,M=1,w=c+2*x+k):(F=_-2*a+c,P>=F?(m=1,M=0,w=_+2*p+k):(m=P/F,M=1-m,w=m*(_*m+a*M+2*p)+M*(a*m+c*M+2*x)+k)))}for(var R=1-m-M,h=0;h<f.length;++h)b[h]=R*n[h]+m*s[h]+M*o[h];return w<0?0:w}v.exports=l},8648:function(v,d,r){v.exports=r(783)},2653:function(v,d,r){var e=r(3865);v.exports=l;function l(n,s){for(var o=n.length,f=new Array(o),b=0;b<o;++b)f[b]=e(n[b],s[b]);return f}},5838:function(v,d,r){v.exports=l;var e=r(7842);function l(n){for(var s=new Array(n.length),o=0;o<n.length;++o)s[o]=e(n[o]);return s}},8987:function(v,d,r){var e=r(7842),l=r(6504);v.exports=n;function n(s,o){for(var f=e(o),b=s.length,h=new Array(b),_=0;_<b;++_)h[_]=l(s[_],f);return h}},544:function(v,d,r){var e=r(5572);v.exports=l;function l(n,s){for(var o=n.length,f=new Array(o),b=0;b<o;++b)f[b]=e(n[b],s[b]);return f}},5771:function(v,d,r){var e=r(8507),l=r(3788),n=r(2419);v.exports=s;function s(o){o.sort(l);for(var f=o.length,b=0,h=0;h<f;++h){var _=o[h],a=n(_);if(a!==0){if(b>0){var c=o[b-1];if(e(_,c)===0&&n(c)!==a){b-=1;continue}}o[b++]=_}}return o.length=b,o}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var d="",r;v.exports=e;function e(l,n){if(typeof l!="string")throw new TypeError("expected a string");if(n===1)return l;if(n===2)return l+l;var s=l.length*n;if(r!==l||typeof r>"u")r=l,d="";else if(d.length>=s)return d.substr(0,s);for(;s>d.length&&n>1;)n&1&&(d+=l),n>>=1,l+=l;return d+=l,d=d.substr(0,s),d}},3025:function(v,d,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=d;function d(r){for(var e=r.length,l=r[r.length-1],n=e,s=e-2;s>=0;--s){var o=l,f=r[s];l=o+f;var b=l-o,h=f-b;h&&(r[--n]=l,l=h)}for(var _=0,s=n;s<e;++s){var o=r[s],f=l;l=o+f;var b=l-o,h=f-b;h&&(r[_++]=h)}return r[_++]=l,r.length=_,r}},2962:function(v,d,r){var e=r(5250),l=r(8210),n=r(3012),s=r(7004),o=6;function f(k,y,A,C){return function(u){return C(k(A(u[0][0],u[1][1]),A(-u[0][1],u[1][0])))}}function b(k,y,A,C){return function(u){return C(k(y(k(A(u[1][1],u[2][2]),A(-u[1][2],u[2][1])),u[0][0]),k(y(k(A(u[1][0],u[2][2]),A(-u[1][2],u[2][0])),-u[0][1]),y(k(A(u[1][0],u[2][1]),A(-u[1][1],u[2][0])),u[0][2]))))}}function h(k,y,A,C){return function(u){return C(k(k(y(k(y(k(A(u[2][2],u[3][3]),A(-u[2][3],u[3][2])),u[1][1]),k(y(k(A(u[2][1],u[3][3]),A(-u[2][3],u[3][1])),-u[1][2]),y(k(A(u[2][1],u[3][2]),A(-u[2][2],u[3][1])),u[1][3]))),u[0][0]),y(k(y(k(A(u[2][2],u[3][3]),A(-u[2][3],u[3][2])),u[1][0]),k(y(k(A(u[2][0],u[3][3]),A(-u[2][3],u[3][0])),-u[1][2]),y(k(A(u[2][0],u[3][2]),A(-u[2][2],u[3][0])),u[1][3]))),-u[0][1])),k(y(k(y(k(A(u[2][1],u[3][3]),A(-u[2][3],u[3][1])),u[1][0]),k(y(k(A(u[2][0],u[3][3]),A(-u[2][3],u[3][0])),-u[1][1]),y(k(A(u[2][0],u[3][1]),A(-u[2][1],u[3][0])),u[1][3]))),u[0][2]),y(k(y(k(A(u[2][1],u[3][2]),A(-u[2][2],u[3][1])),u[1][0]),k(y(k(A(u[2][0],u[3][2]),A(-u[2][2],u[3][0])),-u[1][1]),y(k(A(u[2][0],u[3][1]),A(-u[2][1],u[3][0])),u[1][2]))),-u[0][3]))))}}function _(k,y,A,C){return function(u){return C(k(k(y(k(k(y(k(y(k(A(u[3][3],u[4][4]),A(-u[3][4],u[4][3])),u[2][2]),k(y(k(A(u[3][2],u[4][4]),A(-u[3][4],u[4][2])),-u[2][3]),y(k(A(u[3][2],u[4][3]),A(-u[3][3],u[4][2])),u[2][4]))),u[1][1]),y(k(y(k(A(u[3][3],u[4][4]),A(-u[3][4],u[4][3])),u[2][1]),k(y(k(A(u[3][1],u[4][4]),A(-u[3][4],u[4][1])),-u[2][3]),y(k(A(u[3][1],u[4][3]),A(-u[3][3],u[4][1])),u[2][4]))),-u[1][2])),k(y(k(y(k(A(u[3][2],u[4][4]),A(-u[3][4],u[4][2])),u[2][1]),k(y(k(A(u[3][1],u[4][4]),A(-u[3][4],u[4][1])),-u[2][2]),y(k(A(u[3][1],u[4][2]),A(-u[3][2],u[4][1])),u[2][4]))),u[1][3]),y(k(y(k(A(u[3][2],u[4][3]),A(-u[3][3],u[4][2])),u[2][1]),k(y(k(A(u[3][1],u[4][3]),A(-u[3][3],u[4][1])),-u[2][2]),y(k(A(u[3][1],u[4][2]),A(-u[3][2],u[4][1])),u[2][3]))),-u[1][4]))),u[0][0]),y(k(k(y(k(y(k(A(u[3][3],u[4][4]),A(-u[3][4],u[4][3])),u[2][2]),k(y(k(A(u[3][2],u[4][4]),A(-u[3][4],u[4][2])),-u[2][3]),y(k(A(u[3][2],u[4][3]),A(-u[3][3],u[4][2])),u[2][4]))),u[1][0]),y(k(y(k(A(u[3][3],u[4][4]),A(-u[3][4],u[4][3])),u[2][0]),k(y(k(A(u[3][0],u[4][4]),A(-u[3][4],u[4][0])),-u[2][3]),y(k(A(u[3][0],u[4][3]),A(-u[3][3],u[4][0])),u[2][4]))),-u[1][2])),k(y(k(y(k(A(u[3][2],u[4][4]),A(-u[3][4],u[4][2])),u[2][0]),k(y(k(A(u[3][0],u[4][4]),A(-u[3][4],u[4][0])),-u[2][2]),y(k(A(u[3][0],u[4][2]),A(-u[3][2],u[4][0])),u[2][4]))),u[1][3]),y(k(y(k(A(u[3][2],u[4][3]),A(-u[3][3],u[4][2])),u[2][0]),k(y(k(A(u[3][0],u[4][3]),A(-u[3][3],u[4][0])),-u[2][2]),y(k(A(u[3][0],u[4][2]),A(-u[3][2],u[4][0])),u[2][3]))),-u[1][4]))),-u[0][1])),k(y(k(k(y(k(y(k(A(u[3][3],u[4][4]),A(-u[3][4],u[4][3])),u[2][1]),k(y(k(A(u[3][1],u[4][4]),A(-u[3][4],u[4][1])),-u[2][3]),y(k(A(u[3][1],u[4][3]),A(-u[3][3],u[4][1])),u[2][4]))),u[1][0]),y(k(y(k(A(u[3][3],u[4][4]),A(-u[3][4],u[4][3])),u[2][0]),k(y(k(A(u[3][0],u[4][4]),A(-u[3][4],u[4][0])),-u[2][3]),y(k(A(u[3][0],u[4][3]),A(-u[3][3],u[4][0])),u[2][4]))),-u[1][1])),k(y(k(y(k(A(u[3][1],u[4][4]),A(-u[3][4],u[4][1])),u[2][0]),k(y(k(A(u[3][0],u[4][4]),A(-u[3][4],u[4][0])),-u[2][1]),y(k(A(u[3][0],u[4][1]),A(-u[3][1],u[4][0])),u[2][4]))),u[1][3]),y(k(y(k(A(u[3][1],u[4][3]),A(-u[3][3],u[4][1])),u[2][0]),k(y(k(A(u[3][0],u[4][3]),A(-u[3][3],u[4][0])),-u[2][1]),y(k(A(u[3][0],u[4][1]),A(-u[3][1],u[4][0])),u[2][3]))),-u[1][4]))),u[0][2]),k(y(k(k(y(k(y(k(A(u[3][2],u[4][4]),A(-u[3][4],u[4][2])),u[2][1]),k(y(k(A(u[3][1],u[4][4]),A(-u[3][4],u[4][1])),-u[2][2]),y(k(A(u[3][1],u[4][2]),A(-u[3][2],u[4][1])),u[2][4]))),u[1][0]),y(k(y(k(A(u[3][2],u[4][4]),A(-u[3][4],u[4][2])),u[2][0]),k(y(k(A(u[3][0],u[4][4]),A(-u[3][4],u[4][0])),-u[2][2]),y(k(A(u[3][0],u[4][2]),A(-u[3][2],u[4][0])),u[2][4]))),-u[1][1])),k(y(k(y(k(A(u[3][1],u[4][4]),A(-u[3][4],u[4][1])),u[2][0]),k(y(k(A(u[3][0],u[4][4]),A(-u[3][4],u[4][0])),-u[2][1]),y(k(A(u[3][0],u[4][1]),A(-u[3][1],u[4][0])),u[2][4]))),u[1][2]),y(k(y(k(A(u[3][1],u[4][2]),A(-u[3][2],u[4][1])),u[2][0]),k(y(k(A(u[3][0],u[4][2]),A(-u[3][2],u[4][0])),-u[2][1]),y(k(A(u[3][0],u[4][1]),A(-u[3][1],u[4][0])),u[2][2]))),-u[1][4]))),-u[0][3]),y(k(k(y(k(y(k(A(u[3][2],u[4][3]),A(-u[3][3],u[4][2])),u[2][1]),k(y(k(A(u[3][1],u[4][3]),A(-u[3][3],u[4][1])),-u[2][2]),y(k(A(u[3][1],u[4][2]),A(-u[3][2],u[4][1])),u[2][3]))),u[1][0]),y(k(y(k(A(u[3][2],u[4][3]),A(-u[3][3],u[4][2])),u[2][0]),k(y(k(A(u[3][0],u[4][3]),A(-u[3][3],u[4][0])),-u[2][2]),y(k(A(u[3][0],u[4][2]),A(-u[3][2],u[4][0])),u[2][3]))),-u[1][1])),k(y(k(y(k(A(u[3][1],u[4][3]),A(-u[3][3],u[4][1])),u[2][0]),k(y(k(A(u[3][0],u[4][3]),A(-u[3][3],u[4][0])),-u[2][1]),y(k(A(u[3][0],u[4][1]),A(-u[3][1],u[4][0])),u[2][3]))),u[1][2]),y(k(y(k(A(u[3][1],u[4][2]),A(-u[3][2],u[4][1])),u[2][0]),k(y(k(A(u[3][0],u[4][2]),A(-u[3][2],u[4][0])),-u[2][1]),y(k(A(u[3][0],u[4][1]),A(-u[3][1],u[4][0])),u[2][2]))),-u[1][3]))),u[0][4])))))}}function a(k){var y=k===2?f:k===3?b:k===4?h:k===5?_:void 0;return y(l,n,e,s)}var c=[function(){return[0]},function(k){return[k[0][0]]}];function p(k,y,A,C,u,m,M,w){return function(z){switch(z.length){case 0:return k(z);case 1:return y(z);case 2:return A(z);case 3:return C(z);case 4:return u(z);case 5:return m(z)}var O=M[z.length];return O||(O=M[z.length]=w(z.length)),O(z)}}function x(){for(;c.length<o;)c.push(a(c.length));v.exports=p.apply(void 0,c.concat([c,a]));for(var k=0;k<c.length;++k)v.exports[k]=c[k]}x()},1944:function(v,d,r){var e=r(5250),l=r(8210);v.exports=n;function n(s,o){for(var f=e(s[0],o[0]),b=1;b<s.length;++b)f=l(f,e(s[b],o[b]));return f}},2646:function(v,d,r){var e=r(5250),l=r(8210),n=r(8545),s=r(3012),o=6;function f(u){var m=u===3?a:u===4?c:u===5?p:x;return m(l,n,e,s)}function b(){return 0}function h(){return 0}function _(){return 0}function a(u,m,M,w){function z(O,D,P){var F=M(O[0],O[0]),R=w(F,D[0]),N=w(F,P[0]),B=M(D[0],D[0]),q=w(B,O[0]),V=w(B,P[0]),J=M(P[0],P[0]),it=w(J,O[0]),nt=w(J,D[0]),Y=u(m(nt,V),m(q,R)),Z=m(it,N),$=m(Y,Z);return $[$.length-1]}return z}function c(u,m,M,w){function z(O,D,P,F){var R=u(M(O[0],O[0]),M(O[1],O[1])),N=w(R,D[0]),B=w(R,P[0]),q=w(R,F[0]),V=u(M(D[0],D[0]),M(D[1],D[1])),J=w(V,O[0]),it=w(V,P[0]),nt=w(V,F[0]),Y=u(M(P[0],P[0]),M(P[1],P[1])),Z=w(Y,O[0]),$=w(Y,D[0]),G=w(Y,F[0]),rt=u(M(F[0],F[0]),M(F[1],F[1])),ot=w(rt,O[0]),W=w(rt,D[0]),H=w(rt,P[0]),at=u(u(w(m(H,G),D[1]),u(w(m(W,nt),-P[1]),w(m($,it),F[1]))),u(w(m(W,nt),O[1]),u(w(m(ot,q),-D[1]),w(m(J,N),F[1])))),Q=u(u(w(m(H,G),O[1]),u(w(m(ot,q),-P[1]),w(m(Z,B),F[1]))),u(w(m($,it),O[1]),u(w(m(Z,B),-D[1]),w(m(J,N),P[1])))),ct=m(at,Q);return ct[ct.length-1]}return z}function p(u,m,M,w){function z(O,D,P,F,R){var N=u(M(O[0],O[0]),u(M(O[1],O[1]),M(O[2],O[2]))),B=w(N,D[0]),q=w(N,P[0]),V=w(N,F[0]),J=w(N,R[0]),it=u(M(D[0],D[0]),u(M(D[1],D[1]),M(D[2],D[2]))),nt=w(it,O[0]),Y=w(it,P[0]),Z=w(it,F[0]),$=w(it,R[0]),G=u(M(P[0],P[0]),u(M(P[1],P[1]),M(P[2],P[2]))),rt=w(G,O[0]),ot=w(G,D[0]),W=w(G,F[0]),H=w(G,R[0]),at=u(M(F[0],F[0]),u(M(F[1],F[1]),M(F[2],F[2]))),Q=w(at,O[0]),ct=w(at,D[0]),ft=w(at,P[0]),yt=w(at,R[0]),xt=u(M(R[0],R[0]),u(M(R[1],R[1]),M(R[2],R[2]))),Lt=w(xt,O[0]),gt=w(xt,D[0]),mt=w(xt,P[0]),vt=w(xt,F[0]),At=u(u(u(w(u(w(m(vt,yt),P[1]),u(w(m(mt,H),-F[1]),w(m(ft,W),R[1]))),D[2]),u(w(u(w(m(vt,yt),D[1]),u(w(m(gt,$),-F[1]),w(m(ct,Z),R[1]))),-P[2]),w(u(w(m(mt,H),D[1]),u(w(m(gt,$),-P[1]),w(m(ot,Y),R[1]))),F[2]))),u(w(u(w(m(ft,W),D[1]),u(w(m(ct,Z),-P[1]),w(m(ot,Y),F[1]))),-R[2]),u(w(u(w(m(vt,yt),D[1]),u(w(m(gt,$),-F[1]),w(m(ct,Z),R[1]))),O[2]),w(u(w(m(vt,yt),O[1]),u(w(m(Lt,J),-F[1]),w(m(Q,V),R[1]))),-D[2])))),u(u(w(u(w(m(gt,$),O[1]),u(w(m(Lt,J),-D[1]),w(m(nt,B),R[1]))),F[2]),u(w(u(w(m(ct,Z),O[1]),u(w(m(Q,V),-D[1]),w(m(nt,B),F[1]))),-R[2]),w(u(w(m(ft,W),D[1]),u(w(m(ct,Z),-P[1]),w(m(ot,Y),F[1]))),O[2]))),u(w(u(w(m(ft,W),O[1]),u(w(m(Q,V),-P[1]),w(m(rt,q),F[1]))),-D[2]),u(w(u(w(m(ct,Z),O[1]),u(w(m(Q,V),-D[1]),w(m(nt,B),F[1]))),P[2]),w(u(w(m(ot,Y),O[1]),u(w(m(rt,q),-D[1]),w(m(nt,B),P[1]))),-F[2]))))),Ot=u(u(u(w(u(w(m(vt,yt),P[1]),u(w(m(mt,H),-F[1]),w(m(ft,W),R[1]))),O[2]),w(u(w(m(vt,yt),O[1]),u(w(m(Lt,J),-F[1]),w(m(Q,V),R[1]))),-P[2])),u(w(u(w(m(mt,H),O[1]),u(w(m(Lt,J),-P[1]),w(m(rt,q),R[1]))),F[2]),w(u(w(m(ft,W),O[1]),u(w(m(Q,V),-P[1]),w(m(rt,q),F[1]))),-R[2]))),u(u(w(u(w(m(mt,H),D[1]),u(w(m(gt,$),-P[1]),w(m(ot,Y),R[1]))),O[2]),w(u(w(m(mt,H),O[1]),u(w(m(Lt,J),-P[1]),w(m(rt,q),R[1]))),-D[2])),u(w(u(w(m(gt,$),O[1]),u(w(m(Lt,J),-D[1]),w(m(nt,B),R[1]))),P[2]),w(u(w(m(ot,Y),O[1]),u(w(m(rt,q),-D[1]),w(m(nt,B),P[1]))),-R[2])))),Pt=m(At,Ot);return Pt[Pt.length-1]}return z}function x(u,m,M,w){function z(O,D,P,F,R,N){var B=u(u(M(O[0],O[0]),M(O[1],O[1])),u(M(O[2],O[2]),M(O[3],O[3]))),q=w(B,D[0]),V=w(B,P[0]),J=w(B,F[0]),it=w(B,R[0]),nt=w(B,N[0]),Y=u(u(M(D[0],D[0]),M(D[1],D[1])),u(M(D[2],D[2]),M(D[3],D[3]))),Z=w(Y,O[0]),$=w(Y,P[0]),G=w(Y,F[0]),rt=w(Y,R[0]),ot=w(Y,N[0]),W=u(u(M(P[0],P[0]),M(P[1],P[1])),u(M(P[2],P[2]),M(P[3],P[3]))),H=w(W,O[0]),at=w(W,D[0]),Q=w(W,F[0]),ct=w(W,R[0]),ft=w(W,N[0]),yt=u(u(M(F[0],F[0]),M(F[1],F[1])),u(M(F[2],F[2]),M(F[3],F[3]))),xt=w(yt,O[0]),Lt=w(yt,D[0]),gt=w(yt,P[0]),mt=w(yt,R[0]),vt=w(yt,N[0]),At=u(u(M(R[0],R[0]),M(R[1],R[1])),u(M(R[2],R[2]),M(R[3],R[3]))),Ot=w(At,O[0]),Pt=w(At,D[0]),Et=w(At,P[0]),Nt=w(At,F[0]),ne=w(At,N[0]),Gt=u(u(M(N[0],N[0]),M(N[1],N[1])),u(M(N[2],N[2]),M(N[3],N[3]))),pe=w(Gt,O[0]),Vt=w(Gt,D[0]),ae=w(Gt,P[0]),oe=w(Gt,F[0]),ce=w(Gt,R[0]),le=u(u(u(w(u(u(w(u(w(m(ce,ne),F[1]),u(w(m(oe,vt),-R[1]),w(m(Nt,mt),N[1]))),P[2]),w(u(w(m(ce,ne),P[1]),u(w(m(ae,ft),-R[1]),w(m(Et,ct),N[1]))),-F[2])),u(w(u(w(m(oe,vt),P[1]),u(w(m(ae,ft),-F[1]),w(m(gt,Q),N[1]))),R[2]),w(u(w(m(Nt,mt),P[1]),u(w(m(Et,ct),-F[1]),w(m(gt,Q),R[1]))),-N[2]))),D[3]),u(w(u(u(w(u(w(m(ce,ne),F[1]),u(w(m(oe,vt),-R[1]),w(m(Nt,mt),N[1]))),D[2]),w(u(w(m(ce,ne),D[1]),u(w(m(Vt,ot),-R[1]),w(m(Pt,rt),N[1]))),-F[2])),u(w(u(w(m(oe,vt),D[1]),u(w(m(Vt,ot),-F[1]),w(m(Lt,G),N[1]))),R[2]),w(u(w(m(Nt,mt),D[1]),u(w(m(Pt,rt),-F[1]),w(m(Lt,G),R[1]))),-N[2]))),-P[3]),w(u(u(w(u(w(m(ce,ne),P[1]),u(w(m(ae,ft),-R[1]),w(m(Et,ct),N[1]))),D[2]),w(u(w(m(ce,ne),D[1]),u(w(m(Vt,ot),-R[1]),w(m(Pt,rt),N[1]))),-P[2])),u(w(u(w(m(ae,ft),D[1]),u(w(m(Vt,ot),-P[1]),w(m(at,$),N[1]))),R[2]),w(u(w(m(Et,ct),D[1]),u(w(m(Pt,rt),-P[1]),w(m(at,$),R[1]))),-N[2]))),F[3]))),u(u(w(u(u(w(u(w(m(oe,vt),P[1]),u(w(m(ae,ft),-F[1]),w(m(gt,Q),N[1]))),D[2]),w(u(w(m(oe,vt),D[1]),u(w(m(Vt,ot),-F[1]),w(m(Lt,G),N[1]))),-P[2])),u(w(u(w(m(ae,ft),D[1]),u(w(m(Vt,ot),-P[1]),w(m(at,$),N[1]))),F[2]),w(u(w(m(gt,Q),D[1]),u(w(m(Lt,G),-P[1]),w(m(at,$),F[1]))),-N[2]))),-R[3]),w(u(u(w(u(w(m(Nt,mt),P[1]),u(w(m(Et,ct),-F[1]),w(m(gt,Q),R[1]))),D[2]),w(u(w(m(Nt,mt),D[1]),u(w(m(Pt,rt),-F[1]),w(m(Lt,G),R[1]))),-P[2])),u(w(u(w(m(Et,ct),D[1]),u(w(m(Pt,rt),-P[1]),w(m(at,$),R[1]))),F[2]),w(u(w(m(gt,Q),D[1]),u(w(m(Lt,G),-P[1]),w(m(at,$),F[1]))),-R[2]))),N[3])),u(w(u(u(w(u(w(m(ce,ne),F[1]),u(w(m(oe,vt),-R[1]),w(m(Nt,mt),N[1]))),D[2]),w(u(w(m(ce,ne),D[1]),u(w(m(Vt,ot),-R[1]),w(m(Pt,rt),N[1]))),-F[2])),u(w(u(w(m(oe,vt),D[1]),u(w(m(Vt,ot),-F[1]),w(m(Lt,G),N[1]))),R[2]),w(u(w(m(Nt,mt),D[1]),u(w(m(Pt,rt),-F[1]),w(m(Lt,G),R[1]))),-N[2]))),O[3]),w(u(u(w(u(w(m(ce,ne),F[1]),u(w(m(oe,vt),-R[1]),w(m(Nt,mt),N[1]))),O[2]),w(u(w(m(ce,ne),O[1]),u(w(m(pe,nt),-R[1]),w(m(Ot,it),N[1]))),-F[2])),u(w(u(w(m(oe,vt),O[1]),u(w(m(pe,nt),-F[1]),w(m(xt,J),N[1]))),R[2]),w(u(w(m(Nt,mt),O[1]),u(w(m(Ot,it),-F[1]),w(m(xt,J),R[1]))),-N[2]))),-D[3])))),u(u(u(w(u(u(w(u(w(m(ce,ne),D[1]),u(w(m(Vt,ot),-R[1]),w(m(Pt,rt),N[1]))),O[2]),w(u(w(m(ce,ne),O[1]),u(w(m(pe,nt),-R[1]),w(m(Ot,it),N[1]))),-D[2])),u(w(u(w(m(Vt,ot),O[1]),u(w(m(pe,nt),-D[1]),w(m(Z,q),N[1]))),R[2]),w(u(w(m(Pt,rt),O[1]),u(w(m(Ot,it),-D[1]),w(m(Z,q),R[1]))),-N[2]))),F[3]),w(u(u(w(u(w(m(oe,vt),D[1]),u(w(m(Vt,ot),-F[1]),w(m(Lt,G),N[1]))),O[2]),w(u(w(m(oe,vt),O[1]),u(w(m(pe,nt),-F[1]),w(m(xt,J),N[1]))),-D[2])),u(w(u(w(m(Vt,ot),O[1]),u(w(m(pe,nt),-D[1]),w(m(Z,q),N[1]))),F[2]),w(u(w(m(Lt,G),O[1]),u(w(m(xt,J),-D[1]),w(m(Z,q),F[1]))),-N[2]))),-R[3])),u(w(u(u(w(u(w(m(Nt,mt),D[1]),u(w(m(Pt,rt),-F[1]),w(m(Lt,G),R[1]))),O[2]),w(u(w(m(Nt,mt),O[1]),u(w(m(Ot,it),-F[1]),w(m(xt,J),R[1]))),-D[2])),u(w(u(w(m(Pt,rt),O[1]),u(w(m(Ot,it),-D[1]),w(m(Z,q),R[1]))),F[2]),w(u(w(m(Lt,G),O[1]),u(w(m(xt,J),-D[1]),w(m(Z,q),F[1]))),-R[2]))),N[3]),w(u(u(w(u(w(m(oe,vt),P[1]),u(w(m(ae,ft),-F[1]),w(m(gt,Q),N[1]))),D[2]),w(u(w(m(oe,vt),D[1]),u(w(m(Vt,ot),-F[1]),w(m(Lt,G),N[1]))),-P[2])),u(w(u(w(m(ae,ft),D[1]),u(w(m(Vt,ot),-P[1]),w(m(at,$),N[1]))),F[2]),w(u(w(m(gt,Q),D[1]),u(w(m(Lt,G),-P[1]),w(m(at,$),F[1]))),-N[2]))),O[3]))),u(u(w(u(u(w(u(w(m(oe,vt),P[1]),u(w(m(ae,ft),-F[1]),w(m(gt,Q),N[1]))),O[2]),w(u(w(m(oe,vt),O[1]),u(w(m(pe,nt),-F[1]),w(m(xt,J),N[1]))),-P[2])),u(w(u(w(m(ae,ft),O[1]),u(w(m(pe,nt),-P[1]),w(m(H,V),N[1]))),F[2]),w(u(w(m(gt,Q),O[1]),u(w(m(xt,J),-P[1]),w(m(H,V),F[1]))),-N[2]))),-D[3]),w(u(u(w(u(w(m(oe,vt),D[1]),u(w(m(Vt,ot),-F[1]),w(m(Lt,G),N[1]))),O[2]),w(u(w(m(oe,vt),O[1]),u(w(m(pe,nt),-F[1]),w(m(xt,J),N[1]))),-D[2])),u(w(u(w(m(Vt,ot),O[1]),u(w(m(pe,nt),-D[1]),w(m(Z,q),N[1]))),F[2]),w(u(w(m(Lt,G),O[1]),u(w(m(xt,J),-D[1]),w(m(Z,q),F[1]))),-N[2]))),P[3])),u(w(u(u(w(u(w(m(ae,ft),D[1]),u(w(m(Vt,ot),-P[1]),w(m(at,$),N[1]))),O[2]),w(u(w(m(ae,ft),O[1]),u(w(m(pe,nt),-P[1]),w(m(H,V),N[1]))),-D[2])),u(w(u(w(m(Vt,ot),O[1]),u(w(m(pe,nt),-D[1]),w(m(Z,q),N[1]))),P[2]),w(u(w(m(at,$),O[1]),u(w(m(H,V),-D[1]),w(m(Z,q),P[1]))),-N[2]))),-F[3]),w(u(u(w(u(w(m(gt,Q),D[1]),u(w(m(Lt,G),-P[1]),w(m(at,$),F[1]))),O[2]),w(u(w(m(gt,Q),O[1]),u(w(m(xt,J),-P[1]),w(m(H,V),F[1]))),-D[2])),u(w(u(w(m(Lt,G),O[1]),u(w(m(xt,J),-D[1]),w(m(Z,q),F[1]))),P[2]),w(u(w(m(at,$),O[1]),u(w(m(H,V),-D[1]),w(m(Z,q),P[1]))),-F[2]))),N[3]))))),ye=u(u(u(w(u(u(w(u(w(m(ce,ne),F[1]),u(w(m(oe,vt),-R[1]),w(m(Nt,mt),N[1]))),P[2]),w(u(w(m(ce,ne),P[1]),u(w(m(ae,ft),-R[1]),w(m(Et,ct),N[1]))),-F[2])),u(w(u(w(m(oe,vt),P[1]),u(w(m(ae,ft),-F[1]),w(m(gt,Q),N[1]))),R[2]),w(u(w(m(Nt,mt),P[1]),u(w(m(Et,ct),-F[1]),w(m(gt,Q),R[1]))),-N[2]))),O[3]),u(w(u(u(w(u(w(m(ce,ne),F[1]),u(w(m(oe,vt),-R[1]),w(m(Nt,mt),N[1]))),O[2]),w(u(w(m(ce,ne),O[1]),u(w(m(pe,nt),-R[1]),w(m(Ot,it),N[1]))),-F[2])),u(w(u(w(m(oe,vt),O[1]),u(w(m(pe,nt),-F[1]),w(m(xt,J),N[1]))),R[2]),w(u(w(m(Nt,mt),O[1]),u(w(m(Ot,it),-F[1]),w(m(xt,J),R[1]))),-N[2]))),-P[3]),w(u(u(w(u(w(m(ce,ne),P[1]),u(w(m(ae,ft),-R[1]),w(m(Et,ct),N[1]))),O[2]),w(u(w(m(ce,ne),O[1]),u(w(m(pe,nt),-R[1]),w(m(Ot,it),N[1]))),-P[2])),u(w(u(w(m(ae,ft),O[1]),u(w(m(pe,nt),-P[1]),w(m(H,V),N[1]))),R[2]),w(u(w(m(Et,ct),O[1]),u(w(m(Ot,it),-P[1]),w(m(H,V),R[1]))),-N[2]))),F[3]))),u(u(w(u(u(w(u(w(m(oe,vt),P[1]),u(w(m(ae,ft),-F[1]),w(m(gt,Q),N[1]))),O[2]),w(u(w(m(oe,vt),O[1]),u(w(m(pe,nt),-F[1]),w(m(xt,J),N[1]))),-P[2])),u(w(u(w(m(ae,ft),O[1]),u(w(m(pe,nt),-P[1]),w(m(H,V),N[1]))),F[2]),w(u(w(m(gt,Q),O[1]),u(w(m(xt,J),-P[1]),w(m(H,V),F[1]))),-N[2]))),-R[3]),w(u(u(w(u(w(m(Nt,mt),P[1]),u(w(m(Et,ct),-F[1]),w(m(gt,Q),R[1]))),O[2]),w(u(w(m(Nt,mt),O[1]),u(w(m(Ot,it),-F[1]),w(m(xt,J),R[1]))),-P[2])),u(w(u(w(m(Et,ct),O[1]),u(w(m(Ot,it),-P[1]),w(m(H,V),R[1]))),F[2]),w(u(w(m(gt,Q),O[1]),u(w(m(xt,J),-P[1]),w(m(H,V),F[1]))),-R[2]))),N[3])),u(w(u(u(w(u(w(m(ce,ne),P[1]),u(w(m(ae,ft),-R[1]),w(m(Et,ct),N[1]))),D[2]),w(u(w(m(ce,ne),D[1]),u(w(m(Vt,ot),-R[1]),w(m(Pt,rt),N[1]))),-P[2])),u(w(u(w(m(ae,ft),D[1]),u(w(m(Vt,ot),-P[1]),w(m(at,$),N[1]))),R[2]),w(u(w(m(Et,ct),D[1]),u(w(m(Pt,rt),-P[1]),w(m(at,$),R[1]))),-N[2]))),O[3]),w(u(u(w(u(w(m(ce,ne),P[1]),u(w(m(ae,ft),-R[1]),w(m(Et,ct),N[1]))),O[2]),w(u(w(m(ce,ne),O[1]),u(w(m(pe,nt),-R[1]),w(m(Ot,it),N[1]))),-P[2])),u(w(u(w(m(ae,ft),O[1]),u(w(m(pe,nt),-P[1]),w(m(H,V),N[1]))),R[2]),w(u(w(m(Et,ct),O[1]),u(w(m(Ot,it),-P[1]),w(m(H,V),R[1]))),-N[2]))),-D[3])))),u(u(u(w(u(u(w(u(w(m(ce,ne),D[1]),u(w(m(Vt,ot),-R[1]),w(m(Pt,rt),N[1]))),O[2]),w(u(w(m(ce,ne),O[1]),u(w(m(pe,nt),-R[1]),w(m(Ot,it),N[1]))),-D[2])),u(w(u(w(m(Vt,ot),O[1]),u(w(m(pe,nt),-D[1]),w(m(Z,q),N[1]))),R[2]),w(u(w(m(Pt,rt),O[1]),u(w(m(Ot,it),-D[1]),w(m(Z,q),R[1]))),-N[2]))),P[3]),w(u(u(w(u(w(m(ae,ft),D[1]),u(w(m(Vt,ot),-P[1]),w(m(at,$),N[1]))),O[2]),w(u(w(m(ae,ft),O[1]),u(w(m(pe,nt),-P[1]),w(m(H,V),N[1]))),-D[2])),u(w(u(w(m(Vt,ot),O[1]),u(w(m(pe,nt),-D[1]),w(m(Z,q),N[1]))),P[2]),w(u(w(m(at,$),O[1]),u(w(m(H,V),-D[1]),w(m(Z,q),P[1]))),-N[2]))),-R[3])),u(w(u(u(w(u(w(m(Et,ct),D[1]),u(w(m(Pt,rt),-P[1]),w(m(at,$),R[1]))),O[2]),w(u(w(m(Et,ct),O[1]),u(w(m(Ot,it),-P[1]),w(m(H,V),R[1]))),-D[2])),u(w(u(w(m(Pt,rt),O[1]),u(w(m(Ot,it),-D[1]),w(m(Z,q),R[1]))),P[2]),w(u(w(m(at,$),O[1]),u(w(m(H,V),-D[1]),w(m(Z,q),P[1]))),-R[2]))),N[3]),w(u(u(w(u(w(m(Nt,mt),P[1]),u(w(m(Et,ct),-F[1]),w(m(gt,Q),R[1]))),D[2]),w(u(w(m(Nt,mt),D[1]),u(w(m(Pt,rt),-F[1]),w(m(Lt,G),R[1]))),-P[2])),u(w(u(w(m(Et,ct),D[1]),u(w(m(Pt,rt),-P[1]),w(m(at,$),R[1]))),F[2]),w(u(w(m(gt,Q),D[1]),u(w(m(Lt,G),-P[1]),w(m(at,$),F[1]))),-R[2]))),O[3]))),u(u(w(u(u(w(u(w(m(Nt,mt),P[1]),u(w(m(Et,ct),-F[1]),w(m(gt,Q),R[1]))),O[2]),w(u(w(m(Nt,mt),O[1]),u(w(m(Ot,it),-F[1]),w(m(xt,J),R[1]))),-P[2])),u(w(u(w(m(Et,ct),O[1]),u(w(m(Ot,it),-P[1]),w(m(H,V),R[1]))),F[2]),w(u(w(m(gt,Q),O[1]),u(w(m(xt,J),-P[1]),w(m(H,V),F[1]))),-R[2]))),-D[3]),w(u(u(w(u(w(m(Nt,mt),D[1]),u(w(m(Pt,rt),-F[1]),w(m(Lt,G),R[1]))),O[2]),w(u(w(m(Nt,mt),O[1]),u(w(m(Ot,it),-F[1]),w(m(xt,J),R[1]))),-D[2])),u(w(u(w(m(Pt,rt),O[1]),u(w(m(Ot,it),-D[1]),w(m(Z,q),R[1]))),F[2]),w(u(w(m(Lt,G),O[1]),u(w(m(xt,J),-D[1]),w(m(Z,q),F[1]))),-R[2]))),P[3])),u(w(u(u(w(u(w(m(Et,ct),D[1]),u(w(m(Pt,rt),-P[1]),w(m(at,$),R[1]))),O[2]),w(u(w(m(Et,ct),O[1]),u(w(m(Ot,it),-P[1]),w(m(H,V),R[1]))),-D[2])),u(w(u(w(m(Pt,rt),O[1]),u(w(m(Ot,it),-D[1]),w(m(Z,q),R[1]))),P[2]),w(u(w(m(at,$),O[1]),u(w(m(H,V),-D[1]),w(m(Z,q),P[1]))),-R[2]))),-F[3]),w(u(u(w(u(w(m(gt,Q),D[1]),u(w(m(Lt,G),-P[1]),w(m(at,$),F[1]))),O[2]),w(u(w(m(gt,Q),O[1]),u(w(m(xt,J),-P[1]),w(m(H,V),F[1]))),-D[2])),u(w(u(w(m(Lt,G),O[1]),u(w(m(xt,J),-D[1]),w(m(Z,q),F[1]))),P[2]),w(u(w(m(at,$),O[1]),u(w(m(H,V),-D[1]),w(m(Z,q),P[1]))),-F[2]))),R[3]))))),Tt=m(le,ye);return Tt[Tt.length-1]}return z}var k=[b,h,_];function y(u){var m=k[u.length];return m||(m=k[u.length]=f(u.length)),m.apply(void 0,u)}function A(u,m,M,w,z,O,D,P){function F(R,N,B,q,V,J){switch(arguments.length){case 0:case 1:return 0;case 2:return w(R,N);case 3:return z(R,N,B);case 4:return O(R,N,B,q);case 5:return D(R,N,B,q,V);case 6:return P(R,N,B,q,V,J)}for(var it=new Array(arguments.length),nt=0;nt<arguments.length;++nt)it[nt]=arguments[nt];return u(it)}return F}function C(){for(;k.length<=o;)k.push(f(k.length));v.exports=A.apply(void 0,[y].concat(k));for(var u=0;u<=o;++u)v.exports[u]=k[u]}C()},727:function(v,d,r){var e=r(2962),l=6;function n(k){var y=k===2?f:k===3?b:k===4?h:k===5?_:a;return k<6?y(e[k]):y(e)}function s(){return[[0]]}function o(k,y){return[[y[0]],[k[0][0]]]}function f(k){return function(y,A){return[k([[+A[0],+y[0][1]],[+A[1],+y[1][1]]]),k([[+y[0][0],+A[0]],[+y[1][0],+A[1]]]),k(y)]}}function b(k){return function(y,A){return[k([[+A[0],+y[0][1],+y[0][2]],[+A[1],+y[1][1],+y[1][2]],[+A[2],+y[2][1],+y[2][2]]]),k([[+y[0][0],+A[0],+y[0][2]],[+y[1][0],+A[1],+y[1][2]],[+y[2][0],+A[2],+y[2][2]]]),k([[+y[0][0],+y[0][1],+A[0]],[+y[1][0],+y[1][1],+A[1]],[+y[2][0],+y[2][1],+A[2]]]),k(y)]}}function h(k){return function(y,A){return[k([[+A[0],+y[0][1],+y[0][2],+y[0][3]],[+A[1],+y[1][1],+y[1][2],+y[1][3]],[+A[2],+y[2][1],+y[2][2],+y[2][3]],[+A[3],+y[3][1],+y[3][2],+y[3][3]]]),k([[+y[0][0],+A[0],+y[0][2],+y[0][3]],[+y[1][0],+A[1],+y[1][2],+y[1][3]],[+y[2][0],+A[2],+y[2][2],+y[2][3]],[+y[3][0],+A[3],+y[3][2],+y[3][3]]]),k([[+y[0][0],+y[0][1],+A[0],+y[0][3]],[+y[1][0],+y[1][1],+A[1],+y[1][3]],[+y[2][0],+y[2][1],+A[2],+y[2][3]],[+y[3][0],+y[3][1],+A[3],+y[3][3]]]),k([[+y[0][0],+y[0][1],+y[0][2],+A[0]],[+y[1][0],+y[1][1],+y[1][2],+A[1]],[+y[2][0],+y[2][1],+y[2][2],+A[2]],[+y[3][0],+y[3][1],+y[3][2],+A[3]]]),k(y)]}}function _(k){return function(y,A){return[k([[+A[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+A[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+A[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+A[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+A[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),k([[+y[0][0],+A[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+A[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+A[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+A[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+A[4],+y[4][2],+y[4][3],+y[4][4]]]),k([[+y[0][0],+y[0][1],+A[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+A[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+A[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+A[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+A[4],+y[4][3],+y[4][4]]]),k([[+y[0][0],+y[0][1],+y[0][2],+A[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+A[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+A[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+A[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+A[4],+y[4][4]]]),k([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+A[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+A[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+A[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+A[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+A[4]]]),k(y)]}}function a(k){return function(y,A){return[k([[+A[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+A[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+A[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+A[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+A[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+A[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),k([[+y[0][0],+A[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+A[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+A[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+A[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+A[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+A[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),k([[+y[0][0],+y[0][1],+A[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+A[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+A[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+A[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+A[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+A[5],+y[5][3],+y[5][4],+y[5][5]]]),k([[+y[0][0],+y[0][1],+y[0][2],+A[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+A[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+A[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+A[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+A[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+A[5],+y[5][4],+y[5][5]]]),k([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+A[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+A[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+A[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+A[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+A[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+A[5],+y[5][5]]]),k([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+A[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+A[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+A[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+A[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+A[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+A[5]]]),k(y)]}}var c=[s,o];function p(k,y,A,C,u,m,M,w){return function(z,O){switch(z.length){case 0:return k(z,O);case 1:return y(z,O);case 2:return A(z,O);case 3:return C(z,O);case 4:return u(z,O);case 5:return m(z,O)}var D=M[z.length];return D||(D=M[z.length]=w(z.length)),D(z,O)}}function x(){for(;c.length<l;)c.push(n(c.length));v.exports=p.apply(void 0,c.concat([c,n]));for(var k=0;k<l;++k)v.exports[k]=c[k]}x()},3250:function(v,d,r){var e=r(5250),l=r(8210),n=r(3012),s=r(8545),o=5,f=11102230246251565e-32,b=(3+16*f)*f,h=(7+56*f)*f;function _(m,M,w,z){return function(O,D,P){var F=m(m(M(D[1],P[0]),M(-P[1],D[0])),m(M(O[1],D[0]),M(-D[1],O[0]))),R=m(M(O[1],P[0]),M(-P[1],O[0])),N=z(F,R);return N[N.length-1]}}function a(m,M,w,z){return function(O,D,P,F){var R=m(m(w(m(M(P[1],F[0]),M(-F[1],P[0])),D[2]),m(w(m(M(D[1],F[0]),M(-F[1],D[0])),-P[2]),w(m(M(D[1],P[0]),M(-P[1],D[0])),F[2]))),m(w(m(M(D[1],F[0]),M(-F[1],D[0])),O[2]),m(w(m(M(O[1],F[0]),M(-F[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),F[2])))),N=m(m(w(m(M(P[1],F[0]),M(-F[1],P[0])),O[2]),m(w(m(M(O[1],F[0]),M(-F[1],O[0])),-P[2]),w(m(M(O[1],P[0]),M(-P[1],O[0])),F[2]))),m(w(m(M(D[1],P[0]),M(-P[1],D[0])),O[2]),m(w(m(M(O[1],P[0]),M(-P[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),P[2])))),B=z(R,N);return B[B.length-1]}}function c(m,M,w,z){return function(O,D,P,F,R){var N=m(m(m(w(m(w(m(M(F[1],R[0]),M(-R[1],F[0])),P[2]),m(w(m(M(P[1],R[0]),M(-R[1],P[0])),-F[2]),w(m(M(P[1],F[0]),M(-F[1],P[0])),R[2]))),D[3]),m(w(m(w(m(M(F[1],R[0]),M(-R[1],F[0])),D[2]),m(w(m(M(D[1],R[0]),M(-R[1],D[0])),-F[2]),w(m(M(D[1],F[0]),M(-F[1],D[0])),R[2]))),-P[3]),w(m(w(m(M(P[1],R[0]),M(-R[1],P[0])),D[2]),m(w(m(M(D[1],R[0]),M(-R[1],D[0])),-P[2]),w(m(M(D[1],P[0]),M(-P[1],D[0])),R[2]))),F[3]))),m(w(m(w(m(M(P[1],F[0]),M(-F[1],P[0])),D[2]),m(w(m(M(D[1],F[0]),M(-F[1],D[0])),-P[2]),w(m(M(D[1],P[0]),M(-P[1],D[0])),F[2]))),-R[3]),m(w(m(w(m(M(F[1],R[0]),M(-R[1],F[0])),D[2]),m(w(m(M(D[1],R[0]),M(-R[1],D[0])),-F[2]),w(m(M(D[1],F[0]),M(-F[1],D[0])),R[2]))),O[3]),w(m(w(m(M(F[1],R[0]),M(-R[1],F[0])),O[2]),m(w(m(M(O[1],R[0]),M(-R[1],O[0])),-F[2]),w(m(M(O[1],F[0]),M(-F[1],O[0])),R[2]))),-D[3])))),m(m(w(m(w(m(M(D[1],R[0]),M(-R[1],D[0])),O[2]),m(w(m(M(O[1],R[0]),M(-R[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),R[2]))),F[3]),m(w(m(w(m(M(D[1],F[0]),M(-F[1],D[0])),O[2]),m(w(m(M(O[1],F[0]),M(-F[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),F[2]))),-R[3]),w(m(w(m(M(P[1],F[0]),M(-F[1],P[0])),D[2]),m(w(m(M(D[1],F[0]),M(-F[1],D[0])),-P[2]),w(m(M(D[1],P[0]),M(-P[1],D[0])),F[2]))),O[3]))),m(w(m(w(m(M(P[1],F[0]),M(-F[1],P[0])),O[2]),m(w(m(M(O[1],F[0]),M(-F[1],O[0])),-P[2]),w(m(M(O[1],P[0]),M(-P[1],O[0])),F[2]))),-D[3]),m(w(m(w(m(M(D[1],F[0]),M(-F[1],D[0])),O[2]),m(w(m(M(O[1],F[0]),M(-F[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),F[2]))),P[3]),w(m(w(m(M(D[1],P[0]),M(-P[1],D[0])),O[2]),m(w(m(M(O[1],P[0]),M(-P[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),P[2]))),-F[3]))))),B=m(m(m(w(m(w(m(M(F[1],R[0]),M(-R[1],F[0])),P[2]),m(w(m(M(P[1],R[0]),M(-R[1],P[0])),-F[2]),w(m(M(P[1],F[0]),M(-F[1],P[0])),R[2]))),O[3]),w(m(w(m(M(F[1],R[0]),M(-R[1],F[0])),O[2]),m(w(m(M(O[1],R[0]),M(-R[1],O[0])),-F[2]),w(m(M(O[1],F[0]),M(-F[1],O[0])),R[2]))),-P[3])),m(w(m(w(m(M(P[1],R[0]),M(-R[1],P[0])),O[2]),m(w(m(M(O[1],R[0]),M(-R[1],O[0])),-P[2]),w(m(M(O[1],P[0]),M(-P[1],O[0])),R[2]))),F[3]),w(m(w(m(M(P[1],F[0]),M(-F[1],P[0])),O[2]),m(w(m(M(O[1],F[0]),M(-F[1],O[0])),-P[2]),w(m(M(O[1],P[0]),M(-P[1],O[0])),F[2]))),-R[3]))),m(m(w(m(w(m(M(P[1],R[0]),M(-R[1],P[0])),D[2]),m(w(m(M(D[1],R[0]),M(-R[1],D[0])),-P[2]),w(m(M(D[1],P[0]),M(-P[1],D[0])),R[2]))),O[3]),w(m(w(m(M(P[1],R[0]),M(-R[1],P[0])),O[2]),m(w(m(M(O[1],R[0]),M(-R[1],O[0])),-P[2]),w(m(M(O[1],P[0]),M(-P[1],O[0])),R[2]))),-D[3])),m(w(m(w(m(M(D[1],R[0]),M(-R[1],D[0])),O[2]),m(w(m(M(O[1],R[0]),M(-R[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),R[2]))),P[3]),w(m(w(m(M(D[1],P[0]),M(-P[1],D[0])),O[2]),m(w(m(M(O[1],P[0]),M(-P[1],O[0])),-D[2]),w(m(M(O[1],D[0]),M(-D[1],O[0])),P[2]))),-R[3])))),q=z(N,B);return q[q.length-1]}}function p(m){var M=m===3?_:m===4?a:c;return M(l,e,n,s)}var x=p(3),k=p(4),y=[function(){return 0},function(){return 0},function(m,M){return M[0]-m[0]},function(m,M,w){var z=(m[1]-w[1])*(M[0]-w[0]),O=(m[0]-w[0])*(M[1]-w[1]),D=z-O,P;if(z>0){if(O<=0)return D;P=z+O}else if(z<0){if(O>=0)return D;P=-(z+O)}else return D;var F=b*P;return D>=F||D<=-F?D:x(m,M,w)},function(m,M,w,z){var O=m[0]-z[0],D=M[0]-z[0],P=w[0]-z[0],F=m[1]-z[1],R=M[1]-z[1],N=w[1]-z[1],B=m[2]-z[2],q=M[2]-z[2],V=w[2]-z[2],J=D*N,it=P*R,nt=P*F,Y=O*N,Z=O*R,$=D*F,G=B*(J-it)+q*(nt-Y)+V*(Z-$),rt=(Math.abs(J)+Math.abs(it))*Math.abs(B)+(Math.abs(nt)+Math.abs(Y))*Math.abs(q)+(Math.abs(Z)+Math.abs($))*Math.abs(V),ot=h*rt;return G>ot||-G>ot?G:k(m,M,w,z)}];function A(m){var M=y[m.length];return M||(M=y[m.length]=p(m.length)),M.apply(void 0,m)}function C(m,M,w,z,O,D,P){return function(F,R,N,B,q){switch(arguments.length){case 0:case 1:return 0;case 2:return z(F,R);case 3:return O(F,R,N);case 4:return D(F,R,N,B);case 5:return P(F,R,N,B,q)}for(var V=new Array(arguments.length),J=0;J<arguments.length;++J)V[J]=arguments[J];return m(V)}}function u(){for(;y.length<=o;)y.push(p(y.length));v.exports=C.apply(void 0,[A].concat(y));for(var m=0;m<=o;++m)v.exports[m]=y[m]}u()},5382:function(v,d,r){var e=r(8210),l=r(3012);v.exports=n;function n(s,o){if(s.length===1)return l(o,s[0]);if(o.length===1)return l(s,o[0]);if(s.length===0||o.length===0)return[0];var f=[0];if(s.length<o.length)for(var b=0;b<s.length;++b)f=e(f,l(o,s[b]));else for(var b=0;b<o.length;++b)f=e(f,l(s,o[b]));return f}},3012:function(v,d,r){var e=r(5250),l=r(9362);v.exports=n;function n(s,o){var f=s.length;if(f===1){var b=e(s[0],o);return b[0]?b:[b[1]]}var h=new Array(2*f),_=[.1,.1],a=[.1,.1],c=0;e(s[0],o,_),_[0]&&(h[c++]=_[0]);for(var p=1;p<f;++p){e(s[p],o,a);var x=_[1];l(x,a[0],_),_[0]&&(h[c++]=_[0]);var k=a[1],y=_[1],A=k+y,C=A-k,u=y-C;_[1]=A,u&&(h[c++]=u)}return _[1]&&(h[c++]=_[1]),c===0&&(h[c++]=0),h.length=c,h}},1125:function(v,d,r){v.exports=n;var e=r(3250)[3];function l(s,o,f,b){for(var h=0;h<2;++h){var _=s[h],a=o[h],c=Math.min(_,a),p=Math.max(_,a),x=f[h],k=b[h],y=Math.min(x,k),A=Math.max(x,k);if(A<c||p<y)return!1}return!0}function n(s,o,f,b){var h=e(s,f,b),_=e(o,f,b);if(h>0&&_>0||h<0&&_<0)return!1;var a=e(f,s,o),c=e(b,s,o);return a>0&&c>0||a<0&&c<0?!1:h===0&&_===0&&a===0&&c===0?l(s,o,f,b):!0}},8545:function(v){v.exports=r;function d(e,l){var n=e+l,s=n-e,o=n-s,f=l-s,b=e-o,h=b+f;return h?[h,n]:[n]}function r(e,l){var n=e.length|0,s=l.length|0;if(n===1&&s===1)return d(e[0],-l[0]);var o=n+s,f=new Array(o),b=0,h=0,_=0,a=Math.abs,c=e[h],p=a(c),x=-l[_],k=a(x),y,A;p<k?(A=c,h+=1,h<n&&(c=e[h],p=a(c))):(A=x,_+=1,_<s&&(x=-l[_],k=a(x))),h<n&&p<k||_>=s?(y=c,h+=1,h<n&&(c=e[h],p=a(c))):(y=x,_+=1,_<s&&(x=-l[_],k=a(x)));for(var C=y+A,u=C-y,m=A-u,M=m,w=C,z,O,D,P,F;h<n&&_<s;)p<k?(y=c,h+=1,h<n&&(c=e[h],p=a(c))):(y=x,_+=1,_<s&&(x=-l[_],k=a(x))),A=M,C=y+A,u=C-y,m=A-u,m&&(f[b++]=m),z=w+C,O=z-w,D=z-O,P=C-O,F=w-D,M=F+P,w=z;for(;h<n;)y=c,A=M,C=y+A,u=C-y,m=A-u,m&&(f[b++]=m),z=w+C,O=z-w,D=z-O,P=C-O,F=w-D,M=F+P,w=z,h+=1,h<n&&(c=e[h]);for(;_<s;)y=x,A=M,C=y+A,u=C-y,m=A-u,m&&(f[b++]=m),z=w+C,O=z-w,D=z-O,P=C-O,F=w-D,M=F+P,w=z,_+=1,_<s&&(x=-l[_]);return M&&(f[b++]=M),w&&(f[b++]=w),b||(f[b++]=0),f.length=b,f}},8210:function(v){v.exports=r;function d(e,l){var n=e+l,s=n-e,o=n-s,f=l-s,b=e-o,h=b+f;return h?[h,n]:[n]}function r(e,l){var n=e.length|0,s=l.length|0;if(n===1&&s===1)return d(e[0],l[0]);var o=n+s,f=new Array(o),b=0,h=0,_=0,a=Math.abs,c=e[h],p=a(c),x=l[_],k=a(x),y,A;p<k?(A=c,h+=1,h<n&&(c=e[h],p=a(c))):(A=x,_+=1,_<s&&(x=l[_],k=a(x))),h<n&&p<k||_>=s?(y=c,h+=1,h<n&&(c=e[h],p=a(c))):(y=x,_+=1,_<s&&(x=l[_],k=a(x)));for(var C=y+A,u=C-y,m=A-u,M=m,w=C,z,O,D,P,F;h<n&&_<s;)p<k?(y=c,h+=1,h<n&&(c=e[h],p=a(c))):(y=x,_+=1,_<s&&(x=l[_],k=a(x))),A=M,C=y+A,u=C-y,m=A-u,m&&(f[b++]=m),z=w+C,O=z-w,D=z-O,P=C-O,F=w-D,M=F+P,w=z;for(;h<n;)y=c,A=M,C=y+A,u=C-y,m=A-u,m&&(f[b++]=m),z=w+C,O=z-w,D=z-O,P=C-O,F=w-D,M=F+P,w=z,h+=1,h<n&&(c=e[h]);for(;_<s;)y=x,A=M,C=y+A,u=C-y,m=A-u,m&&(f[b++]=m),z=w+C,O=z-w,D=z-O,P=C-O,F=w-D,M=F+P,w=z,_+=1,_<s&&(x=l[_]);return M&&(f[b++]=M),w&&(f[b++]=w),b||(f[b++]=0),f.length=b,f}},9127:function(v,d,r){v.exports=n;var e=r(6204),l=r(5771);function n(s){return l(e(s))}},7765:function(v,d,r){v.exports=c;var e=r(9618),l=r(1888),n=r(446),s=r(1570);function o(p){for(var x=p.length,k=0,y=0;y<x;++y)k=Math.max(k,p[y].length)|0;return k-1}function f(p,x){for(var k=p.length,y=l.mallocUint8(k),A=0;A<k;++A)y[A]=p[A]<x|0;return y}function b(p,x){for(var k=p.length,y=x*(x+1)/2*k|0,A=l.mallocUint32(y*2),C=0,u=0;u<k;++u)for(var m=p[u],x=m.length,M=0;M<x;++M)for(var w=0;w<M;++w){var z=m[w],O=m[M];A[C++]=Math.min(z,O)|0,A[C++]=Math.max(z,O)|0}var D=C/2|0;n(e(A,[D,2]));for(var P=2,u=2;u<C;u+=2)A[u-2]===A[u]&&A[u-1]===A[u+1]||(A[P++]=A[u],A[P++]=A[u+1]);return e(A,[P/2|0,2])}function h(p,x,k,y){for(var A=p.data,C=p.shape[0],u=l.mallocDouble(C),m=0,M=0;M<C;++M){var w=A[2*M],z=A[2*M+1];if(k[w]!==k[z]){var O=x[w],D=x[z];A[2*m]=w,A[2*m+1]=z,u[m++]=(D-y)/(D-O)}}return p.shape[0]=m,e(u,[m])}function _(p,x){var k=l.mallocInt32(x*2),y=p.shape[0],A=p.data;k[0]=0;for(var C=0,u=0;u<y;++u){var m=A[2*u];if(m!==C){for(k[2*C+1]=u;++C<m;)k[2*C]=u,k[2*C+1]=u;k[2*C]=u}}for(k[2*C+1]=y;++C<x;)k[2*C]=k[2*C+1]=y;return k}function a(p){for(var x=p.shape[0]|0,k=p.data,y=new Array(x),A=0;A<x;++A)y[A]=[k[2*A],k[2*A+1]];return y}function c(p,x,k,y){k=k||0,typeof y>"u"&&(y=o(p));var A=p.length;if(A===0||y<1)return{cells:[],vertexIds:[],vertexWeights:[]};var C=f(x,+k),u=b(p,y),m=h(u,x,C,+k),M=_(u,x.length|0),w=s(y)(p,u.data,M,C),z=a(u),O=[].slice.call(m.data,0,m.shape[0]);return l.free(C),l.free(u.data),l.free(m.data),l.free(M),{cells:w,vertexIds:z,vertexWeights:O}}},1570:function(v){v.exports=r;var d=[function(){function e(l,n,s,o){for(var f=l.length,b=[],h=0;h<f;++h)var _=l[h],a=_.length;return b}return e},function(){function e(n,s,o,f){for(var b=Math.min(o,f)|0,h=Math.max(o,f)|0,_=n[2*b],a=n[2*b+1];_<a;){var c=_+a>>1,p=s[2*c+1];if(p===h)return c;h<p?a=c:_=c+1}return _}function l(n,s,o,f){for(var b=n.length,h=[],_=0;_<b;++_){var a=n[_],c=a.length;if(c===2){var p=(f[a[0]]<<0)+(f[a[1]]<<1);if(p===0||p===3)continue;switch(p){case 0:break;case 1:h.push([e(o,s,a[0],a[1])]);break;case 2:h.push([e(o,s,a[1],a[0])]);break}}}return h}return l},function(){function e(n,s,o,f){for(var b=Math.min(o,f)|0,h=Math.max(o,f)|0,_=n[2*b],a=n[2*b+1];_<a;){var c=_+a>>1,p=s[2*c+1];if(p===h)return c;h<p?a=c:_=c+1}return _}function l(n,s,o,f){for(var b=n.length,h=[],_=0;_<b;++_){var a=n[_],c=a.length;if(c===3){var p=(f[a[0]]<<0)+(f[a[1]]<<1)+(f[a[2]]<<2);if(p===0||p===7)continue;switch(p){case 0:break;case 1:h.push([e(o,s,a[0],a[2]),e(o,s,a[0],a[1])]);break;case 2:h.push([e(o,s,a[1],a[0]),e(o,s,a[1],a[2])]);break;case 3:h.push([e(o,s,a[0],a[2]),e(o,s,a[1],a[2])]);break;case 4:h.push([e(o,s,a[2],a[1]),e(o,s,a[2],a[0])]);break;case 5:h.push([e(o,s,a[2],a[1]),e(o,s,a[0],a[1])]);break;case 6:h.push([e(o,s,a[1],a[0]),e(o,s,a[2],a[0])]);break}}else if(c===2){var p=(f[a[0]]<<0)+(f[a[1]]<<1);if(p===0||p===3)continue;switch(p){case 0:break;case 1:h.push([e(o,s,a[0],a[1])]);break;case 2:h.push([e(o,s,a[1],a[0])]);break}}}return h}return l},function(){function e(n,s,o,f){for(var b=Math.min(o,f)|0,h=Math.max(o,f)|0,_=n[2*b],a=n[2*b+1];_<a;){var c=_+a>>1,p=s[2*c+1];if(p===h)return c;h<p?a=c:_=c+1}return _}function l(n,s,o,f){for(var b=n.length,h=[],_=0;_<b;++_){var a=n[_],c=a.length;if(c===4){var p=(f[a[0]]<<0)+(f[a[1]]<<1)+(f[a[2]]<<2)+(f[a[3]]<<3);if(p===0||p===15)continue;switch(p){case 0:break;case 1:h.push([e(o,s,a[0],a[1]),e(o,s,a[0],a[2]),e(o,s,a[0],a[3])]);break;case 2:h.push([e(o,s,a[1],a[2]),e(o,s,a[1],a[0]),e(o,s,a[1],a[3])]);break;case 3:h.push([e(o,s,a[1],a[2]),e(o,s,a[0],a[2]),e(o,s,a[0],a[3])],[e(o,s,a[1],a[3]),e(o,s,a[1],a[2]),e(o,s,a[0],a[3])]);break;case 4:h.push([e(o,s,a[2],a[0]),e(o,s,a[2],a[1]),e(o,s,a[2],a[3])]);break;case 5:h.push([e(o,s,a[0],a[1]),e(o,s,a[2],a[1]),e(o,s,a[0],a[3])],[e(o,s,a[2],a[1]),e(o,s,a[2],a[3]),e(o,s,a[0],a[3])]);break;case 6:h.push([e(o,s,a[2],a[0]),e(o,s,a[1],a[0]),e(o,s,a[1],a[3])],[e(o,s,a[2],a[3]),e(o,s,a[2],a[0]),e(o,s,a[1],a[3])]);break;case 7:h.push([e(o,s,a[0],a[3]),e(o,s,a[1],a[3]),e(o,s,a[2],a[3])]);break;case 8:h.push([e(o,s,a[3],a[1]),e(o,s,a[3],a[0]),e(o,s,a[3],a[2])]);break;case 9:h.push([e(o,s,a[3],a[1]),e(o,s,a[0],a[1]),e(o,s,a[0],a[2])],[e(o,s,a[3],a[2]),e(o,s,a[3],a[1]),e(o,s,a[0],a[2])]);break;case 10:h.push([e(o,s,a[1],a[0]),e(o,s,a[3],a[0]),e(o,s,a[1],a[2])],[e(o,s,a[3],a[0]),e(o,s,a[3],a[2]),e(o,s,a[1],a[2])]);break;case 11:h.push([e(o,s,a[1],a[2]),e(o,s,a[0],a[2]),e(o,s,a[3],a[2])]);break;case 12:h.push([e(o,s,a[3],a[0]),e(o,s,a[2],a[0]),e(o,s,a[2],a[1])],[e(o,s,a[3],a[1]),e(o,s,a[3],a[0]),e(o,s,a[2],a[1])]);break;case 13:h.push([e(o,s,a[0],a[1]),e(o,s,a[2],a[1]),e(o,s,a[3],a[1])]);break;case 14:h.push([e(o,s,a[2],a[0]),e(o,s,a[1],a[0]),e(o,s,a[3],a[0])]);break}}else if(c===3){var p=(f[a[0]]<<0)+(f[a[1]]<<1)+(f[a[2]]<<2);if(p===0||p===7)continue;switch(p){case 0:break;case 1:h.push([e(o,s,a[0],a[2]),e(o,s,a[0],a[1])]);break;case 2:h.push([e(o,s,a[1],a[0]),e(o,s,a[1],a[2])]);break;case 3:h.push([e(o,s,a[0],a[2]),e(o,s,a[1],a[2])]);break;case 4:h.push([e(o,s,a[2],a[1]),e(o,s,a[2],a[0])]);break;case 5:h.push([e(o,s,a[2],a[1]),e(o,s,a[0],a[1])]);break;case 6:h.push([e(o,s,a[1],a[0]),e(o,s,a[2],a[0])]);break}}else if(c===2){var p=(f[a[0]]<<0)+(f[a[1]]<<1);if(p===0||p===3)continue;switch(p){case 0:break;case 1:h.push([e(o,s,a[0],a[1])]);break;case 2:h.push([e(o,s,a[1],a[0])]);break}}}return h}return l}];function r(e){return d[e]()}},6803:function(v,d,r){r(8828),r(1755);function e(l,n){var s=l.length,o=l.length-n.length,f=Math.min;if(o)return o;switch(s){case 0:return 0;case 1:return l[0]-n[0];case 2:var c=l[0]+l[1]-n[0]-n[1];return c||f(l[0],l[1])-f(n[0],n[1]);case 3:var b=l[0]+l[1],h=n[0]+n[1];if(c=b+l[2]-(h+n[2]),c)return c;var _=f(l[0],l[1]),a=f(n[0],n[1]),c=f(_,l[2])-f(a,n[2]);return c||f(_+l[2],b)-f(a+n[2],h);default:var p=l.slice(0);p.sort();var x=n.slice(0);x.sort();for(var k=0;k<s;++k)if(o=p[k]-x[k],o)return o;return 0}}d.Fw=e},3105:function(v,d){"use restrict";var r=32;d.INT_BITS=r,d.INT_MAX=2147483647,d.INT_MIN=-1<<r-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var s=n>>r-1;return(n^s)-s},d.min=function(n,s){return s^(n^s)&-(n<s)},d.max=function(n,s){return n^(n^s)&-(n<s)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var s,o;return s=(n>65535)<<4,n>>>=s,o=(n>255)<<3,n>>>=o,s|=o,o=(n>15)<<2,n>>>=o,s|=o,o=(n>3)<<1,n>>>=o,s|=o,s|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function e(n){var s=32;return n&=-n,n&&s--,n&65535&&(s-=16),n&16711935&&(s-=8),n&252645135&&(s-=4),n&858993459&&(s-=2),n&1431655765&&(s-=1),s}d.countTrailingZeros=e,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var l=new Array(256);(function(n){for(var s=0;s<256;++s){var o=s,f=s,b=7;for(o>>>=1;o;o>>>=1)f<<=1,f|=o&1,--b;n[s]=f<<b&255}})(l),d.reverse=function(n){return l[n&255]<<24|l[n>>>8&255]<<16|l[n>>>16&255]<<8|l[n>>>24&255]},d.interleave2=function(n,s){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,n|s<<1},d.deinterleave2=function(n,s){return n=n>>>s&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,s,o){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|=s<<1,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,n|o<<2},d.deinterleave3=function(n,s){return n=n>>>s&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var s=n|n-1;return s+1|(~s&-~s)-1>>>e(n)+1}},2014:function(v,d,r){"use restrict";var e=r(3105),l=r(4623);function n(m){for(var M=0,w=Math.max,z=0,O=m.length;z<O;++z)M=w(M,m[z].length);return M-1}d.dimension=n;function s(m){for(var M=-1,w=Math.max,z=0,O=m.length;z<O;++z)for(var D=m[z],P=0,F=D.length;P<F;++P)M=w(M,D[P]);return M+1}d.countVertices=s;function o(m){for(var M=new Array(m.length),w=0,z=m.length;w<z;++w)M[w]=m[w].slice(0);return M}d.cloneCells=o;function f(m,M){var w=m.length,z=m.length-M.length,O=Math.min;if(z)return z;switch(w){case 0:return 0;case 1:return m[0]-M[0];case 2:var N=m[0]+m[1]-M[0]-M[1];return N||O(m[0],m[1])-O(M[0],M[1]);case 3:var D=m[0]+m[1],P=M[0]+M[1];if(N=D+m[2]-(P+M[2]),N)return N;var F=O(m[0],m[1]),R=O(M[0],M[1]),N=O(F,m[2])-O(R,M[2]);return N||O(F+m[2],D)-O(R+M[2],P);default:var B=m.slice(0);B.sort();var q=M.slice(0);q.sort();for(var V=0;V<w;++V)if(z=B[V]-q[V],z)return z;return 0}}d.compareCells=f;function b(m,M){return f(m[0],M[0])}function h(m,M){if(M){for(var w=m.length,z=new Array(w),O=0;O<w;++O)z[O]=[m[O],M[O]];z.sort(b);for(var O=0;O<w;++O)m[O]=z[O][0],M[O]=z[O][1];return m}else return m.sort(f),m}d.normalize=h;function _(m){if(m.length===0)return[];for(var M=1,w=m.length,z=1;z<w;++z){var O=m[z];if(f(O,m[z-1])){if(z===M){M++;continue}m[M++]=O}}return m.length=M,m}d.unique=_;function a(m,M){for(var w=0,z=m.length-1,O=-1;w<=z;){var D=w+z>>1,P=f(m[D],M);P<=0?(P===0&&(O=D),w=D+1):P>0&&(z=D-1)}return O}d.findCell=a;function c(m,M){for(var w=new Array(m.length),z=0,O=w.length;z<O;++z)w[z]=[];for(var D=[],z=0,P=M.length;z<P;++z)for(var F=M[z],R=F.length,N=1,B=1<<R;N<B;++N){D.length=e.popCount(N);for(var q=0,V=0;V<R;++V)N&1<<V&&(D[q++]=F[V]);var J=a(m,D);if(!(J<0))for(;w[J++].push(z),!(J>=m.length||f(m[J],D)!==0););}return w}d.incidence=c;function p(m,M){if(!M)return c(_(k(m,0)),m);for(var w=new Array(M),z=0;z<M;++z)w[z]=[];for(var z=0,O=m.length;z<O;++z)for(var D=m[z],P=0,F=D.length;P<F;++P)w[D[P]].push(z);return w}d.dual=p;function x(m){for(var M=[],w=0,z=m.length;w<z;++w)for(var O=m[w],D=O.length|0,P=1,F=1<<D;P<F;++P){for(var R=[],N=0;N<D;++N)P>>>N&1&&R.push(O[N]);M.push(R)}return h(M)}d.explode=x;function k(m,M){if(M<0)return[];for(var w=[],z=(1<<M+1)-1,O=0;O<m.length;++O)for(var D=m[O],P=z;P<1<<D.length;P=e.nextCombination(P)){for(var F=new Array(M+1),R=0,N=0;N<D.length;++N)P&1<<N&&(F[R++]=D[N]);w.push(F)}return h(w)}d.skeleton=k;function y(m){for(var M=[],w=0,z=m.length;w<z;++w)for(var O=m[w],D=0,P=O.length;D<P;++D){for(var F=new Array(O.length-1),R=0,N=0;R<P;++R)R!==D&&(F[N++]=O[R]);M.push(F)}return h(M)}d.boundary=y;function A(m,M){for(var w=new l(M),z=0;z<m.length;++z)for(var O=m[z],D=0;D<O.length;++D)for(var P=D+1;P<O.length;++P)w.link(O[D],O[P]);for(var F=[],R=w.ranks,z=0;z<R.length;++z)R[z]=-1;for(var z=0;z<m.length;++z){var N=w.find(m[z][0]);R[N]<0?(R[N]=F.length,F.push([m[z].slice(0)])):F[R[N]].push(m[z].slice(0))}return F}function C(m){for(var M=_(h(k(m,0))),w=new l(M.length),z=0;z<m.length;++z)for(var O=m[z],D=0;D<O.length;++D)for(var P=a(M,[O[D]]),F=D+1;F<O.length;++F)w.link(P,a(M,[O[F]]));for(var R=[],N=w.ranks,z=0;z<N.length;++z)N[z]=-1;for(var z=0;z<m.length;++z){var B=w.find(a(M,[m[z][0]]));N[B]<0?(N[B]=R.length,R.push([m[z].slice(0)])):R[N[B]].push(m[z].slice(0))}return R}function u(m,M){return M?A(m,M):C(m)}d.connectedComponents=u},4623:function(v){"use restrict";v.exports=d;function d(r){this.roots=new Array(r),this.ranks=new Array(r);for(var e=0;e<r;++e)this.roots[e]=e,this.ranks[e]=0}d.prototype.length=function(){return this.roots.length},d.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},d.prototype.find=function(r){for(var e=this.roots;e[r]!==r;){var l=e[r];e[r]=e[l],r=l}return r},d.prototype.link=function(r,e){var l=this.find(r),n=this.find(e);if(l!==n){var s=this.ranks,o=this.roots,f=s[l],b=s[n];f<b?o[l]=n:b<f?o[n]=l:(o[n]=l,++s[l])}}},5878:function(v,d,r){v.exports=s;var e=r(3250),l=r(2014);function n(o,f,b){var h=Math.abs(e(o,f,b)),_=Math.sqrt(Math.pow(f[0]-b[0],2)+Math.pow(f[1]-b[1],2));return h/_}function s(o,f,b){for(var h=f.length,_=o.length,a=new Array(h),c=new Array(h),p=new Array(h),x=new Array(h),k=0;k<h;++k)a[k]=c[k]=-1,p[k]=1/0,x[k]=!1;for(var k=0;k<_;++k){var y=o[k];if(y.length!==2)throw new Error("Input must be a graph");var A=y[1],C=y[0];c[C]!==-1?c[C]=-2:c[C]=A,a[A]!==-1?a[A]=-2:a[A]=C}function u(Y){if(x[Y])return 1/0;var Z=a[Y],$=c[Y];return Z<0||$<0?1/0:n(f[Y],f[Z],f[$])}function m(Y,Z){var $=R[Y],G=R[Z];R[Y]=G,R[Z]=$,N[$]=Z,N[G]=Y}function M(Y){return p[R[Y]]}function w(Y){return Y&1?Y-1>>1:(Y>>1)-1}function z(Y){for(var Z=M(Y);;){var $=Z,G=2*Y+1,rt=2*(Y+1),ot=Y;if(G<q){var W=M(G);W<$&&(ot=G,$=W)}if(rt<q){var H=M(rt);H<$&&(ot=rt)}if(ot===Y)return Y;m(Y,ot),Y=ot}}function O(Y){for(var Z=M(Y);Y>0;){var $=w(Y);if($>=0){var G=M($);if(Z<G){m(Y,$),Y=$;continue}}return Y}}function D(){if(q>0){var Y=R[0];return m(0,q-1),q-=1,z(0),Y}return-1}function P(Y,Z){var $=R[Y];return p[$]===Z?Y:(p[$]=-1/0,O(Y),D(),p[$]=Z,q+=1,O(q-1))}function F(Y){if(!x[Y]){x[Y]=!0;var Z=a[Y],$=c[Y];a[$]>=0&&(a[$]=Z),c[Z]>=0&&(c[Z]=$),N[Z]>=0&&P(N[Z],u(Z)),N[$]>=0&&P(N[$],u($))}}for(var R=[],N=new Array(h),k=0;k<h;++k){var B=p[k]=u(k);B<1/0?(N[k]=R.length,R.push(k)):N[k]=-1}for(var q=R.length,k=q>>1;k>=0;--k)z(k);for(;;){var V=D();if(V<0||p[V]>b)break;F(V)}for(var J=[],k=0;k<h;++k)x[k]||(N[k]=J.length,J.push(f[k].slice()));J.length;function it(Y,Z){if(Y[Z]<0)return Z;var $=Z,G=Z;do{var rt=Y[G];if(!x[G]||rt<0||rt===G||(G=rt,rt=Y[G],!x[G]||rt<0||rt===G))break;G=rt,$=Y[$]}while($!==G);for(var ot=Z;ot!==G;ot=Y[ot])Y[ot]=G;return G}var nt=[];return o.forEach(function(Y){var Z=it(a,Y[0]),$=it(c,Y[1]);if(Z>=0&&$>=0&&Z!==$){var G=N[Z],rt=N[$];G!==rt&&nt.push([G,rt])}}),l.unique(l.normalize(nt)),{positions:J,edges:nt}}},1303:function(v,d,r){v.exports=n;var e=r(3250);function l(s,o){var f,b;if(o[0][0]<o[1][0])f=o[0],b=o[1];else if(o[0][0]>o[1][0])f=o[1],b=o[0];else{var h=Math.min(s[0][1],s[1][1]),_=Math.max(s[0][1],s[1][1]),a=Math.min(o[0][1],o[1][1]),c=Math.max(o[0][1],o[1][1]);return _<a?_-a:h>c?h-c:_-c}var p,x;s[0][1]<s[1][1]?(p=s[0],x=s[1]):(p=s[1],x=s[0]);var k=e(b,f,p);return k||(k=e(b,f,x),k)?k:x-b}function n(s,o){var f,b;if(o[0][0]<o[1][0])f=o[0],b=o[1];else if(o[0][0]>o[1][0])f=o[1],b=o[0];else return l(o,s);var h,_;if(s[0][0]<s[1][0])h=s[0],_=s[1];else if(s[0][0]>s[1][0])h=s[1],_=s[0];else return-l(s,o);var a=e(f,b,_),c=e(f,b,h);if(a<0){if(c<=0)return a}else if(a>0){if(c>=0)return a}else if(c)return c;if(a=e(_,h,b),c=e(_,h,f),a<0){if(c<=0)return a}else if(a>0){if(c>=0)return a}else if(c)return c;return b[0]-_[0]}},4209:function(v,d,r){v.exports=c;var e=r(2478),l=r(3840),n=r(3250),s=r(1303);function o(p,x,k){this.slabs=p,this.coordinates=x,this.horizontal=k}var f=o.prototype;function b(p,x){return p.y-x}function h(p,x){for(var k=null;p;){var y=p.key,A,C;y[0][0]<y[1][0]?(A=y[0],C=y[1]):(A=y[1],C=y[0]);var u=n(A,C,x);if(u<0)p=p.left;else if(u>0)if(x[0]!==y[1][0])k=p,p=p.right;else{var m=h(p.right,x);if(m)return m;p=p.left}else{if(x[0]!==y[1][0])return p;var m=h(p.right,x);if(m)return m;p=p.left}}return k}f.castUp=function(p){var x=e.le(this.coordinates,p[0]);if(x<0)return-1;this.slabs[x];var k=h(this.slabs[x],p),y=-1;if(k&&(y=k.value),this.coordinates[x]===p[0]){var A=null;if(k&&(A=k.key),x>0){var C=h(this.slabs[x-1],p);C&&(A?s(C.key,A)>0&&(A=C.key,y=C.value):(y=C.value,A=C.key))}var u=this.horizontal[x];if(u.length>0){var m=e.ge(u,p[1],b);if(m<u.length){var M=u[m];if(p[1]===M.y){if(M.closed)return M.index;for(;m<u.length-1&&u[m+1].y===p[1];)if(m=m+1,M=u[m],M.closed)return M.index;if(M.y===p[1]&&!M.start){if(m=m+1,m>=u.length)return y;M=u[m]}}if(M.start)if(A){var w=n(A[0],A[1],[p[0],M.y]);A[0][0]>A[1][0]&&(w=-w),w>0&&(y=M.index)}else y=M.index;else M.y!==p[1]&&(y=M.index)}}}return y};function _(p,x,k,y){this.y=p,this.index=x,this.start=k,this.closed=y}function a(p,x,k,y){this.x=p,this.segment=x,this.create=k,this.index=y}function c(p){for(var x=p.length,k=2*x,y=new Array(k),A=0;A<x;++A){var C=p[A],u=C[0][0]<C[1][0];y[2*A]=new a(C[0][0],C,u,A),y[2*A+1]=new a(C[1][0],C,!u,A)}y.sort(function(R,N){var B=R.x-N.x;return B||(B=R.create-N.create,B)?B:Math.min(R.segment[0][1],R.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});for(var m=l(s),M=[],w=[],z=[],O=-1/0,A=0;A<k;){for(var D=y[A].x,P=[];A<k;){var F=y[A];if(F.x!==D)break;A+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(P.push(new _(F.segment[0][1],F.index,!0,!0)),P.push(new _(F.segment[1][1],F.index,!1,!1))):(P.push(new _(F.segment[1][1],F.index,!0,!1)),P.push(new _(F.segment[0][1],F.index,!1,!0)))):F.create?m=m.insert(F.segment,F.index):m=m.remove(F.segment)}M.push(m.root),w.push(D),z.push(P)}return new o(M,w,z)}},5202:function(v,d,r){var e=r(1944),l=r(8210);v.exports=o,v.exports.positive=f,v.exports.negative=b;function n(h,_){var a=l(e(h,_),[_[_.length-1]]);return a[a.length-1]}function s(h,_,a,c){var p=c-_,x=-_/p;x<0?x=0:x>1&&(x=1);for(var k=1-x,y=h.length,A=new Array(y),C=0;C<y;++C)A[C]=x*h[C]+k*a[C];return A}function o(h,_){for(var a=[],c=[],p=n(h[h.length-1],_),x=h[h.length-1],k=h[0],y=0;y<h.length;++y,x=k){k=h[y];var A=n(k,_);if(p<0&&A>0||p>0&&A<0){var C=s(x,A,k,p);a.push(C),c.push(C.slice())}A<0?c.push(k.slice()):A>0?a.push(k.slice()):(a.push(k.slice()),c.push(k.slice())),p=A}return{positive:a,negative:c}}function f(h,_){for(var a=[],c=n(h[h.length-1],_),p=h[h.length-1],x=h[0],k=0;k<h.length;++k,p=x){x=h[k];var y=n(x,_);(c<0&&y>0||c>0&&y<0)&&a.push(s(p,y,x,c)),y>=0&&a.push(x.slice()),c=y}return a}function b(h,_){for(var a=[],c=n(h[h.length-1],_),p=h[h.length-1],x=h[0],k=0;k<h.length;++k,p=x){x=h[k];var y=n(x,_);(c<0&&y>0||c>0&&y<0)&&a.push(s(p,y,x,c)),y<=0&&a.push(x.slice()),c=y}return a}},3387:function(v,d,r){var e;(function(){var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return o(b(h),arguments)}function s(h,_){return n.apply(null,[h].concat(_||[]))}function o(h,_){var a=1,c=h.length,p,x="",k,y,A,C,u,m,M,w;for(k=0;k<c;k++)if(typeof h[k]=="string")x+=h[k];else if(typeof h[k]=="object"){if(A=h[k],A.keys)for(p=_[a],y=0;y<A.keys.length;y++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',A.keys[y],A.keys[y-1]));p=p[A.keys[y]]}else A.param_no?p=_[A.param_no]:p=_[a++];if(l.not_type.test(A.type)&&l.not_primitive.test(A.type)&&p instanceof Function&&(p=p()),l.numeric_arg.test(A.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(l.number.test(A.type)&&(M=p>=0),A.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,A.width?parseInt(A.width):0);break;case"e":p=A.precision?parseFloat(p).toExponential(A.precision):parseFloat(p).toExponential();break;case"f":p=A.precision?parseFloat(p).toFixed(A.precision):parseFloat(p);break;case"g":p=A.precision?String(Number(p.toPrecision(A.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=A.precision?p.substring(0,A.precision):p;break;case"t":p=String(!!p),p=A.precision?p.substring(0,A.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=A.precision?p.substring(0,A.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=A.precision?p.substring(0,A.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}l.json.test(A.type)?x+=p:(l.number.test(A.type)&&(!M||A.sign)?(w=M?"+":"-",p=p.toString().replace(l.sign,"")):w="",u=A.pad_char?A.pad_char==="0"?"0":A.pad_char.charAt(1):" ",m=A.width-(w+p).length,C=A.width&&m>0?u.repeat(m):"",x+=A.align?w+p+C:u==="0"?w+C+p:C+w+p)}return x}var f=Object.create(null);function b(h){if(f[h])return f[h];for(var _=h,a,c=[],p=0;_;){if((a=l.text.exec(_))!==null)c.push(a[0]);else if((a=l.modulo.exec(_))!==null)c.push("%");else if((a=l.placeholder.exec(_))!==null){if(a[2]){p|=1;var x=[],k=a[2],y=[];if((y=l.key.exec(k))!==null)for(x.push(y[1]);(k=k.substring(y[0].length))!=="";)if((y=l.key_access.exec(k))!==null)x.push(y[1]);else if((y=l.index_access.exec(k))!==null)x.push(y[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");a[2]=x}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:a[0],param_no:a[1],keys:a[2],sign:a[3],pad_char:a[4],align:a[5],width:a[6],precision:a[7],type:a[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");_=_.substring(a[0].length)}return f[h]=c}d.sprintf=n,d.vsprintf=s,typeof window<"u"&&(window.sprintf=n,window.vsprintf=s,e=(function(){return{sprintf:n,vsprintf:s}}).call(d,r,d,v),e!==void 0&&(v.exports=e))})()},3711:function(v,d,r){v.exports=b;var e=r(2640),l=r(781),n={"2d":function(h,_,a){var c=h({order:_,scalarArguments:3,getters:a==="generic"?[0]:void 0,phase:function(p,x,k,y){return p>y|0},vertex:function(p,x,k,y,A,C,u,m,M,w,z,O,D){var P=(u<<0)+(m<<1)+(M<<2)+(w<<3)|0;if(!(P===0||P===15))switch(P){case 0:z.push([p-.5,x-.5]);break;case 1:z.push([p-.25-.25*(y+k-2*D)/(k-y),x-.25-.25*(A+k-2*D)/(k-A)]);break;case 2:z.push([p-.75-.25*(-y-k+2*D)/(y-k),x-.25-.25*(C+y-2*D)/(y-C)]);break;case 3:z.push([p-.5,x-.5-.5*(A+k+C+y-4*D)/(k-A+y-C)]);break;case 4:z.push([p-.25-.25*(C+A-2*D)/(A-C),x-.75-.25*(-A-k+2*D)/(A-k)]);break;case 5:z.push([p-.5-.5*(y+k+C+A-4*D)/(k-y+A-C),x-.5]);break;case 6:z.push([p-.5-.25*(-y-k+C+A)/(y-k+A-C),x-.5-.25*(-A-k+C+y)/(A-k+y-C)]);break;case 7:z.push([p-.75-.25*(C+A-2*D)/(A-C),x-.75-.25*(C+y-2*D)/(y-C)]);break;case 8:z.push([p-.75-.25*(-C-A+2*D)/(C-A),x-.75-.25*(-C-y+2*D)/(C-y)]);break;case 9:z.push([p-.5-.25*(y+k+-C-A)/(k-y+C-A),x-.5-.25*(A+k+-C-y)/(k-A+C-y)]);break;case 10:z.push([p-.5-.5*(-y-k+-C-A+4*D)/(y-k+C-A),x-.5]);break;case 11:z.push([p-.25-.25*(-C-A+2*D)/(C-A),x-.75-.25*(A+k-2*D)/(k-A)]);break;case 12:z.push([p-.5,x-.5-.5*(-A-k+-C-y+4*D)/(A-k+C-y)]);break;case 13:z.push([p-.75-.25*(y+k-2*D)/(k-y),x-.25-.25*(-C-y+2*D)/(C-y)]);break;case 14:z.push([p-.25-.25*(-y-k+2*D)/(y-k),x-.25-.25*(-A-k+2*D)/(A-k)]);break;case 15:z.push([p-.5,x-.5]);break}},cell:function(p,x,k,y,A,C,u,m,M){A?m.push([p,x]):m.push([x,p])}});return function(p,x){var k=[],y=[];return c(p,k,y,x),{positions:k,cells:y}}}};function s(h,_){var a=h.length+"d",c=n[a];if(c)return c(e,h,_)}function o(h,_){for(var a=l(h,_),c=a.length,p=new Array(c),x=new Array(c),k=0;k<c;++k)p[k]=[a[k]],x[k]=[k];return{positions:p,cells:x}}var f={};function b(h,p){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return o(h,p);var a=h.order.join()+"-"+h.dtype,c=f[a],p=+p||0;return c||(c=f[a]=s(h.order,h.dtype)),c(h,p)}},529:function(v,d,r){v.exports=o;var e=r(4359),l=window||E.global||{},n=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};function s(f){for(var b=f.cells,h=f.positions,_=new Float32Array(b.length*6),a=0,c=0,p=0;p<b.length;++p)for(var x=b[p],k=0;k<3;++k){var y=h[x[k]];_[a++]=y[0],_[a++]=y[1]+1.4,c=Math.max(y[0],c)}return{data:_,shape:c}}function o(f,b,_){var _=_||{},a=_.fontStyle||"normal",c=_.fontWeight||"normal",p=_.fontVariant||"normal",x=[a,c,p,f].join("_"),k=n[x];k||(k=n[x]={" ":{data:new Float32Array(0),shape:.2}});var y=k[b];if(!y)if(b.length<=1||!/\d/.test(b))y=k[b]=s(e(b,{triangles:!0,font:f,fontStyle:a,fontWeight:c,fontVariant:p,textAlign:_.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var A=b.split(/(\d|\s)/),C=new Array(A.length),u=0,m=0,M=0;M<A.length;++M)C[M]=o(f,A[M]),u+=C[M].data.length,m+=C[M].shape,M>0&&(m+=.02);for(var w=new Float32Array(u),z=0,O=-.5*m,M=0;M<C.length;++M){for(var D=C[M].data,P=0;P<D.length;P+=2)w[z++]=D[P]+O,w[z++]=D[P+1];O+=C[M].shape+.02}y=k[b]={data:w,shape:m}}return y}},665:function(v,d,r){var e=r(3202);v.exports=o;var l=96;function n(f,b){var h=e(getComputedStyle(f).getPropertyValue(b));return h[0]*o(h[1],f)}function s(f,b){var h=document.createElement("div");h.style["font-size"]="128"+f,b.appendChild(h);var _=n(h,"font-size")/128;return b.removeChild(h),_}function o(f,b){switch(b=b||document.body,f=(f||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),f){case"%":return b.clientHeight/100;case"ch":case"ex":return s(f,b);case"em":return n(b,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return l;case"cm":return l/2.54;case"mm":return l/25.4;case"pt":return l/72;case"pc":return l/6}return 1}},7261:function(v,d,r){v.exports=x;var e=r(9215),l=r(7608),n=r(6079),s=r(5911),o=r(3536),f=r(244);function b(k,y,A){return Math.sqrt(Math.pow(k,2)+Math.pow(y,2)+Math.pow(A,2))}function h(k){return Math.min(1,Math.max(-1,k))}function _(k){var y=Math.abs(k[0]),A=Math.abs(k[1]),C=Math.abs(k[2]),u=[0,0,0];y>Math.max(A,C)?u[2]=1:A>Math.max(y,C)?u[0]=1:u[1]=1;for(var m=0,M=0,w=0;w<3;++w)m+=k[w]*k[w],M+=u[w]*k[w];for(var w=0;w<3;++w)u[w]-=M/m*k[w];return o(u,u),u}function a(k,y,A,C,u,m,M,w){this.center=e(A),this.up=e(C),this.right=e(u),this.radius=e([m]),this.angle=e([M,w]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(k,y),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var z=0;z<16;++z)this.computedMatrix[z]=.5;this.recalcMatrix(0)}var c=a.prototype;c.setDistanceLimits=function(k,y){k>0?k=Math.log(k):k=-1/0,y>0?y=Math.log(y):y=1/0,y=Math.max(y,k),this.radius.bounds[0][0]=k,this.radius.bounds[1][0]=y},c.getDistanceLimits=function(k){var y=this.radius.bounds[0];return k?(k[0]=Math.exp(y[0][0]),k[1]=Math.exp(y[1][0]),k):[Math.exp(y[0][0]),Math.exp(y[1][0])]},c.recalcMatrix=function(k){this.center.curve(k),this.up.curve(k),this.right.curve(k),this.radius.curve(k),this.angle.curve(k);for(var y=this.computedUp,A=this.computedRight,C=0,u=0,m=0;m<3;++m)u+=y[m]*A[m],C+=y[m]*y[m];for(var M=Math.sqrt(C),w=0,m=0;m<3;++m)A[m]-=y[m]*u/C,w+=A[m]*A[m],y[m]/=M;for(var z=Math.sqrt(w),m=0;m<3;++m)A[m]/=z;var O=this.computedToward;s(O,y,A),o(O,O);for(var D=Math.exp(this.computedRadius[0]),P=this.computedAngle[0],F=this.computedAngle[1],R=Math.cos(P),N=Math.sin(P),B=Math.cos(F),q=Math.sin(F),V=this.computedCenter,J=R*B,it=N*B,nt=q,Y=-R*q,Z=-N*q,$=B,G=this.computedEye,rt=this.computedMatrix,m=0;m<3;++m){var ot=J*A[m]+it*O[m]+nt*y[m];rt[4*m+1]=Y*A[m]+Z*O[m]+$*y[m],rt[4*m+2]=ot,rt[4*m+3]=0}var W=rt[1],H=rt[5],at=rt[9],Q=rt[2],ct=rt[6],ft=rt[10],yt=H*ft-at*ct,xt=at*Q-W*ft,Lt=W*ct-H*Q,gt=b(yt,xt,Lt);yt/=gt,xt/=gt,Lt/=gt,rt[0]=yt,rt[4]=xt,rt[8]=Lt;for(var m=0;m<3;++m)G[m]=V[m]+rt[2+4*m]*D;for(var m=0;m<3;++m){for(var w=0,mt=0;mt<3;++mt)w+=rt[m+4*mt]*G[mt];rt[12+m]=-w}rt[15]=1},c.getMatrix=function(k,y){this.recalcMatrix(k);var A=this.computedMatrix;if(y){for(var C=0;C<16;++C)y[C]=A[C];return y}return A};var p=[0,0,0];c.rotate=function(k,y,A,C){if(this.angle.move(k,y,A),C){this.recalcMatrix(k);var u=this.computedMatrix;p[0]=u[2],p[1]=u[6],p[2]=u[10];for(var m=this.computedUp,M=this.computedRight,w=this.computedToward,z=0;z<3;++z)u[4*z]=m[z],u[4*z+1]=M[z],u[4*z+2]=w[z];n(u,u,C,p);for(var z=0;z<3;++z)m[z]=u[4*z],M[z]=u[4*z+1];this.up.set(k,m[0],m[1],m[2]),this.right.set(k,M[0],M[1],M[2])}},c.pan=function(k,y,A,C){y=y||0,A=A||0,C=C||0,this.recalcMatrix(k);var u=this.computedMatrix;Math.exp(this.computedRadius[0]);var m=u[1],M=u[5],w=u[9],z=b(m,M,w);m/=z,M/=z,w/=z;var O=u[0],D=u[4],P=u[8],F=O*m+D*M+P*w;O-=m*F,D-=M*F,P-=w*F;var R=b(O,D,P);O/=R,D/=R,P/=R;var N=O*y+m*A,B=D*y+M*A,q=P*y+w*A;this.center.move(k,N,B,q);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+C),this.radius.set(k,Math.log(V))},c.translate=function(k,y,A,C){this.center.move(k,y||0,A||0,C||0)},c.setMatrix=function(k,y,A,C){var u=1;typeof A=="number"&&(u=A|0),(u<0||u>3)&&(u=1);var m=(u+2)%3;y||(this.recalcMatrix(k),y=this.computedMatrix);var M=y[u],w=y[u+4],z=y[u+8];if(C){var O=Math.abs(M),D=Math.abs(w),P=Math.abs(z),F=Math.max(O,D,P);O===F?(M=M<0?-1:1,w=z=0):P===F?(z=z<0?-1:1,M=w=0):(w=w<0?-1:1,M=z=0)}else{var R=b(M,w,z);M/=R,w/=R,z/=R}var N=y[m],B=y[m+4],q=y[m+8],V=N*M+B*w+q*z;N-=M*V,B-=w*V,q-=z*V;var J=b(N,B,q);N/=J,B/=J,q/=J;var it=w*q-z*B,nt=z*N-M*q,Y=M*B-w*N,Z=b(it,nt,Y);it/=Z,nt/=Z,Y/=Z,this.center.jump(k,Pt,Et,Nt),this.radius.idle(k),this.up.jump(k,M,w,z),this.right.jump(k,N,B,q);var $,G;if(u===2){var rt=y[1],ot=y[5],W=y[9],H=rt*N+ot*B+W*q,at=rt*it+ot*nt+W*Y;yt<0?$=-Math.PI/2:$=Math.PI/2,G=Math.atan2(at,H)}else{var Q=y[2],ct=y[6],ft=y[10],yt=Q*M+ct*w+ft*z,xt=Q*N+ct*B+ft*q,Lt=Q*it+ct*nt+ft*Y;$=Math.asin(h(yt)),G=Math.atan2(Lt,xt)}this.angle.jump(k,G,$),this.recalcMatrix(k);var gt=y[2],mt=y[6],vt=y[10],At=this.computedMatrix;l(At,y);var Ot=At[15],Pt=At[12]/Ot,Et=At[13]/Ot,Nt=At[14]/Ot,ne=Math.exp(this.computedRadius[0]);this.center.jump(k,Pt-gt*ne,Et-mt*ne,Nt-vt*ne)},c.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},c.idle=function(k){this.center.idle(k),this.up.idle(k),this.right.idle(k),this.radius.idle(k),this.angle.idle(k)},c.flush=function(k){this.center.flush(k),this.up.flush(k),this.right.flush(k),this.radius.flush(k),this.angle.flush(k)},c.setDistance=function(k,y){y>0&&this.radius.set(k,Math.log(y))},c.lookAt=function(k,y,A,C){this.recalcMatrix(k),y=y||this.computedEye,A=A||this.computedCenter,C=C||this.computedUp;var u=C[0],m=C[1],M=C[2],w=b(u,m,M);if(!(w<1e-6)){u/=w,m/=w,M/=w;var z=y[0]-A[0],O=y[1]-A[1],D=y[2]-A[2],P=b(z,O,D);if(!(P<1e-6)){z/=P,O/=P,D/=P;var F=this.computedRight,R=F[0],N=F[1],B=F[2],q=u*R+m*N+M*B;R-=q*u,N-=q*m,B-=q*M;var V=b(R,N,B);if(!(V<.01&&(R=m*D-M*O,N=M*z-u*D,B=u*O-m*z,V=b(R,N,B),V<1e-6))){R/=V,N/=V,B/=V,this.up.set(k,u,m,M),this.right.set(k,R,N,B),this.center.set(k,A[0],A[1],A[2]),this.radius.set(k,Math.log(P));var J=m*B-M*N,it=M*R-u*B,nt=u*N-m*R,Y=b(J,it,nt);J/=Y,it/=Y,nt/=Y;var Z=u*z+m*O+M*D,$=R*z+N*O+B*D,G=J*z+it*O+nt*D,rt=Math.asin(h(Z)),ot=Math.atan2(G,$),W=this.angle._state,H=W[W.length-1],at=W[W.length-2];H=H%(2*Math.PI);var Q=Math.abs(H+2*Math.PI-ot),ct=Math.abs(H-ot),ft=Math.abs(H-2*Math.PI-ot);Q<ct&&(H+=2*Math.PI),ft<ct&&(H-=2*Math.PI),this.angle.jump(this.angle.lastT(),H,at),this.angle.set(k,ot,rt)}}}};function x(k){k=k||{};var y=k.center||[0,0,0],A=k.up||[0,1,0],C=k.right||_(A),u=k.radius||1,m=k.theta||0,M=k.phi||0;if(y=[].slice.call(y,0,3),A=[].slice.call(A,0,3),o(A,A),C=[].slice.call(C,0,3),o(C,C),"eye"in k){var w=k.eye,z=[w[0]-y[0],w[1]-y[1],w[2]-y[2]];s(C,z,A),b(C[0],C[1],C[2])<1e-6?C=_(A):o(C,C),u=b(z[0],z[1],z[2]);var O=f(A,z)/u,D=f(C,z)/u;M=Math.acos(O),m=Math.acos(D)}return u=Math.log(u),new a(k.zoomMin,k.zoomMax,y,A,C,u,m,M)}},5250:function(v){v.exports=r;var d=+(Math.pow(2,27)+1);function r(e,l,n){var s=e*l,o=d*e,f=o-e,b=o-f,h=e-b,_=d*l,a=_-l,c=_-a,p=l-c,x=s-b*c,k=x-h*c,y=k-b*p,A=h*p-y;return n?(n[0]=A,n[1]=s,n):[A,s]}},9362:function(v){v.exports=d;function d(r,e,l){var n=r+e,s=n-r,o=n-s,f=e-s,b=r-o;return l?(l[0]=b+f,l[1]=n,l):[b+f,n]}},1888:function(v,d,r){var e=r(8828),l=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var s=typeof Uint8ClampedArray<"u",o=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",b=r.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=l([32,0])),b.BIGUINT64||(b.BIGUINT64=l([32,0])),b.BIGINT64||(b.BIGINT64=l([32,0])),b.BUFFER||(b.BUFFER=l([32,0]));var h=b.DATA,_=b.BUFFER;d.free=function(F){if(n.isBuffer(F))_[e.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var R=F.length||F.byteLength,N=e.log2(R)|0;h[N].push(F)}};function a(F){if(F){var R=F.length||F.byteLength,N=e.log2(R);h[N].push(F)}}function c(F){a(F.buffer)}d.freeUint8=d.freeUint16=d.freeUint32=d.freeBigUint64=d.freeInt8=d.freeInt16=d.freeInt32=d.freeBigInt64=d.freeFloat32=d.freeFloat=d.freeFloat64=d.freeDouble=d.freeUint8Clamped=d.freeDataView=c,d.freeArrayBuffer=a,d.freeBuffer=function(F){_[e.log2(F.length)].push(F)},d.malloc=function(F,R){if(R===void 0||R==="arraybuffer")return p(F);switch(R){case"uint8":return x(F);case"uint16":return k(F);case"uint32":return y(F);case"int8":return A(F);case"int16":return C(F);case"int32":return u(F);case"float":case"float32":return m(F);case"double":case"float64":return M(F);case"uint8_clamped":return w(F);case"bigint64":return O(F);case"biguint64":return z(F);case"buffer":return P(F);case"data":case"dataview":return D(F);default:return null}return null};function p(R){var R=e.nextPow2(R),N=e.log2(R),B=h[N];return B.length>0?B.pop():new ArrayBuffer(R)}d.mallocArrayBuffer=p;function x(F){return new Uint8Array(p(F),0,F)}d.mallocUint8=x;function k(F){return new Uint16Array(p(2*F),0,F)}d.mallocUint16=k;function y(F){return new Uint32Array(p(4*F),0,F)}d.mallocUint32=y;function A(F){return new Int8Array(p(F),0,F)}d.mallocInt8=A;function C(F){return new Int16Array(p(2*F),0,F)}d.mallocInt16=C;function u(F){return new Int32Array(p(4*F),0,F)}d.mallocInt32=u;function m(F){return new Float32Array(p(4*F),0,F)}d.mallocFloat32=d.mallocFloat=m;function M(F){return new Float64Array(p(8*F),0,F)}d.mallocFloat64=d.mallocDouble=M;function w(F){return s?new Uint8ClampedArray(p(F),0,F):x(F)}d.mallocUint8Clamped=w;function z(F){return o?new BigUint64Array(p(8*F),0,F):null}d.mallocBigUint64=z;function O(F){return f?new BigInt64Array(p(8*F),0,F):null}d.mallocBigInt64=O;function D(F){return new DataView(p(F),0,F)}d.mallocDataView=D;function P(F){F=e.nextPow2(F);var R=e.log2(F),N=_[R];return N.length>0?N.pop():new n(F)}d.mallocBuffer=P,d.clearCache=function(){for(var F=0;F<32;++F)b.UINT8[F].length=0,b.UINT16[F].length=0,b.UINT32[F].length=0,b.INT8[F].length=0,b.INT16[F].length=0,b.INT32[F].length=0,b.FLOAT[F].length=0,b.DOUBLE[F].length=0,b.BIGUINT64[F].length=0,b.BIGINT64[F].length=0,b.UINT8C[F].length=0,h[F].length=0,_[F].length=0}},1755:function(v){"use restrict";v.exports=d;function d(e){this.roots=new Array(e),this.ranks=new Array(e);for(var l=0;l<e;++l)this.roots[l]=l,this.ranks[l]=0}var r=d.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.find=function(e){for(var l=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[l]!==e;){var s=n[l];n[l]=e,l=s}return e},r.link=function(e,l){var n=this.find(e),s=this.find(l);if(n!==s){var o=this.ranks,f=this.roots,b=o[n],h=o[s];b<h?f[n]=s:h<b?f[s]=n:(f[s]=n,++o[n])}}},1682:function(v){function d(l,n){for(var s=1,o=l.length,f=l[0],b=l[0],h=1;h<o;++h)if(b=f,f=l[h],n(f,b)){if(h===s){s++;continue}l[s++]=f}return l.length=s,l}function r(l){for(var n=1,s=l.length,o=l[0],f=l[0],b=1;b<s;++b,f=o)if(f=o,o=l[b],o!==f){if(b===n){n++;continue}l[n++]=o}return l.length=n,l}function e(l,n,s){return l.length===0?l:n?(s||l.sort(n),d(l,n)):(s||l.sort(),r(l))}v.exports=e},4359:function(v,d,r){v.exports=s;var e=r(7718),l=null,n=null;typeof document<"u"&&(l=document.createElement("canvas"),l.width=8192,l.height=1024,n=l.getContext("2d"));function s(o,f){return(typeof f!="object"||f===null)&&(f={}),e(o,f.canvas||l,f.context||n,f)}},7718:function(v,d,r){v.exports=O,v.exports.processPixels=z;var e=r(3711),l=r(9618),n=r(5878),s=r(332),o=r(2538),f=r(2095),b="b",h="b|",_="i",a="i|",c="sup",p="+",x="+1",k="sub",y="-",A="-1";function C(D,P,F,R){for(var N="<"+D+">",B="</"+D+">",q=N.length,V=B.length,J=P[0]===p||P[0]===y,it=0,nt=-V;it>-1&&(it=F.indexOf(N,it),!(it===-1||(nt=F.indexOf(B,it+q),nt===-1)||nt<=it));){for(var Y=it;Y<nt+V;++Y)if(Y<it+q||Y>=nt)R[Y]=null,F=F.substr(0,Y)+" "+F.substr(Y+1);else if(R[Y]!==null){var Z=R[Y].indexOf(P[0]);Z===-1?R[Y]+=P:J&&(R[Y]=R[Y].substr(0,Z+1)+(1+parseInt(R[Y][Z+1]))+R[Y].substr(Z+2))}var $=it+q,G=F.substr($,nt-$),rt=G.indexOf(N);rt!==-1?it=rt:it=nt+V}return R}function u(D,P,F){for(var R=P.textAlign||"start",N=P.textBaseline||"alphabetic",B=[1073741824,1073741824],q=[0,0],V=D.length,J=0;J<V;++J)for(var it=D[J],nt=0;nt<2;++nt)B[nt]=Math.min(B[nt],it[nt])|0,q[nt]=Math.max(q[nt],it[nt])|0;var Y=0;switch(R){case"center":Y=-.5*(B[0]+q[0]);break;case"right":case"end":Y=-q[0];break;case"left":case"start":Y=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+R+"'")}var Z=0;switch(N){case"hanging":case"top":Z=-B[1];break;case"middle":Z=-.5*(B[1]+q[1]);break;case"alphabetic":case"ideographic":Z=-3*F;break;case"bottom":Z=-q[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+N+"'")}var $=1/F;return"lineHeight"in P?$*=+P.lineHeight:"width"in P?$=P.width/(q[0]-B[0]):"height"in P&&($=P.height/(q[1]-B[1])),D.map(function(G){return[$*(G[0]+Y),$*(G[1]+Z)]})}function m(D,P,F,R,N,B){F=F.replace(/\n/g,""),B.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var q="",V=[];for(H=0;H<F.length;++H)V[H]=q;B.bolds===!0&&(V=C(b,h,F,V)),B.italics===!0&&(V=C(_,a,F,V)),B.superscripts===!0&&(V=C(c,x,F,V)),B.subscripts===!0&&(V=C(k,A,F,V));var J=[],it="";for(H=0;H<F.length;++H)V[H]!==null&&(it+=F[H],J.push(V[H]));var nt=it.split(`
`),Y=nt.length,Z=Math.round(N*R),$=R,G=R*2,rt=0,ot=Y*Z+G;D.height<ot&&(D.height=ot),P.fillStyle="#000",P.fillRect(0,0,D.width,D.height),P.fillStyle="#fff";var W,H,at,Q,ct,ft=0,yt="";function xt(){if(yt!==""){var Nt=P.measureText(yt).width;P.fillText(yt,$+at,G+Q),at+=Nt}}function Lt(){return""+Math.round(ct)+"px "}function gt(Nt,ne){var Gt=""+P.font;if(B.subscripts===!0){var pe=Nt.indexOf(y),Vt=ne.indexOf(y),ae=pe>-1?parseInt(Nt[1+pe]):0,oe=Vt>-1?parseInt(ne[1+Vt]):0;ae!==oe&&(Gt=Gt.replace(Lt(),"?px "),ct*=Math.pow(.75,oe-ae),Gt=Gt.replace("?px ",Lt())),Q+=.25*Z*(oe-ae)}if(B.superscripts===!0){var ce=Nt.indexOf(p),le=ne.indexOf(p),ye=ce>-1?parseInt(Nt[1+ce]):0,Tt=le>-1?parseInt(ne[1+le]):0;ye!==Tt&&(Gt=Gt.replace(Lt(),"?px "),ct*=Math.pow(.75,Tt-ye),Gt=Gt.replace("?px ",Lt())),Q-=.25*Z*(Tt-ye)}if(B.bolds===!0){var Ft=Nt.indexOf(h)>-1,$t=ne.indexOf(h)>-1;!Ft&&$t&&(Wt?Gt=Gt.replace("italic ","italic bold "):Gt="bold "+Gt),Ft&&!$t&&(Gt=Gt.replace("bold ",""))}if(B.italics===!0){var Wt=Nt.indexOf(a)>-1,Bt=ne.indexOf(a)>-1;!Wt&&Bt&&(Gt="italic "+Gt),Wt&&!Bt&&(Gt=Gt.replace("italic ",""))}P.font=Gt}for(W=0;W<Y;++W){var mt=nt[W]+`
`;for(at=0,Q=W*Z,ct=R,yt="",H=0;H<mt.length;++H){var vt=H+ft<J.length?J[H+ft]:J[J.length-1];q===vt?yt+=mt[H]:(xt(),yt=mt[H],vt!==void 0&&(gt(q,vt),q=vt))}xt(),ft+=mt.length;var At=Math.round(at+2*$)|0;rt<At&&(rt=At)}var Ot=rt,Pt=G+Z*Y,Et=l(P.getImageData(0,0,Ot,Pt).data,[Pt,Ot,4]);return Et.pick(-1,-1,0).transpose(1,0)}function M(D,P){var F=e(D,128);return P?n(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function w(D,P,F,R){var N=M(D,R),B=u(N.positions,P,F),q=N.edges,V=P.orientation==="ccw";if(s(B,q),P.polygons||P.polygon||P.polyline){for(var J=f(q,B),it=new Array(J.length),nt=0;nt<J.length;++nt){for(var Y=J[nt],Z=new Array(Y.length),$=0;$<Y.length;++$){for(var G=Y[$],rt=new Array(G.length),ot=0;ot<G.length;++ot)rt[ot]=B[G[ot]].slice();V&&rt.reverse(),Z[$]=rt}it[nt]=Z}return it}else return P.triangles||P.triangulate||P.triangle?{cells:o(B,q,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:q,positions:B}}function z(D,P,F){try{return w(D,P,F,!0)}catch{}try{return w(D,P,F,!1)}catch{}return P.polygons||P.polyline||P.polygon?[]:P.triangles||P.triangulate||P.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function O(D,P,F,R){var N=64,B=1.25,q={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};R&&(R.size&&R.size>0&&(N=R.size),R.lineSpacing&&R.lineSpacing>0&&(B=R.lineSpacing),R.styletags&&R.styletags.breaklines&&(q.breaklines=!!R.styletags.breaklines),R.styletags&&R.styletags.bolds&&(q.bolds=!!R.styletags.bolds),R.styletags&&R.styletags.italics&&(q.italics=!!R.styletags.italics),R.styletags&&R.styletags.subscripts&&(q.subscripts=!!R.styletags.subscripts),R.styletags&&R.styletags.superscripts&&(q.superscripts=!!R.styletags.superscripts)),F.font=[R.fontStyle,R.fontVariant,R.fontWeight,N+"px",R.font].filter(function(J){return J}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var V=m(P,F,D,N,B,q);return z(V,R,N)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function d(m){m.permitHostObjects___&&m.permitHostObjects___(d)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=d);var r=!1;if(typeof WeakMap=="function"){var e=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var l=new e,n=Object.freeze({});if(l.set(n,1),l.get(n)!==1)r=!0;else{v.exports=WeakMap;return}}}var s=Object.getOwnPropertyNames,o=Object.defineProperty,f=Object.isExtensible,b="weakmap:",h=b+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var _=new ArrayBuffer(25),a=new Uint8Array(_);crypto.getRandomValues(a),h=b+"rand:"+Array.prototype.map.call(a,function(m){return(m%36).toString(36)}).join("")+"___"}function c(m){return!(m.substr(0,b.length)==b&&m.substr(m.length-3)==="___")}if(o(Object,"getOwnPropertyNames",{value:function(m){return s(m).filter(c)}}),"getPropertyNames"in Object){var p=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(m){return p(m).filter(c)}})}function x(m){if(m!==Object(m))throw new TypeError("Not an object: "+m);var M=m[h];if(M&&M.key===m)return M;if(f(m)){M={key:m};try{return o(m,h,{value:M,writable:!1,enumerable:!1,configurable:!1}),M}catch{return}}}(function(){var m=Object.freeze;o(Object,"freeze",{value:function(z){return x(z),m(z)}});var M=Object.seal;o(Object,"seal",{value:function(z){return x(z),M(z)}});var w=Object.preventExtensions;o(Object,"preventExtensions",{value:function(z){return x(z),w(z)}})})();function k(m){return m.prototype=null,Object.freeze(m)}var y=!1;function A(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var C=0,u=function(){this instanceof u||A();var m=[],M=[],w=C++;function z(F,R){var N,B=x(F);return B?w in B?B[w]:R:(N=m.indexOf(F),N>=0?M[N]:R)}function O(F){var R=x(F);return R?w in R:m.indexOf(F)>=0}function D(F,R){var N,B=x(F);return B?B[w]=R:(N=m.indexOf(F),N>=0?M[N]=R:(N=m.length,M[N]=R,m[N]=F)),this}function P(F){var R=x(F),N,B;return R?w in R&&delete R[w]:(N=m.indexOf(F),N<0?!1:(B=m.length-1,m[N]=void 0,M[N]=M[B],m[N]=m[B],m.length=B,M.length=B,!0))}return Object.create(u.prototype,{get___:{value:k(z)},has___:{value:k(O)},set___:{value:k(D)},delete___:{value:k(P)}})};u.prototype=Object.create(Object.prototype,{get:{value:function(m,M){return this.get___(m,M)},writable:!0,configurable:!0},has:{value:function(m){return this.has___(m)},writable:!0,configurable:!0},set:{value:function(m,M){return this.set___(m,M)},writable:!0,configurable:!0},delete:{value:function(m){return this.delete___(m)},writable:!0,configurable:!0}}),typeof e=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function m(){this instanceof u||A();var M=new e,w=void 0,z=!1;function O(R,N){return w?M.has(R)?M.get(R):w.get___(R,N):M.get(R,N)}function D(R){return M.has(R)||(w?w.has___(R):!1)}var P;r?P=function(R,N){return M.set(R,N),M.has(R)||(w||(w=new u),w.set(R,N)),this}:P=function(R,N){if(z)try{M.set(R,N)}catch{w||(w=new u),w.set___(R,N)}else M.set(R,N);return this};function F(R){var N=!!M.delete(R);return w&&w.delete___(R)||N}return Object.create(u.prototype,{get___:{value:k(O)},has___:{value:k(D)},set___:{value:k(P)},delete___:{value:k(F)},permitHostObjects___:{value:k(function(R){if(R===d)z=!0;else throw new Error("bogus call to permitHostObjects___")})}})}m.prototype=u.prototype,v.exports=m,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=u)})()},236:function(v,d,r){var e=r(8284);v.exports=l;function l(){var n={};return function(s){if((typeof s!="object"||s===null)&&typeof s!="function")throw new Error("Weakmap-shim: Key must be object");var o=s.valueOf(n);return o&&o.identity===n?o:e(s,n)}}},8284:function(v){v.exports=d;function d(r,e){var l={identity:e},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(s){return s!==e?n.apply(this,arguments):l},writable:!0}),l}},606:function(v,d,r){var e=r(236);v.exports=l;function l(){var n=e();return{get:function(s,o){var f=n(s);return f.hasOwnProperty("value")?f.value:o},set:function(s,o){return n(s).value=o,this},has:function(s){return"value"in n(s)},delete:function(s){return delete n(s).value}}}},3349:function(v){function d(){return function(o,f,b,h,_,a){var c=o[0],p=b[0],x=[0],k=p;h|=0;var y=0,A=p;for(y=0;y<c;++y){{var C=f[h]-a,u=f[h+k]-a;C>=0!=u>=0&&_.push(x[0]+.5+.5*(C+u)/(C-u))}h+=A,++x[0]}}}function r(){return d()}var e=r;function l(o){var f={};return function(b,h,_){var a=b.dtype,c=b.order,p=[a,c.join()].join(),x=f[p];return x||(f[p]=x=o([a,c])),x(b.shape.slice(0),b.data,b.stride,b.offset|0,h,_)}}function n(o){return l(e.bind(void 0,o))}function s(o){return n({funcName:o.funcName})}v.exports=s({funcName:"zeroCrossings"})},781:function(v,d,r){v.exports=l;var e=r(3349);function l(n,s){var o=[];return s=+s||0,e(n.hi(n.shape[0]-1),o,s),o}},7790:function(){}},i={};function L(v){var d=i[v];if(d!==void 0)return d.exports;var r=i[v]={id:v,loaded:!1,exports:{}};return S[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var T=L(1964);tt.exports=T})()},33576:function(tt,U,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function E(Tt,Ft){if(!(Tt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function S(Tt,Ft){for(var $t=0;$t<Ft.length;$t++){var Wt=Ft[$t];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(Tt,L(Wt.key),Wt)}}function i(Tt,Ft,$t){return Ft&&S(Tt.prototype,Ft),$t&&S(Tt,$t),Object.defineProperty(Tt,"prototype",{writable:!1}),Tt}function L(Tt){var Ft=T(Tt,"string");return s(Ft)==="symbol"?Ft:String(Ft)}function T(Tt,Ft){if(s(Tt)!=="object"||Tt===null)return Tt;var $t=Tt[Symbol.toPrimitive];if($t!==void 0){var Wt=$t.call(Tt,Ft||"default");if(s(Wt)!=="object")return Wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ft==="string"?String:Number)(Tt)}function v(Tt,Ft,$t){function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Ft=r(Ft),d(Tt,Wt()?Reflect.construct(Ft,$t||[],r(Tt).constructor):Ft.apply(Tt,$t))}function d(Tt,Ft){if(Ft&&(s(Ft)==="object"||typeof Ft=="function"))return Ft;if(Ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(Tt)}function r(Tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ft){return Ft.__proto__||Object.getPrototypeOf(Ft)},r(Tt)}function e(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}function l(Tt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),Object.defineProperty(Tt,"prototype",{writable:!1}),Ft&&n(Tt,Ft)}function n(Tt,Ft){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($t,Wt){return $t.__proto__=Wt,$t},n(Tt,Ft)}function s(Tt){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ft){return typeof Ft}:function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft},s(Tt)}var o=t(59968),f=t(35984),b=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=c,U.SlowBuffer=z,U.INSPECT_MAX_BYTES=50;var h=2147483647;U.kMaxLength=h,c.TYPED_ARRAY_SUPPORT=_(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _(){try{var Tt=new Uint8Array(1),Ft={foo:function(){return 42}};return Object.setPrototypeOf(Ft,Uint8Array.prototype),Object.setPrototypeOf(Tt,Ft),Tt.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(Tt){if(Tt>h)throw new RangeError('The value "'+Tt+'" is invalid for option "size"');var Ft=new Uint8Array(Tt);return Object.setPrototypeOf(Ft,c.prototype),Ft}function c(Tt,Ft,$t){if(typeof Tt=="number"){if(typeof Ft=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(Tt)}return p(Tt,Ft,$t)}c.poolSize=8192;function p(Tt,Ft,$t){if(typeof Tt=="string")return A(Tt,Ft);if(ArrayBuffer.isView(Tt))return u(Tt);if(Tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(Tt));if(ae(Tt,ArrayBuffer)||Tt&&ae(Tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(Tt,SharedArrayBuffer)||Tt&&ae(Tt.buffer,SharedArrayBuffer)))return m(Tt,Ft,$t);if(typeof Tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Wt=Tt.valueOf&&Tt.valueOf();if(Wt!=null&&Wt!==Tt)return c.from(Wt,Ft,$t);var Bt=M(Tt);if(Bt)return Bt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Tt[Symbol.toPrimitive]=="function")return c.from(Tt[Symbol.toPrimitive]("string"),Ft,$t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(Tt))}c.from=function(Tt,Ft,$t){return p(Tt,Ft,$t)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function x(Tt){if(typeof Tt!="number")throw new TypeError('"size" argument must be of type number');if(Tt<0)throw new RangeError('The value "'+Tt+'" is invalid for option "size"')}function k(Tt,Ft,$t){return x(Tt),Tt<=0?a(Tt):Ft!==void 0?typeof $t=="string"?a(Tt).fill(Ft,$t):a(Tt).fill(Ft):a(Tt)}c.alloc=function(Tt,Ft,$t){return k(Tt,Ft,$t)};function y(Tt){return x(Tt),a(Tt<0?0:w(Tt)|0)}c.allocUnsafe=function(Tt){return y(Tt)},c.allocUnsafeSlow=function(Tt){return y(Tt)};function A(Tt,Ft){if((typeof Ft!="string"||Ft==="")&&(Ft="utf8"),!c.isEncoding(Ft))throw new TypeError("Unknown encoding: "+Ft);var $t=O(Tt,Ft)|0,Wt=a($t),Bt=Wt.write(Tt,Ft);return Bt!==$t&&(Wt=Wt.slice(0,Bt)),Wt}function C(Tt){for(var Ft=Tt.length<0?0:w(Tt.length)|0,$t=a(Ft),Wt=0;Wt<Ft;Wt+=1)$t[Wt]=Tt[Wt]&255;return $t}function u(Tt){if(ae(Tt,Uint8Array)){var Ft=new Uint8Array(Tt);return m(Ft.buffer,Ft.byteOffset,Ft.byteLength)}return C(Tt)}function m(Tt,Ft,$t){if(Ft<0||Tt.byteLength<Ft)throw new RangeError('"offset" is outside of buffer bounds');if(Tt.byteLength<Ft+($t||0))throw new RangeError('"length" is outside of buffer bounds');var Wt;return Ft===void 0&&$t===void 0?Wt=new Uint8Array(Tt):$t===void 0?Wt=new Uint8Array(Tt,Ft):Wt=new Uint8Array(Tt,Ft,$t),Object.setPrototypeOf(Wt,c.prototype),Wt}function M(Tt){if(c.isBuffer(Tt)){var Ft=w(Tt.length)|0,$t=a(Ft);return $t.length===0||Tt.copy($t,0,0,Ft),$t}if(Tt.length!==void 0)return typeof Tt.length!="number"||oe(Tt.length)?a(0):C(Tt);if(Tt.type==="Buffer"&&Array.isArray(Tt.data))return C(Tt.data)}function w(Tt){if(Tt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return Tt|0}function z(Tt){return+Tt!=Tt&&(Tt=0),c.alloc(+Tt)}c.isBuffer=function(Tt){return Tt!=null&&Tt._isBuffer===!0&&Tt!==c.prototype},c.compare=function(Tt,Ft){if(ae(Tt,Uint8Array)&&(Tt=c.from(Tt,Tt.offset,Tt.byteLength)),ae(Ft,Uint8Array)&&(Ft=c.from(Ft,Ft.offset,Ft.byteLength)),!c.isBuffer(Tt)||!c.isBuffer(Ft))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Tt===Ft)return 0;for(var $t=Tt.length,Wt=Ft.length,Bt=0,Mt=Math.min($t,Wt);Bt<Mt;++Bt)if(Tt[Bt]!==Ft[Bt]){$t=Tt[Bt],Wt=Ft[Bt];break}return $t<Wt?-1:Wt<$t?1:0},c.isEncoding=function(Tt){switch(String(Tt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(Tt,Ft){if(!Array.isArray(Tt))throw new TypeError('"list" argument must be an Array of Buffers');if(Tt.length===0)return c.alloc(0);var $t;if(Ft===void 0)for(Ft=0,$t=0;$t<Tt.length;++$t)Ft+=Tt[$t].length;var Wt=c.allocUnsafe(Ft),Bt=0;for($t=0;$t<Tt.length;++$t){var Mt=Tt[$t];if(ae(Mt,Uint8Array))Bt+Mt.length>Wt.length?(c.isBuffer(Mt)||(Mt=c.from(Mt)),Mt.copy(Wt,Bt)):Uint8Array.prototype.set.call(Wt,Mt,Bt);else if(c.isBuffer(Mt))Mt.copy(Wt,Bt);else throw new TypeError('"list" argument must be an Array of Buffers');Bt+=Mt.length}return Wt};function O(Tt,Ft){if(c.isBuffer(Tt))return Tt.length;if(ArrayBuffer.isView(Tt)||ae(Tt,ArrayBuffer))return Tt.byteLength;if(typeof Tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(Tt));var $t=Tt.length,Wt=arguments.length>2&&arguments[2]===!0;if(!Wt&&$t===0)return 0;for(var Bt=!1;;)switch(Ft){case"ascii":case"latin1":case"binary":return $t;case"utf8":case"utf-8":return Nt(Tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $t*2;case"hex":return $t>>>1;case"base64":return pe(Tt).length;default:if(Bt)return Wt?-1:Nt(Tt).length;Ft=(""+Ft).toLowerCase(),Bt=!0}}c.byteLength=O;function D(Tt,Ft,$t){var Wt=!1;if((Ft===void 0||Ft<0)&&(Ft=0),Ft>this.length||(($t===void 0||$t>this.length)&&($t=this.length),$t<=0)||($t>>>=0,Ft>>>=0,$t<=Ft))return"";for(Tt||(Tt="utf8");;)switch(Tt){case"hex":return rt(this,Ft,$t);case"utf8":case"utf-8":return nt(this,Ft,$t);case"ascii":return $(this,Ft,$t);case"latin1":case"binary":return G(this,Ft,$t);case"base64":return it(this,Ft,$t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,Ft,$t);default:if(Wt)throw new TypeError("Unknown encoding: "+Tt);Tt=(Tt+"").toLowerCase(),Wt=!0}}c.prototype._isBuffer=!0;function P(Tt,Ft,$t){var Wt=Tt[Ft];Tt[Ft]=Tt[$t],Tt[$t]=Wt}c.prototype.swap16=function(){var Tt=this.length;if(Tt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ft=0;Ft<Tt;Ft+=2)P(this,Ft,Ft+1);return this},c.prototype.swap32=function(){var Tt=this.length;if(Tt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ft=0;Ft<Tt;Ft+=4)P(this,Ft,Ft+3),P(this,Ft+1,Ft+2);return this},c.prototype.swap64=function(){var Tt=this.length;if(Tt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ft=0;Ft<Tt;Ft+=8)P(this,Ft,Ft+7),P(this,Ft+1,Ft+6),P(this,Ft+2,Ft+5),P(this,Ft+3,Ft+4);return this},c.prototype.toString=function(){var Tt=this.length;return Tt===0?"":arguments.length===0?nt(this,0,Tt):D.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(Tt){if(!c.isBuffer(Tt))throw new TypeError("Argument must be a Buffer");return this===Tt?!0:c.compare(this,Tt)===0},c.prototype.inspect=function(){var Tt="",Ft=U.INSPECT_MAX_BYTES;return Tt=this.toString("hex",0,Ft).replace(/(.{2})/g,"$1 ").trim(),this.length>Ft&&(Tt+=" ... "),"<Buffer "+Tt+">"},b&&(c.prototype[b]=c.prototype.inspect),c.prototype.compare=function(Tt,Ft,$t,Wt,Bt){if(ae(Tt,Uint8Array)&&(Tt=c.from(Tt,Tt.offset,Tt.byteLength)),!c.isBuffer(Tt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(Tt));if(Ft===void 0&&(Ft=0),$t===void 0&&($t=Tt?Tt.length:0),Wt===void 0&&(Wt=0),Bt===void 0&&(Bt=this.length),Ft<0||$t>Tt.length||Wt<0||Bt>this.length)throw new RangeError("out of range index");if(Wt>=Bt&&Ft>=$t)return 0;if(Wt>=Bt)return-1;if(Ft>=$t)return 1;if(Ft>>>=0,$t>>>=0,Wt>>>=0,Bt>>>=0,this===Tt)return 0;for(var Mt=Bt-Wt,St=$t-Ft,Dt=Math.min(Mt,St),dt=this.slice(Wt,Bt),ht=Tt.slice(Ft,$t),bt=0;bt<Dt;++bt)if(dt[bt]!==ht[bt]){Mt=dt[bt],St=ht[bt];break}return Mt<St?-1:St<Mt?1:0};function F(Tt,Ft,$t,Wt,Bt){if(Tt.length===0)return-1;if(typeof $t=="string"?(Wt=$t,$t=0):$t>2147483647?$t=2147483647:$t<-2147483648&&($t=-2147483648),$t=+$t,oe($t)&&($t=Bt?0:Tt.length-1),$t<0&&($t=Tt.length+$t),$t>=Tt.length){if(Bt)return-1;$t=Tt.length-1}else if($t<0)if(Bt)$t=0;else return-1;if(typeof Ft=="string"&&(Ft=c.from(Ft,Wt)),c.isBuffer(Ft))return Ft.length===0?-1:R(Tt,Ft,$t,Wt,Bt);if(typeof Ft=="number")return Ft=Ft&255,typeof Uint8Array.prototype.indexOf=="function"?Bt?Uint8Array.prototype.indexOf.call(Tt,Ft,$t):Uint8Array.prototype.lastIndexOf.call(Tt,Ft,$t):R(Tt,[Ft],$t,Wt,Bt);throw new TypeError("val must be string, number or Buffer")}function R(Tt,Ft,$t,Wt,Bt){var Mt=1,St=Tt.length,Dt=Ft.length;if(Wt!==void 0&&(Wt=String(Wt).toLowerCase(),Wt==="ucs2"||Wt==="ucs-2"||Wt==="utf16le"||Wt==="utf-16le")){if(Tt.length<2||Ft.length<2)return-1;Mt=2,St/=2,Dt/=2,$t/=2}function dt(te,re){return Mt===1?te[re]:te.readUInt16BE(re*Mt)}var ht;if(Bt){var bt=-1;for(ht=$t;ht<St;ht++)if(dt(Tt,ht)===dt(Ft,bt===-1?0:ht-bt)){if(bt===-1&&(bt=ht),ht-bt+1===Dt)return bt*Mt}else bt!==-1&&(ht-=ht-bt),bt=-1}else for($t+Dt>St&&($t=St-Dt),ht=$t;ht>=0;ht--){for(var zt=!0,qt=0;qt<Dt;qt++)if(dt(Tt,ht+qt)!==dt(Ft,qt)){zt=!1;break}if(zt)return ht}return-1}c.prototype.includes=function(Tt,Ft,$t){return this.indexOf(Tt,Ft,$t)!==-1},c.prototype.indexOf=function(Tt,Ft,$t){return F(this,Tt,Ft,$t,!0)},c.prototype.lastIndexOf=function(Tt,Ft,$t){return F(this,Tt,Ft,$t,!1)};function N(Tt,Ft,$t,Wt){$t=Number($t)||0;var Bt=Tt.length-$t;Wt?(Wt=Number(Wt),Wt>Bt&&(Wt=Bt)):Wt=Bt;var Mt=Ft.length;Wt>Mt/2&&(Wt=Mt/2);var St;for(St=0;St<Wt;++St){var Dt=parseInt(Ft.substr(St*2,2),16);if(oe(Dt))return St;Tt[$t+St]=Dt}return St}function B(Tt,Ft,$t,Wt){return Vt(Nt(Ft,Tt.length-$t),Tt,$t,Wt)}function q(Tt,Ft,$t,Wt){return Vt(ne(Ft),Tt,$t,Wt)}function V(Tt,Ft,$t,Wt){return Vt(pe(Ft),Tt,$t,Wt)}function J(Tt,Ft,$t,Wt){return Vt(Gt(Ft,Tt.length-$t),Tt,$t,Wt)}c.prototype.write=function(Tt,Ft,$t,Wt){if(Ft===void 0)Wt="utf8",$t=this.length,Ft=0;else if($t===void 0&&typeof Ft=="string")Wt=Ft,$t=this.length,Ft=0;else if(isFinite(Ft))Ft=Ft>>>0,isFinite($t)?($t=$t>>>0,Wt===void 0&&(Wt="utf8")):(Wt=$t,$t=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Bt=this.length-Ft;if(($t===void 0||$t>Bt)&&($t=Bt),Tt.length>0&&($t<0||Ft<0)||Ft>this.length)throw new RangeError("Attempt to write outside buffer bounds");Wt||(Wt="utf8");for(var Mt=!1;;)switch(Wt){case"hex":return N(this,Tt,Ft,$t);case"utf8":case"utf-8":return B(this,Tt,Ft,$t);case"ascii":case"latin1":case"binary":return q(this,Tt,Ft,$t);case"base64":return V(this,Tt,Ft,$t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,Tt,Ft,$t);default:if(Mt)throw new TypeError("Unknown encoding: "+Wt);Wt=(""+Wt).toLowerCase(),Mt=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function it(Tt,Ft,$t){return Ft===0&&$t===Tt.length?o.fromByteArray(Tt):o.fromByteArray(Tt.slice(Ft,$t))}function nt(Tt,Ft,$t){$t=Math.min(Tt.length,$t);for(var Wt=[],Bt=Ft;Bt<$t;){var Mt=Tt[Bt],St=null,Dt=Mt>239?4:Mt>223?3:Mt>191?2:1;if(Bt+Dt<=$t){var dt=void 0,ht=void 0,bt=void 0,zt=void 0;switch(Dt){case 1:Mt<128&&(St=Mt);break;case 2:dt=Tt[Bt+1],(dt&192)===128&&(zt=(Mt&31)<<6|dt&63,zt>127&&(St=zt));break;case 3:dt=Tt[Bt+1],ht=Tt[Bt+2],(dt&192)===128&&(ht&192)===128&&(zt=(Mt&15)<<12|(dt&63)<<6|ht&63,zt>2047&&(zt<55296||zt>57343)&&(St=zt));break;case 4:dt=Tt[Bt+1],ht=Tt[Bt+2],bt=Tt[Bt+3],(dt&192)===128&&(ht&192)===128&&(bt&192)===128&&(zt=(Mt&15)<<18|(dt&63)<<12|(ht&63)<<6|bt&63,zt>65535&&zt<1114112&&(St=zt))}}St===null?(St=65533,Dt=1):St>65535&&(St-=65536,Wt.push(St>>>10&1023|55296),St=56320|St&1023),Wt.push(St),Bt+=Dt}return Z(Wt)}var Y=4096;function Z(Tt){var Ft=Tt.length;if(Ft<=Y)return String.fromCharCode.apply(String,Tt);for(var $t="",Wt=0;Wt<Ft;)$t+=String.fromCharCode.apply(String,Tt.slice(Wt,Wt+=Y));return $t}function $(Tt,Ft,$t){var Wt="";$t=Math.min(Tt.length,$t);for(var Bt=Ft;Bt<$t;++Bt)Wt+=String.fromCharCode(Tt[Bt]&127);return Wt}function G(Tt,Ft,$t){var Wt="";$t=Math.min(Tt.length,$t);for(var Bt=Ft;Bt<$t;++Bt)Wt+=String.fromCharCode(Tt[Bt]);return Wt}function rt(Tt,Ft,$t){var Wt=Tt.length;(!Ft||Ft<0)&&(Ft=0),(!$t||$t<0||$t>Wt)&&($t=Wt);for(var Bt="",Mt=Ft;Mt<$t;++Mt)Bt+=ce[Tt[Mt]];return Bt}function ot(Tt,Ft,$t){for(var Wt=Tt.slice(Ft,$t),Bt="",Mt=0;Mt<Wt.length-1;Mt+=2)Bt+=String.fromCharCode(Wt[Mt]+Wt[Mt+1]*256);return Bt}c.prototype.slice=function(Tt,Ft){var $t=this.length;Tt=~~Tt,Ft=Ft===void 0?$t:~~Ft,Tt<0?(Tt+=$t,Tt<0&&(Tt=0)):Tt>$t&&(Tt=$t),Ft<0?(Ft+=$t,Ft<0&&(Ft=0)):Ft>$t&&(Ft=$t),Ft<Tt&&(Ft=Tt);var Wt=this.subarray(Tt,Ft);return Object.setPrototypeOf(Wt,c.prototype),Wt};function W(Tt,Ft,$t){if(Tt%1!==0||Tt<0)throw new RangeError("offset is not uint");if(Tt+Ft>$t)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(Tt,Ft,$t){Tt=Tt>>>0,Ft=Ft>>>0,$t||W(Tt,Ft,this.length);for(var Wt=this[Tt],Bt=1,Mt=0;++Mt<Ft&&(Bt*=256);)Wt+=this[Tt+Mt]*Bt;return Wt},c.prototype.readUintBE=c.prototype.readUIntBE=function(Tt,Ft,$t){Tt=Tt>>>0,Ft=Ft>>>0,$t||W(Tt,Ft,this.length);for(var Wt=this[Tt+--Ft],Bt=1;Ft>0&&(Bt*=256);)Wt+=this[Tt+--Ft]*Bt;return Wt},c.prototype.readUint8=c.prototype.readUInt8=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,1,this.length),this[Tt]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,2,this.length),this[Tt]|this[Tt+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,2,this.length),this[Tt]<<8|this[Tt+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,4,this.length),(this[Tt]|this[Tt+1]<<8|this[Tt+2]<<16)+this[Tt+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,4,this.length),this[Tt]*16777216+(this[Tt+1]<<16|this[Tt+2]<<8|this[Tt+3])},c.prototype.readBigUInt64LE=le(function(Tt){Tt=Tt>>>0,At(Tt,"offset");var Ft=this[Tt],$t=this[Tt+7];(Ft===void 0||$t===void 0)&&Ot(Tt,this.length-8);var Wt=Ft+this[++Tt]*Math.pow(2,8)+this[++Tt]*Math.pow(2,16)+this[++Tt]*Math.pow(2,24),Bt=this[++Tt]+this[++Tt]*Math.pow(2,8)+this[++Tt]*Math.pow(2,16)+$t*Math.pow(2,24);return BigInt(Wt)+(BigInt(Bt)<<BigInt(32))}),c.prototype.readBigUInt64BE=le(function(Tt){Tt=Tt>>>0,At(Tt,"offset");var Ft=this[Tt],$t=this[Tt+7];(Ft===void 0||$t===void 0)&&Ot(Tt,this.length-8);var Wt=Ft*Math.pow(2,24)+this[++Tt]*Math.pow(2,16)+this[++Tt]*Math.pow(2,8)+this[++Tt],Bt=this[++Tt]*Math.pow(2,24)+this[++Tt]*Math.pow(2,16)+this[++Tt]*Math.pow(2,8)+$t;return(BigInt(Wt)<<BigInt(32))+BigInt(Bt)}),c.prototype.readIntLE=function(Tt,Ft,$t){Tt=Tt>>>0,Ft=Ft>>>0,$t||W(Tt,Ft,this.length);for(var Wt=this[Tt],Bt=1,Mt=0;++Mt<Ft&&(Bt*=256);)Wt+=this[Tt+Mt]*Bt;return Bt*=128,Wt>=Bt&&(Wt-=Math.pow(2,8*Ft)),Wt},c.prototype.readIntBE=function(Tt,Ft,$t){Tt=Tt>>>0,Ft=Ft>>>0,$t||W(Tt,Ft,this.length);for(var Wt=Ft,Bt=1,Mt=this[Tt+--Wt];Wt>0&&(Bt*=256);)Mt+=this[Tt+--Wt]*Bt;return Bt*=128,Mt>=Bt&&(Mt-=Math.pow(2,8*Ft)),Mt},c.prototype.readInt8=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,1,this.length),this[Tt]&128?(255-this[Tt]+1)*-1:this[Tt]},c.prototype.readInt16LE=function(Tt,Ft){Tt=Tt>>>0,Ft||W(Tt,2,this.length);var $t=this[Tt]|this[Tt+1]<<8;return $t&32768?$t|4294901760:$t},c.prototype.readInt16BE=function(Tt,Ft){Tt=Tt>>>0,Ft||W(Tt,2,this.length);var $t=this[Tt+1]|this[Tt]<<8;return $t&32768?$t|4294901760:$t},c.prototype.readInt32LE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,4,this.length),this[Tt]|this[Tt+1]<<8|this[Tt+2]<<16|this[Tt+3]<<24},c.prototype.readInt32BE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,4,this.length),this[Tt]<<24|this[Tt+1]<<16|this[Tt+2]<<8|this[Tt+3]},c.prototype.readBigInt64LE=le(function(Tt){Tt=Tt>>>0,At(Tt,"offset");var Ft=this[Tt],$t=this[Tt+7];(Ft===void 0||$t===void 0)&&Ot(Tt,this.length-8);var Wt=this[Tt+4]+this[Tt+5]*Math.pow(2,8)+this[Tt+6]*Math.pow(2,16)+($t<<24);return(BigInt(Wt)<<BigInt(32))+BigInt(Ft+this[++Tt]*Math.pow(2,8)+this[++Tt]*Math.pow(2,16)+this[++Tt]*Math.pow(2,24))}),c.prototype.readBigInt64BE=le(function(Tt){Tt=Tt>>>0,At(Tt,"offset");var Ft=this[Tt],$t=this[Tt+7];(Ft===void 0||$t===void 0)&&Ot(Tt,this.length-8);var Wt=(Ft<<24)+this[++Tt]*Math.pow(2,16)+this[++Tt]*Math.pow(2,8)+this[++Tt];return(BigInt(Wt)<<BigInt(32))+BigInt(this[++Tt]*Math.pow(2,24)+this[++Tt]*Math.pow(2,16)+this[++Tt]*Math.pow(2,8)+$t)}),c.prototype.readFloatLE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,4,this.length),f.read(this,Tt,!0,23,4)},c.prototype.readFloatBE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,4,this.length),f.read(this,Tt,!1,23,4)},c.prototype.readDoubleLE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,8,this.length),f.read(this,Tt,!0,52,8)},c.prototype.readDoubleBE=function(Tt,Ft){return Tt=Tt>>>0,Ft||W(Tt,8,this.length),f.read(this,Tt,!1,52,8)};function H(Tt,Ft,$t,Wt,Bt,Mt){if(!c.isBuffer(Tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ft>Bt||Ft<Mt)throw new RangeError('"value" argument is out of bounds');if($t+Wt>Tt.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(Tt,Ft,$t,Wt){if(Tt=+Tt,Ft=Ft>>>0,$t=$t>>>0,!Wt){var Bt=Math.pow(2,8*$t)-1;H(this,Tt,Ft,$t,Bt,0)}var Mt=1,St=0;for(this[Ft]=Tt&255;++St<$t&&(Mt*=256);)this[Ft+St]=Tt/Mt&255;return Ft+$t},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(Tt,Ft,$t,Wt){if(Tt=+Tt,Ft=Ft>>>0,$t=$t>>>0,!Wt){var Bt=Math.pow(2,8*$t)-1;H(this,Tt,Ft,$t,Bt,0)}var Mt=$t-1,St=1;for(this[Ft+Mt]=Tt&255;--Mt>=0&&(St*=256);)this[Ft+Mt]=Tt/St&255;return Ft+$t},c.prototype.writeUint8=c.prototype.writeUInt8=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,1,255,0),this[Ft]=Tt&255,Ft+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,2,65535,0),this[Ft]=Tt&255,this[Ft+1]=Tt>>>8,Ft+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,2,65535,0),this[Ft]=Tt>>>8,this[Ft+1]=Tt&255,Ft+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,4,4294967295,0),this[Ft+3]=Tt>>>24,this[Ft+2]=Tt>>>16,this[Ft+1]=Tt>>>8,this[Ft]=Tt&255,Ft+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,4,4294967295,0),this[Ft]=Tt>>>24,this[Ft+1]=Tt>>>16,this[Ft+2]=Tt>>>8,this[Ft+3]=Tt&255,Ft+4};function at(Tt,Ft,$t,Wt,Bt){vt(Ft,Wt,Bt,Tt,$t,7);var Mt=Number(Ft&BigInt(4294967295));Tt[$t++]=Mt,Mt=Mt>>8,Tt[$t++]=Mt,Mt=Mt>>8,Tt[$t++]=Mt,Mt=Mt>>8,Tt[$t++]=Mt;var St=Number(Ft>>BigInt(32)&BigInt(4294967295));return Tt[$t++]=St,St=St>>8,Tt[$t++]=St,St=St>>8,Tt[$t++]=St,St=St>>8,Tt[$t++]=St,$t}function Q(Tt,Ft,$t,Wt,Bt){vt(Ft,Wt,Bt,Tt,$t,7);var Mt=Number(Ft&BigInt(4294967295));Tt[$t+7]=Mt,Mt=Mt>>8,Tt[$t+6]=Mt,Mt=Mt>>8,Tt[$t+5]=Mt,Mt=Mt>>8,Tt[$t+4]=Mt;var St=Number(Ft>>BigInt(32)&BigInt(4294967295));return Tt[$t+3]=St,St=St>>8,Tt[$t+2]=St,St=St>>8,Tt[$t+1]=St,St=St>>8,Tt[$t]=St,$t+8}c.prototype.writeBigUInt64LE=le(function(Tt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(this,Tt,Ft,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=le(function(Tt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Q(this,Tt,Ft,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(Tt,Ft,$t,Wt){if(Tt=+Tt,Ft=Ft>>>0,!Wt){var Bt=Math.pow(2,8*$t-1);H(this,Tt,Ft,$t,Bt-1,-Bt)}var Mt=0,St=1,Dt=0;for(this[Ft]=Tt&255;++Mt<$t&&(St*=256);)Tt<0&&Dt===0&&this[Ft+Mt-1]!==0&&(Dt=1),this[Ft+Mt]=(Tt/St>>0)-Dt&255;return Ft+$t},c.prototype.writeIntBE=function(Tt,Ft,$t,Wt){if(Tt=+Tt,Ft=Ft>>>0,!Wt){var Bt=Math.pow(2,8*$t-1);H(this,Tt,Ft,$t,Bt-1,-Bt)}var Mt=$t-1,St=1,Dt=0;for(this[Ft+Mt]=Tt&255;--Mt>=0&&(St*=256);)Tt<0&&Dt===0&&this[Ft+Mt+1]!==0&&(Dt=1),this[Ft+Mt]=(Tt/St>>0)-Dt&255;return Ft+$t},c.prototype.writeInt8=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,1,127,-128),Tt<0&&(Tt=255+Tt+1),this[Ft]=Tt&255,Ft+1},c.prototype.writeInt16LE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,2,32767,-32768),this[Ft]=Tt&255,this[Ft+1]=Tt>>>8,Ft+2},c.prototype.writeInt16BE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,2,32767,-32768),this[Ft]=Tt>>>8,this[Ft+1]=Tt&255,Ft+2},c.prototype.writeInt32LE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,4,2147483647,-2147483648),this[Ft]=Tt&255,this[Ft+1]=Tt>>>8,this[Ft+2]=Tt>>>16,this[Ft+3]=Tt>>>24,Ft+4},c.prototype.writeInt32BE=function(Tt,Ft,$t){return Tt=+Tt,Ft=Ft>>>0,$t||H(this,Tt,Ft,4,2147483647,-2147483648),Tt<0&&(Tt=4294967295+Tt+1),this[Ft]=Tt>>>24,this[Ft+1]=Tt>>>16,this[Ft+2]=Tt>>>8,this[Ft+3]=Tt&255,Ft+4},c.prototype.writeBigInt64LE=le(function(Tt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(this,Tt,Ft,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=le(function(Tt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Q(this,Tt,Ft,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ct(Tt,Ft,$t,Wt,Bt,Mt){if($t+Wt>Tt.length)throw new RangeError("Index out of range");if($t<0)throw new RangeError("Index out of range")}function ft(Tt,Ft,$t,Wt,Bt){return Ft=+Ft,$t=$t>>>0,Bt||ct(Tt,Ft,$t,4),f.write(Tt,Ft,$t,Wt,23,4),$t+4}c.prototype.writeFloatLE=function(Tt,Ft,$t){return ft(this,Tt,Ft,!0,$t)},c.prototype.writeFloatBE=function(Tt,Ft,$t){return ft(this,Tt,Ft,!1,$t)};function yt(Tt,Ft,$t,Wt,Bt){return Ft=+Ft,$t=$t>>>0,Bt||ct(Tt,Ft,$t,8),f.write(Tt,Ft,$t,Wt,52,8),$t+8}c.prototype.writeDoubleLE=function(Tt,Ft,$t){return yt(this,Tt,Ft,!0,$t)},c.prototype.writeDoubleBE=function(Tt,Ft,$t){return yt(this,Tt,Ft,!1,$t)},c.prototype.copy=function(Tt,Ft,$t,Wt){if(!c.isBuffer(Tt))throw new TypeError("argument should be a Buffer");if($t||($t=0),!Wt&&Wt!==0&&(Wt=this.length),Ft>=Tt.length&&(Ft=Tt.length),Ft||(Ft=0),Wt>0&&Wt<$t&&(Wt=$t),Wt===$t||Tt.length===0||this.length===0)return 0;if(Ft<0)throw new RangeError("targetStart out of bounds");if($t<0||$t>=this.length)throw new RangeError("Index out of range");if(Wt<0)throw new RangeError("sourceEnd out of bounds");Wt>this.length&&(Wt=this.length),Tt.length-Ft<Wt-$t&&(Wt=Tt.length-Ft+$t);var Bt=Wt-$t;return this===Tt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ft,$t,Wt):Uint8Array.prototype.set.call(Tt,this.subarray($t,Wt),Ft),Bt},c.prototype.fill=function(Tt,Ft,$t,Wt){if(typeof Tt=="string"){if(typeof Ft=="string"?(Wt=Ft,Ft=0,$t=this.length):typeof $t=="string"&&(Wt=$t,$t=this.length),Wt!==void 0&&typeof Wt!="string")throw new TypeError("encoding must be a string");if(typeof Wt=="string"&&!c.isEncoding(Wt))throw new TypeError("Unknown encoding: "+Wt);if(Tt.length===1){var Bt=Tt.charCodeAt(0);(Wt==="utf8"&&Bt<128||Wt==="latin1")&&(Tt=Bt)}}else typeof Tt=="number"?Tt=Tt&255:typeof Tt=="boolean"&&(Tt=Number(Tt));if(Ft<0||this.length<Ft||this.length<$t)throw new RangeError("Out of range index");if($t<=Ft)return this;Ft=Ft>>>0,$t=$t===void 0?this.length:$t>>>0,Tt||(Tt=0);var Mt;if(typeof Tt=="number")for(Mt=Ft;Mt<$t;++Mt)this[Mt]=Tt;else{var St=c.isBuffer(Tt)?Tt:c.from(Tt,Wt),Dt=St.length;if(Dt===0)throw new TypeError('The value "'+Tt+'" is invalid for argument "value"');for(Mt=0;Mt<$t-Ft;++Mt)this[Mt+Ft]=St[Mt%Dt]}return this};var xt={};function Lt(Tt,Ft,$t){xt[Tt]=function(Wt){l(Bt,Wt);function Bt(){var Mt;return E(this,Bt),Mt=v(this,Bt),Object.defineProperty(e(Mt),"message",{value:Ft.apply(e(Mt),arguments),writable:!0,configurable:!0}),Mt.name="".concat(Mt.name," [").concat(Tt,"]"),Mt.stack,delete Mt.name,Mt}return i(Bt,[{key:"code",get:function(){return Tt},set:function(Mt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Mt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Tt,"]: ").concat(this.message)}}]),Bt}($t)}Lt("ERR_BUFFER_OUT_OF_BOUNDS",function(Tt){return Tt?"".concat(Tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Lt("ERR_INVALID_ARG_TYPE",function(Tt,Ft){return'The "'.concat(Tt,'" argument must be of type number. Received type ').concat(s(Ft))},TypeError),Lt("ERR_OUT_OF_RANGE",function(Tt,Ft,$t){var Wt='The value of "'.concat(Tt,'" is out of range.'),Bt=$t;return Number.isInteger($t)&&Math.abs($t)>Math.pow(2,32)?Bt=gt(String($t)):typeof $t=="bigint"&&(Bt=String($t),($t>Math.pow(BigInt(2),BigInt(32))||$t<-Math.pow(BigInt(2),BigInt(32)))&&(Bt=gt(Bt)),Bt+="n"),Wt+=" It must be ".concat(Ft,". Received ").concat(Bt),Wt},RangeError);function gt(Tt){for(var Ft="",$t=Tt.length,Wt=Tt[0]==="-"?1:0;$t>=Wt+4;$t-=3)Ft="_".concat(Tt.slice($t-3,$t)).concat(Ft);return"".concat(Tt.slice(0,$t)).concat(Ft)}function mt(Tt,Ft,$t){At(Ft,"offset"),(Tt[Ft]===void 0||Tt[Ft+$t]===void 0)&&Ot(Ft,Tt.length-($t+1))}function vt(Tt,Ft,$t,Wt,Bt,Mt){if(Tt>$t||Tt<Ft){var St=typeof Ft=="bigint"?"n":"",Dt;throw Mt>3?Ft===0||Ft===BigInt(0)?Dt=">= 0".concat(St," and < 2").concat(St," ** ").concat((Mt+1)*8).concat(St):Dt=">= -(2".concat(St," ** ").concat((Mt+1)*8-1).concat(St,") and < 2 ** ")+"".concat((Mt+1)*8-1).concat(St):Dt=">= ".concat(Ft).concat(St," and <= ").concat($t).concat(St),new xt.ERR_OUT_OF_RANGE("value",Dt,Tt)}mt(Wt,Bt,Mt)}function At(Tt,Ft){if(typeof Tt!="number")throw new xt.ERR_INVALID_ARG_TYPE(Ft,"number",Tt)}function Ot(Tt,Ft,$t){throw Math.floor(Tt)!==Tt?(At(Tt,$t),new xt.ERR_OUT_OF_RANGE($t||"offset","an integer",Tt)):Ft<0?new xt.ERR_BUFFER_OUT_OF_BOUNDS:new xt.ERR_OUT_OF_RANGE($t||"offset",">= ".concat($t?1:0," and <= ").concat(Ft),Tt)}var Pt=/[^+/0-9A-Za-z-_]/g;function Et(Tt){if(Tt=Tt.split("=")[0],Tt=Tt.trim().replace(Pt,""),Tt.length<2)return"";for(;Tt.length%4!==0;)Tt=Tt+"=";return Tt}function Nt(Tt,Ft){Ft=Ft||1/0;for(var $t,Wt=Tt.length,Bt=null,Mt=[],St=0;St<Wt;++St){if($t=Tt.charCodeAt(St),$t>55295&&$t<57344){if(!Bt){if($t>56319){(Ft-=3)>-1&&Mt.push(239,191,189);continue}else if(St+1===Wt){(Ft-=3)>-1&&Mt.push(239,191,189);continue}Bt=$t;continue}if($t<56320){(Ft-=3)>-1&&Mt.push(239,191,189),Bt=$t;continue}$t=(Bt-55296<<10|$t-56320)+65536}else Bt&&(Ft-=3)>-1&&Mt.push(239,191,189);if(Bt=null,$t<128){if((Ft-=1)<0)break;Mt.push($t)}else if($t<2048){if((Ft-=2)<0)break;Mt.push($t>>6|192,$t&63|128)}else if($t<65536){if((Ft-=3)<0)break;Mt.push($t>>12|224,$t>>6&63|128,$t&63|128)}else if($t<1114112){if((Ft-=4)<0)break;Mt.push($t>>18|240,$t>>12&63|128,$t>>6&63|128,$t&63|128)}else throw new Error("Invalid code point")}return Mt}function ne(Tt){for(var Ft=[],$t=0;$t<Tt.length;++$t)Ft.push(Tt.charCodeAt($t)&255);return Ft}function Gt(Tt,Ft){for(var $t,Wt,Bt,Mt=[],St=0;St<Tt.length&&!((Ft-=2)<0);++St)$t=Tt.charCodeAt(St),Wt=$t>>8,Bt=$t%256,Mt.push(Bt),Mt.push(Wt);return Mt}function pe(Tt){return o.toByteArray(Et(Tt))}function Vt(Tt,Ft,$t,Wt){var Bt;for(Bt=0;Bt<Wt&&!(Bt+$t>=Ft.length||Bt>=Tt.length);++Bt)Ft[Bt+$t]=Tt[Bt];return Bt}function ae(Tt,Ft){return Tt instanceof Ft||Tt!=null&&Tt.constructor!=null&&Tt.constructor.name!=null&&Tt.constructor.name===Ft.name}function oe(Tt){return Tt!==Tt}var ce=function(){for(var Tt="0123456789abcdef",Ft=new Array(256),$t=0;$t<16;++$t)for(var Wt=$t*16,Bt=0;Bt<16;++Bt)Ft[Wt+Bt]=Tt[$t]+Tt[Bt];return Ft}();function le(Tt){return typeof BigInt>"u"?ye:Tt}function ye(){throw new Error("BigInt not supported")}},25928:function(tt){tt.exports=S,tt.exports.isMobile=S,tt.exports.default=S;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,E=/android|ipad|playbook|silk/i;function S(i){i||(i={});var L=i.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var T=U.test(L)&&!t.test(L)||!!i.tablet&&E.test(L);return!T&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(T=!0),T}},48932:function(tt,U,t){t.r(U),t.d(U,{sankeyCenter:function(){return l},sankeyCircular:function(){return M},sankeyJustify:function(){return e},sankeyLeft:function(){return d},sankeyRight:function(){return r}});var E=t(84706),S=t(34712),i=t(10132),L=t(6688),T=t.n(L);function v(xt){return xt.target.depth}function d(xt){return xt.depth}function r(xt,Lt){return Lt-1-xt.height}function e(xt,Lt){return xt.sourceLinks.length?xt.depth:Lt-1}function l(xt){return xt.targetLinks.length?xt.depth:xt.sourceLinks.length?(0,E.SY)(xt.sourceLinks,v)-1:0}function n(xt){return function(){return xt}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt};function o(xt,Lt){return b(xt.source,Lt.source)||xt.index-Lt.index}function f(xt,Lt){return b(xt.target,Lt.target)||xt.index-Lt.index}function b(xt,Lt){return xt.partOfCycle===Lt.partOfCycle?xt.y0-Lt.y0:xt.circularLinkType==="top"||Lt.circularLinkType==="bottom"?-1:1}function h(xt){return xt.value}function _(xt){return(xt.y0+xt.y1)/2}function a(xt){return _(xt.source)}function c(xt){return _(xt.target)}function p(xt){return xt.index}function x(xt){return xt.nodes}function k(xt){return xt.links}function y(xt,Lt){var gt=xt.get(Lt);if(!gt)throw new Error("missing: "+Lt);return gt}function A(xt,Lt){return Lt(xt)}var C=25,u=10,m=.3;function M(){var xt=0,Lt=0,gt=1,mt=1,vt=24,At,Ot=p,Pt=e,Et=x,Nt=k,ne=32,Gt=2,pe,Vt=null;function ae(){var Wt={nodes:Et.apply(null,arguments),links:Nt.apply(null,arguments)};oe(Wt),w(Wt,Ot,Vt),ce(Wt),Tt(Wt),z(Wt,Ot),Ft(Wt,ne,Ot),$t(Wt);for(var Bt=4,Mt=0;Mt<Bt;Mt++)H(Wt,mt,Ot),at(Wt,mt,Ot),rt(Wt,Lt,mt,Ot),H(Wt,mt,Ot),at(Wt,mt,Ot);return yt(Wt,Lt,mt),N(Wt,Gt,mt,Ot),Wt}ae.nodeId=function(Wt){return arguments.length?(Ot=typeof Wt=="function"?Wt:n(Wt),ae):Ot},ae.nodeAlign=function(Wt){return arguments.length?(Pt=typeof Wt=="function"?Wt:n(Wt),ae):Pt},ae.nodeWidth=function(Wt){return arguments.length?(vt=+Wt,ae):vt},ae.nodePadding=function(Wt){return arguments.length?(At=+Wt,ae):At},ae.nodes=function(Wt){return arguments.length?(Et=typeof Wt=="function"?Wt:n(Wt),ae):Et},ae.links=function(Wt){return arguments.length?(Nt=typeof Wt=="function"?Wt:n(Wt),ae):Nt},ae.size=function(Wt){return arguments.length?(xt=Lt=0,gt=+Wt[0],mt=+Wt[1],ae):[gt-xt,mt-Lt]},ae.extent=function(Wt){return arguments.length?(xt=+Wt[0][0],gt=+Wt[1][0],Lt=+Wt[0][1],mt=+Wt[1][1],ae):[[xt,Lt],[gt,mt]]},ae.iterations=function(Wt){return arguments.length?(ne=+Wt,ae):ne},ae.circularLinkGap=function(Wt){return arguments.length?(Gt=+Wt,ae):Gt},ae.nodePaddingRatio=function(Wt){return arguments.length?(pe=+Wt,ae):pe},ae.sortNodes=function(Wt){return arguments.length?(Vt=Wt,ae):Vt},ae.update=function(Wt){return z(Wt,Ot),$t(Wt),Wt.links.forEach(function(Bt){Bt.circular&&(Bt.circularLinkType=Bt.y0+Bt.y1<mt?"top":"bottom",Bt.source.circularLinkType=Bt.circularLinkType,Bt.target.circularLinkType=Bt.circularLinkType)}),H(Wt,mt,Ot,!1),at(Wt,mt,Ot),N(Wt,Gt,mt,Ot),Wt};function oe(Wt){Wt.nodes.forEach(function(Mt,St){Mt.index=St,Mt.sourceLinks=[],Mt.targetLinks=[]});var Bt=(0,S.kH)(Wt.nodes,Ot);return Wt.links.forEach(function(Mt,St){Mt.index=St;var Dt=Mt.source,dt=Mt.target;(typeof Dt>"u"?"undefined":s(Dt))!=="object"&&(Dt=Mt.source=y(Bt,Dt)),(typeof dt>"u"?"undefined":s(dt))!=="object"&&(dt=Mt.target=y(Bt,dt)),Dt.sourceLinks.push(Mt),dt.targetLinks.push(Mt)}),Wt}function ce(Wt){Wt.nodes.forEach(function(Bt){Bt.partOfCycle=!1,Bt.value=Math.max((0,E.oh)(Bt.sourceLinks,h),(0,E.oh)(Bt.targetLinks,h)),Bt.sourceLinks.forEach(function(Mt){Mt.circular&&(Bt.partOfCycle=!0,Bt.circularLinkType=Mt.circularLinkType)}),Bt.targetLinks.forEach(function(Mt){Mt.circular&&(Bt.partOfCycle=!0,Bt.circularLinkType=Mt.circularLinkType)})})}function le(Wt){var Bt=0,Mt=0,St=0,Dt=0,dt=(0,E.kv)(Wt.nodes,function(ht){return ht.column});return Wt.links.forEach(function(ht){ht.circular&&(ht.circularLinkType=="top"?Bt=Bt+ht.width:Mt=Mt+ht.width,ht.target.column==0&&(Dt=Dt+ht.width),ht.source.column==dt&&(St=St+ht.width))}),Bt=Bt>0?Bt+C+u:Bt,Mt=Mt>0?Mt+C+u:Mt,St=St>0?St+C+u:St,Dt=Dt>0?Dt+C+u:Dt,{top:Bt,bottom:Mt,left:Dt,right:St}}function ye(Wt,Bt){var Mt=(0,E.kv)(Wt.nodes,function(qt){return qt.column}),St=gt-xt,Dt=mt-Lt,dt=St+Bt.right+Bt.left,ht=Dt+Bt.top+Bt.bottom,bt=St/dt,zt=Dt/ht;return xt=xt*bt+Bt.left,gt=Bt.right==0?gt:gt*bt,Lt=Lt*zt+Bt.top,mt=mt*zt,Wt.nodes.forEach(function(qt){qt.x0=xt+qt.column*((gt-xt-vt)/Mt),qt.x1=qt.x0+vt}),zt}function Tt(Wt){var Bt,Mt,St;for(Bt=Wt.nodes,Mt=[],St=0;Bt.length;++St,Bt=Mt,Mt=[])Bt.forEach(function(Dt){Dt.depth=St,Dt.sourceLinks.forEach(function(dt){Mt.indexOf(dt.target)<0&&!dt.circular&&Mt.push(dt.target)})});for(Bt=Wt.nodes,Mt=[],St=0;Bt.length;++St,Bt=Mt,Mt=[])Bt.forEach(function(Dt){Dt.height=St,Dt.targetLinks.forEach(function(dt){Mt.indexOf(dt.source)<0&&!dt.circular&&Mt.push(dt.source)})});Wt.nodes.forEach(function(Dt){Dt.column=Math.floor(Pt.call(null,Dt,St))})}function Ft(Wt,Bt,Mt){var St=(0,S.UJ)().key(function(qt){return qt.column}).sortKeys(E.XE).entries(Wt.nodes).map(function(qt){return qt.values});ht(Mt),zt();for(var Dt=1,dt=Bt;dt>0;--dt)bt(Dt*=.99,Mt),zt();function ht(qt){if(pe){var te=1/0;St.forEach(function(ge){var be=mt*pe/(ge.length+1);te=be<te?be:te}),At=te}var re=(0,E.SY)(St,function(ge){return(mt-Lt-(ge.length-1)*At)/(0,E.oh)(ge,h)});re=re*m,Wt.links.forEach(function(ge){ge.width=ge.value*re});var Ye=le(Wt),Be=ye(Wt,Ye);re=re*Be,Wt.links.forEach(function(ge){ge.width=ge.value*re}),St.forEach(function(ge){var be=ge.length;ge.forEach(function(Ne,pr){Ne.depth==St.length-1&&be==1||Ne.depth==0&&be==1?(Ne.y0=mt/2-Ne.value*re,Ne.y1=Ne.y0+Ne.value*re):Ne.partOfCycle?P(Ne,qt)==0?(Ne.y0=mt/2+pr,Ne.y1=Ne.y0+Ne.value*re):Ne.circularLinkType=="top"?(Ne.y0=Lt+pr,Ne.y1=Ne.y0+Ne.value*re):(Ne.y0=mt-Ne.value*re-pr,Ne.y1=Ne.y0+Ne.value*re):Ye.top==0||Ye.bottom==0?(Ne.y0=(mt-Lt)/be*pr,Ne.y1=Ne.y0+Ne.value*re):(Ne.y0=(mt-Lt)/2-be/2+pr,Ne.y1=Ne.y0+Ne.value*re)})})}function bt(qt,te){var re=St.length;St.forEach(function(Ye){var Be=Ye.length,ge=Ye[0].depth;Ye.forEach(function(be){var Ne;if((be.sourceLinks.length||be.targetLinks.length)&&!(be.partOfCycle&&P(be,te)>0))if(ge==0&&Be==1)Ne=be.y1-be.y0,be.y0=mt/2-Ne/2,be.y1=mt/2+Ne/2;else if(ge==re-1&&Be==1)Ne=be.y1-be.y0,be.y0=mt/2-Ne/2,be.y1=mt/2+Ne/2;else{var pr=0,fe=(0,E.mo)(be.sourceLinks,c),De=(0,E.mo)(be.targetLinks,a);fe&&De?pr=(fe+De)/2:pr=fe||De;var Ge=(pr-_(be))*qt;be.y0+=Ge,be.y1+=Ge}})})}function zt(){St.forEach(function(qt){var te,re,Ye=Lt,Be=qt.length,ge;for(qt.sort(b),ge=0;ge<Be;++ge)te=qt[ge],re=Ye-te.y0,re>0&&(te.y0+=re,te.y1+=re),Ye=te.y1+At;if(re=Ye-At-mt,re>0)for(Ye=te.y0-=re,te.y1-=re,ge=Be-2;ge>=0;--ge)te=qt[ge],re=te.y1+At-Ye,re>0&&(te.y0-=re,te.y1-=re),Ye=te.y0})}}function $t(Wt){Wt.nodes.forEach(function(Bt){Bt.sourceLinks.sort(f),Bt.targetLinks.sort(o)}),Wt.nodes.forEach(function(Bt){var Mt=Bt.y0,St=Mt,Dt=Bt.y1,dt=Dt;Bt.sourceLinks.forEach(function(ht){ht.circular?(ht.y0=Dt-ht.width/2,Dt=Dt-ht.width):(ht.y0=Mt+ht.width/2,Mt+=ht.width)}),Bt.targetLinks.forEach(function(ht){ht.circular?(ht.y1=dt-ht.width/2,dt=dt-ht.width):(ht.y1=St+ht.width/2,St+=ht.width)})})}return ae}function w(xt,Lt,gt){var mt=0;if(gt===null){for(var vt=[],At=0;At<xt.links.length;At++){var Ot=xt.links[At],Pt=Ot.source.index,Et=Ot.target.index;vt[Pt]||(vt[Pt]=[]),vt[Et]||(vt[Et]=[]),vt[Pt].indexOf(Et)===-1&&vt[Pt].push(Et)}var Nt=T()(vt);Nt.sort(function(Vt,ae){return Vt.length-ae.length});var ne={};for(At=0;At<Nt.length;At++){var Gt=Nt[At],pe=Gt.slice(-2);ne[pe[0]]||(ne[pe[0]]={}),ne[pe[0]][pe[1]]=!0}xt.links.forEach(function(Vt){var ae=Vt.target.index,oe=Vt.source.index;ae===oe||ne[oe]&&ne[oe][ae]?(Vt.circular=!0,Vt.circularLinkID=mt,mt=mt+1):Vt.circular=!1})}else xt.links.forEach(function(Vt){Vt.source[gt]<Vt.target[gt]?Vt.circular=!1:(Vt.circular=!0,Vt.circularLinkID=mt,mt=mt+1)})}function z(xt,Lt){var gt=0,mt=0;xt.links.forEach(function(vt){vt.circular&&(vt.source.circularLinkType||vt.target.circularLinkType?vt.circularLinkType=vt.source.circularLinkType?vt.source.circularLinkType:vt.target.circularLinkType:vt.circularLinkType=gt<mt?"top":"bottom",vt.circularLinkType=="top"?gt=gt+1:mt=mt+1,xt.nodes.forEach(function(At){(A(At,Lt)==A(vt.source,Lt)||A(At,Lt)==A(vt.target,Lt))&&(At.circularLinkType=vt.circularLinkType)}))}),xt.links.forEach(function(vt){vt.circular&&(vt.source.circularLinkType==vt.target.circularLinkType&&(vt.circularLinkType=vt.source.circularLinkType),ft(vt,Lt)&&(vt.circularLinkType=vt.source.circularLinkType))})}function O(xt){var Lt=Math.abs(xt.y1-xt.y0),gt=Math.abs(xt.target.x0-xt.source.x1);return Math.atan(gt/Lt)}function D(xt,Lt){return xt.source.column<Lt.target.column?!1:!(xt.target.column>Lt.source.column)}function P(xt,Lt){var gt=0;xt.sourceLinks.forEach(function(vt){gt=vt.circular&&!ft(vt,Lt)?gt+1:gt});var mt=0;return xt.targetLinks.forEach(function(vt){mt=vt.circular&&!ft(vt,Lt)?mt+1:mt}),gt+mt}function F(xt){var Lt=xt.source.sourceLinks,gt=0;Lt.forEach(function(At){gt=At.circular?gt+1:gt});var mt=xt.target.targetLinks,vt=0;return mt.forEach(function(At){vt=At.circular?vt+1:vt}),!(gt>1||vt>1)}function R(xt,Lt,gt){return xt.sort(q),xt.forEach(function(mt,vt){var At=0;if(ft(mt,gt)&&F(mt))mt.circularPathData.verticalBuffer=At+mt.width/2;else{var Ot=0;for(Ot;Ot<vt;Ot++)if(D(xt[vt],xt[Ot])){var Pt=xt[Ot].circularPathData.verticalBuffer+xt[Ot].width/2+Lt;At=Pt>At?Pt:At}mt.circularPathData.verticalBuffer=At+mt.width/2}}),xt}function N(xt,Lt,gt,mt){var vt=5,At=(0,E.SY)(xt.links,function(Et){return Et.source.y0});xt.links.forEach(function(Et){Et.circular&&(Et.circularPathData={})});var Ot=xt.links.filter(function(Et){return Et.circularLinkType=="top"});R(Ot,Lt,mt);var Pt=xt.links.filter(function(Et){return Et.circularLinkType=="bottom"});R(Pt,Lt,mt),xt.links.forEach(function(Et){if(Et.circular){if(Et.circularPathData.arcRadius=Et.width+u,Et.circularPathData.leftNodeBuffer=vt,Et.circularPathData.rightNodeBuffer=vt,Et.circularPathData.sourceWidth=Et.source.x1-Et.source.x0,Et.circularPathData.sourceX=Et.source.x0+Et.circularPathData.sourceWidth,Et.circularPathData.targetX=Et.target.x0,Et.circularPathData.sourceY=Et.y0,Et.circularPathData.targetY=Et.y1,ft(Et,mt)&&F(Et))Et.circularPathData.leftSmallArcRadius=u+Et.width/2,Et.circularPathData.leftLargeArcRadius=u+Et.width/2,Et.circularPathData.rightSmallArcRadius=u+Et.width/2,Et.circularPathData.rightLargeArcRadius=u+Et.width/2,Et.circularLinkType=="bottom"?(Et.circularPathData.verticalFullExtent=Et.source.y1+C+Et.circularPathData.verticalBuffer,Et.circularPathData.verticalLeftInnerExtent=Et.circularPathData.verticalFullExtent-Et.circularPathData.leftLargeArcRadius,Et.circularPathData.verticalRightInnerExtent=Et.circularPathData.verticalFullExtent-Et.circularPathData.rightLargeArcRadius):(Et.circularPathData.verticalFullExtent=Et.source.y0-C-Et.circularPathData.verticalBuffer,Et.circularPathData.verticalLeftInnerExtent=Et.circularPathData.verticalFullExtent+Et.circularPathData.leftLargeArcRadius,Et.circularPathData.verticalRightInnerExtent=Et.circularPathData.verticalFullExtent+Et.circularPathData.rightLargeArcRadius);else{var Nt=Et.source.column,ne=Et.circularLinkType,Gt=xt.links.filter(function(ae){return ae.source.column==Nt&&ae.circularLinkType==ne});Et.circularLinkType=="bottom"?Gt.sort(J):Gt.sort(V);var pe=0;Gt.forEach(function(ae,oe){ae.circularLinkID==Et.circularLinkID&&(Et.circularPathData.leftSmallArcRadius=u+Et.width/2+pe,Et.circularPathData.leftLargeArcRadius=u+Et.width/2+oe*Lt+pe),pe=pe+ae.width}),Nt=Et.target.column,Gt=xt.links.filter(function(ae){return ae.target.column==Nt&&ae.circularLinkType==ne}),Et.circularLinkType=="bottom"?Gt.sort(nt):Gt.sort(it),pe=0,Gt.forEach(function(ae,oe){ae.circularLinkID==Et.circularLinkID&&(Et.circularPathData.rightSmallArcRadius=u+Et.width/2+pe,Et.circularPathData.rightLargeArcRadius=u+Et.width/2+oe*Lt+pe),pe=pe+ae.width}),Et.circularLinkType=="bottom"?(Et.circularPathData.verticalFullExtent=Math.max(gt,Et.source.y1,Et.target.y1)+C+Et.circularPathData.verticalBuffer,Et.circularPathData.verticalLeftInnerExtent=Et.circularPathData.verticalFullExtent-Et.circularPathData.leftLargeArcRadius,Et.circularPathData.verticalRightInnerExtent=Et.circularPathData.verticalFullExtent-Et.circularPathData.rightLargeArcRadius):(Et.circularPathData.verticalFullExtent=At-C-Et.circularPathData.verticalBuffer,Et.circularPathData.verticalLeftInnerExtent=Et.circularPathData.verticalFullExtent+Et.circularPathData.leftLargeArcRadius,Et.circularPathData.verticalRightInnerExtent=Et.circularPathData.verticalFullExtent+Et.circularPathData.rightLargeArcRadius)}Et.circularPathData.leftInnerExtent=Et.circularPathData.sourceX+Et.circularPathData.leftNodeBuffer,Et.circularPathData.rightInnerExtent=Et.circularPathData.targetX-Et.circularPathData.rightNodeBuffer,Et.circularPathData.leftFullExtent=Et.circularPathData.sourceX+Et.circularPathData.leftLargeArcRadius+Et.circularPathData.leftNodeBuffer,Et.circularPathData.rightFullExtent=Et.circularPathData.targetX-Et.circularPathData.rightLargeArcRadius-Et.circularPathData.rightNodeBuffer}if(Et.circular)Et.path=B(Et);else{var Vt=(0,i.ak)().source(function(ae){var oe=ae.source.x0+(ae.source.x1-ae.source.x0),ce=ae.y0;return[oe,ce]}).target(function(ae){var oe=ae.target.x0,ce=ae.y1;return[oe,ce]});Et.path=Vt(Et)}})}function B(xt){var Lt="";return xt.circularLinkType=="top"?Lt="M"+xt.circularPathData.sourceX+" "+xt.circularPathData.sourceY+" L"+xt.circularPathData.leftInnerExtent+" "+xt.circularPathData.sourceY+" A"+xt.circularPathData.leftLargeArcRadius+" "+xt.circularPathData.leftSmallArcRadius+" 0 0 0 "+xt.circularPathData.leftFullExtent+" "+(xt.circularPathData.sourceY-xt.circularPathData.leftSmallArcRadius)+" L"+xt.circularPathData.leftFullExtent+" "+xt.circularPathData.verticalLeftInnerExtent+" A"+xt.circularPathData.leftLargeArcRadius+" "+xt.circularPathData.leftLargeArcRadius+" 0 0 0 "+xt.circularPathData.leftInnerExtent+" "+xt.circularPathData.verticalFullExtent+" L"+xt.circularPathData.rightInnerExtent+" "+xt.circularPathData.verticalFullExtent+" A"+xt.circularPathData.rightLargeArcRadius+" "+xt.circularPathData.rightLargeArcRadius+" 0 0 0 "+xt.circularPathData.rightFullExtent+" "+xt.circularPathData.verticalRightInnerExtent+" L"+xt.circularPathData.rightFullExtent+" "+(xt.circularPathData.targetY-xt.circularPathData.rightSmallArcRadius)+" A"+xt.circularPathData.rightLargeArcRadius+" "+xt.circularPathData.rightSmallArcRadius+" 0 0 0 "+xt.circularPathData.rightInnerExtent+" "+xt.circularPathData.targetY+" L"+xt.circularPathData.targetX+" "+xt.circularPathData.targetY:Lt="M"+xt.circularPathData.sourceX+" "+xt.circularPathData.sourceY+" L"+xt.circularPathData.leftInnerExtent+" "+xt.circularPathData.sourceY+" A"+xt.circularPathData.leftLargeArcRadius+" "+xt.circularPathData.leftSmallArcRadius+" 0 0 1 "+xt.circularPathData.leftFullExtent+" "+(xt.circularPathData.sourceY+xt.circularPathData.leftSmallArcRadius)+" L"+xt.circularPathData.leftFullExtent+" "+xt.circularPathData.verticalLeftInnerExtent+" A"+xt.circularPathData.leftLargeArcRadius+" "+xt.circularPathData.leftLargeArcRadius+" 0 0 1 "+xt.circularPathData.leftInnerExtent+" "+xt.circularPathData.verticalFullExtent+" L"+xt.circularPathData.rightInnerExtent+" "+xt.circularPathData.verticalFullExtent+" A"+xt.circularPathData.rightLargeArcRadius+" "+xt.circularPathData.rightLargeArcRadius+" 0 0 1 "+xt.circularPathData.rightFullExtent+" "+xt.circularPathData.verticalRightInnerExtent+" L"+xt.circularPathData.rightFullExtent+" "+(xt.circularPathData.targetY+xt.circularPathData.rightSmallArcRadius)+" A"+xt.circularPathData.rightLargeArcRadius+" "+xt.circularPathData.rightSmallArcRadius+" 0 0 1 "+xt.circularPathData.rightInnerExtent+" "+xt.circularPathData.targetY+" L"+xt.circularPathData.targetX+" "+xt.circularPathData.targetY,Lt}function q(xt,Lt){return Y(xt)==Y(Lt)?xt.circularLinkType=="bottom"?J(xt,Lt):V(xt,Lt):Y(Lt)-Y(xt)}function V(xt,Lt){return xt.y0-Lt.y0}function J(xt,Lt){return Lt.y0-xt.y0}function it(xt,Lt){return xt.y1-Lt.y1}function nt(xt,Lt){return Lt.y1-xt.y1}function Y(xt){return xt.target.column-xt.source.column}function Z(xt){return xt.target.x0-xt.source.x1}function $(xt,Lt){var gt=O(xt),mt=Z(Lt)/Math.tan(gt),vt=ct(xt)=="up"?xt.y1+mt:xt.y1-mt;return vt}function G(xt,Lt){var gt=O(xt),mt=Z(Lt)/Math.tan(gt),vt=ct(xt)=="up"?xt.y1-mt:xt.y1+mt;return vt}function rt(xt,Lt,gt,mt){xt.links.forEach(function(vt){if(!vt.circular&&vt.target.column-vt.source.column>1){var At=vt.source.column+1,Ot=vt.target.column-1,Pt=1,Et=Ot-At+1;for(Pt=1;At<=Ot;At++,Pt++)xt.nodes.forEach(function(Nt){if(Nt.column==At){var ne=Pt/(Et+1),Gt=Math.pow(1-ne,3),pe=3*ne*Math.pow(1-ne,2),Vt=3*Math.pow(ne,2)*(1-ne),ae=Math.pow(ne,3),oe=Gt*vt.y0+pe*vt.y0+Vt*vt.y1+ae*vt.y1,ce=oe-vt.width/2,le=oe+vt.width/2,ye;ce>Nt.y0&&ce<Nt.y1?(ye=Nt.y1-ce+10,ye=Nt.circularLinkType=="bottom"?ye:-ye,Nt=W(Nt,ye,Lt,gt),xt.nodes.forEach(function(Tt){A(Tt,mt)==A(Nt,mt)||Tt.column!=Nt.column||ot(Nt,Tt)&&W(Tt,ye,Lt,gt)})):le>Nt.y0&&le<Nt.y1?(ye=le-Nt.y0+10,Nt=W(Nt,ye,Lt,gt),xt.nodes.forEach(function(Tt){A(Tt,mt)==A(Nt,mt)||Tt.column!=Nt.column||Tt.y0<Nt.y1&&Tt.y1>Nt.y1&&W(Tt,ye,Lt,gt)})):ce<Nt.y0&&le>Nt.y1&&(ye=le-Nt.y0+10,Nt=W(Nt,ye,Lt,gt),xt.nodes.forEach(function(Tt){A(Tt,mt)==A(Nt,mt)||Tt.column!=Nt.column||Tt.y0<Nt.y1&&Tt.y1>Nt.y1&&W(Tt,ye,Lt,gt)}))}})}})}function ot(xt,Lt){return xt.y0>Lt.y0&&xt.y0<Lt.y1||xt.y1>Lt.y0&&xt.y1<Lt.y1?!0:xt.y0<Lt.y0&&xt.y1>Lt.y1}function W(xt,Lt,gt,mt){return xt.y0+Lt>=gt&&xt.y1+Lt<=mt&&(xt.y0=xt.y0+Lt,xt.y1=xt.y1+Lt,xt.targetLinks.forEach(function(vt){vt.y1=vt.y1+Lt}),xt.sourceLinks.forEach(function(vt){vt.y0=vt.y0+Lt})),xt}function H(xt,Lt,gt,mt){xt.nodes.forEach(function(vt){mt&&vt.y+(vt.y1-vt.y0)>Lt&&(vt.y=vt.y-(vt.y+(vt.y1-vt.y0)-Lt));var At=xt.links.filter(function(Et){return A(Et.source,gt)==A(vt,gt)}),Ot=At.length;Ot>1&&At.sort(function(Et,Nt){if(!Et.circular&&!Nt.circular){if(Et.target.column==Nt.target.column)return Et.y1-Nt.y1;if(Q(Et,Nt)){if(Et.target.column>Nt.target.column){var ne=G(Nt,Et);return Et.y1-ne}if(Nt.target.column>Et.target.column){var Gt=G(Et,Nt);return Gt-Nt.y1}}else return Et.y1-Nt.y1}if(Et.circular&&!Nt.circular)return Et.circularLinkType=="top"?-1:1;if(Nt.circular&&!Et.circular)return Nt.circularLinkType=="top"?1:-1;if(Et.circular&&Nt.circular)return Et.circularLinkType===Nt.circularLinkType&&Et.circularLinkType=="top"?Et.target.column===Nt.target.column?Et.target.y1-Nt.target.y1:Nt.target.column-Et.target.column:Et.circularLinkType===Nt.circularLinkType&&Et.circularLinkType=="bottom"?Et.target.column===Nt.target.column?Nt.target.y1-Et.target.y1:Et.target.column-Nt.target.column:Et.circularLinkType=="top"?-1:1});var Pt=vt.y0;At.forEach(function(Et){Et.y0=Pt+Et.width/2,Pt=Pt+Et.width}),At.forEach(function(Et,Nt){if(Et.circularLinkType=="bottom"){var ne=Nt+1,Gt=0;for(ne;ne<Ot;ne++)Gt=Gt+At[ne].width;Et.y0=vt.y1-Gt-Et.width/2}})})}function at(xt,Lt,gt){xt.nodes.forEach(function(mt){var vt=xt.links.filter(function(Pt){return A(Pt.target,gt)==A(mt,gt)}),At=vt.length;At>1&&vt.sort(function(Pt,Et){if(!Pt.circular&&!Et.circular){if(Pt.source.column==Et.source.column)return Pt.y0-Et.y0;if(Q(Pt,Et)){if(Et.source.column<Pt.source.column){var Nt=$(Et,Pt);return Pt.y0-Nt}if(Pt.source.column<Et.source.column){var ne=$(Pt,Et);return ne-Et.y0}}else return Pt.y0-Et.y0}if(Pt.circular&&!Et.circular)return Pt.circularLinkType=="top"?-1:1;if(Et.circular&&!Pt.circular)return Et.circularLinkType=="top"?1:-1;if(Pt.circular&&Et.circular)return Pt.circularLinkType===Et.circularLinkType&&Pt.circularLinkType=="top"?Pt.source.column===Et.source.column?Pt.source.y1-Et.source.y1:Pt.source.column-Et.source.column:Pt.circularLinkType===Et.circularLinkType&&Pt.circularLinkType=="bottom"?Pt.source.column===Et.source.column?Pt.source.y1-Et.source.y1:Et.source.column-Pt.source.column:Pt.circularLinkType=="top"?-1:1});var Ot=mt.y0;vt.forEach(function(Pt){Pt.y1=Ot+Pt.width/2,Ot=Ot+Pt.width}),vt.forEach(function(Pt,Et){if(Pt.circularLinkType=="bottom"){var Nt=Et+1,ne=0;for(Nt;Nt<At;Nt++)ne=ne+vt[Nt].width;Pt.y1=mt.y1-ne-Pt.width/2}})})}function Q(xt,Lt){return ct(xt)==ct(Lt)}function ct(xt){return xt.y0-xt.y1>0?"up":"down"}function ft(xt,Lt){return A(xt.source,Lt)==A(xt.target,Lt)}function yt(xt,Lt,gt){var mt=xt.nodes,vt=xt.links,At=!1,Ot=!1;if(vt.forEach(function(pe){pe.circularLinkType=="top"?At=!0:pe.circularLinkType=="bottom"&&(Ot=!0)}),At==!1||Ot==!1){var Pt=(0,E.SY)(mt,function(pe){return pe.y0}),Et=(0,E.kv)(mt,function(pe){return pe.y1}),Nt=Et-Pt,ne=gt-Lt,Gt=ne/Nt;mt.forEach(function(pe){var Vt=(pe.y1-pe.y0)*Gt;pe.y0=(pe.y0-Pt)*Gt,pe.y1=pe.y0+Vt}),vt.forEach(function(pe){pe.y0=(pe.y0-Pt)*Gt,pe.y1=(pe.y1-Pt)*Gt,pe.width=pe.width*Gt})}}},26800:function(tt,U,t){t.r(U),t.d(U,{sankey:function(){return p},sankeyCenter:function(){return d},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return A},sankeyRight:function(){return T}});var E=t(84706),S=t(34712);function i(C){return C.target.depth}function L(C){return C.depth}function T(C,u){return u-1-C.height}function v(C,u){return C.sourceLinks.length?C.depth:u-1}function d(C){return C.targetLinks.length?C.depth:C.sourceLinks.length?(0,E.SY)(C.sourceLinks,i)-1:0}function r(C){return function(){return C}}function e(C,u){return n(C.source,u.source)||C.index-u.index}function l(C,u){return n(C.target,u.target)||C.index-u.index}function n(C,u){return C.y0-u.y0}function s(C){return C.value}function o(C){return(C.y0+C.y1)/2}function f(C){return o(C.source)*C.value}function b(C){return o(C.target)*C.value}function h(C){return C.index}function _(C){return C.nodes}function a(C){return C.links}function c(C,u){var m=C.get(u);if(!m)throw new Error("missing: "+u);return m}function p(){var C=0,u=0,m=1,M=1,w=24,z=8,O=h,D=v,P=_,F=a,R=32,N=2/3;function B(){var Y={nodes:P.apply(null,arguments),links:F.apply(null,arguments)};return q(Y),V(Y),J(Y),it(Y),nt(Y),Y}B.update=function(Y){return nt(Y),Y},B.nodeId=function(Y){return arguments.length?(O=typeof Y=="function"?Y:r(Y),B):O},B.nodeAlign=function(Y){return arguments.length?(D=typeof Y=="function"?Y:r(Y),B):D},B.nodeWidth=function(Y){return arguments.length?(w=+Y,B):w},B.nodePadding=function(Y){return arguments.length?(z=+Y,B):z},B.nodes=function(Y){return arguments.length?(P=typeof Y=="function"?Y:r(Y),B):P},B.links=function(Y){return arguments.length?(F=typeof Y=="function"?Y:r(Y),B):F},B.size=function(Y){return arguments.length?(C=u=0,m=+Y[0],M=+Y[1],B):[m-C,M-u]},B.extent=function(Y){return arguments.length?(C=+Y[0][0],m=+Y[1][0],u=+Y[0][1],M=+Y[1][1],B):[[C,u],[m,M]]},B.iterations=function(Y){return arguments.length?(R=+Y,B):R};function q(Y){Y.nodes.forEach(function($,G){$.index=G,$.sourceLinks=[],$.targetLinks=[]});var Z=(0,S.kH)(Y.nodes,O);Y.links.forEach(function($,G){$.index=G;var rt=$.source,ot=$.target;typeof rt!="object"&&(rt=$.source=c(Z,rt)),typeof ot!="object"&&(ot=$.target=c(Z,ot)),rt.sourceLinks.push($),ot.targetLinks.push($)})}function V(Y){Y.nodes.forEach(function(Z){Z.value=Math.max((0,E.oh)(Z.sourceLinks,s),(0,E.oh)(Z.targetLinks,s))})}function J(Y){var Z,$,G;for(Z=Y.nodes,$=[],G=0;Z.length;++G,Z=$,$=[])Z.forEach(function(ot){ot.depth=G,ot.sourceLinks.forEach(function(W){$.indexOf(W.target)<0&&$.push(W.target)})});for(Z=Y.nodes,$=[],G=0;Z.length;++G,Z=$,$=[])Z.forEach(function(ot){ot.height=G,ot.targetLinks.forEach(function(W){$.indexOf(W.source)<0&&$.push(W.source)})});var rt=(m-C-w)/(G-1);Y.nodes.forEach(function(ot){ot.x1=(ot.x0=C+Math.max(0,Math.min(G-1,Math.floor(D.call(null,ot,G))))*rt)+w})}function it(Y){var Z=(0,S.UJ)().key(function(at){return at.x0}).sortKeys(E.XE).entries(Y.nodes).map(function(at){return at.values});rt(),H();for(var $=1,G=R;G>0;--G)W($*=.99),H(),ot($),H();function rt(){var at=(0,E.kv)(Z,function(ft){return ft.length}),Q=N*(M-u)/(at-1);z>Q&&(z=Q);var ct=(0,E.SY)(Z,function(ft){return(M-u-(ft.length-1)*z)/(0,E.oh)(ft,s)});Z.forEach(function(ft){ft.forEach(function(yt,xt){yt.y1=(yt.y0=xt)+yt.value*ct})}),Y.links.forEach(function(ft){ft.width=ft.value*ct})}function ot(at){Z.forEach(function(Q){Q.forEach(function(ct){if(ct.targetLinks.length){var ft=((0,E.oh)(ct.targetLinks,f)/(0,E.oh)(ct.targetLinks,s)-o(ct))*at;ct.y0+=ft,ct.y1+=ft}})})}function W(at){Z.slice().reverse().forEach(function(Q){Q.forEach(function(ct){if(ct.sourceLinks.length){var ft=((0,E.oh)(ct.sourceLinks,b)/(0,E.oh)(ct.sourceLinks,s)-o(ct))*at;ct.y0+=ft,ct.y1+=ft}})})}function H(){Z.forEach(function(at){var Q,ct,ft=u,yt=at.length,xt;for(at.sort(n),xt=0;xt<yt;++xt)Q=at[xt],ct=ft-Q.y0,ct>0&&(Q.y0+=ct,Q.y1+=ct),ft=Q.y1+z;if(ct=ft-z-M,ct>0)for(ft=Q.y0-=ct,Q.y1-=ct,xt=yt-2;xt>=0;--xt)Q=at[xt],ct=Q.y1+z-ft,ct>0&&(Q.y0-=ct,Q.y1-=ct),ft=Q.y0})}}function nt(Y){Y.nodes.forEach(function(Z){Z.sourceLinks.sort(l),Z.targetLinks.sort(e)}),Y.nodes.forEach(function(Z){var $=Z.y0,G=$;Z.sourceLinks.forEach(function(rt){rt.y0=$+rt.width/2,$+=rt.width}),Z.targetLinks.forEach(function(rt){rt.y1=G+rt.width/2,G+=rt.width})})}return B}var x=t(10132);function k(C){return[C.source.x1,C.y0]}function y(C){return[C.target.x0,C.y1]}function A(){return(0,x.ak)().source(k).target(y)}},33428:function(tt,U,t){var E,S;(function(){var i={version:"3.8.0"},L=[].slice,T=function(lt){return L.call(lt)},v=self.document;function d(lt){return lt&&(lt.ownerDocument||lt.document||lt).documentElement}function r(lt){return lt&&(lt.ownerDocument&&lt.ownerDocument.defaultView||lt.document&&lt||lt.defaultView)}if(v)try{T(v.documentElement.childNodes)[0].nodeType}catch{T=function(lt){for(var _t=lt.length,Ct=new Array(_t);_t--;)Ct[_t]=lt[_t];return Ct}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var e=this.Element.prototype,l=e.setAttribute,n=e.setAttributeNS,s=this.CSSStyleDeclaration.prototype,o=s.setProperty;e.setAttribute=function(lt,_t){l.call(this,lt,_t+"")},e.setAttributeNS=function(lt,_t,Ct){n.call(this,lt,_t,Ct+"")},s.setProperty=function(lt,_t,Ct){o.call(this,lt,_t+"",Ct)}}i.ascending=f;function f(lt,_t){return lt<_t?-1:lt>_t?1:lt>=_t?0:NaN}i.descending=function(lt,_t){return _t<lt?-1:_t>lt?1:_t>=lt?0:NaN},i.min=function(lt,_t){var Ct=-1,Ht=lt.length,Xt,ee;if(arguments.length===1){for(;++Ct<Ht;)if((ee=lt[Ct])!=null&&ee>=ee){Xt=ee;break}for(;++Ct<Ht;)(ee=lt[Ct])!=null&&Xt>ee&&(Xt=ee)}else{for(;++Ct<Ht;)if((ee=_t.call(lt,lt[Ct],Ct))!=null&&ee>=ee){Xt=ee;break}for(;++Ct<Ht;)(ee=_t.call(lt,lt[Ct],Ct))!=null&&Xt>ee&&(Xt=ee)}return Xt},i.max=function(lt,_t){var Ct=-1,Ht=lt.length,Xt,ee;if(arguments.length===1){for(;++Ct<Ht;)if((ee=lt[Ct])!=null&&ee>=ee){Xt=ee;break}for(;++Ct<Ht;)(ee=lt[Ct])!=null&&ee>Xt&&(Xt=ee)}else{for(;++Ct<Ht;)if((ee=_t.call(lt,lt[Ct],Ct))!=null&&ee>=ee){Xt=ee;break}for(;++Ct<Ht;)(ee=_t.call(lt,lt[Ct],Ct))!=null&&ee>Xt&&(Xt=ee)}return Xt},i.extent=function(lt,_t){var Ct=-1,Ht=lt.length,Xt,ee,xe;if(arguments.length===1){for(;++Ct<Ht;)if((ee=lt[Ct])!=null&&ee>=ee){Xt=xe=ee;break}for(;++Ct<Ht;)(ee=lt[Ct])!=null&&(Xt>ee&&(Xt=ee),xe<ee&&(xe=ee))}else{for(;++Ct<Ht;)if((ee=_t.call(lt,lt[Ct],Ct))!=null&&ee>=ee){Xt=xe=ee;break}for(;++Ct<Ht;)(ee=_t.call(lt,lt[Ct],Ct))!=null&&(Xt>ee&&(Xt=ee),xe<ee&&(xe=ee))}return[Xt,xe]};function b(lt){return lt===null?NaN:+lt}function h(lt){return!isNaN(lt)}i.sum=function(lt,_t){var Ct=0,Ht=lt.length,Xt,ee=-1;if(arguments.length===1)for(;++ee<Ht;)h(Xt=+lt[ee])&&(Ct+=Xt);else for(;++ee<Ht;)h(Xt=+_t.call(lt,lt[ee],ee))&&(Ct+=Xt);return Ct},i.mean=function(lt,_t){var Ct=0,Ht=lt.length,Xt,ee=-1,xe=Ht;if(arguments.length===1)for(;++ee<Ht;)h(Xt=b(lt[ee]))?Ct+=Xt:--xe;else for(;++ee<Ht;)h(Xt=b(_t.call(lt,lt[ee],ee)))?Ct+=Xt:--xe;if(xe)return Ct/xe},i.quantile=function(lt,_t){var Ct=(lt.length-1)*_t+1,Ht=Math.floor(Ct),Xt=+lt[Ht-1],ee=Ct-Ht;return ee?Xt+ee*(lt[Ht]-Xt):Xt},i.median=function(lt,_t){var Ct=[],Ht=lt.length,Xt,ee=-1;if(arguments.length===1)for(;++ee<Ht;)h(Xt=b(lt[ee]))&&Ct.push(Xt);else for(;++ee<Ht;)h(Xt=b(_t.call(lt,lt[ee],ee)))&&Ct.push(Xt);if(Ct.length)return i.quantile(Ct.sort(f),.5)},i.variance=function(lt,_t){var Ct=lt.length,Ht=0,Xt,ee,xe=0,me=-1,ze=0;if(arguments.length===1)for(;++me<Ct;)h(Xt=b(lt[me]))&&(ee=Xt-Ht,Ht+=ee/++ze,xe+=ee*(Xt-Ht));else for(;++me<Ct;)h(Xt=b(_t.call(lt,lt[me],me)))&&(ee=Xt-Ht,Ht+=ee/++ze,xe+=ee*(Xt-Ht));if(ze>1)return xe/(ze-1)},i.deviation=function(){var lt=i.variance.apply(this,arguments);return lt&&Math.sqrt(lt)};function _(lt){return{left:function(_t,Ct,Ht,Xt){for(arguments.length<3&&(Ht=0),arguments.length<4&&(Xt=_t.length);Ht<Xt;){var ee=Ht+Xt>>>1;lt(_t[ee],Ct)<0?Ht=ee+1:Xt=ee}return Ht},right:function(_t,Ct,Ht,Xt){for(arguments.length<3&&(Ht=0),arguments.length<4&&(Xt=_t.length);Ht<Xt;){var ee=Ht+Xt>>>1;lt(_t[ee],Ct)>0?Xt=ee:Ht=ee+1}return Ht}}}var a=_(f);i.bisectLeft=a.left,i.bisect=i.bisectRight=a.right,i.bisector=function(lt){return _(lt.length===1?function(_t,Ct){return f(lt(_t),Ct)}:lt)},i.shuffle=function(lt,_t,Ct){(Ht=arguments.length)<3&&(Ct=lt.length,Ht<2&&(_t=0));for(var Ht=Ct-_t,Xt,ee;Ht;)ee=Math.random()*Ht--|0,Xt=lt[Ht+_t],lt[Ht+_t]=lt[ee+_t],lt[ee+_t]=Xt;return lt},i.permute=function(lt,_t){for(var Ct=_t.length,Ht=new Array(Ct);Ct--;)Ht[Ct]=lt[_t[Ct]];return Ht},i.pairs=function(lt){for(var _t=0,Ct=lt.length-1,Ht,Xt=lt[0],ee=new Array(Ct<0?0:Ct);_t<Ct;)ee[_t]=[Ht=Xt,Xt=lt[++_t]];return ee},i.transpose=function(lt){if(!(ee=lt.length))return[];for(var _t=-1,Ct=i.min(lt,c),Ht=new Array(Ct);++_t<Ct;)for(var Xt=-1,ee,xe=Ht[_t]=new Array(ee);++Xt<ee;)xe[Xt]=lt[Xt][_t];return Ht};function c(lt){return lt.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(lt){var _t=[];for(var Ct in lt)_t.push(Ct);return _t},i.values=function(lt){var _t=[];for(var Ct in lt)_t.push(lt[Ct]);return _t},i.entries=function(lt){var _t=[];for(var Ct in lt)_t.push({key:Ct,value:lt[Ct]});return _t},i.merge=function(lt){for(var _t=lt.length,Ct,Ht=-1,Xt=0,ee,xe;++Ht<_t;)Xt+=lt[Ht].length;for(ee=new Array(Xt);--_t>=0;)for(xe=lt[_t],Ct=xe.length;--Ct>=0;)ee[--Xt]=xe[Ct];return ee};var p=Math.abs;i.range=function(lt,_t,Ct){if(arguments.length<3&&(Ct=1,arguments.length<2&&(_t=lt,lt=0)),(_t-lt)/Ct===1/0)throw new Error("infinite range");var Ht=[],Xt=x(p(Ct)),ee=-1,xe;if(lt*=Xt,_t*=Xt,Ct*=Xt,Ct<0)for(;(xe=lt+Ct*++ee)>_t;)Ht.push(xe/Xt);else for(;(xe=lt+Ct*++ee)<_t;)Ht.push(xe/Xt);return Ht};function x(lt){for(var _t=1;lt*_t%1;)_t*=10;return _t}function k(lt,_t){for(var Ct in _t)Object.defineProperty(lt.prototype,Ct,{value:_t[Ct],enumerable:!1})}i.map=function(lt,_t){var Ct=new y;if(lt instanceof y)lt.forEach(function(me,ze){Ct.set(me,ze)});else if(Array.isArray(lt)){var Ht=-1,Xt=lt.length,ee;if(arguments.length===1)for(;++Ht<Xt;)Ct.set(Ht,lt[Ht]);else for(;++Ht<Xt;)Ct.set(_t.call(lt,ee=lt[Ht],Ht),ee)}else for(var xe in lt)Ct.set(xe,lt[xe]);return Ct};function y(){this._=Object.create(null)}var A="__proto__",C="\0";k(y,{has:M,get:function(lt){return this._[u(lt)]},set:function(lt,_t){return this._[u(lt)]=_t},remove:w,keys:z,values:function(){var lt=[];for(var _t in this._)lt.push(this._[_t]);return lt},entries:function(){var lt=[];for(var _t in this._)lt.push({key:m(_t),value:this._[_t]});return lt},size:O,empty:D,forEach:function(lt){for(var _t in this._)lt.call(this,m(_t),this._[_t])}});function u(lt){return(lt+="")===A||lt[0]===C?C+lt:lt}function m(lt){return(lt+="")[0]===C?lt.slice(1):lt}function M(lt){return u(lt)in this._}function w(lt){return(lt=u(lt))in this._&&delete this._[lt]}function z(){var lt=[];for(var _t in this._)lt.push(m(_t));return lt}function O(){var lt=0;for(var _t in this._)++lt;return lt}function D(){for(var lt in this._)return!1;return!0}i.nest=function(){var lt={},_t=[],Ct=[],Ht,Xt;function ee(me,ze,Ie){if(Ie>=_t.length)return Xt?Xt.call(lt,ze):Ht?ze.sort(Ht):ze;for(var Ze=-1,br=ze.length,wr=_t[Ie++],Hr,Jr,Ar,Dr=new y,Yr;++Ze<br;)(Yr=Dr.get(Hr=wr(Jr=ze[Ze])))?Yr.push(Jr):Dr.set(Hr,[Jr]);return me?(Jr=me(),Ar=function(Qr,rn){Jr.set(Qr,ee(me,rn,Ie))}):(Jr={},Ar=function(Qr,rn){Jr[Qr]=ee(me,rn,Ie)}),Dr.forEach(Ar),Jr}function xe(me,ze){if(ze>=_t.length)return me;var Ie=[],Ze=Ct[ze++];return me.forEach(function(br,wr){Ie.push({key:br,values:xe(wr,ze)})}),Ze?Ie.sort(function(br,wr){return Ze(br.key,wr.key)}):Ie}return lt.map=function(me,ze){return ee(ze,me,0)},lt.entries=function(me){return xe(ee(i.map,me,0),0)},lt.key=function(me){return _t.push(me),lt},lt.sortKeys=function(me){return Ct[_t.length-1]=me,lt},lt.sortValues=function(me){return Ht=me,lt},lt.rollup=function(me){return Xt=me,lt},lt},i.set=function(lt){var _t=new P;if(lt)for(var Ct=0,Ht=lt.length;Ct<Ht;++Ct)_t.add(lt[Ct]);return _t};function P(){this._=Object.create(null)}k(P,{has:M,add:function(lt){return this._[u(lt+="")]=!0,lt},remove:w,values:z,size:O,empty:D,forEach:function(lt){for(var _t in this._)lt.call(this,m(_t))}}),i.behavior={};function F(lt){return lt}i.rebind=function(lt,_t){for(var Ct=1,Ht=arguments.length,Xt;++Ct<Ht;)lt[Xt=arguments[Ct]]=R(lt,_t,_t[Xt]);return lt};function R(lt,_t,Ct){return function(){var Ht=Ct.apply(_t,arguments);return Ht===_t?lt:Ht}}function N(lt,_t){if(_t in lt)return _t;_t=_t.charAt(0).toUpperCase()+_t.slice(1);for(var Ct=0,Ht=B.length;Ct<Ht;++Ct){var Xt=B[Ct]+_t;if(Xt in lt)return Xt}}var B=["webkit","ms","moz","Moz","o","O"];function q(){}i.dispatch=function(){for(var lt=new V,_t=-1,Ct=arguments.length;++_t<Ct;)lt[arguments[_t]]=J(lt);return lt};function V(){}V.prototype.on=function(lt,_t){var Ct=lt.indexOf("."),Ht="";if(Ct>=0&&(Ht=lt.slice(Ct+1),lt=lt.slice(0,Ct)),lt)return arguments.length<2?this[lt].on(Ht):this[lt].on(Ht,_t);if(arguments.length===2){if(_t==null)for(lt in this)this.hasOwnProperty(lt)&&this[lt].on(Ht,null);return this}};function J(lt){var _t=[],Ct=new y;function Ht(){for(var Xt=_t,ee=-1,xe=Xt.length,me;++ee<xe;)(me=Xt[ee].on)&&me.apply(this,arguments);return lt}return Ht.on=function(Xt,ee){var xe=Ct.get(Xt),me;return arguments.length<2?xe&&xe.on:(xe&&(xe.on=null,_t=_t.slice(0,me=_t.indexOf(xe)).concat(_t.slice(me+1)),Ct.remove(Xt)),ee&&_t.push(Ct.set(Xt,{on:ee})),lt)},Ht}i.event=null;function it(){i.event.preventDefault()}function nt(){for(var lt=i.event,_t;_t=lt.sourceEvent;)lt=_t;return lt}function Y(lt){for(var _t=new V,Ct=0,Ht=arguments.length;++Ct<Ht;)_t[arguments[Ct]]=J(_t);return _t.of=function(Xt,ee){return function(xe){try{var me=xe.sourceEvent=i.event;xe.target=lt,i.event=xe,_t[xe.type].apply(Xt,ee)}finally{i.event=me}}},_t}i.requote=function(lt){return lt.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(lt,_t){lt.__proto__=_t}:function(lt,_t){for(var Ct in _t)lt[Ct]=_t[Ct]};function G(lt){return $(lt,H),lt}var rt=function(lt,_t){return _t.querySelector(lt)},ot=function(lt,_t){return _t.querySelectorAll(lt)},W=function(lt,_t){var Ct=lt.matches||lt[N(lt,"matchesSelector")];return W=function(Ht,Xt){return Ct.call(Ht,Xt)},W(lt,_t)};typeof Sizzle=="function"&&(rt=function(lt,_t){return Sizzle(lt,_t)[0]||null},ot=Sizzle,W=Sizzle.matchesSelector),i.selection=function(){return i.select(v.documentElement)};var H=i.selection.prototype=[];H.select=function(lt){var _t=[],Ct,Ht,Xt,ee;lt=at(lt);for(var xe=-1,me=this.length;++xe<me;){_t.push(Ct=[]),Ct.parentNode=(Xt=this[xe]).parentNode;for(var ze=-1,Ie=Xt.length;++ze<Ie;)(ee=Xt[ze])?(Ct.push(Ht=lt.call(ee,ee.__data__,ze,xe)),Ht&&"__data__"in ee&&(Ht.__data__=ee.__data__)):Ct.push(null)}return G(_t)};function at(lt){return typeof lt=="function"?lt:function(){return rt(lt,this)}}H.selectAll=function(lt){var _t=[],Ct,Ht;lt=Q(lt);for(var Xt=-1,ee=this.length;++Xt<ee;)for(var xe=this[Xt],me=-1,ze=xe.length;++me<ze;)(Ht=xe[me])&&(_t.push(Ct=T(lt.call(Ht,Ht.__data__,me,Xt))),Ct.parentNode=Ht);return G(_t)};function Q(lt){return typeof lt=="function"?lt:function(){return ot(lt,this)}}var ct="http://www.w3.org/1999/xhtml",ft={svg:"http://www.w3.org/2000/svg",xhtml:ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:ft,qualify:function(lt){var _t=lt.indexOf(":"),Ct=lt;return _t>=0&&(Ct=lt.slice(0,_t))!=="xmlns"&&(lt=lt.slice(_t+1)),ft.hasOwnProperty(Ct)?{space:ft[Ct],local:lt}:lt}},H.attr=function(lt,_t){if(arguments.length<2){if(typeof lt=="string"){var Ct=this.node();return lt=i.ns.qualify(lt),lt.local?Ct.getAttributeNS(lt.space,lt.local):Ct.getAttribute(lt)}for(_t in lt)this.each(yt(_t,lt[_t]));return this}return this.each(yt(lt,_t))};function yt(lt,_t){lt=i.ns.qualify(lt);function Ct(){this.removeAttribute(lt)}function Ht(){this.removeAttributeNS(lt.space,lt.local)}function Xt(){this.setAttribute(lt,_t)}function ee(){this.setAttributeNS(lt.space,lt.local,_t)}function xe(){var ze=_t.apply(this,arguments);ze==null?this.removeAttribute(lt):this.setAttribute(lt,ze)}function me(){var ze=_t.apply(this,arguments);ze==null?this.removeAttributeNS(lt.space,lt.local):this.setAttributeNS(lt.space,lt.local,ze)}return _t==null?lt.local?Ht:Ct:typeof _t=="function"?lt.local?me:xe:lt.local?ee:Xt}function xt(lt){return lt.trim().replace(/\s+/g," ")}H.classed=function(lt,_t){if(arguments.length<2){if(typeof lt=="string"){var Ct=this.node(),Ht=(lt=gt(lt)).length,Xt=-1;if(_t=Ct.classList){for(;++Xt<Ht;)if(!_t.contains(lt[Xt]))return!1}else for(_t=Ct.getAttribute("class");++Xt<Ht;)if(!Lt(lt[Xt]).test(_t))return!1;return!0}for(_t in lt)this.each(mt(_t,lt[_t]));return this}return this.each(mt(lt,_t))};function Lt(lt){return new RegExp("(?:^|\\s+)"+i.requote(lt)+"(?:\\s+|$)","g")}function gt(lt){return(lt+"").trim().split(/^|\s+/)}function mt(lt,_t){lt=gt(lt).map(vt);var Ct=lt.length;function Ht(){for(var ee=-1;++ee<Ct;)lt[ee](this,_t)}function Xt(){for(var ee=-1,xe=_t.apply(this,arguments);++ee<Ct;)lt[ee](this,xe)}return typeof _t=="function"?Xt:Ht}function vt(lt){var _t=Lt(lt);return function(Ct,Ht){if(Xt=Ct.classList)return Ht?Xt.add(lt):Xt.remove(lt);var Xt=Ct.getAttribute("class")||"";Ht?(_t.lastIndex=0,_t.test(Xt)||Ct.setAttribute("class",xt(Xt+" "+lt))):Ct.setAttribute("class",xt(Xt.replace(_t," ")))}}H.style=function(lt,_t,Ct){var Ht=arguments.length;if(Ht<3){if(typeof lt!="string"){Ht<2&&(_t="");for(Ct in lt)this.each(At(Ct,lt[Ct],_t));return this}if(Ht<2){var Xt=this.node();return r(Xt).getComputedStyle(Xt,null).getPropertyValue(lt)}Ct=""}return this.each(At(lt,_t,Ct))};function At(lt,_t,Ct){function Ht(){this.style.removeProperty(lt)}function Xt(){this.style.setProperty(lt,_t,Ct)}function ee(){var xe=_t.apply(this,arguments);xe==null?this.style.removeProperty(lt):this.style.setProperty(lt,xe,Ct)}return _t==null?Ht:typeof _t=="function"?ee:Xt}H.property=function(lt,_t){if(arguments.length<2){if(typeof lt=="string")return this.node()[lt];for(_t in lt)this.each(Ot(_t,lt[_t]));return this}return this.each(Ot(lt,_t))};function Ot(lt,_t){function Ct(){delete this[lt]}function Ht(){this[lt]=_t}function Xt(){var ee=_t.apply(this,arguments);ee==null?delete this[lt]:this[lt]=ee}return _t==null?Ct:typeof _t=="function"?Xt:Ht}H.text=function(lt){return arguments.length?this.each(typeof lt=="function"?function(){var _t=lt.apply(this,arguments);this.textContent=_t??""}:lt==null?function(){this.textContent=""}:function(){this.textContent=lt}):this.node().textContent},H.html=function(lt){return arguments.length?this.each(typeof lt=="function"?function(){var _t=lt.apply(this,arguments);this.innerHTML=_t??""}:lt==null?function(){this.innerHTML=""}:function(){this.innerHTML=lt}):this.node().innerHTML},H.append=function(lt){return lt=Pt(lt),this.select(function(){return this.appendChild(lt.apply(this,arguments))})};function Pt(lt){function _t(){var Ht=this.ownerDocument,Xt=this.namespaceURI;return Xt===ct&&Ht.documentElement.namespaceURI===ct?Ht.createElement(lt):Ht.createElementNS(Xt,lt)}function Ct(){return this.ownerDocument.createElementNS(lt.space,lt.local)}return typeof lt=="function"?lt:(lt=i.ns.qualify(lt)).local?Ct:_t}H.insert=function(lt,_t){return lt=Pt(lt),_t=at(_t),this.select(function(){return this.insertBefore(lt.apply(this,arguments),_t.apply(this,arguments)||null)})},H.remove=function(){return this.each(Et)};function Et(){var lt=this.parentNode;lt&&lt.removeChild(this)}H.data=function(lt,_t){var Ct=-1,Ht=this.length,Xt,ee;if(!arguments.length){for(lt=new Array(Ht=(Xt=this[0]).length);++Ct<Ht;)(ee=Xt[Ct])&&(lt[Ct]=ee.__data__);return lt}function xe(Ze,br){var wr,Hr=Ze.length,Jr=br.length,Ar=Math.min(Hr,Jr),Dr=new Array(Jr),Yr=new Array(Jr),Qr=new Array(Hr),rn,Vr;if(_t){var zn=new y,Hn=new Array(Hr),ti;for(wr=-1;++wr<Hr;)(rn=Ze[wr])&&(zn.has(ti=_t.call(rn,rn.__data__,wr))?Qr[wr]=rn:zn.set(ti,rn),Hn[wr]=ti);for(wr=-1;++wr<Jr;)(rn=zn.get(ti=_t.call(br,Vr=br[wr],wr)))?rn!==!0&&(Dr[wr]=rn,rn.__data__=Vr):Yr[wr]=Nt(Vr),zn.set(ti,!0);for(wr=-1;++wr<Hr;)wr in Hn&&zn.get(Hn[wr])!==!0&&(Qr[wr]=Ze[wr])}else{for(wr=-1;++wr<Ar;)rn=Ze[wr],Vr=br[wr],rn?(rn.__data__=Vr,Dr[wr]=rn):Yr[wr]=Nt(Vr);for(;wr<Jr;++wr)Yr[wr]=Nt(br[wr]);for(;wr<Hr;++wr)Qr[wr]=Ze[wr]}Yr.update=Dr,Yr.parentNode=Dr.parentNode=Qr.parentNode=Ze.parentNode,me.push(Yr),ze.push(Dr),Ie.push(Qr)}var me=Vt([]),ze=G([]),Ie=G([]);if(typeof lt=="function")for(;++Ct<Ht;)xe(Xt=this[Ct],lt.call(Xt,Xt.parentNode.__data__,Ct));else for(;++Ct<Ht;)xe(Xt=this[Ct],lt);return ze.enter=function(){return me},ze.exit=function(){return Ie},ze};function Nt(lt){return{__data__:lt}}H.datum=function(lt){return arguments.length?this.property("__data__",lt):this.property("__data__")},H.filter=function(lt){var _t=[],Ct,Ht,Xt;typeof lt!="function"&&(lt=ne(lt));for(var ee=0,xe=this.length;ee<xe;ee++){_t.push(Ct=[]),Ct.parentNode=(Ht=this[ee]).parentNode;for(var me=0,ze=Ht.length;me<ze;me++)(Xt=Ht[me])&&lt.call(Xt,Xt.__data__,me,ee)&&Ct.push(Xt)}return G(_t)};function ne(lt){return function(){return W(this,lt)}}H.order=function(){for(var lt=-1,_t=this.length;++lt<_t;)for(var Ct=this[lt],Ht=Ct.length-1,Xt=Ct[Ht],ee;--Ht>=0;)(ee=Ct[Ht])&&(Xt&&Xt!==ee.nextSibling&&Xt.parentNode.insertBefore(ee,Xt),Xt=ee);return this},H.sort=function(lt){lt=Gt.apply(this,arguments);for(var _t=-1,Ct=this.length;++_t<Ct;)this[_t].sort(lt);return this.order()};function Gt(lt){return arguments.length||(lt=f),function(_t,Ct){return _t&&Ct?lt(_t.__data__,Ct.__data__):!_t-!Ct}}H.each=function(lt){return pe(this,function(_t,Ct,Ht){lt.call(_t,_t.__data__,Ct,Ht)})};function pe(lt,_t){for(var Ct=0,Ht=lt.length;Ct<Ht;Ct++)for(var Xt=lt[Ct],ee=0,xe=Xt.length,me;ee<xe;ee++)(me=Xt[ee])&&_t(me,ee,Ct);return lt}H.call=function(lt){var _t=T(arguments);return lt.apply(_t[0]=this,_t),this},H.empty=function(){return!this.node()},H.node=function(){for(var lt=0,_t=this.length;lt<_t;lt++)for(var Ct=this[lt],Ht=0,Xt=Ct.length;Ht<Xt;Ht++){var ee=Ct[Ht];if(ee)return ee}return null},H.size=function(){var lt=0;return pe(this,function(){++lt}),lt};function Vt(lt){return $(lt,ae),lt}var ae=[];i.selection.enter=Vt,i.selection.enter.prototype=ae,ae.append=H.append,ae.empty=H.empty,ae.node=H.node,ae.call=H.call,ae.size=H.size,ae.select=function(lt){for(var _t=[],Ct,Ht,Xt,ee,xe,me=-1,ze=this.length;++me<ze;){Xt=(ee=this[me]).update,_t.push(Ct=[]),Ct.parentNode=ee.parentNode;for(var Ie=-1,Ze=ee.length;++Ie<Ze;)(xe=ee[Ie])?(Ct.push(Xt[Ie]=Ht=lt.call(ee.parentNode,xe.__data__,Ie,me)),Ht.__data__=xe.__data__):Ct.push(null)}return G(_t)},ae.insert=function(lt,_t){return arguments.length<2&&(_t=oe(this)),H.insert.call(this,lt,_t)};function oe(lt){var _t,Ct;return function(Ht,Xt,ee){var xe=lt[ee].update,me=xe.length,ze;for(ee!=Ct&&(Ct=ee,_t=0),Xt>=_t&&(_t=Xt+1);!(ze=xe[_t])&&++_t<me;);return ze}}i.select=function(lt){var _t;return typeof lt=="string"?(_t=[rt(lt,v)],_t.parentNode=v.documentElement):(_t=[lt],_t.parentNode=d(lt)),G([_t])},i.selectAll=function(lt){var _t;return typeof lt=="string"?(_t=T(ot(lt,v)),_t.parentNode=v.documentElement):(_t=T(lt),_t.parentNode=null),G([_t])},H.on=function(lt,_t,Ct){var Ht=arguments.length;if(Ht<3){if(typeof lt!="string"){Ht<2&&(_t=!1);for(Ct in lt)this.each(ce(Ct,lt[Ct],_t));return this}if(Ht<2)return(Ht=this.node()["__on"+lt])&&Ht._;Ct=!1}return this.each(ce(lt,_t,Ct))};function ce(lt,_t,Ct){var Ht="__on"+lt,Xt=lt.indexOf("."),ee=ye;Xt>0&&(lt=lt.slice(0,Xt));var xe=le.get(lt);xe&&(lt=xe,ee=Tt);function me(){var Ze=this[Ht];Ze&&(this.removeEventListener(lt,Ze,Ze.$),delete this[Ht])}function ze(){var Ze=ee(_t,T(arguments));me.call(this),this.addEventListener(lt,this[Ht]=Ze,Ze.$=Ct),Ze._=_t}function Ie(){var Ze=new RegExp("^__on([^.]+)"+i.requote(lt)+"$"),br;for(var wr in this)if(br=wr.match(Ze)){var Hr=this[wr];this.removeEventListener(br[1],Hr,Hr.$),delete this[wr]}}return Xt?_t?ze:me:_t?q:Ie}var le=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&le.forEach(function(lt){"on"+lt in v&&le.remove(lt)});function ye(lt,_t){return function(Ct){var Ht=i.event;i.event=Ct,_t[0]=this.__data__;try{lt.apply(this,_t)}finally{i.event=Ht}}}function Tt(lt,_t){var Ct=ye(lt,_t);return function(Ht){var Xt=this,ee=Ht.relatedTarget;(!ee||ee!==Xt&&!(ee.compareDocumentPosition(Xt)&8))&&Ct.call(Xt,Ht)}}var Ft,$t=0;function Wt(lt){var _t=".dragsuppress-"+ ++$t,Ct="click"+_t,Ht=i.select(r(lt)).on("touchmove"+_t,it).on("dragstart"+_t,it).on("selectstart"+_t,it);if(Ft==null&&(Ft="onselectstart"in lt?!1:N(lt.style,"userSelect")),Ft){var Xt=d(lt).style,ee=Xt[Ft];Xt[Ft]="none"}return function(xe){if(Ht.on(_t,null),Ft&&(Xt[Ft]=ee),xe){var me=function(){Ht.on(Ct,null)};Ht.on(Ct,function(){it(),me()},!0),setTimeout(me,0)}}}i.mouse=function(lt){return Mt(lt,nt())};var Bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Mt(lt,_t){_t.changedTouches&&(_t=_t.changedTouches[0]);var Ct=lt.ownerSVGElement||lt;if(Ct.createSVGPoint){var Ht=Ct.createSVGPoint();if(Bt<0){var Xt=r(lt);if(Xt.scrollX||Xt.scrollY){Ct=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ee=Ct[0][0].getScreenCTM();Bt=!(ee.f||ee.e),Ct.remove()}}return Bt?(Ht.x=_t.pageX,Ht.y=_t.pageY):(Ht.x=_t.clientX,Ht.y=_t.clientY),Ht=Ht.matrixTransform(lt.getScreenCTM().inverse()),[Ht.x,Ht.y]}var xe=lt.getBoundingClientRect();return[_t.clientX-xe.left-lt.clientLeft,_t.clientY-xe.top-lt.clientTop]}i.touch=function(lt,_t,Ct){if(arguments.length<3&&(Ct=_t,_t=nt().changedTouches),_t){for(var Ht=0,Xt=_t.length,ee;Ht<Xt;++Ht)if((ee=_t[Ht]).identifier===Ct)return Mt(lt,ee)}},i.behavior.drag=function(){var lt=Y(Xt,"drag","dragstart","dragend"),_t=null,Ct=ee(q,i.mouse,r,"mousemove","mouseup"),Ht=ee(St,i.touch,F,"touchmove","touchend");function Xt(){this.on("mousedown.drag",Ct).on("touchstart.drag",Ht)}function ee(xe,me,ze,Ie,Ze){return function(){var br=this,wr=i.event.target.correspondingElement||i.event.target,Hr=br.parentNode,Jr=lt.of(br,arguments),Ar=0,Dr=xe(),Yr=".drag"+(Dr==null?"":"-"+Dr),Qr,rn=i.select(ze(wr)).on(Ie+Yr,Hn).on(Ze+Yr,ti),Vr=Wt(wr),zn=me(Hr,Dr);_t?(Qr=_t.apply(br,arguments),Qr=[Qr.x-zn[0],Qr.y-zn[1]]):Qr=[0,0],Jr({type:"dragstart"});function Hn(){var Gn=me(Hr,Dr),Jn,ei;Gn&&(Jn=Gn[0]-zn[0],ei=Gn[1]-zn[1],Ar|=Jn|ei,zn=Gn,Jr({type:"drag",x:Gn[0]+Qr[0],y:Gn[1]+Qr[1],dx:Jn,dy:ei}))}function ti(){me(Hr,Dr)&&(rn.on(Ie+Yr,null).on(Ze+Yr,null),Vr(Ar),Jr({type:"dragend"}))}}}return Xt.origin=function(xe){return arguments.length?(_t=xe,Xt):_t},i.rebind(Xt,lt,"on")};function St(){return i.event.changedTouches[0].identifier}i.touches=function(lt,_t){return arguments.length<2&&(_t=nt().touches),_t?T(_t).map(function(Ct){var Ht=Mt(lt,Ct);return Ht.identifier=Ct.identifier,Ht}):[]};var Dt=1e-6,dt=Dt*Dt,ht=Math.PI,bt=2*ht,zt=bt-Dt,qt=ht/2,te=ht/180,re=180/ht;function Ye(lt,_t,Ct){return(_t[0]-lt[0])*(Ct[1]-lt[1])-(_t[1]-lt[1])*(Ct[0]-lt[0])}function Be(lt){return lt>1?qt:lt<-1?-qt:Math.asin(lt)}function ge(lt){return((lt=Math.exp(lt))-1/lt)/2}function be(lt){return((lt=Math.exp(lt))+1/lt)/2}function Ne(lt){return((lt=Math.exp(2*lt))-1)/(lt+1)}var pr=Math.SQRT2,fe=2,De=4;i.interpolateZoom=function(lt,_t){var Ct=lt[0],Ht=lt[1],Xt=lt[2],ee=_t[0],xe=_t[1],me=_t[2],ze=ee-Ct,Ie=xe-Ht,Ze=ze*ze+Ie*Ie,br,wr;if(Ze<dt)wr=Math.log(me/Xt)/pr,br=function(Qr){return[Ct+Qr*ze,Ht+Qr*Ie,Xt*Math.exp(pr*Qr*wr)]};else{var Hr=Math.sqrt(Ze),Jr=(me*me-Xt*Xt+De*Ze)/(2*Xt*fe*Hr),Ar=(me*me-Xt*Xt-De*Ze)/(2*me*fe*Hr),Dr=Math.log(Math.sqrt(Jr*Jr+1)-Jr),Yr=Math.log(Math.sqrt(Ar*Ar+1)-Ar);wr=(Yr-Dr)/pr,br=function(Qr){var rn=Qr*wr,Vr=be(Dr),zn=Xt/(fe*Hr)*(Vr*Ne(pr*rn+Dr)-ge(Dr));return[Ct+zn*ze,Ht+zn*Ie,Xt*Vr/be(pr*rn+Dr)]}}return br.duration=wr*1e3,br},i.behavior.zoom=function(){var lt={x:0,y:0,k:1},_t,Ct,Ht,Xt=[960,500],ee=Ge,xe=250,me=0,ze="mousedown.zoom",Ie="mousemove.zoom",Ze="mouseup.zoom",br,wr="touchstart.zoom",Hr,Jr=Y(rn,"zoomstart","zoom","zoomend"),Ar,Dr,Yr,Qr;$e||($e="onwheel"in v?(vr=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(vr=function(){return i.event.wheelDelta},"mousewheel"):(vr=function(){return-i.event.detail},"MozMousePixelScroll"));function rn(Yn){Yn.on(ze,Si).on($e+".zoom",_a).on("dblclick.zoom",Vi).on(wr,Hi)}rn.event=function(Yn){Yn.each(function(){var Pi=Jr.of(this,arguments),pi=lt;Tr?i.select(this).transition().each("start.zoom",function(){lt=this.__chart__||{x:0,y:0,k:1},ei(Pi)}).tween("zoom:zoom",function(){var Fi=Xt[0],oa=Xt[1],Wi=Ct?Ct[0]:Fi/2,Oa=Ct?Ct[1]:oa/2,Pa=i.interpolateZoom([(Wi-lt.x)/lt.k,(Oa-lt.y)/lt.k,Fi/lt.k],[(Wi-pi.x)/pi.k,(Oa-pi.y)/pi.k,Fi/pi.k]);return function(Da){var sa=Pa(Da),Wa=Fi/sa[2];this.__chart__=lt={x:Wi-sa[0]*Wa,y:Oa-sa[1]*Wa,k:Wa},Ri(Pi)}}).each("interrupt.zoom",function(){di(Pi)}).each("end.zoom",function(){di(Pi)}):(this.__chart__=lt,ei(Pi),Ri(Pi),di(Pi))})},rn.translate=function(Yn){return arguments.length?(lt={x:+Yn[0],y:+Yn[1],k:lt.k},Jn(),rn):[lt.x,lt.y]},rn.scale=function(Yn){return arguments.length?(lt={x:lt.x,y:lt.y,k:null},Hn(+Yn),Jn(),rn):lt.k},rn.scaleExtent=function(Yn){return arguments.length?(ee=Yn==null?Ge:[+Yn[0],+Yn[1]],rn):ee},rn.center=function(Yn){return arguments.length?(Ht=Yn&&[+Yn[0],+Yn[1]],rn):Ht},rn.size=function(Yn){return arguments.length?(Xt=Yn&&[+Yn[0],+Yn[1]],rn):Xt},rn.duration=function(Yn){return arguments.length?(xe=+Yn,rn):xe},rn.x=function(Yn){return arguments.length?(Dr=Yn,Ar=Yn.copy(),lt={x:0,y:0,k:1},rn):Dr},rn.y=function(Yn){return arguments.length?(Qr=Yn,Yr=Yn.copy(),lt={x:0,y:0,k:1},rn):Qr};function Vr(Yn){return[(Yn[0]-lt.x)/lt.k,(Yn[1]-lt.y)/lt.k]}function zn(Yn){return[Yn[0]*lt.k+lt.x,Yn[1]*lt.k+lt.y]}function Hn(Yn){lt.k=Math.max(ee[0],Math.min(ee[1],Yn))}function ti(Yn,Pi){Pi=zn(Pi),lt.x+=Yn[0]-Pi[0],lt.y+=Yn[1]-Pi[1]}function Gn(Yn,Pi,pi,Fi){Yn.__chart__={x:lt.x,y:lt.y,k:lt.k},Hn(Math.pow(2,Fi)),ti(Ct=Pi,pi),Yn=i.select(Yn),xe>0&&(Yn=Yn.transition().duration(xe)),Yn.call(rn.event)}function Jn(){Dr&&Dr.domain(Ar.range().map(function(Yn){return(Yn-lt.x)/lt.k}).map(Ar.invert)),Qr&&Qr.domain(Yr.range().map(function(Yn){return(Yn-lt.y)/lt.k}).map(Yr.invert))}function ei(Yn){me++||Yn({type:"zoomstart"})}function Ri(Yn){Jn(),Yn({type:"zoom",scale:lt.k,translate:[lt.x,lt.y]})}function di(Yn){--me||(Yn({type:"zoomend"}),Ct=null)}function Si(){var Yn=this,Pi=Jr.of(Yn,arguments),pi=0,Fi=i.select(r(Yn)).on(Ie,Oa).on(Ze,Pa),oa=Vr(i.mouse(Yn)),Wi=Wt(Yn);Se.call(Yn),ei(Pi);function Oa(){pi=1,ti(i.mouse(Yn),oa),Ri(Pi)}function Pa(){Fi.on(Ie,null).on(Ze,null),Wi(pi),di(Pi)}}function Hi(){var Yn=this,Pi=Jr.of(Yn,arguments),pi={},Fi=0,oa,Wi=".zoom-"+i.event.changedTouches[0].identifier,Oa="touchmove"+Wi,Pa="touchend"+Wi,Da=[],sa=i.select(Yn),Wa=Wt(Yn);vi(),ei(Pi),sa.on(ze,null).on(wr,vi);function Qn(){var Na=i.touches(Yn);return oa=lt.k,Na.forEach(function(Zi){Zi.identifier in pi&&(pi[Zi.identifier]=Vr(Zi))}),Na}function vi(){var Na=i.event.target;i.select(Na).on(Oa,ro).on(Pa,uo),Da.push(Na);for(var Zi=i.event.changedTouches,Ea=0,wa=Zi.length;Ea<wa;++Ea)pi[Zi[Ea].identifier]=null;var Io=Qn(),Xo=Date.now();if(Io.length===1){if(Xo-Hr<500){var ha=Io[0];Gn(Yn,ha,pi[ha.identifier],Math.floor(Math.log(lt.k)/Math.LN2)+1),it()}Hr=Xo}else if(Io.length>1){var ha=Io[0],Ys=Io[1],Di=ha[0]-Ys[0],pa=ha[1]-Ys[1];Fi=Di*Di+pa*pa}}function ro(){var Na=i.touches(Yn),Zi,Ea,wa,Io;Se.call(Yn);for(var Xo=0,ha=Na.length;Xo<ha;++Xo,Io=null)if(wa=Na[Xo],Io=pi[wa.identifier]){if(Ea)break;Zi=wa,Ea=Io}if(Io){var Ys=(Ys=wa[0]-Zi[0])*Ys+(Ys=wa[1]-Zi[1])*Ys,Di=Fi&&Math.sqrt(Ys/Fi);Zi=[(Zi[0]+wa[0])/2,(Zi[1]+wa[1])/2],Ea=[(Ea[0]+Io[0])/2,(Ea[1]+Io[1])/2],Hn(Di*oa)}Hr=null,ti(Zi,Ea),Ri(Pi)}function uo(){if(i.event.touches.length){for(var Na=i.event.changedTouches,Zi=0,Ea=Na.length;Zi<Ea;++Zi)delete pi[Na[Zi].identifier];for(var wa in pi)return void Qn()}i.selectAll(Da).on(Wi,null),sa.on(ze,Si).on(wr,Hi),Wa(),di(Pi)}}function _a(){var Yn=Jr.of(this,arguments);br?clearTimeout(br):(Se.call(this),_t=Vr(Ct=Ht||i.mouse(this)),ei(Yn)),br=setTimeout(function(){br=null,di(Yn)},50),it(),Hn(Math.pow(2,vr()*.002)*lt.k),ti(Ct,_t),Ri(Yn)}function Vi(){var Yn=i.mouse(this),Pi=Math.log(lt.k)/Math.LN2;Gn(this,Yn,Vr(Yn),i.event.shiftKey?Math.ceil(Pi)-1:Math.floor(Pi)+1)}return i.rebind(rn,Jr,"on")};var Ge=[0,1/0],vr,$e;i.color=Kt;function Kt(){}Kt.prototype.toString=function(){return this.rgb()+""},i.hsl=ie;function ie(lt,_t,Ct){return this instanceof ie?(this.h=+lt,this.s=+_t,void(this.l=+Ct)):arguments.length<2?lt instanceof ie?new ie(lt.h,lt.s,lt.l):cr(""+lt,ir,ie):new ie(lt,_t,Ct)}var he=ie.prototype=new Kt;he.brighter=function(lt){return lt=Math.pow(.7,arguments.length?lt:1),new ie(this.h,this.s,this.l/lt)},he.darker=function(lt){return lt=Math.pow(.7,arguments.length?lt:1),new ie(this.h,this.s,lt*this.l)},he.rgb=function(){return Ae(this.h,this.s,this.l)};function Ae(lt,_t,Ct){var Ht,Xt;lt=isNaN(lt)?0:(lt%=360)<0?lt+360:lt,_t=isNaN(_t)||_t<0?0:_t>1?1:_t,Ct=Ct<0?0:Ct>1?1:Ct,Xt=Ct<=.5?Ct*(1+_t):Ct+_t-Ct*_t,Ht=2*Ct-Xt;function ee(me){return me>360?me-=360:me<0&&(me+=360),me<60?Ht+(Xt-Ht)*me/60:me<180?Xt:me<240?Ht+(Xt-Ht)*(240-me)/60:Ht}function xe(me){return Math.round(ee(me)*255)}return new Je(xe(lt+120),xe(lt),xe(lt-120))}i.hcl=Ee;function Ee(lt,_t,Ct){return this instanceof Ee?(this.h=+lt,this.c=+_t,void(this.l=+Ct)):arguments.length<2?lt instanceof Ee?new Ee(lt.h,lt.c,lt.l):lt instanceof Ce?Me(lt.l,lt.a,lt.b):Me((lt=Er((lt=i.rgb(lt)).r,lt.g,lt.b)).l,lt.a,lt.b):new Ee(lt,_t,Ct)}var Fe=Ee.prototype=new Kt;Fe.brighter=function(lt){return new Ee(this.h,this.c,Math.min(100,this.l+We*(arguments.length?lt:1)))},Fe.darker=function(lt){return new Ee(this.h,this.c,Math.max(0,this.l-We*(arguments.length?lt:1)))},Fe.rgb=function(){return Re(this.h,this.c,this.l).rgb()};function Re(lt,_t,Ct){return isNaN(lt)&&(lt=0),isNaN(_t)&&(_t=0),new Ce(Ct,Math.cos(lt*=te)*_t,Math.sin(lt)*_t)}i.lab=Ce;function Ce(lt,_t,Ct){return this instanceof Ce?(this.l=+lt,this.a=+_t,void(this.b=+Ct)):arguments.length<2?lt instanceof Ce?new Ce(lt.l,lt.a,lt.b):lt instanceof Ee?Re(lt.h,lt.c,lt.l):Er((lt=Je(lt)).r,lt.g,lt.b):new Ce(lt,_t,Ct)}var We=18,er=.95047,Ue=1,ar=1.08883,It=Ce.prototype=new Kt;It.brighter=function(lt){return new Ce(Math.min(100,this.l+We*(arguments.length?lt:1)),this.a,this.b)},It.darker=function(lt){return new Ce(Math.max(0,this.l-We*(arguments.length?lt:1)),this.a,this.b)},It.rgb=function(){return Ut(this.l,this.a,this.b)};function Ut(lt,_t,Ct){var Ht=(lt+16)/116,Xt=Ht+_t/500,ee=Ht-Ct/200;return Xt=ke(Xt)*er,Ht=ke(Ht)*Ue,ee=ke(ee)*ar,new Je(Ke(3.2404542*Xt-1.5371385*Ht-.4985314*ee),Ke(-.969266*Xt+1.8760108*Ht+.041556*ee),Ke(.0556434*Xt-.2040259*Ht+1.0572252*ee))}function Me(lt,_t,Ct){return lt>0?new Ee(Math.atan2(Ct,_t)*re,Math.sqrt(_t*_t+Ct*Ct),lt):new Ee(NaN,NaN,lt)}function ke(lt){return lt>.206893034?lt*lt*lt:(lt-.13793103448275862)/7.787037}function qe(lt){return lt>.008856?Math.pow(lt,.3333333333333333):7.787037*lt+.13793103448275862}function Ke(lt){return Math.round(255*(lt<=.00304?12.92*lt:1.055*Math.pow(lt,.4166666666666667)-.055))}i.rgb=Je;function Je(lt,_t,Ct){return this instanceof Je?(this.r=~~lt,this.g=~~_t,void(this.b=~~Ct)):arguments.length<2?lt instanceof Je?new Je(lt.r,lt.g,lt.b):cr(""+lt,Je,Ae):new Je(lt,_t,Ct)}function Ve(lt){return new Je(lt>>16,lt>>8&255,lt&255)}function Pe(lt){return Ve(lt)+""}var rr=Je.prototype=new Kt;rr.brighter=function(lt){lt=Math.pow(.7,arguments.length?lt:1);var _t=this.r,Ct=this.g,Ht=this.b,Xt=30;return!_t&&!Ct&&!Ht?new Je(Xt,Xt,Xt):(_t&&_t<Xt&&(_t=Xt),Ct&&Ct<Xt&&(Ct=Xt),Ht&&Ht<Xt&&(Ht=Xt),new Je(Math.min(255,_t/lt),Math.min(255,Ct/lt),Math.min(255,Ht/lt)))},rr.darker=function(lt){return lt=Math.pow(.7,arguments.length?lt:1),new Je(lt*this.r,lt*this.g,lt*this.b)},rr.hsl=function(){return ir(this.r,this.g,this.b)},rr.toString=function(){return"#"+lr(this.r)+lr(this.g)+lr(this.b)};function lr(lt){return lt<16?"0"+Math.max(0,lt).toString(16):Math.min(255,lt).toString(16)}function cr(lt,_t,Ct){var Ht=0,Xt=0,ee=0,xe,me,ze;if(xe=/([a-z]+)\((.*)\)/.exec(lt=lt.toLowerCase()),xe)switch(me=xe[2].split(","),xe[1]){case"hsl":return Ct(parseFloat(me[0]),parseFloat(me[1])/100,parseFloat(me[2])/100);case"rgb":return _t(Mr(me[0]),Mr(me[1]),Mr(me[2]))}return(ze=$r.get(lt))?_t(ze.r,ze.g,ze.b):(lt!=null&&lt.charAt(0)==="#"&&!isNaN(ze=parseInt(lt.slice(1),16))&&(lt.length===4?(Ht=(ze&3840)>>4,Ht=Ht>>4|Ht,Xt=ze&240,Xt=Xt>>4|Xt,ee=ze&15,ee=ee<<4|ee):lt.length===7&&(Ht=(ze&16711680)>>16,Xt=(ze&65280)>>8,ee=ze&255)),_t(Ht,Xt,ee))}function ir(lt,_t,Ct){var Ht=Math.min(lt/=255,_t/=255,Ct/=255),Xt=Math.max(lt,_t,Ct),ee=Xt-Ht,xe,me,ze=(Xt+Ht)/2;return ee?(me=ze<.5?ee/(Xt+Ht):ee/(2-Xt-Ht),lt==Xt?xe=(_t-Ct)/ee+(_t<Ct?6:0):_t==Xt?xe=(Ct-lt)/ee+2:xe=(lt-_t)/ee+4,xe*=60):(xe=NaN,me=ze>0&&ze<1?0:xe),new ie(xe,me,ze)}function Er(lt,_t,Ct){lt=kr(lt),_t=kr(_t),Ct=kr(Ct);var Ht=qe((.4124564*lt+.3575761*_t+.1804375*Ct)/er),Xt=qe((.2126729*lt+.7151522*_t+.072175*Ct)/Ue),ee=qe((.0193339*lt+.119192*_t+.9503041*Ct)/ar);return Ce(116*Xt-16,500*(Ht-Xt),200*(Xt-ee))}function kr(lt){return(lt/=255)<=.04045?lt/12.92:Math.pow((lt+.055)/1.055,2.4)}function Mr(lt){var _t=parseFloat(lt);return lt.charAt(lt.length-1)==="%"?Math.round(_t*2.55):_t}var $r=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$r.forEach(function(lt,_t){$r.set(lt,Ve(_t))});function Gr(lt){return typeof lt=="function"?lt:function(){return lt}}i.functor=Gr,i.xhr=vn(F);function vn(lt){return function(_t,Ct,Ht){return arguments.length===2&&typeof Ct=="function"&&(Ht=Ct,Ct=null),yn(_t,Ct,lt,Ht)}}function yn(lt,_t,Ct,Ht){var Xt={},ee=i.dispatch("beforesend","progress","load","error"),xe={},me=new XMLHttpRequest,ze=null;self.XDomainRequest&&!("withCredentials"in me)&&/^(http(s)?:)?\/\//.test(lt)&&(me=new XDomainRequest),"onload"in me?me.onload=me.onerror=Ie:me.onreadystatechange=function(){me.readyState>3&&Ie()};function Ie(){var Ze=me.status,br;if(!Ze&&Lr(me)||Ze>=200&&Ze<300||Ze===304){try{br=Ct.call(Xt,me)}catch(wr){ee.error.call(Xt,wr);return}ee.load.call(Xt,br)}else ee.error.call(Xt,me)}return me.onprogress=function(Ze){var br=i.event;i.event=Ze;try{ee.progress.call(Xt,me)}finally{i.event=br}},Xt.header=function(Ze,br){return Ze=(Ze+"").toLowerCase(),arguments.length<2?xe[Ze]:(br==null?delete xe[Ze]:xe[Ze]=br+"",Xt)},Xt.mimeType=function(Ze){return arguments.length?(_t=Ze==null?null:Ze+"",Xt):_t},Xt.responseType=function(Ze){return arguments.length?(ze=Ze,Xt):ze},Xt.response=function(Ze){return Ct=Ze,Xt},["get","post"].forEach(function(Ze){Xt[Ze]=function(){return Xt.send.apply(Xt,[Ze].concat(T(arguments)))}}),Xt.send=function(Ze,br,wr){if(arguments.length===2&&typeof br=="function"&&(wr=br,br=null),me.open(Ze,lt,!0),_t!=null&&!("accept"in xe)&&(xe.accept=_t+",*/*"),me.setRequestHeader)for(var Hr in xe)me.setRequestHeader(Hr,xe[Hr]);return _t!=null&&me.overrideMimeType&&me.overrideMimeType(_t),ze!=null&&(me.responseType=ze),wr!=null&&Xt.on("error",wr).on("load",function(Jr){wr(null,Jr)}),ee.beforesend.call(Xt,me),me.send(br??null),Xt},Xt.abort=function(){return me.abort(),Xt},i.rebind(Xt,ee,"on"),Ht==null?Xt:Xt.get(hr(Ht))}function hr(lt){return lt.length===1?function(_t,Ct){lt(_t==null?Ct:null)}:lt}function Lr(lt){var _t=lt.responseType;return _t&&_t!=="text"?lt.response:lt.responseText}i.dsv=function(lt,_t){var Ct=new RegExp('["'+lt+`
]`),Ht=lt.charCodeAt(0);function Xt(Ie,Ze,br){arguments.length<3&&(br=Ze,Ze=null);var wr=yn(Ie,_t,Ze==null?ee:xe(Ze),br);return wr.row=function(Hr){return arguments.length?wr.response((Ze=Hr)==null?ee:xe(Hr)):Ze},wr}function ee(Ie){return Xt.parse(Ie.responseText)}function xe(Ie){return function(Ze){return Xt.parse(Ze.responseText,Ie)}}Xt.parse=function(Ie,Ze){var br;return Xt.parseRows(Ie,function(wr,Hr){if(br)return br(wr,Hr-1);var Jr=function(Ar){for(var Dr={},Yr=wr.length,Qr=0;Qr<Yr;++Qr)Dr[wr[Qr]]=Ar[Qr];return Dr};br=Ze?function(Ar,Dr){return Ze(Jr(Ar),Dr)}:Jr})},Xt.parseRows=function(Ie,Ze){var br={},wr={},Hr=[],Jr=Ie.length,Ar=0,Dr=0,Yr,Qr;function rn(){if(Ar>=Jr)return wr;if(Qr)return Qr=!1,br;var zn=Ar;if(Ie.charCodeAt(zn)===34){for(var Hn=zn;Hn++<Jr;)if(Ie.charCodeAt(Hn)===34){if(Ie.charCodeAt(Hn+1)!==34)break;++Hn}Ar=Hn+2;var ti=Ie.charCodeAt(Hn+1);return ti===13?(Qr=!0,Ie.charCodeAt(Hn+2)===10&&++Ar):ti===10&&(Qr=!0),Ie.slice(zn+1,Hn).replace(/""/g,'"')}for(;Ar<Jr;){var ti=Ie.charCodeAt(Ar++),Gn=1;if(ti===10)Qr=!0;else if(ti===13)Qr=!0,Ie.charCodeAt(Ar)===10&&(++Ar,++Gn);else if(ti!==Ht)continue;return Ie.slice(zn,Ar-Gn)}return Ie.slice(zn)}for(;(Yr=rn())!==wr;){for(var Vr=[];Yr!==br&&Yr!==wr;)Vr.push(Yr),Yr=rn();Ze&&(Vr=Ze(Vr,Dr++))==null||Hr.push(Vr)}return Hr},Xt.format=function(Ie){if(Array.isArray(Ie[0]))return Xt.formatRows(Ie);var Ze=new P,br=[];return Ie.forEach(function(wr){for(var Hr in wr)Ze.has(Hr)||br.push(Ze.add(Hr))}),[br.map(ze).join(lt)].concat(Ie.map(function(wr){return br.map(function(Hr){return ze(wr[Hr])}).join(lt)})).join(`
`)},Xt.formatRows=function(Ie){return Ie.map(me).join(`
`)};function me(Ie){return Ie.map(ze).join(lt)}function ze(Ie){return Ct.test(Ie)?'"'+Ie.replace(/\"/g,'""')+'"':Ie}return Xt},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Ir,Rr,on,an,gn=this[N(this,"requestAnimationFrame")]||function(lt){setTimeout(lt,17)};i.timer=function(){Mn.apply(this,arguments)};function Mn(lt,_t,Ct){var Ht=arguments.length;Ht<2&&(_t=0),Ht<3&&(Ct=Date.now());var Xt=Ct+_t,ee={c:lt,t:Xt,n:null};return Rr?Rr.n=ee:Ir=ee,Rr=ee,on||(an=clearTimeout(an),on=1,gn(Pn)),ee}function Pn(){var lt=Kn(),_t=ai()-lt;_t>24?(isFinite(_t)&&(clearTimeout(an),an=setTimeout(Pn,_t)),on=0):(on=1,gn(Pn))}i.timer.flush=function(){Kn(),ai()};function Kn(){for(var lt=Date.now(),_t=Ir;_t;)lt>=_t.t&&_t.c(lt-_t.t)&&(_t.c=null),_t=_t.n;return lt}function ai(){for(var lt,_t=Ir,Ct=1/0;_t;)_t.c?(_t.t<Ct&&(Ct=_t.t),_t=(lt=_t).n):_t=lt?lt.n=_t.n:Ir=_t.n;return Rr=lt,Ct}i.round=function(lt,_t){return _t?Math.round(lt*(_t=Math.pow(10,_t)))/_t:Math.round(lt)},i.geom={};function ui(lt){return lt[0]}function ni(lt){return lt[1]}i.geom.hull=function(lt){var _t=ui,Ct=ni;if(arguments.length)return Ht(lt);function Ht(Xt){if(Xt.length<3)return[];var ee=Gr(_t),xe=Gr(Ct),me,ze=Xt.length,Ie=[],Ze=[];for(me=0;me<ze;me++)Ie.push([+ee.call(this,Xt[me],me),+xe.call(this,Xt[me],me),me]);for(Ie.sort(ur),me=0;me<ze;me++)Ze.push([Ie[me][0],-Ie[me][1]]);var br=Cn(Ie),wr=Cn(Ze),Hr=wr[0]===br[0],Jr=wr[wr.length-1]===br[br.length-1],Ar=[];for(me=br.length-1;me>=0;--me)Ar.push(Xt[Ie[br[me]][2]]);for(me=+Hr;me<wr.length-Jr;++me)Ar.push(Xt[Ie[wr[me]][2]]);return Ar}return Ht.x=function(Xt){return arguments.length?(_t=Xt,Ht):_t},Ht.y=function(Xt){return arguments.length?(Ct=Xt,Ht):Ct},Ht};function Cn(lt){for(var _t=lt.length,Ct=[0,1],Ht=2,Xt=2;Xt<_t;Xt++){for(;Ht>1&&Ye(lt[Ct[Ht-2]],lt[Ct[Ht-1]],lt[Xt])<=0;)--Ht;Ct[Ht++]=Xt}return Ct.slice(0,Ht)}function ur(lt,_t){return lt[0]-_t[0]||lt[1]-_t[1]}i.geom.polygon=function(lt){return $(lt,qr),lt};var qr=i.geom.polygon.prototype=[];qr.area=function(){for(var lt=-1,_t=this.length,Ct,Ht=this[_t-1],Xt=0;++lt<_t;)Ct=Ht,Ht=this[lt],Xt+=Ct[1]*Ht[0]-Ct[0]*Ht[1];return Xt*.5},qr.centroid=function(lt){var _t=-1,Ct=this.length,Ht=0,Xt=0,ee,xe=this[Ct-1],me;for(arguments.length||(lt=-1/(6*this.area()));++_t<Ct;)ee=xe,xe=this[_t],me=ee[0]*xe[1]-xe[0]*ee[1],Ht+=(ee[0]+xe[0])*me,Xt+=(ee[1]+xe[1])*me;return[Ht*lt,Xt*lt]},qr.clip=function(lt){for(var _t,Ct=En(lt),Ht=-1,Xt=this.length-En(this),ee,xe,me=this[Xt-1],ze,Ie,Ze;++Ht<Xt;){for(_t=lt.slice(),lt.length=0,ze=this[Ht],Ie=_t[(xe=_t.length-Ct)-1],ee=-1;++ee<xe;)Ze=_t[ee],Ur(Ze,me,ze)?(Ur(Ie,me,ze)||lt.push(nn(Ie,Ze,me,ze)),lt.push(Ze)):Ur(Ie,me,ze)&&lt.push(nn(Ie,Ze,me,ze)),Ie=Ze;Ct&&lt.push(lt[0]),me=ze}return lt};function Ur(lt,_t,Ct){return(Ct[0]-_t[0])*(lt[1]-_t[1])<(Ct[1]-_t[1])*(lt[0]-_t[0])}function nn(lt,_t,Ct,Ht){var Xt=lt[0],ee=Ct[0],xe=_t[0]-Xt,me=Ht[0]-ee,ze=lt[1],Ie=Ct[1],Ze=_t[1]-ze,br=Ht[1]-Ie,wr=(me*(ze-Ie)-br*(Xt-ee))/(br*xe-me*Ze);return[Xt+wr*xe,ze+wr*Ze]}function En(lt){var _t=lt[0],Ct=lt[lt.length-1];return!(_t[0]-Ct[0]||_t[1]-Ct[1])}var sn,An,Ln,qn=[],ii,Li,dr=[];function Sr(){oo(this),this.edge=this.site=this.circle=null}function gr(lt){var _t=qn.pop()||new Sr;return _t.site=lt,_t}function Pr(lt){kn(lt),Ln.remove(lt),qn.push(lt),oo(lt)}function fn(lt){var _t=lt.circle,Ct=_t.x,Ht=_t.cy,Xt={x:Ct,y:Ht},ee=lt.P,xe=lt.N,me=[lt];Pr(lt);for(var ze=ee;ze.circle&&p(Ct-ze.circle.x)<Dt&&p(Ht-ze.circle.cy)<Dt;)ee=ze.P,me.unshift(ze),Pr(ze),ze=ee;me.unshift(ze),kn(ze);for(var Ie=xe;Ie.circle&&p(Ct-Ie.circle.x)<Dt&&p(Ht-Ie.circle.cy)<Dt;)xe=Ie.N,me.push(Ie),Pr(Ie),Ie=xe;me.push(Ie),kn(Ie);var Ze=me.length,br;for(br=1;br<Ze;++br)Ie=me[br],ze=me[br-1],_i(Ie.edge,ze.site,Ie.site,Xt);ze=me[0],Ie=me[Ze-1],Ie.edge=$n(ze.site,Ie.site,null,Xt),mn(ze),mn(Ie)}function wn(lt){for(var _t=lt.x,Ct=lt.y,Ht,Xt,ee,xe,me=Ln._;me;)if(ee=un(me,Ct)-_t,ee>Dt)me=me.L;else if(xe=_t-tn(me,Ct),xe>Dt){if(!me.R){Ht=me;break}me=me.R}else{ee>-Dt?(Ht=me.P,Xt=me):xe>-Dt?(Ht=me,Xt=me.N):Ht=Xt=me;break}var ze=gr(lt);if(Ln.insert(Ht,ze),!(!Ht&&!Xt)){if(Ht===Xt){kn(Ht),Xt=gr(Ht.site),Ln.insert(ze,Xt),ze.edge=Xt.edge=$n(Ht.site,ze.site),mn(Ht),mn(Xt);return}if(!Xt){ze.edge=$n(Ht.site,ze.site);return}kn(Ht),kn(Xt);var Ie=Ht.site,Ze=Ie.x,br=Ie.y,wr=lt.x-Ze,Hr=lt.y-br,Jr=Xt.site,Ar=Jr.x-Ze,Dr=Jr.y-br,Yr=2*(wr*Dr-Hr*Ar),Qr=wr*wr+Hr*Hr,rn=Ar*Ar+Dr*Dr,Vr={x:(Dr*Qr-Hr*rn)/Yr+Ze,y:(wr*rn-Ar*Qr)/Yr+br};_i(Xt.edge,Ie,Jr,Vr),ze.edge=$n(Ie,lt,null,Vr),Xt.edge=$n(lt,Jr,null,Vr),mn(Ht),mn(Xt)}}function un(lt,_t){var Ct=lt.site,Ht=Ct.x,Xt=Ct.y,ee=Xt-_t;if(!ee)return Ht;var xe=lt.P;if(!xe)return-1/0;Ct=xe.site;var me=Ct.x,ze=Ct.y,Ie=ze-_t;if(!Ie)return me;var Ze=me-Ht,br=1/ee-1/Ie,wr=Ze/Ie;return br?(-wr+Math.sqrt(wr*wr-2*br*(Ze*Ze/(-2*Ie)-ze+Ie/2+Xt-ee/2)))/br+Ht:(Ht+me)/2}function tn(lt,_t){var Ct=lt.N;if(Ct)return un(Ct,_t);var Ht=lt.site;return Ht.y===_t?Ht.x:1/0}function xr(lt){this.site=lt,this.edges=[]}xr.prototype.prepare=function(){for(var lt=this.edges,_t=lt.length,Ct;_t--;)Ct=lt[_t].edge,(!Ct.b||!Ct.a)&&lt.splice(_t,1);return lt.sort(Fr),lt.length};function jr(lt){for(var _t=lt[0][0],Ct=lt[1][0],Ht=lt[0][1],Xt=lt[1][1],ee,xe,me,ze,Ie=An,Ze=Ie.length,br,wr,Hr,Jr,Ar,Dr;Ze--;)if(br=Ie[Ze],!(!br||!br.prepare()))for(Hr=br.edges,Jr=Hr.length,wr=0;wr<Jr;)Dr=Hr[wr].end(),me=Dr.x,ze=Dr.y,Ar=Hr[++wr%Jr].start(),ee=Ar.x,xe=Ar.y,(p(me-ee)>Dt||p(ze-xe)>Dt)&&(Hr.splice(wr,0,new ta(oi(br.site,Dr,p(me-_t)<Dt&&Xt-ze>Dt?{x:_t,y:p(ee-_t)<Dt?xe:Xt}:p(ze-Xt)<Dt&&Ct-me>Dt?{x:p(xe-Xt)<Dt?ee:Ct,y:Xt}:p(me-Ct)<Dt&&ze-Ht>Dt?{x:Ct,y:p(ee-Ct)<Dt?xe:Ht}:p(ze-Ht)<Dt&&me-_t>Dt?{x:p(xe-Ht)<Dt?ee:_t,y:Ht}:null),br.site,null)),++Jr)}function Fr(lt,_t){return _t.angle-lt.angle}function Wr(){oo(this),this.x=this.y=this.arc=this.site=this.cy=null}function mn(lt){var _t=lt.P,Ct=lt.N;if(!(!_t||!Ct)){var Ht=_t.site,Xt=lt.site,ee=Ct.site;if(Ht!==ee){var xe=Xt.x,me=Xt.y,ze=Ht.x-xe,Ie=Ht.y-me,Ze=ee.x-xe,br=ee.y-me,wr=2*(ze*br-Ie*Ze);if(!(wr>=-dt)){var Hr=ze*ze+Ie*Ie,Jr=Ze*Ze+br*br,Ar=(br*Hr-Ie*Jr)/wr,Dr=(ze*Jr-Ze*Hr)/wr,br=Dr+me,Yr=dr.pop()||new Wr;Yr.arc=lt,Yr.site=Xt,Yr.x=Ar+xe,Yr.y=br+Math.sqrt(Ar*Ar+Dr*Dr),Yr.cy=br,lt.circle=Yr;for(var Qr=null,rn=Li._;rn;)if(Yr.y<rn.y||Yr.y===rn.y&&Yr.x<=rn.x)if(rn.L)rn=rn.L;else{Qr=rn.P;break}else if(rn.R)rn=rn.R;else{Qr=rn;break}Li.insert(Qr,Yr),Qr||(ii=Yr)}}}}function kn(lt){var _t=lt.circle;_t&&(_t.P||(ii=_t.N),Li.remove(_t),dr.push(_t),oo(_t),lt.circle=null)}function xn(lt,_t,Ct,Ht){return function(Xt){var ee=Xt.a,xe=Xt.b,me=ee.x,ze=ee.y,Ie=xe.x,Ze=xe.y,br=0,wr=1,Hr=Ie-me,Jr=Ze-ze,Ar;if(Ar=lt-me,!(!Hr&&Ar>0)){if(Ar/=Hr,Hr<0){if(Ar<br)return;Ar<wr&&(wr=Ar)}else if(Hr>0){if(Ar>wr)return;Ar>br&&(br=Ar)}if(Ar=Ct-me,!(!Hr&&Ar<0)){if(Ar/=Hr,Hr<0){if(Ar>wr)return;Ar>br&&(br=Ar)}else if(Hr>0){if(Ar<br)return;Ar<wr&&(wr=Ar)}if(Ar=_t-ze,!(!Jr&&Ar>0)){if(Ar/=Jr,Jr<0){if(Ar<br)return;Ar<wr&&(wr=Ar)}else if(Jr>0){if(Ar>wr)return;Ar>br&&(br=Ar)}if(Ar=Ht-ze,!(!Jr&&Ar<0)){if(Ar/=Jr,Jr<0){if(Ar>wr)return;Ar>br&&(br=Ar)}else if(Jr>0){if(Ar<br)return;Ar<wr&&(wr=Ar)}return br>0&&(Xt.a={x:me+br*Hr,y:ze+br*Jr}),wr<1&&(Xt.b={x:me+wr*Hr,y:ze+wr*Jr}),Xt}}}}}}function Rn(lt){for(var _t=sn,Ct=xn(lt[0][0],lt[0][1],lt[1][0],lt[1][1]),Ht=_t.length,Xt;Ht--;)Xt=_t[Ht],(!Sn(Xt,lt)||!Ct(Xt)||p(Xt.a.x-Xt.b.x)<Dt&&p(Xt.a.y-Xt.b.y)<Dt)&&(Xt.a=Xt.b=null,_t.splice(Ht,1))}function Sn(lt,_t){var Ct=lt.b;if(Ct)return!0;var Ht=lt.a,Xt=_t[0][0],ee=_t[1][0],xe=_t[0][1],me=_t[1][1],ze=lt.l,Ie=lt.r,Ze=ze.x,br=ze.y,wr=Ie.x,Hr=Ie.y,Jr=(Ze+wr)/2,Ar=(br+Hr)/2,Dr,Yr;if(Hr===br){if(Jr<Xt||Jr>=ee)return;if(Ze>wr){if(!Ht)Ht={x:Jr,y:xe};else if(Ht.y>=me)return;Ct={x:Jr,y:me}}else{if(!Ht)Ht={x:Jr,y:me};else if(Ht.y<xe)return;Ct={x:Jr,y:xe}}}else if(Dr=(Ze-wr)/(Hr-br),Yr=Ar-Dr*Jr,Dr<-1||Dr>1)if(Ze>wr){if(!Ht)Ht={x:(xe-Yr)/Dr,y:xe};else if(Ht.y>=me)return;Ct={x:(me-Yr)/Dr,y:me}}else{if(!Ht)Ht={x:(me-Yr)/Dr,y:me};else if(Ht.y<xe)return;Ct={x:(xe-Yr)/Dr,y:xe}}else if(br<Hr){if(!Ht)Ht={x:Xt,y:Dr*Xt+Yr};else if(Ht.x>=ee)return;Ct={x:ee,y:Dr*ee+Yr}}else{if(!Ht)Ht={x:ee,y:Dr*ee+Yr};else if(Ht.x<Xt)return;Ct={x:Xt,y:Dr*Xt+Yr}}return lt.a=Ht,lt.b=Ct,!0}function ri(lt,_t){this.l=lt,this.r=_t,this.a=this.b=null}function $n(lt,_t,Ct,Ht){var Xt=new ri(lt,_t);return sn.push(Xt),Ct&&_i(Xt,lt,_t,Ct),Ht&&_i(Xt,_t,lt,Ht),An[lt.i].edges.push(new ta(Xt,lt,_t)),An[_t.i].edges.push(new ta(Xt,_t,lt)),Xt}function oi(lt,_t,Ct){var Ht=new ri(lt,null);return Ht.a=_t,Ht.b=Ct,sn.push(Ht),Ht}function _i(lt,_t,Ct,Ht){!lt.a&&!lt.b?(lt.a=Ht,lt.l=_t,lt.r=Ct):lt.l===Ct?lt.b=Ht:lt.a=Ht}function ta(lt,_t,Ct){var Ht=lt.a,Xt=lt.b;this.edge=lt,this.site=_t,this.angle=Ct?Math.atan2(Ct.y-_t.y,Ct.x-_t.x):lt.l===_t?Math.atan2(Xt.x-Ht.x,Ht.y-Xt.y):Math.atan2(Ht.x-Xt.x,Xt.y-Ht.y)}ta.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Gi(){this._=null}function oo(lt){lt.U=lt.C=lt.L=lt.R=lt.P=lt.N=null}Gi.prototype={insert:function(lt,_t){var Ct,Ht,Xt;if(lt){if(_t.P=lt,_t.N=lt.N,lt.N&&(lt.N.P=_t),lt.N=_t,lt.R){for(lt=lt.R;lt.L;)lt=lt.L;lt.L=_t}else lt.R=_t;Ct=lt}else this._?(lt=Ts(this._),_t.P=null,_t.N=lt,lt.P=lt.L=_t,Ct=lt):(_t.P=_t.N=null,this._=_t,Ct=null);for(_t.L=_t.R=null,_t.U=Ct,_t.C=!0,lt=_t;Ct&&Ct.C;)Ht=Ct.U,Ct===Ht.L?(Xt=Ht.R,Xt&&Xt.C?(Ct.C=Xt.C=!1,Ht.C=!0,lt=Ht):(lt===Ct.R&&($a(this,Ct),lt=Ct,Ct=lt.U),Ct.C=!1,Ht.C=!0,za(this,Ht))):(Xt=Ht.L,Xt&&Xt.C?(Ct.C=Xt.C=!1,Ht.C=!0,lt=Ht):(lt===Ct.L&&(za(this,Ct),lt=Ct,Ct=lt.U),Ct.C=!1,Ht.C=!0,$a(this,Ht))),Ct=lt.U;this._.C=!1},remove:function(lt){lt.N&&(lt.N.P=lt.P),lt.P&&(lt.P.N=lt.N),lt.N=lt.P=null;var _t=lt.U,Ct,Ht=lt.L,Xt=lt.R,ee,xe;if(Ht?Xt?ee=Ts(Xt):ee=Ht:ee=Xt,_t?_t.L===lt?_t.L=ee:_t.R=ee:this._=ee,Ht&&Xt?(xe=ee.C,ee.C=lt.C,ee.L=Ht,Ht.U=ee,ee!==Xt?(_t=ee.U,ee.U=lt.U,lt=ee.R,_t.L=lt,ee.R=Xt,Xt.U=ee):(ee.U=_t,_t=ee,lt=ee.R)):(xe=lt.C,lt=ee),lt&&(lt.U=_t),!xe){if(lt&&lt.C){lt.C=!1;return}do{if(lt===this._)break;if(lt===_t.L){if(Ct=_t.R,Ct.C&&(Ct.C=!1,_t.C=!0,$a(this,_t),Ct=_t.R),Ct.L&&Ct.L.C||Ct.R&&Ct.R.C){(!Ct.R||!Ct.R.C)&&(Ct.L.C=!1,Ct.C=!0,za(this,Ct),Ct=_t.R),Ct.C=_t.C,_t.C=Ct.R.C=!1,$a(this,_t),lt=this._;break}}else if(Ct=_t.L,Ct.C&&(Ct.C=!1,_t.C=!0,za(this,_t),Ct=_t.L),Ct.L&&Ct.L.C||Ct.R&&Ct.R.C){(!Ct.L||!Ct.L.C)&&(Ct.R.C=!1,Ct.C=!0,$a(this,Ct),Ct=_t.L),Ct.C=_t.C,_t.C=Ct.L.C=!1,za(this,_t),lt=this._;break}Ct.C=!0,lt=_t,_t=_t.U}while(!lt.C);lt&&(lt.C=!1)}}};function $a(lt,_t){var Ct=_t,Ht=_t.R,Xt=Ct.U;Xt?Xt.L===Ct?Xt.L=Ht:Xt.R=Ht:lt._=Ht,Ht.U=Xt,Ct.U=Ht,Ct.R=Ht.L,Ct.R&&(Ct.R.U=Ct),Ht.L=Ct}function za(lt,_t){var Ct=_t,Ht=_t.L,Xt=Ct.U;Xt?Xt.L===Ct?Xt.L=Ht:Xt.R=Ht:lt._=Ht,Ht.U=Xt,Ct.U=Ht,Ct.L=Ht.R,Ct.L&&(Ct.L.U=Ct),Ht.R=Ct}function Ts(lt){for(;lt.L;)lt=lt.L;return lt}function Yl(lt,_t){var Ct=lt.sort(du).pop(),Ht,Xt,ee;for(sn=[],An=new Array(lt.length),Ln=new Gi,Li=new Gi;;)if(ee=ii,Ct&&(!ee||Ct.y<ee.y||Ct.y===ee.y&&Ct.x<ee.x))(Ct.x!==Ht||Ct.y!==Xt)&&(An[Ct.i]=new xr(Ct),wn(Ct),Ht=Ct.x,Xt=Ct.y),Ct=lt.pop();else if(ee)fn(ee.arc);else break;_t&&(Rn(_t),jr(_t));var xe={cells:An,edges:sn};return Ln=Li=sn=An=null,xe}function du(lt,_t){return _t.y-lt.y||_t.x-lt.x}i.geom.voronoi=function(lt){var _t=ui,Ct=ni,Ht=_t,Xt=Ct,ee=qi;if(lt)return xe(lt);function xe(ze){var Ie=new Array(ze.length),Ze=ee[0][0],br=ee[0][1],wr=ee[1][0],Hr=ee[1][1];return Yl(me(ze),ee).cells.forEach(function(Jr,Ar){var Dr=Jr.edges,Yr=Jr.site,Qr=Ie[Ar]=Dr.length?Dr.map(function(rn){var Vr=rn.start();return[Vr.x,Vr.y]}):Yr.x>=Ze&&Yr.x<=wr&&Yr.y>=br&&Yr.y<=Hr?[[Ze,Hr],[wr,Hr],[wr,br],[Ze,br]]:[];Qr.point=ze[Ar]}),Ie}function me(ze){return ze.map(function(Ie,Ze){return{x:Math.round(Ht(Ie,Ze)/Dt)*Dt,y:Math.round(Xt(Ie,Ze)/Dt)*Dt,i:Ze}})}return xe.links=function(ze){return Yl(me(ze)).edges.filter(function(Ie){return Ie.l&&Ie.r}).map(function(Ie){return{source:ze[Ie.l.i],target:ze[Ie.r.i]}})},xe.triangles=function(ze){var Ie=[];return Yl(me(ze)).cells.forEach(function(Ze,br){for(var wr=Ze.site,Hr=Ze.edges.sort(Fr),Jr=-1,Ar=Hr.length,Dr,Yr,Qr=Hr[Ar-1].edge,rn=Qr.l===wr?Qr.r:Qr.l;++Jr<Ar;)Dr=Qr,Yr=rn,Qr=Hr[Jr].edge,rn=Qr.l===wr?Qr.r:Qr.l,br<Yr.i&&br<rn.i&&Ws(wr,Yr,rn)<0&&Ie.push([ze[br],ze[Yr.i],ze[rn.i]])}),Ie},xe.x=function(ze){return arguments.length?(Ht=Gr(_t=ze),xe):_t},xe.y=function(ze){return arguments.length?(Xt=Gr(Ct=ze),xe):Ct},xe.clipExtent=function(ze){return arguments.length?(ee=ze??qi,xe):ee===qi?null:ee},xe.size=function(ze){return arguments.length?xe.clipExtent(ze&&[[0,0],ze]):ee===qi?null:ee&&ee[1]},xe};var qi=[[-1e6,-1e6],[1e6,1e6]];function Ws(lt,_t,Ct){return(lt.x-Ct.x)*(_t.y-lt.y)-(lt.x-_t.x)*(Ct.y-lt.y)}i.geom.delaunay=function(lt){return i.geom.voronoi().triangles(lt)},i.geom.quadtree=function(lt,_t,Ct,Ht,Xt){var ee=ui,xe=ni,me;if(me=arguments.length)return ee=Gl,xe=Sa,me===3&&(Xt=Ct,Ht=_t,Ct=_t=0),ze(lt);function ze(Ie){var Ze,br=Gr(ee),wr=Gr(xe),Hr,Jr,Ar,Dr,Yr,Qr,rn,Vr;if(_t!=null)Yr=_t,Qr=Ct,rn=Ht,Vr=Xt;else if(rn=Vr=-(Yr=Qr=1/0),Hr=[],Jr=[],Dr=Ie.length,me)for(Ar=0;Ar<Dr;++Ar)Ze=Ie[Ar],Ze.x<Yr&&(Yr=Ze.x),Ze.y<Qr&&(Qr=Ze.y),Ze.x>rn&&(rn=Ze.x),Ze.y>Vr&&(Vr=Ze.y),Hr.push(Ze.x),Jr.push(Ze.y);else for(Ar=0;Ar<Dr;++Ar){var zn=+br(Ze=Ie[Ar],Ar),Hn=+wr(Ze,Ar);zn<Yr&&(Yr=zn),Hn<Qr&&(Qr=Hn),zn>rn&&(rn=zn),Hn>Vr&&(Vr=Hn),Hr.push(zn),Jr.push(Hn)}var ti=rn-Yr,Gn=Vr-Qr;ti>Gn?Vr=Qr+ti:rn=Yr+Gn;function Jn(di,Si,Hi,_a,Vi,Yn,Pi,pi){if(!(isNaN(Hi)||isNaN(_a)))if(di.leaf){var Fi=di.x,oa=di.y;if(Fi!=null)if(p(Fi-Hi)+p(oa-_a)<.01)ei(di,Si,Hi,_a,Vi,Yn,Pi,pi);else{var Wi=di.point;di.x=di.y=di.point=null,ei(di,Wi,Fi,oa,Vi,Yn,Pi,pi),ei(di,Si,Hi,_a,Vi,Yn,Pi,pi)}else di.x=Hi,di.y=_a,di.point=Si}else ei(di,Si,Hi,_a,Vi,Yn,Pi,pi)}function ei(di,Si,Hi,_a,Vi,Yn,Pi,pi){var Fi=(Vi+Pi)*.5,oa=(Yn+pi)*.5,Wi=Hi>=Fi,Oa=_a>=oa,Pa=Oa<<1|Wi;di.leaf=!1,di=di.nodes[Pa]||(di.nodes[Pa]=Va()),Wi?Vi=Fi:Pi=Fi,Oa?Yn=oa:pi=oa,Jn(di,Si,Hi,_a,Vi,Yn,Pi,pi)}var Ri=Va();if(Ri.add=function(di){Jn(Ri,di,+br(di,++Ar),+wr(di,Ar),Yr,Qr,rn,Vr)},Ri.visit=function(di){ks(di,Ri,Yr,Qr,rn,Vr)},Ri.find=function(di){return bl(Ri,di[0],di[1],Yr,Qr,rn,Vr)},Ar=-1,_t==null){for(;++Ar<Dr;)Jn(Ri,Ie[Ar],Hr[Ar],Jr[Ar],Yr,Qr,rn,Vr);--Ar}else Ie.forEach(Ri.add);return Hr=Jr=Ie=Ze=null,Ri}return ze.x=function(Ie){return arguments.length?(ee=Ie,ze):ee},ze.y=function(Ie){return arguments.length?(xe=Ie,ze):xe},ze.extent=function(Ie){return arguments.length?(Ie==null?_t=Ct=Ht=Xt=null:(_t=+Ie[0][0],Ct=+Ie[0][1],Ht=+Ie[1][0],Xt=+Ie[1][1]),ze):_t==null?null:[[_t,Ct],[Ht,Xt]]},ze.size=function(Ie){return arguments.length?(Ie==null?_t=Ct=Ht=Xt=null:(_t=Ct=0,Ht=+Ie[0],Xt=+Ie[1]),ze):_t==null?null:[Ht-_t,Xt-Ct]},ze};function Gl(lt){return lt.x}function Sa(lt){return lt.y}function Va(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ks(lt,_t,Ct,Ht,Xt,ee){if(!lt(_t,Ct,Ht,Xt,ee)){var xe=(Ct+Xt)*.5,me=(Ht+ee)*.5,ze=_t.nodes;ze[0]&&ks(lt,ze[0],Ct,Ht,xe,me),ze[1]&&ks(lt,ze[1],xe,Ht,Xt,me),ze[2]&&ks(lt,ze[2],Ct,me,xe,ee),ze[3]&&ks(lt,ze[3],xe,me,Xt,ee)}}function bl(lt,_t,Ct,Ht,Xt,ee,xe){var me=1/0,ze;return function Ie(Ze,br,wr,Hr,Jr){if(!(br>ee||wr>xe||Hr<Ht||Jr<Xt)){if(Ar=Ze.point){var Ar,Dr=_t-Ze.x,Yr=Ct-Ze.y,Qr=Dr*Dr+Yr*Yr;if(Qr<me){var rn=Math.sqrt(me=Qr);Ht=_t-rn,Xt=Ct-rn,ee=_t+rn,xe=Ct+rn,ze=Ar}}for(var Vr=Ze.nodes,zn=(br+Hr)*.5,Hn=(wr+Jr)*.5,ti=_t>=zn,Gn=Ct>=Hn,Jn=Gn<<1|ti,ei=Jn+4;Jn<ei;++Jn)if(Ze=Vr[Jn&3])switch(Jn&3){case 0:Ie(Ze,br,wr,zn,Hn);break;case 1:Ie(Ze,zn,wr,Hr,Hn);break;case 2:Ie(Ze,br,Hn,zn,Jr);break;case 3:Ie(Ze,zn,Hn,Hr,Jr);break}}}(lt,Ht,Xt,ee,xe),ze}i.interpolateRgb=ma;function ma(lt,_t){lt=i.rgb(lt),_t=i.rgb(_t);var Ct=lt.r,Ht=lt.g,Xt=lt.b,ee=_t.r-Ct,xe=_t.g-Ht,me=_t.b-Xt;return function(ze){return"#"+lr(Math.round(Ct+ee*ze))+lr(Math.round(Ht+xe*ze))+lr(Math.round(Xt+me*ze))}}i.interpolateObject=Ms;function Ms(lt,_t){var Ct={},Ht={},Xt;for(Xt in lt)Xt in _t?Ct[Xt]=Fa(lt[Xt],_t[Xt]):Ht[Xt]=lt[Xt];for(Xt in _t)Xt in lt||(Ht[Xt]=_t[Xt]);return function(ee){for(Xt in Ct)Ht[Xt]=Ct[Xt](ee);return Ht}}i.interpolateNumber=ba;function ba(lt,_t){return lt=+lt,_t=+_t,function(Ct){return lt*(1-Ct)+_t*Ct}}i.interpolateString=ka;function ka(lt,_t){var Ct=Es.lastIndex=Ia.lastIndex=0,Ht,Xt,ee,xe=-1,me=[],ze=[];for(lt=lt+"",_t=_t+"";(Ht=Es.exec(lt))&&(Xt=Ia.exec(_t));)(ee=Xt.index)>Ct&&(ee=_t.slice(Ct,ee),me[xe]?me[xe]+=ee:me[++xe]=ee),(Ht=Ht[0])===(Xt=Xt[0])?me[xe]?me[xe]+=Xt:me[++xe]=Xt:(me[++xe]=null,ze.push({i:xe,x:ba(Ht,Xt)})),Ct=Ia.lastIndex;return Ct<_t.length&&(ee=_t.slice(Ct),me[xe]?me[xe]+=ee:me[++xe]=ee),me.length<2?ze[0]?(_t=ze[0].x,function(Ie){return _t(Ie)+""}):function(){return _t}:(_t=ze.length,function(Ie){for(var Ze=0,br;Ze<_t;++Ze)me[(br=ze[Ze]).i]=br.x(Ie);return me.join("")})}var Es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ia=new RegExp(Es.source,"g");i.interpolate=Fa;function Fa(lt,_t){for(var Ct=i.interpolators.length,Ht;--Ct>=0&&!(Ht=i.interpolators[Ct](lt,_t)););return Ht}i.interpolators=[function(lt,_t){var Ct=typeof _t;return(Ct==="string"?$r.has(_t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_t)?ma:ka:_t instanceof Kt?ma:Array.isArray(_t)?so:Ct==="object"&&isNaN(_t)?Ms:ba)(lt,_t)}],i.interpolateArray=so;function so(lt,_t){var Ct=[],Ht=[],Xt=lt.length,ee=_t.length,xe=Math.min(lt.length,_t.length),me;for(me=0;me<xe;++me)Ct.push(Fa(lt[me],_t[me]));for(;me<Xt;++me)Ht[me]=lt[me];for(;me<ee;++me)Ht[me]=_t[me];return function(ze){for(me=0;me<xe;++me)Ht[me]=Ct[me](ze);return Ht}}var vu=function(){return F},Qa=i.map({linear:vu,poly:gu,quad:function(){return ts},cubic:function(){return Oo},sin:function(){return Ju},exp:function(){return _l},circle:function(){return $u},elastic:Qu,back:tc,bounce:function(){return Xl}}),Ku=i.map({in:F,out:Ca,"in-out":Hl,"out-in":function(lt){return Hl(Ca(lt))}});i.ease=function(lt){var _t=lt.indexOf("-"),Ct=_t>=0?lt.slice(0,_t):lt,Ht=_t>=0?lt.slice(_t+1):"in";return Ct=Qa.get(Ct)||vu,Ht=Ku.get(Ht)||F,Ro(Ht(Ct.apply(null,L.call(arguments,1))))};function Ro(lt){return function(_t){return _t<=0?0:_t>=1?1:lt(_t)}}function Ca(lt){return function(_t){return 1-lt(1-_t)}}function Hl(lt){return function(_t){return .5*(_t<.5?lt(2*_t):2-lt(2-2*_t))}}function ts(lt){return lt*lt}function Oo(lt){return lt*lt*lt}function Wl(lt){if(lt<=0)return 0;if(lt>=1)return 1;var _t=lt*lt,Ct=_t*lt;return 4*(lt<.5?Ct:3*(lt-_t)+Ct-.75)}function gu(lt){return function(_t){return Math.pow(_t,lt)}}function Ju(lt){return 1-Math.cos(lt*qt)}function _l(lt){return Math.pow(2,10*(lt-1))}function $u(lt){return 1-Math.sqrt(1-lt*lt)}function Qu(lt,_t){var Ct;return arguments.length<2&&(_t=.45),arguments.length?Ct=_t/bt*Math.asin(1/lt):(lt=1,Ct=_t/4),function(Ht){return 1+lt*Math.pow(2,-10*Ht)*Math.sin((Ht-Ct)*bt/_t)}}function tc(lt){return lt||(lt=1.70158),function(_t){return _t*_t*((lt+1)*_t-lt)}}function Xl(lt){return lt<.36363636363636365?7.5625*lt*lt:lt<.7272727272727273?7.5625*(lt-=.5454545454545454)*lt+.75:lt<.9090909090909091?7.5625*(lt-=.8181818181818182)*lt+.9375:7.5625*(lt-=.9545454545454546)*lt+.984375}i.interpolateHcl=ec;function ec(lt,_t){lt=i.hcl(lt),_t=i.hcl(_t);var Ct=lt.h,Ht=lt.c,Xt=lt.l,ee=_t.h-Ct,xe=_t.c-Ht,me=_t.l-Xt;return isNaN(xe)&&(xe=0,Ht=isNaN(Ht)?_t.c:Ht),isNaN(ee)?(ee=0,Ct=isNaN(Ct)?_t.h:Ct):ee>180?ee-=360:ee<-180&&(ee+=360),function(ze){return Re(Ct+ee*ze,Ht+xe*ze,Xt+me*ze)+""}}i.interpolateHsl=rc;function rc(lt,_t){lt=i.hsl(lt),_t=i.hsl(_t);var Ct=lt.h,Ht=lt.s,Xt=lt.l,ee=_t.h-Ct,xe=_t.s-Ht,me=_t.l-Xt;return isNaN(xe)&&(xe=0,Ht=isNaN(Ht)?_t.s:Ht),isNaN(ee)?(ee=0,Ct=isNaN(Ct)?_t.h:Ct):ee>180?ee-=360:ee<-180&&(ee+=360),function(ze){return Ae(Ct+ee*ze,Ht+xe*ze,Xt+me*ze)+""}}i.interpolateLab=mu;function mu(lt,_t){lt=i.lab(lt),_t=i.lab(_t);var Ct=lt.l,Ht=lt.a,Xt=lt.b,ee=_t.l-Ct,xe=_t.a-Ht,me=_t.b-Xt;return function(ze){return Ut(Ct+ee*ze,Ht+xe*ze,Xt+me*ze)+""}}i.interpolateRound=yu;function yu(lt,_t){return _t-=lt,function(Ct){return Math.round(lt+_t*Ct)}}i.transform=function(lt){var _t=v.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Ct){if(Ct!=null){_t.setAttribute("transform",Ct);var Ht=_t.transform.baseVal.consolidate()}return new ps(Ht?Ht.matrix:xu)})(lt)};function ps(lt){var _t=[lt.a,lt.b],Ct=[lt.c,lt.d],Ht=Xs(_t),Xt=Ls(_t,Ct),ee=Xs(Vs(Ct,_t,-Xt))||0;_t[0]*Ct[1]<Ct[0]*_t[1]&&(_t[0]*=-1,_t[1]*=-1,Ht*=-1,Xt*=-1),this.rotate=(Ht?Math.atan2(_t[1],_t[0]):Math.atan2(-Ct[0],Ct[1]))*re,this.translate=[lt.e,lt.f],this.scale=[Ht,ee],this.skew=ee?Math.atan2(Xt,ee)*re:0}ps.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ls(lt,_t){return lt[0]*_t[0]+lt[1]*_t[1]}function Xs(lt){var _t=Math.sqrt(Ls(lt,lt));return _t&&(lt[0]/=_t,lt[1]/=_t),_t}function Vs(lt,_t,Ct){return lt[0]+=Ct*_t[0],lt[1]+=Ct*_t[1],lt}var xu={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Al;function jo(lt){return lt.length?lt.pop()+",":""}function nc(lt,_t,Ct,Ht){if(lt[0]!==_t[0]||lt[1]!==_t[1]){var Xt=Ct.push("translate(",null,",",null,")");Ht.push({i:Xt-4,x:ba(lt[0],_t[0])},{i:Xt-2,x:ba(lt[1],_t[1])})}else(_t[0]||_t[1])&&Ct.push("translate("+_t+")")}function wl(lt,_t,Ct,Ht){lt!==_t?(lt-_t>180?_t+=360:_t-lt>180&&(lt+=360),Ht.push({i:Ct.push(jo(Ct)+"rotate(",null,")")-2,x:ba(lt,_t)})):_t&&Ct.push(jo(Ct)+"rotate("+_t+")")}function bu(lt,_t,Ct,Ht){lt!==_t?Ht.push({i:Ct.push(jo(Ct)+"skewX(",null,")")-2,x:ba(lt,_t)}):_t&&Ct.push(jo(Ct)+"skewX("+_t+")")}function _u(lt,_t,Ct,Ht){if(lt[0]!==_t[0]||lt[1]!==_t[1]){var Xt=Ct.push(jo(Ct)+"scale(",null,",",null,")");Ht.push({i:Xt-4,x:ba(lt[0],_t[0])},{i:Xt-2,x:ba(lt[1],_t[1])})}else(_t[0]!==1||_t[1]!==1)&&Ct.push(jo(Ct)+"scale("+_t+")")}function Al(lt,_t){var Ct=[],Ht=[];return lt=i.transform(lt),_t=i.transform(_t),nc(lt.translate,_t.translate,Ct,Ht),wl(lt.rotate,_t.rotate,Ct,Ht),bu(lt.skew,_t.skew,Ct,Ht),_u(lt.scale,_t.scale,Ct,Ht),lt=_t=null,function(Xt){for(var ee=-1,xe=Ht.length,me;++ee<xe;)Ct[(me=Ht[ee]).i]=me.x(Xt);return Ct.join("")}}function yo(lt,_t){return _t=(_t-=lt=+lt)||1/_t,function(Ct){return(Ct-lt)/_t}}function Ss(lt,_t){return _t=(_t-=lt=+lt)||1/_t,function(Ct){return Math.max(0,Math.min(1,(Ct-lt)/_t))}}i.layout={},i.layout.bundle=function(){return function(lt){for(var _t=[],Ct=-1,Ht=lt.length;++Ct<Ht;)_t.push(ds(lt[Ct]));return _t}};function ds(lt){for(var _t=lt.source,Ct=lt.target,Ht=es(_t,Ct),Xt=[_t];_t!==Ht;)_t=_t.parent,Xt.push(_t);for(var ee=Xt.length;Ct!==Ht;)Xt.splice(ee,0,Ct),Ct=Ct.parent;return Xt}function Zs(lt){for(var _t=[],Ct=lt.parent;Ct!=null;)_t.push(lt),lt=Ct,Ct=Ct.parent;return _t.push(lt),_t}function es(lt,_t){if(lt===_t)return lt;for(var Ct=Zs(lt),Ht=Zs(_t),Xt=Ct.pop(),ee=Ht.pop(),xe=null;Xt===ee;)xe=Xt,Xt=Ct.pop(),ee=Ht.pop();return xe}i.layout.chord=function(){var lt={},_t,Ct,Ht,Xt,ee=0,xe,me,ze;function Ie(){var br={},wr=[],Hr=i.range(Xt),Jr=[],Ar,Dr,Yr,Qr,rn;for(_t=[],Ct=[],Ar=0,Qr=-1;++Qr<Xt;){for(Dr=0,rn=-1;++rn<Xt;)Dr+=Ht[Qr][rn];wr.push(Dr),Jr.push(i.range(Xt)),Ar+=Dr}for(xe&&Hr.sort(function(Ri,di){return xe(wr[Ri],wr[di])}),me&&Jr.forEach(function(Ri,di){Ri.sort(function(Si,Hi){return me(Ht[di][Si],Ht[di][Hi])})}),Ar=(bt-ee*Xt)/Ar,Dr=0,Qr=-1;++Qr<Xt;){for(Yr=Dr,rn=-1;++rn<Xt;){var Vr=Hr[Qr],zn=Jr[Vr][rn],Hn=Ht[Vr][zn],ti=Dr,Gn=Dr+=Hn*Ar;br[Vr+"-"+zn]={index:Vr,subindex:zn,startAngle:ti,endAngle:Gn,value:Hn}}Ct[Vr]={index:Vr,startAngle:Yr,endAngle:Dr,value:wr[Vr]},Dr+=ee}for(Qr=-1;++Qr<Xt;)for(rn=Qr-1;++rn<Xt;){var Jn=br[Qr+"-"+rn],ei=br[rn+"-"+Qr];(Jn.value||ei.value)&&_t.push(Jn.value<ei.value?{source:ei,target:Jn}:{source:Jn,target:ei})}ze&&Ze()}function Ze(){_t.sort(function(br,wr){return ze((br.source.value+br.target.value)/2,(wr.source.value+wr.target.value)/2)})}return lt.matrix=function(br){return arguments.length?(Xt=(Ht=br)&&Ht.length,_t=Ct=null,lt):Ht},lt.padding=function(br){return arguments.length?(ee=br,_t=Ct=null,lt):ee},lt.sortGroups=function(br){return arguments.length?(xe=br,_t=Ct=null,lt):xe},lt.sortSubgroups=function(br){return arguments.length?(me=br,_t=null,lt):me},lt.sortChords=function(br){return arguments.length?(ze=br,_t&&Ze(),lt):ze},lt.chords=function(){return _t||Ie(),_t},lt.groups=function(){return Ct||Ie(),Ct},lt},i.layout.force=function(){var lt={},_t=i.dispatch("start","tick","end"),Ct,Ht=[1,1],Xt,ee,xe=.9,me=Zl,ze=ic,Ie=-30,Ze=Tl,br=.1,wr=.64,Hr=[],Jr=[],Ar,Dr,Yr;function Qr(Vr){return function(zn,Hn,ti,Gn){if(zn.point!==Vr){var Jn=zn.cx-Vr.x,ei=zn.cy-Vr.y,Ri=Gn-Hn,di=Jn*Jn+ei*ei;if(Ri*Ri/wr<di){if(di<Ze){var Si=zn.charge/di;Vr.px-=Jn*Si,Vr.py-=ei*Si}return!0}if(zn.point&&di&&di<Ze){var Si=zn.pointCharge/di;Vr.px-=Jn*Si,Vr.py-=ei*Si}}return!zn.charge}}lt.tick=function(){if((ee*=.99)<.005)return Ct=null,_t.end({type:"end",alpha:ee=0}),!0;var Vr=Hr.length,zn=Jr.length,Hn,ti,Gn,Jn,ei,Ri,di,Si,Hi;for(ti=0;ti<zn;++ti)Gn=Jr[ti],Jn=Gn.source,ei=Gn.target,Si=ei.x-Jn.x,Hi=ei.y-Jn.y,(Ri=Si*Si+Hi*Hi)&&(Ri=ee*Dr[ti]*((Ri=Math.sqrt(Ri))-Ar[ti])/Ri,Si*=Ri,Hi*=Ri,ei.x-=Si*(di=Jn.weight+ei.weight?Jn.weight/(Jn.weight+ei.weight):.5),ei.y-=Hi*di,Jn.x+=Si*(di=1-di),Jn.y+=Hi*di);if((di=ee*br)&&(Si=Ht[0]/2,Hi=Ht[1]/2,ti=-1,di))for(;++ti<Vr;)Gn=Hr[ti],Gn.x+=(Si-Gn.x)*di,Gn.y+=(Hi-Gn.y)*di;if(Ie)for(va(Hn=i.geom.quadtree(Hr),ee,Yr),ti=-1;++ti<Vr;)(Gn=Hr[ti]).fixed||Hn.visit(Qr(Gn));for(ti=-1;++ti<Vr;)Gn=Hr[ti],Gn.fixed?(Gn.x=Gn.px,Gn.y=Gn.py):(Gn.x-=(Gn.px-(Gn.px=Gn.x))*xe,Gn.y-=(Gn.py-(Gn.py=Gn.y))*xe);_t.tick({type:"tick",alpha:ee})},lt.nodes=function(Vr){return arguments.length?(Hr=Vr,lt):Hr},lt.links=function(Vr){return arguments.length?(Jr=Vr,lt):Jr},lt.size=function(Vr){return arguments.length?(Ht=Vr,lt):Ht},lt.linkDistance=function(Vr){return arguments.length?(me=typeof Vr=="function"?Vr:+Vr,lt):me},lt.distance=lt.linkDistance,lt.linkStrength=function(Vr){return arguments.length?(ze=typeof Vr=="function"?Vr:+Vr,lt):ze},lt.friction=function(Vr){return arguments.length?(xe=+Vr,lt):xe},lt.charge=function(Vr){return arguments.length?(Ie=typeof Vr=="function"?Vr:+Vr,lt):Ie},lt.chargeDistance=function(Vr){return arguments.length?(Ze=Vr*Vr,lt):Math.sqrt(Ze)},lt.gravity=function(Vr){return arguments.length?(br=+Vr,lt):br},lt.theta=function(Vr){return arguments.length?(wr=Vr*Vr,lt):Math.sqrt(wr)},lt.alpha=function(Vr){return arguments.length?(Vr=+Vr,ee?Vr>0?ee=Vr:(Ct.c=null,Ct.t=NaN,Ct=null,_t.end({type:"end",alpha:ee=0})):Vr>0&&(_t.start({type:"start",alpha:ee=Vr}),Ct=Mn(lt.tick)),lt):ee},lt.start=function(){var Vr,zn=Hr.length,Hn=Jr.length,ti=Ht[0],Gn=Ht[1],Jn,ei;for(Vr=0;Vr<zn;++Vr)(ei=Hr[Vr]).index=Vr,ei.weight=0;for(Vr=0;Vr<Hn;++Vr)ei=Jr[Vr],typeof ei.source=="number"&&(ei.source=Hr[ei.source]),typeof ei.target=="number"&&(ei.target=Hr[ei.target]),++ei.source.weight,++ei.target.weight;for(Vr=0;Vr<zn;++Vr)ei=Hr[Vr],isNaN(ei.x)&&(ei.x=Ri("x",ti)),isNaN(ei.y)&&(ei.y=Ri("y",Gn)),isNaN(ei.px)&&(ei.px=ei.x),isNaN(ei.py)&&(ei.py=ei.y);if(Ar=[],typeof me=="function")for(Vr=0;Vr<Hn;++Vr)Ar[Vr]=+me.call(this,Jr[Vr],Vr);else for(Vr=0;Vr<Hn;++Vr)Ar[Vr]=me;if(Dr=[],typeof ze=="function")for(Vr=0;Vr<Hn;++Vr)Dr[Vr]=+ze.call(this,Jr[Vr],Vr);else for(Vr=0;Vr<Hn;++Vr)Dr[Vr]=ze;if(Yr=[],typeof Ie=="function")for(Vr=0;Vr<zn;++Vr)Yr[Vr]=+Ie.call(this,Hr[Vr],Vr);else for(Vr=0;Vr<zn;++Vr)Yr[Vr]=Ie;function Ri(di,Si){if(!Jn){for(Jn=new Array(zn),Vi=0;Vi<zn;++Vi)Jn[Vi]=[];for(Vi=0;Vi<Hn;++Vi){var Hi=Jr[Vi];Jn[Hi.source.index].push(Hi.target),Jn[Hi.target.index].push(Hi.source)}}for(var _a=Jn[Vr],Vi=-1,Yn=_a.length,Pi;++Vi<Yn;)if(!isNaN(Pi=_a[Vi][di]))return Pi;return Math.random()*Si}return lt.resume()},lt.resume=function(){return lt.alpha(.1)},lt.stop=function(){return lt.alpha(0)},lt.drag=function(){if(Xt||(Xt=i.behavior.drag().origin(F).on("dragstart.force",Po).on("drag.force",rn).on("dragend.force",Vl)),!arguments.length)return Xt;this.on("mouseover.force",Cs).on("mouseout.force",xo).call(Xt)};function rn(Vr){Vr.px=i.event.x,Vr.py=i.event.y,lt.resume()}return i.rebind(lt,_t,"on")};function Po(lt){lt.fixed|=2}function Vl(lt){lt.fixed&=-7}function Cs(lt){lt.fixed|=4,lt.px=lt.x,lt.py=lt.y}function xo(lt){lt.fixed&=-5}function va(lt,_t,Ct){var Ht=0,Xt=0;if(lt.charge=0,!lt.leaf)for(var ee=lt.nodes,xe=ee.length,me=-1,ze;++me<xe;)ze=ee[me],ze!=null&&(va(ze,_t,Ct),lt.charge+=ze.charge,Ht+=ze.charge*ze.cx,Xt+=ze.charge*ze.cy);if(lt.point){lt.leaf||(lt.point.x+=Math.random()-.5,lt.point.y+=Math.random()-.5);var Ie=_t*Ct[lt.point.index];lt.charge+=lt.pointCharge=Ie,Ht+=Ie*lt.point.x,Xt+=Ie*lt.point.y}lt.cx=Ht/lt.charge,lt.cy=Xt/lt.charge}var Zl=20,ic=1,Tl=1/0;i.layout.hierarchy=function(){var lt=Ml,_t=kl,Ct=Ps;function Ht(Xt){var ee=[Xt],xe=[],me;for(Xt.depth=0;(me=ee.pop())!=null;)if(xe.push(me),(Ie=_t.call(Ht,me,me.depth))&&(ze=Ie.length)){for(var ze,Ie,Ze;--ze>=0;)ee.push(Ze=Ie[ze]),Ze.parent=me,Ze.depth=me.depth+1;Ct&&(me.value=0),me.children=Ie}else Ct&&(me.value=+Ct.call(Ht,me,me.depth)||0),delete me.children;return to(Xt,function(br){var wr,Hr;lt&&(wr=br.children)&&wr.sort(lt),Ct&&(Hr=br.parent)&&(Hr.value+=br.value)}),xe}return Ht.sort=function(Xt){return arguments.length?(lt=Xt,Ht):lt},Ht.children=function(Xt){return arguments.length?(_t=Xt,Ht):_t},Ht.value=function(Xt){return arguments.length?(Ct=Xt,Ht):Ct},Ht.revalue=function(Xt){return Ct&&(Os(Xt,function(ee){ee.children&&(ee.value=0)}),to(Xt,function(ee){var xe;ee.children||(ee.value=+Ct.call(Ht,ee,ee.depth)||0),(xe=ee.parent)&&(xe.value+=ee.value)})),Xt},Ht};function Rs(lt,_t){return i.rebind(lt,_t,"sort","children","value"),lt.nodes=lt,lt.links=ac,lt}function Os(lt,_t){for(var Ct=[lt];(lt=Ct.pop())!=null;)if(_t(lt),(Xt=lt.children)&&(Ht=Xt.length))for(var Ht,Xt;--Ht>=0;)Ct.push(Xt[Ht])}function to(lt,_t){for(var Ct=[lt],Ht=[];(lt=Ct.pop())!=null;)if(Ht.push(lt),(xe=lt.children)&&(ee=xe.length))for(var Xt=-1,ee,xe;++Xt<ee;)Ct.push(xe[Xt]);for(;(lt=Ht.pop())!=null;)_t(lt)}function kl(lt){return lt.children}function Ps(lt){return lt.value}function Ml(lt,_t){return _t.value-lt.value}function ac(lt){return i.merge(lt.map(function(_t){return(_t.children||[]).map(function(Ct){return{source:_t,target:Ct}})}))}i.layout.partition=function(){var lt=i.layout.hierarchy(),_t=[1,1];function Ct(ee,xe,me,ze){var Ie=ee.children;if(ee.x=xe,ee.y=ee.depth*ze,ee.dx=me,ee.dy=ze,Ie&&(br=Ie.length)){var Ze=-1,br,wr,Hr;for(me=ee.value?me/ee.value:0;++Ze<br;)Ct(wr=Ie[Ze],xe,Hr=wr.value*me,ze),xe+=Hr}}function Ht(ee){var xe=ee.children,me=0;if(xe&&(Ie=xe.length))for(var ze=-1,Ie;++ze<Ie;)me=Math.max(me,Ht(xe[ze]));return 1+me}function Xt(ee,xe){var me=lt.call(this,ee,xe);return Ct(me[0],0,_t[0],_t[1]/Ht(me[0])),me}return Xt.size=function(ee){return arguments.length?(_t=ee,Xt):_t},Rs(Xt,lt)},i.layout.pie=function(){var lt=Number,_t=wu,Ct=0,Ht=bt,Xt=0;function ee(xe){var me=xe.length,ze=xe.map(function(Qr,rn){return+lt.call(ee,Qr,rn)}),Ie=+(typeof Ct=="function"?Ct.apply(this,arguments):Ct),Ze=(typeof Ht=="function"?Ht.apply(this,arguments):Ht)-Ie,br=Math.min(Math.abs(Ze)/me,+(typeof Xt=="function"?Xt.apply(this,arguments):Xt)),wr=br*(Ze<0?-1:1),Hr=i.sum(ze),Jr=Hr?(Ze-me*wr)/Hr:0,Ar=i.range(me),Dr=[],Yr;return _t!=null&&Ar.sort(_t===wu?function(Qr,rn){return ze[rn]-ze[Qr]}:function(Qr,rn){return _t(xe[Qr],xe[rn])}),Ar.forEach(function(Qr){Dr[Qr]={data:xe[Qr],value:Yr=ze[Qr],startAngle:Ie,endAngle:Ie+=Yr*Jr+wr,padAngle:br}}),Dr}return ee.value=function(xe){return arguments.length?(lt=xe,ee):lt},ee.sort=function(xe){return arguments.length?(_t=xe,ee):_t},ee.startAngle=function(xe){return arguments.length?(Ct=xe,ee):Ct},ee.endAngle=function(xe){return arguments.length?(Ht=xe,ee):Ht},ee.padAngle=function(xe){return arguments.length?(Xt=xe,ee):Xt},ee};var wu={};i.layout.stack=function(){var lt=F,_t=Ks,Ct=Ll,Ht=$l,Xt=Kl,ee=Jl;function xe(me,ze){if(!(Jr=me.length))return me;var Ie=me.map(function(Qr,rn){return lt.call(xe,Qr,rn)}),Ze=Ie.map(function(Qr){return Qr.map(function(rn,Vr){return[Xt.call(xe,rn,Vr),ee.call(xe,rn,Vr)]})}),br=_t.call(xe,Ze,ze);Ie=i.permute(Ie,br),Ze=i.permute(Ze,br);var wr=Ct.call(xe,Ze,ze),Hr=Ie[0].length,Jr,Ar,Dr,Yr;for(Dr=0;Dr<Hr;++Dr)for(Ht.call(xe,Ie[0][Dr],Yr=wr[Dr],Ze[0][Dr][1]),Ar=1;Ar<Jr;++Ar)Ht.call(xe,Ie[Ar][Dr],Yr+=Ze[Ar-1][Dr][1],Ze[Ar][Dr][1]);return me}return xe.values=function(me){return arguments.length?(lt=me,xe):lt},xe.order=function(me){return arguments.length?(_t=typeof me=="function"?me:zs.get(me)||Ks,xe):_t},xe.offset=function(me){return arguments.length?(Ct=typeof me=="function"?me:El.get(me)||Ll,xe):Ct},xe.x=function(me){return arguments.length?(Xt=me,xe):Xt},xe.y=function(me){return arguments.length?(ee=me,xe):ee},xe.out=function(me){return arguments.length?(Ht=me,xe):Ht},xe};function Kl(lt){return lt.x}function Jl(lt){return lt.y}function $l(lt,_t,Ct){lt.y0=_t,lt.y=Ct}var zs=i.map({"inside-out":function(lt){var _t=lt.length,Ct,Ht,Xt=lt.map(ea),ee=lt.map(Au),xe=i.range(_t).sort(function(br,wr){return Xt[br]-Xt[wr]}),me=0,ze=0,Ie=[],Ze=[];for(Ct=0;Ct<_t;++Ct)Ht=xe[Ct],me<ze?(me+=ee[Ht],Ie.push(Ht)):(ze+=ee[Ht],Ze.push(Ht));return Ze.reverse().concat(Ie)},reverse:function(lt){return i.range(lt.length).reverse()},default:Ks}),El=i.map({silhouette:function(lt){var _t=lt.length,Ct=lt[0].length,Ht=[],Xt=0,ee,xe,me,ze=[];for(xe=0;xe<Ct;++xe){for(ee=0,me=0;ee<_t;ee++)me+=lt[ee][xe][1];me>Xt&&(Xt=me),Ht.push(me)}for(xe=0;xe<Ct;++xe)ze[xe]=(Xt-Ht[xe])/2;return ze},wiggle:function(lt){var _t=lt.length,Ct=lt[0],Ht=Ct.length,Xt,ee,xe,me,ze,Ie,Ze,br,wr,Hr=[];for(Hr[0]=br=wr=0,ee=1;ee<Ht;++ee){for(Xt=0,me=0;Xt<_t;++Xt)me+=lt[Xt][ee][1];for(Xt=0,ze=0,Ze=Ct[ee][0]-Ct[ee-1][0];Xt<_t;++Xt){for(xe=0,Ie=(lt[Xt][ee][1]-lt[Xt][ee-1][1])/(2*Ze);xe<Xt;++xe)Ie+=(lt[xe][ee][1]-lt[xe][ee-1][1])/Ze;ze+=Ie*lt[Xt][ee][1]}Hr[ee]=br-=me?ze/me*Ze:0,br<wr&&(wr=br)}for(ee=0;ee<Ht;++ee)Hr[ee]-=wr;return Hr},expand:function(lt){var _t=lt.length,Ct=lt[0].length,Ht=1/_t,Xt,ee,xe,me=[];for(ee=0;ee<Ct;++ee){for(Xt=0,xe=0;Xt<_t;Xt++)xe+=lt[Xt][ee][1];if(xe)for(Xt=0;Xt<_t;Xt++)lt[Xt][ee][1]/=xe;else for(Xt=0;Xt<_t;Xt++)lt[Xt][ee][1]=Ht}for(ee=0;ee<Ct;++ee)me[ee]=0;return me},zero:Ll});function Ks(lt){return i.range(lt.length)}function Ll(lt){for(var _t=-1,Ct=lt[0].length,Ht=[];++_t<Ct;)Ht[_t]=0;return Ht}function ea(lt){for(var _t=1,Ct=0,Ht=lt[0][1],Xt,ee=lt.length;_t<ee;++_t)(Xt=lt[_t][1])>Ht&&(Ct=_t,Ht=Xt);return Ct}function Au(lt){return lt.reduce(bo,0)}function bo(lt,_t){return lt+_t[1]}i.layout.histogram=function(){var lt=!0,_t=Number,Ct=vs,Ht=Tu;function Xt(ee,xe){for(var me=[],ze=ee.map(_t,this),Ie=Ct.call(this,ze,xe),Ze=Ht.call(this,Ie,ze,xe),br,xe=-1,wr=ze.length,Hr=Ze.length-1,Jr=lt?1:1/wr,Ar;++xe<Hr;)br=me[xe]=[],br.dx=Ze[xe+1]-(br.x=Ze[xe]),br.y=0;if(Hr>0)for(xe=-1;++xe<wr;)Ar=ze[xe],Ar>=Ie[0]&&Ar<=Ie[1]&&(br=me[i.bisect(Ze,Ar,1,Hr)-1],br.y+=Jr,br.push(ee[xe]));return me}return Xt.value=function(ee){return arguments.length?(_t=ee,Xt):_t},Xt.range=function(ee){return arguments.length?(Ct=Gr(ee),Xt):Ct},Xt.bins=function(ee){return arguments.length?(Ht=typeof ee=="number"?function(xe){return Ql(xe,ee)}:Gr(ee),Xt):Ht},Xt.frequency=function(ee){return arguments.length?(lt=!!ee,Xt):lt},Xt};function Tu(lt,_t){return Ql(lt,Math.ceil(Math.log(_t.length)/Math.LN2+1))}function Ql(lt,_t){for(var Ct=-1,Ht=+lt[0],Xt=(lt[1]-Ht)/_t,ee=[];++Ct<=_t;)ee[Ct]=Xt*Ct+Ht;return ee}function vs(lt){return[i.min(lt),i.max(lt)]}i.layout.pack=function(){var lt=i.layout.hierarchy().sort(rs),_t=0,Ct=[1,1],Ht;function Xt(ee,xe){var me=lt.call(this,ee,xe),ze=me[0],Ie=Ct[0],Ze=Ct[1],br=Ht==null?Math.sqrt:typeof Ht=="function"?Ht:function(){return Ht};if(ze.x=ze.y=0,to(ze,function(Hr){Hr.r=+br(Hr.value)}),to(ze,_o),_t){var wr=_t*(Ht?1:Math.max(2*ze.r/Ie,2*ze.r/Ze))/2;to(ze,function(Hr){Hr.r+=wr}),to(ze,_o),to(ze,function(Hr){Hr.r-=wr})}return ns(ze,Ie/2,Ze/2,Ht?1:1/Math.max(2*ze.r/Ie,2*ze.r/Ze)),me}return Xt.size=function(ee){return arguments.length?(Ct=ee,Xt):Ct},Xt.radius=function(ee){return arguments.length?(Ht=ee==null||typeof ee=="function"?ee:+ee,Xt):Ht},Xt.padding=function(ee){return arguments.length?(_t=+ee,Xt):_t},Rs(Xt,lt)};function rs(lt,_t){return lt.value-_t.value}function Sl(lt,_t){var Ct=lt._pack_next;lt._pack_next=_t,_t._pack_prev=lt,_t._pack_next=Ct,Ct._pack_prev=_t}function ya(lt,_t){lt._pack_next=_t,_t._pack_prev=lt}function Js(lt,_t){var Ct=_t.x-lt.x,Ht=_t.y-lt.y,Xt=lt.r+_t.r;return .999*Xt*Xt>Ct*Ct+Ht*Ht}function _o(lt){if(!(_t=lt.children)||!(wr=_t.length))return;var _t,Ct=1/0,Ht=-1/0,Xt=1/0,ee=-1/0,xe,me,ze,Ie,Ze,br,wr;function Hr(Vr){Ct=Math.min(Vr.x-Vr.r,Ct),Ht=Math.max(Vr.x+Vr.r,Ht),Xt=Math.min(Vr.y-Vr.r,Xt),ee=Math.max(Vr.y+Vr.r,ee)}if(_t.forEach(Uo),xe=_t[0],xe.x=-xe.r,xe.y=0,Hr(xe),wr>1&&(me=_t[1],me.x=me.r,me.y=0,Hr(me),wr>2))for(ze=_t[2],wo(xe,me,ze),Hr(ze),Sl(xe,ze),xe._pack_prev=ze,Sl(ze,me),me=xe._pack_next,Ie=3;Ie<wr;Ie++){wo(xe,me,ze=_t[Ie]);var Jr=0,Ar=1,Dr=1;for(Ze=me._pack_next;Ze!==me;Ze=Ze._pack_next,Ar++)if(Js(Ze,ze)){Jr=1;break}if(Jr==1)for(br=xe._pack_prev;br!==Ze._pack_prev&&!Js(br,ze);br=br._pack_prev,Dr++);Jr?(Ar<Dr||Ar==Dr&&me.r<xe.r?ya(xe,me=Ze):ya(xe=br,me),Ie--):(Sl(xe,ze),me=ze,Hr(ze))}var Yr=(Ct+Ht)/2,Qr=(Xt+ee)/2,rn=0;for(Ie=0;Ie<wr;Ie++)ze=_t[Ie],ze.x-=Yr,ze.y-=Qr,rn=Math.max(rn,ze.r+Math.sqrt(ze.x*ze.x+ze.y*ze.y));lt.r=rn,_t.forEach(gs)}function Uo(lt){lt._pack_next=lt._pack_prev=lt}function gs(lt){delete lt._pack_next,delete lt._pack_prev}function ns(lt,_t,Ct,Ht){var Xt=lt.children;if(lt.x=_t+=Ht*lt.x,lt.y=Ct+=Ht*lt.y,lt.r*=Ht,Xt)for(var ee=-1,xe=Xt.length;++ee<xe;)ns(Xt[ee],_t,Ct,Ht)}function wo(lt,_t,Ct){var Ht=lt.r+Ct.r,Xt=_t.x-lt.x,ee=_t.y-lt.y;if(Ht&&(Xt||ee)){var xe=_t.r+Ct.r,me=Xt*Xt+ee*ee;xe*=xe,Ht*=Ht;var ze=.5+(Ht-xe)/(2*me),Ie=Math.sqrt(Math.max(0,2*xe*(Ht+me)-(Ht-=me)*Ht-xe*xe))/(2*me);Ct.x=lt.x+ze*Xt+Ie*ee,Ct.y=lt.y+ze*ee-Ie*Xt}else Ct.x=lt.x+Ht,Ct.y=lt.y}i.layout.tree=function(){var lt=i.layout.hierarchy().sort(null).value(null),_t=qo,Ct=[1,1],Ht=null;function Xt(Ze,br){var wr=lt.call(this,Ze,br),Hr=wr[0],Jr=ee(Hr);if(to(Jr,xe),Jr.parent.m=-Jr.z,Os(Jr,me),Ht)Os(Hr,Ie);else{var Ar=Hr,Dr=Hr,Yr=Hr;Os(Hr,function(zn){zn.x<Ar.x&&(Ar=zn),zn.x>Dr.x&&(Dr=zn),zn.depth>Yr.depth&&(Yr=zn)});var Qr=_t(Ar,Dr)/2-Ar.x,rn=Ct[0]/(Dr.x+_t(Dr,Ar)/2+Qr),Vr=Ct[1]/(Yr.depth||1);Os(Hr,function(zn){zn.x=(zn.x+Qr)*rn,zn.y=zn.depth*Vr})}return wr}function ee(Ze){for(var br={A:null,children:[Ze]},wr=[br],Hr;(Hr=wr.pop())!=null;)for(var Jr=Hr.children,Ar,Dr=0,Yr=Jr.length;Dr<Yr;++Dr)wr.push((Jr[Dr]=Ar={_:Jr[Dr],parent:Hr,children:(Ar=Jr[Dr].children)&&Ar.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Dr}).a=Ar);return br.children[0]}function xe(Ze){var br=Ze.children,wr=Ze.parent.children,Hr=Ze.i?wr[Ze.i-1]:null;if(br.length){oc(Ze);var Jr=(br[0].z+br[br.length-1].z)/2;Hr?(Ze.z=Hr.z+_t(Ze._,Hr._),Ze.m=Ze.z-Jr):Ze.z=Jr}else Hr&&(Ze.z=Hr.z+_t(Ze._,Hr._));Ze.parent.A=ze(Ze,Hr,Ze.parent.A||wr[0])}function me(Ze){Ze._.x=Ze.z+Ze.parent.m,Ze.m+=Ze.parent.m}function ze(Ze,br,wr){if(br){for(var Hr=Ze,Jr=Ze,Ar=br,Dr=Hr.parent.children[0],Yr=Hr.m,Qr=Jr.m,rn=Ar.m,Vr=Dr.m,zn;Ar=fo(Ar),Hr=Ao(Hr),Ar&&Hr;)Dr=Ao(Dr),Jr=fo(Jr),Jr.a=Ze,zn=Ar.z+rn-Hr.z-Yr+_t(Ar._,Hr._),zn>0&&($s(sc(Ar,Ze,wr),Ze,zn),Yr+=zn,Qr+=zn),rn+=Ar.m,Yr+=Hr.m,Vr+=Dr.m,Qr+=Jr.m;Ar&&!fo(Jr)&&(Jr.t=Ar,Jr.m+=rn-Qr),Hr&&!Ao(Dr)&&(Dr.t=Hr,Dr.m+=Yr-Vr,wr=Ze)}return wr}function Ie(Ze){Ze.x*=Ct[0],Ze.y=Ze.depth*Ct[1]}return Xt.separation=function(Ze){return arguments.length?(_t=Ze,Xt):_t},Xt.size=function(Ze){return arguments.length?(Ht=(Ct=Ze)==null?Ie:null,Xt):Ht?null:Ct},Xt.nodeSize=function(Ze){return arguments.length?(Ht=(Ct=Ze)==null?null:Ie,Xt):Ht?Ct:null},Rs(Xt,lt)};function qo(lt,_t){return lt.parent==_t.parent?1:2}function Ao(lt){var _t=lt.children;return _t.length?_t[0]:lt.t}function fo(lt){var _t=lt.children,Ct;return(Ct=_t.length)?_t[Ct-1]:lt.t}function $s(lt,_t,Ct){var Ht=Ct/(_t.i-lt.i);_t.c-=Ht,_t.s+=Ct,lt.c+=Ht,_t.z+=Ct,_t.m+=Ct}function oc(lt){for(var _t=0,Ct=0,Ht=lt.children,Xt=Ht.length,ee;--Xt>=0;)ee=Ht[Xt],ee.z+=_t,ee.m+=_t,_t+=ee.s+(Ct+=ee.c)}function sc(lt,_t,Ct){return lt.a.parent===_t.parent?lt.a:Ct}i.layout.cluster=function(){var lt=i.layout.hierarchy().sort(null).value(null),_t=qo,Ct=[1,1],Ht=!1;function Xt(ee,xe){var me=lt.call(this,ee,xe),ze=me[0],Ie,Ze=0;to(ze,function(Ar){var Dr=Ar.children;Dr&&Dr.length?(Ar.x=uc(Dr),Ar.y=lc(Dr)):(Ar.x=Ie?Ze+=_t(Ar,Ie):0,Ar.y=0,Ie=Ar)});var br=tu(ze),wr=ku(ze),Hr=br.x-_t(br,wr)/2,Jr=wr.x+_t(wr,br)/2;return to(ze,Ht?function(Ar){Ar.x=(Ar.x-ze.x)*Ct[0],Ar.y=(ze.y-Ar.y)*Ct[1]}:function(Ar){Ar.x=(Ar.x-Hr)/(Jr-Hr)*Ct[0],Ar.y=(1-(ze.y?Ar.y/ze.y:1))*Ct[1]}),me}return Xt.separation=function(ee){return arguments.length?(_t=ee,Xt):_t},Xt.size=function(ee){return arguments.length?(Ht=(Ct=ee)==null,Xt):Ht?null:Ct},Xt.nodeSize=function(ee){return arguments.length?(Ht=(Ct=ee)!=null,Xt):Ht?Ct:null},Rs(Xt,lt)};function lc(lt){return 1+i.max(lt,function(_t){return _t.y})}function uc(lt){return lt.reduce(function(_t,Ct){return _t+Ct.x},0)/lt.length}function tu(lt){var _t=lt.children;return _t&&_t.length?tu(_t[0]):lt}function ku(lt){var _t=lt.children,Ct;return _t&&(Ct=_t.length)?ku(_t[Ct-1]):lt}i.layout.treemap=function(){var lt=i.layout.hierarchy(),_t=Math.round,Ct=[1,1],Ht=null,Xt=Is,ee=!1,xe,me="squarify",ze=.5*(1+Math.sqrt(5));function Ie(Ar,Dr){for(var Yr=-1,Qr=Ar.length,rn,Vr;++Yr<Qr;)Vr=(rn=Ar[Yr]).value*(Dr<0?0:Dr),rn.area=isNaN(Vr)||Vr<=0?0:Vr}function Ze(Ar){var Dr=Ar.children;if(Dr&&Dr.length){var Yr=Xt(Ar),Qr=[],rn=Dr.slice(),Vr,zn=1/0,Hn,ti=me==="slice"?Yr.dx:me==="dice"?Yr.dy:me==="slice-dice"?Ar.depth&1?Yr.dy:Yr.dx:Math.min(Yr.dx,Yr.dy),Gn;for(Ie(rn,Yr.dx*Yr.dy/Ar.value),Qr.area=0;(Gn=rn.length)>0;)Qr.push(Vr=rn[Gn-1]),Qr.area+=Vr.area,me!=="squarify"||(Hn=wr(Qr,ti))<=zn?(rn.pop(),zn=Hn):(Qr.area-=Qr.pop().area,Hr(Qr,ti,Yr,!1),ti=Math.min(Yr.dx,Yr.dy),Qr.length=Qr.area=0,zn=1/0);Qr.length&&(Hr(Qr,ti,Yr,!0),Qr.length=Qr.area=0),Dr.forEach(Ze)}}function br(Ar){var Dr=Ar.children;if(Dr&&Dr.length){var Yr=Xt(Ar),Qr=Dr.slice(),rn,Vr=[];for(Ie(Qr,Yr.dx*Yr.dy/Ar.value),Vr.area=0;rn=Qr.pop();)Vr.push(rn),Vr.area+=rn.area,rn.z!=null&&(Hr(Vr,rn.z?Yr.dx:Yr.dy,Yr,!Qr.length),Vr.length=Vr.area=0);Dr.forEach(br)}}function wr(Ar,Dr){for(var Yr=Ar.area,Qr,rn=0,Vr=1/0,zn=-1,Hn=Ar.length;++zn<Hn;)(Qr=Ar[zn].area)&&(Qr<Vr&&(Vr=Qr),Qr>rn&&(rn=Qr));return Yr*=Yr,Dr*=Dr,Yr?Math.max(Dr*rn*ze/Yr,Yr/(Dr*Vr*ze)):1/0}function Hr(Ar,Dr,Yr,Qr){var rn=-1,Vr=Ar.length,zn=Yr.x,Hn=Yr.y,ti=Dr?_t(Ar.area/Dr):0,Gn;if(Dr==Yr.dx){for((Qr||ti>Yr.dy)&&(ti=Yr.dy);++rn<Vr;)Gn=Ar[rn],Gn.x=zn,Gn.y=Hn,Gn.dy=ti,zn+=Gn.dx=Math.min(Yr.x+Yr.dx-zn,ti?_t(Gn.area/ti):0);Gn.z=!0,Gn.dx+=Yr.x+Yr.dx-zn,Yr.y+=ti,Yr.dy-=ti}else{for((Qr||ti>Yr.dx)&&(ti=Yr.dx);++rn<Vr;)Gn=Ar[rn],Gn.x=zn,Gn.y=Hn,Gn.dx=ti,Hn+=Gn.dy=Math.min(Yr.y+Yr.dy-Hn,ti?_t(Gn.area/ti):0);Gn.z=!1,Gn.dy+=Yr.y+Yr.dy-Hn,Yr.x+=ti,Yr.dx-=ti}}function Jr(Ar){var Dr=xe||lt(Ar),Yr=Dr[0];return Yr.x=Yr.y=0,Yr.value?(Yr.dx=Ct[0],Yr.dy=Ct[1]):Yr.dx=Yr.dy=0,xe&&lt.revalue(Yr),Ie([Yr],Yr.dx*Yr.dy/Yr.value),(xe?br:Ze)(Yr),ee&&(xe=Dr),Dr}return Jr.size=function(Ar){return arguments.length?(Ct=Ar,Jr):Ct},Jr.padding=function(Ar){if(!arguments.length)return Ht;function Dr(rn){var Vr=Ar.call(Jr,rn,rn.depth);return Vr==null?Is(rn):Ra(rn,typeof Vr=="number"?[Vr,Vr,Vr,Vr]:Vr)}function Yr(rn){return Ra(rn,Ar)}var Qr;return Xt=(Ht=Ar)==null?Is:(Qr=typeof Ar)=="function"?Dr:(Qr==="number"&&(Ar=[Ar,Ar,Ar,Ar]),Yr),Jr},Jr.round=function(Ar){return arguments.length?(_t=Ar?Math.round:Number,Jr):_t!=Number},Jr.sticky=function(Ar){return arguments.length?(ee=Ar,xe=null,Jr):ee},Jr.ratio=function(Ar){return arguments.length?(ze=Ar,Jr):ze},Jr.mode=function(Ar){return arguments.length?(me=Ar+"",Jr):me},Rs(Jr,lt)};function Is(lt){return{x:lt.x,y:lt.y,dx:lt.dx,dy:lt.dy}}function Ra(lt,_t){var Ct=lt.x+_t[3],Ht=lt.y+_t[0],Xt=lt.dx-_t[1]-_t[3],ee=lt.dy-_t[0]-_t[2];return Xt<0&&(Ct+=Xt/2,Xt=0),ee<0&&(Ht+=ee/2,ee=0),{x:Ct,y:Ht,dx:Xt,dy:ee}}i.random={normal:function(lt,_t){var Ct=arguments.length;return Ct<2&&(_t=1),Ct<1&&(lt=0),function(){var Ht,Xt,ee;do Ht=Math.random()*2-1,Xt=Math.random()*2-1,ee=Ht*Ht+Xt*Xt;while(!ee||ee>1);return lt+_t*Ht*Math.sqrt(-2*Math.log(ee)/ee)}},logNormal:function(){var lt=i.random.normal.apply(i,arguments);return function(){return Math.exp(lt())}},bates:function(lt){var _t=i.random.irwinHall(lt);return function(){return _t()/lt}},irwinHall:function(lt){return function(){for(var _t=0,Ct=0;Ct<lt;Ct++)_t+=Math.random();return _t}}},i.scale={};function lo(lt){var _t=lt[0],Ct=lt[lt.length-1];return _t<Ct?[_t,Ct]:[Ct,_t]}function Fs(lt){return lt.rangeExtent?lt.rangeExtent():lo(lt.range())}function Mu(lt,_t,Ct,Ht){var Xt=Ct(lt[0],lt[1]),ee=Ht(_t[0],_t[1]);return function(xe){return ee(Xt(xe))}}function Qs(lt,_t){var Ct=0,Ht=lt.length-1,Xt=lt[Ct],ee=lt[Ht],xe;return ee<Xt&&(xe=Ct,Ct=Ht,Ht=xe,xe=Xt,Xt=ee,ee=xe),lt[Ct]=_t.floor(Xt),lt[Ht]=_t.ceil(ee),lt}function Yo(lt){return lt?{floor:function(_t){return Math.floor(_t/lt)*lt},ceil:function(_t){return Math.ceil(_t/lt)*lt}}:cc}var cc={floor:F,ceil:F};function Eu(lt,_t,Ct,Ht){var Xt=[],ee=[],xe=0,me=Math.min(lt.length,_t.length)-1;for(lt[me]<lt[0]&&(lt=lt.slice().reverse(),_t=_t.slice().reverse());++xe<=me;)Xt.push(Ct(lt[xe-1],lt[xe])),ee.push(Ht(_t[xe-1],_t[xe]));return function(ze){var Ie=i.bisect(lt,ze,1,me)-1;return ee[Ie](Xt[Ie](ze))}}i.scale.linear=function(){return Lu([0,1],[0,1],Fa,!1)};function Lu(lt,_t,Ct,Ht){var Xt,ee;function xe(){var ze=Math.min(lt.length,_t.length)>2?Eu:Mu,Ie=Ht?Ss:yo;return Xt=ze(lt,_t,Ie,Ct),ee=ze(_t,lt,Ie,Fa),me}function me(ze){return Xt(ze)}return me.invert=function(ze){return ee(ze)},me.domain=function(ze){return arguments.length?(lt=ze.map(Number),xe()):lt},me.range=function(ze){return arguments.length?(_t=ze,xe()):_t},me.rangeRound=function(ze){return me.range(ze).interpolate(yu)},me.clamp=function(ze){return arguments.length?(Ht=ze,xe()):Ht},me.interpolate=function(ze){return arguments.length?(Ct=ze,xe()):Ct},me.ticks=function(ze){return To(lt,ze)},me.tickFormat=function(ze,Ie){return d3_scale_linearTickFormat(lt,ze,Ie)},me.nice=function(ze){return Su(lt,ze),xe()},me.copy=function(){return Lu(lt,_t,Ct,Ht)},xe()}function eu(lt,_t){return i.rebind(lt,_t,"range","rangeRound","interpolate","clamp")}function Su(lt,_t){return Qs(lt,Yo(Za(lt,_t)[2])),Qs(lt,Yo(Za(lt,_t)[2])),lt}function Za(lt,_t){_t==null&&(_t=10);var Ct=lo(lt),Ht=Ct[1]-Ct[0],Xt=Math.pow(10,Math.floor(Math.log(Ht/_t)/Math.LN10)),ee=_t/Ht*Xt;return ee<=.15?Xt*=10:ee<=.35?Xt*=5:ee<=.75&&(Xt*=2),Ct[0]=Math.ceil(Ct[0]/Xt)*Xt,Ct[1]=Math.floor(Ct[1]/Xt)*Xt+Xt*.5,Ct[2]=Xt,Ct}function To(lt,_t){return i.range.apply(i,Za(lt,_t))}i.scale.log=function(){return is(i.scale.linear().domain([0,1]),10,!0,[1,10])};function is(lt,_t,Ct,Ht){function Xt(me){return(Ct?Math.log(me<0?0:me):-Math.log(me>0?0:-me))/Math.log(_t)}function ee(me){return Ct?Math.pow(_t,me):-Math.pow(_t,-me)}function xe(me){return lt(Xt(me))}return xe.invert=function(me){return ee(lt.invert(me))},xe.domain=function(me){return arguments.length?(Ct=me[0]>=0,lt.domain((Ht=me.map(Number)).map(Xt)),xe):Ht},xe.base=function(me){return arguments.length?(_t=+me,lt.domain(Ht.map(Xt)),xe):_t},xe.nice=function(){var me=Qs(Ht.map(Xt),Ct?Math:Ds);return lt.domain(me),Ht=me.map(ee),xe},xe.ticks=function(){var me=lo(Ht),ze=[],Ie=me[0],Ze=me[1],br=Math.floor(Xt(Ie)),wr=Math.ceil(Xt(Ze)),Hr=_t%1?2:_t;if(isFinite(wr-br)){if(Ct){for(;br<wr;br++)for(var Jr=1;Jr<Hr;Jr++)ze.push(ee(br)*Jr);ze.push(ee(br))}else for(ze.push(ee(br));br++<wr;)for(var Jr=Hr-1;Jr>0;Jr--)ze.push(ee(br)*Jr);for(br=0;ze[br]<Ie;br++);for(wr=ze.length;ze[wr-1]>Ze;wr--);ze=ze.slice(br,wr)}return ze},xe.copy=function(){return is(lt.copy(),_t,Ct,Ht)},eu(xe,lt)}var Ds={floor:function(lt){return-Math.ceil(-lt)},ceil:function(lt){return-Math.floor(-lt)}};i.scale.pow=function(){return Cl(i.scale.linear(),1,[0,1])};function Cl(lt,_t,Ct){var Ht=ms(_t),Xt=ms(1/_t);function ee(xe){return lt(Ht(xe))}return ee.invert=function(xe){return Xt(lt.invert(xe))},ee.domain=function(xe){return arguments.length?(lt.domain((Ct=xe.map(Number)).map(Ht)),ee):Ct},ee.ticks=function(xe){return To(Ct,xe)},ee.tickFormat=function(xe,me){return d3_scale_linearTickFormat(Ct,xe,me)},ee.nice=function(xe){return ee.domain(Su(Ct,xe))},ee.exponent=function(xe){return arguments.length?(Ht=ms(_t=xe),Xt=ms(1/_t),lt.domain(Ct.map(Ht)),ee):_t},ee.copy=function(){return Cl(lt.copy(),_t,Ct)},eu(ee,lt)}function ms(lt){return function(_t){return _t<0?-Math.pow(-_t,lt):Math.pow(_t,lt)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return ys([],{t:"range",a:[[]]})};function ys(lt,_t){var Ct,Ht,Xt;function ee(me){return Ht[((Ct.get(me)||(_t.t==="range"?Ct.set(me,lt.push(me)):NaN))-1)%Ht.length]}function xe(me,ze){return i.range(lt.length).map(function(Ie){return me+ze*Ie})}return ee.domain=function(me){if(!arguments.length)return lt;lt=[],Ct=new y;for(var ze=-1,Ie=me.length,Ze;++ze<Ie;)Ct.has(Ze=me[ze])||Ct.set(Ze,lt.push(Ze));return ee[_t.t].apply(ee,_t.a)},ee.range=function(me){return arguments.length?(Ht=me,Xt=0,_t={t:"range",a:arguments},ee):Ht},ee.rangePoints=function(me,ze){arguments.length<2&&(ze=0);var Ie=me[0],Ze=me[1],br=lt.length<2?(Ie=(Ie+Ze)/2,0):(Ze-Ie)/(lt.length-1+ze);return Ht=xe(Ie+br*ze/2,br),Xt=0,_t={t:"rangePoints",a:arguments},ee},ee.rangeRoundPoints=function(me,ze){arguments.length<2&&(ze=0);var Ie=me[0],Ze=me[1],br=lt.length<2?(Ie=Ze=Math.round((Ie+Ze)/2),0):(Ze-Ie)/(lt.length-1+ze)|0;return Ht=xe(Ie+Math.round(br*ze/2+(Ze-Ie-(lt.length-1+ze)*br)/2),br),Xt=0,_t={t:"rangeRoundPoints",a:arguments},ee},ee.rangeBands=function(me,ze,Ie){arguments.length<2&&(ze=0),arguments.length<3&&(Ie=ze);var Ze=me[1]<me[0],br=me[Ze-0],wr=me[1-Ze],Hr=(wr-br)/(lt.length-ze+2*Ie);return Ht=xe(br+Hr*Ie,Hr),Ze&&Ht.reverse(),Xt=Hr*(1-ze),_t={t:"rangeBands",a:arguments},ee},ee.rangeRoundBands=function(me,ze,Ie){arguments.length<2&&(ze=0),arguments.length<3&&(Ie=ze);var Ze=me[1]<me[0],br=me[Ze-0],wr=me[1-Ze],Hr=Math.floor((wr-br)/(lt.length-ze+2*Ie));return Ht=xe(br+Math.round((wr-br-(lt.length-ze)*Hr)/2),Hr),Ze&&Ht.reverse(),Xt=Math.round(Hr*(1-ze)),_t={t:"rangeRoundBands",a:arguments},ee},ee.rangeBand=function(){return Xt},ee.rangeExtent=function(){return lo(_t.a[0])},ee.copy=function(){return ys(lt,_t)},ee.domain(lt)}i.scale.category10=function(){return i.scale.ordinal().range(Cu)},i.scale.category20=function(){return i.scale.ordinal().range(Go)},i.scale.category20b=function(){return i.scale.ordinal().range(Ns)},i.scale.category20c=function(){return i.scale.ordinal().range(as)};var Cu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pe),Go=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pe),Ns=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pe),as=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pe);i.scale.quantile=function(){return Ho([],[])};function Ho(lt,_t){var Ct;function Ht(){var ee=0,xe=_t.length;for(Ct=[];++ee<xe;)Ct[ee-1]=i.quantile(lt,ee/xe);return Xt}function Xt(ee){if(!isNaN(ee=+ee))return _t[i.bisect(Ct,ee)]}return Xt.domain=function(ee){return arguments.length?(lt=ee.map(b).filter(h).sort(f),Ht()):lt},Xt.range=function(ee){return arguments.length?(_t=ee,Ht()):_t},Xt.quantiles=function(){return Ct},Xt.invertExtent=function(ee){return ee=_t.indexOf(ee),ee<0?[NaN,NaN]:[ee>0?Ct[ee-1]:lt[0],ee<Ct.length?Ct[ee]:lt[lt.length-1]]},Xt.copy=function(){return Ho(lt,_t)},Ht()}i.scale.quantize=function(){return tl(0,1,[0,1])};function tl(lt,_t,Ct){var Ht,Xt;function ee(me){return Ct[Math.max(0,Math.min(Xt,Math.floor(Ht*(me-lt))))]}function xe(){return Ht=Ct.length/(_t-lt),Xt=Ct.length-1,ee}return ee.domain=function(me){return arguments.length?(lt=+me[0],_t=+me[me.length-1],xe()):[lt,_t]},ee.range=function(me){return arguments.length?(Ct=me,xe()):Ct},ee.invertExtent=function(me){return me=Ct.indexOf(me),me=me<0?NaN:me/Ht+lt,[me,me+1/Ht]},ee.copy=function(){return tl(lt,_t,Ct)},xe()}i.scale.threshold=function(){return Bs([.5],[0,1])};function Bs(lt,_t){function Ct(Ht){if(Ht<=Ht)return _t[i.bisect(lt,Ht)]}return Ct.domain=function(Ht){return arguments.length?(lt=Ht,Ct):lt},Ct.range=function(Ht){return arguments.length?(_t=Ht,Ct):_t},Ct.invertExtent=function(Ht){return Ht=_t.indexOf(Ht),[lt[Ht-1],lt[Ht]]},Ct.copy=function(){return Bs(lt,_t)},Ct}i.scale.identity=function(){return Ji([0,1])};function Ji(lt){function _t(Ct){return+Ct}return _t.invert=_t,_t.domain=_t.range=function(Ct){return arguments.length?(lt=Ct.map(_t),_t):lt},_t.ticks=function(Ct){return To(lt,Ct)},_t.tickFormat=function(Ct,Ht){return d3_scale_linearTickFormat(lt,Ct,Ht)},_t.copy=function(){return Ji(lt)},_t}i.svg={};function js(){return 0}i.svg.arc=function(){var lt=Ru,_t=Us,Ct=js,Ht=Rl,Xt=el,ee=Ol,xe=ru;function me(){var Ie=Math.max(0,+lt.apply(this,arguments)),Ze=Math.max(0,+_t.apply(this,arguments)),br=Xt.apply(this,arguments)-qt,wr=ee.apply(this,arguments)-qt,Hr=Math.abs(wr-br),Jr=br>wr?0:1;if(Ze<Ie&&(Ar=Ze,Ze=Ie,Ie=Ar),Hr>=zt)return ze(Ze,Jr)+(Ie?ze(Ie,1-Jr):"")+"Z";var Ar,Dr,Yr,Qr,rn=0,Vr=0,zn,Hn,ti,Gn,Jn,ei,Ri,di,Si=[];if((Qr=(+xe.apply(this,arguments)||0)/2)&&(Yr=Ht===Rl?Math.sqrt(Ie*Ie+Ze*Ze):+Ht.apply(this,arguments),Jr||(Vr*=-1),Ze&&(Vr=Be(Yr/Ze*Math.sin(Qr))),Ie&&(rn=Be(Yr/Ie*Math.sin(Qr)))),Ze){zn=Ze*Math.cos(br+Vr),Hn=Ze*Math.sin(br+Vr),ti=Ze*Math.cos(wr-Vr),Gn=Ze*Math.sin(wr-Vr);var Hi=Math.abs(wr-br-2*Vr)<=ht?0:1;if(Vr&&rl(zn,Hn,ti,Gn)===Jr^Hi){var _a=(br+wr)/2;zn=Ze*Math.cos(_a),Hn=Ze*Math.sin(_a),ti=Gn=null}}else zn=Hn=0;if(Ie){Jn=Ie*Math.cos(wr-rn),ei=Ie*Math.sin(wr-rn),Ri=Ie*Math.cos(br+rn),di=Ie*Math.sin(br+rn);var Vi=Math.abs(br-wr+2*rn)<=ht?0:1;if(rn&&rl(Jn,ei,Ri,di)===1-Jr^Vi){var Yn=(br+wr)/2;Jn=Ie*Math.cos(Yn),ei=Ie*Math.sin(Yn),Ri=di=null}}else Jn=ei=0;if(Hr>Dt&&(Ar=Math.min(Math.abs(Ze-Ie)/2,+Ct.apply(this,arguments)))>.001){Dr=Ie<Ze^Jr?0:1;var Pi=Ar,pi=Ar;if(Hr<ht){var Fi=Ri==null?[Jn,ei]:ti==null?[zn,Hn]:nn([zn,Hn],[Ri,di],[ti,Gn],[Jn,ei]),oa=zn-Fi[0],Wi=Hn-Fi[1],Oa=ti-Fi[0],Pa=Gn-Fi[1],Da=1/Math.sin(Math.acos((oa*Oa+Wi*Pa)/(Math.sqrt(oa*oa+Wi*Wi)*Math.sqrt(Oa*Oa+Pa*Pa)))/2),sa=Math.sqrt(Fi[0]*Fi[0]+Fi[1]*Fi[1]);pi=Math.min(Ar,(Ie-sa)/(Da-1)),Pi=Math.min(Ar,(Ze-sa)/(Da+1))}if(ti!=null){var Wa=nl(Ri==null?[Jn,ei]:[Ri,di],[zn,Hn],Ze,Pi,Jr),Qn=nl([ti,Gn],[Jn,ei],Ze,Pi,Jr);Ar===Pi?Si.push("M",Wa[0],"A",Pi,",",Pi," 0 0,",Dr," ",Wa[1],"A",Ze,",",Ze," 0 ",1-Jr^rl(Wa[1][0],Wa[1][1],Qn[1][0],Qn[1][1]),",",Jr," ",Qn[1],"A",Pi,",",Pi," 0 0,",Dr," ",Qn[0]):Si.push("M",Wa[0],"A",Pi,",",Pi," 0 1,",Dr," ",Qn[0])}else Si.push("M",zn,",",Hn);if(Ri!=null){var vi=nl([zn,Hn],[Ri,di],Ie,-pi,Jr),ro=nl([Jn,ei],ti==null?[zn,Hn]:[ti,Gn],Ie,-pi,Jr);Ar===pi?Si.push("L",ro[0],"A",pi,",",pi," 0 0,",Dr," ",ro[1],"A",Ie,",",Ie," 0 ",Jr^rl(ro[1][0],ro[1][1],vi[1][0],vi[1][1]),",",1-Jr," ",vi[1],"A",pi,",",pi," 0 0,",Dr," ",vi[0]):Si.push("L",ro[0],"A",pi,",",pi," 0 0,",Dr," ",vi[0])}else Si.push("L",Jn,",",ei)}else Si.push("M",zn,",",Hn),ti!=null&&Si.push("A",Ze,",",Ze," 0 ",Hi,",",Jr," ",ti,",",Gn),Si.push("L",Jn,",",ei),Ri!=null&&Si.push("A",Ie,",",Ie," 0 ",Vi,",",1-Jr," ",Ri,",",di);return Si.push("Z"),Si.join("")}function ze(Ie,Ze){return"M0,"+Ie+"A"+Ie+","+Ie+" 0 1,"+Ze+" 0,"+-Ie+"A"+Ie+","+Ie+" 0 1,"+Ze+" 0,"+Ie}return me.innerRadius=function(Ie){return arguments.length?(lt=Gr(Ie),me):lt},me.outerRadius=function(Ie){return arguments.length?(_t=Gr(Ie),me):_t},me.cornerRadius=function(Ie){return arguments.length?(Ct=Gr(Ie),me):Ct},me.padRadius=function(Ie){return arguments.length?(Ht=Ie==Rl?Rl:Gr(Ie),me):Ht},me.startAngle=function(Ie){return arguments.length?(Xt=Gr(Ie),me):Xt},me.endAngle=function(Ie){return arguments.length?(ee=Gr(Ie),me):ee},me.padAngle=function(Ie){return arguments.length?(xe=Gr(Ie),me):xe},me.centroid=function(){var Ie=(+lt.apply(this,arguments)+ +_t.apply(this,arguments))/2,Ze=(+Xt.apply(this,arguments)+ +ee.apply(this,arguments))/2-qt;return[Math.cos(Ze)*Ie,Math.sin(Ze)*Ie]},me};var Rl="auto";function Ru(lt){return lt.innerRadius}function Us(lt){return lt.outerRadius}function el(lt){return lt.startAngle}function Ol(lt){return lt.endAngle}function ru(lt){return lt&&lt.padAngle}function rl(lt,_t,Ct,Ht){return(lt-Ct)*_t-(_t-Ht)*lt>0?0:1}function nl(lt,_t,Ct,Ht,Xt){var ee=lt[0]-_t[0],xe=lt[1]-_t[1],me=(Xt?Ht:-Ht)/Math.sqrt(ee*ee+xe*xe),ze=me*xe,Ie=-me*ee,Ze=lt[0]+ze,br=lt[1]+Ie,wr=_t[0]+ze,Hr=_t[1]+Ie,Jr=(Ze+wr)/2,Ar=(br+Hr)/2,Dr=wr-Ze,Yr=Hr-br,Qr=Dr*Dr+Yr*Yr,rn=Ct-Ht,Vr=Ze*Hr-wr*br,zn=(Yr<0?-1:1)*Math.sqrt(Math.max(0,rn*rn*Qr-Vr*Vr)),Hn=(Vr*Yr-Dr*zn)/Qr,ti=(-Vr*Dr-Yr*zn)/Qr,Gn=(Vr*Yr+Dr*zn)/Qr,Jn=(-Vr*Dr+Yr*zn)/Qr,ei=Hn-Jr,Ri=ti-Ar,di=Gn-Jr,Si=Jn-Ar;return ei*ei+Ri*Ri>di*di+Si*Si&&(Hn=Gn,ti=Jn),[[Hn-ze,ti-Ie],[Hn*Ct/rn,ti*Ct/rn]]}function os(){return!0}function il(lt){var _t=ui,Ct=ni,Ht=os,Xt=Ma,ee=Xt.key,xe=.7;function me(ze){var Ie=[],Ze=[],br=-1,wr=ze.length,Hr,Jr=Gr(_t),Ar=Gr(Ct);function Dr(){Ie.push("M",Xt(lt(Ze),xe))}for(;++br<wr;)Ht.call(this,Hr=ze[br],br)?Ze.push([+Jr.call(this,Hr,br),+Ar.call(this,Hr,br)]):Ze.length&&(Dr(),Ze=[]);return Ze.length&&Dr(),Ie.length?Ie.join(""):null}return me.x=function(ze){return arguments.length?(_t=ze,me):_t},me.y=function(ze){return arguments.length?(Ct=ze,me):Ct},me.defined=function(ze){return arguments.length?(Ht=ze,me):Ht},me.interpolate=function(ze){return arguments.length?(typeof ze=="function"?ee=Xt=ze:ee=(Xt=ss.get(ze)||Ma).key,me):ee},me.tension=function(ze){return arguments.length?(xe=ze,me):xe},me}i.svg.line=function(){return il(F)};var ss=i.map({linear:Ma,"linear-closed":zo,step:nu,"step-before":xs,"step-after":Pl,basis:qs,"basis-open":Pu,"basis-closed":ls,bundle:hc,cardinal:Ou,"cardinal-open":al,"cardinal-closed":fc,monotone:Il});ss.forEach(function(lt,_t){_t.key=lt,_t.closed=/-closed$/.test(lt)});function Ma(lt){return lt.length>1?lt.join("L"):lt+"Z"}function zo(lt){return lt.join("L")+"Z"}function nu(lt){for(var _t=0,Ct=lt.length,Ht=lt[0],Xt=[Ht[0],",",Ht[1]];++_t<Ct;)Xt.push("H",(Ht[0]+(Ht=lt[_t])[0])/2,"V",Ht[1]);return Ct>1&&Xt.push("H",Ht[0]),Xt.join("")}function xs(lt){for(var _t=0,Ct=lt.length,Ht=lt[0],Xt=[Ht[0],",",Ht[1]];++_t<Ct;)Xt.push("V",(Ht=lt[_t])[1],"H",Ht[0]);return Xt.join("")}function Pl(lt){for(var _t=0,Ct=lt.length,Ht=lt[0],Xt=[Ht[0],",",Ht[1]];++_t<Ct;)Xt.push("H",(Ht=lt[_t])[0],"V",Ht[1]);return Xt.join("")}function al(lt,_t){return lt.length<4?Ma(lt):lt[1]+Ha(lt.slice(1,-1),ol(lt,_t))}function fc(lt,_t){return lt.length<3?zo(lt):lt[0]+Ha((lt.push(lt[0]),lt),ol([lt[lt.length-2]].concat(lt,[lt[1]]),_t))}function Ou(lt,_t){return lt.length<3?Ma(lt):lt[0]+Ha(lt,ol(lt,_t))}function Ha(lt,_t){if(_t.length<1||lt.length!=_t.length&&lt.length!=_t.length+2)return Ma(lt);var Ct=lt.length!=_t.length,Ht="",Xt=lt[0],ee=lt[1],xe=_t[0],me=xe,ze=1;if(Ct&&(Ht+="Q"+(ee[0]-xe[0]*2/3)+","+(ee[1]-xe[1]*2/3)+","+ee[0]+","+ee[1],Xt=lt[1],ze=2),_t.length>1){me=_t[1],ee=lt[ze],ze++,Ht+="C"+(Xt[0]+xe[0])+","+(Xt[1]+xe[1])+","+(ee[0]-me[0])+","+(ee[1]-me[1])+","+ee[0]+","+ee[1];for(var Ie=2;Ie<_t.length;Ie++,ze++)ee=lt[ze],me=_t[Ie],Ht+="S"+(ee[0]-me[0])+","+(ee[1]-me[1])+","+ee[0]+","+ee[1]}if(Ct){var Ze=lt[ze];Ht+="Q"+(ee[0]+me[0]*2/3)+","+(ee[1]+me[1]*2/3)+","+Ze[0]+","+Ze[1]}return Ht}function ol(lt,_t){for(var Ct=[],Ht=(1-_t)/2,Xt,ee=lt[0],xe=lt[1],me=1,ze=lt.length;++me<ze;)Xt=ee,ee=xe,xe=lt[me],Ct.push([Ht*(xe[0]-Xt[0]),Ht*(xe[1]-Xt[1])]);return Ct}function qs(lt){if(lt.length<3)return Ma(lt);var _t=1,Ct=lt.length,Ht=lt[0],Xt=Ht[0],ee=Ht[1],xe=[Xt,Xt,Xt,(Ht=lt[1])[0]],me=[ee,ee,ee,Ht[1]],ze=[Xt,",",ee,"L",eo(Wo,xe),",",eo(Wo,me)];for(lt.push(lt[Ct-1]);++_t<=Ct;)Ht=lt[_t],xe.shift(),xe.push(Ht[0]),me.shift(),me.push(Ht[1]),us(ze,xe,me);return lt.pop(),ze.push("L",Ht),ze.join("")}function Pu(lt){if(lt.length<4)return Ma(lt);for(var _t=[],Ct=-1,Ht=lt.length,Xt,ee=[0],xe=[0];++Ct<3;)Xt=lt[Ct],ee.push(Xt[0]),xe.push(Xt[1]);for(_t.push(eo(Wo,ee)+","+eo(Wo,xe)),--Ct;++Ct<Ht;)Xt=lt[Ct],ee.shift(),ee.push(Xt[0]),xe.shift(),xe.push(Xt[1]),us(_t,ee,xe);return _t.join("")}function ls(lt){for(var _t,Ct=-1,Ht=lt.length,Xt=Ht+4,ee,xe=[],me=[];++Ct<4;)ee=lt[Ct%Ht],xe.push(ee[0]),me.push(ee[1]);for(_t=[eo(Wo,xe),",",eo(Wo,me)],--Ct;++Ct<Xt;)ee=lt[Ct%Ht],xe.shift(),xe.push(ee[0]),me.shift(),me.push(ee[1]),us(_t,xe,me);return _t.join("")}function hc(lt,_t){var Ct=lt.length-1;if(Ct)for(var Ht=lt[0][0],Xt=lt[0][1],ee=lt[Ct][0]-Ht,xe=lt[Ct][1]-Xt,me=-1,ze,Ie;++me<=Ct;)ze=lt[me],Ie=me/Ct,ze[0]=_t*ze[0]+(1-_t)*(Ht+Ie*ee),ze[1]=_t*ze[1]+(1-_t)*(Xt+Ie*xe);return qs(lt)}function eo(lt,_t){return lt[0]*_t[0]+lt[1]*_t[1]+lt[2]*_t[2]+lt[3]*_t[3]}var sl=[0,2/3,1/3,0],zl=[0,1/3,2/3,0],Wo=[0,1/6,2/3,1/6];function us(lt,_t,Ct){lt.push("C",eo(sl,_t),",",eo(sl,Ct),",",eo(zl,_t),",",eo(zl,Ct),",",eo(Wo,_t),",",eo(Wo,Ct))}function iu(lt,_t){return(_t[1]-lt[1])/(_t[0]-lt[0])}function ll(lt){for(var _t=0,Ct=lt.length-1,Ht=[],Xt=lt[0],ee=lt[1],xe=Ht[0]=iu(Xt,ee);++_t<Ct;)Ht[_t]=(xe+(xe=iu(Xt=ee,ee=lt[_t+1])))/2;return Ht[_t]=xe,Ht}function ul(lt){for(var _t=[],Ct,Ht,Xt,ee,xe=ll(lt),me=-1,ze=lt.length-1;++me<ze;)Ct=iu(lt[me],lt[me+1]),p(Ct)<Dt?xe[me]=xe[me+1]=0:(Ht=xe[me]/Ct,Xt=xe[me+1]/Ct,ee=Ht*Ht+Xt*Xt,ee>9&&(ee=Ct*3/Math.sqrt(ee),xe[me]=ee*Ht,xe[me+1]=ee*Xt));for(me=-1;++me<=ze;)ee=(lt[Math.min(ze,me+1)][0]-lt[Math.max(0,me-1)][0])/(6*(1+xe[me]*xe[me])),_t.push([ee||0,xe[me]*ee||0]);return _t}function Il(lt){return lt.length<3?Ma(lt):lt[0]+Ha(lt,ul(lt))}i.svg.line.radial=function(){var lt=il(zu);return lt.radius=lt.x,delete lt.x,lt.angle=lt.y,delete lt.y,lt};function zu(lt){for(var _t,Ct=-1,Ht=lt.length,Xt,ee;++Ct<Ht;)_t=lt[Ct],Xt=_t[0],ee=_t[1]-qt,_t[0]=Xt*Math.cos(ee),_t[1]=Xt*Math.sin(ee);return lt}function cl(lt){var _t=ui,Ct=ui,Ht=0,Xt=ni,ee=os,xe=Ma,me=xe.key,ze=xe,Ie="L",Ze=.7;function br(wr){var Hr=[],Jr=[],Ar=[],Dr=-1,Yr=wr.length,Qr,rn=Gr(_t),Vr=Gr(Ht),zn=_t===Ct?function(){return ti}:Gr(Ct),Hn=Ht===Xt?function(){return Gn}:Gr(Xt),ti,Gn;function Jn(){Hr.push("M",xe(lt(Ar),Ze),Ie,ze(lt(Jr.reverse()),Ze),"Z")}for(;++Dr<Yr;)ee.call(this,Qr=wr[Dr],Dr)?(Jr.push([ti=+rn.call(this,Qr,Dr),Gn=+Vr.call(this,Qr,Dr)]),Ar.push([+zn.call(this,Qr,Dr),+Hn.call(this,Qr,Dr)])):Jr.length&&(Jn(),Jr=[],Ar=[]);return Jr.length&&Jn(),Hr.length?Hr.join(""):null}return br.x=function(wr){return arguments.length?(_t=Ct=wr,br):Ct},br.x0=function(wr){return arguments.length?(_t=wr,br):_t},br.x1=function(wr){return arguments.length?(Ct=wr,br):Ct},br.y=function(wr){return arguments.length?(Ht=Xt=wr,br):Xt},br.y0=function(wr){return arguments.length?(Ht=wr,br):Ht},br.y1=function(wr){return arguments.length?(Xt=wr,br):Xt},br.defined=function(wr){return arguments.length?(ee=wr,br):ee},br.interpolate=function(wr){return arguments.length?(typeof wr=="function"?me=xe=wr:me=(xe=ss.get(wr)||Ma).key,ze=xe.reverse||xe,Ie=xe.closed?"M":"L",br):me},br.tension=function(wr){return arguments.length?(Ze=wr,br):Ze},br}xs.reverse=Pl,Pl.reverse=xs,i.svg.area=function(){return cl(F)},i.svg.area.radial=function(){var lt=cl(zu);return lt.radius=lt.x,delete lt.x,lt.innerRadius=lt.x0,delete lt.x0,lt.outerRadius=lt.x1,delete lt.x1,lt.angle=lt.y,delete lt.y,lt.startAngle=lt.y0,delete lt.y0,lt.endAngle=lt.y1,delete lt.y1,lt};function au(lt){return lt.source}function bs(lt){return lt.target}i.svg.chord=function(){var lt=au,_t=bs,Ct=ou,Ht=el,Xt=Ol;function ee(Ze,br){var wr=xe(this,lt,Ze,br),Hr=xe(this,_t,Ze,br);return"M"+wr.p0+ze(wr.r,wr.p1,wr.a1-wr.a0)+(me(wr,Hr)?Ie(wr.r,wr.p1,wr.r,wr.p0):Ie(wr.r,wr.p1,Hr.r,Hr.p0)+ze(Hr.r,Hr.p1,Hr.a1-Hr.a0)+Ie(Hr.r,Hr.p1,wr.r,wr.p0))+"Z"}function xe(Ze,br,wr,Hr){var Jr=br.call(Ze,wr,Hr),Ar=Ct.call(Ze,Jr,Hr),Dr=Ht.call(Ze,Jr,Hr)-qt,Yr=Xt.call(Ze,Jr,Hr)-qt;return{r:Ar,a0:Dr,a1:Yr,p0:[Ar*Math.cos(Dr),Ar*Math.sin(Dr)],p1:[Ar*Math.cos(Yr),Ar*Math.sin(Yr)]}}function me(Ze,br){return Ze.a0==br.a0&&Ze.a1==br.a1}function ze(Ze,br,wr){return"A"+Ze+","+Ze+" 0 "+ +(wr>ht)+",1 "+br}function Ie(Ze,br,wr,Hr){return"Q 0,0 "+Hr}return ee.radius=function(Ze){return arguments.length?(Ct=Gr(Ze),ee):Ct},ee.source=function(Ze){return arguments.length?(lt=Gr(Ze),ee):lt},ee.target=function(Ze){return arguments.length?(_t=Gr(Ze),ee):_t},ee.startAngle=function(Ze){return arguments.length?(Ht=Gr(Ze),ee):Ht},ee.endAngle=function(Ze){return arguments.length?(Xt=Gr(Ze),ee):Xt},ee};function ou(lt){return lt.radius}i.svg.diagonal=function(){var lt=au,_t=bs,Ct=fl;function Ht(Xt,ee){var xe=lt.call(this,Xt,ee),me=_t.call(this,Xt,ee),ze=(xe.y+me.y)/2,Ie=[xe,{x:xe.x,y:ze},{x:me.x,y:ze},me];return Ie=Ie.map(Ct),"M"+Ie[0]+"C"+Ie[1]+" "+Ie[2]+" "+Ie[3]}return Ht.source=function(Xt){return arguments.length?(lt=Gr(Xt),Ht):lt},Ht.target=function(Xt){return arguments.length?(_t=Gr(Xt),Ht):_t},Ht.projection=function(Xt){return arguments.length?(Ct=Xt,Ht):Ct},Ht};function fl(lt){return[lt.x,lt.y]}i.svg.diagonal.radial=function(){var lt=i.svg.diagonal(),_t=fl,Ct=lt.projection;return lt.projection=function(Ht){return arguments.length?Ct(Iu(_t=Ht)):_t},lt};function Iu(lt){return function(){var _t=lt.apply(this,arguments),Ct=_t[0],Ht=_t[1]-qt;return[Ct*Math.cos(Ht),Ct*Math.sin(Ht)]}}i.svg.symbol=function(){var lt=Zt,_t=Yt;function Ct(Ht,Xt){return(ve.get(lt.call(this,Ht,Xt))||se)(_t.call(this,Ht,Xt))}return Ct.type=function(Ht){return arguments.length?(lt=Gr(Ht),Ct):lt},Ct.size=function(Ht){return arguments.length?(_t=Gr(Ht),Ct):_t},Ct};function Yt(){return 64}function Zt(){return"circle"}function se(lt){var _t=Math.sqrt(lt/ht);return"M0,"+_t+"A"+_t+","+_t+" 0 1,1 0,"+-_t+"A"+_t+","+_t+" 0 1,1 0,"+_t+"Z"}var ve=i.map({circle:se,cross:function(lt){var _t=Math.sqrt(lt/5)/2;return"M"+-3*_t+","+-_t+"H"+-_t+"V"+-3*_t+"H"+_t+"V"+-_t+"H"+3*_t+"V"+_t+"H"+_t+"V"+3*_t+"H"+-_t+"V"+_t+"H"+-3*_t+"Z"},diamond:function(lt){var _t=Math.sqrt(lt/(2*we)),Ct=_t*we;return"M0,"+-_t+"L"+Ct+",0 0,"+_t+" "+-Ct+",0Z"},square:function(lt){var _t=Math.sqrt(lt)/2;return"M"+-_t+","+-_t+"L"+_t+","+-_t+" "+_t+","+_t+" "+-_t+","+_t+"Z"},"triangle-down":function(lt){var _t=Math.sqrt(lt/Te),Ct=_t*Te/2;return"M0,"+Ct+"L"+_t+","+-Ct+" "+-_t+","+-Ct+"Z"},"triangle-up":function(lt){var _t=Math.sqrt(lt/Te),Ct=_t*Te/2;return"M0,"+-Ct+"L"+_t+","+Ct+" "+-_t+","+Ct+"Z"}});i.svg.symbolTypes=ve.keys();var Te=Math.sqrt(3),we=Math.tan(30*te);H.transition=function(lt){for(var _t=Tr||++yr,Ct=_n(lt),Ht=[],Xt,ee,xe=Or||{time:Date.now(),ease:Wl,delay:0,duration:250},me=-1,ze=this.length;++me<ze;){Ht.push(Xt=[]);for(var Ie=this[me],Ze=-1,br=Ie.length;++Ze<br;)(ee=Ie[Ze])&&Tn(ee,Ze,Ct,_t,xe),Xt.push(ee)}return fr(Ht,Ct,_t)},H.interrupt=function(lt){return this.each(lt==null?Se:or(_n(lt)))};var Se=or(_n());function or(lt){return function(){var _t,Ct,Ht;(_t=this[lt])&&(Ht=_t[Ct=_t.active])&&(Ht.timer.c=null,Ht.timer.t=NaN,--_t.count?delete _t[Ct]:delete this[lt],_t.active+=.5,Ht.event&&Ht.event.interrupt.call(this,this.__data__,Ht.index))}}function fr(lt,_t,Ct){return $(lt,Qe),lt.namespace=_t,lt.id=Ct,lt}var Qe=[],yr=0,Tr,Or;Qe.call=H.call,Qe.empty=H.empty,Qe.node=H.node,Qe.size=H.size,i.transition=function(lt,_t){return lt&&lt.transition?Tr?lt.transition(_t):lt:i.selection().transition(lt)},i.transition.prototype=Qe,Qe.select=function(lt){var _t=this.id,Ct=this.namespace,Ht=[],Xt,ee,xe;lt=at(lt);for(var me=-1,ze=this.length;++me<ze;){Ht.push(Xt=[]);for(var Ie=this[me],Ze=-1,br=Ie.length;++Ze<br;)(xe=Ie[Ze])&&(ee=lt.call(xe,xe.__data__,Ze,me))?("__data__"in xe&&(ee.__data__=xe.__data__),Tn(ee,Ze,Ct,_t,xe[Ct][_t]),Xt.push(ee)):Xt.push(null)}return fr(Ht,Ct,_t)},Qe.selectAll=function(lt){var _t=this.id,Ct=this.namespace,Ht=[],Xt,ee,xe,me,ze;lt=Q(lt);for(var Ie=-1,Ze=this.length;++Ie<Ze;)for(var br=this[Ie],wr=-1,Hr=br.length;++wr<Hr;)if(xe=br[wr]){ze=xe[Ct][_t],ee=lt.call(xe,xe.__data__,wr,Ie),Ht.push(Xt=[]);for(var Jr=-1,Ar=ee.length;++Jr<Ar;)(me=ee[Jr])&&Tn(me,Jr,Ct,_t,ze),Xt.push(me)}return fr(Ht,Ct,_t)},Qe.filter=function(lt){var _t=[],Ct,Ht,Xt;typeof lt!="function"&&(lt=ne(lt));for(var ee=0,xe=this.length;ee<xe;ee++){_t.push(Ct=[]);for(var Ht=this[ee],me=0,ze=Ht.length;me<ze;me++)(Xt=Ht[me])&&lt.call(Xt,Xt.__data__,me,ee)&&Ct.push(Xt)}return fr(_t,this.namespace,this.id)},Qe.tween=function(lt,_t){var Ct=this.id,Ht=this.namespace;return arguments.length<2?this.node()[Ht][Ct].tween.get(lt):pe(this,_t==null?function(Xt){Xt[Ht][Ct].tween.remove(lt)}:function(Xt){Xt[Ht][Ct].tween.set(lt,_t)})};function Zr(lt,_t,Ct,Ht){var Xt=lt.id,ee=lt.namespace;return pe(lt,typeof Ct=="function"?function(xe,me,ze){xe[ee][Xt].tween.set(_t,Ht(Ct.call(xe,xe.__data__,me,ze)))}:(Ct=Ht(Ct),function(xe){xe[ee][Xt].tween.set(_t,Ct)}))}Qe.attr=function(lt,_t){if(arguments.length<2){for(_t in lt)this.attr(_t,lt[_t]);return this}var Ct=lt=="transform"?Al:Fa,Ht=i.ns.qualify(lt);function Xt(){this.removeAttribute(Ht)}function ee(){this.removeAttributeNS(Ht.space,Ht.local)}function xe(ze){return ze==null?Xt:(ze+="",function(){var Ie=this.getAttribute(Ht),Ze;return Ie!==ze&&(Ze=Ct(Ie,ze),function(br){this.setAttribute(Ht,Ze(br))})})}function me(ze){return ze==null?ee:(ze+="",function(){var Ie=this.getAttributeNS(Ht.space,Ht.local),Ze;return Ie!==ze&&(Ze=Ct(Ie,ze),function(br){this.setAttributeNS(Ht.space,Ht.local,Ze(br))})})}return Zr(this,"attr."+lt,_t,Ht.local?me:xe)},Qe.attrTween=function(lt,_t){var Ct=i.ns.qualify(lt);function Ht(ee,xe){var me=_t.call(this,ee,xe,this.getAttribute(Ct));return me&&function(ze){this.setAttribute(Ct,me(ze))}}function Xt(ee,xe){var me=_t.call(this,ee,xe,this.getAttributeNS(Ct.space,Ct.local));return me&&function(ze){this.setAttributeNS(Ct.space,Ct.local,me(ze))}}return this.tween("attr."+lt,Ct.local?Xt:Ht)},Qe.style=function(lt,_t,Ct){var Ht=arguments.length;if(Ht<3){if(typeof lt!="string"){Ht<2&&(_t="");for(Ct in lt)this.style(Ct,lt[Ct],_t);return this}Ct=""}function Xt(){this.style.removeProperty(lt)}function ee(xe){return xe==null?Xt:(xe+="",function(){var me=r(this).getComputedStyle(this,null).getPropertyValue(lt),ze;return me!==xe&&(ze=Fa(me,xe),function(Ie){this.style.setProperty(lt,ze(Ie),Ct)})})}return Zr(this,"style."+lt,_t,ee)},Qe.styleTween=function(lt,_t,Ct){arguments.length<3&&(Ct="");function Ht(Xt,ee){var xe=_t.call(this,Xt,ee,r(this).getComputedStyle(this,null).getPropertyValue(lt));return xe&&function(me){this.style.setProperty(lt,xe(me),Ct)}}return this.tween("style."+lt,Ht)},Qe.text=function(lt){return Zr(this,"text",lt,pn)};function pn(lt){return lt==null&&(lt=""),function(){this.textContent=lt}}Qe.remove=function(){var lt=this.namespace;return this.each("end.transition",function(){var _t;this[lt].count<2&&(_t=this.parentNode)&&_t.removeChild(this)})},Qe.ease=function(lt){var _t=this.id,Ct=this.namespace;return arguments.length<1?this.node()[Ct][_t].ease:(typeof lt!="function"&&(lt=i.ease.apply(i,arguments)),pe(this,function(Ht){Ht[Ct][_t].ease=lt}))},Qe.delay=function(lt){var _t=this.id,Ct=this.namespace;return arguments.length<1?this.node()[Ct][_t].delay:pe(this,typeof lt=="function"?function(Ht,Xt,ee){Ht[Ct][_t].delay=+lt.call(Ht,Ht.__data__,Xt,ee)}:(lt=+lt,function(Ht){Ht[Ct][_t].delay=lt}))},Qe.duration=function(lt){var _t=this.id,Ct=this.namespace;return arguments.length<1?this.node()[Ct][_t].duration:pe(this,typeof lt=="function"?function(Ht,Xt,ee){Ht[Ct][_t].duration=Math.max(1,lt.call(Ht,Ht.__data__,Xt,ee))}:(lt=Math.max(1,lt),function(Ht){Ht[Ct][_t].duration=lt}))},Qe.each=function(lt,_t){var Ct=this.id,Ht=this.namespace;if(arguments.length<2){var Xt=Or,ee=Tr;try{Tr=Ct,pe(this,function(xe,me,ze){Or=xe[Ht][Ct],lt.call(xe,xe.__data__,me,ze)})}finally{Or=Xt,Tr=ee}}else pe(this,function(xe){var me=xe[Ht][Ct];(me.event||(me.event=i.dispatch("start","end","interrupt"))).on(lt,_t)});return this},Qe.transition=function(){for(var lt=this.id,_t=++yr,Ct=this.namespace,Ht=[],Xt,ee,xe,me,ze=0,Ie=this.length;ze<Ie;ze++){Ht.push(Xt=[]);for(var ee=this[ze],Ze=0,br=ee.length;Ze<br;Ze++)(xe=ee[Ze])&&(me=xe[Ct][lt],Tn(xe,Ze,Ct,_t,{time:me.time,ease:me.ease,delay:me.delay+me.duration,duration:me.duration})),Xt.push(xe)}return fr(Ht,Ct,_t)};function _n(lt){return lt==null?"__transition__":"__transition_"+lt+"__"}function Tn(lt,_t,Ct,Ht,Xt){var ee=lt[Ct]||(lt[Ct]={active:0,count:0}),xe=ee[Ht],me,ze,Ie,Ze,br;function wr(Ar){var Dr=xe.delay;if(ze.t=Dr+me,Dr<=Ar)return Hr(Ar-Dr);ze.c=Hr}function Hr(Ar){var Dr=ee.active,Yr=ee[Dr];Yr&&(Yr.timer.c=null,Yr.timer.t=NaN,--ee.count,delete ee[Dr],Yr.event&&Yr.event.interrupt.call(lt,lt.__data__,Yr.index));for(var Qr in ee)if(+Qr<Ht){var rn=ee[Qr];rn.timer.c=null,rn.timer.t=NaN,--ee.count,delete ee[Qr]}ze.c=Jr,Mn(function(){return ze.c&&Jr(Ar||1)&&(ze.c=null,ze.t=NaN),1},0,me),ee.active=Ht,xe.event&&xe.event.start.call(lt,lt.__data__,_t),br=[],xe.tween.forEach(function(Vr,zn){(zn=zn.call(lt,lt.__data__,_t))&&br.push(zn)}),Ze=xe.ease,Ie=xe.duration}function Jr(Ar){for(var Dr=Ar/Ie,Yr=Ze(Dr),Qr=br.length;Qr>0;)br[--Qr].call(lt,Yr);if(Dr>=1)return xe.event&&xe.event.end.call(lt,lt.__data__,_t),--ee.count?delete ee[Ht]:delete lt[Ct],1}xe||(me=Xt.time,ze=Mn(wr,0,me),xe=ee[Ht]={tween:new y,time:me,timer:ze,delay:Xt.delay,duration:Xt.duration,ease:Xt.ease,index:_t},Xt=null,++ee.count)}i.svg.axis=function(){var lt=i.scale.linear(),_t=jn,Ct=6,Ht=6,Xt=3,ee=[10],xe=null,me;function ze(Ie){Ie.each(function(){var Ze=i.select(this),br=this.__chart__||lt,wr=this.__chart__=lt.copy(),Hr=xe??(wr.ticks?wr.ticks.apply(wr,ee):wr.domain()),Jr=me??(wr.tickFormat?wr.tickFormat.apply(wr,ee):F),Ar=Ze.selectAll(".tick").data(Hr,wr),Dr=Ar.enter().insert("g",".domain").attr("class","tick").style("opacity",Dt),Yr=i.transition(Ar.exit()).style("opacity",Dt).remove(),Qr=i.transition(Ar.order()).style("opacity",1),rn=Math.max(Ct,0)+Xt,Vr,zn=Fs(wr),Hn=Ze.selectAll(".domain").data([0]),ti=(Hn.enter().append("path").attr("class","domain"),i.transition(Hn));Dr.append("line"),Dr.append("text");var Gn=Dr.select("line"),Jn=Qr.select("line"),ei=Ar.select("text").text(Jr),Ri=Dr.select("text"),di=Qr.select("text"),Si=_t==="top"||_t==="left"?-1:1,Hi,_a,Vi,Yn;if(_t==="bottom"||_t==="top"?(Vr=Ai,Hi="x",Vi="y",_a="x2",Yn="y2",ei.attr("dy",Si<0?"0em":".71em").style("text-anchor","middle"),ti.attr("d","M"+zn[0]+","+Si*Ht+"V0H"+zn[1]+"V"+Si*Ht)):(Vr=Mi,Hi="y",Vi="x",_a="y2",Yn="x2",ei.attr("dy",".32em").style("text-anchor",Si<0?"end":"start"),ti.attr("d","M"+Si*Ht+","+zn[0]+"H0V"+zn[1]+"H"+Si*Ht)),Gn.attr(Yn,Si*Ct),Ri.attr(Vi,Si*rn),Jn.attr(_a,0).attr(Yn,Si*Ct),di.attr(Hi,0).attr(Vi,Si*rn),wr.rangeBand){var Pi=wr,pi=Pi.rangeBand()/2;br=wr=function(Fi){return Pi(Fi)+pi}}else br.rangeBand?br=wr:Yr.call(Vr,wr,br);Dr.call(Vr,br,wr),Qr.call(Vr,wr,wr)})}return ze.scale=function(Ie){return arguments.length?(lt=Ie,ze):lt},ze.orient=function(Ie){return arguments.length?(_t=Ie in wi?Ie+"":jn,ze):_t},ze.ticks=function(){return arguments.length?(ee=T(arguments),ze):ee},ze.tickValues=function(Ie){return arguments.length?(xe=Ie,ze):xe},ze.tickFormat=function(Ie){return arguments.length?(me=Ie,ze):me},ze.tickSize=function(Ie){var Ze=arguments.length;return Ze?(Ct=+Ie,Ht=+arguments[Ze-1],ze):Ct},ze.innerTickSize=function(Ie){return arguments.length?(Ct=+Ie,ze):Ct},ze.outerTickSize=function(Ie){return arguments.length?(Ht=+Ie,ze):Ht},ze.tickPadding=function(Ie){return arguments.length?(Xt=+Ie,ze):Xt},ze.tickSubdivide=function(){return arguments.length&&ze},ze};var jn="bottom",wi={top:1,right:1,bottom:1,left:1};function Ai(lt,_t,Ct){lt.attr("transform",function(Ht){var Xt=_t(Ht);return"translate("+(isFinite(Xt)?Xt:Ct(Ht))+",0)"})}function Mi(lt,_t,Ct){lt.attr("transform",function(Ht){var Xt=_t(Ht);return"translate(0,"+(isFinite(Xt)?Xt:Ct(Ht))+")"})}i.svg.brush=function(){var lt=Y(Ze,"brushstart","brush","brushend"),_t=null,Ct=null,Ht=[0,0],Xt=[0,0],ee,xe,me=!0,ze=!0,Ie=Ii[0];function Ze(Ar){Ar.each(function(){var Dr=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Jr).on("touchstart.brush",Jr),Yr=Dr.selectAll(".background").data([0]);Yr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Dr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Qr=Dr.selectAll(".resize").data(Ie,F);Qr.exit().remove(),Qr.enter().append("g").attr("class",function(Hn){return"resize "+Hn}).style("cursor",function(Hn){return Ci[Hn]}).append("rect").attr("x",function(Hn){return/[ew]$/.test(Hn)?-3:null}).attr("y",function(Hn){return/^[ns]/.test(Hn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Qr.style("display",Ze.empty()?"none":null);var rn=i.transition(Dr),Vr=i.transition(Yr),zn;_t&&(zn=Fs(_t),Vr.attr("x",zn[0]).attr("width",zn[1]-zn[0]),wr(rn)),Ct&&(zn=Fs(Ct),Vr.attr("y",zn[0]).attr("height",zn[1]-zn[0]),Hr(rn)),br(rn)})}Ze.event=function(Ar){Ar.each(function(){var Dr=lt.of(this,arguments),Yr={x:Ht,y:Xt,i:ee,j:xe},Qr=this.__chart__||Yr;this.__chart__=Yr,Tr?i.select(this).transition().each("start.brush",function(){ee=Qr.i,xe=Qr.j,Ht=Qr.x,Xt=Qr.y,Dr({type:"brushstart"})}).tween("brush:brush",function(){var rn=so(Ht,Yr.x),Vr=so(Xt,Yr.y);return ee=xe=null,function(zn){Ht=Yr.x=rn(zn),Xt=Yr.y=Vr(zn),Dr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ee=Yr.i,xe=Yr.j,Dr({type:"brush",mode:"resize"}),Dr({type:"brushend"})}):(Dr({type:"brushstart"}),Dr({type:"brush",mode:"resize"}),Dr({type:"brushend"}))})};function br(Ar){Ar.selectAll(".resize").attr("transform",function(Dr){return"translate("+Ht[+/e$/.test(Dr)]+","+Xt[+/^s/.test(Dr)]+")"})}function wr(Ar){Ar.select(".extent").attr("x",Ht[0]),Ar.selectAll(".extent,.n>rect,.s>rect").attr("width",Ht[1]-Ht[0])}function Hr(Ar){Ar.select(".extent").attr("y",Xt[0]),Ar.selectAll(".extent,.e>rect,.w>rect").attr("height",Xt[1]-Xt[0])}function Jr(){var Ar=this,Dr=i.select(i.event.target),Yr=lt.of(Ar,arguments),Qr=i.select(Ar),rn=Dr.datum(),Vr=!/^(n|s)$/.test(rn)&&_t,zn=!/^(e|w)$/.test(rn)&&Ct,Hn=Dr.classed("extent"),ti=Wt(Ar),Gn,Jn=i.mouse(Ar),ei,Ri=i.select(r(Ar)).on("keydown.brush",Hi).on("keyup.brush",_a);if(i.event.changedTouches?Ri.on("touchmove.brush",Vi).on("touchend.brush",Pi):Ri.on("mousemove.brush",Vi).on("mouseup.brush",Pi),Qr.interrupt().selectAll("*").interrupt(),Hn)Jn[0]=Ht[0]-Jn[0],Jn[1]=Xt[0]-Jn[1];else if(rn){var di=+/w$/.test(rn),Si=+/^n/.test(rn);ei=[Ht[1-di]-Jn[0],Xt[1-Si]-Jn[1]],Jn[0]=Ht[di],Jn[1]=Xt[Si]}else i.event.altKey&&(Gn=Jn.slice());Qr.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Dr.style("cursor")),Yr({type:"brushstart"}),Vi();function Hi(){i.event.keyCode==32&&(Hn||(Gn=null,Jn[0]-=Ht[1],Jn[1]-=Xt[1],Hn=2),it())}function _a(){i.event.keyCode==32&&Hn==2&&(Jn[0]+=Ht[1],Jn[1]+=Xt[1],Hn=0,it())}function Vi(){var pi=i.mouse(Ar),Fi=!1;ei&&(pi[0]+=ei[0],pi[1]+=ei[1]),Hn||(i.event.altKey?(Gn||(Gn=[(Ht[0]+Ht[1])/2,(Xt[0]+Xt[1])/2]),Jn[0]=Ht[+(pi[0]<Gn[0])],Jn[1]=Xt[+(pi[1]<Gn[1])]):Gn=null),Vr&&Yn(pi,_t,0)&&(wr(Qr),Fi=!0),zn&&Yn(pi,Ct,1)&&(Hr(Qr),Fi=!0),Fi&&(br(Qr),Yr({type:"brush",mode:Hn?"move":"resize"}))}function Yn(pi,Fi,oa){var Wi=Fs(Fi),Oa=Wi[0],Pa=Wi[1],Da=Jn[oa],sa=oa?Xt:Ht,Wa=sa[1]-sa[0],Qn,vi;if(Hn&&(Oa-=Da,Pa-=Wa+Da),Qn=(oa?ze:me)?Math.max(Oa,Math.min(Pa,pi[oa])):pi[oa],Hn?vi=(Qn+=Da)+Wa:(Gn&&(Da=Math.max(Oa,Math.min(Pa,2*Gn[oa]-Qn))),Da<Qn?(vi=Qn,Qn=Da):vi=Da),sa[0]!=Qn||sa[1]!=vi)return oa?xe=null:ee=null,sa[0]=Qn,sa[1]=vi,!0}function Pi(){Vi(),Qr.style("pointer-events","all").selectAll(".resize").style("display",Ze.empty()?"none":null),i.select("body").style("cursor",null),Ri.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ti(),Yr({type:"brushend"})}}return Ze.x=function(Ar){return arguments.length?(_t=Ar,Ie=Ii[!_t<<1|!Ct],Ze):_t},Ze.y=function(Ar){return arguments.length?(Ct=Ar,Ie=Ii[!_t<<1|!Ct],Ze):Ct},Ze.clamp=function(Ar){return arguments.length?(_t&&Ct?(me=!!Ar[0],ze=!!Ar[1]):_t?me=!!Ar:Ct&&(ze=!!Ar),Ze):_t&&Ct?[me,ze]:_t?me:Ct?ze:null},Ze.extent=function(Ar){var Dr,Yr,Qr,rn,Vr;return arguments.length?(_t&&(Dr=Ar[0],Yr=Ar[1],Ct&&(Dr=Dr[0],Yr=Yr[0]),ee=[Dr,Yr],_t.invert&&(Dr=_t(Dr),Yr=_t(Yr)),Yr<Dr&&(Vr=Dr,Dr=Yr,Yr=Vr),(Dr!=Ht[0]||Yr!=Ht[1])&&(Ht=[Dr,Yr])),Ct&&(Qr=Ar[0],rn=Ar[1],_t&&(Qr=Qr[1],rn=rn[1]),xe=[Qr,rn],Ct.invert&&(Qr=Ct(Qr),rn=Ct(rn)),rn<Qr&&(Vr=Qr,Qr=rn,rn=Vr),(Qr!=Xt[0]||rn!=Xt[1])&&(Xt=[Qr,rn])),Ze):(_t&&(ee?(Dr=ee[0],Yr=ee[1]):(Dr=Ht[0],Yr=Ht[1],_t.invert&&(Dr=_t.invert(Dr),Yr=_t.invert(Yr)),Yr<Dr&&(Vr=Dr,Dr=Yr,Yr=Vr))),Ct&&(xe?(Qr=xe[0],rn=xe[1]):(Qr=Xt[0],rn=Xt[1],Ct.invert&&(Qr=Ct.invert(Qr),rn=Ct.invert(rn)),rn<Qr&&(Vr=Qr,Qr=rn,rn=Vr))),_t&&Ct?[[Dr,Qr],[Yr,rn]]:_t?[Dr,Yr]:Ct&&[Qr,rn])},Ze.clear=function(){return Ze.empty()||(Ht=[0,0],Xt=[0,0],ee=xe=null),Ze},Ze.empty=function(){return!!_t&&Ht[0]==Ht[1]||!!Ct&&Xt[0]==Xt[1]},i.rebind(Ze,lt,"on")};var Ci={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ii=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=vn(function(lt){return lt.responseText}),i.json=function(lt,_t){return yn(lt,"application/json",$i,_t)};function $i(lt){return JSON.parse(lt.responseText)}i.html=function(lt,_t){return yn(lt,"text/html",xa,_t)};function xa(lt){var _t=v.createRange();return _t.selectNode(v.body),_t.createContextualFragment(lt.responseText)}i.xml=vn(function(lt){return lt.responseXML}),E=i,S=typeof E=="function"?E.call(U,t,U,tt):E,S!==void 0&&(tt.exports=S)}).apply(self)},3480:function(tt){(function(U,t){tt.exports=t()})(this,function(){var U,t,E;function S(i,L){if(!U)U=L;else if(!t)t=L;else{var T="var sharedChunk = {}; ("+U+")(sharedChunk); ("+t+")(sharedChunk);",v={};U(v),E=L(v),typeof window<"u"&&(E.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"})))}}return S(["exports"],function(i){function L(g,I){return I={exports:{}},g(I,I.exports),I.exports}var T="1.13.4",v=d;function d(g,I,j,st){this.cx=3*g,this.bx=3*(j-g)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(st-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=g,this.p1y=st,this.p2x=j,this.p2y=st}d.prototype.sampleCurveX=function(g){return((this.ax*g+this.bx)*g+this.cx)*g},d.prototype.sampleCurveY=function(g){return((this.ay*g+this.by)*g+this.cy)*g},d.prototype.sampleCurveDerivativeX=function(g){return(3*this.ax*g+2*this.bx)*g+this.cx},d.prototype.solveCurveX=function(g,I){typeof I>"u"&&(I=1e-6);var j,st,pt,wt,Rt;for(pt=g,Rt=0;Rt<8;Rt++){if(wt=this.sampleCurveX(pt)-g,Math.abs(wt)<I)return pt;var Jt=this.sampleCurveDerivativeX(pt);if(Math.abs(Jt)<1e-6)break;pt=pt-wt/Jt}if(j=0,st=1,pt=g,pt<j)return j;if(pt>st)return st;for(;j<st;){if(wt=this.sampleCurveX(pt),Math.abs(wt-g)<I)return pt;g>wt?j=pt:st=pt,pt=(st-j)*.5+j}return pt},d.prototype.solve=function(g,I){return this.sampleCurveY(this.solveCurveX(g,I))};var r=e;function e(g,I){this.x=g,this.y=I}e.prototype={clone:function(){return new e(this.x,this.y)},add:function(g){return this.clone()._add(g)},sub:function(g){return this.clone()._sub(g)},multByPoint:function(g){return this.clone()._multByPoint(g)},divByPoint:function(g){return this.clone()._divByPoint(g)},mult:function(g){return this.clone()._mult(g)},div:function(g){return this.clone()._div(g)},rotate:function(g){return this.clone()._rotate(g)},rotateAround:function(g,I){return this.clone()._rotateAround(g,I)},matMult:function(g){return this.clone()._matMult(g)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(g){return this.x===g.x&&this.y===g.y},dist:function(g){return Math.sqrt(this.distSqr(g))},distSqr:function(g){var I=g.x-this.x,j=g.y-this.y;return I*I+j*j},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(g){return Math.atan2(this.y-g.y,this.x-g.x)},angleWith:function(g){return this.angleWithSep(g.x,g.y)},angleWithSep:function(g,I){return Math.atan2(this.x*I-this.y*g,this.x*g+this.y*I)},_matMult:function(g){var I=g[0]*this.x+g[1]*this.y,j=g[2]*this.x+g[3]*this.y;return this.x=I,this.y=j,this},_add:function(g){return this.x+=g.x,this.y+=g.y,this},_sub:function(g){return this.x-=g.x,this.y-=g.y,this},_mult:function(g){return this.x*=g,this.y*=g,this},_div:function(g){return this.x/=g,this.y/=g,this},_multByPoint:function(g){return this.x*=g.x,this.y*=g.y,this},_divByPoint:function(g){return this.x/=g.x,this.y/=g.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var g=this.y;return this.y=this.x,this.x=-g,this},_rotate:function(g){var I=Math.cos(g),j=Math.sin(g),st=I*this.x-j*this.y,pt=j*this.x+I*this.y;return this.x=st,this.y=pt,this},_rotateAround:function(g,I){var j=Math.cos(g),st=Math.sin(g),pt=I.x+j*(this.x-I.x)-st*(this.y-I.y),wt=I.y+st*(this.x-I.x)+j*(this.y-I.y);return this.x=pt,this.y=wt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(g){return g instanceof e?g:Array.isArray(g)?new e(g[0],g[1]):g};var l=typeof self<"u"?self:{};function n(g,I){if(Array.isArray(g)){if(!Array.isArray(I)||g.length!==I.length)return!1;for(var j=0;j<g.length;j++)if(!n(g[j],I[j]))return!1;return!0}if(typeof g=="object"&&g!==null&&I!==null){if(typeof I!="object")return!1;var st=Object.keys(g);if(st.length!==Object.keys(I).length)return!1;for(var pt in g)if(!n(g[pt],I[pt]))return!1;return!0}return g===I}var s=Math.pow(2,53)-1;function o(g){if(g<=0)return 0;if(g>=1)return 1;var I=g*g,j=I*g;return 4*(g<.5?j:3*(g-I)+j-.75)}function f(g,I,j,st){var pt=new v(g,I,j,st);return function(wt){return pt.solve(wt)}}var b=f(.25,.1,.25,1);function h(g,I,j){return Math.min(j,Math.max(I,g))}function _(g,I,j){var st=j-I,pt=((g-I)%st+st)%st+I;return pt===I?j:pt}function a(g,I,j){if(!g.length)return j(null,[]);var st=g.length,pt=new Array(g.length),wt=null;g.forEach(function(Rt,Jt){I(Rt,function(ue,_e){ue&&(wt=ue),pt[Jt]=_e,--st===0&&j(wt,pt)})})}function c(g){var I=[];for(var j in g)I.push(g[j]);return I}function p(g,I){var j=[];for(var st in g)st in I||j.push(st);return j}function x(g){for(var I=[],j=arguments.length-1;j-- >0;)I[j]=arguments[j+1];for(var st=0,pt=I;st<pt.length;st+=1){var wt=pt[st];for(var Rt in wt)g[Rt]=wt[Rt]}return g}function k(g,I){for(var j={},st=0;st<I.length;st++){var pt=I[st];pt in g&&(j[pt]=g[pt])}return j}var y=1;function A(){return y++}function C(){function g(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,g)}return g()}function u(g){return g<=1?1:Math.pow(2,Math.ceil(Math.log(g)/Math.LN2))}function m(g){return g?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(g):!1}function M(g,I){g.forEach(function(j){I[j]&&(I[j]=I[j].bind(I))})}function w(g,I){return g.indexOf(I,g.length-I.length)!==-1}function z(g,I,j){var st={};for(var pt in g)st[pt]=I.call(j||this,g[pt],pt,g);return st}function O(g,I,j){var st={};for(var pt in g)I.call(j||this,g[pt],pt,g)&&(st[pt]=g[pt]);return st}function D(g){return Array.isArray(g)?g.map(D):typeof g=="object"&&g?z(g,D):g}function P(g,I){for(var j=0;j<g.length;j++)if(I.indexOf(g[j])>=0)return!0;return!1}var F={};function R(g){F[g]||(typeof console<"u"&&console.warn(g),F[g]=!0)}function N(g,I,j){return(j.y-g.y)*(I.x-g.x)>(I.y-g.y)*(j.x-g.x)}function B(g){for(var I=0,j=0,st=g.length,pt=st-1,wt=void 0,Rt=void 0;j<st;pt=j++)wt=g[j],Rt=g[pt],I+=(Rt.x-wt.x)*(wt.y+Rt.y);return I}function q(g){var I=g[0],j=g[1],st=g[2];return j+=90,j*=Math.PI/180,st*=Math.PI/180,{x:I*Math.cos(j)*Math.sin(st),y:I*Math.sin(j)*Math.sin(st),z:I*Math.cos(st)}}function V(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function J(g){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,j={};if(g.replace(I,function(pt,wt,Rt,Jt){var ue=Rt||Jt;return j[wt]=ue?ue.toLowerCase():!0,""}),j["max-age"]){var st=parseInt(j["max-age"],10);isNaN(st)?delete j["max-age"]:j["max-age"]=st}return j}var it=null;function nt(g){if(it==null){var I=g.navigator?g.navigator.userAgent:null;it=!!g.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return it}function Y(g){try{var I=l[g];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function Z(g){return l.btoa(encodeURIComponent(g).replace(/%([0-9A-F]{2})/g,function(I,j){return String.fromCharCode(+("0x"+j))}))}function $(g){return decodeURIComponent(l.atob(g).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var G=l.performance&&l.performance.now?l.performance.now.bind(l.performance):Date.now.bind(Date),rt=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||l.msRequestAnimationFrame,ot=l.cancelAnimationFrame||l.mozCancelAnimationFrame||l.webkitCancelAnimationFrame||l.msCancelAnimationFrame,W,H,at={now:G,frame:function(g){var I=rt(g);return{cancel:function(){return ot(I)}}},getImageData:function(g,I){I===void 0&&(I=0);var j=l.document.createElement("canvas"),st=j.getContext("2d");if(!st)throw new Error("failed to create canvas 2d context");return j.width=g.width,j.height=g.height,st.drawImage(g,0,0,g.width,g.height),st.getImageData(-I,-I,g.width+2*I,g.height+2*I)},resolveURL:function(g){return W||(W=l.document.createElement("a")),W.href=g,W.href},hardwareConcurrency:l.navigator&&l.navigator.hardwareConcurrency||4,get devicePixelRatio(){return l.devicePixelRatio},get prefersReducedMotion(){return l.matchMedia?(H==null&&(H=l.matchMedia("(prefers-reduced-motion: reduce)")),H.matches):!1}},Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ct={supported:!1,testSupport:gt},ft,yt=!1,xt,Lt=!1;l.document&&(xt=l.document.createElement("img"),xt.onload=function(){ft&&mt(ft),ft=null,Lt=!0},xt.onerror=function(){yt=!0,ft=null},xt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function gt(g){yt||!xt||(Lt?mt(g):ft=g)}function mt(g){var I=g.createTexture();g.bindTexture(g.TEXTURE_2D,I);try{if(g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,xt),g.isContextLost())return;ct.supported=!0}catch{}g.deleteTexture(I),yt=!0}var vt="01";function At(){for(var g="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",j="",st=0;st<10;st++)j+=I[Math.floor(Math.random()*62)];var pt=12*60*60*1e3,wt=[g,vt,j].join(""),Rt=Date.now()+pt;return{token:wt,tokenExpiresAt:Rt}}var Ot=function(g,I){this._transformRequestFn=g,this._customAccessToken=I,this._createSkuToken()};Ot.prototype._createSkuToken=function(){var g=At();this._skuToken=g.token,this._skuTokenExpiresAt=g.tokenExpiresAt},Ot.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ot.prototype.transformRequest=function(g,I){return this._transformRequestFn?this._transformRequestFn(g,I)||{url:g}:{url:g}},Ot.prototype.normalizeStyleURL=function(g,I){if(!Pt(g))return g;var j=Vt(g);return j.path="/styles/v1"+j.path,this._makeAPIURL(j,this._customAccessToken||I)},Ot.prototype.normalizeGlyphsURL=function(g,I){if(!Pt(g))return g;var j=Vt(g);return j.path="/fonts/v1"+j.path,this._makeAPIURL(j,this._customAccessToken||I)},Ot.prototype.normalizeSourceURL=function(g,I){if(!Pt(g))return g;var j=Vt(g);return j.path="/v4/"+j.authority+".json",j.params.push("secure"),this._makeAPIURL(j,this._customAccessToken||I)},Ot.prototype.normalizeSpriteURL=function(g,I,j,st){var pt=Vt(g);return Pt(g)?(pt.path="/styles/v1"+pt.path+"/sprite"+I+j,this._makeAPIURL(pt,this._customAccessToken||st)):(pt.path+=""+I+j,ae(pt))},Ot.prototype.normalizeTileURL=function(g,I){if(this._isSkuTokenExpired()&&this._createSkuToken(),g&&!Pt(g))return g;var j=Vt(g),st=/(\.(png|jpg)\d*)(?=$)/,pt=/^.+\/v4\//,wt=at.devicePixelRatio>=2||I===512?"@2x":"",Rt=ct.supported?".webp":"$1";j.path=j.path.replace(st,""+wt+Rt),j.path=j.path.replace(pt,"/"),j.path="/v4"+j.path;var Jt=this._customAccessToken||Gt(j.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&Jt&&this._skuToken&&j.params.push("sku="+this._skuToken),this._makeAPIURL(j,Jt)},Ot.prototype.canonicalizeTileURL=function(g,I){var j="/v4/",st=/\.[\w]+$/,pt=Vt(g);if(!pt.path.match(/(^\/v4\/)/)||!pt.path.match(st))return g;var wt="mapbox://tiles/";wt+=pt.path.replace(j,"");var Rt=pt.params;return I&&(Rt=Rt.filter(function(Jt){return!Jt.match(/^access_token=/)})),Rt.length&&(wt+="?"+Rt.join("&")),wt},Ot.prototype.canonicalizeTileset=function(g,I){for(var j=I?Pt(I):!1,st=[],pt=0,wt=g.tiles||[];pt<wt.length;pt+=1){var Rt=wt[pt];Nt(Rt)?st.push(this.canonicalizeTileURL(Rt,j)):st.push(Rt)}return st},Ot.prototype._makeAPIURL=function(g,I){var j="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",st=Vt(Q.API_URL);if(g.protocol=st.protocol,g.authority=st.authority,g.protocol==="http"){var pt=g.params.indexOf("secure");pt>=0&&g.params.splice(pt,1)}if(st.path!=="/"&&(g.path=""+st.path+g.path),!Q.REQUIRE_ACCESS_TOKEN)return ae(g);if(I=I||Q.ACCESS_TOKEN,!I)throw new Error("An API access token is required to use Mapbox GL. "+j);if(I[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+j);return g.params=g.params.filter(function(wt){return wt.indexOf("access_token")===-1}),g.params.push("access_token="+I),ae(g)};function Pt(g){return g.indexOf("mapbox:")===0}var Et=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Nt(g){return Et.test(g)}function ne(g){return g.indexOf("sku=")>0&&Nt(g)}function Gt(g){for(var I=0,j=g;I<j.length;I+=1){var st=j[I],pt=st.match(/^access_token=(.*)$/);if(pt)return pt[1]}return null}var pe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Vt(g){var I=g.match(pe);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ae(g){var I=g.params.length?"?"+g.params.join("&"):"";return g.protocol+"://"+g.authority+g.path+I}var oe="mapbox.eventData";function ce(g){if(!g)return null;var I=g.split(".");if(!I||I.length!==3)return null;try{var j=JSON.parse($(I[1]));return j}catch{return null}}var le=function(g){this.type=g,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};le.prototype.getStorageKey=function(g){var I=ce(Q.ACCESS_TOKEN),j="";return I&&I.u?j=Z(I.u):j=Q.ACCESS_TOKEN||"",g?oe+"."+g+":"+j:oe+":"+j},le.prototype.fetchEventData=function(){var g=Y("localStorage"),I=this.getStorageKey(),j=this.getStorageKey("uuid");if(g)try{var st=l.localStorage.getItem(I);st&&(this.eventData=JSON.parse(st));var pt=l.localStorage.getItem(j);pt&&(this.anonId=pt)}catch{R("Unable to read from LocalStorage")}},le.prototype.saveEventData=function(){var g=Y("localStorage"),I=this.getStorageKey(),j=this.getStorageKey("uuid");if(g)try{l.localStorage.setItem(j,this.anonId),Object.keys(this.eventData).length>=1&&l.localStorage.setItem(I,JSON.stringify(this.eventData))}catch{R("Unable to write to LocalStorage")}},le.prototype.processRequests=function(g){},le.prototype.postEvent=function(g,I,j,st){var pt=this;if(Q.EVENTS_URL){var wt=Vt(Q.EVENTS_URL);wt.params.push("access_token="+(st||Q.ACCESS_TOKEN||""));var Rt={event:this.type,created:new Date(g).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:vt,userId:this.anonId},Jt=I?x(Rt,I):Rt,ue={url:ae(wt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Jt])};this.pendingRequest=Ce(ue,function(_e){pt.pendingRequest=null,j(_e),pt.saveEventData(),pt.processRequests(st)})}},le.prototype.queueRequest=function(g,I){this.queue.push(g),this.processRequests(I)};var ye=function(g){function I(){g.call(this,"map.load"),this.success={},this.skuToken=""}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(j,st,pt,wt){this.skuToken=pt,(Q.EVENTS_URL&&wt||Q.ACCESS_TOKEN&&Array.isArray(j)&&j.some(function(Rt){return Pt(Rt)||Nt(Rt)}))&&this.queueRequest({id:st,timestamp:Date.now()},wt)},I.prototype.processRequests=function(j){var st=this;if(!(this.pendingRequest||this.queue.length===0)){var pt=this.queue.shift(),wt=pt.id,Rt=pt.timestamp;wt&&this.success[wt]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=C()),this.postEvent(Rt,{skuToken:this.skuToken},function(Jt){Jt||wt&&(st.success[wt]=!0)},j))}},I}(le),Tt=function(g){function I(j){g.call(this,"appUserTurnstile"),this._customAccessToken=j}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(j,st){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(j)&&j.some(function(pt){return Pt(pt)||Nt(pt)})&&this.queueRequest(Date.now(),st)},I.prototype.processRequests=function(j){var st=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var pt=ce(Q.ACCESS_TOKEN),wt=pt?pt.u:Q.ACCESS_TOKEN,Rt=wt!==this.eventData.tokenU;m(this.anonId)||(this.anonId=C(),Rt=!0);var Jt=this.queue.shift();if(this.eventData.lastSuccess){var ue=new Date(this.eventData.lastSuccess),_e=new Date(Jt),Oe=(Jt-this.eventData.lastSuccess)/(24*60*60*1e3);Rt=Rt||Oe>=1||Oe<-1||ue.getDate()!==_e.getDate()}else Rt=!0;if(!Rt)return this.processRequests();this.postEvent(Jt,{"enabled.telemetry":!1},function(je){je||(st.eventData.lastSuccess=Jt,st.eventData.tokenU=wt)},j)}},I}(le),Ft=new Tt,$t=Ft.postTurnstileEvent.bind(Ft),Wt=new ye,Bt=Wt.postMapLoadEvent.bind(Wt),Mt="mapbox-tiles",St=500,Dt=50,dt=1e3*60*7,ht;function bt(){l.caches&&!ht&&(ht=l.caches.open(Mt))}var zt;function qt(g,I){if(zt===void 0)try{new Response(new ReadableStream),zt=!0}catch{zt=!1}zt?I(g.body):g.blob().then(I)}function te(g,I,j){if(bt(),!!ht){var st={status:I.status,statusText:I.statusText,headers:new l.Headers};I.headers.forEach(function(Rt,Jt){return st.headers.set(Jt,Rt)});var pt=J(I.headers.get("Cache-Control")||"");if(!pt["no-store"]){pt["max-age"]&&st.headers.set("Expires",new Date(j+pt["max-age"]*1e3).toUTCString());var wt=new Date(st.headers.get("Expires")).getTime()-j;wt<dt||qt(I,function(Rt){var Jt=new l.Response(Rt,st);bt(),ht&&ht.then(function(ue){return ue.put(re(g.url),Jt)}).catch(function(ue){return R(ue.message)})})}}}function re(g){var I=g.indexOf("?");return I<0?g:g.slice(0,I)}function Ye(g,I){if(bt(),!ht)return I(null);var j=re(g.url);ht.then(function(st){st.match(j).then(function(pt){var wt=Be(pt);st.delete(j),wt&&st.put(j,pt.clone()),I(null,pt,wt)}).catch(I)}).catch(I)}function Be(g){if(!g)return!1;var I=new Date(g.headers.get("Expires")||0),j=J(g.headers.get("Cache-Control")||"");return I>Date.now()&&!j["no-cache"]}var ge=1/0;function be(g){ge++,ge>Dt&&(g.getActor().send("enforceCacheSizeLimit",St),ge=0)}function Ne(g){bt(),ht&&ht.then(function(I){I.keys().then(function(j){for(var st=0;st<j.length-g;st++)I.delete(j[st])})})}function pr(g){var I=l.caches.delete(Mt);g&&I.catch(g).then(function(){return g()})}function fe(g,I){St=g,Dt=I}var De;function Ge(){return De==null&&(De=l.OffscreenCanvas&&new l.OffscreenCanvas(1,1).getContext("2d")&&typeof l.createImageBitmap=="function"),De}var vr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(vr);var $e=function(g){function I(j,st,pt){st===401&&Nt(pt)&&(j+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),g.call(this,j),this.status=st,this.url=pt,this.name=this.constructor.name,this.message=j}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),Kt=V()?function(){return self.worker&&self.worker.referrer}:function(){return(l.location.protocol==="blob:"?l.parent:l).location.href},ie=function(g){return/^file:/.test(g)||/^file:/.test(Kt())&&!/^\w+:/.test(g)};function he(g,I){var j=new l.AbortController,st=new l.Request(g.url,{method:g.method||"GET",body:g.body,credentials:g.credentials,headers:g.headers,referrer:Kt(),signal:j.signal}),pt=!1,wt=!1,Rt=ne(st.url);g.type==="json"&&st.headers.set("Accept","application/json");var Jt=function(_e,Oe,je){if(!wt){if(_e&&_e.message!=="SecurityError"&&R(_e),Oe&&je)return ue(Oe);var Xe=Date.now();l.fetch(st).then(function(nr){if(nr.ok){var _r=Rt?nr.clone():null;return ue(nr,_r,Xe)}else return I(new $e(nr.statusText,nr.status,g.url))}).catch(function(nr){nr.code!==20&&I(new Error(nr.message))})}},ue=function(_e,Oe,je){(g.type==="arrayBuffer"?_e.arrayBuffer():g.type==="json"?_e.json():_e.text()).then(function(Xe){wt||(Oe&&je&&te(st,Oe,je),pt=!0,I(null,Xe,_e.headers.get("Cache-Control"),_e.headers.get("Expires")))}).catch(function(Xe){wt||I(new Error(Xe.message))})};return Rt?Ye(st,Jt):Jt(null,null),{cancel:function(){wt=!0,pt||j.abort()}}}function Ae(g,I){var j=new l.XMLHttpRequest;j.open(g.method||"GET",g.url,!0),g.type==="arrayBuffer"&&(j.responseType="arraybuffer");for(var st in g.headers)j.setRequestHeader(st,g.headers[st]);return g.type==="json"&&(j.responseType="text",j.setRequestHeader("Accept","application/json")),j.withCredentials=g.credentials==="include",j.onerror=function(){I(new Error(j.statusText))},j.onload=function(){if((j.status>=200&&j.status<300||j.status===0)&&j.response!==null){var pt=j.response;if(g.type==="json")try{pt=JSON.parse(j.response)}catch(wt){return I(wt)}I(null,pt,j.getResponseHeader("Cache-Control"),j.getResponseHeader("Expires"))}else I(new $e(j.statusText,j.status,g.url))},j.send(g.body),{cancel:function(){return j.abort()}}}var Ee=function(g,I){if(!ie(g.url)){if(l.fetch&&l.Request&&l.AbortController&&l.Request.prototype.hasOwnProperty("signal"))return he(g,I);if(V()&&self.worker&&self.worker.actor){var j=!0;return self.worker.actor.send("getResource",g,I,void 0,j)}}return Ae(g,I)},Fe=function(g,I){return Ee(x(g,{type:"json"}),I)},Re=function(g,I){return Ee(x(g,{type:"arrayBuffer"}),I)},Ce=function(g,I){return Ee(x(g,{method:"POST"}),I)};function We(g){var I=l.document.createElement("a");return I.href=g,I.protocol===l.document.location.protocol&&I.host===l.document.location.host}var er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ue(g,I,j,st){var pt=new l.Image,wt=l.URL;pt.onload=function(){I(null,pt),wt.revokeObjectURL(pt.src),pt.onload=null,l.requestAnimationFrame(function(){pt.src=er})},pt.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Rt=new l.Blob([new Uint8Array(g)],{type:"image/png"});pt.cacheControl=j,pt.expires=st,pt.src=g.byteLength?wt.createObjectURL(Rt):er}function ar(g,I){var j=new l.Blob([new Uint8Array(g)],{type:"image/png"});l.createImageBitmap(j).then(function(st){I(null,st)}).catch(function(st){I(new Error("Could not load image because of "+st.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var It,Ut,Me=function(){It=[],Ut=0};Me();var ke=function(g,I){if(ct.supported&&(g.headers||(g.headers={}),g.headers.accept="image/webp,*/*"),Ut>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var j={requestParameters:g,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return It.push(j),j}Ut++;var st=!1,pt=function(){if(!st)for(st=!0,Ut--;It.length&&Ut<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var Rt=It.shift(),Jt=Rt.requestParameters,ue=Rt.callback,_e=Rt.cancelled;_e||(Rt.cancel=ke(Jt,ue).cancel)}},wt=Re(g,function(Rt,Jt,ue,_e){pt(),Rt?I(Rt):Jt&&(Ge()?ar(Jt,I):Ue(Jt,I,ue,_e))});return{cancel:function(){wt.cancel(),pt()}}},qe=function(g,I){var j=l.document.createElement("video");j.muted=!0,j.onloadstart=function(){I(null,j)};for(var st=0;st<g.length;st++){var pt=l.document.createElement("source");We(g[st])||(j.crossOrigin="Anonymous"),pt.src=g[st],j.appendChild(pt)}return{cancel:function(){}}};function Ke(g,I,j){var st=j[g]&&j[g].indexOf(I)!==-1;st||(j[g]=j[g]||[],j[g].push(I))}function Je(g,I,j){if(j&&j[g]){var st=j[g].indexOf(I);st!==-1&&j[g].splice(st,1)}}var Ve=function(g,I){I===void 0&&(I={}),x(this,I),this.type=g},Pe=function(g){function I(j,st){st===void 0&&(st={}),g.call(this,"error",x({error:j},st))}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I}(Ve),rr=function(){};rr.prototype.on=function(g,I){return this._listeners=this._listeners||{},Ke(g,I,this._listeners),this},rr.prototype.off=function(g,I){return Je(g,I,this._listeners),Je(g,I,this._oneTimeListeners),this},rr.prototype.once=function(g,I){return this._oneTimeListeners=this._oneTimeListeners||{},Ke(g,I,this._oneTimeListeners),this},rr.prototype.fire=function(g,I){typeof g=="string"&&(g=new Ve(g,I||{}));var j=g.type;if(this.listens(j)){g.target=this;for(var st=this._listeners&&this._listeners[j]?this._listeners[j].slice():[],pt=0,wt=st;pt<wt.length;pt+=1){var Rt=wt[pt];Rt.call(this,g)}for(var Jt=this._oneTimeListeners&&this._oneTimeListeners[j]?this._oneTimeListeners[j].slice():[],ue=0,_e=Jt;ue<_e.length;ue+=1){var Oe=_e[ue];Je(j,Oe,this._oneTimeListeners),Oe.call(this,g)}var je=this._eventedParent;je&&(x(g,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),je.fire(g))}else g instanceof Pe&&console.error(g.error);return this},rr.prototype.listens=function(g){return this._listeners&&this._listeners[g]&&this._listeners[g].length>0||this._oneTimeListeners&&this._oneTimeListeners[g]&&this._oneTimeListeners[g].length>0||this._eventedParent&&this._eventedParent.listens(g)},rr.prototype.setEventedParent=function(g,I){return this._eventedParent=g,this._eventedParentData=I,this};var lr=8,cr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},ir={"*":{type:"source"}},Er=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],kr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Mr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},$r={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Gr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},vn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},yn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},hr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Lr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Ir={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},on={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},an={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Kn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ai={type:"array",value:"*"},ui={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ni={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Cn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ur={type:"array",value:"*",minimum:1},qr={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Ur=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],nn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},En={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},sn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},An={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ln={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},qn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ii={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Li={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},dr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Sr={"*":{type:"string"}},gr={$version:lr,$root:cr,sources:ir,source:Er,source_vector:kr,source_raster:Mr,source_raster_dem:$r,source_geojson:Gr,source_video:vn,source_image:yn,layer:hr,layout:Lr,layout_background:Ir,layout_fill:Rr,layout_circle:on,layout_heatmap:an,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:gn,layout_symbol:Mn,layout_raster:Pn,layout_hillshade:Kn,filter:ai,filter_operator:ui,geometry_type:ni,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Cn,expression:ur,light:qr,paint:Ur,paint_fill:nn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:En,paint_circle:sn,paint_heatmap:An,paint_symbol:Ln,paint_raster:qn,paint_hillshade:ii,paint_background:Li,transition:dr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Sr},Pr=function(g,I,j,st){this.message=(g?g+": ":"")+j,st&&(this.identifier=st),I!=null&&I.__line__&&(this.line=I.__line__)};function fn(g){var I=g.key,j=g.value;return j?[new Pr(I,j,"constants have been deprecated as of v8")]:[]}function wn(g){for(var I=[],j=arguments.length-1;j-- >0;)I[j]=arguments[j+1];for(var st=0,pt=I;st<pt.length;st+=1){var wt=pt[st];for(var Rt in wt)g[Rt]=wt[Rt]}return g}function un(g){return g instanceof Number||g instanceof String||g instanceof Boolean?g.valueOf():g}function tn(g){if(Array.isArray(g))return g.map(tn);if(g instanceof Object&&!(g instanceof Number||g instanceof String||g instanceof Boolean)){var I={};for(var j in g)I[j]=tn(g[j]);return I}return un(g)}var xr=function(g){function I(j,st){g.call(this,st),this.message=st,this.key=j}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I}(Error),jr=function(g,I){I===void 0&&(I=[]),this.parent=g,this.bindings={};for(var j=0,st=I;j<st.length;j+=1){var pt=st[j],wt=pt[0],Rt=pt[1];this.bindings[wt]=Rt}};jr.prototype.concat=function(g){return new jr(this,g)},jr.prototype.get=function(g){if(this.bindings[g])return this.bindings[g];if(this.parent)return this.parent.get(g);throw new Error(g+" not found in scope.")},jr.prototype.has=function(g){return this.bindings[g]?!0:this.parent?this.parent.has(g):!1};var Fr={kind:"null"},Wr={kind:"number"},mn={kind:"string"},kn={kind:"boolean"},xn={kind:"color"},Rn={kind:"object"},Sn={kind:"value"},ri={kind:"error"},$n={kind:"collator"},oi={kind:"formatted"},_i={kind:"resolvedImage"};function ta(g,I){return{kind:"array",itemType:g,N:I}}function Gi(g){if(g.kind==="array"){var I=Gi(g.itemType);return typeof g.N=="number"?"array<"+I+", "+g.N+">":g.itemType.kind==="value"?"array":"array<"+I+">"}else return g.kind}var oo=[Fr,Wr,mn,kn,xn,oi,Rn,ta(Sn),_i];function $a(g,I){if(I.kind==="error")return null;if(g.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!$a(g.itemType,I.itemType))&&(typeof g.N!="number"||g.N===I.N))return null}else{if(g.kind===I.kind)return null;if(g.kind==="value")for(var j=0,st=oo;j<st.length;j+=1){var pt=st[j];if(!$a(pt,I))return null}}return"Expected "+Gi(g)+" but found "+Gi(I)+" instead."}function za(g,I){return I.some(function(j){return j.kind===g.kind})}function Ts(g,I){return I.some(function(j){return j==="null"?g===null:j==="array"?Array.isArray(g):j==="object"?g&&!Array.isArray(g)&&typeof g=="object":j===typeof g})}var Yl=L(function(g,I){var j={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function st(_e){return _e=Math.round(_e),_e<0?0:_e>255?255:_e}function pt(_e){return _e<0?0:_e>1?1:_e}function wt(_e){return _e[_e.length-1]==="%"?st(parseFloat(_e)/100*255):st(parseInt(_e))}function Rt(_e){return _e[_e.length-1]==="%"?pt(parseFloat(_e)/100):pt(parseFloat(_e))}function Jt(_e,Oe,je){return je<0?je+=1:je>1&&(je-=1),je*6<1?_e+(Oe-_e)*je*6:je*2<1?Oe:je*3<2?_e+(Oe-_e)*(2/3-je)*6:_e}function ue(_e){var Oe=_e.replace(/ /g,"").toLowerCase();if(Oe in j)return j[Oe].slice();if(Oe[0]==="#"){if(Oe.length===4){var je=parseInt(Oe.substr(1),16);return je>=0&&je<=4095?[(je&3840)>>4|(je&3840)>>8,je&240|(je&240)>>4,je&15|(je&15)<<4,1]:null}else if(Oe.length===7){var je=parseInt(Oe.substr(1),16);return je>=0&&je<=16777215?[(je&16711680)>>16,(je&65280)>>8,je&255,1]:null}return null}var Xe=Oe.indexOf("("),nr=Oe.indexOf(")");if(Xe!==-1&&nr+1===Oe.length){var _r=Oe.substr(0,Xe),zr=Oe.substr(Xe+1,nr-(Xe+1)).split(","),ln=1;switch(_r){case"rgba":if(zr.length!==4)return null;ln=Rt(zr.pop());case"rgb":return zr.length!==3?null:[wt(zr[0]),wt(zr[1]),wt(zr[2]),ln];case"hsla":if(zr.length!==4)return null;ln=Rt(zr.pop());case"hsl":if(zr.length!==3)return null;var en=(parseFloat(zr[0])%360+360)%360/360,dn=Rt(zr[1]),bn=Rt(zr[2]),hn=bn<=.5?bn*(dn+1):bn+dn-bn*dn,On=bn*2-hn;return[st(Jt(On,hn,en+1/3)*255),st(Jt(On,hn,en)*255),st(Jt(On,hn,en-1/3)*255),ln];default:return null}}return null}try{I.parseCSSColor=ue}catch{}}),du=Yl.parseCSSColor,qi=function(g,I,j,st){st===void 0&&(st=1),this.r=g,this.g=I,this.b=j,this.a=st};qi.parse=function(g){if(g){if(g instanceof qi)return g;if(typeof g=="string"){var I=du(g);if(I)return new qi(I[0]/255*I[3],I[1]/255*I[3],I[2]/255*I[3],I[3])}}},qi.prototype.toString=function(){var g=this.toArray(),I=g[0],j=g[1],st=g[2],pt=g[3];return"rgba("+Math.round(I)+","+Math.round(j)+","+Math.round(st)+","+pt+")"},qi.prototype.toArray=function(){var g=this,I=g.r,j=g.g,st=g.b,pt=g.a;return pt===0?[0,0,0,0]:[I*255/pt,j*255/pt,st*255/pt,pt]},qi.black=new qi(0,0,0,1),qi.white=new qi(1,1,1,1),qi.transparent=new qi(0,0,0,0),qi.red=new qi(1,0,0,1);var Ws=function(g,I,j){g?this.sensitivity=I?"variant":"case":this.sensitivity=I?"accent":"base",this.locale=j,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ws.prototype.compare=function(g,I){return this.collator.compare(g,I)},Ws.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Gl=function(g,I,j,st,pt){this.text=g,this.image=I,this.scale=j,this.fontStack=st,this.textColor=pt},Sa=function(g){this.sections=g};Sa.fromString=function(g){return new Sa([new Gl(g,null,null,null,null)])},Sa.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(g){return g.text.length!==0||g.image&&g.image.name.length!==0})},Sa.factory=function(g){return g instanceof Sa?g:Sa.fromString(g)},Sa.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(g){return g.text}).join("")},Sa.prototype.serialize=function(){for(var g=["format"],I=0,j=this.sections;I<j.length;I+=1){var st=j[I];if(st.image){g.push(["image",st.image.name]);continue}g.push(st.text);var pt={};st.fontStack&&(pt["text-font"]=["literal",st.fontStack.split(",")]),st.scale&&(pt["font-scale"]=st.scale),st.textColor&&(pt["text-color"]=["rgba"].concat(st.textColor.toArray())),g.push(pt)}return g};var Va=function(g){this.name=g.name,this.available=g.available};Va.prototype.toString=function(){return this.name},Va.fromString=function(g){return g?new Va({name:g,available:!1}):null},Va.prototype.serialize=function(){return["image",this.name]};function ks(g,I,j,st){if(!(typeof g=="number"&&g>=0&&g<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof j=="number"&&j>=0&&j<=255)){var pt=typeof st=="number"?[g,I,j,st]:[g,I,j];return"Invalid rgba value ["+pt.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof st>"u"||typeof st=="number"&&st>=0&&st<=1?null:"Invalid rgba value ["+[g,I,j,st].join(", ")+"]: 'a' must be between 0 and 1."}function bl(g){if(g===null||typeof g=="string"||typeof g=="boolean"||typeof g=="number"||g instanceof qi||g instanceof Ws||g instanceof Sa||g instanceof Va)return!0;if(Array.isArray(g)){for(var I=0,j=g;I<j.length;I+=1){var st=j[I];if(!bl(st))return!1}return!0}else if(typeof g=="object"){for(var pt in g)if(!bl(g[pt]))return!1;return!0}else return!1}function ma(g){if(g===null)return Fr;if(typeof g=="string")return mn;if(typeof g=="boolean")return kn;if(typeof g=="number")return Wr;if(g instanceof qi)return xn;if(g instanceof Ws)return $n;if(g instanceof Sa)return oi;if(g instanceof Va)return _i;if(Array.isArray(g)){for(var I=g.length,j,st=0,pt=g;st<pt.length;st+=1){var wt=pt[st],Rt=ma(wt);if(!j)j=Rt;else{if(j===Rt)continue;j=Sn;break}}return ta(j||Sn,I)}else return Rn}function Ms(g){var I=typeof g;return g===null?"":I==="string"||I==="number"||I==="boolean"?String(g):g instanceof qi||g instanceof Sa||g instanceof Va?g.toString():JSON.stringify(g)}var ba=function(g,I){this.type=g,this.value=I};ba.parse=function(g,I){if(g.length!==2)return I.error("'literal' expression requires exactly one argument, but found "+(g.length-1)+" instead.");if(!bl(g[1]))return I.error("invalid value");var j=g[1],st=ma(j),pt=I.expectedType;return st.kind==="array"&&st.N===0&&pt&&pt.kind==="array"&&(typeof pt.N!="number"||pt.N===0)&&(st=pt),new ba(st,j)},ba.prototype.evaluate=function(){return this.value},ba.prototype.eachChild=function(){},ba.prototype.outputDefined=function(){return!0},ba.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof qi?["rgba"].concat(this.value.toArray()):this.value instanceof Sa?this.value.serialize():this.value};var ka=function(g){this.name="ExpressionEvaluationError",this.message=g};ka.prototype.toJSON=function(){return this.message};var Es={string:mn,number:Wr,boolean:kn,object:Rn},Ia=function(g,I){this.type=g,this.args=I};Ia.parse=function(g,I){if(g.length<2)return I.error("Expected at least one argument.");var j=1,st,pt=g[0];if(pt==="array"){var wt;if(g.length>2){var Rt=g[1];if(typeof Rt!="string"||!(Rt in Es)||Rt==="object")return I.error('The item type argument of "array" must be one of string, number, boolean',1);wt=Es[Rt],j++}else wt=Sn;var Jt;if(g.length>3){if(g[2]!==null&&(typeof g[2]!="number"||g[2]<0||g[2]!==Math.floor(g[2])))return I.error('The length argument to "array" must be a positive integer literal',2);Jt=g[2],j++}st=ta(wt,Jt)}else st=Es[pt];for(var ue=[];j<g.length;j++){var _e=I.parse(g[j],j,Sn);if(!_e)return null;ue.push(_e)}return new Ia(st,ue)},Ia.prototype.evaluate=function(g){for(var I=0;I<this.args.length;I++){var j=this.args[I].evaluate(g),st=$a(this.type,ma(j));if(st){if(I===this.args.length-1)throw new ka("Expected value to be of type "+Gi(this.type)+", but found "+Gi(ma(j))+" instead.")}else return j}return null},Ia.prototype.eachChild=function(g){this.args.forEach(g)},Ia.prototype.outputDefined=function(){return this.args.every(function(g){return g.outputDefined()})},Ia.prototype.serialize=function(){var g=this.type,I=[g.kind];if(g.kind==="array"){var j=g.itemType;if(j.kind==="string"||j.kind==="number"||j.kind==="boolean"){I.push(j.kind);var st=g.N;(typeof st=="number"||this.args.length>1)&&I.push(st)}}return I.concat(this.args.map(function(pt){return pt.serialize()}))};var Fa=function(g){this.type=oi,this.sections=g};Fa.parse=function(g,I){if(g.length<2)return I.error("Expected at least one argument.");var j=g[1];if(!Array.isArray(j)&&typeof j=="object")return I.error("First argument must be an image or text section.");for(var st=[],pt=!1,wt=1;wt<=g.length-1;++wt){var Rt=g[wt];if(pt&&typeof Rt=="object"&&!Array.isArray(Rt)){pt=!1;var Jt=null;if(Rt["font-scale"]&&(Jt=I.parse(Rt["font-scale"],1,Wr),!Jt))return null;var ue=null;if(Rt["text-font"]&&(ue=I.parse(Rt["text-font"],1,ta(mn)),!ue))return null;var _e=null;if(Rt["text-color"]&&(_e=I.parse(Rt["text-color"],1,xn),!_e))return null;var Oe=st[st.length-1];Oe.scale=Jt,Oe.font=ue,Oe.textColor=_e}else{var je=I.parse(g[wt],1,Sn);if(!je)return null;var Xe=je.type.kind;if(Xe!=="string"&&Xe!=="value"&&Xe!=="null"&&Xe!=="resolvedImage")return I.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");pt=!0,st.push({content:je,scale:null,font:null,textColor:null})}}return new Fa(st)},Fa.prototype.evaluate=function(g){var I=function(j){var st=j.content.evaluate(g);return ma(st)===_i?new Gl("",st,null,null,null):new Gl(Ms(st),null,j.scale?j.scale.evaluate(g):null,j.font?j.font.evaluate(g).join(","):null,j.textColor?j.textColor.evaluate(g):null)};return new Sa(this.sections.map(I))},Fa.prototype.eachChild=function(g){for(var I=0,j=this.sections;I<j.length;I+=1){var st=j[I];g(st.content),st.scale&&g(st.scale),st.font&&g(st.font),st.textColor&&g(st.textColor)}},Fa.prototype.outputDefined=function(){return!1},Fa.prototype.serialize=function(){for(var g=["format"],I=0,j=this.sections;I<j.length;I+=1){var st=j[I];g.push(st.content.serialize());var pt={};st.scale&&(pt["font-scale"]=st.scale.serialize()),st.font&&(pt["text-font"]=st.font.serialize()),st.textColor&&(pt["text-color"]=st.textColor.serialize()),g.push(pt)}return g};var so=function(g){this.type=_i,this.input=g};so.parse=function(g,I){if(g.length!==2)return I.error("Expected two arguments.");var j=I.parse(g[1],1,mn);return j?new so(j):I.error("No image name provided.")},so.prototype.evaluate=function(g){var I=this.input.evaluate(g),j=Va.fromString(I);return j&&g.availableImages&&(j.available=g.availableImages.indexOf(I)>-1),j},so.prototype.eachChild=function(g){g(this.input)},so.prototype.outputDefined=function(){return!1},so.prototype.serialize=function(){return["image",this.input.serialize()]};var vu={"to-boolean":kn,"to-color":xn,"to-number":Wr,"to-string":mn},Qa=function(g,I){this.type=g,this.args=I};Qa.parse=function(g,I){if(g.length<2)return I.error("Expected at least one argument.");var j=g[0];if((j==="to-boolean"||j==="to-string")&&g.length!==2)return I.error("Expected one argument.");for(var st=vu[j],pt=[],wt=1;wt<g.length;wt++){var Rt=I.parse(g[wt],wt,Sn);if(!Rt)return null;pt.push(Rt)}return new Qa(st,pt)},Qa.prototype.evaluate=function(g){if(this.type.kind==="boolean")return!!this.args[0].evaluate(g);if(this.type.kind==="color"){for(var I,j,st=0,pt=this.args;st<pt.length;st+=1){var wt=pt[st];if(I=wt.evaluate(g),j=null,I instanceof qi)return I;if(typeof I=="string"){var Rt=g.parseColor(I);if(Rt)return Rt}else if(Array.isArray(I)&&(I.length<3||I.length>4?j="Invalid rbga value "+JSON.stringify(I)+": expected an array containing either three or four numeric values.":j=ks(I[0],I[1],I[2],I[3]),!j))return new qi(I[0]/255,I[1]/255,I[2]/255,I[3])}throw new ka(j||"Could not parse color from value '"+(typeof I=="string"?I:String(JSON.stringify(I)))+"'")}else if(this.type.kind==="number"){for(var Jt=null,ue=0,_e=this.args;ue<_e.length;ue+=1){var Oe=_e[ue];if(Jt=Oe.evaluate(g),Jt===null)return 0;var je=Number(Jt);if(!isNaN(je))return je}throw new ka("Could not convert "+JSON.stringify(Jt)+" to number.")}else return this.type.kind==="formatted"?Sa.fromString(Ms(this.args[0].evaluate(g))):this.type.kind==="resolvedImage"?Va.fromString(Ms(this.args[0].evaluate(g))):Ms(this.args[0].evaluate(g))},Qa.prototype.eachChild=function(g){this.args.forEach(g)},Qa.prototype.outputDefined=function(){return this.args.every(function(g){return g.outputDefined()})},Qa.prototype.serialize=function(){if(this.type.kind==="formatted")return new Fa([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new so(this.args[0]).serialize();var g=["to-"+this.type.kind];return this.eachChild(function(I){g.push(I.serialize())}),g};var Ku=["Unknown","Point","LineString","Polygon"],Ro=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ro.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ro.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ku[this.feature.type]:this.feature.type:null},Ro.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ro.prototype.canonicalID=function(){return this.canonical},Ro.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ro.prototype.parseColor=function(g){var I=this._parseColorCache[g];return I||(I=this._parseColorCache[g]=qi.parse(g)),I};var Ca=function(g,I,j,st){this.name=g,this.type=I,this._evaluate=j,this.args=st};Ca.prototype.evaluate=function(g){return this._evaluate(g,this.args)},Ca.prototype.eachChild=function(g){this.args.forEach(g)},Ca.prototype.outputDefined=function(){return!1},Ca.prototype.serialize=function(){return[this.name].concat(this.args.map(function(g){return g.serialize()}))},Ca.parse=function(g,I){var j,st=g[0],pt=Ca.definitions[st];if(!pt)return I.error('Unknown expression "'+st+'". If you wanted a literal array, use ["literal", [...]].',0);for(var wt=Array.isArray(pt)?pt[0]:pt.type,Rt=Array.isArray(pt)?[[pt[1],pt[2]]]:pt.overloads,Jt=Rt.filter(function(bi){var Ei=bi[0];return!Array.isArray(Ei)||Ei.length===g.length-1}),ue=null,_e=0,Oe=Jt;_e<Oe.length;_e+=1){var je=Oe[_e],Xe=je[0],nr=je[1];ue=new Po(I.registry,I.path,null,I.scope);for(var _r=[],zr=!1,ln=1;ln<g.length;ln++){var en=g[ln],dn=Array.isArray(Xe)?Xe[ln-1]:Xe.type,bn=ue.parse(en,1+_r.length,dn);if(!bn){zr=!0;break}_r.push(bn)}if(!zr){if(Array.isArray(Xe)&&Xe.length!==_r.length){ue.error("Expected "+Xe.length+" arguments, but found "+_r.length+" instead.");continue}for(var hn=0;hn<_r.length;hn++){var On=Array.isArray(Xe)?Xe[hn]:Xe.type,Un=_r[hn];ue.concat(hn+1).checkSubtype(On,Un.type)}if(ue.errors.length===0)return new Ca(st,wt,nr,_r)}}if(Jt.length===1)(j=I.errors).push.apply(j,ue.errors);else{for(var Xn=Jt.length?Jt:Rt,Vn=Xn.map(function(bi){var Ei=bi[0];return Hl(Ei)}).join(" | "),fi=[],hi=1;hi<g.length;hi++){var gi=I.parse(g[hi],1+fi.length);if(!gi)return null;fi.push(Gi(gi.type))}I.error("Expected arguments of type "+Vn+", but found ("+fi.join(", ")+") instead.")}return null},Ca.register=function(g,I){Ca.definitions=I;for(var j in I)g[j]=Ca};function Hl(g){return Array.isArray(g)?"("+g.map(Gi).join(", ")+")":"("+Gi(g.type)+"...)"}var ts=function(g,I,j){this.type=$n,this.locale=j,this.caseSensitive=g,this.diacriticSensitive=I};ts.parse=function(g,I){if(g.length!==2)return I.error("Expected one argument.");var j=g[1];if(typeof j!="object"||Array.isArray(j))return I.error("Collator options argument must be an object.");var st=I.parse(j["case-sensitive"]===void 0?!1:j["case-sensitive"],1,kn);if(!st)return null;var pt=I.parse(j["diacritic-sensitive"]===void 0?!1:j["diacritic-sensitive"],1,kn);if(!pt)return null;var wt=null;return j.locale&&(wt=I.parse(j.locale,1,mn),!wt)?null:new ts(st,pt,wt)},ts.prototype.evaluate=function(g){return new Ws(this.caseSensitive.evaluate(g),this.diacriticSensitive.evaluate(g),this.locale?this.locale.evaluate(g):null)},ts.prototype.eachChild=function(g){g(this.caseSensitive),g(this.diacriticSensitive),this.locale&&g(this.locale)},ts.prototype.outputDefined=function(){return!1},ts.prototype.serialize=function(){var g={};return g["case-sensitive"]=this.caseSensitive.serialize(),g["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(g.locale=this.locale.serialize()),["collator",g]};var Oo=8192;function Wl(g,I){g[0]=Math.min(g[0],I[0]),g[1]=Math.min(g[1],I[1]),g[2]=Math.max(g[2],I[0]),g[3]=Math.max(g[3],I[1])}function gu(g){return(180+g)/360}function Ju(g){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+g*Math.PI/360)))/360}function _l(g,I){return!(g[0]<=I[0]||g[2]>=I[2]||g[1]<=I[1]||g[3]>=I[3])}function $u(g,I){var j=gu(g[0]),st=Ju(g[1]),pt=Math.pow(2,I.z);return[Math.round(j*pt*Oo),Math.round(st*pt*Oo)]}function Qu(g,I,j){var st=g[0]-I[0],pt=g[1]-I[1],wt=g[0]-j[0],Rt=g[1]-j[1];return st*Rt-wt*pt===0&&st*wt<=0&&pt*Rt<=0}function tc(g,I,j){return I[1]>g[1]!=j[1]>g[1]&&g[0]<(j[0]-I[0])*(g[1]-I[1])/(j[1]-I[1])+I[0]}function Xl(g,I){for(var j=!1,st=0,pt=I.length;st<pt;st++)for(var wt=I[st],Rt=0,Jt=wt.length;Rt<Jt-1;Rt++){if(Qu(g,wt[Rt],wt[Rt+1]))return!1;tc(g,wt[Rt],wt[Rt+1])&&(j=!j)}return j}function ec(g,I){for(var j=0;j<I.length;j++)if(Xl(g,I[j]))return!0;return!1}function rc(g,I){return g[0]*I[1]-g[1]*I[0]}function mu(g,I,j,st){var pt=g[0]-j[0],wt=g[1]-j[1],Rt=I[0]-j[0],Jt=I[1]-j[1],ue=st[0]-j[0],_e=st[1]-j[1],Oe=pt*_e-ue*wt,je=Rt*_e-ue*Jt;return Oe>0&&je<0||Oe<0&&je>0}function yu(g,I,j,st){var pt=[I[0]-g[0],I[1]-g[1]],wt=[st[0]-j[0],st[1]-j[1]];return rc(wt,pt)===0?!1:!!(mu(g,I,j,st)&&mu(j,st,g,I))}function ps(g,I,j){for(var st=0,pt=j;st<pt.length;st+=1)for(var wt=pt[st],Rt=0;Rt<wt.length-1;++Rt)if(yu(g,I,wt[Rt],wt[Rt+1]))return!0;return!1}function Ls(g,I){for(var j=0;j<g.length;++j)if(!Xl(g[j],I))return!1;for(var st=0;st<g.length-1;++st)if(ps(g[st],g[st+1],I))return!1;return!0}function Xs(g,I){for(var j=0;j<I.length;j++)if(Ls(g,I[j]))return!0;return!1}function Vs(g,I,j){for(var st=[],pt=0;pt<g.length;pt++){for(var wt=[],Rt=0;Rt<g[pt].length;Rt++){var Jt=$u(g[pt][Rt],j);Wl(I,Jt),wt.push(Jt)}st.push(wt)}return st}function xu(g,I,j){for(var st=[],pt=0;pt<g.length;pt++){var wt=Vs(g[pt],I,j);st.push(wt)}return st}function jo(g,I,j,st){if(g[0]<j[0]||g[0]>j[2]){var pt=st*.5,wt=g[0]-j[0]>pt?-st:j[0]-g[0]>pt?st:0;wt===0&&(wt=g[0]-j[2]>pt?-st:j[2]-g[0]>pt?st:0),g[0]+=wt}Wl(I,g)}function nc(g){g[0]=g[1]=1/0,g[2]=g[3]=-1/0}function wl(g,I,j,st){for(var pt=Math.pow(2,st.z)*Oo,wt=[st.x*Oo,st.y*Oo],Rt=[],Jt=0,ue=g;Jt<ue.length;Jt+=1)for(var _e=ue[Jt],Oe=0,je=_e;Oe<je.length;Oe+=1){var Xe=je[Oe],nr=[Xe.x+wt[0],Xe.y+wt[1]];jo(nr,I,j,pt),Rt.push(nr)}return Rt}function bu(g,I,j,st){for(var pt=Math.pow(2,st.z)*Oo,wt=[st.x*Oo,st.y*Oo],Rt=[],Jt=0,ue=g;Jt<ue.length;Jt+=1){for(var _e=ue[Jt],Oe=[],je=0,Xe=_e;je<Xe.length;je+=1){var nr=Xe[je],_r=[nr.x+wt[0],nr.y+wt[1]];Wl(I,_r),Oe.push(_r)}Rt.push(Oe)}if(I[2]-I[0]<=pt/2){nc(I);for(var zr=0,ln=Rt;zr<ln.length;zr+=1)for(var en=ln[zr],dn=0,bn=en;dn<bn.length;dn+=1){var hn=bn[dn];jo(hn,I,j,pt)}}return Rt}function _u(g,I){var j=[1/0,1/0,-1/0,-1/0],st=[1/0,1/0,-1/0,-1/0],pt=g.canonicalID();if(I.type==="Polygon"){var wt=Vs(I.coordinates,st,pt),Rt=wl(g.geometry(),j,st,pt);if(!_l(j,st))return!1;for(var Jt=0,ue=Rt;Jt<ue.length;Jt+=1){var _e=ue[Jt];if(!Xl(_e,wt))return!1}}if(I.type==="MultiPolygon"){var Oe=xu(I.coordinates,st,pt),je=wl(g.geometry(),j,st,pt);if(!_l(j,st))return!1;for(var Xe=0,nr=je;Xe<nr.length;Xe+=1){var _r=nr[Xe];if(!ec(_r,Oe))return!1}}return!0}function Al(g,I){var j=[1/0,1/0,-1/0,-1/0],st=[1/0,1/0,-1/0,-1/0],pt=g.canonicalID();if(I.type==="Polygon"){var wt=Vs(I.coordinates,st,pt),Rt=bu(g.geometry(),j,st,pt);if(!_l(j,st))return!1;for(var Jt=0,ue=Rt;Jt<ue.length;Jt+=1){var _e=ue[Jt];if(!Ls(_e,wt))return!1}}if(I.type==="MultiPolygon"){var Oe=xu(I.coordinates,st,pt),je=bu(g.geometry(),j,st,pt);if(!_l(j,st))return!1;for(var Xe=0,nr=je;Xe<nr.length;Xe+=1){var _r=nr[Xe];if(!Xs(_r,Oe))return!1}}return!0}var yo=function(g,I){this.type=kn,this.geojson=g,this.geometries=I};yo.parse=function(g,I){if(g.length!==2)return I.error("'within' expression requires exactly one argument, but found "+(g.length-1)+" instead.");if(bl(g[1])){var j=g[1];if(j.type==="FeatureCollection")for(var st=0;st<j.features.length;++st){var pt=j.features[st].geometry.type;if(pt==="Polygon"||pt==="MultiPolygon")return new yo(j,j.features[st].geometry)}else if(j.type==="Feature"){var wt=j.geometry.type;if(wt==="Polygon"||wt==="MultiPolygon")return new yo(j,j.geometry)}else if(j.type==="Polygon"||j.type==="MultiPolygon")return new yo(j,j)}return I.error("'within' expression requires valid geojson object that contains polygon geometry type.")},yo.prototype.evaluate=function(g){if(g.geometry()!=null&&g.canonicalID()!=null){if(g.geometryType()==="Point")return _u(g,this.geometries);if(g.geometryType()==="LineString")return Al(g,this.geometries)}return!1},yo.prototype.eachChild=function(){},yo.prototype.outputDefined=function(){return!0},yo.prototype.serialize=function(){return["within",this.geojson]};function Ss(g){if(g instanceof Ca&&(g.name==="get"&&g.args.length===1||g.name==="feature-state"||g.name==="has"&&g.args.length===1||g.name==="properties"||g.name==="geometry-type"||g.name==="id"||/^filter-/.test(g.name))||g instanceof yo)return!1;var I=!0;return g.eachChild(function(j){I&&!Ss(j)&&(I=!1)}),I}function ds(g){if(g instanceof Ca&&g.name==="feature-state")return!1;var I=!0;return g.eachChild(function(j){I&&!ds(j)&&(I=!1)}),I}function Zs(g,I){if(g instanceof Ca&&I.indexOf(g.name)>=0)return!1;var j=!0;return g.eachChild(function(st){j&&!Zs(st,I)&&(j=!1)}),j}var es=function(g,I){this.type=I.type,this.name=g,this.boundExpression=I};es.parse=function(g,I){if(g.length!==2||typeof g[1]!="string")return I.error("'var' expression requires exactly one string literal argument.");var j=g[1];return I.scope.has(j)?new es(j,I.scope.get(j)):I.error('Unknown variable "'+j+'". Make sure "'+j+'" has been bound in an enclosing "let" expression before using it.',1)},es.prototype.evaluate=function(g){return this.boundExpression.evaluate(g)},es.prototype.eachChild=function(){},es.prototype.outputDefined=function(){return!1},es.prototype.serialize=function(){return["var",this.name]};var Po=function(g,I,j,st,pt){I===void 0&&(I=[]),st===void 0&&(st=new jr),pt===void 0&&(pt=[]),this.registry=g,this.path=I,this.key=I.map(function(wt){return"["+wt+"]"}).join(""),this.scope=st,this.errors=pt,this.expectedType=j};Po.prototype.parse=function(g,I,j,st,pt){return pt===void 0&&(pt={}),I?this.concat(I,j,st)._parse(g,pt):this._parse(g,pt)},Po.prototype._parse=function(g,I){(g===null||typeof g=="string"||typeof g=="boolean"||typeof g=="number")&&(g=["literal",g]);function j(_e,Oe,je){return je==="assert"?new Ia(Oe,[_e]):je==="coerce"?new Qa(Oe,[_e]):_e}if(Array.isArray(g)){if(g.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var st=g[0];if(typeof st!="string")return this.error("Expression name must be a string, but found "+typeof st+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var pt=this.registry[st];if(pt){var wt=pt.parse(g,this);if(!wt)return null;if(this.expectedType){var Rt=this.expectedType,Jt=wt.type;if((Rt.kind==="string"||Rt.kind==="number"||Rt.kind==="boolean"||Rt.kind==="object"||Rt.kind==="array")&&Jt.kind==="value")wt=j(wt,Rt,I.typeAnnotation||"assert");else if((Rt.kind==="color"||Rt.kind==="formatted"||Rt.kind==="resolvedImage")&&(Jt.kind==="value"||Jt.kind==="string"))wt=j(wt,Rt,I.typeAnnotation||"coerce");else if(this.checkSubtype(Rt,Jt))return null}if(!(wt instanceof ba)&&wt.type.kind!=="resolvedImage"&&Vl(wt)){var ue=new Ro;try{wt=new ba(wt.type,wt.evaluate(ue))}catch(_e){return this.error(_e.message),null}}return wt}return this.error('Unknown expression "'+st+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof g>"u"?this.error("'undefined' value invalid. Use null instead."):typeof g=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof g+" instead.")},Po.prototype.concat=function(g,I,j){var st=typeof g=="number"?this.path.concat(g):this.path,pt=j?this.scope.concat(j):this.scope;return new Po(this.registry,st,I||null,pt,this.errors)},Po.prototype.error=function(g){for(var I=[],j=arguments.length-1;j-- >0;)I[j]=arguments[j+1];var st=""+this.key+I.map(function(pt){return"["+pt+"]"}).join("");this.errors.push(new xr(st,g))},Po.prototype.checkSubtype=function(g,I){var j=$a(g,I);return j&&this.error(j),j};function Vl(g){if(g instanceof es)return Vl(g.boundExpression);if(g instanceof Ca&&g.name==="error"||g instanceof ts||g instanceof yo)return!1;var I=g instanceof Qa||g instanceof Ia,j=!0;return g.eachChild(function(st){I?j=j&&Vl(st):j=j&&st instanceof ba}),j?Ss(g)&&Zs(g,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Cs(g,I){for(var j=g.length-1,st=0,pt=j,wt=0,Rt,Jt;st<=pt;)if(wt=Math.floor((st+pt)/2),Rt=g[wt],Jt=g[wt+1],Rt<=I){if(wt===j||I<Jt)return wt;st=wt+1}else if(Rt>I)pt=wt-1;else throw new ka("Input is not a number.");return 0}var xo=function(g,I,j){this.type=g,this.input=I,this.labels=[],this.outputs=[];for(var st=0,pt=j;st<pt.length;st+=1){var wt=pt[st],Rt=wt[0],Jt=wt[1];this.labels.push(Rt),this.outputs.push(Jt)}};xo.parse=function(g,I){if(g.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(g.length-1)+".");if((g.length-1)%2!==0)return I.error("Expected an even number of arguments.");var j=I.parse(g[1],1,Wr);if(!j)return null;var st=[],pt=null;I.expectedType&&I.expectedType.kind!=="value"&&(pt=I.expectedType);for(var wt=1;wt<g.length;wt+=2){var Rt=wt===1?-1/0:g[wt],Jt=g[wt+1],ue=wt,_e=wt+1;if(typeof Rt!="number")return I.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ue);if(st.length&&st[st.length-1][0]>=Rt)return I.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ue);var Oe=I.parse(Jt,_e,pt);if(!Oe)return null;pt=pt||Oe.type,st.push([Rt,Oe])}return new xo(pt,j,st)},xo.prototype.evaluate=function(g){var I=this.labels,j=this.outputs;if(I.length===1)return j[0].evaluate(g);var st=this.input.evaluate(g);if(st<=I[0])return j[0].evaluate(g);var pt=I.length;if(st>=I[pt-1])return j[pt-1].evaluate(g);var wt=Cs(I,st);return j[wt].evaluate(g)},xo.prototype.eachChild=function(g){g(this.input);for(var I=0,j=this.outputs;I<j.length;I+=1){var st=j[I];g(st)}},xo.prototype.outputDefined=function(){return this.outputs.every(function(g){return g.outputDefined()})},xo.prototype.serialize=function(){for(var g=["step",this.input.serialize()],I=0;I<this.labels.length;I++)I>0&&g.push(this.labels[I]),g.push(this.outputs[I].serialize());return g};function va(g,I,j){return g*(1-j)+I*j}function Zl(g,I,j){return new qi(va(g.r,I.r,j),va(g.g,I.g,j),va(g.b,I.b,j),va(g.a,I.a,j))}function ic(g,I,j){return g.map(function(st,pt){return va(st,I[pt],j)})}var Tl=Object.freeze({__proto__:null,number:va,color:Zl,array:ic}),Rs=.95047,Os=1,to=1.08883,kl=4/29,Ps=6/29,Ml=3*Ps*Ps,ac=Ps*Ps*Ps,wu=Math.PI/180,Kl=180/Math.PI;function Jl(g){return g>ac?Math.pow(g,.3333333333333333):g/Ml+kl}function $l(g){return g>Ps?g*g*g:Ml*(g-kl)}function zs(g){return 255*(g<=.0031308?12.92*g:1.055*Math.pow(g,.4166666666666667)-.055)}function El(g){return g/=255,g<=.04045?g/12.92:Math.pow((g+.055)/1.055,2.4)}function Ks(g){var I=El(g.r),j=El(g.g),st=El(g.b),pt=Jl((.4124564*I+.3575761*j+.1804375*st)/Rs),wt=Jl((.2126729*I+.7151522*j+.072175*st)/Os),Rt=Jl((.0193339*I+.119192*j+.9503041*st)/to);return{l:116*wt-16,a:500*(pt-wt),b:200*(wt-Rt),alpha:g.a}}function Ll(g){var I=(g.l+16)/116,j=isNaN(g.a)?I:I+g.a/500,st=isNaN(g.b)?I:I-g.b/200;return I=Os*$l(I),j=Rs*$l(j),st=to*$l(st),new qi(zs(3.2404542*j-1.5371385*I-.4985314*st),zs(-.969266*j+1.8760108*I+.041556*st),zs(.0556434*j-.2040259*I+1.0572252*st),g.alpha)}function ea(g,I,j){return{l:va(g.l,I.l,j),a:va(g.a,I.a,j),b:va(g.b,I.b,j),alpha:va(g.alpha,I.alpha,j)}}function Au(g){var I=Ks(g),j=I.l,st=I.a,pt=I.b,wt=Math.atan2(pt,st)*Kl;return{h:wt<0?wt+360:wt,c:Math.sqrt(st*st+pt*pt),l:j,alpha:g.a}}function bo(g){var I=g.h*wu,j=g.c,st=g.l;return Ll({l:st,a:Math.cos(I)*j,b:Math.sin(I)*j,alpha:g.alpha})}function Tu(g,I,j){var st=I-g;return g+j*(st>180||st<-180?st-360*Math.round(st/360):st)}function Ql(g,I,j){return{h:Tu(g.h,I.h,j),c:va(g.c,I.c,j),l:va(g.l,I.l,j),alpha:va(g.alpha,I.alpha,j)}}var vs={forward:Ks,reverse:Ll,interpolate:ea},rs={forward:Au,reverse:bo,interpolate:Ql},Sl=Object.freeze({__proto__:null,lab:vs,hcl:rs}),ya=function(g,I,j,st,pt){this.type=g,this.operator=I,this.interpolation=j,this.input=st,this.labels=[],this.outputs=[];for(var wt=0,Rt=pt;wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=Jt[0],_e=Jt[1];this.labels.push(ue),this.outputs.push(_e)}};ya.interpolationFactor=function(g,I,j,st){var pt=0;if(g.name==="exponential")pt=Js(I,g.base,j,st);else if(g.name==="linear")pt=Js(I,1,j,st);else if(g.name==="cubic-bezier"){var wt=g.controlPoints,Rt=new v(wt[0],wt[1],wt[2],wt[3]);pt=Rt.solve(Js(I,1,j,st))}return pt},ya.parse=function(g,I){var j=g[0],st=g[1],pt=g[2],wt=g.slice(3);if(!Array.isArray(st)||st.length===0)return I.error("Expected an interpolation type expression.",1);if(st[0]==="linear")st={name:"linear"};else if(st[0]==="exponential"){var Rt=st[1];if(typeof Rt!="number")return I.error("Exponential interpolation requires a numeric base.",1,1);st={name:"exponential",base:Rt}}else if(st[0]==="cubic-bezier"){var Jt=st.slice(1);if(Jt.length!==4||Jt.some(function(ln){return typeof ln!="number"||ln<0||ln>1}))return I.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);st={name:"cubic-bezier",controlPoints:Jt}}else return I.error("Unknown interpolation type "+String(st[0]),1,0);if(g.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(g.length-1)+".");if((g.length-1)%2!==0)return I.error("Expected an even number of arguments.");if(pt=I.parse(pt,2,Wr),!pt)return null;var ue=[],_e=null;j==="interpolate-hcl"||j==="interpolate-lab"?_e=xn:I.expectedType&&I.expectedType.kind!=="value"&&(_e=I.expectedType);for(var Oe=0;Oe<wt.length;Oe+=2){var je=wt[Oe],Xe=wt[Oe+1],nr=Oe+3,_r=Oe+4;if(typeof je!="number")return I.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',nr);if(ue.length&&ue[ue.length-1][0]>=je)return I.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',nr);var zr=I.parse(Xe,_r,_e);if(!zr)return null;_e=_e||zr.type,ue.push([je,zr])}return _e.kind!=="number"&&_e.kind!=="color"&&!(_e.kind==="array"&&_e.itemType.kind==="number"&&typeof _e.N=="number")?I.error("Type "+Gi(_e)+" is not interpolatable."):new ya(_e,j,st,pt,ue)},ya.prototype.evaluate=function(g){var I=this.labels,j=this.outputs;if(I.length===1)return j[0].evaluate(g);var st=this.input.evaluate(g);if(st<=I[0])return j[0].evaluate(g);var pt=I.length;if(st>=I[pt-1])return j[pt-1].evaluate(g);var wt=Cs(I,st),Rt=I[wt],Jt=I[wt+1],ue=ya.interpolationFactor(this.interpolation,st,Rt,Jt),_e=j[wt].evaluate(g),Oe=j[wt+1].evaluate(g);return this.operator==="interpolate"?Tl[this.type.kind.toLowerCase()](_e,Oe,ue):this.operator==="interpolate-hcl"?rs.reverse(rs.interpolate(rs.forward(_e),rs.forward(Oe),ue)):vs.reverse(vs.interpolate(vs.forward(_e),vs.forward(Oe),ue))},ya.prototype.eachChild=function(g){g(this.input);for(var I=0,j=this.outputs;I<j.length;I+=1){var st=j[I];g(st)}},ya.prototype.outputDefined=function(){return this.outputs.every(function(g){return g.outputDefined()})},ya.prototype.serialize=function(){var g;this.interpolation.name==="linear"?g=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?g=["linear"]:g=["exponential",this.interpolation.base]:g=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var I=[this.operator,g,this.input.serialize()],j=0;j<this.labels.length;j++)I.push(this.labels[j],this.outputs[j].serialize());return I};function Js(g,I,j,st){var pt=st-j,wt=g-j;return pt===0?0:I===1?wt/pt:(Math.pow(I,wt)-1)/(Math.pow(I,pt)-1)}var _o=function(g,I){this.type=g,this.args=I};_o.parse=function(g,I){if(g.length<2)return I.error("Expectected at least one argument.");var j=null,st=I.expectedType;st&&st.kind!=="value"&&(j=st);for(var pt=[],wt=0,Rt=g.slice(1);wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=I.parse(Jt,1+pt.length,j,void 0,{typeAnnotation:"omit"});if(!ue)return null;j=j||ue.type,pt.push(ue)}var _e=st&&pt.some(function(Oe){return $a(st,Oe.type)});return _e?new _o(Sn,pt):new _o(j,pt)},_o.prototype.evaluate=function(g){for(var I=null,j=0,st,pt=0,wt=this.args;pt<wt.length;pt+=1){var Rt=wt[pt];if(j++,I=Rt.evaluate(g),I&&I instanceof Va&&!I.available&&(st||(st=I.name),I=null,j===this.args.length&&(I=st)),I!==null)break}return I},_o.prototype.eachChild=function(g){this.args.forEach(g)},_o.prototype.outputDefined=function(){return this.args.every(function(g){return g.outputDefined()})},_o.prototype.serialize=function(){var g=["coalesce"];return this.eachChild(function(I){g.push(I.serialize())}),g};var Uo=function(g,I){this.type=I.type,this.bindings=[].concat(g),this.result=I};Uo.prototype.evaluate=function(g){return this.result.evaluate(g)},Uo.prototype.eachChild=function(g){for(var I=0,j=this.bindings;I<j.length;I+=1){var st=j[I];g(st[1])}g(this.result)},Uo.parse=function(g,I){if(g.length<4)return I.error("Expected at least 3 arguments, but found "+(g.length-1)+" instead.");for(var j=[],st=1;st<g.length-1;st+=2){var pt=g[st];if(typeof pt!="string")return I.error("Expected string, but found "+typeof pt+" instead.",st);if(/[^a-zA-Z0-9_]/.test(pt))return I.error("Variable names must contain only alphanumeric characters or '_'.",st);var wt=I.parse(g[st+1],st+1);if(!wt)return null;j.push([pt,wt])}var Rt=I.parse(g[g.length-1],g.length-1,I.expectedType,j);return Rt?new Uo(j,Rt):null},Uo.prototype.outputDefined=function(){return this.result.outputDefined()},Uo.prototype.serialize=function(){for(var g=["let"],I=0,j=this.bindings;I<j.length;I+=1){var st=j[I],pt=st[0],wt=st[1];g.push(pt,wt.serialize())}return g.push(this.result.serialize()),g};var gs=function(g,I,j){this.type=g,this.index=I,this.input=j};gs.parse=function(g,I){if(g.length!==3)return I.error("Expected 2 arguments, but found "+(g.length-1)+" instead.");var j=I.parse(g[1],1,Wr),st=I.parse(g[2],2,ta(I.expectedType||Sn));if(!j||!st)return null;var pt=st.type;return new gs(pt.itemType,j,st)},gs.prototype.evaluate=function(g){var I=this.index.evaluate(g),j=this.input.evaluate(g);if(I<0)throw new ka("Array index out of bounds: "+I+" < 0.");if(I>=j.length)throw new ka("Array index out of bounds: "+I+" > "+(j.length-1)+".");if(I!==Math.floor(I))throw new ka("Array index must be an integer, but found "+I+" instead.");return j[I]},gs.prototype.eachChild=function(g){g(this.index),g(this.input)},gs.prototype.outputDefined=function(){return!1},gs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ns=function(g,I){this.type=kn,this.needle=g,this.haystack=I};ns.parse=function(g,I){if(g.length!==3)return I.error("Expected 2 arguments, but found "+(g.length-1)+" instead.");var j=I.parse(g[1],1,Sn),st=I.parse(g[2],2,Sn);return!j||!st?null:za(j.type,[kn,mn,Wr,Fr,Sn])?new ns(j,st):I.error("Expected first argument to be of type boolean, string, number or null, but found "+Gi(j.type)+" instead")},ns.prototype.evaluate=function(g){var I=this.needle.evaluate(g),j=this.haystack.evaluate(g);if(!j)return!1;if(!Ts(I,["boolean","string","number","null"]))throw new ka("Expected first argument to be of type boolean, string, number or null, but found "+Gi(ma(I))+" instead.");if(!Ts(j,["string","array"]))throw new ka("Expected second argument to be of type array or string, but found "+Gi(ma(j))+" instead.");return j.indexOf(I)>=0},ns.prototype.eachChild=function(g){g(this.needle),g(this.haystack)},ns.prototype.outputDefined=function(){return!0},ns.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var wo=function(g,I,j){this.type=Wr,this.needle=g,this.haystack=I,this.fromIndex=j};wo.parse=function(g,I){if(g.length<=2||g.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(g.length-1)+" instead.");var j=I.parse(g[1],1,Sn),st=I.parse(g[2],2,Sn);if(!j||!st)return null;if(!za(j.type,[kn,mn,Wr,Fr,Sn]))return I.error("Expected first argument to be of type boolean, string, number or null, but found "+Gi(j.type)+" instead");if(g.length===4){var pt=I.parse(g[3],3,Wr);return pt?new wo(j,st,pt):null}else return new wo(j,st)},wo.prototype.evaluate=function(g){var I=this.needle.evaluate(g),j=this.haystack.evaluate(g);if(!Ts(I,["boolean","string","number","null"]))throw new ka("Expected first argument to be of type boolean, string, number or null, but found "+Gi(ma(I))+" instead.");if(!Ts(j,["string","array"]))throw new ka("Expected second argument to be of type array or string, but found "+Gi(ma(j))+" instead.");if(this.fromIndex){var st=this.fromIndex.evaluate(g);return j.indexOf(I,st)}return j.indexOf(I)},wo.prototype.eachChild=function(g){g(this.needle),g(this.haystack),this.fromIndex&&g(this.fromIndex)},wo.prototype.outputDefined=function(){return!1},wo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var g=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),g]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var qo=function(g,I,j,st,pt,wt){this.inputType=g,this.type=I,this.input=j,this.cases=st,this.outputs=pt,this.otherwise=wt};qo.parse=function(g,I){if(g.length<5)return I.error("Expected at least 4 arguments, but found only "+(g.length-1)+".");if(g.length%2!==1)return I.error("Expected an even number of arguments.");var j,st;I.expectedType&&I.expectedType.kind!=="value"&&(st=I.expectedType);for(var pt={},wt=[],Rt=2;Rt<g.length-1;Rt+=2){var Jt=g[Rt],ue=g[Rt+1];Array.isArray(Jt)||(Jt=[Jt]);var _e=I.concat(Rt);if(Jt.length===0)return _e.error("Expected at least one branch label.");for(var Oe=0,je=Jt;Oe<je.length;Oe+=1){var Xe=je[Oe];if(typeof Xe!="number"&&typeof Xe!="string")return _e.error("Branch labels must be numbers or strings.");if(typeof Xe=="number"&&Math.abs(Xe)>Number.MAX_SAFE_INTEGER)return _e.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Xe=="number"&&Math.floor(Xe)!==Xe)return _e.error("Numeric branch labels must be integer values.");if(!j)j=ma(Xe);else if(_e.checkSubtype(j,ma(Xe)))return null;if(typeof pt[String(Xe)]<"u")return _e.error("Branch labels must be unique.");pt[String(Xe)]=wt.length}var nr=I.parse(ue,Rt,st);if(!nr)return null;st=st||nr.type,wt.push(nr)}var _r=I.parse(g[1],1,Sn);if(!_r)return null;var zr=I.parse(g[g.length-1],g.length-1,st);return!zr||_r.type.kind!=="value"&&I.concat(1).checkSubtype(j,_r.type)?null:new qo(j,st,_r,pt,wt,zr)},qo.prototype.evaluate=function(g){var I=this.input.evaluate(g),j=ma(I)===this.inputType&&this.outputs[this.cases[I]]||this.otherwise;return j.evaluate(g)},qo.prototype.eachChild=function(g){g(this.input),this.outputs.forEach(g),g(this.otherwise)},qo.prototype.outputDefined=function(){return this.outputs.every(function(g){return g.outputDefined()})&&this.otherwise.outputDefined()},qo.prototype.serialize=function(){for(var g=this,I=["match",this.input.serialize()],j=Object.keys(this.cases).sort(),st=[],pt={},wt=0,Rt=j;wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=pt[this.cases[Jt]];ue===void 0?(pt[this.cases[Jt]]=st.length,st.push([this.cases[Jt],[Jt]])):st[ue][1].push(Jt)}for(var _e=function(_r){return g.inputType.kind==="number"?Number(_r):_r},Oe=0,je=st;Oe<je.length;Oe+=1){var Xe=je[Oe],ue=Xe[0],nr=Xe[1];nr.length===1?I.push(_e(nr[0])):I.push(nr.map(_e)),I.push(this.outputs[outputIndex$1].serialize())}return I.push(this.otherwise.serialize()),I};var Ao=function(g,I,j){this.type=g,this.branches=I,this.otherwise=j};Ao.parse=function(g,I){if(g.length<4)return I.error("Expected at least 3 arguments, but found only "+(g.length-1)+".");if(g.length%2!==0)return I.error("Expected an odd number of arguments.");var j;I.expectedType&&I.expectedType.kind!=="value"&&(j=I.expectedType);for(var st=[],pt=1;pt<g.length-1;pt+=2){var wt=I.parse(g[pt],pt,kn);if(!wt)return null;var Rt=I.parse(g[pt+1],pt+1,j);if(!Rt)return null;st.push([wt,Rt]),j=j||Rt.type}var Jt=I.parse(g[g.length-1],g.length-1,j);return Jt?new Ao(j,st,Jt):null},Ao.prototype.evaluate=function(g){for(var I=0,j=this.branches;I<j.length;I+=1){var st=j[I],pt=st[0],wt=st[1];if(pt.evaluate(g))return wt.evaluate(g)}return this.otherwise.evaluate(g)},Ao.prototype.eachChild=function(g){for(var I=0,j=this.branches;I<j.length;I+=1){var st=j[I],pt=st[0],wt=st[1];g(pt),g(wt)}g(this.otherwise)},Ao.prototype.outputDefined=function(){return this.branches.every(function(g){g[0];var I=g[1];return I.outputDefined()})&&this.otherwise.outputDefined()},Ao.prototype.serialize=function(){var g=["case"];return this.eachChild(function(I){g.push(I.serialize())}),g};var fo=function(g,I,j,st){this.type=g,this.input=I,this.beginIndex=j,this.endIndex=st};fo.parse=function(g,I){if(g.length<=2||g.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(g.length-1)+" instead.");var j=I.parse(g[1],1,Sn),st=I.parse(g[2],2,Wr);if(!j||!st)return null;if(!za(j.type,[ta(Sn),mn,Sn]))return I.error("Expected first argument to be of type array or string, but found "+Gi(j.type)+" instead");if(g.length===4){var pt=I.parse(g[3],3,Wr);return pt?new fo(j.type,j,st,pt):null}else return new fo(j.type,j,st)},fo.prototype.evaluate=function(g){var I=this.input.evaluate(g),j=this.beginIndex.evaluate(g);if(!Ts(I,["string","array"]))throw new ka("Expected first argument to be of type array or string, but found "+Gi(ma(I))+" instead.");if(this.endIndex){var st=this.endIndex.evaluate(g);return I.slice(j,st)}return I.slice(j)},fo.prototype.eachChild=function(g){g(this.input),g(this.beginIndex),this.endIndex&&g(this.endIndex)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var g=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),g]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function $s(g,I){return g==="=="||g==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function oc(g,I,j){return I===j}function sc(g,I,j){return I!==j}function lc(g,I,j){return I<j}function uc(g,I,j){return I>j}function tu(g,I,j){return I<=j}function ku(g,I,j){return I>=j}function Is(g,I,j,st){return st.compare(I,j)===0}function Ra(g,I,j,st){return!Is(g,I,j,st)}function lo(g,I,j,st){return st.compare(I,j)<0}function Fs(g,I,j,st){return st.compare(I,j)>0}function Mu(g,I,j,st){return st.compare(I,j)<=0}function Qs(g,I,j,st){return st.compare(I,j)>=0}function Yo(g,I,j){var st=g!=="=="&&g!=="!=";return function(){function pt(wt,Rt,Jt){this.type=kn,this.lhs=wt,this.rhs=Rt,this.collator=Jt,this.hasUntypedArgument=wt.type.kind==="value"||Rt.type.kind==="value"}return pt.parse=function(wt,Rt){if(wt.length!==3&&wt.length!==4)return Rt.error("Expected two or three arguments.");var Jt=wt[0],ue=Rt.parse(wt[1],1,Sn);if(!ue)return null;if(!$s(Jt,ue.type))return Rt.concat(1).error('"'+Jt+`" comparisons are not supported for type '`+Gi(ue.type)+"'.");var _e=Rt.parse(wt[2],2,Sn);if(!_e)return null;if(!$s(Jt,_e.type))return Rt.concat(2).error('"'+Jt+`" comparisons are not supported for type '`+Gi(_e.type)+"'.");if(ue.type.kind!==_e.type.kind&&ue.type.kind!=="value"&&_e.type.kind!=="value")return Rt.error("Cannot compare types '"+Gi(ue.type)+"' and '"+Gi(_e.type)+"'.");st&&(ue.type.kind==="value"&&_e.type.kind!=="value"?ue=new Ia(_e.type,[ue]):ue.type.kind!=="value"&&_e.type.kind==="value"&&(_e=new Ia(ue.type,[_e])));var Oe=null;if(wt.length===4){if(ue.type.kind!=="string"&&_e.type.kind!=="string"&&ue.type.kind!=="value"&&_e.type.kind!=="value")return Rt.error("Cannot use collator to compare non-string types.");if(Oe=Rt.parse(wt[3],3,$n),!Oe)return null}return new pt(ue,_e,Oe)},pt.prototype.evaluate=function(wt){var Rt=this.lhs.evaluate(wt),Jt=this.rhs.evaluate(wt);if(st&&this.hasUntypedArgument){var ue=ma(Rt),_e=ma(Jt);if(ue.kind!==_e.kind||!(ue.kind==="string"||ue.kind==="number"))throw new ka('Expected arguments for "'+g+'" to be (string, string) or (number, number), but found ('+ue.kind+", "+_e.kind+") instead.")}if(this.collator&&!st&&this.hasUntypedArgument){var Oe=ma(Rt),je=ma(Jt);if(Oe.kind!=="string"||je.kind!=="string")return I(wt,Rt,Jt)}return this.collator?j(wt,Rt,Jt,this.collator.evaluate(wt)):I(wt,Rt,Jt)},pt.prototype.eachChild=function(wt){wt(this.lhs),wt(this.rhs),this.collator&&wt(this.collator)},pt.prototype.outputDefined=function(){return!0},pt.prototype.serialize=function(){var wt=[g];return this.eachChild(function(Rt){wt.push(Rt.serialize())}),wt},pt}()}var cc=Yo("==",oc,Is),Eu=Yo("!=",sc,Ra),Lu=Yo("<",lc,lo),eu=Yo(">",uc,Fs),Su=Yo("<=",tu,Mu),Za=Yo(">=",ku,Qs),To=function(g,I,j,st,pt){this.type=mn,this.number=g,this.locale=I,this.currency=j,this.minFractionDigits=st,this.maxFractionDigits=pt};To.parse=function(g,I){if(g.length!==3)return I.error("Expected two arguments.");var j=I.parse(g[1],1,Wr);if(!j)return null;var st=g[2];if(typeof st!="object"||Array.isArray(st))return I.error("NumberFormat options argument must be an object.");var pt=null;if(st.locale&&(pt=I.parse(st.locale,1,mn),!pt))return null;var wt=null;if(st.currency&&(wt=I.parse(st.currency,1,mn),!wt))return null;var Rt=null;if(st["min-fraction-digits"]&&(Rt=I.parse(st["min-fraction-digits"],1,Wr),!Rt))return null;var Jt=null;return st["max-fraction-digits"]&&(Jt=I.parse(st["max-fraction-digits"],1,Wr),!Jt)?null:new To(j,pt,wt,Rt,Jt)},To.prototype.evaluate=function(g){return new Intl.NumberFormat(this.locale?this.locale.evaluate(g):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(g):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(g):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(g):void 0}).format(this.number.evaluate(g))},To.prototype.eachChild=function(g){g(this.number),this.locale&&g(this.locale),this.currency&&g(this.currency),this.minFractionDigits&&g(this.minFractionDigits),this.maxFractionDigits&&g(this.maxFractionDigits)},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){var g={};return this.locale&&(g.locale=this.locale.serialize()),this.currency&&(g.currency=this.currency.serialize()),this.minFractionDigits&&(g["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(g["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),g]};var is=function(g){this.type=Wr,this.input=g};is.parse=function(g,I){if(g.length!==2)return I.error("Expected 1 argument, but found "+(g.length-1)+" instead.");var j=I.parse(g[1],1);return j?j.type.kind!=="array"&&j.type.kind!=="string"&&j.type.kind!=="value"?I.error("Expected argument of type string or array, but found "+Gi(j.type)+" instead."):new is(j):null},is.prototype.evaluate=function(g){var I=this.input.evaluate(g);if(typeof I=="string"||Array.isArray(I))return I.length;throw new ka("Expected value to be of type string or array, but found "+Gi(ma(I))+" instead.")},is.prototype.eachChild=function(g){g(this.input)},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){var g=["length"];return this.eachChild(function(I){g.push(I.serialize())}),g};var Ds={"==":cc,"!=":Eu,">":eu,"<":Lu,">=":Za,"<=":Su,array:Ia,at:gs,boolean:Ia,case:Ao,coalesce:_o,collator:ts,format:Fa,image:so,in:ns,"index-of":wo,interpolate:ya,"interpolate-hcl":ya,"interpolate-lab":ya,length:is,let:Uo,literal:ba,match:qo,number:Ia,"number-format":To,object:Ia,slice:fo,step:xo,string:Ia,"to-boolean":Qa,"to-color":Qa,"to-number":Qa,"to-string":Qa,var:es,within:yo};function Cl(g,I){var j=I[0],st=I[1],pt=I[2],wt=I[3];j=j.evaluate(g),st=st.evaluate(g),pt=pt.evaluate(g);var Rt=wt?wt.evaluate(g):1,Jt=ks(j,st,pt,Rt);if(Jt)throw new ka(Jt);return new qi(j/255*Rt,st/255*Rt,pt/255*Rt,Rt)}function ms(g,I){return g in I}function ys(g,I){var j=I[g];return typeof j>"u"?null:j}function Cu(g,I,j,st){for(;j<=st;){var pt=j+st>>1;if(I[pt]===g)return!0;I[pt]>g?st=pt-1:j=pt+1}return!1}function Go(g){return{type:g}}Ca.register(Ds,{error:[ri,[mn],function(g,I){var j=I[0];throw new ka(j.evaluate(g))}],typeof:[mn,[Sn],function(g,I){var j=I[0];return Gi(ma(j.evaluate(g)))}],"to-rgba":[ta(Wr,4),[xn],function(g,I){var j=I[0];return j.evaluate(g).toArray()}],rgb:[xn,[Wr,Wr,Wr],Cl],rgba:[xn,[Wr,Wr,Wr,Wr],Cl],has:{type:kn,overloads:[[[mn],function(g,I){var j=I[0];return ms(j.evaluate(g),g.properties())}],[[mn,Rn],function(g,I){var j=I[0],st=I[1];return ms(j.evaluate(g),st.evaluate(g))}]]},get:{type:Sn,overloads:[[[mn],function(g,I){var j=I[0];return ys(j.evaluate(g),g.properties())}],[[mn,Rn],function(g,I){var j=I[0],st=I[1];return ys(j.evaluate(g),st.evaluate(g))}]]},"feature-state":[Sn,[mn],function(g,I){var j=I[0];return ys(j.evaluate(g),g.featureState||{})}],properties:[Rn,[],function(g){return g.properties()}],"geometry-type":[mn,[],function(g){return g.geometryType()}],id:[Sn,[],function(g){return g.id()}],zoom:[Wr,[],function(g){return g.globals.zoom}],"heatmap-density":[Wr,[],function(g){return g.globals.heatmapDensity||0}],"line-progress":[Wr,[],function(g){return g.globals.lineProgress||0}],accumulated:[Sn,[],function(g){return g.globals.accumulated===void 0?null:g.globals.accumulated}],"+":[Wr,Go(Wr),function(g,I){for(var j=0,st=0,pt=I;st<pt.length;st+=1){var wt=pt[st];j+=wt.evaluate(g)}return j}],"*":[Wr,Go(Wr),function(g,I){for(var j=1,st=0,pt=I;st<pt.length;st+=1){var wt=pt[st];j*=wt.evaluate(g)}return j}],"-":{type:Wr,overloads:[[[Wr,Wr],function(g,I){var j=I[0],st=I[1];return j.evaluate(g)-st.evaluate(g)}],[[Wr],function(g,I){var j=I[0];return-j.evaluate(g)}]]},"/":[Wr,[Wr,Wr],function(g,I){var j=I[0],st=I[1];return j.evaluate(g)/st.evaluate(g)}],"%":[Wr,[Wr,Wr],function(g,I){var j=I[0],st=I[1];return j.evaluate(g)%st.evaluate(g)}],ln2:[Wr,[],function(){return Math.LN2}],pi:[Wr,[],function(){return Math.PI}],e:[Wr,[],function(){return Math.E}],"^":[Wr,[Wr,Wr],function(g,I){var j=I[0],st=I[1];return Math.pow(j.evaluate(g),st.evaluate(g))}],sqrt:[Wr,[Wr],function(g,I){var j=I[0];return Math.sqrt(j.evaluate(g))}],log10:[Wr,[Wr],function(g,I){var j=I[0];return Math.log(j.evaluate(g))/Math.LN10}],ln:[Wr,[Wr],function(g,I){var j=I[0];return Math.log(j.evaluate(g))}],log2:[Wr,[Wr],function(g,I){var j=I[0];return Math.log(j.evaluate(g))/Math.LN2}],sin:[Wr,[Wr],function(g,I){var j=I[0];return Math.sin(j.evaluate(g))}],cos:[Wr,[Wr],function(g,I){var j=I[0];return Math.cos(j.evaluate(g))}],tan:[Wr,[Wr],function(g,I){var j=I[0];return Math.tan(j.evaluate(g))}],asin:[Wr,[Wr],function(g,I){var j=I[0];return Math.asin(j.evaluate(g))}],acos:[Wr,[Wr],function(g,I){var j=I[0];return Math.acos(j.evaluate(g))}],atan:[Wr,[Wr],function(g,I){var j=I[0];return Math.atan(j.evaluate(g))}],min:[Wr,Go(Wr),function(g,I){return Math.min.apply(Math,I.map(function(j){return j.evaluate(g)}))}],max:[Wr,Go(Wr),function(g,I){return Math.max.apply(Math,I.map(function(j){return j.evaluate(g)}))}],abs:[Wr,[Wr],function(g,I){var j=I[0];return Math.abs(j.evaluate(g))}],round:[Wr,[Wr],function(g,I){var j=I[0],st=j.evaluate(g);return st<0?-Math.round(-st):Math.round(st)}],floor:[Wr,[Wr],function(g,I){var j=I[0];return Math.floor(j.evaluate(g))}],ceil:[Wr,[Wr],function(g,I){var j=I[0];return Math.ceil(j.evaluate(g))}],"filter-==":[kn,[mn,Sn],function(g,I){var j=I[0],st=I[1];return g.properties()[j.value]===st.value}],"filter-id-==":[kn,[Sn],function(g,I){var j=I[0];return g.id()===j.value}],"filter-type-==":[kn,[mn],function(g,I){var j=I[0];return g.geometryType()===j.value}],"filter-<":[kn,[mn,Sn],function(g,I){var j=I[0],st=I[1],pt=g.properties()[j.value],wt=st.value;return typeof pt==typeof wt&&pt<wt}],"filter-id-<":[kn,[Sn],function(g,I){var j=I[0],st=g.id(),pt=j.value;return typeof st==typeof pt&&st<pt}],"filter->":[kn,[mn,Sn],function(g,I){var j=I[0],st=I[1],pt=g.properties()[j.value],wt=st.value;return typeof pt==typeof wt&&pt>wt}],"filter-id->":[kn,[Sn],function(g,I){var j=I[0],st=g.id(),pt=j.value;return typeof st==typeof pt&&st>pt}],"filter-<=":[kn,[mn,Sn],function(g,I){var j=I[0],st=I[1],pt=g.properties()[j.value],wt=st.value;return typeof pt==typeof wt&&pt<=wt}],"filter-id-<=":[kn,[Sn],function(g,I){var j=I[0],st=g.id(),pt=j.value;return typeof st==typeof pt&&st<=pt}],"filter->=":[kn,[mn,Sn],function(g,I){var j=I[0],st=I[1],pt=g.properties()[j.value],wt=st.value;return typeof pt==typeof wt&&pt>=wt}],"filter-id->=":[kn,[Sn],function(g,I){var j=I[0],st=g.id(),pt=j.value;return typeof st==typeof pt&&st>=pt}],"filter-has":[kn,[Sn],function(g,I){var j=I[0];return j.value in g.properties()}],"filter-has-id":[kn,[],function(g){return g.id()!==null&&g.id()!==void 0}],"filter-type-in":[kn,[ta(mn)],function(g,I){var j=I[0];return j.value.indexOf(g.geometryType())>=0}],"filter-id-in":[kn,[ta(Sn)],function(g,I){var j=I[0];return j.value.indexOf(g.id())>=0}],"filter-in-small":[kn,[mn,ta(Sn)],function(g,I){var j=I[0],st=I[1];return st.value.indexOf(g.properties()[j.value])>=0}],"filter-in-large":[kn,[mn,ta(Sn)],function(g,I){var j=I[0],st=I[1];return Cu(g.properties()[j.value],st.value,0,st.value.length-1)}],all:{type:kn,overloads:[[[kn,kn],function(g,I){var j=I[0],st=I[1];return j.evaluate(g)&&st.evaluate(g)}],[Go(kn),function(g,I){for(var j=0,st=I;j<st.length;j+=1){var pt=st[j];if(!pt.evaluate(g))return!1}return!0}]]},any:{type:kn,overloads:[[[kn,kn],function(g,I){var j=I[0],st=I[1];return j.evaluate(g)||st.evaluate(g)}],[Go(kn),function(g,I){for(var j=0,st=I;j<st.length;j+=1){var pt=st[j];if(pt.evaluate(g))return!0}return!1}]]},"!":[kn,[kn],function(g,I){var j=I[0];return!j.evaluate(g)}],"is-supported-script":[kn,[mn],function(g,I){var j=I[0],st=g.globals&&g.globals.isSupportedScript;return st?st(j.evaluate(g)):!0}],upcase:[mn,[mn],function(g,I){var j=I[0];return j.evaluate(g).toUpperCase()}],downcase:[mn,[mn],function(g,I){var j=I[0];return j.evaluate(g).toLowerCase()}],concat:[mn,Go(Sn),function(g,I){return I.map(function(j){return Ms(j.evaluate(g))}).join("")}],"resolved-locale":[mn,[$n],function(g,I){var j=I[0];return j.evaluate(g).resolvedLocale()}]});function Ns(g){return{result:"success",value:g}}function as(g){return{result:"error",value:g}}function Ho(g){return g["property-type"]==="data-driven"||g["property-type"]==="cross-faded-data-driven"}function tl(g){return!!g.expression&&g.expression.parameters.indexOf("zoom")>-1}function Bs(g){return!!g.expression&&g.expression.interpolated}function Ji(g){return g instanceof Number?"number":g instanceof String?"string":g instanceof Boolean?"boolean":Array.isArray(g)?"array":g===null?"null":typeof g}function js(g){return typeof g=="object"&&g!==null&&!Array.isArray(g)}function Rl(g){return g}function Ru(g,I){var j=I.type==="color",st=g.stops&&typeof g.stops[0][0]=="object",pt=st||g.property!==void 0,wt=st||!pt,Rt=g.type||(Bs(I)?"exponential":"interval");if(j&&(g=wn({},g),g.stops&&(g.stops=g.stops.map(function(Vn){return[Vn[0],qi.parse(Vn[1])]})),g.default?g.default=qi.parse(g.default):g.default=qi.parse(I.default)),g.colorSpace&&g.colorSpace!=="rgb"&&!Sl[g.colorSpace])throw new Error("Unknown color space: "+g.colorSpace);var Jt,ue,_e;if(Rt==="exponential")Jt=ru;else if(Rt==="interval")Jt=Ol;else if(Rt==="categorical"){Jt=el,ue=Object.create(null);for(var Oe=0,je=g.stops;Oe<je.length;Oe+=1){var Xe=je[Oe];ue[Xe[0]]=Xe[1]}_e=typeof g.stops[0][0]}else if(Rt==="identity")Jt=rl;else throw new Error('Unknown function type "'+Rt+'"');if(st){for(var nr={},_r=[],zr=0;zr<g.stops.length;zr++){var ln=g.stops[zr],en=ln[0].zoom;nr[en]===void 0&&(nr[en]={zoom:en,type:g.type,property:g.property,default:g.default,stops:[]},_r.push(en)),nr[en].stops.push([ln[0].value,ln[1]])}for(var dn=[],bn=0,hn=_r;bn<hn.length;bn+=1){var On=hn[bn];dn.push([nr[On].zoom,Ru(nr[On],I)])}var Un={name:"linear"};return{kind:"composite",interpolationType:Un,interpolationFactor:ya.interpolationFactor.bind(void 0,Un),zoomStops:dn.map(function(Vn){return Vn[0]}),evaluate:function(Vn,fi){var hi=Vn.zoom;return ru({stops:dn,base:g.base},I,hi).evaluate(hi,fi)}}}else if(wt){var Xn=Rt==="exponential"?{name:"exponential",base:g.base!==void 0?g.base:1}:null;return{kind:"camera",interpolationType:Xn,interpolationFactor:ya.interpolationFactor.bind(void 0,Xn),zoomStops:g.stops.map(function(Vn){return Vn[0]}),evaluate:function(Vn){var fi=Vn.zoom;return Jt(g,I,fi,ue,_e)}}}else return{kind:"source",evaluate:function(Vn,fi){var hi=fi&&fi.properties?fi.properties[g.property]:void 0;return hi===void 0?Us(g.default,I.default):Jt(g,I,hi,ue,_e)}}}function Us(g,I,j){if(g!==void 0)return g;if(I!==void 0)return I;if(j!==void 0)return j}function el(g,I,j,st,pt){var wt=typeof j===pt?st[j]:void 0;return Us(wt,g.default,I.default)}function Ol(g,I,j){if(Ji(j)!=="number")return Us(g.default,I.default);var st=g.stops.length;if(st===1||j<=g.stops[0][0])return g.stops[0][1];if(j>=g.stops[st-1][0])return g.stops[st-1][1];var pt=Cs(g.stops.map(function(wt){return wt[0]}),j);return g.stops[pt][1]}function ru(g,I,j){var st=g.base!==void 0?g.base:1;if(Ji(j)!=="number")return Us(g.default,I.default);var pt=g.stops.length;if(pt===1||j<=g.stops[0][0])return g.stops[0][1];if(j>=g.stops[pt-1][0])return g.stops[pt-1][1];var wt=Cs(g.stops.map(function(je){return je[0]}),j),Rt=nl(j,st,g.stops[wt][0],g.stops[wt+1][0]),Jt=g.stops[wt][1],ue=g.stops[wt+1][1],_e=Tl[I.type]||Rl;if(g.colorSpace&&g.colorSpace!=="rgb"){var Oe=Sl[g.colorSpace];_e=function(je,Xe){return Oe.reverse(Oe.interpolate(Oe.forward(je),Oe.forward(Xe),Rt))}}return typeof Jt.evaluate=="function"?{evaluate:function(){for(var je=[],Xe=arguments.length;Xe--;)je[Xe]=arguments[Xe];var nr=Jt.evaluate.apply(void 0,je),_r=ue.evaluate.apply(void 0,je);if(!(nr===void 0||_r===void 0))return _e(nr,_r,Rt)}}:_e(Jt,ue,Rt)}function rl(g,I,j){return I.type==="color"?j=qi.parse(j):I.type==="formatted"?j=Sa.fromString(j.toString()):I.type==="resolvedImage"?j=Va.fromString(j.toString()):Ji(j)!==I.type&&(I.type!=="enum"||!I.values[j])&&(j=void 0),Us(j,g.default,I.default)}function nl(g,I,j,st){var pt=st-j,wt=g-j;return pt===0?0:I===1?wt/pt:(Math.pow(I,wt)-1)/(Math.pow(I,pt)-1)}var os=function(g,I){this.expression=g,this._warningHistory={},this._evaluator=new Ro,this._defaultValue=I?Ou(I):null,this._enumValues=I&&I.type==="enum"?I.values:null};os.prototype.evaluateWithoutErrorHandling=function(g,I,j,st,pt,wt){return this._evaluator.globals=g,this._evaluator.feature=I,this._evaluator.featureState=j,this._evaluator.canonical=st,this._evaluator.availableImages=pt||null,this._evaluator.formattedSection=wt,this.expression.evaluate(this._evaluator)},os.prototype.evaluate=function(g,I,j,st,pt,wt){this._evaluator.globals=g,this._evaluator.feature=I||null,this._evaluator.featureState=j||null,this._evaluator.canonical=st,this._evaluator.availableImages=pt||null,this._evaluator.formattedSection=wt||null;try{var Rt=this.expression.evaluate(this._evaluator);if(Rt==null||typeof Rt=="number"&&Rt!==Rt)return this._defaultValue;if(this._enumValues&&!(Rt in this._enumValues))throw new ka("Expected value to be one of "+Object.keys(this._enumValues).map(function(Jt){return JSON.stringify(Jt)}).join(", ")+", but found "+JSON.stringify(Rt)+" instead.");return Rt}catch(Jt){return this._warningHistory[Jt.message]||(this._warningHistory[Jt.message]=!0,typeof console<"u"&&console.warn(Jt.message)),this._defaultValue}};function il(g){return Array.isArray(g)&&g.length>0&&typeof g[0]=="string"&&g[0]in Ds}function ss(g,I){var j=new Po(Ds,[],I?fc(I):void 0),st=j.parse(g,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return st?Ns(new os(st,I)):as(j.errors)}var Ma=function(g,I){this.kind=g,this._styleExpression=I,this.isStateDependent=g!=="constant"&&!ds(I.expression)};Ma.prototype.evaluateWithoutErrorHandling=function(g,I,j,st,pt,wt){return this._styleExpression.evaluateWithoutErrorHandling(g,I,j,st,pt,wt)},Ma.prototype.evaluate=function(g,I,j,st,pt,wt){return this._styleExpression.evaluate(g,I,j,st,pt,wt)};var zo=function(g,I,j,st){this.kind=g,this.zoomStops=j,this._styleExpression=I,this.isStateDependent=g!=="camera"&&!ds(I.expression),this.interpolationType=st};zo.prototype.evaluateWithoutErrorHandling=function(g,I,j,st,pt,wt){return this._styleExpression.evaluateWithoutErrorHandling(g,I,j,st,pt,wt)},zo.prototype.evaluate=function(g,I,j,st,pt,wt){return this._styleExpression.evaluate(g,I,j,st,pt,wt)},zo.prototype.interpolationFactor=function(g,I,j){return this.interpolationType?ya.interpolationFactor(this.interpolationType,g,I,j):0};function nu(g,I){if(g=ss(g,I),g.result==="error")return g;var j=g.value.expression,st=Ss(j);if(!st&&!Ho(I))return as([new xr("","data expressions not supported")]);var pt=Zs(j,["zoom"]);if(!pt&&!tl(I))return as([new xr("","zoom expressions not supported")]);var wt=al(j);if(!wt&&!pt)return as([new xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(wt instanceof xr)return as([wt]);if(wt instanceof ya&&!Bs(I))return as([new xr("",'"interpolate" expressions cannot be used with this property')]);if(!wt)return Ns(st?new Ma("constant",g.value):new Ma("source",g.value));var Rt=wt instanceof ya?wt.interpolation:void 0;return Ns(st?new zo("camera",g.value,wt.labels,Rt):new zo("composite",g.value,wt.labels,Rt))}var xs=function(g,I){this._parameters=g,this._specification=I,wn(this,Ru(this._parameters,this._specification))};xs.deserialize=function(g){return new xs(g._parameters,g._specification)},xs.serialize=function(g){return{_parameters:g._parameters,_specification:g._specification}};function Pl(g,I){if(js(g))return new xs(g,I);if(il(g)){var j=nu(g,I);if(j.result==="error")throw new Error(j.value.map(function(pt){return pt.key+": "+pt.message}).join(", "));return j.value}else{var st=g;return typeof g=="string"&&I.type==="color"&&(st=qi.parse(g)),{kind:"constant",evaluate:function(){return st}}}}function al(g){var I=null;if(g instanceof Uo)I=al(g.result);else if(g instanceof _o)for(var j=0,st=g.args;j<st.length;j+=1){var pt=st[j];if(I=al(pt),I)break}else(g instanceof xo||g instanceof ya)&&g.input instanceof Ca&&g.input.name==="zoom"&&(I=g);return I instanceof xr||g.eachChild(function(wt){var Rt=al(wt);Rt instanceof xr?I=Rt:!I&&Rt?I=new xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Rt&&I!==Rt&&(I=new xr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function fc(g){var I={color:xn,string:mn,number:Wr,enum:mn,boolean:kn,formatted:oi,resolvedImage:_i};return g.type==="array"?ta(I[g.value]||Sn,g.length):I[g.type]}function Ou(g){return g.type==="color"&&js(g.default)?new qi(0,0,0,0):g.type==="color"?qi.parse(g.default)||null:g.default===void 0?null:g.default}function Ha(g){var I=g.key,j=g.value,st=g.valueSpec||{},pt=g.objectElementValidators||{},wt=g.style,Rt=g.styleSpec,Jt=[],ue=Ji(j);if(ue!=="object")return[new Pr(I,j,"object expected, "+ue+" found")];for(var _e in j){var Oe=_e.split(".")[0],je=st[Oe]||st["*"],Xe=void 0;if(pt[Oe])Xe=pt[Oe];else if(st[Oe])Xe=Tr;else if(pt["*"])Xe=pt["*"];else if(st["*"])Xe=Tr;else{Jt.push(new Pr(I,j[_e],'unknown property "'+_e+'"'));continue}Jt=Jt.concat(Xe({key:(I&&I+".")+_e,value:j[_e],valueSpec:je,style:wt,styleSpec:Rt,object:j,objectKey:_e},j))}for(var nr in st)pt[nr]||st[nr].required&&st[nr].default===void 0&&j[nr]===void 0&&Jt.push(new Pr(I,j,'missing required property "'+nr+'"'));return Jt}function ol(g){var I=g.value,j=g.valueSpec,st=g.style,pt=g.styleSpec,wt=g.key,Rt=g.arrayElementValidator||Tr;if(Ji(I)!=="array")return[new Pr(wt,I,"array expected, "+Ji(I)+" found")];if(j.length&&I.length!==j.length)return[new Pr(wt,I,"array length "+j.length+" expected, length "+I.length+" found")];if(j["min-length"]&&I.length<j["min-length"])return[new Pr(wt,I,"array length at least "+j["min-length"]+" expected, length "+I.length+" found")];var Jt={type:j.value,values:j.values};pt.$version<7&&(Jt.function=j.function),Ji(j.value)==="object"&&(Jt=j.value);for(var ue=[],_e=0;_e<I.length;_e++)ue=ue.concat(Rt({array:I,arrayIndex:_e,value:I[_e],valueSpec:Jt,style:st,styleSpec:pt,key:wt+"["+_e+"]"}));return ue}function qs(g){var I=g.key,j=g.value,st=g.valueSpec,pt=Ji(j);return pt==="number"&&j!==j&&(pt="NaN"),pt!=="number"?[new Pr(I,j,"number expected, "+pt+" found")]:"minimum"in st&&j<st.minimum?[new Pr(I,j,j+" is less than the minimum value "+st.minimum)]:"maximum"in st&&j>st.maximum?[new Pr(I,j,j+" is greater than the maximum value "+st.maximum)]:[]}function Pu(g){var I=g.valueSpec,j=un(g.value.type),st,pt={},wt,Rt,Jt=j!=="categorical"&&g.value.property===void 0,ue=!Jt,_e=Ji(g.value.stops)==="array"&&Ji(g.value.stops[0])==="array"&&Ji(g.value.stops[0][0])==="object",Oe=Ha({key:g.key,value:g.value,valueSpec:g.styleSpec.function,style:g.style,styleSpec:g.styleSpec,objectElementValidators:{stops:je,default:_r}});return j==="identity"&&Jt&&Oe.push(new Pr(g.key,g.value,'missing required property "property"')),j!=="identity"&&!g.value.stops&&Oe.push(new Pr(g.key,g.value,'missing required property "stops"')),j==="exponential"&&g.valueSpec.expression&&!Bs(g.valueSpec)&&Oe.push(new Pr(g.key,g.value,"exponential functions not supported")),g.styleSpec.$version>=8&&(ue&&!Ho(g.valueSpec)?Oe.push(new Pr(g.key,g.value,"property functions not supported")):Jt&&!tl(g.valueSpec)&&Oe.push(new Pr(g.key,g.value,"zoom functions not supported"))),(j==="categorical"||_e)&&g.value.property===void 0&&Oe.push(new Pr(g.key,g.value,'"property" property is required')),Oe;function je(zr){if(j==="identity")return[new Pr(zr.key,zr.value,'identity function may not have a "stops" property')];var ln=[],en=zr.value;return ln=ln.concat(ol({key:zr.key,value:en,valueSpec:zr.valueSpec,style:zr.style,styleSpec:zr.styleSpec,arrayElementValidator:Xe})),Ji(en)==="array"&&en.length===0&&ln.push(new Pr(zr.key,en,"array must have at least one stop")),ln}function Xe(zr){var ln=[],en=zr.value,dn=zr.key;if(Ji(en)!=="array")return[new Pr(dn,en,"array expected, "+Ji(en)+" found")];if(en.length!==2)return[new Pr(dn,en,"array length 2 expected, length "+en.length+" found")];if(_e){if(Ji(en[0])!=="object")return[new Pr(dn,en,"object expected, "+Ji(en[0])+" found")];if(en[0].zoom===void 0)return[new Pr(dn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new Pr(dn,en,"object stop key must have value")];if(Rt&&Rt>un(en[0].zoom))return[new Pr(dn,en[0].zoom,"stop zoom values must appear in ascending order")];un(en[0].zoom)!==Rt&&(Rt=un(en[0].zoom),wt=void 0,pt={}),ln=ln.concat(Ha({key:dn+"[0]",value:en[0],valueSpec:{zoom:{}},style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{zoom:qs,value:nr}}))}else ln=ln.concat(nr({key:dn+"[0]",value:en[0],valueSpec:{},style:zr.style,styleSpec:zr.styleSpec},en));return il(tn(en[1]))?ln.concat([new Pr(dn+"[1]",en[1],"expressions are not allowed in function stops.")]):ln.concat(Tr({key:dn+"[1]",value:en[1],valueSpec:I,style:zr.style,styleSpec:zr.styleSpec}))}function nr(zr,ln){var en=Ji(zr.value),dn=un(zr.value),bn=zr.value!==null?zr.value:ln;if(!st)st=en;else if(en!==st)return[new Pr(zr.key,bn,en+" stop domain type must match previous stop domain type "+st)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new Pr(zr.key,bn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&j!=="categorical"){var hn="number expected, "+en+" found";return Ho(I)&&j===void 0&&(hn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pr(zr.key,bn,hn)]}return j==="categorical"&&en==="number"&&(!isFinite(dn)||Math.floor(dn)!==dn)?[new Pr(zr.key,bn,"integer expected, found "+dn)]:j!=="categorical"&&en==="number"&&wt!==void 0&&dn<wt?[new Pr(zr.key,bn,"stop domain values must appear in ascending order")]:(wt=dn,j==="categorical"&&dn in pt?[new Pr(zr.key,bn,"stop domain values must be unique")]:(pt[dn]=!0,[]))}function _r(zr){return Tr({key:zr.key,value:zr.value,valueSpec:I,style:zr.style,styleSpec:zr.styleSpec})}}function ls(g){var I=(g.expressionContext==="property"?nu:ss)(tn(g.value),g.valueSpec);if(I.result==="error")return I.value.map(function(st){return new Pr(""+g.key+st.key,g.value,st.message)});var j=I.value.expression||I.value._styleExpression.expression;if(g.expressionContext==="property"&&g.propertyKey==="text-font"&&!j.outputDefined())return[new Pr(g.key,g.value,'Invalid data expression for "'+g.propertyKey+'". Output values must be contained as literals within the expression.')];if(g.expressionContext==="property"&&g.propertyType==="layout"&&!ds(j))return[new Pr(g.key,g.value,'"feature-state" data expressions are not supported with layout properties.')];if(g.expressionContext==="filter"&&!ds(j))return[new Pr(g.key,g.value,'"feature-state" data expressions are not supported with filters.')];if(g.expressionContext&&g.expressionContext.indexOf("cluster")===0){if(!Zs(j,["zoom","feature-state"]))return[new Pr(g.key,g.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(g.expressionContext==="cluster-initial"&&!Ss(j))return[new Pr(g.key,g.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hc(g){var I=g.value,j=g.key,st=Ji(I);return st!=="boolean"?[new Pr(j,I,"boolean expected, "+st+" found")]:[]}function eo(g){var I=g.key,j=g.value,st=Ji(j);return st!=="string"?[new Pr(I,j,"color expected, "+st+" found")]:du(j)===null?[new Pr(I,j,'color expected, "'+j+'" found')]:[]}function sl(g){var I=g.key,j=g.value,st=g.valueSpec,pt=[];return Array.isArray(st.values)?st.values.indexOf(un(j))===-1&&pt.push(new Pr(I,j,"expected one of ["+st.values.join(", ")+"], "+JSON.stringify(j)+" found")):Object.keys(st.values).indexOf(un(j))===-1&&pt.push(new Pr(I,j,"expected one of ["+Object.keys(st.values).join(", ")+"], "+JSON.stringify(j)+" found")),pt}function zl(g){if(g===!0||g===!1)return!0;if(!Array.isArray(g)||g.length===0)return!1;switch(g[0]){case"has":return g.length>=2&&g[1]!=="$id"&&g[1]!=="$type";case"in":return g.length>=3&&(typeof g[1]!="string"||Array.isArray(g[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return g.length!==3||Array.isArray(g[1])||Array.isArray(g[2]);case"any":case"all":for(var I=0,j=g.slice(1);I<j.length;I+=1){var st=j[I];if(!zl(st)&&typeof st!="boolean")return!1}return!0;default:return!0}}var Wo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function us(g){if(g==null)return{filter:function(){return!0},needGeometry:!1};zl(g)||(g=ul(g));var I=ss(g,Wo);if(I.result==="error")throw new Error(I.value.map(function(st){return st.key+": "+st.message}).join(", "));var j=ll(g);return{filter:function(st,pt,wt){return I.value.evaluate(st,pt,{},wt)},needGeometry:j}}function iu(g,I){return g<I?-1:g>I?1:0}function ll(g){if(!Array.isArray(g))return!1;if(g[0]==="within")return!0;for(var I=1;I<g.length;I++)if(ll(g[I]))return!0;return!1}function ul(g){if(!g)return!0;var I=g[0];if(g.length<=1)return I!=="any";var j=I==="=="?Il(g[1],g[2],"=="):I==="!="?bs(Il(g[1],g[2],"==")):I==="<"||I===">"||I==="<="||I===">="?Il(g[1],g[2],I):I==="any"?zu(g.slice(1)):I==="all"?["all"].concat(g.slice(1).map(ul)):I==="none"?["all"].concat(g.slice(1).map(ul).map(bs)):I==="in"?cl(g[1],g.slice(2)):I==="!in"?bs(cl(g[1],g.slice(2))):I==="has"?au(g[1]):I==="!has"?bs(au(g[1])):I==="within"?g:!0;return j}function Il(g,I,j){switch(g){case"$type":return["filter-type-"+j,I];case"$id":return["filter-id-"+j,I];default:return["filter-"+j,g,I]}}function zu(g){return["any"].concat(g.map(ul))}function cl(g,I){if(I.length===0)return!1;switch(g){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(j){return typeof j!=typeof I[0]})?["filter-in-large",g,["literal",I.sort(iu)]]:["filter-in-small",g,["literal",I]]}}function au(g){switch(g){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",g]}}function bs(g){return["!",g]}function ou(g){return zl(tn(g.value))?ls(wn({},g,{expressionContext:"filter",valueSpec:{value:"boolean"}})):fl(g)}function fl(g){var I=g.value,j=g.key;if(Ji(I)!=="array")return[new Pr(j,I,"array expected, "+Ji(I)+" found")];var st=g.styleSpec,pt,wt=[];if(I.length<1)return[new Pr(j,I,"filter array must have at least 1 element")];switch(wt=wt.concat(sl({key:j+"[0]",value:I[0],valueSpec:st.filter_operator,style:g.style,styleSpec:g.styleSpec})),un(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&un(I[1])==="$type"&&wt.push(new Pr(j,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&wt.push(new Pr(j,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(pt=Ji(I[1]),pt!=="string"&&wt.push(new Pr(j+"[1]",I[1],"string expected, "+pt+" found")));for(var Rt=2;Rt<I.length;Rt++)pt=Ji(I[Rt]),un(I[1])==="$type"?wt=wt.concat(sl({key:j+"["+Rt+"]",value:I[Rt],valueSpec:st.geometry_type,style:g.style,styleSpec:g.styleSpec})):pt!=="string"&&pt!=="number"&&pt!=="boolean"&&wt.push(new Pr(j+"["+Rt+"]",I[Rt],"string, number, or boolean expected, "+pt+" found"));break;case"any":case"all":case"none":for(var Jt=1;Jt<I.length;Jt++)wt=wt.concat(fl({key:j+"["+Jt+"]",value:I[Jt],style:g.style,styleSpec:g.styleSpec}));break;case"has":case"!has":pt=Ji(I[1]),I.length!==2?wt.push(new Pr(j,I,'filter array for "'+I[0]+'" operator must have 2 elements')):pt!=="string"&&wt.push(new Pr(j+"[1]",I[1],"string expected, "+pt+" found"));break;case"within":pt=Ji(I[1]),I.length!==2?wt.push(new Pr(j,I,'filter array for "'+I[0]+'" operator must have 2 elements')):pt!=="object"&&wt.push(new Pr(j+"[1]",I[1],"object expected, "+pt+" found"));break}return wt}function Iu(g,I){var j=g.key,st=g.style,pt=g.styleSpec,wt=g.value,Rt=g.objectKey,Jt=pt[I+"_"+g.layerType];if(!Jt)return[];var ue=Rt.match(/^(.*)-transition$/);if(I==="paint"&&ue&&Jt[ue[1]]&&Jt[ue[1]].transition)return Tr({key:j,value:wt,valueSpec:pt.transition,style:st,styleSpec:pt});var _e=g.valueSpec||Jt[Rt];if(!_e)return[new Pr(j,wt,'unknown property "'+Rt+'"')];var Oe;if(Ji(wt)==="string"&&Ho(_e)&&!_e.tokens&&(Oe=/^{([^}]+)}$/.exec(wt)))return[new Pr(j,wt,'"'+Rt+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Oe[1])+" }`.")];var je=[];return g.layerType==="symbol"&&(Rt==="text-field"&&st&&!st.glyphs&&je.push(new Pr(j,wt,'use of "text-field" requires a style "glyphs" property')),Rt==="text-font"&&js(tn(wt))&&un(wt.type)==="identity"&&je.push(new Pr(j,wt,'"text-font" does not support identity functions'))),je.concat(Tr({key:g.key,value:wt,valueSpec:_e,style:st,styleSpec:pt,expressionContext:"property",propertyType:I,propertyKey:Rt}))}function Yt(g){return Iu(g,"paint")}function Zt(g){return Iu(g,"layout")}function se(g){var I=[],j=g.value,st=g.key,pt=g.style,wt=g.styleSpec;!j.type&&!j.ref&&I.push(new Pr(st,j,'either "type" or "ref" is required'));var Rt=un(j.type),Jt=un(j.ref);if(j.id)for(var ue=un(j.id),_e=0;_e<g.arrayIndex;_e++){var Oe=pt.layers[_e];un(Oe.id)===ue&&I.push(new Pr(st,j.id,'duplicate layer id "'+j.id+'", previously used at line '+Oe.id.__line__))}if("ref"in j){["type","source","source-layer","filter","layout"].forEach(function(_r){_r in j&&I.push(new Pr(st,j[_r],'"'+_r+'" is prohibited for ref layers'))});var je;pt.layers.forEach(function(_r){un(_r.id)===Jt&&(je=_r)}),je?je.ref?I.push(new Pr(st,j.ref,"ref cannot reference another ref layer")):Rt=un(je.type):I.push(new Pr(st,j.ref,'ref layer "'+Jt+'" not found'))}else if(Rt!=="background")if(!j.source)I.push(new Pr(st,j,'missing required property "source"'));else{var Xe=pt.sources&&pt.sources[j.source],nr=Xe&&un(Xe.type);Xe?nr==="vector"&&Rt==="raster"?I.push(new Pr(st,j.source,'layer "'+j.id+'" requires a raster source')):nr==="raster"&&Rt!=="raster"?I.push(new Pr(st,j.source,'layer "'+j.id+'" requires a vector source')):nr==="vector"&&!j["source-layer"]?I.push(new Pr(st,j,'layer "'+j.id+'" must specify a "source-layer"')):nr==="raster-dem"&&Rt!=="hillshade"?I.push(new Pr(st,j.source,"raster-dem source can only be used with layer type 'hillshade'.")):Rt==="line"&&j.paint&&j.paint["line-gradient"]&&(nr!=="geojson"||!Xe.lineMetrics)&&I.push(new Pr(st,j,'layer "'+j.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Pr(st,j.source,'source "'+j.source+'" not found'))}return I=I.concat(Ha({key:st,value:j,valueSpec:wt.layer,style:g.style,styleSpec:g.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Tr({key:st+".type",value:j.type,valueSpec:wt.layer.type,style:g.style,styleSpec:g.styleSpec,object:j,objectKey:"type"})},filter:ou,layout:function(_r){return Ha({layer:j,key:_r.key,value:_r.value,style:_r.style,styleSpec:_r.styleSpec,objectElementValidators:{"*":function(zr){return Zt(wn({layerType:Rt},zr))}}})},paint:function(_r){return Ha({layer:j,key:_r.key,value:_r.value,style:_r.style,styleSpec:_r.styleSpec,objectElementValidators:{"*":function(zr){return Yt(wn({layerType:Rt},zr))}}})}}})),I}function ve(g){var I=g.value,j=g.key,st=Ji(I);return st!=="string"?[new Pr(j,I,"string expected, "+st+" found")]:[]}var Te={promoteId:Se};function we(g){var I=g.value,j=g.key,st=g.styleSpec,pt=g.style;if(!I.type)return[new Pr(j,I,'"type" is required')];var wt=un(I.type),Rt;switch(wt){case"vector":case"raster":case"raster-dem":return Rt=Ha({key:j,value:I,valueSpec:st["source_"+wt.replace("-","_")],style:g.style,styleSpec:st,objectElementValidators:Te}),Rt;case"geojson":if(Rt=Ha({key:j,value:I,valueSpec:st.source_geojson,style:pt,styleSpec:st,objectElementValidators:Te}),I.cluster)for(var Jt in I.clusterProperties){var ue=I.clusterProperties[Jt],_e=ue[0],Oe=ue[1],je=typeof _e=="string"?[_e,["accumulated"],["get",Jt]]:_e;Rt.push.apply(Rt,ls({key:j+"."+Jt+".map",value:Oe,expressionContext:"cluster-map"})),Rt.push.apply(Rt,ls({key:j+"."+Jt+".reduce",value:je,expressionContext:"cluster-reduce"}))}return Rt;case"video":return Ha({key:j,value:I,valueSpec:st.source_video,style:pt,styleSpec:st});case"image":return Ha({key:j,value:I,valueSpec:st.source_image,style:pt,styleSpec:st});case"canvas":return[new Pr(j,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return sl({key:j+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pt,styleSpec:st})}}function Se(g){var I=g.key,j=g.value;if(Ji(j)==="string")return ve({key:I,value:j});var st=[];for(var pt in j)st.push.apply(st,ve({key:I+"."+pt,value:j[pt]}));return st}function or(g){var I=g.value,j=g.styleSpec,st=j.light,pt=g.style,wt=[],Rt=Ji(I);if(I===void 0)return wt;if(Rt!=="object")return wt=wt.concat([new Pr("light",I,"object expected, "+Rt+" found")]),wt;for(var Jt in I){var ue=Jt.match(/^(.*)-transition$/);ue&&st[ue[1]]&&st[ue[1]].transition?wt=wt.concat(Tr({key:Jt,value:I[Jt],valueSpec:j.transition,style:pt,styleSpec:j})):st[Jt]?wt=wt.concat(Tr({key:Jt,value:I[Jt],valueSpec:st[Jt],style:pt,styleSpec:j})):wt=wt.concat([new Pr(Jt,I[Jt],'unknown property "'+Jt+'"')])}return wt}function fr(g){return ve(g).length===0?[]:ls(g)}function Qe(g){return ve(g).length===0?[]:ls(g)}var yr={"*":function(){return[]},array:ol,boolean:hc,number:qs,color:eo,constants:fn,enum:sl,filter:ou,function:Pu,layer:se,object:Ha,source:we,light:or,string:ve,formatted:fr,resolvedImage:Qe};function Tr(g){var I=g.value,j=g.valueSpec,st=g.styleSpec;if(j.expression&&js(un(I)))return Pu(g);if(j.expression&&il(tn(I)))return ls(g);if(j.type&&yr[j.type])return yr[j.type](g);var pt=Ha(wn({},g,{valueSpec:j.type?st[j.type]:j}));return pt}function Or(g){var I=g.value,j=g.key,st=ve(g);return st.length||(I.indexOf("{fontstack}")===-1&&st.push(new Pr(j,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&st.push(new Pr(j,I,'"glyphs" url must include a "{range}" token'))),st}function Zr(g,I){I===void 0&&(I=gr);var j=[];return j=j.concat(Tr({key:"",value:g,valueSpec:I.$root,styleSpec:I,style:g,objectElementValidators:{glyphs:Or,"*":function(){return[]}}})),g.constants&&(j=j.concat(fn({key:"constants",value:g.constants,style:g,styleSpec:I}))),pn(j)}Zr.source=_n(we),Zr.light=_n(or),Zr.layer=_n(se),Zr.filter=_n(ou),Zr.paintProperty=_n(Yt),Zr.layoutProperty=_n(Zt);function pn(g){return[].concat(g).sort(function(I,j){return I.line-j.line})}function _n(g){return function(){for(var I=[],j=arguments.length;j--;)I[j]=arguments[j];return pn(g.apply(this,I))}}var Tn=Zr,jn=Tn.light,wi=Tn.paintProperty,Ai=Tn.layoutProperty;function Mi(g,I){var j=!1;if(I&&I.length)for(var st=0,pt=I;st<pt.length;st+=1){var wt=pt[st];g.fire(new Pe(new Error(wt.message))),j=!0}return j}var Ci=$i,Ii=3;function $i(g,I,j){var st=this.cells=[];if(g instanceof ArrayBuffer){this.arrayBuffer=g;var pt=new Int32Array(this.arrayBuffer);g=pt[0],I=pt[1],j=pt[2],this.d=I+2*j;for(var wt=0;wt<this.d*this.d;wt++){var Rt=pt[Ii+wt],Jt=pt[Ii+wt+1];st.push(Rt===Jt?null:pt.subarray(Rt,Jt))}var ue=pt[Ii+st.length],_e=pt[Ii+st.length+1];this.keys=pt.subarray(ue,_e),this.bboxes=pt.subarray(_e),this.insert=this._insertReadonly}else{this.d=I+2*j;for(var Oe=0;Oe<this.d*this.d;Oe++)st.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=g,this.padding=j,this.scale=I/g,this.uid=0;var je=j/I*g;this.min=-je,this.max=g+je}$i.prototype.insert=function(g,I,j,st,pt){this._forEachCell(I,j,st,pt,this._insertCell,this.uid++),this.keys.push(g),this.bboxes.push(I),this.bboxes.push(j),this.bboxes.push(st),this.bboxes.push(pt)},$i.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},$i.prototype._insertCell=function(g,I,j,st,pt,wt){this.cells[pt].push(wt)},$i.prototype.query=function(g,I,j,st,pt){var wt=this.min,Rt=this.max;if(g<=wt&&I<=wt&&Rt<=j&&Rt<=st&&!pt)return Array.prototype.slice.call(this.keys);var Jt=[],ue={};return this._forEachCell(g,I,j,st,this._queryCell,Jt,ue,pt),Jt},$i.prototype._queryCell=function(g,I,j,st,pt,wt,Rt,Jt){var ue=this.cells[pt];if(ue!==null)for(var _e=this.keys,Oe=this.bboxes,je=0;je<ue.length;je++){var Xe=ue[je];if(Rt[Xe]===void 0){var nr=Xe*4;(Jt?Jt(Oe[nr+0],Oe[nr+1],Oe[nr+2],Oe[nr+3]):g<=Oe[nr+2]&&I<=Oe[nr+3]&&j>=Oe[nr+0]&&st>=Oe[nr+1])?(Rt[Xe]=!0,wt.push(_e[Xe])):Rt[Xe]=!1}}},$i.prototype._forEachCell=function(g,I,j,st,pt,wt,Rt,Jt){for(var ue=this._convertToCellCoord(g),_e=this._convertToCellCoord(I),Oe=this._convertToCellCoord(j),je=this._convertToCellCoord(st),Xe=ue;Xe<=Oe;Xe++)for(var nr=_e;nr<=je;nr++){var _r=this.d*nr+Xe;if(!(Jt&&!Jt(this._convertFromCellCoord(Xe),this._convertFromCellCoord(nr),this._convertFromCellCoord(Xe+1),this._convertFromCellCoord(nr+1)))&&pt.call(this,g,I,j,st,_r,wt,Rt,Jt))return}},$i.prototype._convertFromCellCoord=function(g){return(g-this.padding)/this.scale},$i.prototype._convertToCellCoord=function(g){return Math.max(0,Math.min(this.d-1,Math.floor(g*this.scale)+this.padding))},$i.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var g=this.cells,I=Ii+this.cells.length+1+1,j=0,st=0;st<this.cells.length;st++)j+=this.cells[st].length;var pt=new Int32Array(I+j+this.keys.length+this.bboxes.length);pt[0]=this.extent,pt[1]=this.n,pt[2]=this.padding;for(var wt=I,Rt=0;Rt<g.length;Rt++){var Jt=g[Rt];pt[Ii+Rt]=wt,pt.set(Jt,wt),wt+=Jt.length}return pt[Ii+g.length]=wt,pt.set(this.keys,wt),wt+=this.keys.length,pt[Ii+g.length+1]=wt,pt.set(this.bboxes,wt),wt+=this.bboxes.length,pt.buffer};var xa=l.ImageData,lt=l.ImageBitmap,_t={};function Ct(g,I,j){j===void 0&&(j={}),Object.defineProperty(I,"_classRegistryKey",{value:g,writeable:!1}),_t[g]={klass:I,omit:j.omit||[],shallow:j.shallow||[]}}Ct("Object",Object),Ci.serialize=function(g,I){var j=g.toArrayBuffer();return I&&I.push(j),{buffer:j}},Ci.deserialize=function(g){return new Ci(g.buffer)},Ct("Grid",Ci),Ct("Color",qi),Ct("Error",Error),Ct("ResolvedImage",Va),Ct("StylePropertyFunction",xs),Ct("StyleExpression",os,{omit:["_evaluator"]}),Ct("ZoomDependentExpression",zo),Ct("ZoomConstantExpression",Ma),Ct("CompoundExpression",Ca,{omit:["_evaluate"]});for(var Ht in Ds)Ds[Ht]._classRegistryKey||Ct("Expression_"+Ht,Ds[Ht]);function Xt(g){return g&&typeof ArrayBuffer<"u"&&(g instanceof ArrayBuffer||g.constructor&&g.constructor.name==="ArrayBuffer")}function ee(g){return lt&&g instanceof lt}function xe(g,I){if(g==null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g instanceof Boolean||g instanceof Number||g instanceof String||g instanceof Date||g instanceof RegExp)return g;if(Xt(g)||ee(g))return I&&I.push(g),g;if(ArrayBuffer.isView(g)){var j=g;return I&&I.push(j.buffer),j}if(g instanceof xa)return I&&I.push(g.data.buffer),g;if(Array.isArray(g)){for(var st=[],pt=0,wt=g;pt<wt.length;pt+=1){var Rt=wt[pt];st.push(xe(Rt,I))}return st}if(typeof g=="object"){var Jt=g.constructor,ue=Jt._classRegistryKey;if(!ue)throw new Error("can't serialize object of unregistered class");var _e=Jt.serialize?Jt.serialize(g,I):{};if(!Jt.serialize){for(var Oe in g)if(g.hasOwnProperty(Oe)&&!(_t[ue].omit.indexOf(Oe)>=0)){var je=g[Oe];_e[Oe]=_t[ue].shallow.indexOf(Oe)>=0?je:xe(je,I)}g instanceof Error&&(_e.message=g.message)}if(_e.$name)throw new Error("$name property is reserved for worker serialization logic.");return ue!=="Object"&&(_e.$name=ue),_e}throw new Error("can't serialize object of type "+typeof g)}function me(g){if(g==null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g instanceof Boolean||g instanceof Number||g instanceof String||g instanceof Date||g instanceof RegExp||Xt(g)||ee(g)||ArrayBuffer.isView(g)||g instanceof xa)return g;if(Array.isArray(g))return g.map(me);if(typeof g=="object"){var I=g.$name||"Object",j=_t[I],st=j.klass;if(!st)throw new Error("can't deserialize unregistered class "+I);if(st.deserialize)return st.deserialize(g);for(var pt=Object.create(st.prototype),wt=0,Rt=Object.keys(g);wt<Rt.length;wt+=1){var Jt=Rt[wt];if(Jt!=="$name"){var ue=g[Jt];pt[Jt]=_t[I].shallow.indexOf(Jt)>=0?ue:me(ue)}}return pt}throw new Error("can't deserialize object of type "+typeof g)}var ze=function(){this.first=!0};ze.prototype.update=function(g,I){var j=Math.floor(g);return this.first?(this.first=!1,this.lastIntegerZoom=j,this.lastIntegerZoomTime=0,this.lastZoom=g,this.lastFloorZoom=j,!0):(this.lastFloorZoom>j?(this.lastIntegerZoom=j+1,this.lastIntegerZoomTime=I):this.lastFloorZoom<j&&(this.lastIntegerZoom=j,this.lastIntegerZoomTime=I),g!==this.lastZoom?(this.lastZoom=g,this.lastFloorZoom=j,!0):!1)};var Ie={"Latin-1 Supplement":function(g){return g>=128&&g<=255},Arabic:function(g){return g>=1536&&g<=1791},"Arabic Supplement":function(g){return g>=1872&&g<=1919},"Arabic Extended-A":function(g){return g>=2208&&g<=2303},"Hangul Jamo":function(g){return g>=4352&&g<=4607},"Unified Canadian Aboriginal Syllabics":function(g){return g>=5120&&g<=5759},Khmer:function(g){return g>=6016&&g<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(g){return g>=6320&&g<=6399},"General Punctuation":function(g){return g>=8192&&g<=8303},"Letterlike Symbols":function(g){return g>=8448&&g<=8527},"Number Forms":function(g){return g>=8528&&g<=8591},"Miscellaneous Technical":function(g){return g>=8960&&g<=9215},"Control Pictures":function(g){return g>=9216&&g<=9279},"Optical Character Recognition":function(g){return g>=9280&&g<=9311},"Enclosed Alphanumerics":function(g){return g>=9312&&g<=9471},"Geometric Shapes":function(g){return g>=9632&&g<=9727},"Miscellaneous Symbols":function(g){return g>=9728&&g<=9983},"Miscellaneous Symbols and Arrows":function(g){return g>=11008&&g<=11263},"CJK Radicals Supplement":function(g){return g>=11904&&g<=12031},"Kangxi Radicals":function(g){return g>=12032&&g<=12255},"Ideographic Description Characters":function(g){return g>=12272&&g<=12287},"CJK Symbols and Punctuation":function(g){return g>=12288&&g<=12351},Hiragana:function(g){return g>=12352&&g<=12447},Katakana:function(g){return g>=12448&&g<=12543},Bopomofo:function(g){return g>=12544&&g<=12591},"Hangul Compatibility Jamo":function(g){return g>=12592&&g<=12687},Kanbun:function(g){return g>=12688&&g<=12703},"Bopomofo Extended":function(g){return g>=12704&&g<=12735},"CJK Strokes":function(g){return g>=12736&&g<=12783},"Katakana Phonetic Extensions":function(g){return g>=12784&&g<=12799},"Enclosed CJK Letters and Months":function(g){return g>=12800&&g<=13055},"CJK Compatibility":function(g){return g>=13056&&g<=13311},"CJK Unified Ideographs Extension A":function(g){return g>=13312&&g<=19903},"Yijing Hexagram Symbols":function(g){return g>=19904&&g<=19967},"CJK Unified Ideographs":function(g){return g>=19968&&g<=40959},"Yi Syllables":function(g){return g>=40960&&g<=42127},"Yi Radicals":function(g){return g>=42128&&g<=42191},"Hangul Jamo Extended-A":function(g){return g>=43360&&g<=43391},"Hangul Syllables":function(g){return g>=44032&&g<=55215},"Hangul Jamo Extended-B":function(g){return g>=55216&&g<=55295},"Private Use Area":function(g){return g>=57344&&g<=63743},"CJK Compatibility Ideographs":function(g){return g>=63744&&g<=64255},"Arabic Presentation Forms-A":function(g){return g>=64336&&g<=65023},"Vertical Forms":function(g){return g>=65040&&g<=65055},"CJK Compatibility Forms":function(g){return g>=65072&&g<=65103},"Small Form Variants":function(g){return g>=65104&&g<=65135},"Arabic Presentation Forms-B":function(g){return g>=65136&&g<=65279},"Halfwidth and Fullwidth Forms":function(g){return g>=65280&&g<=65519}};function Ze(g){for(var I=0,j=g;I<j.length;I+=1){var st=j[I];if(Jr(st.charCodeAt(0)))return!0}return!1}function br(g){for(var I=0,j=g;I<j.length;I+=1){var st=j[I];if(!wr(st.charCodeAt(0)))return!1}return!0}function wr(g){return!(Ie.Arabic(g)||Ie["Arabic Supplement"](g)||Ie["Arabic Extended-A"](g)||Ie["Arabic Presentation Forms-A"](g)||Ie["Arabic Presentation Forms-B"](g))}function Hr(g){return g<11904?!1:!!(Ie["Bopomofo Extended"](g)||Ie.Bopomofo(g)||Ie["CJK Compatibility Forms"](g)||Ie["CJK Compatibility Ideographs"](g)||Ie["CJK Compatibility"](g)||Ie["CJK Radicals Supplement"](g)||Ie["CJK Strokes"](g)||Ie["CJK Symbols and Punctuation"](g)||Ie["CJK Unified Ideographs Extension A"](g)||Ie["CJK Unified Ideographs"](g)||Ie["Enclosed CJK Letters and Months"](g)||Ie["Halfwidth and Fullwidth Forms"](g)||Ie.Hiragana(g)||Ie["Ideographic Description Characters"](g)||Ie["Kangxi Radicals"](g)||Ie["Katakana Phonetic Extensions"](g)||Ie.Katakana(g)||Ie["Vertical Forms"](g)||Ie["Yi Radicals"](g)||Ie["Yi Syllables"](g))}function Jr(g){return g===746||g===747?!0:g<4352?!1:!!(Ie["Bopomofo Extended"](g)||Ie.Bopomofo(g)||Ie["CJK Compatibility Forms"](g)&&!(g>=65097&&g<=65103)||Ie["CJK Compatibility Ideographs"](g)||Ie["CJK Compatibility"](g)||Ie["CJK Radicals Supplement"](g)||Ie["CJK Strokes"](g)||Ie["CJK Symbols and Punctuation"](g)&&!(g>=12296&&g<=12305)&&!(g>=12308&&g<=12319)&&g!==12336||Ie["CJK Unified Ideographs Extension A"](g)||Ie["CJK Unified Ideographs"](g)||Ie["Enclosed CJK Letters and Months"](g)||Ie["Hangul Compatibility Jamo"](g)||Ie["Hangul Jamo Extended-A"](g)||Ie["Hangul Jamo Extended-B"](g)||Ie["Hangul Jamo"](g)||Ie["Hangul Syllables"](g)||Ie.Hiragana(g)||Ie["Ideographic Description Characters"](g)||Ie.Kanbun(g)||Ie["Kangxi Radicals"](g)||Ie["Katakana Phonetic Extensions"](g)||Ie.Katakana(g)&&g!==12540||Ie["Halfwidth and Fullwidth Forms"](g)&&g!==65288&&g!==65289&&g!==65293&&!(g>=65306&&g<=65310)&&g!==65339&&g!==65341&&g!==65343&&!(g>=65371&&g<=65503)&&g!==65507&&!(g>=65512&&g<=65519)||Ie["Small Form Variants"](g)&&!(g>=65112&&g<=65118)&&!(g>=65123&&g<=65126)||Ie["Unified Canadian Aboriginal Syllabics"](g)||Ie["Unified Canadian Aboriginal Syllabics Extended"](g)||Ie["Vertical Forms"](g)||Ie["Yijing Hexagram Symbols"](g)||Ie["Yi Syllables"](g)||Ie["Yi Radicals"](g))}function Ar(g){return!!(Ie["Latin-1 Supplement"](g)&&(g===167||g===169||g===174||g===177||g===188||g===189||g===190||g===215||g===247)||Ie["General Punctuation"](g)&&(g===8214||g===8224||g===8225||g===8240||g===8241||g===8251||g===8252||g===8258||g===8263||g===8264||g===8265||g===8273)||Ie["Letterlike Symbols"](g)||Ie["Number Forms"](g)||Ie["Miscellaneous Technical"](g)&&(g>=8960&&g<=8967||g>=8972&&g<=8991||g>=8996&&g<=9e3||g===9003||g>=9085&&g<=9114||g>=9150&&g<=9165||g===9167||g>=9169&&g<=9179||g>=9186&&g<=9215)||Ie["Control Pictures"](g)&&g!==9251||Ie["Optical Character Recognition"](g)||Ie["Enclosed Alphanumerics"](g)||Ie["Geometric Shapes"](g)||Ie["Miscellaneous Symbols"](g)&&!(g>=9754&&g<=9759)||Ie["Miscellaneous Symbols and Arrows"](g)&&(g>=11026&&g<=11055||g>=11088&&g<=11097||g>=11192&&g<=11243)||Ie["CJK Symbols and Punctuation"](g)||Ie.Katakana(g)||Ie["Private Use Area"](g)||Ie["CJK Compatibility Forms"](g)||Ie["Small Form Variants"](g)||Ie["Halfwidth and Fullwidth Forms"](g)||g===8734||g===8756||g===8757||g>=9984&&g<=10087||g>=10102&&g<=10131||g===65532||g===65533)}function Dr(g){return!(Jr(g)||Ar(g))}function Yr(g){return Ie.Arabic(g)||Ie["Arabic Supplement"](g)||Ie["Arabic Extended-A"](g)||Ie["Arabic Presentation Forms-A"](g)||Ie["Arabic Presentation Forms-B"](g)}function Qr(g){return g>=1424&&g<=2303||Ie["Arabic Presentation Forms-A"](g)||Ie["Arabic Presentation Forms-B"](g)}function rn(g,I){return!(!I&&Qr(g)||g>=2304&&g<=3583||g>=3840&&g<=4255||Ie.Khmer(g))}function Vr(g){for(var I=0,j=g;I<j.length;I+=1){var st=j[I];if(Qr(st.charCodeAt(0)))return!0}return!1}function zn(g,I){for(var j=0,st=g;j<st.length;j+=1){var pt=st[j];if(!rn(pt.charCodeAt(0),I))return!1}return!0}var Hn={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ti=null,Gn=Hn.unavailable,Jn=null,ei=function(g){g&&typeof g=="string"&&g.indexOf("NetworkError")>-1&&(Gn=Hn.error),ti&&ti(g)};function Ri(){di.fire(new Ve("pluginStateChange",{pluginStatus:Gn,pluginURL:Jn}))}var di=new rr,Si=function(){return Gn},Hi=function(g){return g({pluginStatus:Gn,pluginURL:Jn}),di.on("pluginStateChange",g),g},_a=function(g,I,j){if(j===void 0&&(j=!1),Gn===Hn.deferred||Gn===Hn.loading||Gn===Hn.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Jn=at.resolveURL(g),Gn=Hn.deferred,ti=I,Ri(),j||Vi()},Vi=function(){if(Gn!==Hn.deferred||!Jn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Gn=Hn.loading,Ri(),Jn&&Re({url:Jn},function(g){g?ei(g):(Gn=Hn.loaded,Ri())})},Yn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Gn===Hn.loaded||Yn.applyArabicShaping!=null},isLoading:function(){return Gn===Hn.loading},setState:function(g){Gn=g.pluginStatus,Jn=g.pluginURL},isParsed:function(){return Yn.applyArabicShaping!=null&&Yn.processBidirectionalText!=null&&Yn.processStyledBidirectionalText!=null},getPluginURL:function(){return Jn}},Pi=function(){!Yn.isLoading()&&!Yn.isLoaded()&&Si()==="deferred"&&Vi()},pi=function(g,I){this.zoom=g,I?(this.now=I.now,this.fadeDuration=I.fadeDuration,this.zoomHistory=I.zoomHistory,this.transition=I.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ze,this.transition={})};pi.prototype.isSupportedScript=function(g){return zn(g,Yn.isLoaded())},pi.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},pi.prototype.getCrossfadeParameters=function(){var g=this.zoom,I=g-Math.floor(g),j=this.crossFadingFactor();return g>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:I+(1-I)*j}:{fromScale:.5,toScale:1,t:1-(1-j)*I}};var Fi=function(g,I){this.property=g,this.value=I,this.expression=Pl(I===void 0?g.specification.default:I,g.specification)};Fi.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Fi.prototype.possiblyEvaluate=function(g,I,j){return this.property.possiblyEvaluate(this,g,I,j)};var oa=function(g){this.property=g,this.value=new Fi(g,void 0)};oa.prototype.transitioned=function(g,I){return new Oa(this.property,this.value,I,x({},g.transition,this.transition),g.now)},oa.prototype.untransitioned=function(){return new Oa(this.property,this.value,null,{},0)};var Wi=function(g){this._properties=g,this._values=Object.create(g.defaultTransitionablePropertyValues)};Wi.prototype.getValue=function(g){return D(this._values[g].value.value)},Wi.prototype.setValue=function(g,I){this._values.hasOwnProperty(g)||(this._values[g]=new oa(this._values[g].property)),this._values[g].value=new Fi(this._values[g].property,I===null?void 0:D(I))},Wi.prototype.getTransition=function(g){return D(this._values[g].transition)},Wi.prototype.setTransition=function(g,I){this._values.hasOwnProperty(g)||(this._values[g]=new oa(this._values[g].property)),this._values[g].transition=D(I)||void 0},Wi.prototype.serialize=function(){for(var g={},I=0,j=Object.keys(this._values);I<j.length;I+=1){var st=j[I],pt=this.getValue(st);pt!==void 0&&(g[st]=pt);var wt=this.getTransition(st);wt!==void 0&&(g[st+"-transition"]=wt)}return g},Wi.prototype.transitioned=function(g,I){for(var j=new Pa(this._properties),st=0,pt=Object.keys(this._values);st<pt.length;st+=1){var wt=pt[st];j._values[wt]=this._values[wt].transitioned(g,I._values[wt])}return j},Wi.prototype.untransitioned=function(){for(var g=new Pa(this._properties),I=0,j=Object.keys(this._values);I<j.length;I+=1){var st=j[I];g._values[st]=this._values[st].untransitioned()}return g};var Oa=function(g,I,j,st,pt){this.property=g,this.value=I,this.begin=pt+st.delay||0,this.end=this.begin+st.duration||0,g.specification.transition&&(st.delay||st.duration)&&(this.prior=j)};Oa.prototype.possiblyEvaluate=function(g,I,j){var st=g.now||0,pt=this.value.possiblyEvaluate(g,I,j),wt=this.prior;if(wt){if(st>this.end)return this.prior=null,pt;if(this.value.isDataDriven())return this.prior=null,pt;if(st<this.begin)return wt.possiblyEvaluate(g,I,j);var Rt=(st-this.begin)/(this.end-this.begin);return this.property.interpolate(wt.possiblyEvaluate(g,I,j),pt,o(Rt))}else return pt};var Pa=function(g){this._properties=g,this._values=Object.create(g.defaultTransitioningPropertyValues)};Pa.prototype.possiblyEvaluate=function(g,I,j){for(var st=new Wa(this._properties),pt=0,wt=Object.keys(this._values);pt<wt.length;pt+=1){var Rt=wt[pt];st._values[Rt]=this._values[Rt].possiblyEvaluate(g,I,j)}return st},Pa.prototype.hasTransition=function(){for(var g=0,I=Object.keys(this._values);g<I.length;g+=1){var j=I[g];if(this._values[j].prior)return!0}return!1};var Da=function(g){this._properties=g,this._values=Object.create(g.defaultPropertyValues)};Da.prototype.getValue=function(g){return D(this._values[g].value)},Da.prototype.setValue=function(g,I){this._values[g]=new Fi(this._values[g].property,I===null?void 0:D(I))},Da.prototype.serialize=function(){for(var g={},I=0,j=Object.keys(this._values);I<j.length;I+=1){var st=j[I],pt=this.getValue(st);pt!==void 0&&(g[st]=pt)}return g},Da.prototype.possiblyEvaluate=function(g,I,j){for(var st=new Wa(this._properties),pt=0,wt=Object.keys(this._values);pt<wt.length;pt+=1){var Rt=wt[pt];st._values[Rt]=this._values[Rt].possiblyEvaluate(g,I,j)}return st};var sa=function(g,I,j){this.property=g,this.value=I,this.parameters=j};sa.prototype.isConstant=function(){return this.value.kind==="constant"},sa.prototype.constantOr=function(g){return this.value.kind==="constant"?this.value.value:g},sa.prototype.evaluate=function(g,I,j,st){return this.property.evaluate(this.value,this.parameters,g,I,j,st)};var Wa=function(g){this._properties=g,this._values=Object.create(g.defaultPossiblyEvaluatedValues)};Wa.prototype.get=function(g){return this._values[g]};var Qn=function(g){this.specification=g};Qn.prototype.possiblyEvaluate=function(g,I){return g.expression.evaluate(I)},Qn.prototype.interpolate=function(g,I,j){var st=Tl[this.specification.type];return st?st(g,I,j):g};var vi=function(g,I){this.specification=g,this.overrides=I};vi.prototype.possiblyEvaluate=function(g,I,j,st){return g.expression.kind==="constant"||g.expression.kind==="camera"?new sa(this,{kind:"constant",value:g.expression.evaluate(I,null,{},j,st)},I):new sa(this,g.expression,I)},vi.prototype.interpolate=function(g,I,j){if(g.value.kind!=="constant"||I.value.kind!=="constant")return g;if(g.value.value===void 0||I.value.value===void 0)return new sa(this,{kind:"constant",value:void 0},g.parameters);var st=Tl[this.specification.type];return st?new sa(this,{kind:"constant",value:st(g.value.value,I.value.value,j)},g.parameters):g},vi.prototype.evaluate=function(g,I,j,st,pt,wt){return g.kind==="constant"?g.value:g.evaluate(I,j,st,pt,wt)};var ro=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(j,st,pt,wt){if(j.value===void 0)return new sa(this,{kind:"constant",value:void 0},st);if(j.expression.kind==="constant"){var Rt=j.expression.evaluate(st,null,{},pt,wt),Jt=j.property.specification.type==="resolvedImage",ue=Jt&&typeof Rt!="string"?Rt.name:Rt,_e=this._calculate(ue,ue,ue,st);return new sa(this,{kind:"constant",value:_e},st)}else if(j.expression.kind==="camera"){var Oe=this._calculate(j.expression.evaluate({zoom:st.zoom-1}),j.expression.evaluate({zoom:st.zoom}),j.expression.evaluate({zoom:st.zoom+1}),st);return new sa(this,{kind:"constant",value:Oe},st)}else return new sa(this,j.expression,st)},I.prototype.evaluate=function(j,st,pt,wt,Rt,Jt){if(j.kind==="source"){var ue=j.evaluate(st,pt,wt,Rt,Jt);return this._calculate(ue,ue,ue,st)}else return j.kind==="composite"?this._calculate(j.evaluate({zoom:Math.floor(st.zoom)-1},pt,wt),j.evaluate({zoom:Math.floor(st.zoom)},pt,wt),j.evaluate({zoom:Math.floor(st.zoom)+1},pt,wt),st):j.value},I.prototype._calculate=function(j,st,pt,wt){var Rt=wt.zoom;return Rt>wt.zoomHistory.lastIntegerZoom?{from:j,to:st}:{from:pt,to:st}},I.prototype.interpolate=function(j){return j},I}(vi),uo=function(g){this.specification=g};uo.prototype.possiblyEvaluate=function(g,I,j,st){if(g.value!==void 0)if(g.expression.kind==="constant"){var pt=g.expression.evaluate(I,null,{},j,st);return this._calculate(pt,pt,pt,I)}else return this._calculate(g.expression.evaluate(new pi(Math.floor(I.zoom-1),I)),g.expression.evaluate(new pi(Math.floor(I.zoom),I)),g.expression.evaluate(new pi(Math.floor(I.zoom+1),I)),I)},uo.prototype._calculate=function(g,I,j,st){var pt=st.zoom;return pt>st.zoomHistory.lastIntegerZoom?{from:g,to:I}:{from:j,to:I}},uo.prototype.interpolate=function(g){return g};var Na=function(g){this.specification=g};Na.prototype.possiblyEvaluate=function(g,I,j,st){return!!g.expression.evaluate(I,null,{},j,st)},Na.prototype.interpolate=function(){return!1};var Zi=function(g){this.properties=g,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var I in g){var j=g[I];j.specification.overridable&&this.overridableProperties.push(I);var st=this.defaultPropertyValues[I]=new Fi(j,void 0),pt=this.defaultTransitionablePropertyValues[I]=new oa(j);this.defaultTransitioningPropertyValues[I]=pt.untransitioned(),this.defaultPossiblyEvaluatedValues[I]=st.possiblyEvaluate({})}};Ct("DataDrivenProperty",vi),Ct("DataConstantProperty",Qn),Ct("CrossFadedDataDrivenProperty",ro),Ct("CrossFadedProperty",uo),Ct("ColorRampProperty",Na);var Ea="-transition",wa=function(g){function I(j,st){if(g.call(this),this.id=j.id,this.type=j.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},j.type!=="custom"&&(j=j,this.metadata=j.metadata,this.minzoom=j.minzoom,this.maxzoom=j.maxzoom,j.type!=="background"&&(this.source=j.source,this.sourceLayer=j["source-layer"],this.filter=j.filter),st.layout&&(this._unevaluatedLayout=new Da(st.layout)),st.paint)){this._transitionablePaint=new Wi(st.paint);for(var pt in j.paint)this.setPaintProperty(pt,j.paint[pt],{validate:!1});for(var wt in j.layout)this.setLayoutProperty(wt,j.layout[wt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Wa(st.paint)}}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(j){return j==="visibility"?this.visibility:this._unevaluatedLayout.getValue(j)},I.prototype.setLayoutProperty=function(j,st,pt){if(pt===void 0&&(pt={}),st!=null){var wt="layers."+this.id+".layout."+j;if(this._validate(Ai,wt,j,st,pt))return}if(j==="visibility"){this.visibility=st;return}this._unevaluatedLayout.setValue(j,st)},I.prototype.getPaintProperty=function(j){return w(j,Ea)?this._transitionablePaint.getTransition(j.slice(0,-Ea.length)):this._transitionablePaint.getValue(j)},I.prototype.setPaintProperty=function(j,st,pt){if(pt===void 0&&(pt={}),st!=null){var wt="layers."+this.id+".paint."+j;if(this._validate(wi,wt,j,st,pt))return!1}if(w(j,Ea))return this._transitionablePaint.setTransition(j.slice(0,-Ea.length),st||void 0),!1;var Rt=this._transitionablePaint._values[j],Jt=Rt.property.specification["property-type"]==="cross-faded-data-driven",ue=Rt.value.isDataDriven(),_e=Rt.value;this._transitionablePaint.setValue(j,st),this._handleSpecialPaintPropertyUpdate(j);var Oe=this._transitionablePaint._values[j].value,je=Oe.isDataDriven();return je||ue||Jt||this._handleOverridablePaintPropertyUpdate(j,_e,Oe)},I.prototype._handleSpecialPaintPropertyUpdate=function(j){},I.prototype._handleOverridablePaintPropertyUpdate=function(j,st,pt){return!1},I.prototype.isHidden=function(j){return this.minzoom&&j<this.minzoom||this.maxzoom&&j>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(j){this._transitioningPaint=this._transitionablePaint.transitioned(j,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(j,st){j.getCrossfadeParameters&&(this._crossfadeParameters=j.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(j,void 0,st)),this.paint=this._transitioningPaint.possiblyEvaluate(j,void 0,st)},I.prototype.serialize=function(){var j={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(j.layout=j.layout||{},j.layout.visibility=this.visibility),O(j,function(st,pt){return st!==void 0&&!(pt==="layout"&&!Object.keys(st).length)&&!(pt==="paint"&&!Object.keys(st).length)})},I.prototype._validate=function(j,st,pt,wt,Rt){return Rt===void 0&&(Rt={}),Rt&&Rt.validate===!1?!1:Mi(this,j.call(Tn,{key:st,layerType:this.type,objectKey:pt,value:wt,styleSpec:gr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var j in this.paint._values){var st=this.paint.get(j);if(!(!(st instanceof sa)||!Ho(st.property.specification))&&(st.value.kind==="source"||st.value.kind==="composite")&&st.value.isStateDependent)return!0}return!1},I}(rr),Io={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Xo=function(g,I){this._structArray=g,this._pos1=I*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ha=128,Ys=5,Di=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Di.serialize=function(g,I){return g._trim(),I&&(g.isTransferred=!0,I.push(g.arrayBuffer)),{length:g.length,arrayBuffer:g.arrayBuffer}},Di.deserialize=function(g){var I=Object.create(this.prototype);return I.arrayBuffer=g.arrayBuffer,I.length=g.length,I.capacity=g.arrayBuffer.byteLength/I.bytesPerElement,I._refreshViews(),I},Di.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Di.prototype.clear=function(){this.length=0},Di.prototype.resize=function(g){this.reserve(g),this.length=g},Di.prototype.reserve=function(g){if(g>this.capacity){this.capacity=Math.max(g,Math.floor(this.capacity*Ys),ha),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var I=this.uint8;this._refreshViews(),I&&this.uint8.set(I)}},Di.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function pa(g,I){I===void 0&&(I=1);var j=0,st=0,pt=g.map(function(Rt){var Jt=pc(Rt.type),ue=j=bf(j,Math.max(I,Jt)),_e=Rt.components||1;return st=Math.max(st,Jt),j+=Jt*_e,{name:Rt.name,type:Rt.type,components:_e,offset:ue}}),wt=bf(j,Math.max(st,I));return{members:pt,size:wt,alignment:I}}function pc(g){return Io[g].BYTES_PER_ELEMENT}function bf(g,I){return Math.ceil(g/I)*I}var su=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st){var pt=this.length;return this.resize(pt+1),this.emplace(pt,j,st)},I.prototype.emplace=function(j,st,pt){var wt=j*2;return this.int16[wt+0]=st,this.int16[wt+1]=pt,j},I}(Di);su.prototype.bytesPerElement=4,Ct("StructArrayLayout2i4",su);var Kc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt){var Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,j,st,pt,wt)},I.prototype.emplace=function(j,st,pt,wt,Rt){var Jt=j*4;return this.int16[Jt+0]=st,this.int16[Jt+1]=pt,this.int16[Jt+2]=wt,this.int16[Jt+3]=Rt,j},I}(Di);Kc.prototype.bytesPerElement=8,Ct("StructArrayLayout4i8",Kc);var Fl=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt){var ue=this.length;return this.resize(ue+1),this.emplace(ue,j,st,pt,wt,Rt,Jt)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue){var _e=j*6;return this.int16[_e+0]=st,this.int16[_e+1]=pt,this.int16[_e+2]=wt,this.int16[_e+3]=Rt,this.int16[_e+4]=Jt,this.int16[_e+5]=ue,j},I}(Di);Fl.prototype.bytesPerElement=12,Ct("StructArrayLayout2i4i12",Fl);var Fu=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt){var ue=this.length;return this.resize(ue+1),this.emplace(ue,j,st,pt,wt,Rt,Jt)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue){var _e=j*4,Oe=j*8;return this.int16[_e+0]=st,this.int16[_e+1]=pt,this.uint8[Oe+4]=wt,this.uint8[Oe+5]=Rt,this.uint8[Oe+6]=Jt,this.uint8[Oe+7]=ue,j},I}(Di);Fu.prototype.bytesPerElement=8,Ct("StructArrayLayout2i4ub8",Fu);var Du=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st){var pt=this.length;return this.resize(pt+1),this.emplace(pt,j,st)},I.prototype.emplace=function(j,st,pt){var wt=j*2;return this.float32[wt+0]=st,this.float32[wt+1]=pt,j},I}(Di);Du.prototype.bytesPerElement=8,Ct("StructArrayLayout2f8",Du);var ko=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je){var Xe=this.length;return this.resize(Xe+1),this.emplace(Xe,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe){var nr=j*10;return this.uint16[nr+0]=st,this.uint16[nr+1]=pt,this.uint16[nr+2]=wt,this.uint16[nr+3]=Rt,this.uint16[nr+4]=Jt,this.uint16[nr+5]=ue,this.uint16[nr+6]=_e,this.uint16[nr+7]=Oe,this.uint16[nr+8]=je,this.uint16[nr+9]=Xe,j},I}(Di);ko.prototype.bytesPerElement=20,Ct("StructArrayLayout10ui20",ko);var Dl=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr){var _r=this.length;return this.resize(_r+1),this.emplace(_r,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r){var zr=j*12;return this.int16[zr+0]=st,this.int16[zr+1]=pt,this.int16[zr+2]=wt,this.int16[zr+3]=Rt,this.uint16[zr+4]=Jt,this.uint16[zr+5]=ue,this.uint16[zr+6]=_e,this.uint16[zr+7]=Oe,this.int16[zr+8]=je,this.int16[zr+9]=Xe,this.int16[zr+10]=nr,this.int16[zr+11]=_r,j},I}(Di);Dl.prototype.bytesPerElement=24,Ct("StructArrayLayout4i4ui4i24",Dl);var Jc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,j,st,pt)},I.prototype.emplace=function(j,st,pt,wt){var Rt=j*3;return this.float32[Rt+0]=st,this.float32[Rt+1]=pt,this.float32[Rt+2]=wt,j},I}(Di);Jc.prototype.bytesPerElement=12,Ct("StructArrayLayout3f12",Jc);var $c=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j){var st=this.length;return this.resize(st+1),this.emplace(st,j)},I.prototype.emplace=function(j,st){var pt=j*1;return this.uint32[pt+0]=st,j},I}(Di);$c.prototype.bytesPerElement=4,Ct("StructArrayLayout1ul4",$c);var dc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe){var je=this.length;return this.resize(je+1),this.emplace(je,j,st,pt,wt,Rt,Jt,ue,_e,Oe)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je){var Xe=j*10,nr=j*5;return this.int16[Xe+0]=st,this.int16[Xe+1]=pt,this.int16[Xe+2]=wt,this.int16[Xe+3]=Rt,this.int16[Xe+4]=Jt,this.int16[Xe+5]=ue,this.uint32[nr+3]=_e,this.uint16[Xe+8]=Oe,this.uint16[Xe+9]=je,j},I}(Di);dc.prototype.bytesPerElement=20,Ct("StructArrayLayout6i1ul2ui20",dc);var Mc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt){var ue=this.length;return this.resize(ue+1),this.emplace(ue,j,st,pt,wt,Rt,Jt)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue){var _e=j*6;return this.int16[_e+0]=st,this.int16[_e+1]=pt,this.int16[_e+2]=wt,this.int16[_e+3]=Rt,this.int16[_e+4]=Jt,this.int16[_e+5]=ue,j},I}(Di);Mc.prototype.bytesPerElement=12,Ct("StructArrayLayout2i2i2i12",Mc);var hl=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,j,st,pt,wt,Rt)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt){var ue=j*4,_e=j*8;return this.float32[ue+0]=st,this.float32[ue+1]=pt,this.float32[ue+2]=wt,this.int16[_e+6]=Rt,this.int16[_e+7]=Jt,j},I}(Di);hl.prototype.bytesPerElement=16,Ct("StructArrayLayout2f1f2i16",hl);var Fo=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt){var Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,j,st,pt,wt)},I.prototype.emplace=function(j,st,pt,wt,Rt){var Jt=j*12,ue=j*3;return this.uint8[Jt+0]=st,this.uint8[Jt+1]=pt,this.float32[ue+1]=wt,this.float32[ue+2]=Rt,j},I}(Di);Fo.prototype.bytesPerElement=12,Ct("StructArrayLayout2ub2f12",Fo);var pl=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,j,st,pt)},I.prototype.emplace=function(j,st,pt,wt){var Rt=j*3;return this.uint16[Rt+0]=st,this.uint16[Rt+1]=pt,this.uint16[Rt+2]=wt,j},I}(Di);pl.prototype.bytesPerElement=6,Ct("StructArrayLayout3ui6",pl);var vc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn){var bn=this.length;return this.resize(bn+1),this.emplace(bn,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn,bn){var hn=j*24,On=j*12,Un=j*48;return this.int16[hn+0]=st,this.int16[hn+1]=pt,this.uint16[hn+2]=wt,this.uint16[hn+3]=Rt,this.uint32[On+2]=Jt,this.uint32[On+3]=ue,this.uint32[On+4]=_e,this.uint16[hn+10]=Oe,this.uint16[hn+11]=je,this.uint16[hn+12]=Xe,this.float32[On+7]=nr,this.float32[On+8]=_r,this.uint8[Un+36]=zr,this.uint8[Un+37]=ln,this.uint8[Un+38]=en,this.uint32[On+10]=dn,this.int16[hn+22]=bn,j},I}(Di);vc.prototype.bytesPerElement=48,Ct("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",vc);var Ec=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn,bn,hn,On,Un,Xn,Vn,fi,hi,gi,bi,Ei){var mi=this.length;return this.resize(mi+1),this.emplace(mi,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn,bn,hn,On,Un,Xn,Vn,fi,hi,gi,bi,Ei)},I.prototype.emplace=function(j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn,bn,hn,On,Un,Xn,Vn,fi,hi,gi,bi,Ei,mi){var xi=j*34,ji=j*17;return this.int16[xi+0]=st,this.int16[xi+1]=pt,this.int16[xi+2]=wt,this.int16[xi+3]=Rt,this.int16[xi+4]=Jt,this.int16[xi+5]=ue,this.int16[xi+6]=_e,this.int16[xi+7]=Oe,this.uint16[xi+8]=je,this.uint16[xi+9]=Xe,this.uint16[xi+10]=nr,this.uint16[xi+11]=_r,this.uint16[xi+12]=zr,this.uint16[xi+13]=ln,this.uint16[xi+14]=en,this.uint16[xi+15]=dn,this.uint16[xi+16]=bn,this.uint16[xi+17]=hn,this.uint16[xi+18]=On,this.uint16[xi+19]=Un,this.uint16[xi+20]=Xn,this.uint16[xi+21]=Vn,this.uint16[xi+22]=fi,this.uint32[ji+12]=hi,this.float32[ji+13]=gi,this.float32[ji+14]=bi,this.float32[ji+15]=Ei,this.float32[ji+16]=mi,j},I}(Di);Ec.prototype.bytesPerElement=68,Ct("StructArrayLayout8i15ui1ul4f68",Ec);var Nu=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j){var st=this.length;return this.resize(st+1),this.emplace(st,j)},I.prototype.emplace=function(j,st){var pt=j*1;return this.float32[pt+0]=st,j},I}(Di);Nu.prototype.bytesPerElement=4,Ct("StructArrayLayout1f4",Nu);var Qc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,j,st,pt)},I.prototype.emplace=function(j,st,pt,wt){var Rt=j*3;return this.int16[Rt+0]=st,this.int16[Rt+1]=pt,this.int16[Rt+2]=wt,j},I}(Di);Qc.prototype.bytesPerElement=6,Ct("StructArrayLayout3i6",Qc);var Nl=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,j,st,pt)},I.prototype.emplace=function(j,st,pt,wt){var Rt=j*2,Jt=j*4;return this.uint32[Rt+0]=st,this.uint16[Jt+2]=pt,this.uint16[Jt+3]=wt,j},I}(Di);Nl.prototype.bytesPerElement=8,Ct("StructArrayLayout1ul2ui8",Nl);var gc=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st){var pt=this.length;return this.resize(pt+1),this.emplace(pt,j,st)},I.prototype.emplace=function(j,st,pt){var wt=j*2;return this.uint16[wt+0]=st,this.uint16[wt+1]=pt,j},I}(Di);gc.prototype.bytesPerElement=4,Ct("StructArrayLayout2ui4",gc);var Bu=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j){var st=this.length;return this.resize(st+1),this.emplace(st,j)},I.prototype.emplace=function(j,st){var pt=j*1;return this.uint16[pt+0]=st,j},I}(Di);Bu.prototype.bytesPerElement=2,Ct("StructArrayLayout1ui2",Bu);var lu=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(j,st,pt,wt){var Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,j,st,pt,wt)},I.prototype.emplace=function(j,st,pt,wt,Rt){var Jt=j*4;return this.float32[Jt+0]=st,this.float32[Jt+1]=pt,this.float32[Jt+2]=wt,this.float32[Jt+3]=Rt,j},I}(Di);lu.prototype.bytesPerElement=16,Ct("StructArrayLayout4f16",lu);var _f=function(g){function I(){g.apply(this,arguments)}g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I;var j={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return j.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},j.x1.get=function(){return this._structArray.int16[this._pos2+2]},j.y1.get=function(){return this._structArray.int16[this._pos2+3]},j.x2.get=function(){return this._structArray.int16[this._pos2+4]},j.y2.get=function(){return this._structArray.int16[this._pos2+5]},j.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},j.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},j.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},j.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,j),I}(Xo);_f.prototype.size=20;var tf=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.get=function(j){return new _f(this,j)},I}(dc);Ct("CollisionBoxArray",tf);var uu=function(g){function I(){g.apply(this,arguments)}g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I;var j={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return j.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},j.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},j.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},j.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},j.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},j.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},j.segment.get=function(){return this._structArray.uint16[this._pos2+10]},j.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},j.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},j.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},j.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},j.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},j.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},j.placedOrientation.set=function(st){this._structArray.uint8[this._pos1+37]=st},j.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},j.hidden.set=function(st){this._structArray.uint8[this._pos1+38]=st},j.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},j.crossTileID.set=function(st){this._structArray.uint32[this._pos4+10]=st},j.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,j),I}(Xo);uu.prototype.size=48;var ef=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.get=function(j){return new uu(this,j)},I}(vc);Ct("PlacedSymbolArray",ef);var ju=function(g){function I(){g.apply(this,arguments)}g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I;var j={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return j.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},j.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},j.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},j.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},j.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},j.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},j.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},j.key.get=function(){return this._structArray.uint16[this._pos2+8]},j.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},j.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},j.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},j.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},j.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},j.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},j.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},j.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},j.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},j.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},j.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},j.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},j.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},j.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},j.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},j.crossTileID.set=function(st){this._structArray.uint32[this._pos4+12]=st},j.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},j.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},j.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},j.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,j),I}(Xo);ju.prototype.size=68;var wf=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.get=function(j){return new ju(this,j)},I}(Ec);Ct("SymbolInstanceArray",wf);var Af=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(j){return this.float32[j*1+0]},I}(Nu);Ct("GlyphOffsetArray",Af);var _s=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.getx=function(j){return this.int16[j*3+0]},I.prototype.gety=function(j){return this.int16[j*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(j){return this.int16[j*3+2]},I}(Qc);Ct("SymbolLineVertexArray",_s);var Tf=function(g){function I(){g.apply(this,arguments)}g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I;var j={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return j.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},j.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},j.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,j),I}(Xo);Tf.prototype.size=8;var kf=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.get=function(j){return new Tf(this,j)},I}(Nl);Ct("FeatureIndexArray",kf);var Vf=pa([{name:"a_pos",components:2,type:"Int16"}],4),Mf=Vf.members,Ba=function(g){g===void 0&&(g=[]),this.segments=g};Ba.prototype.prepareSegment=function(g,I,j,st){var pt=this.segments[this.segments.length-1];return g>Ba.MAX_VERTEX_ARRAY_LENGTH&&R("Max vertices per segment is "+Ba.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+g),(!pt||pt.vertexLength+g>Ba.MAX_VERTEX_ARRAY_LENGTH||pt.sortKey!==st)&&(pt={vertexOffset:I.length,primitiveOffset:j.length,vertexLength:0,primitiveLength:0},st!==void 0&&(pt.sortKey=st),this.segments.push(pt)),pt},Ba.prototype.get=function(){return this.segments},Ba.prototype.destroy=function(){for(var g=0,I=this.segments;g<I.length;g+=1){var j=I[g];for(var st in j.vaos)j.vaos[st].destroy()}},Ba.simpleSegment=function(g,I,j,st){return new Ba([{vertexOffset:g,primitiveOffset:I,vertexLength:j,primitiveLength:st,vaos:{},sortKey:0}])},Ba.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ct("SegmentVector",Ba);function X(g,I){return g=h(Math.floor(g),0,255),I=h(Math.floor(I),0,255),256*g+I}var et=pa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),K=L(function(g){function I(j,st){var pt,wt,Rt,Jt,ue,_e,Oe,je;for(pt=j.length&3,wt=j.length-pt,Rt=st,ue=3432918353,_e=461845907,je=0;je<wt;)Oe=j.charCodeAt(je)&255|(j.charCodeAt(++je)&255)<<8|(j.charCodeAt(++je)&255)<<16|(j.charCodeAt(++je)&255)<<24,++je,Oe=(Oe&65535)*ue+(((Oe>>>16)*ue&65535)<<16)&4294967295,Oe=Oe<<15|Oe>>>17,Oe=(Oe&65535)*_e+(((Oe>>>16)*_e&65535)<<16)&4294967295,Rt^=Oe,Rt=Rt<<13|Rt>>>19,Jt=(Rt&65535)*5+(((Rt>>>16)*5&65535)<<16)&4294967295,Rt=(Jt&65535)+27492+(((Jt>>>16)+58964&65535)<<16);switch(Oe=0,pt){case 3:Oe^=(j.charCodeAt(je+2)&255)<<16;case 2:Oe^=(j.charCodeAt(je+1)&255)<<8;case 1:Oe^=j.charCodeAt(je)&255,Oe=(Oe&65535)*ue+(((Oe>>>16)*ue&65535)<<16)&4294967295,Oe=Oe<<15|Oe>>>17,Oe=(Oe&65535)*_e+(((Oe>>>16)*_e&65535)<<16)&4294967295,Rt^=Oe}return Rt^=j.length,Rt^=Rt>>>16,Rt=(Rt&65535)*2246822507+(((Rt>>>16)*2246822507&65535)<<16)&4294967295,Rt^=Rt>>>13,Rt=(Rt&65535)*3266489909+(((Rt>>>16)*3266489909&65535)<<16)&4294967295,Rt^=Rt>>>16,Rt>>>0}g.exports=I}),ut=L(function(g){function I(j,st){for(var pt=j.length,wt=st^pt,Rt=0,Jt;pt>=4;)Jt=j.charCodeAt(Rt)&255|(j.charCodeAt(++Rt)&255)<<8|(j.charCodeAt(++Rt)&255)<<16|(j.charCodeAt(++Rt)&255)<<24,Jt=(Jt&65535)*1540483477+(((Jt>>>16)*1540483477&65535)<<16),Jt^=Jt>>>24,Jt=(Jt&65535)*1540483477+(((Jt>>>16)*1540483477&65535)<<16),wt=(wt&65535)*1540483477+(((wt>>>16)*1540483477&65535)<<16)^Jt,pt-=4,++Rt;switch(pt){case 3:wt^=(j.charCodeAt(Rt+2)&255)<<16;case 2:wt^=(j.charCodeAt(Rt+1)&255)<<8;case 1:wt^=j.charCodeAt(Rt)&255,wt=(wt&65535)*1540483477+(((wt>>>16)*1540483477&65535)<<16)}return wt^=wt>>>13,wt=(wt&65535)*1540483477+(((wt>>>16)*1540483477&65535)<<16),wt^=wt>>>15,wt>>>0}g.exports=I}),kt=K,jt=K,Qt=ut;kt.murmur3=jt,kt.murmur2=Qt;var de=function(){this.ids=[],this.positions=[],this.indexed=!1};de.prototype.add=function(g,I,j,st){this.ids.push(He(g)),this.positions.push(I,j,st)},de.prototype.getPositions=function(g){for(var I=He(g),j=0,st=this.ids.length-1;j<st;){var pt=j+st>>1;this.ids[pt]>=I?st=pt:j=pt+1}for(var wt=[];this.ids[j]===I;){var Rt=this.positions[3*j],Jt=this.positions[3*j+1],ue=this.positions[3*j+2];wt.push({index:Rt,start:Jt,end:ue}),j++}return wt},de.serialize=function(g,I){var j=new Float64Array(g.ids),st=new Uint32Array(g.positions);return sr(j,st,0,j.length-1),I&&I.push(j.buffer,st.buffer),{ids:j,positions:st}},de.deserialize=function(g){var I=new de;return I.ids=g.ids,I.positions=g.positions,I.indexed=!0,I};var Le=Math.pow(2,53)-1;function He(g){var I=+g;return!isNaN(I)&&I<=Le?I:kt(String(g))}function sr(g,I,j,st){for(;j<st;){for(var pt=g[j+st>>1],wt=j-1,Rt=st+1;;){do wt++;while(g[wt]<pt);do Rt--;while(g[Rt]>pt);if(wt>=Rt)break;tr(g,wt,Rt),tr(I,3*wt,3*Rt),tr(I,3*wt+1,3*Rt+1),tr(I,3*wt+2,3*Rt+2)}Rt-j<st-Rt?(sr(g,I,j,Rt),j=Rt+1):(sr(g,I,Rt+1,st),st=Rt)}}function tr(g,I,j){var st=g[I];g[I]=g[j],g[j]=st}Ct("FeaturePositionMap",de);var mr=function(g,I){this.gl=g.gl,this.location=I},Cr=function(g){function I(j,st){g.call(this,j,st),this.current=0}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){this.current!==j&&(this.current=j,this.gl.uniform1i(this.location,j))},I}(mr),Xr=function(g){function I(j,st){g.call(this,j,st),this.current=0}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){this.current!==j&&(this.current=j,this.gl.uniform1f(this.location,j))},I}(mr),Nr=function(g){function I(j,st){g.call(this,j,st),this.current=[0,0]}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){(j[0]!==this.current[0]||j[1]!==this.current[1])&&(this.current=j,this.gl.uniform2f(this.location,j[0],j[1]))},I}(mr),Br=function(g){function I(j,st){g.call(this,j,st),this.current=[0,0,0]}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){(j[0]!==this.current[0]||j[1]!==this.current[1]||j[2]!==this.current[2])&&(this.current=j,this.gl.uniform3f(this.location,j[0],j[1],j[2]))},I}(mr),Kr=function(g){function I(j,st){g.call(this,j,st),this.current=[0,0,0,0]}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){(j[0]!==this.current[0]||j[1]!==this.current[1]||j[2]!==this.current[2]||j[3]!==this.current[3])&&(this.current=j,this.gl.uniform4f(this.location,j[0],j[1],j[2],j[3]))},I}(mr),cn=function(g){function I(j,st){g.call(this,j,st),this.current=qi.transparent}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){(j.r!==this.current.r||j.g!==this.current.g||j.b!==this.current.b||j.a!==this.current.a)&&(this.current=j,this.gl.uniform4f(this.location,j.r,j.g,j.b,j.a))},I}(mr),Fn=new Float32Array(16),In=function(g){function I(j,st){g.call(this,j,st),this.current=Fn}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.set=function(j){if(j[12]!==this.current[12]||j[0]!==this.current[0]){this.current=j,this.gl.uniformMatrix4fv(this.location,!1,j);return}for(var st=1;st<16;st++)if(j[st]!==this.current[st]){this.current=j,this.gl.uniformMatrix4fv(this.location,!1,j);break}},I}(mr);function Dn(g){return[X(255*g.r,255*g.g),X(255*g.b,255*g.a)]}var Bn=function(g,I,j){this.value=g,this.uniformNames=I.map(function(st){return"u_"+st}),this.type=j};Bn.prototype.setUniform=function(g,I,j){g.set(j.constantOr(this.value))},Bn.prototype.getBinding=function(g,I,j){return this.type==="color"?new cn(g,I):new Xr(g,I)};var Nn=function(g,I){this.uniformNames=I.map(function(j){return"u_"+j}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Nn.prototype.setConstantPatternPositions=function(g,I){this.pixelRatioFrom=I.pixelRatio,this.pixelRatioTo=g.pixelRatio,this.patternFrom=I.tlbr,this.patternTo=g.tlbr},Nn.prototype.setUniform=function(g,I,j,st){var pt=st==="u_pattern_to"?this.patternTo:st==="u_pattern_from"?this.patternFrom:st==="u_pixel_ratio_to"?this.pixelRatioTo:st==="u_pixel_ratio_from"?this.pixelRatioFrom:null;pt&&g.set(pt)},Nn.prototype.getBinding=function(g,I,j){return j.substr(0,9)==="u_pattern"?new Kr(g,I):new Xr(g,I)};var Wn=function(g,I,j,st){this.expression=g,this.type=j,this.maxValue=0,this.paintVertexAttributes=I.map(function(pt){return{name:"a_"+pt,type:"Float32",components:j==="color"?2:1,offset:0}}),this.paintVertexArray=new st};Wn.prototype.populatePaintArray=function(g,I,j,st,pt){var wt=this.paintVertexArray.length,Rt=this.expression.evaluate(new pi(0),I,{},st,[],pt);this.paintVertexArray.resize(g),this._setPaintValue(wt,g,Rt)},Wn.prototype.updatePaintArray=function(g,I,j,st){var pt=this.expression.evaluate({zoom:0},j,st);this._setPaintValue(g,I,pt)},Wn.prototype._setPaintValue=function(g,I,j){if(this.type==="color")for(var st=Dn(j),pt=g;pt<I;pt++)this.paintVertexArray.emplace(pt,st[0],st[1]);else{for(var wt=g;wt<I;wt++)this.paintVertexArray.emplace(wt,j);this.maxValue=Math.max(this.maxValue,Math.abs(j))}},Wn.prototype.upload=function(g){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=g.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Wn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Zn=function(g,I,j,st,pt,wt){this.expression=g,this.uniformNames=I.map(function(Rt){return"u_"+Rt+"_t"}),this.type=j,this.useIntegerZoom=st,this.zoom=pt,this.maxValue=0,this.paintVertexAttributes=I.map(function(Rt){return{name:"a_"+Rt,type:"Float32",components:j==="color"?4:2,offset:0}}),this.paintVertexArray=new wt};Zn.prototype.populatePaintArray=function(g,I,j,st,pt){var wt=this.expression.evaluate(new pi(this.zoom),I,{},st,[],pt),Rt=this.expression.evaluate(new pi(this.zoom+1),I,{},st,[],pt),Jt=this.paintVertexArray.length;this.paintVertexArray.resize(g),this._setPaintValue(Jt,g,wt,Rt)},Zn.prototype.updatePaintArray=function(g,I,j,st){var pt=this.expression.evaluate({zoom:this.zoom},j,st),wt=this.expression.evaluate({zoom:this.zoom+1},j,st);this._setPaintValue(g,I,pt,wt)},Zn.prototype._setPaintValue=function(g,I,j,st){if(this.type==="color")for(var pt=Dn(j),wt=Dn(st),Rt=g;Rt<I;Rt++)this.paintVertexArray.emplace(Rt,pt[0],pt[1],wt[0],wt[1]);else{for(var Jt=g;Jt<I;Jt++)this.paintVertexArray.emplace(Jt,j,st);this.maxValue=Math.max(this.maxValue,Math.abs(j),Math.abs(st))}},Zn.prototype.upload=function(g){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=g.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Zn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Zn.prototype.setUniform=function(g,I){var j=this.useIntegerZoom?Math.floor(I.zoom):I.zoom,st=h(this.expression.interpolationFactor(j,this.zoom,this.zoom+1),0,1);g.set(st)},Zn.prototype.getBinding=function(g,I,j){return new Xr(g,I)};var ci=function(g,I,j,st,pt,wt){this.expression=g,this.type=I,this.useIntegerZoom=j,this.zoom=st,this.layerId=wt,this.zoomInPaintVertexArray=new pt,this.zoomOutPaintVertexArray=new pt};ci.prototype.populatePaintArray=function(g,I,j){var st=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(g),this.zoomOutPaintVertexArray.resize(g),this._setPaintValues(st,g,I.patterns&&I.patterns[this.layerId],j)},ci.prototype.updatePaintArray=function(g,I,j,st,pt){this._setPaintValues(g,I,j.patterns&&j.patterns[this.layerId],pt)},ci.prototype._setPaintValues=function(g,I,j,st){if(!(!st||!j)){var pt=j.min,wt=j.mid,Rt=j.max,Jt=st[pt],ue=st[wt],_e=st[Rt];if(!(!Jt||!ue||!_e))for(var Oe=g;Oe<I;Oe++)this.zoomInPaintVertexArray.emplace(Oe,ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],Jt.tl[0],Jt.tl[1],Jt.br[0],Jt.br[1],ue.pixelRatio,Jt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Oe,ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],_e.tl[0],_e.tl[1],_e.br[0],_e.br[1],ue.pixelRatio,_e.pixelRatio)}},ci.prototype.upload=function(g){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=g.createVertexBuffer(this.zoomInPaintVertexArray,et.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=g.createVertexBuffer(this.zoomOutPaintVertexArray,et.members,this.expression.isStateDependent))},ci.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var si=function(g,I,j){this.binders={},this._buffers=[];var st=[];for(var pt in g.paint._values)if(j(pt)){var wt=g.paint.get(pt);if(!(!(wt instanceof sa)||!Ho(wt.property.specification))){var Rt=zi(pt,g.type),Jt=wt.value,ue=wt.property.specification.type,_e=wt.property.useIntegerZoom,Oe=wt.property.specification["property-type"],je=Oe==="cross-faded"||Oe==="cross-faded-data-driven";if(Jt.kind==="constant")this.binders[pt]=je?new Nn(Jt.value,Rt):new Bn(Jt.value,Rt,ue),st.push("/u_"+pt);else if(Jt.kind==="source"||je){var Xe=yi(pt,ue,"source");this.binders[pt]=je?new ci(Jt,ue,_e,I,Xe,g.id):new Wn(Jt,Rt,ue,Xe),st.push("/a_"+pt)}else{var nr=yi(pt,ue,"composite");this.binders[pt]=new Zn(Jt,Rt,ue,_e,I,nr),st.push("/z_"+pt)}}}this.cacheKey=st.sort().join("")};si.prototype.getMaxValue=function(g){var I=this.binders[g];return I instanceof Wn||I instanceof Zn?I.maxValue:0},si.prototype.populatePaintArrays=function(g,I,j,st,pt){for(var wt in this.binders){var Rt=this.binders[wt];(Rt instanceof Wn||Rt instanceof Zn||Rt instanceof ci)&&Rt.populatePaintArray(g,I,j,st,pt)}},si.prototype.setConstantPatternPositions=function(g,I){for(var j in this.binders){var st=this.binders[j];st instanceof Nn&&st.setConstantPatternPositions(g,I)}},si.prototype.updatePaintArrays=function(g,I,j,st,pt){var wt=!1;for(var Rt in g)for(var Jt=I.getPositions(Rt),ue=0,_e=Jt;ue<_e.length;ue+=1){var Oe=_e[ue],je=j.feature(Oe.index);for(var Xe in this.binders){var nr=this.binders[Xe];if((nr instanceof Wn||nr instanceof Zn||nr instanceof ci)&&nr.expression.isStateDependent===!0){var _r=st.paint.get(Xe);nr.expression=_r.value,nr.updatePaintArray(Oe.start,Oe.end,je,g[Rt],pt),wt=!0}}}return wt},si.prototype.defines=function(){var g=[];for(var I in this.binders){var j=this.binders[I];(j instanceof Bn||j instanceof Nn)&&g.push.apply(g,j.uniformNames.map(function(st){return"#define HAS_UNIFORM_"+st}))}return g},si.prototype.getBinderAttributes=function(){var g=[];for(var I in this.binders){var j=this.binders[I];if(j instanceof Wn||j instanceof Zn)for(var st=0;st<j.paintVertexAttributes.length;st++)g.push(j.paintVertexAttributes[st].name);else if(j instanceof ci)for(var pt=0;pt<et.members.length;pt++)g.push(et.members[pt].name)}return g},si.prototype.getBinderUniforms=function(){var g=[];for(var I in this.binders){var j=this.binders[I];if(j instanceof Bn||j instanceof Nn||j instanceof Zn)for(var st=0,pt=j.uniformNames;st<pt.length;st+=1){var wt=pt[st];g.push(wt)}}return g},si.prototype.getPaintVertexBuffers=function(){return this._buffers},si.prototype.getUniforms=function(g,I){var j=[];for(var st in this.binders){var pt=this.binders[st];if(pt instanceof Bn||pt instanceof Nn||pt instanceof Zn)for(var wt=0,Rt=pt.uniformNames;wt<Rt.length;wt+=1){var Jt=Rt[wt];if(I[Jt]){var ue=pt.getBinding(g,I[Jt],Jt);j.push({name:Jt,property:st,binding:ue})}}}return j},si.prototype.setUniforms=function(g,I,j,st){for(var pt=0,wt=I;pt<wt.length;pt+=1){var Rt=wt[pt],Jt=Rt.name,ue=Rt.property,_e=Rt.binding;this.binders[ue].setUniform(_e,st,j.get(ue),Jt)}},si.prototype.updatePaintBuffers=function(g){this._buffers=[];for(var I in this.binders){var j=this.binders[I];if(g&&j instanceof ci){var st=g.fromScale===2?j.zoomInPaintVertexBuffer:j.zoomOutPaintVertexBuffer;st&&this._buffers.push(st)}else(j instanceof Wn||j instanceof Zn)&&j.paintVertexBuffer&&this._buffers.push(j.paintVertexBuffer)}},si.prototype.upload=function(g){for(var I in this.binders){var j=this.binders[I];(j instanceof Wn||j instanceof Zn||j instanceof ci)&&j.upload(g)}this.updatePaintBuffers()},si.prototype.destroy=function(){for(var g in this.binders){var I=this.binders[g];(I instanceof Wn||I instanceof Zn||I instanceof ci)&&I.destroy()}};var li=function(g,I,j){j===void 0&&(j=function(){return!0}),this.programConfigurations={};for(var st=0,pt=g;st<pt.length;st+=1){var wt=pt[st];this.programConfigurations[wt.id]=new si(wt,I,j)}this.needsUpload=!1,this._featureMap=new de,this._bufferOffset=0};li.prototype.populatePaintArrays=function(g,I,j,st,pt,wt){for(var Rt in this.programConfigurations)this.programConfigurations[Rt].populatePaintArrays(g,I,st,pt,wt);I.id!==void 0&&this._featureMap.add(I.id,j,this._bufferOffset,g),this._bufferOffset=g,this.needsUpload=!0},li.prototype.updatePaintArrays=function(g,I,j,st){for(var pt=0,wt=j;pt<wt.length;pt+=1){var Rt=wt[pt];this.needsUpload=this.programConfigurations[Rt.id].updatePaintArrays(g,this._featureMap,I,Rt,st)||this.needsUpload}},li.prototype.get=function(g){return this.programConfigurations[g]},li.prototype.upload=function(g){if(this.needsUpload){for(var I in this.programConfigurations)this.programConfigurations[I].upload(g);this.needsUpload=!1}},li.prototype.destroy=function(){for(var g in this.programConfigurations)this.programConfigurations[g].destroy()};function zi(g,I){var j={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return j[g]||[g.replace(I+"-","").replace(/-/g,"_")]}function la(g){var I={"line-pattern":{source:ko,composite:ko},"fill-pattern":{source:ko,composite:ko},"fill-extrusion-pattern":{source:ko,composite:ko}};return I[g]}function yi(g,I,j){var st={color:{source:Du,composite:lu},number:{source:Nu,composite:Du}},pt=la(g);return pt&&pt[j]||st[I][j]}Ct("ConstantBinder",Bn),Ct("CrossFadedConstantBinder",Nn),Ct("SourceExpressionBinder",Wn),Ct("CrossFadedCompositeBinder",ci),Ct("CompositeExpressionBinder",Zn),Ct("ProgramConfiguration",si,{omit:["_buffers"]}),Ct("ProgramConfigurationSet",li);var ki=8192,Oi=15,Xi=Math.pow(2,Oi-1)-1,Qi=-Xi-1;function Ki(g){for(var I=ki/g.extent,j=g.loadGeometry(),st=0;st<j.length;st++)for(var pt=j[st],wt=0;wt<pt.length;wt++){var Rt=pt[wt],Jt=Math.round(Rt.x*I),ue=Math.round(Rt.y*I);Rt.x=h(Jt,Qi,Xi),Rt.y=h(ue,Qi,Xi),(Jt<Rt.x||Jt>Rt.x+1||ue<Rt.y||ue>Rt.y+1)&&R("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return j}function Ni(g,I){return{type:g.type,id:g.id,properties:g.properties,geometry:I?Ki(g):[]}}function ia(g,I,j,st,pt){g.emplaceBack(I*2+(st+1)/2,j*2+(pt+1)/2)}var Ti=function(g){this.zoom=g.zoom,this.overscaling=g.overscaling,this.layers=g.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=g.index,this.hasPattern=!1,this.layoutVertexArray=new su,this.indexArray=new pl,this.segments=new Ba,this.programConfigurations=new li(g.layers,g.zoom),this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};Ti.prototype.populate=function(g,I,j){var st=this.layers[0],pt=[],wt=null;st.type==="circle"&&(wt=st.layout.get("circle-sort-key"));for(var Rt=0,Jt=g;Rt<Jt.length;Rt+=1){var ue=Jt[Rt],_e=ue.feature,Oe=ue.id,je=ue.index,Xe=ue.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,_r=Ni(_e,nr);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),_r,j)){var zr=wt?wt.evaluate(_r,{},j):void 0,ln={id:Oe,properties:_e.properties,type:_e.type,sourceLayerIndex:Xe,index:je,geometry:nr?_r.geometry:Ki(_e),patterns:{},sortKey:zr};pt.push(ln)}}wt&&pt.sort(function(fi,hi){return fi.sortKey-hi.sortKey});for(var en=0,dn=pt;en<dn.length;en+=1){var bn=dn[en],hn=bn,On=hn.geometry,Un=hn.index,Xn=hn.sourceLayerIndex,Vn=g[Un].feature;this.addFeature(bn,On,Un,j),I.featureIndex.insert(Vn,On,Un,Xn,this.index)}},Ti.prototype.update=function(g,I,j){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(g,I,this.stateDependentLayers,j)},Ti.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ti.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ti.prototype.upload=function(g){this.uploaded||(this.layoutVertexBuffer=g.createVertexBuffer(this.layoutVertexArray,Mf),this.indexBuffer=g.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(g),this.uploaded=!0},Ti.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ti.prototype.addFeature=function(g,I,j,st){for(var pt=0,wt=I;pt<wt.length;pt+=1)for(var Rt=wt[pt],Jt=0,ue=Rt;Jt<ue.length;Jt+=1){var _e=ue[Jt],Oe=_e.x,je=_e.y;if(!(Oe<0||Oe>=ki||je<0||je>=ki)){var Xe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,g.sortKey),nr=Xe.vertexLength;ia(this.layoutVertexArray,Oe,je,-1,-1),ia(this.layoutVertexArray,Oe,je,1,-1),ia(this.layoutVertexArray,Oe,je,1,1),ia(this.layoutVertexArray,Oe,je,-1,1),this.indexArray.emplaceBack(nr,nr+1,nr+2),this.indexArray.emplaceBack(nr,nr+3,nr+2),Xe.vertexLength+=4,Xe.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,g,j,{},st)},Ct("CircleBucket",Ti,{omit:["layers"]});function Bi(g,I){for(var j=0;j<g.length;j++)if(ho(I,g[j]))return!0;for(var st=0;st<I.length;st++)if(ho(g,I[st]))return!0;return!!Vo(g,I)}function Aa(g,I,j){return!!(ho(g,I)||Bl(I,g,j))}function ja(g,I){if(g.length===1)return Zo(I,g[0]);for(var j=0;j<I.length;j++)for(var st=I[j],pt=0;pt<st.length;pt++)if(ho(g,st[pt]))return!0;for(var wt=0;wt<g.length;wt++)if(Zo(I,g[wt]))return!0;for(var Rt=0;Rt<I.length;Rt++)if(Vo(g,I[Rt]))return!0;return!1}function ws(g,I,j){for(var st=0;st<I.length;st++){var pt=I[st];if(g.length>=3){for(var wt=0;wt<pt.length;wt++)if(ho(g,pt[wt]))return!0}if(Gs(g,pt,j))return!0}return!1}function Gs(g,I,j){if(g.length>1){if(Vo(g,I))return!0;for(var st=0;st<I.length;st++)if(Bl(I[st],g,j))return!0}for(var pt=0;pt<g.length;pt++)if(Bl(g[pt],I,j))return!0;return!1}function Vo(g,I){if(g.length===0||I.length===0)return!1;for(var j=0;j<g.length-1;j++)for(var st=g[j],pt=g[j+1],wt=0;wt<I.length-1;wt++){var Rt=I[wt],Jt=I[wt+1];if(dl(st,pt,Rt,Jt))return!0}return!1}function dl(g,I,j,st){return N(g,j,st)!==N(I,j,st)&&N(g,I,j)!==N(g,I,st)}function Bl(g,I,j){var st=j*j;if(I.length===1)return g.distSqr(I[0])<st;for(var pt=1;pt<I.length;pt++){var wt=I[pt-1],Rt=I[pt];if(Mo(g,wt,Rt)<st)return!0}return!1}function Mo(g,I,j){var st=I.distSqr(j);if(st===0)return g.distSqr(I);var pt=((g.x-I.x)*(j.x-I.x)+(g.y-I.y)*(j.y-I.y))/st;return pt<0?g.distSqr(I):pt>1?g.distSqr(j):g.distSqr(j.sub(I)._mult(pt)._add(I))}function Zo(g,I){for(var j=!1,st,pt,wt,Rt=0;Rt<g.length;Rt++){st=g[Rt];for(var Jt=0,ue=st.length-1;Jt<st.length;ue=Jt++)pt=st[Jt],wt=st[ue],pt.y>I.y!=wt.y>I.y&&I.x<(wt.x-pt.x)*(I.y-pt.y)/(wt.y-pt.y)+pt.x&&(j=!j)}return j}function ho(g,I){for(var j=!1,st=0,pt=g.length-1;st<g.length;pt=st++){var wt=g[st],Rt=g[pt];wt.y>I.y!=Rt.y>I.y&&I.x<(Rt.x-wt.x)*(I.y-wt.y)/(Rt.y-wt.y)+wt.x&&(j=!j)}return j}function jl(g,I,j,st,pt){for(var wt=0,Rt=g;wt<Rt.length;wt+=1){var Jt=Rt[wt];if(I<=Jt.x&&j<=Jt.y&&st>=Jt.x&&pt>=Jt.y)return!0}var ue=[new r(I,j),new r(I,pt),new r(st,pt),new r(st,j)];if(g.length>2)for(var _e=0,Oe=ue;_e<Oe.length;_e+=1){var je=Oe[_e];if(ho(g,je))return!0}for(var Xe=0;Xe<g.length-1;Xe++){var nr=g[Xe],_r=g[Xe+1];if(Uu(nr,_r,ue))return!0}return!1}function Uu(g,I,j){var st=j[0],pt=j[2];if(g.x<st.x&&I.x<st.x||g.x>pt.x&&I.x>pt.x||g.y<st.y&&I.y<st.y||g.y>pt.y&&I.y>pt.y)return!1;var wt=N(g,I,j[0]);return wt!==N(g,I,j[1])||wt!==N(g,I,j[2])||wt!==N(g,I,j[3])}function Ko(g,I,j){var st=I.paint.get(g).value;return st.kind==="constant"?st.value:j.programConfigurations.get(I.id).getMaxValue(g)}function cs(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function Jo(g,I,j,st,pt){if(!I[0]&&!I[1])return g;var wt=r.convert(I)._mult(pt);j==="viewport"&&wt._rotate(-st);for(var Rt=[],Jt=0;Jt<g.length;Jt++){var ue=g[Jt];Rt.push(ue.sub(wt))}return Rt}var mc=new Zi({"circle-sort-key":new vi(gr.layout_circle["circle-sort-key"])}),Lc=new Zi({"circle-radius":new vi(gr.paint_circle["circle-radius"]),"circle-color":new vi(gr.paint_circle["circle-color"]),"circle-blur":new vi(gr.paint_circle["circle-blur"]),"circle-opacity":new vi(gr.paint_circle["circle-opacity"]),"circle-translate":new Qn(gr.paint_circle["circle-translate"]),"circle-translate-anchor":new Qn(gr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qn(gr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qn(gr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vi(gr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vi(gr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vi(gr.paint_circle["circle-stroke-opacity"])}),yc={paint:Lc,layout:mc},no=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var g=arguments,I=0,j=arguments.length;j--;)I+=g[j]*g[j];return Math.sqrt(I)});function Sc(){var g=new no(4);return no!=Float32Array&&(g[1]=0,g[2]=0),g[0]=1,g[3]=1,g}function xc(g,I,j){var st=I[0],pt=I[1],wt=I[2],Rt=I[3],Jt=Math.sin(j),ue=Math.cos(j);return g[0]=st*ue+wt*Jt,g[1]=pt*ue+Rt*Jt,g[2]=st*-Jt+wt*ue,g[3]=pt*-Jt+Rt*ue,g}function co(){var g=new no(9);return no!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0),g[0]=1,g[4]=1,g[8]=1,g}function qu(g,I){var j=Math.sin(I),st=Math.cos(I);return g[0]=st,g[1]=j,g[2]=0,g[3]=-j,g[4]=st,g[5]=0,g[6]=0,g[7]=0,g[8]=1,g}function Cc(){var g=new no(16);return no!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0),g[0]=1,g[5]=1,g[10]=1,g[15]=1,g}function Rc(g){var I=new no(16);return I[0]=g[0],I[1]=g[1],I[2]=g[2],I[3]=g[3],I[4]=g[4],I[5]=g[5],I[6]=g[6],I[7]=g[7],I[8]=g[8],I[9]=g[9],I[10]=g[10],I[11]=g[11],I[12]=g[12],I[13]=g[13],I[14]=g[14],I[15]=g[15],I}function Ul(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}function bc(g,I){var j=I[0],st=I[1],pt=I[2],wt=I[3],Rt=I[4],Jt=I[5],ue=I[6],_e=I[7],Oe=I[8],je=I[9],Xe=I[10],nr=I[11],_r=I[12],zr=I[13],ln=I[14],en=I[15],dn=j*Jt-st*Rt,bn=j*ue-pt*Rt,hn=j*_e-wt*Rt,On=st*ue-pt*Jt,Un=st*_e-wt*Jt,Xn=pt*_e-wt*ue,Vn=Oe*zr-je*_r,fi=Oe*ln-Xe*_r,hi=Oe*en-nr*_r,gi=je*ln-Xe*zr,bi=je*en-nr*zr,Ei=Xe*en-nr*ln,mi=dn*Ei-bn*bi+hn*gi+On*hi-Un*fi+Xn*Vn;return mi?(mi=1/mi,g[0]=(Jt*Ei-ue*bi+_e*gi)*mi,g[1]=(pt*bi-st*Ei-wt*gi)*mi,g[2]=(zr*Xn-ln*Un+en*On)*mi,g[3]=(Xe*Un-je*Xn-nr*On)*mi,g[4]=(ue*hi-Rt*Ei-_e*fi)*mi,g[5]=(j*Ei-pt*hi+wt*fi)*mi,g[6]=(ln*hn-_r*Xn-en*bn)*mi,g[7]=(Oe*Xn-Xe*hn+nr*bn)*mi,g[8]=(Rt*bi-Jt*hi+_e*Vn)*mi,g[9]=(st*hi-j*bi-wt*Vn)*mi,g[10]=(_r*Un-zr*hn+en*dn)*mi,g[11]=(je*hn-Oe*Un-nr*dn)*mi,g[12]=(Jt*fi-Rt*gi-ue*Vn)*mi,g[13]=(j*gi-st*fi+pt*Vn)*mi,g[14]=(zr*bn-_r*On-ln*dn)*mi,g[15]=(Oe*On-je*bn+Xe*dn)*mi,g):null}function Ta(g,I,j){var st=I[0],pt=I[1],wt=I[2],Rt=I[3],Jt=I[4],ue=I[5],_e=I[6],Oe=I[7],je=I[8],Xe=I[9],nr=I[10],_r=I[11],zr=I[12],ln=I[13],en=I[14],dn=I[15],bn=j[0],hn=j[1],On=j[2],Un=j[3];return g[0]=bn*st+hn*Jt+On*je+Un*zr,g[1]=bn*pt+hn*ue+On*Xe+Un*ln,g[2]=bn*wt+hn*_e+On*nr+Un*en,g[3]=bn*Rt+hn*Oe+On*_r+Un*dn,bn=j[4],hn=j[5],On=j[6],Un=j[7],g[4]=bn*st+hn*Jt+On*je+Un*zr,g[5]=bn*pt+hn*ue+On*Xe+Un*ln,g[6]=bn*wt+hn*_e+On*nr+Un*en,g[7]=bn*Rt+hn*Oe+On*_r+Un*dn,bn=j[8],hn=j[9],On=j[10],Un=j[11],g[8]=bn*st+hn*Jt+On*je+Un*zr,g[9]=bn*pt+hn*ue+On*Xe+Un*ln,g[10]=bn*wt+hn*_e+On*nr+Un*en,g[11]=bn*Rt+hn*Oe+On*_r+Un*dn,bn=j[12],hn=j[13],On=j[14],Un=j[15],g[12]=bn*st+hn*Jt+On*je+Un*zr,g[13]=bn*pt+hn*ue+On*Xe+Un*ln,g[14]=bn*wt+hn*_e+On*nr+Un*en,g[15]=bn*Rt+hn*Oe+On*_r+Un*dn,g}function Do(g,I,j){var st=j[0],pt=j[1],wt=j[2],Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en;return I===g?(g[12]=I[0]*st+I[4]*pt+I[8]*wt+I[12],g[13]=I[1]*st+I[5]*pt+I[9]*wt+I[13],g[14]=I[2]*st+I[6]*pt+I[10]*wt+I[14],g[15]=I[3]*st+I[7]*pt+I[11]*wt+I[15]):(Rt=I[0],Jt=I[1],ue=I[2],_e=I[3],Oe=I[4],je=I[5],Xe=I[6],nr=I[7],_r=I[8],zr=I[9],ln=I[10],en=I[11],g[0]=Rt,g[1]=Jt,g[2]=ue,g[3]=_e,g[4]=Oe,g[5]=je,g[6]=Xe,g[7]=nr,g[8]=_r,g[9]=zr,g[10]=ln,g[11]=en,g[12]=Rt*st+Oe*pt+_r*wt+I[12],g[13]=Jt*st+je*pt+zr*wt+I[13],g[14]=ue*st+Xe*pt+ln*wt+I[14],g[15]=_e*st+nr*pt+en*wt+I[15]),g}function No(g,I,j){var st=j[0],pt=j[1],wt=j[2];return g[0]=I[0]*st,g[1]=I[1]*st,g[2]=I[2]*st,g[3]=I[3]*st,g[4]=I[4]*pt,g[5]=I[5]*pt,g[6]=I[6]*pt,g[7]=I[7]*pt,g[8]=I[8]*wt,g[9]=I[9]*wt,g[10]=I[10]*wt,g[11]=I[11]*wt,g[12]=I[12],g[13]=I[13],g[14]=I[14],g[15]=I[15],g}function Oc(g,I,j){var st=Math.sin(j),pt=Math.cos(j),wt=I[4],Rt=I[5],Jt=I[6],ue=I[7],_e=I[8],Oe=I[9],je=I[10],Xe=I[11];return I!==g&&(g[0]=I[0],g[1]=I[1],g[2]=I[2],g[3]=I[3],g[12]=I[12],g[13]=I[13],g[14]=I[14],g[15]=I[15]),g[4]=wt*pt+_e*st,g[5]=Rt*pt+Oe*st,g[6]=Jt*pt+je*st,g[7]=ue*pt+Xe*st,g[8]=_e*pt-wt*st,g[9]=Oe*pt-Rt*st,g[10]=je*pt-Jt*st,g[11]=Xe*pt-ue*st,g}function rf(g,I,j){var st=Math.sin(j),pt=Math.cos(j),wt=I[0],Rt=I[1],Jt=I[2],ue=I[3],_e=I[4],Oe=I[5],je=I[6],Xe=I[7];return I!==g&&(g[8]=I[8],g[9]=I[9],g[10]=I[10],g[11]=I[11],g[12]=I[12],g[13]=I[13],g[14]=I[14],g[15]=I[15]),g[0]=wt*pt+_e*st,g[1]=Rt*pt+Oe*st,g[2]=Jt*pt+je*st,g[3]=ue*pt+Xe*st,g[4]=_e*pt-wt*st,g[5]=Oe*pt-Rt*st,g[6]=je*pt-Jt*st,g[7]=Xe*pt-ue*st,g}function Zf(g,I,j,st,pt){var wt=1/Math.tan(I/2),Rt;return g[0]=wt/j,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=wt,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=-1,g[12]=0,g[13]=0,g[15]=0,pt!=null&&pt!==1/0?(Rt=1/(st-pt),g[10]=(pt+st)*Rt,g[14]=2*pt*st*Rt):(g[10]=-1,g[14]=-2*st),g}function Kf(g,I,j,st,pt,wt,Rt){var Jt=1/(I-j),ue=1/(st-pt),_e=1/(wt-Rt);return g[0]=-2*Jt,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=-2*ue,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=2*_e,g[11]=0,g[12]=(I+j)*Jt,g[13]=(pt+st)*ue,g[14]=(Rt+wt)*_e,g[15]=1,g}var _c=Ta;function Jf(){var g=new no(3);return no!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g}function Pc(g){var I=new no(3);return I[0]=g[0],I[1]=g[1],I[2]=g[2],I}function $f(g,I,j){return g[0]=I[0]+j[0],g[1]=I[1]+j[1],g[2]=I[2]+j[2],g}function Qf(g,I,j){return g[0]=I[0]-j[0],g[1]=I[1]-j[1],g[2]=I[2]-j[2],g}function nf(g,I,j){return g[0]=I[0]*j,g[1]=I[1]*j,g[2]=I[2]*j,g}function Ip(g,I){var j=I[0],st=I[1],pt=I[2],wt=j*j+st*st+pt*pt;return wt>0&&(wt=1/Math.sqrt(wt)),g[0]=I[0]*wt,g[1]=I[1]*wt,g[2]=I[2]*wt,g}function Fp(g,I){return g[0]*I[0]+g[1]*I[1]+g[2]*I[2]}function Dp(g,I,j){var st=I[0],pt=I[1],wt=I[2],Rt=j[0],Jt=j[1],ue=j[2];return g[0]=pt*ue-wt*Jt,g[1]=wt*Rt-st*ue,g[2]=st*Jt-pt*Rt,g}function Np(g,I,j){var st=I[0],pt=I[1],wt=I[2];return g[0]=st*j[0]+pt*j[3]+wt*j[6],g[1]=st*j[1]+pt*j[4]+wt*j[7],g[2]=st*j[2]+pt*j[5]+wt*j[8],g}var Bp=Qf;(function(){var g=Jf();return function(I,j,st,pt,wt,Rt){var Jt,ue;for(j||(j=3),st||(st=0),pt?ue=Math.min(pt*j+st,I.length):ue=I.length,Jt=st;Jt<ue;Jt+=j)g[0]=I[Jt],g[1]=I[Jt+1],g[2]=I[Jt+2],wt(g,g,Rt),I[Jt]=g[0],I[Jt+1]=g[1],I[Jt+2]=g[2];return I}})();function jp(){var g=new no(4);return no!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0),g}function Up(g,I,j){return g[0]=I[0]*j,g[1]=I[1]*j,g[2]=I[2]*j,g[3]=I[3]*j,g}function qp(g,I){return g[0]*I[0]+g[1]*I[1]+g[2]*I[2]+g[3]*I[3]}function Ef(g,I,j){var st=I[0],pt=I[1],wt=I[2],Rt=I[3];return g[0]=j[0]*st+j[4]*pt+j[8]*wt+j[12]*Rt,g[1]=j[1]*st+j[5]*pt+j[9]*wt+j[13]*Rt,g[2]=j[2]*st+j[6]*pt+j[10]*wt+j[14]*Rt,g[3]=j[3]*st+j[7]*pt+j[11]*wt+j[15]*Rt,g}(function(){var g=jp();return function(I,j,st,pt,wt,Rt){var Jt,ue;for(j||(j=4),st||(st=0),pt?ue=Math.min(pt*j+st,I.length):ue=I.length,Jt=st;Jt<ue;Jt+=j)g[0]=I[Jt],g[1]=I[Jt+1],g[2]=I[Jt+2],g[3]=I[Jt+3],wt(g,g,Rt),I[Jt]=g[0],I[Jt+1]=g[1],I[Jt+2]=g[2],I[Jt+3]=g[3];return I}})();function Yp(){var g=new no(2);return no!=Float32Array&&(g[0]=0,g[1]=0),g}function Gp(g){var I=g[0],j=g[1];return I*I+j*j}var Hp=Gp;(function(){var g=Yp();return function(I,j,st,pt,wt,Rt){var Jt,ue;for(j||(j=2),st||(st=0),pt?ue=Math.min(pt*j+st,I.length):ue=I.length,Jt=st;Jt<ue;Jt+=j)g[0]=I[Jt],g[1]=I[Jt+1],wt(g,g,Rt),I[Jt]=g[0],I[Jt+1]=g[1];return I}})();var Wp=function(g){function I(j){g.call(this,j,yc)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(j){return new Ti(j)},I.prototype.queryRadius=function(j){var st=j;return Ko("circle-radius",this,st)+Ko("circle-stroke-width",this,st)+cs(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(j,st,pt,wt,Rt,Jt,ue,_e){for(var Oe=Jo(j,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),Jt.angle,ue),je=this.paint.get("circle-radius").evaluate(st,pt),Xe=this.paint.get("circle-stroke-width").evaluate(st,pt),nr=je+Xe,_r=this.paint.get("circle-pitch-alignment")==="map",zr=_r?Oe:Xp(Oe,_e),ln=_r?nr*ue:nr,en=0,dn=wt;en<dn.length;en+=1)for(var bn=dn[en],hn=0,On=bn;hn<On.length;hn+=1){var Un=On[hn],Xn=_r?Un:kh(Un,_e),Vn=ln,fi=Ef([],[Un.x,Un.y,0,1],_e);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Vn*=fi[3]/Jt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Vn*=Jt.cameraToCenterDistance/fi[3]),Aa(zr,Xn,Vn))return!0}return!1},I}(wa);function kh(g,I){var j=Ef([],[g.x,g.y,0,1],I);return new r(j[0]/j[3],j[1]/j[3])}function Xp(g,I){return g.map(function(j){return kh(j,I)})}var Mh=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I}(Ti);Ct("HeatmapBucket",Mh,{omit:["layers"]});function th(g,I,j,st){var pt=I.width,wt=I.height;if(!st)st=new Uint8Array(pt*wt*j);else if(st instanceof Uint8ClampedArray)st=new Uint8Array(st.buffer);else if(st.length!==pt*wt*j)throw new RangeError("mismatched image size");return g.width=pt,g.height=wt,g.data=st,g}function Eh(g,I,j){var st=I.width,pt=I.height;if(!(st===g.width&&pt===g.height)){var wt=th({},{width:st,height:pt},j);eh(g,wt,{x:0,y:0},{x:0,y:0},{width:Math.min(g.width,st),height:Math.min(g.height,pt)},j),g.width=st,g.height=pt,g.data=wt.data}}function eh(g,I,j,st,pt,wt){if(pt.width===0||pt.height===0)return I;if(pt.width>g.width||pt.height>g.height||j.x>g.width-pt.width||j.y>g.height-pt.height)throw new RangeError("out of range source coordinates for image copy");if(pt.width>I.width||pt.height>I.height||st.x>I.width-pt.width||st.y>I.height-pt.height)throw new RangeError("out of range destination coordinates for image copy");for(var Rt=g.data,Jt=I.data,ue=0;ue<pt.height;ue++)for(var _e=((j.y+ue)*g.width+j.x)*wt,Oe=((st.y+ue)*I.width+st.x)*wt,je=0;je<pt.width*wt;je++)Jt[Oe+je]=Rt[_e+je];return I}var wc=function(g,I){th(this,g,1,I)};wc.prototype.resize=function(g){Eh(this,g,1)},wc.prototype.clone=function(){return new wc({width:this.width,height:this.height},new Uint8Array(this.data))},wc.copy=function(g,I,j,st,pt){eh(g,I,j,st,pt,1)};var Bo=function(g,I){th(this,g,4,I)};Bo.prototype.resize=function(g){Eh(this,g,4)},Bo.prototype.replace=function(g,I){I?this.data.set(g):g instanceof Uint8ClampedArray?this.data=new Uint8Array(g.buffer):this.data=g},Bo.prototype.clone=function(){return new Bo({width:this.width,height:this.height},new Uint8Array(this.data))},Bo.copy=function(g,I,j,st,pt){eh(g,I,j,st,pt,4)},Ct("AlphaImage",wc),Ct("RGBAImage",Bo);var Vp=new Zi({"heatmap-radius":new vi(gr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vi(gr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qn(gr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Na(gr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qn(gr.paint_heatmap["heatmap-opacity"])}),Zp={paint:Vp};function Lh(g){var I={},j=g.resolution||256,st=g.clips?g.clips.length:1,pt=g.image||new Bo({width:j,height:st}),wt=function(dn,bn,hn){I[g.evaluationKey]=hn;var On=g.expression.evaluate(I);pt.data[dn+bn+0]=Math.floor(On.r*255/On.a),pt.data[dn+bn+1]=Math.floor(On.g*255/On.a),pt.data[dn+bn+2]=Math.floor(On.b*255/On.a),pt.data[dn+bn+3]=Math.floor(On.a*255)};if(g.clips)for(var Rt=0,Jt=0;Rt<st;++Rt,Jt+=j*4)for(var ue=0,_e=0;ue<j;ue++,_e+=4){var Oe=ue/(j-1),je=g.clips[Rt],Xe=je.start,nr=je.end,_r=Xe*(1-Oe)+nr*Oe;wt(Jt,_e,_r)}else for(var zr=0,ln=0;zr<j;zr++,ln+=4){var en=zr/(j-1);wt(0,ln,en)}return pt}var Kp=function(g){function I(j){g.call(this,j,Zp),this._updateColorRamp()}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(j){return new Mh(j)},I.prototype._handleSpecialPaintPropertyUpdate=function(j){j==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var j=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Lh({expression:j,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(wa),Jp=new Zi({"hillshade-illumination-direction":new Qn(gr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qn(gr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qn(gr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qn(gr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qn(gr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qn(gr.paint_hillshade["hillshade-accent-color"])}),$p={paint:Jp},Qp=function(g){function I(j){g.call(this,j,$p)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(wa),td=pa([{name:"a_pos",components:2,type:"Int16"}],4),ed=td.members,rh=Lf,rd=Lf;function Lf(g,I,j){j=j||2;var st=I&&I.length,pt=st?I[0]*j:g.length,wt=Sh(g,0,pt,j,!0),Rt=[];if(!wt||wt.next===wt.prev)return Rt;var Jt,ue,_e,Oe,je,Xe,nr;if(st&&(wt=sd(g,I,wt,j)),g.length>80*j){Jt=_e=g[0],ue=Oe=g[1];for(var _r=j;_r<pt;_r+=j)je=g[_r],Xe=g[_r+1],je<Jt&&(Jt=je),Xe<ue&&(ue=Xe),je>_e&&(_e=je),Xe>Oe&&(Oe=Xe);nr=Math.max(_e-Jt,Oe-ue),nr=nr!==0?1/nr:0}return af(wt,Rt,j,Jt,ue,nr),Rt}function Sh(g,I,j,st,pt){var wt,Rt;if(pt===ah(g,I,j,st)>0)for(wt=I;wt<j;wt+=st)Rt=Oh(wt,g[wt],g[wt+1],Rt);else for(wt=j-st;wt>=I;wt-=st)Rt=Oh(wt,g[wt],g[wt+1],Rt);return Rt&&Sf(Rt,Rt.next)&&(sf(Rt),Rt=Rt.next),Rt}function Yu(g,I){if(!g)return g;I||(I=g);var j=g,st;do if(st=!1,!j.steiner&&(Sf(j,j.next)||Ua(j.prev,j,j.next)===0)){if(sf(j),j=I=j.prev,j===j.next)break;st=!0}else j=j.next;while(st||j!==I);return I}function af(g,I,j,st,pt,wt,Rt){if(g){!Rt&&wt&&hd(g,st,pt,wt);for(var Jt=g,ue,_e;g.prev!==g.next;){if(ue=g.prev,_e=g.next,wt?id(g,st,pt,wt):nd(g)){I.push(ue.i/j),I.push(g.i/j),I.push(_e.i/j),sf(g),g=_e.next,Jt=_e.next;continue}if(g=_e,g===Jt){Rt?Rt===1?(g=ad(Yu(g),I,j),af(g,I,j,st,pt,wt,2)):Rt===2&&od(g,I,j,st,pt,wt):af(Yu(g),I,j,st,pt,wt,1);break}}}}function nd(g){var I=g.prev,j=g,st=g.next;if(Ua(I,j,st)>=0)return!1;for(var pt=g.next.next;pt!==g.prev;){if(zc(I.x,I.y,j.x,j.y,st.x,st.y,pt.x,pt.y)&&Ua(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function id(g,I,j,st){var pt=g.prev,wt=g,Rt=g.next;if(Ua(pt,wt,Rt)>=0)return!1;for(var Jt=pt.x<wt.x?pt.x<Rt.x?pt.x:Rt.x:wt.x<Rt.x?wt.x:Rt.x,ue=pt.y<wt.y?pt.y<Rt.y?pt.y:Rt.y:wt.y<Rt.y?wt.y:Rt.y,_e=pt.x>wt.x?pt.x>Rt.x?pt.x:Rt.x:wt.x>Rt.x?wt.x:Rt.x,Oe=pt.y>wt.y?pt.y>Rt.y?pt.y:Rt.y:wt.y>Rt.y?wt.y:Rt.y,je=nh(Jt,ue,I,j,st),Xe=nh(_e,Oe,I,j,st),nr=g.prevZ,_r=g.nextZ;nr&&nr.z>=je&&_r&&_r.z<=Xe;){if(nr!==g.prev&&nr!==g.next&&zc(pt.x,pt.y,wt.x,wt.y,Rt.x,Rt.y,nr.x,nr.y)&&Ua(nr.prev,nr,nr.next)>=0||(nr=nr.prevZ,_r!==g.prev&&_r!==g.next&&zc(pt.x,pt.y,wt.x,wt.y,Rt.x,Rt.y,_r.x,_r.y)&&Ua(_r.prev,_r,_r.next)>=0))return!1;_r=_r.nextZ}for(;nr&&nr.z>=je;){if(nr!==g.prev&&nr!==g.next&&zc(pt.x,pt.y,wt.x,wt.y,Rt.x,Rt.y,nr.x,nr.y)&&Ua(nr.prev,nr,nr.next)>=0)return!1;nr=nr.prevZ}for(;_r&&_r.z<=Xe;){if(_r!==g.prev&&_r!==g.next&&zc(pt.x,pt.y,wt.x,wt.y,Rt.x,Rt.y,_r.x,_r.y)&&Ua(_r.prev,_r,_r.next)>=0)return!1;_r=_r.nextZ}return!0}function ad(g,I,j){var st=g;do{var pt=st.prev,wt=st.next.next;!Sf(pt,wt)&&Ch(pt,st,st.next,wt)&&of(pt,wt)&&of(wt,pt)&&(I.push(pt.i/j),I.push(st.i/j),I.push(wt.i/j),sf(st),sf(st.next),st=g=wt),st=st.next}while(st!==g);return Yu(st)}function od(g,I,j,st,pt,wt){var Rt=g;do{for(var Jt=Rt.next.next;Jt!==Rt.prev;){if(Rt.i!==Jt.i&&vd(Rt,Jt)){var ue=Rh(Rt,Jt);Rt=Yu(Rt,Rt.next),ue=Yu(ue,ue.next),af(Rt,I,j,st,pt,wt),af(ue,I,j,st,pt,wt);return}Jt=Jt.next}Rt=Rt.next}while(Rt!==g)}function sd(g,I,j,st){var pt=[],wt,Rt,Jt,ue,_e;for(wt=0,Rt=I.length;wt<Rt;wt++)Jt=I[wt]*st,ue=wt<Rt-1?I[wt+1]*st:g.length,_e=Sh(g,Jt,ue,st,!1),_e===_e.next&&(_e.steiner=!0),pt.push(dd(_e));for(pt.sort(ld),wt=0;wt<pt.length;wt++)ud(pt[wt],j),j=Yu(j,j.next);return j}function ld(g,I){return g.x-I.x}function ud(g,I){if(I=cd(g,I),I){var j=Rh(I,g);Yu(I,I.next),Yu(j,j.next)}}function cd(g,I){var j=I,st=g.x,pt=g.y,wt=-1/0,Rt;do{if(pt<=j.y&&pt>=j.next.y&&j.next.y!==j.y){var Jt=j.x+(pt-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(Jt<=st&&Jt>wt){if(wt=Jt,Jt===st){if(pt===j.y)return j;if(pt===j.next.y)return j.next}Rt=j.x<j.next.x?j:j.next}}j=j.next}while(j!==I);if(!Rt)return null;if(st===wt)return Rt;var ue=Rt,_e=Rt.x,Oe=Rt.y,je=1/0,Xe;j=Rt;do st>=j.x&&j.x>=_e&&st!==j.x&&zc(pt<Oe?st:wt,pt,_e,Oe,pt<Oe?wt:st,pt,j.x,j.y)&&(Xe=Math.abs(pt-j.y)/(st-j.x),of(j,g)&&(Xe<je||Xe===je&&(j.x>Rt.x||j.x===Rt.x&&fd(Rt,j)))&&(Rt=j,je=Xe)),j=j.next;while(j!==ue);return Rt}function fd(g,I){return Ua(g.prev,g,I.prev)<0&&Ua(I.next,g,g.next)<0}function hd(g,I,j,st){var pt=g;do pt.z===null&&(pt.z=nh(pt.x,pt.y,I,j,st)),pt.prevZ=pt.prev,pt.nextZ=pt.next,pt=pt.next;while(pt!==g);pt.prevZ.nextZ=null,pt.prevZ=null,pd(pt)}function pd(g){var I,j,st,pt,wt,Rt,Jt,ue,_e=1;do{for(j=g,g=null,wt=null,Rt=0;j;){for(Rt++,st=j,Jt=0,I=0;I<_e&&(Jt++,st=st.nextZ,!!st);I++);for(ue=_e;Jt>0||ue>0&&st;)Jt!==0&&(ue===0||!st||j.z<=st.z)?(pt=j,j=j.nextZ,Jt--):(pt=st,st=st.nextZ,ue--),wt?wt.nextZ=pt:g=pt,pt.prevZ=wt,wt=pt;j=st}wt.nextZ=null,_e*=2}while(Rt>1);return g}function nh(g,I,j,st,pt){return g=32767*(g-j)*pt,I=32767*(I-st)*pt,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,g|I<<1}function dd(g){var I=g,j=g;do(I.x<j.x||I.x===j.x&&I.y<j.y)&&(j=I),I=I.next;while(I!==g);return j}function zc(g,I,j,st,pt,wt,Rt,Jt){return(pt-Rt)*(I-Jt)-(g-Rt)*(wt-Jt)>=0&&(g-Rt)*(st-Jt)-(j-Rt)*(I-Jt)>=0&&(j-Rt)*(wt-Jt)-(pt-Rt)*(st-Jt)>=0}function vd(g,I){return g.next.i!==I.i&&g.prev.i!==I.i&&!gd(g,I)&&(of(g,I)&&of(I,g)&&md(g,I)&&(Ua(g.prev,g,I.prev)||Ua(g,I.prev,I))||Sf(g,I)&&Ua(g.prev,g,g.next)>0&&Ua(I.prev,I,I.next)>0)}function Ua(g,I,j){return(I.y-g.y)*(j.x-I.x)-(I.x-g.x)*(j.y-I.y)}function Sf(g,I){return g.x===I.x&&g.y===I.y}function Ch(g,I,j,st){var pt=Rf(Ua(g,I,j)),wt=Rf(Ua(g,I,st)),Rt=Rf(Ua(j,st,g)),Jt=Rf(Ua(j,st,I));return!!(pt!==wt&&Rt!==Jt||pt===0&&Cf(g,j,I)||wt===0&&Cf(g,st,I)||Rt===0&&Cf(j,g,st)||Jt===0&&Cf(j,I,st))}function Cf(g,I,j){return I.x<=Math.max(g.x,j.x)&&I.x>=Math.min(g.x,j.x)&&I.y<=Math.max(g.y,j.y)&&I.y>=Math.min(g.y,j.y)}function Rf(g){return g>0?1:g<0?-1:0}function gd(g,I){var j=g;do{if(j.i!==g.i&&j.next.i!==g.i&&j.i!==I.i&&j.next.i!==I.i&&Ch(j,j.next,g,I))return!0;j=j.next}while(j!==g);return!1}function of(g,I){return Ua(g.prev,g,g.next)<0?Ua(g,I,g.next)>=0&&Ua(g,g.prev,I)>=0:Ua(g,I,g.prev)<0||Ua(g,g.next,I)<0}function md(g,I){var j=g,st=!1,pt=(g.x+I.x)/2,wt=(g.y+I.y)/2;do j.y>wt!=j.next.y>wt&&j.next.y!==j.y&&pt<(j.next.x-j.x)*(wt-j.y)/(j.next.y-j.y)+j.x&&(st=!st),j=j.next;while(j!==g);return st}function Rh(g,I){var j=new ih(g.i,g.x,g.y),st=new ih(I.i,I.x,I.y),pt=g.next,wt=I.prev;return g.next=I,I.prev=g,j.next=pt,pt.prev=j,st.next=j,j.prev=st,wt.next=st,st.prev=wt,st}function Oh(g,I,j,st){var pt=new ih(g,I,j);return st?(pt.next=st.next,pt.prev=st,st.next.prev=pt,st.next=pt):(pt.prev=pt,pt.next=pt),pt}function sf(g){g.next.prev=g.prev,g.prev.next=g.next,g.prevZ&&(g.prevZ.nextZ=g.nextZ),g.nextZ&&(g.nextZ.prevZ=g.prevZ)}function ih(g,I,j){this.i=g,this.x=I,this.y=j,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Lf.deviation=function(g,I,j,st){var pt=I&&I.length,wt=pt?I[0]*j:g.length,Rt=Math.abs(ah(g,0,wt,j));if(pt)for(var Jt=0,ue=I.length;Jt<ue;Jt++){var _e=I[Jt]*j,Oe=Jt<ue-1?I[Jt+1]*j:g.length;Rt-=Math.abs(ah(g,_e,Oe,j))}var je=0;for(Jt=0;Jt<st.length;Jt+=3){var Xe=st[Jt]*j,nr=st[Jt+1]*j,_r=st[Jt+2]*j;je+=Math.abs((g[Xe]-g[_r])*(g[nr+1]-g[Xe+1])-(g[Xe]-g[nr])*(g[_r+1]-g[Xe+1]))}return Rt===0&&je===0?0:Math.abs((je-Rt)/Rt)};function ah(g,I,j,st){for(var pt=0,wt=I,Rt=j-st;wt<j;wt+=st)pt+=(g[Rt]-g[wt])*(g[wt+1]+g[Rt+1]),Rt=wt;return pt}Lf.flatten=function(g){for(var I=g[0][0].length,j={vertices:[],holes:[],dimensions:I},st=0,pt=0;pt<g.length;pt++){for(var wt=0;wt<g[pt].length;wt++)for(var Rt=0;Rt<I;Rt++)j.vertices.push(g[pt][wt][Rt]);pt>0&&(st+=g[pt-1].length,j.holes.push(st))}return j},rh.default=rd;function yd(g,I,j,st,pt){Ph(g,I,j||0,st||g.length-1,pt||xd)}function Ph(g,I,j,st,pt){for(;st>j;){if(st-j>600){var wt=st-j+1,Rt=I-j+1,Jt=Math.log(wt),ue=.5*Math.exp(2*Jt/3),_e=.5*Math.sqrt(Jt*ue*(wt-ue)/wt)*(Rt-wt/2<0?-1:1),Oe=Math.max(j,Math.floor(I-Rt*ue/wt+_e)),je=Math.min(st,Math.floor(I+(wt-Rt)*ue/wt+_e));Ph(g,I,Oe,je,pt)}var Xe=g[I],nr=j,_r=st;for(lf(g,j,I),pt(g[st],Xe)>0&&lf(g,j,st);nr<_r;){for(lf(g,nr,_r),nr++,_r--;pt(g[nr],Xe)<0;)nr++;for(;pt(g[_r],Xe)>0;)_r--}pt(g[j],Xe)===0?lf(g,j,_r):(_r++,lf(g,_r,st)),_r<=I&&(j=_r+1),I<=_r&&(st=_r-1)}}function lf(g,I,j){var st=g[I];g[I]=g[j],g[j]=st}function xd(g,I){return g<I?-1:g>I?1:0}function oh(g,I){var j=g.length;if(j<=1)return[g];for(var st=[],pt,wt,Rt=0;Rt<j;Rt++){var Jt=B(g[Rt]);Jt!==0&&(g[Rt].area=Math.abs(Jt),wt===void 0&&(wt=Jt<0),wt===Jt<0?(pt&&st.push(pt),pt=[g[Rt]]):pt.push(g[Rt]))}if(pt&&st.push(pt),I>1)for(var ue=0;ue<st.length;ue++)st[ue].length<=I||(yd(st[ue],I,1,st[ue].length-1,bd),st[ue]=st[ue].slice(0,I));return st}function bd(g,I){return I.area-g.area}function sh(g,I,j){for(var st=j.patternDependencies,pt=!1,wt=0,Rt=I;wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=Jt.paint.get(g+"-pattern");ue.isConstant()||(pt=!0);var _e=ue.constantOr(null);_e&&(pt=!0,st[_e.to]=!0,st[_e.from]=!0)}return pt}function lh(g,I,j,st,pt){for(var wt=pt.patternDependencies,Rt=0,Jt=I;Rt<Jt.length;Rt+=1){var ue=Jt[Rt],_e=ue.paint.get(g+"-pattern"),Oe=_e.value;if(Oe.kind!=="constant"){var je=Oe.evaluate({zoom:st-1},j,{},pt.availableImages),Xe=Oe.evaluate({zoom:st},j,{},pt.availableImages),nr=Oe.evaluate({zoom:st+1},j,{},pt.availableImages);je=je&&je.name?je.name:je,Xe=Xe&&Xe.name?Xe.name:Xe,nr=nr&&nr.name?nr.name:nr,wt[je]=!0,wt[Xe]=!0,wt[nr]=!0,j.patterns[ue.id]={min:je,mid:Xe,max:nr}}}return j}var _d=500,vl=function(g){this.zoom=g.zoom,this.overscaling=g.overscaling,this.layers=g.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=g.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new su,this.indexArray=new pl,this.indexArray2=new gc,this.programConfigurations=new li(g.layers,g.zoom),this.segments=new Ba,this.segments2=new Ba,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};vl.prototype.populate=function(g,I,j){this.hasPattern=sh("fill",this.layers,I);for(var st=this.layers[0].layout.get("fill-sort-key"),pt=[],wt=0,Rt=g;wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=Jt.feature,_e=Jt.id,Oe=Jt.index,je=Jt.sourceLayerIndex,Xe=this.layers[0]._featureFilter.needGeometry,nr=Ni(ue,Xe);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),nr,j)){var _r=st?st.evaluate(nr,{},j,I.availableImages):void 0,zr={id:_e,properties:ue.properties,type:ue.type,sourceLayerIndex:je,index:Oe,geometry:Xe?nr.geometry:Ki(ue),patterns:{},sortKey:_r};pt.push(zr)}}st&&pt.sort(function(fi,hi){return fi.sortKey-hi.sortKey});for(var ln=0,en=pt;ln<en.length;ln+=1){var dn=en[ln],bn=dn,hn=bn.geometry,On=bn.index,Un=bn.sourceLayerIndex;if(this.hasPattern){var Xn=lh("fill",this.layers,dn,this.zoom,I);this.patternFeatures.push(Xn)}else this.addFeature(dn,hn,On,j,{});var Vn=g[On].feature;I.featureIndex.insert(Vn,hn,On,Un,this.index)}},vl.prototype.update=function(g,I,j){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(g,I,this.stateDependentLayers,j)},vl.prototype.addFeatures=function(g,I,j){for(var st=0,pt=this.patternFeatures;st<pt.length;st+=1){var wt=pt[st];this.addFeature(wt,wt.geometry,wt.index,I,j)}},vl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vl.prototype.upload=function(g){this.uploaded||(this.layoutVertexBuffer=g.createVertexBuffer(this.layoutVertexArray,ed),this.indexBuffer=g.createIndexBuffer(this.indexArray),this.indexBuffer2=g.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(g),this.uploaded=!0},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},vl.prototype.addFeature=function(g,I,j,st,pt){for(var wt=0,Rt=oh(I,_d);wt<Rt.length;wt+=1){for(var Jt=Rt[wt],ue=0,_e=0,Oe=Jt;_e<Oe.length;_e+=1){var je=Oe[_e];ue+=je.length}for(var Xe=this.segments.prepareSegment(ue,this.layoutVertexArray,this.indexArray),nr=Xe.vertexLength,_r=[],zr=[],ln=0,en=Jt;ln<en.length;ln+=1){var dn=en[ln];if(dn.length!==0){dn!==Jt[0]&&zr.push(_r.length/2);var bn=this.segments2.prepareSegment(dn.length,this.layoutVertexArray,this.indexArray2),hn=bn.vertexLength;this.layoutVertexArray.emplaceBack(dn[0].x,dn[0].y),this.indexArray2.emplaceBack(hn+dn.length-1,hn),_r.push(dn[0].x),_r.push(dn[0].y);for(var On=1;On<dn.length;On++)this.layoutVertexArray.emplaceBack(dn[On].x,dn[On].y),this.indexArray2.emplaceBack(hn+On-1,hn+On),_r.push(dn[On].x),_r.push(dn[On].y);bn.vertexLength+=dn.length,bn.primitiveLength+=dn.length}}for(var Un=rh(_r,zr),Xn=0;Xn<Un.length;Xn+=3)this.indexArray.emplaceBack(nr+Un[Xn],nr+Un[Xn+1],nr+Un[Xn+2]);Xe.vertexLength+=ue,Xe.primitiveLength+=Un.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,g,j,pt,st)},Ct("FillBucket",vl,{omit:["layers","patternFeatures"]});var wd=new Zi({"fill-sort-key":new vi(gr.layout_fill["fill-sort-key"])}),Ad=new Zi({"fill-antialias":new Qn(gr.paint_fill["fill-antialias"]),"fill-opacity":new vi(gr.paint_fill["fill-opacity"]),"fill-color":new vi(gr.paint_fill["fill-color"]),"fill-outline-color":new vi(gr.paint_fill["fill-outline-color"]),"fill-translate":new Qn(gr.paint_fill["fill-translate"]),"fill-translate-anchor":new Qn(gr.paint_fill["fill-translate-anchor"]),"fill-pattern":new ro(gr.paint_fill["fill-pattern"])}),Td={paint:Ad,layout:wd},kd=function(g){function I(j){g.call(this,j,Td)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(j,st){g.prototype.recalculate.call(this,j,st);var pt=this.paint._values["fill-outline-color"];pt.value.kind==="constant"&&pt.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(j){return new vl(j)},I.prototype.queryRadius=function(){return cs(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(j,st,pt,wt,Rt,Jt,ue){var _e=Jo(j,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),Jt.angle,ue);return ja(_e,wt)},I.prototype.isTileClipped=function(){return!0},I}(wa),Md=pa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ed=Md.members,zh=Ic;function Ic(g,I,j,st,pt){this.properties={},this.extent=j,this.type=0,this._pbf=g,this._geometry=-1,this._keys=st,this._values=pt,g.readFields(Ld,this,I)}function Ld(g,I,j){g==1?I.id=j.readVarint():g==2?Sd(j,I):g==3?I.type=j.readVarint():g==4&&(I._geometry=j.pos)}function Sd(g,I){for(var j=g.readVarint()+g.pos;g.pos<j;){var st=I._keys[g.readVarint()],pt=I._values[g.readVarint()];I.properties[st]=pt}}Ic.types=["Unknown","Point","LineString","Polygon"],Ic.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var I=g.readVarint()+g.pos,j=1,st=0,pt=0,wt=0,Rt=[],Jt;g.pos<I;){if(st<=0){var ue=g.readVarint();j=ue&7,st=ue>>3}if(st--,j===1||j===2)pt+=g.readSVarint(),wt+=g.readSVarint(),j===1&&(Jt&&Rt.push(Jt),Jt=[]),Jt.push(new r(pt,wt));else if(j===7)Jt&&Jt.push(Jt[0].clone());else throw new Error("unknown command "+j)}return Jt&&Rt.push(Jt),Rt},Ic.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var I=g.readVarint()+g.pos,j=1,st=0,pt=0,wt=0,Rt=1/0,Jt=-1/0,ue=1/0,_e=-1/0;g.pos<I;){if(st<=0){var Oe=g.readVarint();j=Oe&7,st=Oe>>3}if(st--,j===1||j===2)pt+=g.readSVarint(),wt+=g.readSVarint(),pt<Rt&&(Rt=pt),pt>Jt&&(Jt=pt),wt<ue&&(ue=wt),wt>_e&&(_e=wt);else if(j!==7)throw new Error("unknown command "+j)}return[Rt,ue,Jt,_e]},Ic.prototype.toGeoJSON=function(g,I,j){var st=this.extent*Math.pow(2,j),pt=this.extent*g,wt=this.extent*I,Rt=this.loadGeometry(),Jt=Ic.types[this.type],ue,_e;function Oe(nr){for(var _r=0;_r<nr.length;_r++){var zr=nr[_r],ln=180-(zr.y+wt)*360/st;nr[_r]=[(zr.x+pt)*360/st-180,360/Math.PI*Math.atan(Math.exp(ln*Math.PI/180))-90]}}switch(this.type){case 1:var je=[];for(ue=0;ue<Rt.length;ue++)je[ue]=Rt[ue][0];Rt=je,Oe(Rt);break;case 2:for(ue=0;ue<Rt.length;ue++)Oe(Rt[ue]);break;case 3:for(Rt=Cd(Rt),ue=0;ue<Rt.length;ue++)for(_e=0;_e<Rt[ue].length;_e++)Oe(Rt[ue][_e]);break}Rt.length===1?Rt=Rt[0]:Jt="Multi"+Jt;var Xe={type:"Feature",geometry:{type:Jt,coordinates:Rt},properties:this.properties};return"id"in this&&(Xe.id=this.id),Xe};function Cd(g){var I=g.length;if(I<=1)return[g];for(var j=[],st,pt,wt=0;wt<I;wt++){var Rt=Rd(g[wt]);Rt!==0&&(pt===void 0&&(pt=Rt<0),pt===Rt<0?(st&&j.push(st),st=[g[wt]]):st.push(g[wt]))}return st&&j.push(st),j}function Rd(g){for(var I=0,j=0,st=g.length,pt=st-1,wt,Rt;j<st;pt=j++)wt=g[j],Rt=g[pt],I+=(Rt.x-wt.x)*(wt.y+Rt.y);return I}var Ih=Fh;function Fh(g,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=g,this._keys=[],this._values=[],this._features=[],g.readFields(Od,this,I),this.length=this._features.length}function Od(g,I,j){g===15?I.version=j.readVarint():g===1?I.name=j.readString():g===5?I.extent=j.readVarint():g===2?I._features.push(j.pos):g===3?I._keys.push(j.readString()):g===4&&I._values.push(Pd(j))}function Pd(g){for(var I=null,j=g.readVarint()+g.pos;g.pos<j;){var st=g.readVarint()>>3;I=st===1?g.readString():st===2?g.readFloat():st===3?g.readDouble():st===4?g.readVarint64():st===5?g.readVarint():st===6?g.readSVarint():st===7?g.readBoolean():null}return I}Fh.prototype.feature=function(g){if(g<0||g>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[g];var I=this._pbf.readVarint()+this._pbf.pos;return new zh(this._pbf,I,this.extent,this._keys,this._values)};var zd=Id;function Id(g,I){this.layers=g.readFields(Fd,{},I)}function Fd(g,I,j){if(g===3){var st=new Ih(j,j.readVarint()+j.pos);st.length&&(I[st.name]=st)}}var Dd=zd,Nd=zh,Bd=Ih,Fc={VectorTile:Dd,VectorTileFeature:Nd,VectorTileLayer:Bd},jd=Fc.VectorTileFeature.types,Ud=500,uh=Math.pow(2,13);function uf(g,I,j,st,pt,wt,Rt,Jt){g.emplaceBack(I,j,Math.floor(st*uh)*2+Rt,pt*uh*2,wt*uh*2,Math.round(Jt))}var ml=function(g){this.zoom=g.zoom,this.overscaling=g.overscaling,this.layers=g.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=g.index,this.hasPattern=!1,this.layoutVertexArray=new Fl,this.indexArray=new pl,this.programConfigurations=new li(g.layers,g.zoom),this.segments=new Ba,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};ml.prototype.populate=function(g,I,j){this.features=[],this.hasPattern=sh("fill-extrusion",this.layers,I);for(var st=0,pt=g;st<pt.length;st+=1){var wt=pt[st],Rt=wt.feature,Jt=wt.id,ue=wt.index,_e=wt.sourceLayerIndex,Oe=this.layers[0]._featureFilter.needGeometry,je=Ni(Rt,Oe);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),je,j)){var Xe={id:Jt,sourceLayerIndex:_e,index:ue,geometry:Oe?je.geometry:Ki(Rt),properties:Rt.properties,type:Rt.type,patterns:{}};this.hasPattern?this.features.push(lh("fill-extrusion",this.layers,Xe,this.zoom,I)):this.addFeature(Xe,Xe.geometry,ue,j,{}),I.featureIndex.insert(Rt,Xe.geometry,ue,_e,this.index,!0)}}},ml.prototype.addFeatures=function(g,I,j){for(var st=0,pt=this.features;st<pt.length;st+=1){var wt=pt[st],Rt=wt.geometry;this.addFeature(wt,Rt,wt.index,I,j)}},ml.prototype.update=function(g,I,j){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(g,I,this.stateDependentLayers,j)},ml.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ml.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ml.prototype.upload=function(g){this.uploaded||(this.layoutVertexBuffer=g.createVertexBuffer(this.layoutVertexArray,Ed),this.indexBuffer=g.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(g),this.uploaded=!0},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ml.prototype.addFeature=function(g,I,j,st,pt){for(var wt=0,Rt=oh(I,Ud);wt<Rt.length;wt+=1){for(var Jt=Rt[wt],ue=0,_e=0,Oe=Jt;_e<Oe.length;_e+=1){var je=Oe[_e];ue+=je.length}for(var Xe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),nr=0,_r=Jt;nr<_r.length;nr+=1){var zr=_r[nr];if(zr.length!==0&&!Yd(zr))for(var ln=0,en=0;en<zr.length;en++){var dn=zr[en];if(en>=1){var bn=zr[en-1];if(!qd(dn,bn)){Xe.vertexLength+4>Ba.MAX_VERTEX_ARRAY_LENGTH&&(Xe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var hn=dn.sub(bn)._perp()._unit(),On=bn.dist(dn);ln+On>32768&&(ln=0),uf(this.layoutVertexArray,dn.x,dn.y,hn.x,hn.y,0,0,ln),uf(this.layoutVertexArray,dn.x,dn.y,hn.x,hn.y,0,1,ln),ln+=On,uf(this.layoutVertexArray,bn.x,bn.y,hn.x,hn.y,0,0,ln),uf(this.layoutVertexArray,bn.x,bn.y,hn.x,hn.y,0,1,ln);var Un=Xe.vertexLength;this.indexArray.emplaceBack(Un,Un+2,Un+1),this.indexArray.emplaceBack(Un+1,Un+2,Un+3),Xe.vertexLength+=4,Xe.primitiveLength+=2}}}}if(Xe.vertexLength+ue>Ba.MAX_VERTEX_ARRAY_LENGTH&&(Xe=this.segments.prepareSegment(ue,this.layoutVertexArray,this.indexArray)),jd[g.type]==="Polygon"){for(var Xn=[],Vn=[],fi=Xe.vertexLength,hi=0,gi=Jt;hi<gi.length;hi+=1){var bi=gi[hi];if(bi.length!==0){bi!==Jt[0]&&Vn.push(Xn.length/2);for(var Ei=0;Ei<bi.length;Ei++){var mi=bi[Ei];uf(this.layoutVertexArray,mi.x,mi.y,0,0,1,1,0),Xn.push(mi.x),Xn.push(mi.y)}}}for(var xi=rh(Xn,Vn),ji=0;ji<xi.length;ji+=3)this.indexArray.emplaceBack(fi+xi[ji],fi+xi[ji+2],fi+xi[ji+1]);Xe.primitiveLength+=xi.length/3,Xe.vertexLength+=ue}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,g,j,pt,st)},Ct("FillExtrusionBucket",ml,{omit:["layers","features"]});function qd(g,I){return g.x===I.x&&(g.x<0||g.x>ki)||g.y===I.y&&(g.y<0||g.y>ki)}function Yd(g){return g.every(function(I){return I.x<0})||g.every(function(I){return I.x>ki})||g.every(function(I){return I.y<0})||g.every(function(I){return I.y>ki})}var Gd=new Zi({"fill-extrusion-opacity":new Qn(gr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vi(gr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qn(gr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qn(gr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ro(gr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vi(gr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vi(gr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qn(gr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),Hd={paint:Gd},Wd=function(g){function I(j){g.call(this,j,Hd)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(j){return new ml(j)},I.prototype.queryRadius=function(){return cs(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(j,st,pt,wt,Rt,Jt,ue,_e){var Oe=Jo(j,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Jt.angle,ue),je=this.paint.get("fill-extrusion-height").evaluate(st,pt),Xe=this.paint.get("fill-extrusion-base").evaluate(st,pt),nr=Zd(Oe,_e,Jt,0),_r=Vd(wt,Xe,je,_e),zr=_r[0],ln=_r[1];return Xd(zr,ln,nr)},I}(wa);function cf(g,I){return g.x*I.x+g.y*I.y}function Dh(g,I){if(g.length===1){for(var j=0,st=I[j++],pt;!pt||st.equals(pt);)if(pt=I[j++],!pt)return 1/0;for(;j<I.length;j++){var wt=I[j],Rt=g[0],Jt=pt.sub(st),ue=wt.sub(st),_e=Rt.sub(st),Oe=cf(Jt,Jt),je=cf(Jt,ue),Xe=cf(ue,ue),nr=cf(_e,Jt),_r=cf(_e,ue),zr=Oe*Xe-je*je,ln=(Xe*nr-je*_r)/zr,en=(Oe*_r-je*nr)/zr,dn=1-ln-en,bn=st.z*dn+pt.z*ln+wt.z*en;if(isFinite(bn))return bn}return 1/0}else{for(var hn=1/0,On=0,Un=I;On<Un.length;On+=1){var Xn=Un[On];hn=Math.min(hn,Xn.z)}return hn}}function Xd(g,I,j){var st=1/0;ja(j,I)&&(st=Dh(j,I[0]));for(var pt=0;pt<I.length;pt++)for(var wt=I[pt],Rt=g[pt],Jt=0;Jt<wt.length-1;Jt++){var ue=wt[Jt],_e=wt[Jt+1],Oe=Rt[Jt],je=Rt[Jt+1],Xe=[ue,_e,je,Oe,ue];Bi(j,Xe)&&(st=Math.min(st,Dh(j,Xe)))}return st===1/0?!1:st}function Vd(g,I,j,st){for(var pt=[],wt=[],Rt=st[8]*I,Jt=st[9]*I,ue=st[10]*I,_e=st[11]*I,Oe=st[8]*j,je=st[9]*j,Xe=st[10]*j,nr=st[11]*j,_r=0,zr=g;_r<zr.length;_r+=1){for(var ln=zr[_r],en=[],dn=[],bn=0,hn=ln;bn<hn.length;bn+=1){var On=hn[bn],Un=On.x,Xn=On.y,Vn=st[0]*Un+st[4]*Xn+st[12],fi=st[1]*Un+st[5]*Xn+st[13],hi=st[2]*Un+st[6]*Xn+st[14],gi=st[3]*Un+st[7]*Xn+st[15],bi=Vn+Rt,Ei=fi+Jt,mi=hi+ue,xi=gi+_e,ji=Vn+Oe,ra=fi+je,ca=hi+Xe,Yi=gi+nr,na=new r(bi/xi,Ei/xi);na.z=mi/xi,en.push(na);var Ui=new r(ji/Yi,ra/Yi);Ui.z=ca/Yi,dn.push(Ui)}pt.push(en),wt.push(dn)}return[pt,wt]}function Zd(g,I,j,st){for(var pt=[],wt=0,Rt=g;wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=[Jt.x,Jt.y,st,1];Ef(ue,ue,I),pt.push(new r(ue[0]/ue[3],ue[1]/ue[3]))}return pt}var Kd=pa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Jd=Kd.members,$d=pa([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),Qd=$d.members,t0=Fc.VectorTileFeature.types,Nh=63,e0=Math.cos(75/2*(Math.PI/180)),r0=15,n0=20,i0=15,Bh=1/2,jh=Math.pow(2,i0-1)/Bh,Eo=function(g){var I=this;this.zoom=g.zoom,this.overscaling=g.overscaling,this.layers=g.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=g.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(j){I.gradients[j.id]={}}),this.layoutVertexArray=new Fu,this.layoutVertexArray2=new Du,this.indexArray=new pl,this.programConfigurations=new li(g.layers,g.zoom),this.segments=new Ba,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Eo.prototype.populate=function(g,I,j){this.hasPattern=sh("line",this.layers,I);for(var st=this.layers[0].layout.get("line-sort-key"),pt=[],wt=0,Rt=g;wt<Rt.length;wt+=1){var Jt=Rt[wt],ue=Jt.feature,_e=Jt.id,Oe=Jt.index,je=Jt.sourceLayerIndex,Xe=this.layers[0]._featureFilter.needGeometry,nr=Ni(ue,Xe);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),nr,j)){var _r=st?st.evaluate(nr,{},j):void 0,zr={id:_e,properties:ue.properties,type:ue.type,sourceLayerIndex:je,index:Oe,geometry:Xe?nr.geometry:Ki(ue),patterns:{},sortKey:_r};pt.push(zr)}}st&&pt.sort(function(fi,hi){return fi.sortKey-hi.sortKey});for(var ln=0,en=pt;ln<en.length;ln+=1){var dn=en[ln],bn=dn,hn=bn.geometry,On=bn.index,Un=bn.sourceLayerIndex;if(this.hasPattern){var Xn=lh("line",this.layers,dn,this.zoom,I);this.patternFeatures.push(Xn)}else this.addFeature(dn,hn,On,j,{});var Vn=g[On].feature;I.featureIndex.insert(Vn,hn,On,Un,this.index)}},Eo.prototype.update=function(g,I,j){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(g,I,this.stateDependentLayers,j)},Eo.prototype.addFeatures=function(g,I,j){for(var st=0,pt=this.patternFeatures;st<pt.length;st+=1){var wt=pt[st];this.addFeature(wt,wt.geometry,wt.index,I,j)}},Eo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Eo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Eo.prototype.upload=function(g){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=g.createVertexBuffer(this.layoutVertexArray2,Qd)),this.layoutVertexBuffer=g.createVertexBuffer(this.layoutVertexArray,Jd),this.indexBuffer=g.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(g),this.uploaded=!0},Eo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Eo.prototype.lineFeatureClips=function(g){if(g.properties&&g.properties.hasOwnProperty("mapbox_clip_start")&&g.properties.hasOwnProperty("mapbox_clip_end")){var I=+g.properties.mapbox_clip_start,j=+g.properties.mapbox_clip_end;return{start:I,end:j}}},Eo.prototype.addFeature=function(g,I,j,st,pt){var wt=this.layers[0].layout,Rt=wt.get("line-join").evaluate(g,{}),Jt=wt.get("line-cap"),ue=wt.get("line-miter-limit"),_e=wt.get("line-round-limit");this.lineClips=this.lineFeatureClips(g);for(var Oe=0,je=I;Oe<je.length;Oe+=1){var Xe=je[Oe];this.addLine(Xe,g,Rt,Jt,ue,_e)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,g,j,pt,st)},Eo.prototype.addLine=function(g,I,j,st,pt,wt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Rt=0;Rt<g.length-1;Rt++)this.totalDistance+=g[Rt].dist(g[Rt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var Jt=t0[I.type]==="Polygon",ue=g.length;ue>=2&&g[ue-1].equals(g[ue-2]);)ue--;for(var _e=0;_e<ue-1&&g[_e].equals(g[_e+1]);)_e++;if(!(ue<(Jt?3:2))){j==="bevel"&&(pt=1.05);var Oe=this.overscaling<=16?r0*ki/(512*this.overscaling):0,je=this.segments.prepareSegment(ue*10,this.layoutVertexArray,this.indexArray),Xe,nr=void 0,_r=void 0,zr=void 0,ln=void 0;this.e1=this.e2=-1,Jt&&(Xe=g[ue-2],ln=g[_e].sub(Xe)._unit()._perp());for(var en=_e;en<ue;en++)if(_r=en===ue-1?Jt?g[_e+1]:void 0:g[en+1],!(_r&&g[en].equals(_r))){ln&&(zr=ln),Xe&&(nr=Xe),Xe=g[en],ln=_r?_r.sub(Xe)._unit()._perp():zr,zr=zr||ln;var dn=zr.add(ln);(dn.x!==0||dn.y!==0)&&dn._unit();var bn=zr.x*ln.x+zr.y*ln.y,hn=dn.x*ln.x+dn.y*ln.y,On=hn!==0?1/hn:1/0,Un=2*Math.sqrt(2-2*hn),Xn=hn<e0&&nr&&_r,Vn=zr.x*ln.y-zr.y*ln.x>0;if(Xn&&en>_e){var fi=Xe.dist(nr);if(fi>2*Oe){var hi=Xe.sub(Xe.sub(nr)._mult(Oe/fi)._round());this.updateDistance(nr,hi),this.addCurrentVertex(hi,zr,0,0,je),nr=hi}}var gi=nr&&_r,bi=gi?j:Jt?"butt":st;if(gi&&bi==="round"&&(On<wt?bi="miter":On<=2&&(bi="fakeround")),bi==="miter"&&On>pt&&(bi="bevel"),bi==="bevel"&&(On>2&&(bi="flipbevel"),On<pt&&(bi="miter")),nr&&this.updateDistance(nr,Xe),bi==="miter")dn._mult(On),this.addCurrentVertex(Xe,dn,0,0,je);else if(bi==="flipbevel"){if(On>100)dn=ln.mult(-1);else{var Ei=On*zr.add(ln).mag()/zr.sub(ln).mag();dn._perp()._mult(Ei*(Vn?-1:1))}this.addCurrentVertex(Xe,dn,0,0,je),this.addCurrentVertex(Xe,dn.mult(-1),0,0,je)}else if(bi==="bevel"||bi==="fakeround"){var mi=-Math.sqrt(On*On-1),xi=Vn?mi:0,ji=Vn?0:mi;if(nr&&this.addCurrentVertex(Xe,zr,xi,ji,je),bi==="fakeround")for(var ra=Math.round(Un*180/Math.PI/n0),ca=1;ca<ra;ca++){var Yi=ca/ra;if(Yi!==.5){var na=Yi-.5,Ui=1.0904+bn*(-3.2452+bn*(3.55645-bn*1.43519)),da=.848013+bn*(-1.06021+bn*.215638);Yi=Yi+Yi*na*(Yi-1)*(Ui*na*na+da)}var ua=ln.sub(zr)._mult(Yi)._add(zr)._unit()._mult(Vn?-1:1);this.addHalfVertex(Xe,ua.x,ua.y,!1,Vn,0,je)}_r&&this.addCurrentVertex(Xe,ln,-xi,-ji,je)}else if(bi==="butt")this.addCurrentVertex(Xe,dn,0,0,je);else if(bi==="square"){var La=nr?1:-1;this.addCurrentVertex(Xe,dn,La,La,je)}else bi==="round"&&(nr&&(this.addCurrentVertex(Xe,zr,0,0,je),this.addCurrentVertex(Xe,zr,1,1,je,!0)),_r&&(this.addCurrentVertex(Xe,ln,-1,-1,je,!0),this.addCurrentVertex(Xe,ln,0,0,je)));if(Xn&&en<ue-1){var ao=Xe.dist(_r);if(ao>2*Oe){var Ga=Xe.add(_r.sub(Xe)._mult(Oe/ao)._round());this.updateDistance(Xe,Ga),this.addCurrentVertex(Ga,ln,0,0,je),Xe=Ga}}}}},Eo.prototype.addCurrentVertex=function(g,I,j,st,pt,wt){wt===void 0&&(wt=!1);var Rt=I.x+I.y*j,Jt=I.y-I.x*j,ue=-I.x+I.y*st,_e=-I.y-I.x*st;this.addHalfVertex(g,Rt,Jt,wt,!1,j,pt),this.addHalfVertex(g,ue,_e,wt,!0,-st,pt),this.distance>jh/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(g,I,j,st,pt,wt))},Eo.prototype.addHalfVertex=function(g,I,j,st,pt,wt,Rt){var Jt=g.x,ue=g.y,_e=this.lineClips?this.scaledDistance*(jh-1):this.scaledDistance,Oe=_e*Bh;if(this.layoutVertexArray.emplaceBack((Jt<<1)+(st?1:0),(ue<<1)+(pt?1:0),Math.round(Nh*I)+128,Math.round(Nh*j)+128,(wt===0?0:wt<0?-1:1)+1|(Oe&63)<<2,Oe>>6),this.lineClips){var je=this.scaledDistance-this.lineClips.start,Xe=this.lineClips.end-this.lineClips.start,nr=je/Xe;this.layoutVertexArray2.emplaceBack(nr,this.lineClipsArray.length)}var _r=Rt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,_r),Rt.primitiveLength++),pt?this.e2=_r:this.e1=_r},Eo.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Eo.prototype.updateDistance=function(g,I){this.distance+=g.dist(I),this.updateScaledDistance()},Ct("LineBucket",Eo,{omit:["layers","patternFeatures"]});var a0=new Zi({"line-cap":new Qn(gr.layout_line["line-cap"]),"line-join":new vi(gr.layout_line["line-join"]),"line-miter-limit":new Qn(gr.layout_line["line-miter-limit"]),"line-round-limit":new Qn(gr.layout_line["line-round-limit"]),"line-sort-key":new vi(gr.layout_line["line-sort-key"])}),o0=new Zi({"line-opacity":new vi(gr.paint_line["line-opacity"]),"line-color":new vi(gr.paint_line["line-color"]),"line-translate":new Qn(gr.paint_line["line-translate"]),"line-translate-anchor":new Qn(gr.paint_line["line-translate-anchor"]),"line-width":new vi(gr.paint_line["line-width"]),"line-gap-width":new vi(gr.paint_line["line-gap-width"]),"line-offset":new vi(gr.paint_line["line-offset"]),"line-blur":new vi(gr.paint_line["line-blur"]),"line-dasharray":new uo(gr.paint_line["line-dasharray"]),"line-pattern":new ro(gr.paint_line["line-pattern"]),"line-gradient":new Na(gr.paint_line["line-gradient"])}),Uh={paint:o0,layout:a0},s0=function(g){function I(){g.apply(this,arguments)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(j,st){return st=new pi(Math.floor(st.zoom),{now:st.now,fadeDuration:st.fadeDuration,zoomHistory:st.zoomHistory,transition:st.transition}),g.prototype.possiblyEvaluate.call(this,j,st)},I.prototype.evaluate=function(j,st,pt,wt){return st=x({},st,{zoom:Math.floor(st.zoom)}),g.prototype.evaluate.call(this,j,st,pt,wt)},I}(vi),qh=new s0(Uh.paint.properties["line-width"].specification);qh.useIntegerZoom=!0;var l0=function(g){function I(j){g.call(this,j,Uh),this.gradientVersion=0}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(j){if(j==="line-gradient"){var st=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=st._styleExpression.expression instanceof xo,this.gradientVersion=(this.gradientVersion+1)%s}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(j,st){g.prototype.recalculate.call(this,j,st),this.paint._values["line-floorwidth"]=qh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,j)},I.prototype.createBucket=function(j){return new Eo(j)},I.prototype.queryRadius=function(j){var st=j,pt=Yh(Ko("line-width",this,st),Ko("line-gap-width",this,st)),wt=Ko("line-offset",this,st);return pt/2+Math.abs(wt)+cs(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(j,st,pt,wt,Rt,Jt,ue){var _e=Jo(j,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),Jt.angle,ue),Oe=ue/2*Yh(this.paint.get("line-width").evaluate(st,pt),this.paint.get("line-gap-width").evaluate(st,pt)),je=this.paint.get("line-offset").evaluate(st,pt);return je&&(wt=u0(wt,je*ue)),ws(_e,wt,Oe)},I.prototype.isTileClipped=function(){return!0},I}(wa);function Yh(g,I){return I>0?I+2*g:g}function u0(g,I){for(var j=[],st=new r(0,0),pt=0;pt<g.length;pt++){for(var wt=g[pt],Rt=[],Jt=0;Jt<wt.length;Jt++){var ue=wt[Jt-1],_e=wt[Jt],Oe=wt[Jt+1],je=Jt===0?st:_e.sub(ue)._unit()._perp(),Xe=Jt===wt.length-1?st:Oe.sub(_e)._unit()._perp(),nr=je._add(Xe)._unit(),_r=nr.x*Xe.x+nr.y*Xe.y;nr._mult(1/_r),Rt.push(nr._mult(I)._add(_e))}j.push(Rt)}return j}var c0=pa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),f0=pa([{name:"a_projected_pos",components:3,type:"Float32"}],4);pa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var h0=pa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);pa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Gh=pa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),p0=pa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);pa([{name:"triangle",components:3,type:"Uint16"}]),pa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),pa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),pa([{type:"Float32",name:"offsetX"}]),pa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function d0(g,I,j){var st=I.layout.get("text-transform").evaluate(j,{});return st==="uppercase"?g=g.toLocaleUpperCase():st==="lowercase"&&(g=g.toLocaleLowerCase()),Yn.applyArabicShaping&&(g=Yn.applyArabicShaping(g)),g}function v0(g,I,j){return g.sections.forEach(function(st){st.text=d0(st.text,I,j)}),g}function g0(g){var I={},j={},st=[],pt=0;function wt(en){st.push(g[en]),pt++}function Rt(en,dn,bn){var hn=j[en];return delete j[en],j[dn]=hn,st[hn].geometry[0].pop(),st[hn].geometry[0]=st[hn].geometry[0].concat(bn[0]),hn}function Jt(en,dn,bn){var hn=I[dn];return delete I[dn],I[en]=hn,st[hn].geometry[0].shift(),st[hn].geometry[0]=bn[0].concat(st[hn].geometry[0]),hn}function ue(en,dn,bn){var hn=bn?dn[0][dn[0].length-1]:dn[0][0];return en+":"+hn.x+":"+hn.y}for(var _e=0;_e<g.length;_e++){var Oe=g[_e],je=Oe.geometry,Xe=Oe.text?Oe.text.toString():null;if(!Xe){wt(_e);continue}var nr=ue(Xe,je),_r=ue(Xe,je,!0);if(nr in j&&_r in I&&j[nr]!==I[_r]){var zr=Jt(nr,_r,je),ln=Rt(nr,_r,st[zr].geometry);delete I[nr],delete j[_r],j[ue(Xe,st[ln].geometry,!0)]=ln,st[zr].geometry=null}else nr in j?Rt(nr,_r,je):_r in I?Jt(nr,_r,je):(wt(_e),I[nr]=pt-1,j[_r]=pt-1)}return st.filter(function(en){return en.geometry})}var ff={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};function m0(g){for(var I="",j=0;j<g.length;j++){var st=g.charCodeAt(j+1)||null,pt=g.charCodeAt(j-1)||null,wt=(!st||!Dr(st)||ff[g[j+1]])&&(!pt||!Dr(pt)||ff[g[j-1]]);wt&&ff[g[j]]?I+=ff[g[j]]:I+=g[j]}return I}var io=24,y0=function(g,I,j,st,pt){var wt,Rt,Jt=pt*8-st-1,ue=(1<<Jt)-1,_e=ue>>1,Oe=-7,je=j?pt-1:0,Xe=j?-1:1,nr=g[I+je];for(je+=Xe,wt=nr&(1<<-Oe)-1,nr>>=-Oe,Oe+=Jt;Oe>0;wt=wt*256+g[I+je],je+=Xe,Oe-=8);for(Rt=wt&(1<<-Oe)-1,wt>>=-Oe,Oe+=st;Oe>0;Rt=Rt*256+g[I+je],je+=Xe,Oe-=8);if(wt===0)wt=1-_e;else{if(wt===ue)return Rt?NaN:(nr?-1:1)*(1/0);Rt=Rt+Math.pow(2,st),wt=wt-_e}return(nr?-1:1)*Rt*Math.pow(2,wt-st)},x0=function(g,I,j,st,pt,wt){var Rt,Jt,ue,_e=wt*8-pt-1,Oe=(1<<_e)-1,je=Oe>>1,Xe=pt===23?Math.pow(2,-24)-Math.pow(2,-77):0,nr=st?0:wt-1,_r=st?1:-1,zr=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Jt=isNaN(I)?1:0,Rt=Oe):(Rt=Math.floor(Math.log(I)/Math.LN2),I*(ue=Math.pow(2,-Rt))<1&&(Rt--,ue*=2),Rt+je>=1?I+=Xe/ue:I+=Xe*Math.pow(2,1-je),I*ue>=2&&(Rt++,ue/=2),Rt+je>=Oe?(Jt=0,Rt=Oe):Rt+je>=1?(Jt=(I*ue-1)*Math.pow(2,pt),Rt=Rt+je):(Jt=I*Math.pow(2,je-1)*Math.pow(2,pt),Rt=0));pt>=8;g[j+nr]=Jt&255,nr+=_r,Jt/=256,pt-=8);for(Rt=Rt<<pt|Jt,_e+=pt;_e>0;g[j+nr]=Rt&255,nr+=_r,Rt/=256,_e-=8);g[j+nr-_r]|=zr*128},Of={read:y0,write:x0},Pf=fa;function fa(g){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(g)?g:new Uint8Array(g||0),this.pos=0,this.type=0,this.length=this.buf.length}fa.Varint=0,fa.Fixed64=1,fa.Bytes=2,fa.Fixed32=5;var ch=65536*65536,Hh=1/ch,b0=12,Wh=typeof TextDecoder>"u"?null:new TextDecoder("utf8");fa.prototype={destroy:function(){this.buf=null},readFields:function(g,I,j){for(j=j||this.length;this.pos<j;){var st=this.readVarint(),pt=st>>3,wt=this.pos;this.type=st&7,g(pt,I,this),this.pos===wt&&this.skip(st)}return I},readMessage:function(g,I){return this.readFields(g,I,this.readVarint()+this.pos)},readFixed32:function(){var g=zf(this.buf,this.pos);return this.pos+=4,g},readSFixed32:function(){var g=Vh(this.buf,this.pos);return this.pos+=4,g},readFixed64:function(){var g=zf(this.buf,this.pos)+zf(this.buf,this.pos+4)*ch;return this.pos+=8,g},readSFixed64:function(){var g=zf(this.buf,this.pos)+Vh(this.buf,this.pos+4)*ch;return this.pos+=8,g},readFloat:function(){var g=Of.read(this.buf,this.pos,!0,23,4);return this.pos+=4,g},readDouble:function(){var g=Of.read(this.buf,this.pos,!0,52,8);return this.pos+=8,g},readVarint:function(g){var I=this.buf,j,st;return st=I[this.pos++],j=st&127,st<128||(st=I[this.pos++],j|=(st&127)<<7,st<128)||(st=I[this.pos++],j|=(st&127)<<14,st<128)||(st=I[this.pos++],j|=(st&127)<<21,st<128)?j:(st=I[this.pos],j|=(st&15)<<28,_0(j,g,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var g=this.readVarint();return g%2===1?(g+1)/-2:g/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var g=this.readVarint()+this.pos,I=this.pos;return this.pos=g,g-I>=b0&&Wh?F0(this.buf,I,g):I0(this.buf,I,g)},readBytes:function(){var g=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,g);return this.pos=g,I},readPackedVarint:function(g,I){if(this.type!==fa.Bytes)return g.push(this.readVarint(I));var j=cu(this);for(g=g||[];this.pos<j;)g.push(this.readVarint(I));return g},readPackedSVarint:function(g){if(this.type!==fa.Bytes)return g.push(this.readSVarint());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readSVarint());return g},readPackedBoolean:function(g){if(this.type!==fa.Bytes)return g.push(this.readBoolean());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readBoolean());return g},readPackedFloat:function(g){if(this.type!==fa.Bytes)return g.push(this.readFloat());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readFloat());return g},readPackedDouble:function(g){if(this.type!==fa.Bytes)return g.push(this.readDouble());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readDouble());return g},readPackedFixed32:function(g){if(this.type!==fa.Bytes)return g.push(this.readFixed32());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readFixed32());return g},readPackedSFixed32:function(g){if(this.type!==fa.Bytes)return g.push(this.readSFixed32());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readSFixed32());return g},readPackedFixed64:function(g){if(this.type!==fa.Bytes)return g.push(this.readFixed64());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readFixed64());return g},readPackedSFixed64:function(g){if(this.type!==fa.Bytes)return g.push(this.readSFixed64());var I=cu(this);for(g=g||[];this.pos<I;)g.push(this.readSFixed64());return g},skip:function(g){var I=g&7;if(I===fa.Varint)for(;this.buf[this.pos++]>127;);else if(I===fa.Bytes)this.pos=this.readVarint()+this.pos;else if(I===fa.Fixed32)this.pos+=4;else if(I===fa.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(g,I){this.writeVarint(g<<3|I)},realloc:function(g){for(var I=this.length||16;I<this.pos+g;)I*=2;if(I!==this.length){var j=new Uint8Array(I);j.set(this.buf),this.buf=j,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(g){this.realloc(4),Dc(this.buf,g,this.pos),this.pos+=4},writeSFixed32:function(g){this.realloc(4),Dc(this.buf,g,this.pos),this.pos+=4},writeFixed64:function(g){this.realloc(8),Dc(this.buf,g&-1,this.pos),Dc(this.buf,Math.floor(g*Hh),this.pos+4),this.pos+=8},writeSFixed64:function(g){this.realloc(8),Dc(this.buf,g&-1,this.pos),Dc(this.buf,Math.floor(g*Hh),this.pos+4),this.pos+=8},writeVarint:function(g){if(g=+g||0,g>268435455||g<0){A0(g,this);return}this.realloc(4),this.buf[this.pos++]=g&127|(g>127?128:0),!(g<=127)&&(this.buf[this.pos++]=(g>>>=7)&127|(g>127?128:0),!(g<=127)&&(this.buf[this.pos++]=(g>>>=7)&127|(g>127?128:0),!(g<=127)&&(this.buf[this.pos++]=g>>>7&127)))},writeSVarint:function(g){this.writeVarint(g<0?-g*2-1:g*2)},writeBoolean:function(g){this.writeVarint(!!g)},writeString:function(g){g=String(g),this.realloc(g.length*4),this.pos++;var I=this.pos;this.pos=D0(this.buf,g,this.pos);var j=this.pos-I;j>=128&&Xh(I,j,this),this.pos=I-1,this.writeVarint(j),this.pos+=j},writeFloat:function(g){this.realloc(4),Of.write(this.buf,g,this.pos,!0,23,4),this.pos+=4},writeDouble:function(g){this.realloc(8),Of.write(this.buf,g,this.pos,!0,52,8),this.pos+=8},writeBytes:function(g){var I=g.length;this.writeVarint(I),this.realloc(I);for(var j=0;j<I;j++)this.buf[this.pos++]=g[j]},writeRawMessage:function(g,I){this.pos++;var j=this.pos;g(I,this);var st=this.pos-j;st>=128&&Xh(j,st,this),this.pos=j-1,this.writeVarint(st),this.pos+=st},writeMessage:function(g,I,j){this.writeTag(g,fa.Bytes),this.writeRawMessage(I,j)},writePackedVarint:function(g,I){I.length&&this.writeMessage(g,M0,I)},writePackedSVarint:function(g,I){I.length&&this.writeMessage(g,E0,I)},writePackedBoolean:function(g,I){I.length&&this.writeMessage(g,C0,I)},writePackedFloat:function(g,I){I.length&&this.writeMessage(g,L0,I)},writePackedDouble:function(g,I){I.length&&this.writeMessage(g,S0,I)},writePackedFixed32:function(g,I){I.length&&this.writeMessage(g,R0,I)},writePackedSFixed32:function(g,I){I.length&&this.writeMessage(g,O0,I)},writePackedFixed64:function(g,I){I.length&&this.writeMessage(g,P0,I)},writePackedSFixed64:function(g,I){I.length&&this.writeMessage(g,z0,I)},writeBytesField:function(g,I){this.writeTag(g,fa.Bytes),this.writeBytes(I)},writeFixed32Field:function(g,I){this.writeTag(g,fa.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(g,I){this.writeTag(g,fa.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(g,I){this.writeTag(g,fa.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(g,I){this.writeTag(g,fa.Fixed64),this.writeSFixed64(I)},writeVarintField:function(g,I){this.writeTag(g,fa.Varint),this.writeVarint(I)},writeSVarintField:function(g,I){this.writeTag(g,fa.Varint),this.writeSVarint(I)},writeStringField:function(g,I){this.writeTag(g,fa.Bytes),this.writeString(I)},writeFloatField:function(g,I){this.writeTag(g,fa.Fixed32),this.writeFloat(I)},writeDoubleField:function(g,I){this.writeTag(g,fa.Fixed64),this.writeDouble(I)},writeBooleanField:function(g,I){this.writeVarintField(g,!!I)}};function _0(g,I,j){var st=j.buf,pt,wt;if(wt=st[j.pos++],pt=(wt&112)>>4,wt<128||(wt=st[j.pos++],pt|=(wt&127)<<3,wt<128)||(wt=st[j.pos++],pt|=(wt&127)<<10,wt<128)||(wt=st[j.pos++],pt|=(wt&127)<<17,wt<128)||(wt=st[j.pos++],pt|=(wt&127)<<24,wt<128)||(wt=st[j.pos++],pt|=(wt&1)<<31,wt<128))return w0(g,pt,I);throw new Error("Expected varint not more than 10 bytes")}function cu(g){return g.type===fa.Bytes?g.readVarint()+g.pos:g.pos+1}function w0(g,I,j){return j?I*4294967296+(g>>>0):(I>>>0)*4294967296+(g>>>0)}function A0(g,I){var j,st;if(g>=0?(j=g%4294967296|0,st=g/4294967296|0):(j=~(-g%4294967296),st=~(-g/4294967296),j^4294967295?j=j+1|0:(j=0,st=st+1|0)),g>=18446744073709552e3||g<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),T0(j,st,I),k0(st,I)}function T0(g,I,j){j.buf[j.pos++]=g&127|128,g>>>=7,j.buf[j.pos++]=g&127|128,g>>>=7,j.buf[j.pos++]=g&127|128,g>>>=7,j.buf[j.pos++]=g&127|128,g>>>=7,j.buf[j.pos]=g&127}function k0(g,I){var j=(g&7)<<4;I.buf[I.pos++]|=j|((g>>>=3)?128:0),g&&(I.buf[I.pos++]=g&127|((g>>>=7)?128:0),g&&(I.buf[I.pos++]=g&127|((g>>>=7)?128:0),g&&(I.buf[I.pos++]=g&127|((g>>>=7)?128:0),g&&(I.buf[I.pos++]=g&127|((g>>>=7)?128:0),g&&(I.buf[I.pos++]=g&127)))))}function Xh(g,I,j){var st=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));j.realloc(st);for(var pt=j.pos-1;pt>=g;pt--)j.buf[pt+st]=j.buf[pt]}function M0(g,I){for(var j=0;j<g.length;j++)I.writeVarint(g[j])}function E0(g,I){for(var j=0;j<g.length;j++)I.writeSVarint(g[j])}function L0(g,I){for(var j=0;j<g.length;j++)I.writeFloat(g[j])}function S0(g,I){for(var j=0;j<g.length;j++)I.writeDouble(g[j])}function C0(g,I){for(var j=0;j<g.length;j++)I.writeBoolean(g[j])}function R0(g,I){for(var j=0;j<g.length;j++)I.writeFixed32(g[j])}function O0(g,I){for(var j=0;j<g.length;j++)I.writeSFixed32(g[j])}function P0(g,I){for(var j=0;j<g.length;j++)I.writeFixed64(g[j])}function z0(g,I){for(var j=0;j<g.length;j++)I.writeSFixed64(g[j])}function zf(g,I){return(g[I]|g[I+1]<<8|g[I+2]<<16)+g[I+3]*16777216}function Dc(g,I,j){g[j]=I,g[j+1]=I>>>8,g[j+2]=I>>>16,g[j+3]=I>>>24}function Vh(g,I){return(g[I]|g[I+1]<<8|g[I+2]<<16)+(g[I+3]<<24)}function I0(g,I,j){for(var st="",pt=I;pt<j;){var wt=g[pt],Rt=null,Jt=wt>239?4:wt>223?3:wt>191?2:1;if(pt+Jt>j)break;var ue,_e,Oe;Jt===1?wt<128&&(Rt=wt):Jt===2?(ue=g[pt+1],(ue&192)===128&&(Rt=(wt&31)<<6|ue&63,Rt<=127&&(Rt=null))):Jt===3?(ue=g[pt+1],_e=g[pt+2],(ue&192)===128&&(_e&192)===128&&(Rt=(wt&15)<<12|(ue&63)<<6|_e&63,(Rt<=2047||Rt>=55296&&Rt<=57343)&&(Rt=null))):Jt===4&&(ue=g[pt+1],_e=g[pt+2],Oe=g[pt+3],(ue&192)===128&&(_e&192)===128&&(Oe&192)===128&&(Rt=(wt&15)<<18|(ue&63)<<12|(_e&63)<<6|Oe&63,(Rt<=65535||Rt>=1114112)&&(Rt=null))),Rt===null?(Rt=65533,Jt=1):Rt>65535&&(Rt-=65536,st+=String.fromCharCode(Rt>>>10&1023|55296),Rt=56320|Rt&1023),st+=String.fromCharCode(Rt),pt+=Jt}return st}function F0(g,I,j){return Wh.decode(g.subarray(I,j))}function D0(g,I,j){for(var st=0,pt,wt;st<I.length;st++){if(pt=I.charCodeAt(st),pt>55295&&pt<57344)if(wt)if(pt<56320){g[j++]=239,g[j++]=191,g[j++]=189,wt=pt;continue}else pt=wt-55296<<10|pt-56320|65536,wt=null;else{pt>56319||st+1===I.length?(g[j++]=239,g[j++]=191,g[j++]=189):wt=pt;continue}else wt&&(g[j++]=239,g[j++]=191,g[j++]=189,wt=null);pt<128?g[j++]=pt:(pt<2048?g[j++]=pt>>6|192:(pt<65536?g[j++]=pt>>12|224:(g[j++]=pt>>18|240,g[j++]=pt>>12&63|128),g[j++]=pt>>6&63|128),g[j++]=pt&63|128)}return j}var fh=3;function N0(g,I,j){g===1&&j.readMessage(B0,I)}function B0(g,I,j){if(g===3){var st=j.readMessage(j0,{}),pt=st.id,wt=st.bitmap,Rt=st.width,Jt=st.height,ue=st.left,_e=st.top,Oe=st.advance;I.push({id:pt,bitmap:new wc({width:Rt+2*fh,height:Jt+2*fh},wt),metrics:{width:Rt,height:Jt,left:ue,top:_e,advance:Oe}})}}function j0(g,I,j){g===1?I.id=j.readVarint():g===2?I.bitmap=j.readBytes():g===3?I.width=j.readVarint():g===4?I.height=j.readVarint():g===5?I.left=j.readSVarint():g===6?I.top=j.readSVarint():g===7&&(I.advance=j.readVarint())}function U0(g){return new Pf(g).readFields(N0,[])}var Zh=fh;function Kh(g){for(var I=0,j=0,st=0,pt=g;st<pt.length;st+=1){var wt=pt[st];I+=wt.w*wt.h,j=Math.max(j,wt.w)}g.sort(function(ln,en){return en.h-ln.h});for(var Rt=Math.max(Math.ceil(Math.sqrt(I/.95)),j),Jt=[{x:0,y:0,w:Rt,h:1/0}],ue=0,_e=0,Oe=0,je=g;Oe<je.length;Oe+=1)for(var Xe=je[Oe],nr=Jt.length-1;nr>=0;nr--){var _r=Jt[nr];if(!(Xe.w>_r.w||Xe.h>_r.h)){if(Xe.x=_r.x,Xe.y=_r.y,_e=Math.max(_e,Xe.y+Xe.h),ue=Math.max(ue,Xe.x+Xe.w),Xe.w===_r.w&&Xe.h===_r.h){var zr=Jt.pop();nr<Jt.length&&(Jt[nr]=zr)}else Xe.h===_r.h?(_r.x+=Xe.w,_r.w-=Xe.w):Xe.w===_r.w?(_r.y+=Xe.h,_r.h-=Xe.h):(Jt.push({x:_r.x+Xe.w,y:_r.y,w:_r.w-Xe.w,h:Xe.h}),_r.y+=Xe.h,_r.h-=Xe.h);break}}return{w:ue,h:_e,fill:I/(ue*_e)||0}}var $o=1,If=function(g,I){var j=I.pixelRatio,st=I.version,pt=I.stretchX,wt=I.stretchY,Rt=I.content;this.paddedRect=g,this.pixelRatio=j,this.stretchX=pt,this.stretchY=wt,this.content=Rt,this.version=st},hf={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};hf.tl.get=function(){return[this.paddedRect.x+$o,this.paddedRect.y+$o]},hf.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-$o,this.paddedRect.y+this.paddedRect.h-$o]},hf.tlbr.get=function(){return this.tl.concat(this.br)},hf.displaySize.get=function(){return[(this.paddedRect.w-$o*2)/this.pixelRatio,(this.paddedRect.h-$o*2)/this.pixelRatio]},Object.defineProperties(If.prototype,hf);var pf=function(g,I){var j={},st={};this.haveRenderCallbacks=[];var pt=[];this.addImages(g,j,pt),this.addImages(I,st,pt);var wt=Kh(pt),Rt=wt.w,Jt=wt.h,ue=new Bo({width:Rt||1,height:Jt||1});for(var _e in g){var Oe=g[_e],je=j[_e].paddedRect;Bo.copy(Oe.data,ue,{x:0,y:0},{x:je.x+$o,y:je.y+$o},Oe.data)}for(var Xe in I){var nr=I[Xe],_r=st[Xe].paddedRect,zr=_r.x+$o,ln=_r.y+$o,en=nr.data.width,dn=nr.data.height;Bo.copy(nr.data,ue,{x:0,y:0},{x:zr,y:ln},nr.data),Bo.copy(nr.data,ue,{x:0,y:dn-1},{x:zr,y:ln-1},{width:en,height:1}),Bo.copy(nr.data,ue,{x:0,y:0},{x:zr,y:ln+dn},{width:en,height:1}),Bo.copy(nr.data,ue,{x:en-1,y:0},{x:zr-1,y:ln},{width:1,height:dn}),Bo.copy(nr.data,ue,{x:0,y:0},{x:zr+en,y:ln},{width:1,height:dn})}this.image=ue,this.iconPositions=j,this.patternPositions=st};pf.prototype.addImages=function(g,I,j){for(var st in g){var pt=g[st],wt={x:0,y:0,w:pt.data.width+2*$o,h:pt.data.height+2*$o};j.push(wt),I[st]=new If(wt,pt),pt.hasRenderCallback&&this.haveRenderCallbacks.push(st)}},pf.prototype.patchUpdatedImages=function(g,I){g.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var j in g.updatedImages)this.patchUpdatedImage(this.iconPositions[j],g.getImage(j),I),this.patchUpdatedImage(this.patternPositions[j],g.getImage(j),I)},pf.prototype.patchUpdatedImage=function(g,I,j){if(!(!g||!I)&&g.version!==I.version){g.version=I.version;var st=g.tl,pt=st[0],wt=st[1];j.update(I.data,void 0,{x:pt,y:wt})}},Ct("ImagePosition",If),Ct("ImageAtlas",pf);var fs={horizontal:1,vertical:2,horizontalOnly:3},df=-17;function q0(g){for(var I=0,j=g;I<j.length;I+=1){var st=j[I];if(st.positionedGlyphs.length!==0)return!1}return!0}var Jh=57344,$h=63743,Nc=function(){this.scale=1,this.fontStack="",this.imageName=null};Nc.forText=function(g,I){var j=new Nc;return j.scale=g||1,j.fontStack=I,j},Nc.forImage=function(g){var I=new Nc;return I.imageName=g,I};var po=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};po.fromFeature=function(g,I){for(var j=new po,st=0;st<g.sections.length;st++){var pt=g.sections[st];pt.image?j.addImageSection(pt):j.addTextSection(pt,I)}return j},po.prototype.length=function(){return this.text.length},po.prototype.getSection=function(g){return this.sections[this.sectionIndex[g]]},po.prototype.getSectionIndex=function(g){return this.sectionIndex[g]},po.prototype.getCharCode=function(g){return this.text.charCodeAt(g)},po.prototype.verticalizePunctuation=function(){this.text=m0(this.text)},po.prototype.trim=function(){for(var g=0,I=0;I<this.text.length&&ql[this.text.charCodeAt(I)];I++)g++;for(var j=this.text.length,st=this.text.length-1;st>=0&&st>=g&&ql[this.text.charCodeAt(st)];st--)j--;this.text=this.text.substring(g,j),this.sectionIndex=this.sectionIndex.slice(g,j)},po.prototype.substring=function(g,I){var j=new po;return j.text=this.text.substring(g,I),j.sectionIndex=this.sectionIndex.slice(g,I),j.sections=this.sections,j},po.prototype.toString=function(){return this.text},po.prototype.getMaxScale=function(){var g=this;return this.sectionIndex.reduce(function(I,j){return Math.max(I,g.sections[j].scale)},0)},po.prototype.addTextSection=function(g,I){this.text+=g.text,this.sections.push(Nc.forText(g.scale,g.fontStack||I));for(var j=this.sections.length-1,st=0;st<g.text.length;++st)this.sectionIndex.push(j)},po.prototype.addImageSection=function(g){var I=g.image?g.image.name:"";if(I.length===0){R("Can't add FormattedSection with an empty image.");return}var j=this.getNextImageSectionCharCode();if(!j){R("Reached maximum number of images "+($h-Jh+2));return}this.text+=String.fromCharCode(j),this.sections.push(Nc.forImage(I)),this.sectionIndex.push(this.sections.length-1)},po.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=$h?null:++this.imageSectionID:(this.imageSectionID=Jh,this.imageSectionID)};function Y0(g,I){for(var j=[],st=g.text,pt=0,wt=0,Rt=I;wt<Rt.length;wt+=1){var Jt=Rt[wt];j.push(g.substring(pt,Jt)),pt=Jt}return pt<st.length&&j.push(g.substring(pt,st.length)),j}function Ff(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr){var ln=po.fromFeature(g,pt);je===fs.vertical&&ln.verticalizePunctuation();var en,dn=Yn.processBidirectionalText,bn=Yn.processStyledBidirectionalText;if(dn&&ln.sections.length===1){en=[];for(var hn=dn(ln.toString(),hh(ln,_e,wt,I,st,nr,_r)),On=0,Un=hn;On<Un.length;On+=1){var Xn=Un[On],Vn=new po;Vn.text=Xn,Vn.sections=ln.sections;for(var fi=0;fi<Xn.length;fi++)Vn.sectionIndex.push(0);en.push(Vn)}}else if(bn){en=[];for(var hi=bn(ln.text,ln.sectionIndex,hh(ln,_e,wt,I,st,nr,_r)),gi=0,bi=hi;gi<bi.length;gi+=1){var Ei=bi[gi],mi=new po;mi.text=Ei[0],mi.sectionIndex=Ei[1],mi.sections=ln.sections,en.push(mi)}}else en=Y0(ln,hh(ln,_e,wt,I,st,nr,_r));var xi=[],ji={positionedLines:xi,text:ln.toString(),top:Oe[1],bottom:Oe[1],left:Oe[0],right:Oe[0],writingMode:je,iconsInText:!1,verticalizable:!1};return W0(ji,I,j,st,en,Rt,Jt,ue,je,_e,Xe,zr),q0(xi)?!1:ji}var ql={};ql[9]=!0,ql[10]=!0,ql[11]=!0,ql[12]=!0,ql[13]=!0,ql[32]=!0;var Qo={};Qo[10]=!0,Qo[32]=!0,Qo[38]=!0,Qo[40]=!0,Qo[41]=!0,Qo[43]=!0,Qo[45]=!0,Qo[47]=!0,Qo[173]=!0,Qo[183]=!0,Qo[8203]=!0,Qo[8208]=!0,Qo[8211]=!0,Qo[8231]=!0;function Qh(g,I,j,st,pt,wt){if(I.imageName){var Rt=st[I.imageName];return Rt?Rt.displaySize[0]*I.scale*io/wt+pt:0}else{var Jt=j[I.fontStack],ue=Jt&&Jt[g];return ue?ue.metrics.advance*I.scale+pt:0}}function G0(g,I,j,st,pt,wt){for(var Rt=0,Jt=0;Jt<g.length();Jt++){var ue=g.getSection(Jt);Rt+=Qh(g.getCharCode(Jt),ue,st,pt,I,wt)}var _e=Math.max(1,Math.ceil(Rt/j));return Rt/_e}function tp(g,I,j,st){var pt=Math.pow(g-I,2);return st?g<I?pt/2:pt*2:pt+Math.abs(j)*j}function H0(g,I,j){var st=0;return g===10&&(st-=1e4),j&&(st+=150),(g===40||g===65288)&&(st+=50),(I===41||I===65289)&&(st+=50),st}function ep(g,I,j,st,pt,wt){for(var Rt=null,Jt=tp(I,j,pt,wt),ue=0,_e=st;ue<_e.length;ue+=1){var Oe=_e[ue],je=I-Oe.x,Xe=tp(je,j,pt,wt)+Oe.badness;Xe<=Jt&&(Rt=Oe,Jt=Xe)}return{index:g,x:I,priorBreak:Rt,badness:Jt}}function rp(g){return g?rp(g.priorBreak).concat(g.index):[]}function hh(g,I,j,st,pt,wt,Rt){if(wt!=="point")return[];if(!g)return[];for(var Jt=[],ue=G0(g,I,j,st,pt,Rt),_e=g.text.indexOf("\u200B")>=0,Oe=0,je=0;je<g.length();je++){var Xe=g.getSection(je),nr=g.getCharCode(je);if(ql[nr]||(Oe+=Qh(nr,Xe,st,pt,I,Rt)),je<g.length()-1){var _r=Hr(nr);(Qo[nr]||_r||Xe.imageName)&&Jt.push(ep(je+1,Oe,ue,Jt,H0(nr,g.getCharCode(je+1),_r&&_e),!1))}}return rp(ep(g.length(),Oe,ue,Jt,0,!0))}function ph(g){var I=.5,j=.5;switch(g){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(g){case"bottom":case"bottom-right":case"bottom-left":j=1;break;case"top":case"top-right":case"top-left":j=0;break}return{horizontalAlign:I,verticalAlign:j}}function W0(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je){for(var Xe=0,nr=df,_r=0,zr=0,ln=Jt==="right"?1:Jt==="left"?0:.5,en=0,dn=0,bn=pt;dn<bn.length;dn+=1){var hn=bn[dn];hn.trim();var On=hn.getMaxScale(),Un=(On-1)*io,Xn={positionedGlyphs:[],lineOffset:0};g.positionedLines[en]=Xn;var Vn=Xn.positionedGlyphs,fi=0;if(!hn.length()){nr+=wt,++en;continue}for(var hi=0;hi<hn.length();hi++){var gi=hn.getSection(hi),bi=hn.getSectionIndex(hi),Ei=hn.getCharCode(hi),mi=0,xi=null,ji=null,ra=null,ca=io,Yi=!(ue===fs.horizontal||!Oe&&!Jr(Ei)||Oe&&(ql[Ei]||Yr(Ei)));if(gi.imageName){var na=st[gi.imageName];if(!na)continue;ra=gi.imageName,g.iconsInText=g.iconsInText||!0,ji=na.paddedRect;var Ui=na.displaySize;gi.scale=gi.scale*io/je,xi={width:Ui[0],height:Ui[1],left:$o,top:-Zh,advance:Yi?Ui[1]:Ui[0]};var da=io-Ui[1]*gi.scale;mi=Un+da,ca=xi.advance;var ua=Yi?Ui[0]*gi.scale-io*On:Ui[1]*gi.scale-io*On;ua>0&&ua>fi&&(fi=ua)}else{var La=j[gi.fontStack],ao=La&&La[Ei];if(ao&&ao.rect)ji=ao.rect,xi=ao.metrics;else{var Ga=I[gi.fontStack],vo=Ga&&Ga[Ei];if(!vo)continue;xi=vo.metrics}mi=(On-gi.scale)*io}Yi?(g.verticalizable=!0,Vn.push({glyph:Ei,imageName:ra,x:Xe,y:nr+mi,vertical:Yi,scale:gi.scale,fontStack:gi.fontStack,sectionIndex:bi,metrics:xi,rect:ji}),Xe+=ca*gi.scale+_e):(Vn.push({glyph:Ei,imageName:ra,x:Xe,y:nr+mi,vertical:Yi,scale:gi.scale,fontStack:gi.fontStack,sectionIndex:bi,metrics:xi,rect:ji}),Xe+=xi.advance*gi.scale+_e)}if(Vn.length!==0){var go=Xe-_e;_r=Math.max(go,_r),X0(Vn,0,Vn.length-1,ln,fi)}Xe=0;var mo=wt*On+fi;Xn.lineOffset=Math.max(fi,Un),nr+=mo,zr=Math.max(mo,zr),++en}var Ja=nr-df,Lo=ph(Rt),So=Lo.horizontalAlign,Xa=Lo.verticalAlign;V0(g.positionedLines,ln,So,Xa,_r,zr,wt,Ja,pt.length),g.top+=-Xa*Ja,g.bottom=g.top+Ja,g.left+=-So*_r,g.right=g.left+_r}function X0(g,I,j,st,pt){if(!(!st&&!pt))for(var wt=g[j],Rt=wt.metrics.advance*wt.scale,Jt=(g[j].x+Rt)*st,ue=I;ue<=j;ue++)g[ue].x-=Jt,g[ue].y+=pt}function V0(g,I,j,st,pt,wt,Rt,Jt,ue){var _e=(I-j)*pt,Oe=0;wt!==Rt?Oe=-Jt*st-df:Oe=(-st*ue+.5)*Rt;for(var je=0,Xe=g;je<Xe.length;je+=1)for(var nr=Xe[je],_r=0,zr=nr.positionedGlyphs;_r<zr.length;_r+=1){var ln=zr[_r];ln.x+=_e,ln.y+=Oe}}function Z0(g,I,j){var st=ph(j),pt=st.horizontalAlign,wt=st.verticalAlign,Rt=I[0],Jt=I[1],ue=Rt-g.displaySize[0]*pt,_e=ue+g.displaySize[0],Oe=Jt-g.displaySize[1]*wt,je=Oe+g.displaySize[1];return{image:g,top:Oe,bottom:je,left:ue,right:_e}}function np(g,I,j,st,pt,wt){var Rt=g.image,Jt;if(Rt.content){var ue=Rt.content,_e=Rt.pixelRatio||1;Jt=[ue[0]/_e,ue[1]/_e,Rt.displaySize[0]-ue[2]/_e,Rt.displaySize[1]-ue[3]/_e]}var Oe=I.left*wt,je=I.right*wt,Xe,nr,_r,zr;j==="width"||j==="both"?(zr=pt[0]+Oe-st[3],nr=pt[0]+je+st[1]):(zr=pt[0]+(Oe+je-Rt.displaySize[0])/2,nr=zr+Rt.displaySize[0]);var ln=I.top*wt,en=I.bottom*wt;return j==="height"||j==="both"?(Xe=pt[1]+ln-st[0],_r=pt[1]+en+st[2]):(Xe=pt[1]+(ln+en-Rt.displaySize[1])/2,_r=Xe+Rt.displaySize[1]),{image:Rt,top:Xe,right:nr,bottom:_r,left:zr,collisionPadding:Jt}}var Bc=function(g){function I(j,st,pt,wt){g.call(this,j,st),this.angle=pt,wt!==void 0&&(this.segment=wt)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);Ct("Anchor",Bc);var yl=128;function dh(g,I){var j=I.expression;if(j.kind==="constant"){var st=j.evaluate(new pi(g+1));return{kind:"constant",layoutSize:st}}else{if(j.kind==="source")return{kind:"source"};for(var pt=j.zoomStops,wt=j.interpolationType,Rt=0;Rt<pt.length&&pt[Rt]<=g;)Rt++;Rt=Math.max(0,Rt-1);for(var Jt=Rt;Jt<pt.length&&pt[Jt]<g+1;)Jt++;Jt=Math.min(pt.length-1,Jt);var ue=pt[Rt],_e=pt[Jt];if(j.kind==="composite")return{kind:"composite",minZoom:ue,maxZoom:_e,interpolationType:wt};var Oe=j.evaluate(new pi(ue)),je=j.evaluate(new pi(_e));return{kind:"camera",minZoom:ue,maxZoom:_e,minSize:Oe,maxSize:je,interpolationType:wt}}}function ip(g,I,j){var st=I.uSize,pt=I.uSizeT,wt=j.lowerSize,Rt=j.upperSize;return g.kind==="source"?wt/yl:g.kind==="composite"?va(wt/yl,Rt/yl,pt):st}function ap(g,I){var j=0,st=0;if(g.kind==="constant")st=g.layoutSize;else if(g.kind!=="source"){var pt=g.interpolationType,wt=g.minZoom,Rt=g.maxZoom,Jt=pt?h(ya.interpolationFactor(pt,I,wt,Rt),0,1):0;g.kind==="camera"?st=va(g.minSize,g.maxSize,Jt):j=Jt}return{uSizeT:j,uSize:st}}var K0=Object.freeze({__proto__:null,getSizeData:dh,evaluateSizeForFeature:ip,evaluateSizeForZoom:ap,SIZE_PACK_FACTOR:yl});function op(g,I,j,st,pt){if(I.segment===void 0)return!0;for(var wt=I,Rt=I.segment+1,Jt=0;Jt>-j/2;){if(Rt--,Rt<0)return!1;Jt-=g[Rt].dist(wt),wt=g[Rt]}Jt+=g[Rt].dist(g[Rt+1]),Rt++;for(var ue=[],_e=0;Jt<j/2;){var Oe=g[Rt-1],je=g[Rt],Xe=g[Rt+1];if(!Xe)return!1;var nr=Oe.angleTo(je)-je.angleTo(Xe);for(nr=Math.abs((nr+3*Math.PI)%(Math.PI*2)-Math.PI),ue.push({distance:Jt,angleDelta:nr}),_e+=nr;Jt-ue[0].distance>st;)_e-=ue.shift().angleDelta;if(_e>pt)return!1;Rt++,Jt+=je.dist(Xe)}return!0}function sp(g){for(var I=0,j=0;j<g.length-1;j++)I+=g[j].dist(g[j+1]);return I}function lp(g,I,j){return g?.6*I*j:0}function up(g,I){return Math.max(g?g.right-g.left:0,I?I.right-I.left:0)}function J0(g,I,j,st,pt,wt){for(var Rt=lp(j,pt,wt),Jt=up(j,st)*wt,ue=0,_e=sp(g)/2,Oe=0;Oe<g.length-1;Oe++){var je=g[Oe],Xe=g[Oe+1],nr=je.dist(Xe);if(ue+nr>_e){var _r=(_e-ue)/nr,zr=va(je.x,Xe.x,_r),ln=va(je.y,Xe.y,_r),en=new Bc(zr,ln,Xe.angleTo(je),Oe);return en._round(),!Rt||op(g,en,Jt,Rt,I)?en:void 0}ue+=nr}}function $0(g,I,j,st,pt,wt,Rt,Jt,ue){var _e=lp(st,wt,Rt),Oe=up(st,pt),je=Oe*Rt,Xe=g[0].x===0||g[0].x===ue||g[0].y===0||g[0].y===ue;I-je<I/4&&(I=je+I/4);var nr=wt*2,_r=Xe?I/2*Jt%I:(Oe/2+nr)*Rt*Jt%I;return cp(g,_r,I,_e,j,je,Xe,!1,ue)}function cp(g,I,j,st,pt,wt,Rt,Jt,ue){for(var _e=wt/2,Oe=sp(g),je=0,Xe=I-j,nr=[],_r=0;_r<g.length-1;_r++){for(var zr=g[_r],ln=g[_r+1],en=zr.dist(ln),dn=ln.angleTo(zr);Xe+j<je+en;){Xe+=j;var bn=(Xe-je)/en,hn=va(zr.x,ln.x,bn),On=va(zr.y,ln.y,bn);if(hn>=0&&hn<ue&&On>=0&&On<ue&&Xe-_e>=0&&Xe+_e<=Oe){var Un=new Bc(hn,On,dn,_r);Un._round(),(!st||op(g,Un,wt,st,pt))&&nr.push(Un)}}je+=en}return!Jt&&!nr.length&&!Rt&&(nr=cp(g,je/2,j,st,pt,wt,Rt,!0,ue)),nr}function fp(g,I,j,st,pt){for(var wt=[],Rt=0;Rt<g.length;Rt++)for(var Jt=g[Rt],ue=void 0,_e=0;_e<Jt.length-1;_e++){var Oe=Jt[_e],je=Jt[_e+1];Oe.x<I&&je.x<I||(Oe.x<I?Oe=new r(I,Oe.y+(je.y-Oe.y)*((I-Oe.x)/(je.x-Oe.x)))._round():je.x<I&&(je=new r(I,Oe.y+(je.y-Oe.y)*((I-Oe.x)/(je.x-Oe.x)))._round()),!(Oe.y<j&&je.y<j)&&(Oe.y<j?Oe=new r(Oe.x+(je.x-Oe.x)*((j-Oe.y)/(je.y-Oe.y)),j)._round():je.y<j&&(je=new r(Oe.x+(je.x-Oe.x)*((j-Oe.y)/(je.y-Oe.y)),j)._round()),!(Oe.x>=st&&je.x>=st)&&(Oe.x>=st?Oe=new r(st,Oe.y+(je.y-Oe.y)*((st-Oe.x)/(je.x-Oe.x)))._round():je.x>=st&&(je=new r(st,Oe.y+(je.y-Oe.y)*((st-Oe.x)/(je.x-Oe.x)))._round()),!(Oe.y>=pt&&je.y>=pt)&&(Oe.y>=pt?Oe=new r(Oe.x+(je.x-Oe.x)*((pt-Oe.y)/(je.y-Oe.y)),pt)._round():je.y>=pt&&(je=new r(Oe.x+(je.x-Oe.x)*((pt-Oe.y)/(je.y-Oe.y)),pt)._round()),(!ue||!Oe.equals(ue[ue.length-1]))&&(ue=[Oe],wt.push(ue)),ue.push(je)))))}return wt}var jc=$o;function hp(g,I,j,st){var pt=[],wt=g.image,Rt=wt.pixelRatio,Jt=wt.paddedRect.w-2*jc,ue=wt.paddedRect.h-2*jc,_e=g.right-g.left,Oe=g.bottom-g.top,je=wt.stretchX||[[0,Jt]],Xe=wt.stretchY||[[0,ue]],nr=function(na,Ui){return na+Ui[1]-Ui[0]},_r=je.reduce(nr,0),zr=Xe.reduce(nr,0),ln=Jt-_r,en=ue-zr,dn=0,bn=_r,hn=0,On=zr,Un=0,Xn=ln,Vn=0,fi=en;if(wt.content&&st){var hi=wt.content;dn=Df(je,0,hi[0]),hn=Df(Xe,0,hi[1]),bn=Df(je,hi[0],hi[2]),On=Df(Xe,hi[1],hi[3]),Un=hi[0]-dn,Vn=hi[1]-hn,Xn=hi[2]-hi[0]-bn,fi=hi[3]-hi[1]-On}var gi=function(na,Ui,da,ua){var La=Nf(na.stretch-dn,bn,_e,g.left),ao=Bf(na.fixed-Un,Xn,na.stretch,_r),Ga=Nf(Ui.stretch-hn,On,Oe,g.top),vo=Bf(Ui.fixed-Vn,fi,Ui.stretch,zr),go=Nf(da.stretch-dn,bn,_e,g.left),mo=Bf(da.fixed-Un,Xn,da.stretch,_r),Ja=Nf(ua.stretch-hn,On,Oe,g.top),Lo=Bf(ua.fixed-Vn,fi,ua.stretch,zr),So=new r(La,Ga),Xa=new r(go,Ga),Co=new r(go,Ja),hs=new r(La,Ja),pu=new r(ao/Rt,vo/Rt),Wu=new r(mo/Rt,Lo/Rt),Xu=I*Math.PI/180;if(Xu){var Vu=Math.sin(Xu),Vc=Math.cos(Xu),Hs=[Vc,-Vu,Vu,Vc];So._matMult(Hs),Xa._matMult(Hs),hs._matMult(Hs),Co._matMult(Hs)}var Hf=na.stretch+na.fixed,wh=da.stretch+da.fixed,Wf=Ui.stretch+Ui.fixed,Ah=ua.stretch+ua.fixed,As={x:wt.paddedRect.x+jc+Hf,y:wt.paddedRect.y+jc+Wf,w:wh-Hf,h:Ah-Wf},Zc=Xn/Rt/_e,Xf=fi/Rt/Oe;return{tl:So,tr:Xa,bl:hs,br:Co,tex:As,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:pu,pixelOffsetBR:Wu,minFontScaleX:Zc,minFontScaleY:Xf,isSDF:j}};if(!st||!wt.stretchX&&!wt.stretchY)pt.push(gi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Jt+1},{fixed:0,stretch:ue+1}));else for(var bi=pp(je,ln,_r),Ei=pp(Xe,en,zr),mi=0;mi<bi.length-1;mi++)for(var xi=bi[mi],ji=bi[mi+1],ra=0;ra<Ei.length-1;ra++){var ca=Ei[ra],Yi=Ei[ra+1];pt.push(gi(xi,ca,ji,Yi))}return pt}function Df(g,I,j){for(var st=0,pt=0,wt=g;pt<wt.length;pt+=1){var Rt=wt[pt];st+=Math.max(I,Math.min(j,Rt[1]))-Math.max(I,Math.min(j,Rt[0]))}return st}function pp(g,I,j){for(var st=[{fixed:-jc,stretch:0}],pt=0,wt=g;pt<wt.length;pt+=1){var Rt=wt[pt],Jt=Rt[0],ue=Rt[1],_e=st[st.length-1];st.push({fixed:Jt-_e.stretch,stretch:_e.stretch}),st.push({fixed:Jt-_e.stretch,stretch:_e.stretch+(ue-Jt)})}return st.push({fixed:I+jc,stretch:j}),st}function Nf(g,I,j,st){return g/I*j+st}function Bf(g,I,j,st){return g-I*j/st}function Q0(g,I,j,st,pt,wt,Rt,Jt){for(var ue=st.layout.get("text-rotate").evaluate(wt,{})*Math.PI/180,_e=[],Oe=0,je=I.positionedLines;Oe<je.length;Oe+=1)for(var Xe=je[Oe],nr=0,_r=Xe.positionedGlyphs;nr<_r.length;nr+=1){var zr=_r[nr];if(zr.rect){var ln=zr.rect||{},en=1,dn=Zh+en,bn=!0,hn=1,On=0,Un=(pt||Jt)&&zr.vertical,Xn=zr.metrics.advance*zr.scale/2;if(Jt&&I.verticalizable){var Vn=(zr.scale-1)*io,fi=(io-zr.metrics.width*zr.scale)/2;On=Xe.lineOffset/2-(zr.imageName?-fi:Vn)}if(zr.imageName){var hi=Rt[zr.imageName];bn=hi.sdf,hn=hi.pixelRatio,dn=$o/hn}var gi=pt?[zr.x+Xn,zr.y]:[0,0],bi=pt?[0,0]:[zr.x+Xn+j[0],zr.y+j[1]-On],Ei=[0,0];Un&&(Ei=bi,bi=[0,0]);var mi=(zr.metrics.left-dn)*zr.scale-Xn+bi[0],xi=(-zr.metrics.top-dn)*zr.scale+bi[1],ji=mi+ln.w*zr.scale/hn,ra=xi+ln.h*zr.scale/hn,ca=new r(mi,xi),Yi=new r(ji,xi),na=new r(mi,ra),Ui=new r(ji,ra);if(Un){var da=new r(-Xn,Xn-df),ua=-Math.PI/2,La=io/2-Xn,ao=zr.imageName?La:0,Ga=new r(5-df-La,-ao),vo=new(Function.prototype.bind.apply(r,[null].concat(Ei)));ca._rotateAround(ua,da)._add(Ga)._add(vo),Yi._rotateAround(ua,da)._add(Ga)._add(vo),na._rotateAround(ua,da)._add(Ga)._add(vo),Ui._rotateAround(ua,da)._add(Ga)._add(vo)}if(ue){var go=Math.sin(ue),mo=Math.cos(ue),Ja=[mo,-go,go,mo];ca._matMult(Ja),Yi._matMult(Ja),na._matMult(Ja),Ui._matMult(Ja)}var Lo=new r(0,0),So=new r(0,0),Xa=0,Co=0;_e.push({tl:ca,tr:Yi,bl:na,br:Ui,tex:ln,writingMode:I.writingMode,glyphOffset:gi,sectionIndex:zr.sectionIndex,isSDF:bn,pixelOffsetTL:Lo,pixelOffsetBR:So,minFontScaleX:Xa,minFontScaleY:Co})}}return _e}var jf=function(g,I,j,st,pt,wt,Rt,Jt,ue,_e){if(this.boxStartIndex=g.length,ue){var Oe=wt.top,je=wt.bottom,Xe=wt.collisionPadding;Xe&&(Oe-=Xe[1],je+=Xe[3]);var nr=je-Oe;nr>0&&(nr=Math.max(10,nr),this.circleDiameter=nr)}else{var _r=wt.top*Rt-Jt,zr=wt.bottom*Rt+Jt,ln=wt.left*Rt-Jt,en=wt.right*Rt+Jt,dn=wt.collisionPadding;if(dn&&(ln-=dn[0]*Rt,_r-=dn[1]*Rt,en+=dn[2]*Rt,zr+=dn[3]*Rt),_e){var bn=new r(ln,_r),hn=new r(en,_r),On=new r(ln,zr),Un=new r(en,zr),Xn=_e*Math.PI/180;bn._rotate(Xn),hn._rotate(Xn),On._rotate(Xn),Un._rotate(Xn),ln=Math.min(bn.x,hn.x,On.x,Un.x),en=Math.max(bn.x,hn.x,On.x,Un.x),_r=Math.min(bn.y,hn.y,On.y,Un.y),zr=Math.max(bn.y,hn.y,On.y,Un.y)}g.emplaceBack(I.x,I.y,ln,_r,en,zr,j,st,pt)}this.boxEndIndex=g.length},Uc=function(g,I){if(g===void 0&&(g=[]),I===void 0&&(I=t1),this.data=g,this.length=this.data.length,this.compare=I,this.length>0)for(var j=(this.length>>1)-1;j>=0;j--)this._down(j)};Uc.prototype.push=function(g){this.data.push(g),this.length++,this._up(this.length-1)},Uc.prototype.pop=function(){if(this.length!==0){var g=this.data[0],I=this.data.pop();return this.length--,this.length>0&&(this.data[0]=I,this._down(0)),g}},Uc.prototype.peek=function(){return this.data[0]},Uc.prototype._up=function(g){for(var I=this,j=I.data,st=I.compare,pt=j[g];g>0;){var wt=g-1>>1,Rt=j[wt];if(st(pt,Rt)>=0)break;j[g]=Rt,g=wt}j[g]=pt},Uc.prototype._down=function(g){for(var I=this,j=I.data,st=I.compare,pt=this.length>>1,wt=j[g];g<pt;){var Rt=(g<<1)+1,Jt=j[Rt],ue=Rt+1;if(ue<this.length&&st(j[ue],Jt)<0&&(Rt=ue,Jt=j[ue]),st(Jt,wt)>=0)break;j[g]=Jt,g=Rt}j[g]=wt};function t1(g,I){return g<I?-1:g>I?1:0}function e1(g,I,j){I===void 0&&(I=1),j===void 0&&(j=!1);for(var st=1/0,pt=1/0,wt=-1/0,Rt=-1/0,Jt=g[0],ue=0;ue<Jt.length;ue++){var _e=Jt[ue];(!ue||_e.x<st)&&(st=_e.x),(!ue||_e.y<pt)&&(pt=_e.y),(!ue||_e.x>wt)&&(wt=_e.x),(!ue||_e.y>Rt)&&(Rt=_e.y)}var Oe=wt-st,je=Rt-pt,Xe=Math.min(Oe,je),nr=Xe/2,_r=new Uc([],r1);if(Xe===0)return new r(st,pt);for(var zr=st;zr<wt;zr+=Xe)for(var ln=pt;ln<Rt;ln+=Xe)_r.push(new qc(zr+nr,ln+nr,nr,g));for(var en=i1(g),dn=_r.length;_r.length;){var bn=_r.pop();(bn.d>en.d||!en.d)&&(en=bn,j&&console.log("found best %d after %d probes",Math.round(1e4*bn.d)/1e4,dn)),!(bn.max-en.d<=I)&&(nr=bn.h/2,_r.push(new qc(bn.p.x-nr,bn.p.y-nr,nr,g)),_r.push(new qc(bn.p.x+nr,bn.p.y-nr,nr,g)),_r.push(new qc(bn.p.x-nr,bn.p.y+nr,nr,g)),_r.push(new qc(bn.p.x+nr,bn.p.y+nr,nr,g)),dn+=4)}return j&&(console.log("num probes: "+dn),console.log("best distance: "+en.d)),en.p}function r1(g,I){return I.max-g.max}function qc(g,I,j,st){this.p=new r(g,I),this.h=j,this.d=n1(this.p,st),this.max=this.d+this.h*Math.SQRT2}function n1(g,I){for(var j=!1,st=1/0,pt=0;pt<I.length;pt++)for(var wt=I[pt],Rt=0,Jt=wt.length,ue=Jt-1;Rt<Jt;ue=Rt++){var _e=wt[Rt],Oe=wt[ue];_e.y>g.y!=Oe.y>g.y&&g.x<(Oe.x-_e.x)*(g.y-_e.y)/(Oe.y-_e.y)+_e.x&&(j=!j),st=Math.min(st,Mo(g,_e,Oe))}return(j?1:-1)*Math.sqrt(st)}function i1(g){for(var I=0,j=0,st=0,pt=g[0],wt=0,Rt=pt.length,Jt=Rt-1;wt<Rt;Jt=wt++){var ue=pt[wt],_e=pt[Jt],Oe=ue.x*_e.y-_e.x*ue.y;j+=(ue.x+_e.x)*Oe,st+=(ue.y+_e.y)*Oe,I+=Oe*3}return new qc(j/I,st/I,0,g)}var Yc=7,vh=Number.POSITIVE_INFINITY;function dp(g,I){function j(pt,wt){var Rt=0,Jt=0;wt<0&&(wt=0);var ue=wt/Math.sqrt(2);switch(pt){case"top-right":case"top-left":Jt=ue-Yc;break;case"bottom-right":case"bottom-left":Jt=-ue+Yc;break;case"bottom":Jt=-wt+Yc;break;case"top":Jt=wt-Yc;break}switch(pt){case"top-right":case"bottom-right":Rt=-ue;break;case"top-left":case"bottom-left":Rt=ue;break;case"left":Rt=wt;break;case"right":Rt=-wt;break}return[Rt,Jt]}function st(pt,wt,Rt){var Jt=0,ue=0;switch(wt=Math.abs(wt),Rt=Math.abs(Rt),pt){case"top-right":case"top-left":case"top":ue=Rt-Yc;break;case"bottom-right":case"bottom-left":case"bottom":ue=-Rt+Yc;break}switch(pt){case"top-right":case"bottom-right":case"right":Jt=-wt;break;case"top-left":case"bottom-left":case"left":Jt=wt;break}return[Jt,ue]}return I[1]!==vh?st(g,I[0],I[1]):j(g,I[0])}function a1(g,I,j,st,pt,wt,Rt){g.createArrays();var Jt=512*g.overscaling;g.tilePixelRatio=ki/Jt,g.compareText={},g.iconsNeedLinear=!1;var ue=g.layers[0].layout,_e=g.layers[0]._unevaluatedLayout._values,Oe={};if(g.textSizeData.kind==="composite"){var je=g.textSizeData,Xe=je.minZoom,nr=je.maxZoom;Oe.compositeTextSizes=[_e["text-size"].possiblyEvaluate(new pi(Xe),Rt),_e["text-size"].possiblyEvaluate(new pi(nr),Rt)]}if(g.iconSizeData.kind==="composite"){var _r=g.iconSizeData,zr=_r.minZoom,ln=_r.maxZoom;Oe.compositeIconSizes=[_e["icon-size"].possiblyEvaluate(new pi(zr),Rt),_e["icon-size"].possiblyEvaluate(new pi(ln),Rt)]}Oe.layoutTextSize=_e["text-size"].possiblyEvaluate(new pi(g.zoom+1),Rt),Oe.layoutIconSize=_e["icon-size"].possiblyEvaluate(new pi(g.zoom+1),Rt),Oe.textMaxSize=_e["text-size"].possiblyEvaluate(new pi(18));for(var en=ue.get("text-line-height")*io,dn=ue.get("text-rotation-alignment")==="map"&&ue.get("symbol-placement")!=="point",bn=ue.get("text-keep-upright"),hn=ue.get("text-size"),On=function(){var Vn=Xn[Un],fi=ue.get("text-font").evaluate(Vn,{},Rt).join(","),hi=hn.evaluate(Vn,{},Rt),gi=Oe.layoutTextSize.evaluate(Vn,{},Rt),bi=Oe.layoutIconSize.evaluate(Vn,{},Rt),Ei={horizontal:{},vertical:void 0},mi=Vn.text,xi=[0,0];if(mi){var ji=mi.toString(),ra=ue.get("text-letter-spacing").evaluate(Vn,{},Rt)*io,ca=br(ji)?ra:0,Yi=ue.get("text-anchor").evaluate(Vn,{},Rt),na=ue.get("text-variable-anchor");if(!na){var Ui=ue.get("text-radial-offset").evaluate(Vn,{},Rt);Ui?xi=dp(Yi,[Ui*io,vh]):xi=ue.get("text-offset").evaluate(Vn,{},Rt).map(function(pu){return pu*io})}var da=dn?"center":ue.get("text-justify").evaluate(Vn,{},Rt),ua=ue.get("symbol-placement"),La=ua==="point"?ue.get("text-max-width").evaluate(Vn,{},Rt)*io:0,ao=function(){g.allowVerticalPlacement&&Ze(ji)&&(Ei.vertical=Ff(mi,I,j,pt,fi,La,en,Yi,"left",ca,xi,fs.vertical,!0,ua,gi,hi))};if(!dn&&na){for(var Ga=da==="auto"?na.map(function(pu){return gh(pu)}):[da],vo=!1,go=0;go<Ga.length;go++){var mo=Ga[go];if(!Ei.horizontal[mo])if(vo)Ei.horizontal[mo]=Ei.horizontal[0];else{var Ja=Ff(mi,I,j,pt,fi,La,en,"center",mo,ca,xi,fs.horizontal,!1,ua,gi,hi);Ja&&(Ei.horizontal[mo]=Ja,vo=Ja.positionedLines.length===1)}}ao()}else{da==="auto"&&(da=gh(Yi));var Lo=Ff(mi,I,j,pt,fi,La,en,Yi,da,ca,xi,fs.horizontal,!1,ua,gi,hi);Lo&&(Ei.horizontal[da]=Lo),ao(),Ze(ji)&&dn&&bn&&(Ei.vertical=Ff(mi,I,j,pt,fi,La,en,Yi,da,ca,xi,fs.vertical,!1,ua,gi,hi))}}var So=void 0,Xa=!1;if(Vn.icon&&Vn.icon.name){var Co=st[Vn.icon.name];Co&&(So=Z0(pt[Vn.icon.name],ue.get("icon-offset").evaluate(Vn,{},Rt),ue.get("icon-anchor").evaluate(Vn,{},Rt)),Xa=Co.sdf,g.sdfIcons===void 0?g.sdfIcons=Co.sdf:g.sdfIcons!==Co.sdf&&R("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Co.pixelRatio!==g.pixelRatio||ue.get("icon-rotate").constantOr(1)!==0)&&(g.iconsNeedLinear=!0))}var hs=gp(Ei.horizontal)||Ei.vertical;g.iconsInText=hs?hs.iconsInText:!1,(hs||So)&&o1(g,Vn,Ei,So,st,Oe,gi,bi,xi,Xa,Rt)},Un=0,Xn=g.features;Un<Xn.length;Un+=1)On();wt&&g.generateCollisionDebugBuffers()}function gh(g){switch(g){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function o1(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe){var je=wt.textMaxSize.evaluate(I,{});je===void 0&&(je=Rt);var Xe=g.layers[0].layout,nr=Xe.get("icon-offset").evaluate(I,{},Oe),_r=gp(j.horizontal),zr=24,ln=Rt/zr,en=g.tilePixelRatio*ln,dn=g.tilePixelRatio*je/zr,bn=g.tilePixelRatio*Jt,hn=g.tilePixelRatio*Xe.get("symbol-spacing"),On=Xe.get("text-padding")*g.tilePixelRatio,Un=Xe.get("icon-padding")*g.tilePixelRatio,Xn=Xe.get("text-max-angle")/180*Math.PI,Vn=Xe.get("text-rotation-alignment")==="map"&&Xe.get("symbol-placement")!=="point",fi=Xe.get("icon-rotation-alignment")==="map"&&Xe.get("symbol-placement")!=="point",hi=Xe.get("symbol-placement"),gi=hn/2,bi=Xe.get("icon-text-fit"),Ei;st&&bi!=="none"&&(g.allowVerticalPlacement&&j.vertical&&(Ei=np(st,j.vertical,bi,Xe.get("icon-text-fit-padding"),nr,ln)),_r&&(st=np(st,_r,bi,Xe.get("icon-text-fit-padding"),nr,ln)));var mi=function(Vc,Hs){Hs.x<0||Hs.x>=ki||Hs.y<0||Hs.y>=ki||s1(g,Hs,Vc,j,st,pt,Ei,g.layers[0],g.collisionBoxArray,I.index,I.sourceLayerIndex,g.index,en,On,Vn,ue,bn,Un,fi,nr,I,wt,_e,Oe,Rt)};if(hi==="line")for(var xi=0,ji=fp(I.geometry,0,0,ki,ki);xi<ji.length;xi+=1)for(var ra=ji[xi],ca=$0(ra,hn,Xn,j.vertical||_r,st,zr,dn,g.overscaling,ki),Yi=0,na=ca;Yi<na.length;Yi+=1){var Ui=na[Yi],da=_r;(!da||!l1(g,da.text,gi,Ui))&&mi(ra,Ui)}else if(hi==="line-center")for(var ua=0,La=I.geometry;ua<La.length;ua+=1){var ao=La[ua];if(ao.length>1){var Ga=J0(ao,Xn,j.vertical||_r,st,zr,dn);Ga&&mi(ao,Ga)}}else if(I.type==="Polygon")for(var vo=0,go=oh(I.geometry,0);vo<go.length;vo+=1){var mo=go[vo],Ja=e1(mo,16);mi(mo[0],new Bc(Ja.x,Ja.y,0))}else if(I.type==="LineString")for(var Lo=0,So=I.geometry;Lo<So.length;Lo+=1){var Xa=So[Lo];mi(Xa,new Bc(Xa[0].x,Xa[0].y,0))}else if(I.type==="Point")for(var Co=0,hs=I.geometry;Co<hs.length;Co+=1)for(var pu=hs[Co],Wu=0,Xu=pu;Wu<Xu.length;Wu+=1){var Vu=Xu[Wu];mi([Vu],new Bc(Vu.x,Vu.y,0))}}var vf=255,Gu=vf*yl;function vp(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r){var zr=Q0(I,j,Jt,pt,wt,Rt,st,g.allowVerticalPlacement),ln=g.textSizeData,en=null;ln.kind==="source"?(en=[yl*pt.layout.get("text-size").evaluate(Rt,{})],en[0]>Gu&&R(g.layerIds[0]+': Value for "text-size" is >= '+vf+'. Reduce your "text-size".')):ln.kind==="composite"&&(en=[yl*nr.compositeTextSizes[0].evaluate(Rt,{},_r),yl*nr.compositeTextSizes[1].evaluate(Rt,{},_r)],(en[0]>Gu||en[1]>Gu)&&R(g.layerIds[0]+': Value for "text-size" is >= '+vf+'. Reduce your "text-size".')),g.addSymbols(g.text,zr,en,Jt,wt,Rt,_e,I,ue.lineStartIndex,ue.lineLength,Xe,_r);for(var dn=0,bn=Oe;dn<bn.length;dn+=1){var hn=bn[dn];je[hn]=g.text.placedSymbolArray.length-1}return zr.length*4}function gp(g){for(var I in g)return g[I];return null}function s1(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe,nr,_r,zr,ln,en,dn,bn,hn,On,Un,Xn,Vn){var fi,hi=g.addToLineVertexArray(I,j),gi,bi,Ei,mi,xi=0,ji=0,ra=0,ca=0,Yi=-1,na=-1,Ui={},da=kt(""),ua=0,La=0;if(Jt._unevaluatedLayout.getValue("text-radial-offset")===void 0?(fi=Jt.layout.get("text-offset").evaluate(hn,{},Xn).map(function(yf){return yf*io}),ua=fi[0],La=fi[1]):(ua=Jt.layout.get("text-radial-offset").evaluate(hn,{},Xn)*io,La=vh),g.allowVerticalPlacement&&st.vertical){var ao=Jt.layout.get("text-rotate").evaluate(hn,{},Xn),Ga=ao+90,vo=st.vertical;Ei=new jf(ue,I,_e,Oe,je,vo,Xe,nr,_r,Ga),Rt&&(mi=new jf(ue,I,_e,Oe,je,Rt,ln,en,_r,Ga))}if(pt){var go=Jt.layout.get("icon-rotate").evaluate(hn,{}),mo=Jt.layout.get("icon-text-fit")!=="none",Ja=hp(pt,go,Un,mo),Lo=Rt?hp(Rt,go,Un,mo):void 0;bi=new jf(ue,I,_e,Oe,je,pt,ln,en,!1,go),xi=Ja.length*4;var So=g.iconSizeData,Xa=null;So.kind==="source"?(Xa=[yl*Jt.layout.get("icon-size").evaluate(hn,{})],Xa[0]>Gu&&R(g.layerIds[0]+': Value for "icon-size" is >= '+vf+'. Reduce your "icon-size".')):So.kind==="composite"&&(Xa=[yl*On.compositeIconSizes[0].evaluate(hn,{},Xn),yl*On.compositeIconSizes[1].evaluate(hn,{},Xn)],(Xa[0]>Gu||Xa[1]>Gu)&&R(g.layerIds[0]+': Value for "icon-size" is >= '+vf+'. Reduce your "icon-size".')),g.addSymbols(g.icon,Ja,Xa,bn,dn,hn,!1,I,hi.lineStartIndex,hi.lineLength,-1,Xn),Yi=g.icon.placedSymbolArray.length-1,Lo&&(ji=Lo.length*4,g.addSymbols(g.icon,Lo,Xa,bn,dn,hn,fs.vertical,I,hi.lineStartIndex,hi.lineLength,-1,Xn),na=g.icon.placedSymbolArray.length-1)}for(var Co in st.horizontal){var hs=st.horizontal[Co];if(!gi){da=kt(hs.text);var pu=Jt.layout.get("text-rotate").evaluate(hn,{},Xn);gi=new jf(ue,I,_e,Oe,je,hs,Xe,nr,_r,pu)}var Wu=hs.positionedLines.length===1;if(ra+=vp(g,I,hs,wt,Jt,_r,hn,zr,hi,st.vertical?fs.horizontal:fs.horizontalOnly,Wu?Object.keys(st.horizontal):[Co],Ui,Yi,On,Xn),Wu)break}st.vertical&&(ca+=vp(g,I,st.vertical,wt,Jt,_r,hn,zr,hi,fs.vertical,["vertical"],Ui,na,On,Xn));var Xu=gi?gi.boxStartIndex:g.collisionBoxArray.length,Vu=gi?gi.boxEndIndex:g.collisionBoxArray.length,Vc=Ei?Ei.boxStartIndex:g.collisionBoxArray.length,Hs=Ei?Ei.boxEndIndex:g.collisionBoxArray.length,Hf=bi?bi.boxStartIndex:g.collisionBoxArray.length,wh=bi?bi.boxEndIndex:g.collisionBoxArray.length,Wf=mi?mi.boxStartIndex:g.collisionBoxArray.length,Ah=mi?mi.boxEndIndex:g.collisionBoxArray.length,As=-1,Zc=function(yf,Op){return yf&&yf.circleDiameter?Math.max(yf.circleDiameter,Op):Op};As=Zc(gi,As),As=Zc(Ei,As),As=Zc(bi,As),As=Zc(mi,As);var Xf=As>-1?1:0;Xf&&(As*=Vn/io),g.glyphOffsetArray.length>=aa.MAX_GLYPHS&&R("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),hn.sortKey!==void 0&&g.addToSortKeyRanges(g.symbolInstances.length,hn.sortKey),g.symbolInstances.emplaceBack(I.x,I.y,Ui.right>=0?Ui.right:-1,Ui.center>=0?Ui.center:-1,Ui.left>=0?Ui.left:-1,Ui.vertical||-1,Yi,na,da,Xu,Vu,Vc,Hs,Hf,wh,Wf,Ah,_e,ra,ca,xi,ji,Xf,0,Xe,ua,La,As)}function l1(g,I,j,st){var pt=g.compareText;if(!(I in pt))pt[I]=[];else for(var wt=pt[I],Rt=wt.length-1;Rt>=0;Rt--)if(st.dist(wt[Rt])<j)return!0;return pt[I].push(st),!1}var u1=Fc.VectorTileFeature.types,c1=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Uf(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je,Xe){var nr=Jt?Math.min(Gu,Math.round(Jt[0])):0,_r=Jt?Math.min(Gu,Math.round(Jt[1])):0;g.emplaceBack(I,j,Math.round(st*32),Math.round(pt*32),wt,Rt,(nr<<1)+(ue?1:0),_r,_e*16,Oe*16,je*256,Xe*256)}function mh(g,I,j){g.emplaceBack(I.x,I.y,j),g.emplaceBack(I.x,I.y,j),g.emplaceBack(I.x,I.y,j),g.emplaceBack(I.x,I.y,j)}function f1(g){for(var I=0,j=g.sections;I<j.length;I+=1){var st=j[I];if(Vr(st.text))return!0}return!1}var Gc=function(g){this.layoutVertexArray=new Dl,this.indexArray=new pl,this.programConfigurations=g,this.segments=new Ba,this.dynamicLayoutVertexArray=new Jc,this.opacityVertexArray=new $c,this.placedSymbolArray=new ef};Gc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Gc.prototype.upload=function(g,I,j,st){this.isEmpty()||(j&&(this.layoutVertexBuffer=g.createVertexBuffer(this.layoutVertexArray,c0.members),this.indexBuffer=g.createIndexBuffer(this.indexArray,I),this.dynamicLayoutVertexBuffer=g.createVertexBuffer(this.dynamicLayoutVertexArray,f0.members,!0),this.opacityVertexBuffer=g.createVertexBuffer(this.opacityVertexArray,c1,!0),this.opacityVertexBuffer.itemSize=1),(j||st)&&this.programConfigurations.upload(g))},Gc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ct("SymbolBuffers",Gc);var gf=function(g,I,j){this.layoutVertexArray=new g,this.layoutAttributes=I,this.indexArray=new j,this.segments=new Ba,this.collisionVertexArray=new Fo};gf.prototype.upload=function(g){this.layoutVertexBuffer=g.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=g.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=g.createVertexBuffer(this.collisionVertexArray,h0.members,!0)},gf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ct("CollisionBuffers",gf);var aa=function(g){this.collisionBoxArray=g.collisionBoxArray,this.zoom=g.zoom,this.overscaling=g.overscaling,this.layers=g.layers,this.layerIds=this.layers.map(function(Jt){return Jt.id}),this.index=g.index,this.pixelRatio=g.pixelRatio,this.sourceLayerIndex=g.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ul([]),this.placementViewportMatrix=Ul([]);var I=this.layers[0],j=I._unevaluatedLayout._values;this.textSizeData=dh(this.zoom,j["text-size"]),this.iconSizeData=dh(this.zoom,j["icon-size"]);var st=this.layers[0].layout,pt=st.get("symbol-sort-key"),wt=st.get("symbol-z-order");this.canOverlap=st.get("text-allow-overlap")||st.get("icon-allow-overlap")||st.get("text-ignore-placement")||st.get("icon-ignore-placement"),this.sortFeaturesByKey=wt!=="viewport-y"&&pt.constantOr(1)!==void 0;var Rt=wt==="viewport-y"||wt==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Rt&&this.canOverlap,st.get("symbol-placement")==="point"&&(this.writingModes=st.get("text-writing-mode").map(function(Jt){return fs[Jt]})),this.stateDependentLayerIds=this.layers.filter(function(Jt){return Jt.isStateDependent()}).map(function(Jt){return Jt.id}),this.sourceID=g.sourceID};aa.prototype.createArrays=function(){this.text=new Gc(new li(this.layers,this.zoom,function(g){return/^text/.test(g)})),this.icon=new Gc(new li(this.layers,this.zoom,function(g){return/^icon/.test(g)})),this.glyphOffsetArray=new Af,this.lineVertexArray=new _s,this.symbolInstances=new wf},aa.prototype.calculateGlyphDependencies=function(g,I,j,st,pt){for(var wt=0;wt<g.length;wt++)if(I[g.charCodeAt(wt)]=!0,(j||st)&&pt){var Rt=ff[g.charAt(wt)];Rt&&(I[Rt.charCodeAt(0)]=!0)}},aa.prototype.populate=function(g,I,j){var st=this.layers[0],pt=st.layout,wt=pt.get("text-font"),Rt=pt.get("text-field"),Jt=pt.get("icon-image"),ue=(Rt.value.kind!=="constant"||Rt.value.value instanceof Sa&&!Rt.value.value.isEmpty()||Rt.value.value.toString().length>0)&&(wt.value.kind!=="constant"||wt.value.value.length>0),_e=Jt.value.kind!=="constant"||!!Jt.value.value||Object.keys(Jt.parameters).length>0,Oe=pt.get("symbol-sort-key");if(this.features=[],!(!ue&&!_e)){for(var je=I.iconDependencies,Xe=I.glyphDependencies,nr=I.availableImages,_r=new pi(this.zoom),zr=0,ln=g;zr<ln.length;zr+=1){var en=ln[zr],dn=en.feature,bn=en.id,hn=en.index,On=en.sourceLayerIndex,Un=st._featureFilter.needGeometry,Xn=Ni(dn,Un);if(st._featureFilter.filter(_r,Xn,j)){Un||(Xn.geometry=Ki(dn));var Vn=void 0;if(ue){var fi=st.getValueAndResolveTokens("text-field",Xn,j,nr),hi=Sa.factory(fi);f1(hi)&&(this.hasRTLText=!0),(!this.hasRTLText||Si()==="unavailable"||this.hasRTLText&&Yn.isParsed())&&(Vn=v0(hi,st,Xn))}var gi=void 0;if(_e){var bi=st.getValueAndResolveTokens("icon-image",Xn,j,nr);bi instanceof Va?gi=bi:gi=Va.fromString(bi)}if(!(!Vn&&!gi)){var Ei=this.sortFeaturesByKey?Oe.evaluate(Xn,{},j):void 0,mi={id:bn,text:Vn,icon:gi,index:hn,sourceLayerIndex:On,geometry:Xn.geometry,properties:dn.properties,type:u1[dn.type],sortKey:Ei};if(this.features.push(mi),gi&&(je[gi.name]=!0),Vn){var xi=wt.evaluate(Xn,{},j).join(","),ji=pt.get("text-rotation-alignment")==="map"&&pt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(fs.vertical)>=0;for(var ra=0,ca=Vn.sections;ra<ca.length;ra+=1){var Yi=ca[ra];if(Yi.image)je[Yi.image.name]=!0;else{var na=Ze(Vn.toString()),Ui=Yi.fontStack||xi,da=Xe[Ui]=Xe[Ui]||{};this.calculateGlyphDependencies(Yi.text,da,ji,this.allowVerticalPlacement,na)}}}}}}pt.get("symbol-placement")==="line"&&(this.features=g0(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ua,La){return ua.sortKey-La.sortKey})}},aa.prototype.update=function(g,I,j){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(g,I,this.layers,j),this.icon.programConfigurations.updatePaintArrays(g,I,this.layers,j))},aa.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},aa.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},aa.prototype.upload=function(g){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(g),this.iconCollisionBox.upload(g)),this.text.upload(g,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(g,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},aa.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},aa.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},aa.prototype.addToLineVertexArray=function(g,I){var j=this.lineVertexArray.length;if(g.segment!==void 0){for(var st=g.dist(I[g.segment+1]),pt=g.dist(I[g.segment]),wt={},Rt=g.segment+1;Rt<I.length;Rt++)wt[Rt]={x:I[Rt].x,y:I[Rt].y,tileUnitDistanceFromAnchor:st},Rt<I.length-1&&(st+=I[Rt+1].dist(I[Rt]));for(var Jt=g.segment||0;Jt>=0;Jt--)wt[Jt]={x:I[Jt].x,y:I[Jt].y,tileUnitDistanceFromAnchor:pt},Jt>0&&(pt+=I[Jt-1].dist(I[Jt]));for(var ue=0;ue<I.length;ue++){var _e=wt[ue];this.lineVertexArray.emplaceBack(_e.x,_e.y,_e.tileUnitDistanceFromAnchor)}}return{lineStartIndex:j,lineLength:this.lineVertexArray.length-j}},aa.prototype.addSymbols=function(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe,je){for(var Xe=g.indexArray,nr=g.layoutVertexArray,_r=g.segments.prepareSegment(4*I.length,nr,Xe,this.canOverlap?wt.sortKey:void 0),zr=this.glyphOffsetArray.length,ln=_r.vertexLength,en=this.allowVerticalPlacement&&Rt===fs.vertical?Math.PI/2:0,dn=wt.text&&wt.text.sections,bn=0;bn<I.length;bn++){var hn=I[bn],On=hn.tl,Un=hn.tr,Xn=hn.bl,Vn=hn.br,fi=hn.tex,hi=hn.pixelOffsetTL,gi=hn.pixelOffsetBR,bi=hn.minFontScaleX,Ei=hn.minFontScaleY,mi=hn.glyphOffset,xi=hn.isSDF,ji=hn.sectionIndex,ra=_r.vertexLength,ca=mi[1];Uf(nr,Jt.x,Jt.y,On.x,ca+On.y,fi.x,fi.y,j,xi,hi.x,hi.y,bi,Ei),Uf(nr,Jt.x,Jt.y,Un.x,ca+Un.y,fi.x+fi.w,fi.y,j,xi,gi.x,hi.y,bi,Ei),Uf(nr,Jt.x,Jt.y,Xn.x,ca+Xn.y,fi.x,fi.y+fi.h,j,xi,hi.x,gi.y,bi,Ei),Uf(nr,Jt.x,Jt.y,Vn.x,ca+Vn.y,fi.x+fi.w,fi.y+fi.h,j,xi,gi.x,gi.y,bi,Ei),mh(g.dynamicLayoutVertexArray,Jt,en),Xe.emplaceBack(ra,ra+1,ra+2),Xe.emplaceBack(ra+1,ra+2,ra+3),_r.vertexLength+=4,_r.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(mi[0]),(bn===I.length-1||ji!==I[bn+1].sectionIndex)&&g.programConfigurations.populatePaintArrays(nr.length,wt,wt.index,{},je,dn&&dn[ji])}g.placedSymbolArray.emplaceBack(Jt.x,Jt.y,zr,this.glyphOffsetArray.length-zr,ln,ue,_e,Jt.segment,j?j[0]:0,j?j[1]:0,st[0],st[1],Rt,0,!1,0,Oe)},aa.prototype._addCollisionDebugVertex=function(g,I,j,st,pt,wt){return I.emplaceBack(0,0),g.emplaceBack(j.x,j.y,st,pt,Math.round(wt.x),Math.round(wt.y))},aa.prototype.addCollisionDebugVertices=function(g,I,j,st,pt,wt,Rt){var Jt=pt.segments.prepareSegment(4,pt.layoutVertexArray,pt.indexArray),ue=Jt.vertexLength,_e=pt.layoutVertexArray,Oe=pt.collisionVertexArray,je=Rt.anchorX,Xe=Rt.anchorY;this._addCollisionDebugVertex(_e,Oe,wt,je,Xe,new r(g,I)),this._addCollisionDebugVertex(_e,Oe,wt,je,Xe,new r(j,I)),this._addCollisionDebugVertex(_e,Oe,wt,je,Xe,new r(j,st)),this._addCollisionDebugVertex(_e,Oe,wt,je,Xe,new r(g,st)),Jt.vertexLength+=4;var nr=pt.indexArray;nr.emplaceBack(ue,ue+1),nr.emplaceBack(ue+1,ue+2),nr.emplaceBack(ue+2,ue+3),nr.emplaceBack(ue+3,ue),Jt.primitiveLength+=4},aa.prototype.addDebugCollisionBoxes=function(g,I,j,st){for(var pt=g;pt<I;pt++){var wt=this.collisionBoxArray.get(pt),Rt=wt.x1,Jt=wt.y1,ue=wt.x2,_e=wt.y2;this.addCollisionDebugVertices(Rt,Jt,ue,_e,st?this.textCollisionBox:this.iconCollisionBox,wt.anchorPoint,j)}},aa.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gf(Mc,Gh.members,gc),this.iconCollisionBox=new gf(Mc,Gh.members,gc);for(var g=0;g<this.symbolInstances.length;g++){var I=this.symbolInstances.get(g);this.addDebugCollisionBoxes(I.textBoxStartIndex,I.textBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.iconBoxStartIndex,I.iconBoxEndIndex,I,!1),this.addDebugCollisionBoxes(I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex,I,!1)}},aa.prototype._deserializeCollisionBoxesForSymbol=function(g,I,j,st,pt,wt,Rt,Jt,ue){for(var _e={},Oe=I;Oe<j;Oe++){var je=g.get(Oe);_e.textBox={x1:je.x1,y1:je.y1,x2:je.x2,y2:je.y2,anchorPointX:je.anchorPointX,anchorPointY:je.anchorPointY},_e.textFeatureIndex=je.featureIndex;break}for(var Xe=st;Xe<pt;Xe++){var nr=g.get(Xe);_e.verticalTextBox={x1:nr.x1,y1:nr.y1,x2:nr.x2,y2:nr.y2,anchorPointX:nr.anchorPointX,anchorPointY:nr.anchorPointY},_e.verticalTextFeatureIndex=nr.featureIndex;break}for(var _r=wt;_r<Rt;_r++){var zr=g.get(_r);_e.iconBox={x1:zr.x1,y1:zr.y1,x2:zr.x2,y2:zr.y2,anchorPointX:zr.anchorPointX,anchorPointY:zr.anchorPointY},_e.iconFeatureIndex=zr.featureIndex;break}for(var ln=Jt;ln<ue;ln++){var en=g.get(ln);_e.verticalIconBox={x1:en.x1,y1:en.y1,x2:en.x2,y2:en.y2,anchorPointX:en.anchorPointX,anchorPointY:en.anchorPointY},_e.verticalIconFeatureIndex=en.featureIndex;break}return _e},aa.prototype.deserializeCollisionBoxes=function(g){this.collisionArrays=[];for(var I=0;I<this.symbolInstances.length;I++){var j=this.symbolInstances.get(I);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(g,j.textBoxStartIndex,j.textBoxEndIndex,j.verticalTextBoxStartIndex,j.verticalTextBoxEndIndex,j.iconBoxStartIndex,j.iconBoxEndIndex,j.verticalIconBoxStartIndex,j.verticalIconBoxEndIndex))}},aa.prototype.hasTextData=function(){return this.text.segments.get().length>0},aa.prototype.hasIconData=function(){return this.icon.segments.get().length>0},aa.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},aa.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},aa.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},aa.prototype.addIndicesForPlacedSymbol=function(g,I){for(var j=g.placedSymbolArray.get(I),st=j.vertexStartIndex+j.numGlyphs*4,pt=j.vertexStartIndex;pt<st;pt+=4)g.indexArray.emplaceBack(pt,pt+1,pt+2),g.indexArray.emplaceBack(pt+1,pt+2,pt+3)},aa.prototype.getSortedSymbolIndexes=function(g){if(this.sortedAngle===g&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var I=Math.sin(g),j=Math.cos(g),st=[],pt=[],wt=[],Rt=0;Rt<this.symbolInstances.length;++Rt){wt.push(Rt);var Jt=this.symbolInstances.get(Rt);st.push(Math.round(I*Jt.anchorX+j*Jt.anchorY)|0),pt.push(Jt.featureIndex)}return wt.sort(function(ue,_e){return st[ue]-st[_e]||pt[_e]-pt[ue]}),wt},aa.prototype.addToSortKeyRanges=function(g,I){var j=this.sortKeyRanges[this.sortKeyRanges.length-1];j&&j.sortKey===I?j.symbolInstanceEnd=g+1:this.sortKeyRanges.push({sortKey:I,symbolInstanceStart:g,symbolInstanceEnd:g+1})},aa.prototype.sortFeatures=function(g){var I=this;if(this.sortFeaturesByY&&this.sortedAngle!==g&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(g),this.sortedAngle=g,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var j=0,st=this.symbolInstanceIndexes;j<st.length;j+=1){var pt=st[j],wt=this.symbolInstances.get(pt);this.featureSortOrder.push(wt.featureIndex),[wt.rightJustifiedTextSymbolIndex,wt.centerJustifiedTextSymbolIndex,wt.leftJustifiedTextSymbolIndex].forEach(function(Rt,Jt,ue){Rt>=0&&ue.indexOf(Rt)===Jt&&I.addIndicesForPlacedSymbol(I.text,Rt)}),wt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,wt.verticalPlacedTextSymbolIndex),wt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,wt.placedIconSymbolIndex),wt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,wt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ct("SymbolBucket",aa,{omit:["layers","collisionBoxArray","features","compareText"]}),aa.MAX_GLYPHS=65535,aa.addDynamicAttributes=mh;function h1(g,I){return I.replace(/{([^{}]+)}/g,function(j,st){return st in g?String(g[st]):""})}var p1=new Zi({"symbol-placement":new Qn(gr.layout_symbol["symbol-placement"]),"symbol-spacing":new Qn(gr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qn(gr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vi(gr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qn(gr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qn(gr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Qn(gr.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qn(gr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qn(gr.layout_symbol["icon-rotation-alignment"]),"icon-size":new vi(gr.layout_symbol["icon-size"]),"icon-text-fit":new Qn(gr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qn(gr.layout_symbol["icon-text-fit-padding"]),"icon-image":new vi(gr.layout_symbol["icon-image"]),"icon-rotate":new vi(gr.layout_symbol["icon-rotate"]),"icon-padding":new Qn(gr.layout_symbol["icon-padding"]),"icon-keep-upright":new Qn(gr.layout_symbol["icon-keep-upright"]),"icon-offset":new vi(gr.layout_symbol["icon-offset"]),"icon-anchor":new vi(gr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qn(gr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qn(gr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qn(gr.layout_symbol["text-rotation-alignment"]),"text-field":new vi(gr.layout_symbol["text-field"]),"text-font":new vi(gr.layout_symbol["text-font"]),"text-size":new vi(gr.layout_symbol["text-size"]),"text-max-width":new vi(gr.layout_symbol["text-max-width"]),"text-line-height":new Qn(gr.layout_symbol["text-line-height"]),"text-letter-spacing":new vi(gr.layout_symbol["text-letter-spacing"]),"text-justify":new vi(gr.layout_symbol["text-justify"]),"text-radial-offset":new vi(gr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qn(gr.layout_symbol["text-variable-anchor"]),"text-anchor":new vi(gr.layout_symbol["text-anchor"]),"text-max-angle":new Qn(gr.layout_symbol["text-max-angle"]),"text-writing-mode":new Qn(gr.layout_symbol["text-writing-mode"]),"text-rotate":new vi(gr.layout_symbol["text-rotate"]),"text-padding":new Qn(gr.layout_symbol["text-padding"]),"text-keep-upright":new Qn(gr.layout_symbol["text-keep-upright"]),"text-transform":new vi(gr.layout_symbol["text-transform"]),"text-offset":new vi(gr.layout_symbol["text-offset"]),"text-allow-overlap":new Qn(gr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Qn(gr.layout_symbol["text-ignore-placement"]),"text-optional":new Qn(gr.layout_symbol["text-optional"])}),d1=new Zi({"icon-opacity":new vi(gr.paint_symbol["icon-opacity"]),"icon-color":new vi(gr.paint_symbol["icon-color"]),"icon-halo-color":new vi(gr.paint_symbol["icon-halo-color"]),"icon-halo-width":new vi(gr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vi(gr.paint_symbol["icon-halo-blur"]),"icon-translate":new Qn(gr.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qn(gr.paint_symbol["icon-translate-anchor"]),"text-opacity":new vi(gr.paint_symbol["text-opacity"]),"text-color":new vi(gr.paint_symbol["text-color"],{runtimeType:xn,getOverride:function(g){return g.textColor},hasOverride:function(g){return!!g.textColor}}),"text-halo-color":new vi(gr.paint_symbol["text-halo-color"]),"text-halo-width":new vi(gr.paint_symbol["text-halo-width"]),"text-halo-blur":new vi(gr.paint_symbol["text-halo-blur"]),"text-translate":new Qn(gr.paint_symbol["text-translate"]),"text-translate-anchor":new Qn(gr.paint_symbol["text-translate-anchor"])}),yh={paint:d1,layout:p1},Hc=function(g){this.type=g.property.overrides?g.property.overrides.runtimeType:Fr,this.defaultValue=g};Hc.prototype.evaluate=function(g){if(g.formattedSection){var I=this.defaultValue.property.overrides;if(I&&I.hasOverride(g.formattedSection))return I.getOverride(g.formattedSection)}return g.feature&&g.featureState?this.defaultValue.evaluate(g.feature,g.featureState):this.defaultValue.property.specification.default},Hc.prototype.eachChild=function(g){if(!this.defaultValue.isConstant()){var I=this.defaultValue.value;g(I._styleExpression.expression)}},Hc.prototype.outputDefined=function(){return!1},Hc.prototype.serialize=function(){return null},Ct("FormatSectionOverride",Hc,{omit:["defaultValue"]});var v1=function(g){function I(j){g.call(this,j,yh)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(j,st){if(g.prototype.recalculate.call(this,j,st),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var pt=this.layout.get("text-writing-mode");if(pt){for(var wt=[],Rt=0,Jt=pt;Rt<Jt.length;Rt+=1){var ue=Jt[Rt];wt.indexOf(ue)<0&&wt.push(ue)}this.layout._values["text-writing-mode"]=wt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(j,st,pt,wt){var Rt=this.layout.get(j).evaluate(st,{},pt,wt),Jt=this._unevaluatedLayout._values[j];return!Jt.isDataDriven()&&!il(Jt.value)&&Rt?h1(st.properties,Rt):Rt},I.prototype.createBucket=function(j){return new aa(j)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var j=0,st=yh.paint.overridableProperties;j<st.length;j+=1){var pt=st[j];if(I.hasPaintOverride(this.layout,pt)){var wt=this.paint.get(pt),Rt=new Hc(wt),Jt=new os(Rt,wt.property.specification),ue=null;wt.value.kind==="constant"||wt.value.kind==="source"?ue=new Ma("source",Jt):ue=new zo("composite",Jt,wt.value.zoomStops,wt.value._interpolationType),this.paint._values[pt]=new sa(wt.property,ue,wt.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(j,st,pt){return!this.layout||st.isDataDriven()||pt.isDataDriven()?!1:I.hasPaintOverride(this.layout,j)},I.hasPaintOverride=function(j,st){var pt=j.get("text-field"),wt=yh.paint.properties[st],Rt=!1,Jt=function(Oe){for(var je=0,Xe=Oe;je<Xe.length;je+=1){var nr=Xe[je];if(wt.overrides&&wt.overrides.hasOverride(nr)){Rt=!0;return}}};if(pt.value.kind==="constant"&&pt.value.value instanceof Sa)Jt(pt.value.value.sections);else if(pt.value.kind==="source"){var ue=function(Oe){if(!Rt)if(Oe instanceof ba&&ma(Oe.value)===oi){var je=Oe.value;Jt(je.sections)}else Oe instanceof Fa?Jt(Oe.sections):Oe.eachChild(ue)},_e=pt.value;_e._styleExpression&&ue(_e._styleExpression.expression)}return Rt},I}(wa),g1=new Zi({"background-color":new Qn(gr.paint_background["background-color"]),"background-pattern":new uo(gr.paint_background["background-pattern"]),"background-opacity":new Qn(gr.paint_background["background-opacity"])}),m1={paint:g1},y1=function(g){function I(j){g.call(this,j,m1)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I}(wa),x1=new Zi({"raster-opacity":new Qn(gr.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qn(gr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qn(gr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qn(gr.paint_raster["raster-brightness-max"]),"raster-saturation":new Qn(gr.paint_raster["raster-saturation"]),"raster-contrast":new Qn(gr.paint_raster["raster-contrast"]),"raster-resampling":new Qn(gr.paint_raster["raster-resampling"]),"raster-fade-duration":new Qn(gr.paint_raster["raster-fade-duration"])}),b1={paint:x1},_1=function(g){function I(j){g.call(this,j,b1)}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I}(wa);function w1(g){var I=[],j=g.id;return j===void 0&&I.push({message:"layers."+j+': missing required property "id"'}),g.render===void 0&&I.push({message:"layers."+j+': missing required method "render"'}),g.renderingMode&&g.renderingMode!=="2d"&&g.renderingMode!=="3d"&&I.push({message:"layers."+j+': property "renderingMode" must be either "2d" or "3d"'}),I}var A1=function(g){function I(j){g.call(this,j,{}),this.implementation=j}return g&&(I.__proto__=g),I.prototype=Object.create(g&&g.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(j){this.implementation.onAdd&&this.implementation.onAdd(j,j.painter.context.gl)},I.prototype.onRemove=function(j){this.implementation.onRemove&&this.implementation.onRemove(j,j.painter.context.gl)},I}(wa),T1={circle:Wp,heatmap:Kp,hillshade:Qp,fill:kd,"fill-extrusion":Wd,line:l0,symbol:v1,background:y1,raster:_1};function k1(g){return g.type==="custom"?new A1(g):new T1[g.type](g)}var mp=l.HTMLImageElement,yp=l.HTMLCanvasElement,xp=l.HTMLVideoElement,bp=l.ImageData,qf=l.ImageBitmap,Ac=function(g,I,j,st){this.context=g,this.format=j,this.texture=g.gl.createTexture(),this.update(I,st)};Ac.prototype.update=function(g,I,j){var st=g.width,pt=g.height,wt=(!this.size||this.size[0]!==st||this.size[1]!==pt)&&!j,Rt=this,Jt=Rt.context,ue=Jt.gl;if(this.useMipmap=!!(I&&I.useMipmap),ue.bindTexture(ue.TEXTURE_2D,this.texture),Jt.pixelStoreUnpackFlipY.set(!1),Jt.pixelStoreUnpack.set(1),Jt.pixelStoreUnpackPremultiplyAlpha.set(this.format===ue.RGBA&&(!I||I.premultiply!==!1)),wt)this.size=[st,pt],g instanceof mp||g instanceof yp||g instanceof xp||g instanceof bp||qf&&g instanceof qf?ue.texImage2D(ue.TEXTURE_2D,0,this.format,this.format,ue.UNSIGNED_BYTE,g):ue.texImage2D(ue.TEXTURE_2D,0,this.format,st,pt,0,this.format,ue.UNSIGNED_BYTE,g.data);else{var _e=j||{x:0,y:0},Oe=_e.x,je=_e.y;g instanceof mp||g instanceof yp||g instanceof xp||g instanceof bp||qf&&g instanceof qf?ue.texSubImage2D(ue.TEXTURE_2D,0,Oe,je,ue.RGBA,ue.UNSIGNED_BYTE,g):ue.texSubImage2D(ue.TEXTURE_2D,0,Oe,je,st,pt,ue.RGBA,ue.UNSIGNED_BYTE,g.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ue.generateMipmap(ue.TEXTURE_2D)},Ac.prototype.bind=function(g,I,j){var st=this,pt=st.context,wt=pt.gl;wt.bindTexture(wt.TEXTURE_2D,this.texture),j===wt.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(j=wt.LINEAR),g!==this.filter&&(wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_MAG_FILTER,g),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_MIN_FILTER,j||g),this.filter=g),I!==this.wrap&&(wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_WRAP_S,I),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_WRAP_T,I),this.wrap=I)},Ac.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Ac.prototype.destroy=function(){var g=this.context,I=g.gl;I.deleteTexture(this.texture),this.texture=null};var xh=function(g){var I=this;this._callback=g,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){I._triggered=!1,I._callback()})};xh.prototype.trigger=function(){var g=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){g._triggered=!1,g._callback()},0))},xh.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Wc=function(g,I,j){this.target=g,this.parent=I,this.mapId=j,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new xh(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=V()?g:l};Wc.prototype.send=function(g,I,j,st,pt){var wt=this;pt===void 0&&(pt=!1);var Rt=Math.round(Math.random()*1e18).toString(36).substring(0,10);j&&(this.callbacks[Rt]=j);var Jt=nt(this.globalScope)?void 0:[];return this.target.postMessage({id:Rt,type:g,hasCallback:!!j,targetMapId:st,mustQueue:pt,sourceMapId:this.mapId,data:xe(I,Jt)},Jt),{cancel:function(){j&&delete wt.callbacks[Rt],wt.target.postMessage({id:Rt,type:"<cancel>",targetMapId:st,sourceMapId:wt.mapId})}}},Wc.prototype.receive=function(g){var I=g.data,j=I.id;if(j&&!(I.targetMapId&&this.mapId!==I.targetMapId))if(I.type==="<cancel>"){delete this.tasks[j];var st=this.cancelCallbacks[j];delete this.cancelCallbacks[j],st&&st()}else V()||I.mustQueue?(this.tasks[j]=I,this.taskQueue.push(j),this.invoker.trigger()):this.processTask(j,I)},Wc.prototype.process=function(){if(this.taskQueue.length){var g=this.taskQueue.shift(),I=this.tasks[g];delete this.tasks[g],this.taskQueue.length&&this.invoker.trigger(),I&&this.processTask(g,I)}},Wc.prototype.processTask=function(g,I){var j=this;if(I.type==="<response>"){var st=this.callbacks[g];delete this.callbacks[g],st&&(I.error?st(me(I.error)):st(null,me(I.data)))}else{var pt=!1,wt=nt(this.globalScope)?void 0:[],Rt=I.hasCallback?function(je,Xe){pt=!0,delete j.cancelCallbacks[g],j.target.postMessage({id:g,type:"<response>",sourceMapId:j.mapId,error:je?xe(je):null,data:xe(Xe,wt)},wt)}:function(je){pt=!0},Jt=null,ue=me(I.data);if(this.parent[I.type])Jt=this.parent[I.type](I.sourceMapId,ue,Rt);else if(this.parent.getWorkerSource){var _e=I.type.split("."),Oe=this.parent.getWorkerSource(I.sourceMapId,_e[0],ue.source);Jt=Oe[_e[1]](ue,Rt)}else Rt(new Error("Could not find function "+I.type));!pt&&Jt&&Jt.cancel&&(this.cancelCallbacks[g]=Jt.cancel)}},Wc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function M1(g,I,j){I=Math.pow(2,j)-I-1;var st=_p(g*256,I*256,j),pt=_p((g+1)*256,(I+1)*256,j);return st[0]+","+st[1]+","+pt[0]+","+pt[1]}function _p(g,I,j){var st=2*Math.PI*6378137/256/Math.pow(2,j),pt=g*st-2*Math.PI*6378137/2,wt=I*st-2*Math.PI*6378137/2;return[pt,wt]}var qa=function(g,I){g&&(I?this.setSouthWest(g).setNorthEast(I):g.length===4?this.setSouthWest([g[0],g[1]]).setNorthEast([g[2],g[3]]):this.setSouthWest(g[0]).setNorthEast(g[1]))};qa.prototype.setNorthEast=function(g){return this._ne=g instanceof ga?new ga(g.lng,g.lat):ga.convert(g),this},qa.prototype.setSouthWest=function(g){return this._sw=g instanceof ga?new ga(g.lng,g.lat):ga.convert(g),this},qa.prototype.extend=function(g){var I=this._sw,j=this._ne,st,pt;if(g instanceof ga)st=g,pt=g;else if(g instanceof qa){if(st=g._sw,pt=g._ne,!st||!pt)return this}else{if(Array.isArray(g))if(g.length===4||g.every(Array.isArray)){var wt=g;return this.extend(qa.convert(wt))}else{var Rt=g;return this.extend(ga.convert(Rt))}return this}return!I&&!j?(this._sw=new ga(st.lng,st.lat),this._ne=new ga(pt.lng,pt.lat)):(I.lng=Math.min(st.lng,I.lng),I.lat=Math.min(st.lat,I.lat),j.lng=Math.max(pt.lng,j.lng),j.lat=Math.max(pt.lat,j.lat)),this},qa.prototype.getCenter=function(){return new ga((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},qa.prototype.getSouthWest=function(){return this._sw},qa.prototype.getNorthEast=function(){return this._ne},qa.prototype.getNorthWest=function(){return new ga(this.getWest(),this.getNorth())},qa.prototype.getSouthEast=function(){return new ga(this.getEast(),this.getSouth())},qa.prototype.getWest=function(){return this._sw.lng},qa.prototype.getSouth=function(){return this._sw.lat},qa.prototype.getEast=function(){return this._ne.lng},qa.prototype.getNorth=function(){return this._ne.lat},qa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},qa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},qa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},qa.prototype.contains=function(g){var I=ga.convert(g),j=I.lng,st=I.lat,pt=this._sw.lat<=st&&st<=this._ne.lat,wt=this._sw.lng<=j&&j<=this._ne.lng;return this._sw.lng>this._ne.lng&&(wt=this._sw.lng>=j&&j>=this._ne.lng),pt&&wt},qa.convert=function(g){return!g||g instanceof qa?g:new qa(g)};var wp=63710088e-1,ga=function(g,I){if(isNaN(g)||isNaN(I))throw new Error("Invalid LngLat object: ("+g+", "+I+")");if(this.lng=+g,this.lat=+I,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ga.prototype.wrap=function(){return new ga(_(this.lng,-180,180),this.lat)},ga.prototype.toArray=function(){return[this.lng,this.lat]},ga.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ga.prototype.distanceTo=function(g){var I=Math.PI/180,j=this.lat*I,st=g.lat*I,pt=Math.sin(j)*Math.sin(st)+Math.cos(j)*Math.cos(st)*Math.cos((g.lng-this.lng)*I),wt=wp*Math.acos(Math.min(pt,1));return wt},ga.prototype.toBounds=function(g){g===void 0&&(g=0);var I=40075017,j=360*g/I,st=j/Math.cos(Math.PI/180*this.lat);return new qa(new ga(this.lng-st,this.lat-j),new ga(this.lng+st,this.lat+j))},ga.convert=function(g){if(g instanceof ga)return g;if(Array.isArray(g)&&(g.length===2||g.length===3))return new ga(Number(g[0]),Number(g[1]));if(!Array.isArray(g)&&typeof g=="object"&&g!==null)return new ga(Number("lng"in g?g.lng:g.lon),Number(g.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ap=2*Math.PI*wp;function Tp(g){return Ap*Math.cos(g*Math.PI/180)}function kp(g){return(180+g)/360}function Mp(g){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+g*Math.PI/360)))/360}function Ep(g,I){return g/Tp(I)}function E1(g){return g*360-180}function bh(g){var I=180-g*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function L1(g,I){return g*Tp(bh(I))}function S1(g){return 1/Math.cos(g*Math.PI/180)}var Tc=function(g,I,j){j===void 0&&(j=0),this.x=+g,this.y=+I,this.z=+j};Tc.fromLngLat=function(g,I){I===void 0&&(I=0);var j=ga.convert(g);return new Tc(kp(j.lng),Mp(j.lat),Ep(I,j.lat))},Tc.prototype.toLngLat=function(){return new ga(E1(this.x),bh(this.y))},Tc.prototype.toAltitude=function(){return L1(this.z,this.y)},Tc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ap*S1(bh(this.y))};var kc=function(g,I,j){this.z=g,this.x=I,this.y=j,this.key=mf(0,g,g,I,j)};kc.prototype.equals=function(g){return this.z===g.z&&this.x===g.x&&this.y===g.y},kc.prototype.url=function(g,I){var j=M1(this.x,this.y,this.z),st=C1(this.z,this.x,this.y);return g[(this.x+this.y)%g.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(I==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",st).replace("{bbox-epsg-3857}",j)},kc.prototype.getTilePoint=function(g){var I=Math.pow(2,this.z);return new r((g.x*I-this.x)*ki,(g.y*I-this.y)*ki)},kc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Lp=function(g,I){this.wrap=g,this.canonical=I,this.key=mf(g,I.z,I.z,I.x,I.y)},Ya=function(g,I,j,st,pt){this.overscaledZ=g,this.wrap=I,this.canonical=new kc(j,+st,+pt),this.key=mf(I,g,j,st,pt)};Ya.prototype.equals=function(g){return this.overscaledZ===g.overscaledZ&&this.wrap===g.wrap&&this.canonical.equals(g.canonical)},Ya.prototype.scaledTo=function(g){var I=this.canonical.z-g;return g>this.canonical.z?new Ya(g,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ya(g,this.wrap,g,this.canonical.x>>I,this.canonical.y>>I)},Ya.prototype.calculateScaledKey=function(g,I){var j=this.canonical.z-g;return g>this.canonical.z?mf(this.wrap*+I,g,this.canonical.z,this.canonical.x,this.canonical.y):mf(this.wrap*+I,g,g,this.canonical.x>>j,this.canonical.y>>j)},Ya.prototype.isChildOf=function(g){if(g.wrap!==this.wrap)return!1;var I=this.canonical.z-g.canonical.z;return g.overscaledZ===0||g.overscaledZ<this.overscaledZ&&g.canonical.x===this.canonical.x>>I&&g.canonical.y===this.canonical.y>>I},Ya.prototype.children=function(g){if(this.overscaledZ>=g)return[new Ya(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var I=this.canonical.z+1,j=this.canonical.x*2,st=this.canonical.y*2;return[new Ya(I,this.wrap,I,j,st),new Ya(I,this.wrap,I,j+1,st),new Ya(I,this.wrap,I,j,st+1),new Ya(I,this.wrap,I,j+1,st+1)]},Ya.prototype.isLessThan=function(g){return this.wrap<g.wrap?!0:this.wrap>g.wrap?!1:this.overscaledZ<g.overscaledZ?!0:this.overscaledZ>g.overscaledZ?!1:this.canonical.x<g.canonical.x?!0:this.canonical.x>g.canonical.x?!1:this.canonical.y<g.canonical.y},Ya.prototype.wrapped=function(){return new Ya(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ya.prototype.unwrapTo=function(g){return new Ya(this.overscaledZ,g,this.canonical.z,this.canonical.x,this.canonical.y)},Ya.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ya.prototype.toUnwrapped=function(){return new Lp(this.wrap,this.canonical)},Ya.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ya.prototype.getTilePoint=function(g){return this.canonical.getTilePoint(new Tc(g.x-this.wrap,g.y))};function mf(g,I,j,st,pt){g*=2,g<0&&(g=g*-1-1);var wt=1<<j;return(wt*wt*g+wt*pt+st).toString(36)+j.toString(36)+I.toString(36)}function C1(g,I,j){for(var st="",pt,wt=g;wt>0;wt--)pt=1<<wt-1,st+=(I&pt?1:0)+(j&pt?2:0);return st}Ct("CanonicalTileID",kc),Ct("OverscaledTileID",Ya,{omit:["posMatrix"]});var fu=function(g,I,j){if(this.uid=g,I.height!==I.width)throw new RangeError("DEM tiles must be square");if(j&&j!=="mapbox"&&j!=="terrarium")return R('"'+j+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=I.height;var st=this.dim=I.height-2;this.data=new Uint32Array(I.data.buffer),this.encoding=j||"mapbox";for(var pt=0;pt<st;pt++)this.data[this._idx(-1,pt)]=this.data[this._idx(0,pt)],this.data[this._idx(st,pt)]=this.data[this._idx(st-1,pt)],this.data[this._idx(pt,-1)]=this.data[this._idx(pt,0)],this.data[this._idx(pt,st)]=this.data[this._idx(pt,st-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(st,-1)]=this.data[this._idx(st-1,0)],this.data[this._idx(-1,st)]=this.data[this._idx(0,st-1)],this.data[this._idx(st,st)]=this.data[this._idx(st-1,st-1)]};fu.prototype.get=function(g,I){var j=new Uint8Array(this.data.buffer),st=this._idx(g,I)*4,pt=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return pt(j[st],j[st+1],j[st+2])},fu.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},fu.prototype._idx=function(g,I){if(g<-1||g>=this.dim+1||I<-1||I>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(I+1)*this.stride+(g+1)},fu.prototype._unpackMapbox=function(g,I,j){return(g*256*256+I*256+j)/10-1e4},fu.prototype._unpackTerrarium=function(g,I,j){return g*256+I+j/256-32768},fu.prototype.getPixels=function(){return new Bo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},fu.prototype.backfillBorder=function(g,I,j){if(this.dim!==g.dim)throw new Error("dem dimension mismatch");var st=I*this.dim,pt=I*this.dim+this.dim,wt=j*this.dim,Rt=j*this.dim+this.dim;switch(I){case-1:st=pt-1;break;case 1:pt=st+1;break}switch(j){case-1:wt=Rt-1;break;case 1:Rt=wt+1;break}for(var Jt=-I*this.dim,ue=-j*this.dim,_e=wt;_e<Rt;_e++)for(var Oe=st;Oe<pt;Oe++)this.data[this._idx(Oe,_e)]=g.data[this._idx(Oe+Jt,_e+ue)]},Ct("DEMData",fu);function R1(g,I){var j={};if(!I)return j;for(var st=function(){var Rt=wt[pt],Jt=Rt.layerIds.map(function(je){return I.getLayer(je)}).filter(Boolean);if(Jt.length!==0){Rt.layers=Jt,Rt.stateDependentLayerIds&&(Rt.stateDependentLayers=Rt.stateDependentLayerIds.map(function(je){return Jt.filter(function(Xe){return Xe.id===je})[0]}));for(var ue=0,_e=Jt;ue<_e.length;ue+=1){var Oe=_e[ue];j[Oe.id]=Rt}}},pt=0,wt=g;pt<wt.length;pt+=1)st();return j}var Yf=function(g){this._stringToNumber={},this._numberToString=[];for(var I=0;I<g.length;I++){var j=g[I];this._stringToNumber[j]=I,this._numberToString[I]=j}};Yf.prototype.encode=function(g){return this._stringToNumber[g]},Yf.prototype.decode=function(g){return this._numberToString[g]};var Gf=function(g,I,j,st,pt){this.type="Feature",this._vectorTileFeature=g,g._z=I,g._x=j,g._y=st,this.properties=g.properties,this.id=pt},_h={geometry:{configurable:!0}};_h.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},_h.geometry.set=function(g){this._geometry=g},Gf.prototype.toJSON=function(){var g={geometry:this.geometry};for(var I in this)I==="_geometry"||I==="_vectorTileFeature"||(g[I]=this[I]);return g},Object.defineProperties(Gf.prototype,_h);var Xc=function(){this.state={},this.stateChanges={},this.deletedStates={}};Xc.prototype.updateState=function(g,I,j){var st=String(I);if(this.stateChanges[g]=this.stateChanges[g]||{},this.stateChanges[g][st]=this.stateChanges[g][st]||{},x(this.stateChanges[g][st],j),this.deletedStates[g]===null){this.deletedStates[g]={};for(var pt in this.state[g])pt!==st&&(this.deletedStates[g][pt]=null)}else{var wt=this.deletedStates[g]&&this.deletedStates[g][st]===null;if(wt){this.deletedStates[g][st]={};for(var Rt in this.state[g][st])j[Rt]||(this.deletedStates[g][st][Rt]=null)}else for(var Jt in j){var ue=this.deletedStates[g]&&this.deletedStates[g][st]&&this.deletedStates[g][st][Jt]===null;ue&&delete this.deletedStates[g][st][Jt]}}},Xc.prototype.removeFeatureState=function(g,I,j){var st=this.deletedStates[g]===null;if(!st){var pt=String(I);if(this.deletedStates[g]=this.deletedStates[g]||{},j&&I!==void 0)this.deletedStates[g][pt]!==null&&(this.deletedStates[g][pt]=this.deletedStates[g][pt]||{},this.deletedStates[g][pt][j]=null);else if(I!==void 0){var wt=this.stateChanges[g]&&this.stateChanges[g][pt];if(wt){this.deletedStates[g][pt]={};for(j in this.stateChanges[g][pt])this.deletedStates[g][pt][j]=null}else this.deletedStates[g][pt]=null}else this.deletedStates[g]=null}},Xc.prototype.getState=function(g,I){var j=String(I),st=this.state[g]||{},pt=this.stateChanges[g]||{},wt=x({},st[j],pt[j]);if(this.deletedStates[g]===null)return{};if(this.deletedStates[g]){var Rt=this.deletedStates[g][I];if(Rt===null)return{};for(var Jt in Rt)delete wt[Jt]}return wt},Xc.prototype.initializeTileState=function(g,I){g.setFeatureState(this.state,I)},Xc.prototype.coalesceChanges=function(g,I){var j={};for(var st in this.stateChanges){this.state[st]=this.state[st]||{};var pt={};for(var wt in this.stateChanges[st])this.state[st][wt]||(this.state[st][wt]={}),x(this.state[st][wt],this.stateChanges[st][wt]),pt[wt]=this.state[st][wt];j[st]=pt}for(var Rt in this.deletedStates){this.state[Rt]=this.state[Rt]||{};var Jt={};if(this.deletedStates[Rt]===null)for(var ue in this.state[Rt])Jt[ue]={},this.state[Rt][ue]={};else for(var _e in this.deletedStates[Rt]){var Oe=this.deletedStates[Rt][_e]===null;if(Oe)this.state[Rt][_e]={};else for(var je=0,Xe=Object.keys(this.deletedStates[Rt][_e]);je<Xe.length;je+=1){var nr=Xe[je];delete this.state[Rt][_e][nr]}Jt[_e]=this.state[Rt][_e]}j[Rt]=j[Rt]||{},x(j[Rt],Jt)}if(this.stateChanges={},this.deletedStates={},Object.keys(j).length!==0)for(var _r in g){var zr=g[_r];zr.setFeatureState(j,I)}};var hu=function(g,I){this.tileID=g,this.x=g.canonical.x,this.y=g.canonical.y,this.z=g.canonical.z,this.grid=new Ci(ki,16,0),this.grid3D=new Ci(ki,16,0),this.featureIndexArray=new kf,this.promoteId=I};hu.prototype.insert=function(g,I,j,st,pt,wt){var Rt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(j,st,pt);for(var Jt=wt?this.grid3D:this.grid,ue=0;ue<I.length;ue++){for(var _e=I[ue],Oe=[1/0,1/0,-1/0,-1/0],je=0;je<_e.length;je++){var Xe=_e[je];Oe[0]=Math.min(Oe[0],Xe.x),Oe[1]=Math.min(Oe[1],Xe.y),Oe[2]=Math.max(Oe[2],Xe.x),Oe[3]=Math.max(Oe[3],Xe.y)}Oe[0]<ki&&Oe[1]<ki&&Oe[2]>=0&&Oe[3]>=0&&Jt.insert(Rt,Oe[0],Oe[1],Oe[2],Oe[3])}},hu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Fc.VectorTile(new Pf(this.rawTileData)).layers,this.sourceLayerCoder=new Yf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},hu.prototype.query=function(g,I,j,st){var pt=this;this.loadVTLayers();for(var wt=g.params||{},Rt=ki/g.tileSize/g.scale,Jt=us(wt.filter),ue=g.queryGeometry,_e=g.queryPadding*Rt,Oe=Cp(ue),je=this.grid.query(Oe.minX-_e,Oe.minY-_e,Oe.maxX+_e,Oe.maxY+_e),Xe=Cp(g.cameraQueryGeometry),nr=this.grid3D.query(Xe.minX-_e,Xe.minY-_e,Xe.maxX+_e,Xe.maxY+_e,function(On,Un,Xn,Vn){return jl(g.cameraQueryGeometry,On-_e,Un-_e,Xn+_e,Vn+_e)}),_r=0,zr=nr;_r<zr.length;_r+=1){var ln=zr[_r];je.push(ln)}je.sort(O1);for(var en={},dn,bn=function(On){var Un=je[On];if(Un!==dn){dn=Un;var Xn=pt.featureIndexArray.get(Un),Vn=null;pt.loadMatchingFeature(en,Xn.bucketIndex,Xn.sourceLayerIndex,Xn.featureIndex,Jt,wt.layers,wt.availableImages,I,j,st,function(fi,hi,gi){return Vn||(Vn=Ki(fi)),hi.queryIntersectsFeature(ue,fi,gi,Vn,pt.z,g.transform,Rt,g.pixelPosMatrix)})}},hn=0;hn<je.length;hn++)bn(hn);return en},hu.prototype.loadMatchingFeature=function(g,I,j,st,pt,wt,Rt,Jt,ue,_e,Oe){var je=this.bucketLayerIDs[I];if(!(wt&&!P(wt,je))){var Xe=this.sourceLayerCoder.decode(j),nr=this.vtLayers[Xe],_r=nr.feature(st);if(pt.needGeometry){var zr=Ni(_r,!0);if(!pt.filter(new pi(this.tileID.overscaledZ),zr,this.tileID.canonical))return}else if(!pt.filter(new pi(this.tileID.overscaledZ),_r))return;for(var ln=this.getId(_r,Xe),en=0;en<je.length;en++){var dn=je[en];if(!(wt&&wt.indexOf(dn)<0)){var bn=Jt[dn];if(bn){var hn={};ln!==void 0&&_e&&(hn=_e.getState(bn.sourceLayer||"_geojsonTileLayer",ln));var On=x({},ue[dn]);On.paint=Sp(On.paint,bn.paint,_r,hn,Rt),On.layout=Sp(On.layout,bn.layout,_r,hn,Rt);var Un=!Oe||Oe(_r,bn,hn);if(Un){var Xn=new Gf(_r,this.z,this.x,this.y,ln);Xn.layer=On;var Vn=g[dn];Vn===void 0&&(Vn=g[dn]=[]),Vn.push({featureIndex:st,feature:Xn,intersectionZ:Un})}}}}}},hu.prototype.lookupSymbolFeatures=function(g,I,j,st,pt,wt,Rt,Jt){var ue={};this.loadVTLayers();for(var _e=us(pt),Oe=0,je=g;Oe<je.length;Oe+=1){var Xe=je[Oe];this.loadMatchingFeature(ue,j,st,Xe,_e,wt,Rt,Jt,I)}return ue},hu.prototype.hasLayer=function(g){for(var I=0,j=this.bucketLayerIDs;I<j.length;I+=1)for(var st=j[I],pt=0,wt=st;pt<wt.length;pt+=1){var Rt=wt[pt];if(g===Rt)return!0}return!1},hu.prototype.getId=function(g,I){var j=g.id;if(this.promoteId){var st=typeof this.promoteId=="string"?this.promoteId:this.promoteId[I];j=g.properties[st],typeof j=="boolean"&&(j=Number(j))}return j},Ct("FeatureIndex",hu,{omit:["rawTileData","sourceLayerCoder"]});function Sp(g,I,j,st,pt){return z(g,function(wt,Rt){var Jt=I instanceof Wa?I.get(Rt):null;return Jt&&Jt.evaluate?Jt.evaluate(j,st,pt):Jt})}function Cp(g){for(var I=1/0,j=1/0,st=-1/0,pt=-1/0,wt=0,Rt=g;wt<Rt.length;wt+=1){var Jt=Rt[wt];I=Math.min(I,Jt.x),j=Math.min(j,Jt.y),st=Math.max(st,Jt.x),pt=Math.max(pt,Jt.y)}return{minX:I,minY:j,maxX:st,maxY:pt}}function O1(g,I){return I-g}var P1=3e4,Ka=function(g,I){this.tileID=g,this.uid=A(),this.uses=0,this.tileSize=I,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ka.prototype.registerFadeDuration=function(g){var I=g+this.timeAdded;I<at.now()||this.fadeEndTime&&I<this.fadeEndTime||(this.fadeEndTime=I)},Ka.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ka.prototype.loadVectorData=function(g,I,j){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!g){this.collisionBoxArray=new tf;return}g.featureIndex&&(this.latestFeatureIndex=g.featureIndex,g.rawTileData?(this.latestRawTileData=g.rawTileData,this.latestFeatureIndex.rawTileData=g.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=g.collisionBoxArray,this.buckets=R1(g.buckets,I.style),this.hasSymbolBuckets=!1;for(var st in this.buckets){var pt=this.buckets[st];if(pt instanceof aa)if(this.hasSymbolBuckets=!0,j)pt.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var wt in this.buckets){var Rt=this.buckets[wt];if(Rt instanceof aa&&Rt.hasRTLText){this.hasRTLText=!0,Pi();break}}this.queryPadding=0;for(var Jt in this.buckets){var ue=this.buckets[Jt];this.queryPadding=Math.max(this.queryPadding,I.style.getLayer(Jt).queryRadius(ue))}g.imageAtlas&&(this.imageAtlas=g.imageAtlas),g.glyphAtlasImage&&(this.glyphAtlasImage=g.glyphAtlasImage)},Ka.prototype.unloadVectorData=function(){for(var g in this.buckets)this.buckets[g].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ka.prototype.getBucket=function(g){return this.buckets[g.id]},Ka.prototype.upload=function(g){for(var I in this.buckets){var j=this.buckets[I];j.uploadPending()&&j.upload(g)}var st=g.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ac(g,this.imageAtlas.image,st.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ac(g,this.glyphAtlasImage,st.ALPHA),this.glyphAtlasImage=null)},Ka.prototype.prepare=function(g){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(g,this.imageAtlasTexture)},Ka.prototype.queryRenderedFeatures=function(g,I,j,st,pt,wt,Rt,Jt,ue,_e){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:st,cameraQueryGeometry:pt,scale:wt,tileSize:this.tileSize,pixelPosMatrix:_e,transform:Jt,params:Rt,queryPadding:this.queryPadding*ue},g,I,j)},Ka.prototype.querySourceFeatures=function(g,I){var j=this.latestFeatureIndex;if(!(!j||!j.rawTileData)){var st=j.loadVTLayers(),pt=I?I.sourceLayer:"",wt=st._geojsonTileLayer||st[pt];if(wt)for(var Rt=us(I&&I.filter),Jt=this.tileID.canonical,ue=Jt.z,_e=Jt.x,Oe=Jt.y,je={z:ue,x:_e,y:Oe},Xe=0;Xe<wt.length;Xe++){var nr=wt.feature(Xe);if(Rt.needGeometry){var _r=Ni(nr,!0);if(!Rt.filter(new pi(this.tileID.overscaledZ),_r,this.tileID.canonical))continue}else if(!Rt.filter(new pi(this.tileID.overscaledZ),nr))continue;var zr=j.getId(nr,pt),ln=new Gf(nr,ue,_e,Oe,zr);ln.tile=je,g.push(ln)}}},Ka.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ka.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ka.prototype.setExpiryData=function(g){var I=this.expirationTime;if(g.cacheControl){var j=J(g.cacheControl);j["max-age"]&&(this.expirationTime=Date.now()+j["max-age"]*1e3)}else g.expires&&(this.expirationTime=new Date(g.expires).getTime());if(this.expirationTime){var st=Date.now(),pt=!1;if(this.expirationTime>st)pt=!1;else if(!I)pt=!0;else if(this.expirationTime<I)pt=!0;else{var wt=this.expirationTime-I;wt?this.expirationTime=st+Math.max(wt,P1):pt=!0}pt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ka.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ka.prototype.setFeatureState=function(g,I){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(g).length===0)){var j=this.latestFeatureIndex.loadVTLayers();for(var st in this.buckets)if(I.style.hasLayer(st)){var pt=this.buckets[st],wt=pt.layers[0].sourceLayer||"_geojsonTileLayer",Rt=j[wt],Jt=g[wt];if(!(!Rt||!Jt||Object.keys(Jt).length===0)){pt.update(Jt,Rt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ue=I&&I.style&&I.style.getLayer(st);ue&&(this.queryPadding=Math.max(this.queryPadding,ue.queryRadius(pt)))}}}},Ka.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ka.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<at.now()},Ka.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ka.prototype.setHoldDuration=function(g){this.symbolFadeHoldUntil=at.now()+g},Ka.prototype.setDependencies=function(g,I){for(var j={},st=0,pt=I;st<pt.length;st+=1){var wt=pt[st];j[wt]=!0}this.dependencies[g]=j},Ka.prototype.hasDependency=function(g,I){for(var j=0,st=g;j<st.length;j+=1){var pt=st[j],wt=this.dependencies[pt];if(wt)for(var Rt=0,Jt=I;Rt<Jt.length;Rt+=1){var ue=Jt[Rt];if(wt[ue])return!0}}return!1};var z1=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Hu=l.performance,Rp=function(g){this._marks={start:[g.url,"start"].join("#"),end:[g.url,"end"].join("#"),measure:g.url.toString()},Hu.mark(this._marks.start)};Rp.prototype.finish=function(){Hu.mark(this._marks.end);var g=Hu.getEntriesByName(this._marks.measure);return g.length===0&&(Hu.measure(this._marks.measure,this._marks.start,this._marks.end),g=Hu.getEntriesByName(this._marks.measure),Hu.clearMarks(this._marks.start),Hu.clearMarks(this._marks.end),Hu.clearMeasures(this._marks.measure)),g},i.Actor=Wc,i.AlphaImage=wc,i.CanonicalTileID=kc,i.CollisionBoxArray=tf,i.Color=qi,i.DEMData=fu,i.DataConstantProperty=Qn,i.DictionaryCoder=Yf,i.EXTENT=ki,i.ErrorEvent=Pe,i.EvaluationParameters=pi,i.Event=Ve,i.Evented=rr,i.FeatureIndex=hu,i.FillBucket=vl,i.FillExtrusionBucket=ml,i.ImageAtlas=pf,i.ImagePosition=If,i.LineBucket=Eo,i.LngLat=ga,i.LngLatBounds=qa,i.MercatorCoordinate=Tc,i.ONE_EM=io,i.OverscaledTileID=Ya,i.Point=r,i.Point$1=r,i.Properties=Zi,i.Protobuf=Pf,i.RGBAImage=Bo,i.RequestManager=Ot,i.RequestPerformance=Rp,i.ResourceType=vr,i.SegmentVector=Ba,i.SourceFeatureState=Xc,i.StructArrayLayout1ui2=Bu,i.StructArrayLayout2f1f2i16=hl,i.StructArrayLayout2i4=su,i.StructArrayLayout3ui6=pl,i.StructArrayLayout4i8=Kc,i.SymbolBucket=aa,i.Texture=Ac,i.Tile=Ka,i.Transitionable=Wi,i.Uniform1f=Xr,i.Uniform1i=Cr,i.Uniform2f=Nr,i.Uniform3f=Br,i.Uniform4f=Kr,i.UniformColor=cn,i.UniformMatrix4f=In,i.UnwrappedTileID=Lp,i.ValidationError=Pr,i.WritingMode=fs,i.ZoomHistory=ze,i.add=$f,i.addDynamicAttributes=mh,i.asyncAll=a,i.bezier=f,i.bindAll=M,i.browser=at,i.cacheEntryPossiblyAdded=be,i.clamp=h,i.clearTileCache=pr,i.clipLine=fp,i.clone=Rc,i.clone$1=D,i.clone$2=Pc,i.collisionCircleLayout=p0,i.config=Q,i.create=Cc,i.create$1=co,i.create$2=Sc,i.createCommonjsModule=L,i.createExpression=ss,i.createLayout=pa,i.createStyleLayer=k1,i.cross=Dp,i.deepEqual=n,i.dot=Fp,i.dot$1=qp,i.ease=b,i.emitValidationErrors=Mi,i.endsWith=w,i.enforceCacheSizeLimit=Ne,i.evaluateSizeForFeature=ip,i.evaluateSizeForZoom=ap,i.evaluateVariableOffset=dp,i.evented=di,i.extend=x,i.featureFilter=us,i.filterObject=O,i.fromRotation=qu,i.getAnchorAlignment=ph,i.getAnchorJustification=gh,i.getArrayBuffer=Re,i.getImage=ke,i.getJSON=Fe,i.getRTLTextPluginStatus=Si,i.getReferrer=Kt,i.getVideo=qe,i.identity=Ul,i.invert=bc,i.isChar=Ie,i.isMapboxURL=Pt,i.keysDifference=p,i.makeRequest=Ee,i.mapObject=z,i.mercatorXfromLng=kp,i.mercatorYfromLat=Mp,i.mercatorZfromAltitude=Ep,i.mul=_c,i.multiply=Ta,i.mvt=Fc,i.nextPowerOfTwo=u,i.normalize=Ip,i.number=va,i.offscreenCanvasSupported=Ge,i.ortho=Kf,i.parseGlyphPBF=U0,i.pbf=Pf,i.performSymbolLayout=a1,i.perspective=Zf,i.pick=k,i.plugin=Yn,i.polygonIntersectsPolygon=Bi,i.postMapLoadEvent=Bt,i.postTurnstileEvent=$t,i.potpack=Kh,i.refProperties=z1,i.register=Ct,i.registerForPluginStateChange=Hi,i.renderColorRamp=Lh,i.rotate=xc,i.rotateX=Oc,i.rotateZ=rf,i.scale=No,i.scale$1=Up,i.scale$2=nf,i.setCacheLimits=fe,i.setRTLTextPlugin=_a,i.sphericalToCartesian=q,i.sqrLen=Hp,i.styleSpec=gr,i.sub=Bp,i.symbolSize=K0,i.transformMat3=Np,i.transformMat4=Ef,i.translate=Do,i.triggerPluginCompletionEvent=ei,i.uniqueId=A,i.validateCustomStyleLayer=w1,i.validateLight=jn,i.validateStyle=Tn,i.values=c,i.vectorTile=Fc,i.version=T,i.warnOnce=R,i.webpSupported=ct,i.window=l,i.wrap=_}),S(["./shared"],function(i){function L(Kt){var ie=typeof Kt;if(ie==="number"||ie==="boolean"||ie==="string"||Kt===void 0||Kt===null)return JSON.stringify(Kt);if(Array.isArray(Kt)){for(var he="[",Ae=0,Ee=Kt;Ae<Ee.length;Ae+=1){var Fe=Ee[Ae];he+=L(Fe)+","}return he+"]"}for(var Re=Object.keys(Kt).sort(),Ce="{",We=0;We<Re.length;We++)Ce+=JSON.stringify(Re[We])+":"+L(Kt[Re[We]])+",";return Ce+"}"}function T(Kt){for(var ie="",he=0,Ae=i.refProperties;he<Ae.length;he+=1){var Ee=Ae[he];ie+="/"+L(Kt[Ee])}return ie}function v(Kt,ie){for(var he={},Ae=0;Ae<Kt.length;Ae++){var Ee=ie&&ie[Kt[Ae].id]||T(Kt[Ae]);ie&&(ie[Kt[Ae].id]=Ee);var Fe=he[Ee];Fe||(Fe=he[Ee]=[]),Fe.push(Kt[Ae])}var Re=[];for(var Ce in he)Re.push(he[Ce]);return Re}var d=function(Kt){this.keyCache={},Kt&&this.replace(Kt)};d.prototype.replace=function(Kt){this._layerConfigs={},this._layers={},this.update(Kt,[])},d.prototype.update=function(Kt,ie){for(var he=this,Ae=0,Ee=Kt;Ae<Ee.length;Ae+=1){var Fe=Ee[Ae];this._layerConfigs[Fe.id]=Fe;var Re=this._layers[Fe.id]=i.createStyleLayer(Fe);Re._featureFilter=i.featureFilter(Re.filter),this.keyCache[Fe.id]&&delete this.keyCache[Fe.id]}for(var Ce=0,We=ie;Ce<We.length;Ce+=1){var er=We[Ce];delete this.keyCache[er],delete this._layerConfigs[er],delete this._layers[er]}this.familiesBySource={};for(var Ue=v(i.values(this._layerConfigs),this.keyCache),ar=0,It=Ue;ar<It.length;ar+=1){var Ut=It[ar],Me=Ut.map(function(Pe){return he._layers[Pe.id]}),ke=Me[0];if(ke.visibility!=="none"){var qe=ke.source||"",Ke=this.familiesBySource[qe];Ke||(Ke=this.familiesBySource[qe]={});var Je=ke.sourceLayer||"_geojsonTileLayer",Ve=Ke[Je];Ve||(Ve=Ke[Je]=[]),Ve.push(Me)}}};var r=1,e=function(Kt){var ie={},he=[];for(var Ae in Kt){var Ee=Kt[Ae],Fe=ie[Ae]={};for(var Re in Ee){var Ce=Ee[+Re];if(!(!Ce||Ce.bitmap.width===0||Ce.bitmap.height===0)){var We={x:0,y:0,w:Ce.bitmap.width+2*r,h:Ce.bitmap.height+2*r};he.push(We),Fe[Re]={rect:We,metrics:Ce.metrics}}}}var er=i.potpack(he),Ue=er.w,ar=er.h,It=new i.AlphaImage({width:Ue||1,height:ar||1});for(var Ut in Kt){var Me=Kt[Ut];for(var ke in Me){var qe=Me[+ke];if(!(!qe||qe.bitmap.width===0||qe.bitmap.height===0)){var Ke=ie[Ut][ke].rect;i.AlphaImage.copy(qe.bitmap,It,{x:0,y:0},{x:Ke.x+r,y:Ke.y+r},qe.bitmap)}}}this.image=It,this.positions=ie};i.register("GlyphAtlas",e);var l=function(Kt){this.tileID=new i.OverscaledTileID(Kt.tileID.overscaledZ,Kt.tileID.wrap,Kt.tileID.canonical.z,Kt.tileID.canonical.x,Kt.tileID.canonical.y),this.uid=Kt.uid,this.zoom=Kt.zoom,this.pixelRatio=Kt.pixelRatio,this.tileSize=Kt.tileSize,this.source=Kt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Kt.showCollisionBoxes,this.collectResourceTiming=!!Kt.collectResourceTiming,this.returnDependencies=!!Kt.returnDependencies,this.promoteId=Kt.promoteId};l.prototype.parse=function(Kt,ie,he,Ae,Ee){var Fe=this;this.status="parsing",this.data=Kt,this.collisionBoxArray=new i.CollisionBoxArray;var Re=new i.DictionaryCoder(Object.keys(Kt.layers).sort()),Ce=new i.FeatureIndex(this.tileID,this.promoteId);Ce.bucketLayerIDs=[];var We={},er={featureIndex:Ce,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:he},Ue=ie.familiesBySource[this.source];for(var ar in Ue){var It=Kt.layers[ar];if(It){It.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+ar+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ut=Re.encode(ar),Me=[],ke=0;ke<It.length;ke++){var qe=It.feature(ke),Ke=Ce.getId(qe,ar);Me.push({feature:qe,id:Ke,index:ke,sourceLayerIndex:Ut})}for(var Je=0,Ve=Ue[ar];Je<Ve.length;Je+=1){var Pe=Ve[Je],rr=Pe[0];if(!(rr.minzoom&&this.zoom<Math.floor(rr.minzoom))&&!(rr.maxzoom&&this.zoom>=rr.maxzoom)&&rr.visibility!=="none"){n(Pe,this.zoom,he);var lr=We[rr.id]=rr.createBucket({index:Ce.bucketLayerIDs.length,layers:Pe,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ut,sourceID:this.source});lr.populate(Me,er,this.tileID.canonical),Ce.bucketLayerIDs.push(Pe.map(function(yn){return yn.id}))}}}}var cr,ir,Er,kr,Mr=i.mapObject(er.glyphDependencies,function(yn){return Object.keys(yn).map(Number)});Object.keys(Mr).length?Ae.send("getGlyphs",{uid:this.uid,stacks:Mr},function(yn,hr){cr||(cr=yn,ir=hr,vn.call(Fe))}):ir={};var $r=Object.keys(er.iconDependencies);$r.length?Ae.send("getImages",{icons:$r,source:this.source,tileID:this.tileID,type:"icons"},function(yn,hr){cr||(cr=yn,Er=hr,vn.call(Fe))}):Er={};var Gr=Object.keys(er.patternDependencies);Gr.length?Ae.send("getImages",{icons:Gr,source:this.source,tileID:this.tileID,type:"patterns"},function(yn,hr){cr||(cr=yn,kr=hr,vn.call(Fe))}):kr={},vn.call(this);function vn(){if(cr)return Ee(cr);if(ir&&Er&&kr){var yn=new e(ir),hr=new i.ImageAtlas(Er,kr);for(var Lr in We){var Ir=We[Lr];Ir instanceof i.SymbolBucket?(n(Ir.layers,this.zoom,he),i.performSymbolLayout(Ir,ir,yn.positions,Er,hr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ir.hasPattern&&(Ir instanceof i.LineBucket||Ir instanceof i.FillBucket||Ir instanceof i.FillExtrusionBucket)&&(n(Ir.layers,this.zoom,he),Ir.addFeatures(er,this.tileID.canonical,hr.patternPositions))}this.status="done",Ee(null,{buckets:i.values(We).filter(function(Rr){return!Rr.isEmpty()}),featureIndex:Ce,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:yn.image,imageAtlas:hr,glyphMap:this.returnDependencies?ir:null,iconMap:this.returnDependencies?Er:null,glyphPositions:this.returnDependencies?yn.positions:null})}}};function n(Kt,ie,he){for(var Ae=new i.EvaluationParameters(ie),Ee=0,Fe=Kt;Ee<Fe.length;Ee+=1){var Re=Fe[Ee];Re.recalculate(Ae,he)}}function s(Kt,ie){var he=i.getArrayBuffer(Kt.request,function(Ae,Ee,Fe,Re){Ae?ie(Ae):Ee&&ie(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Ee)),rawData:Ee,cacheControl:Fe,expires:Re})});return function(){he.cancel(),ie()}}var o=function(Kt,ie,he,Ae){this.actor=Kt,this.layerIndex=ie,this.availableImages=he,this.loadVectorData=Ae||s,this.loading={},this.loaded={}};o.prototype.loadTile=function(Kt,ie){var he=this,Ae=Kt.uid;this.loading||(this.loading={});var Ee=Kt&&Kt.request&&Kt.request.collectResourceTiming?new i.RequestPerformance(Kt.request):!1,Fe=this.loading[Ae]=new l(Kt);Fe.abort=this.loadVectorData(Kt,function(Re,Ce){if(delete he.loading[Ae],Re||!Ce)return Fe.status="done",he.loaded[Ae]=Fe,ie(Re);var We=Ce.rawData,er={};Ce.expires&&(er.expires=Ce.expires),Ce.cacheControl&&(er.cacheControl=Ce.cacheControl);var Ue={};if(Ee){var ar=Ee.finish();ar&&(Ue.resourceTiming=JSON.parse(JSON.stringify(ar)))}Fe.vectorTile=Ce.vectorTile,Fe.parse(Ce.vectorTile,he.layerIndex,he.availableImages,he.actor,function(It,Ut){if(It||!Ut)return ie(It);ie(null,i.extend({rawTileData:We.slice(0)},Ut,er,Ue))}),he.loaded=he.loaded||{},he.loaded[Ae]=Fe})},o.prototype.reloadTile=function(Kt,ie){var he=this,Ae=this.loaded,Ee=Kt.uid,Fe=this;if(Ae&&Ae[Ee]){var Re=Ae[Ee];Re.showCollisionBoxes=Kt.showCollisionBoxes;var Ce=function(We,er){var Ue=Re.reloadCallback;Ue&&(delete Re.reloadCallback,Re.parse(Re.vectorTile,Fe.layerIndex,he.availableImages,Fe.actor,Ue)),ie(We,er)};Re.status==="parsing"?Re.reloadCallback=Ce:Re.status==="done"&&(Re.vectorTile?Re.parse(Re.vectorTile,this.layerIndex,this.availableImages,this.actor,Ce):Ce())}},o.prototype.abortTile=function(Kt,ie){var he=this.loading,Ae=Kt.uid;he&&he[Ae]&&he[Ae].abort&&(he[Ae].abort(),delete he[Ae]),ie()},o.prototype.removeTile=function(Kt,ie){var he=this.loaded,Ae=Kt.uid;he&&he[Ae]&&delete he[Ae],ie()};var f=i.window.ImageBitmap,b=function(){this.loaded={}};b.prototype.loadTile=function(Kt,ie){var he=Kt.uid,Ae=Kt.encoding,Ee=Kt.rawImageData,Fe=f&&Ee instanceof f?this.getImageData(Ee):Ee,Re=new i.DEMData(he,Fe,Ae);this.loaded=this.loaded||{},this.loaded[he]=Re,ie(null,Re)},b.prototype.getImageData=function(Kt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(Kt.width,Kt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Kt.width,this.offscreenCanvas.height=Kt.height,this.offscreenCanvasContext.drawImage(Kt,0,0,Kt.width,Kt.height);var ie=this.offscreenCanvasContext.getImageData(-1,-1,Kt.width+2,Kt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:ie.width,height:ie.height},ie.data)},b.prototype.removeTile=function(Kt){var ie=this.loaded,he=Kt.uid;ie&&ie[he]&&delete ie[he]};var h=_;function _(Kt,ie){var he=Kt&&Kt.type,Ae;if(he==="FeatureCollection")for(Ae=0;Ae<Kt.features.length;Ae++)_(Kt.features[Ae],ie);else if(he==="GeometryCollection")for(Ae=0;Ae<Kt.geometries.length;Ae++)_(Kt.geometries[Ae],ie);else if(he==="Feature")_(Kt.geometry,ie);else if(he==="Polygon")a(Kt.coordinates,ie);else if(he==="MultiPolygon")for(Ae=0;Ae<Kt.coordinates.length;Ae++)a(Kt.coordinates[Ae],ie);return Kt}function a(Kt,ie){if(Kt.length!==0){c(Kt[0],ie);for(var he=1;he<Kt.length;he++)c(Kt[he],!ie)}}function c(Kt,ie){for(var he=0,Ae=0,Ee=Kt.length,Fe=Ee-1;Ae<Ee;Fe=Ae++)he+=(Kt[Ae][0]-Kt[Fe][0])*(Kt[Fe][1]+Kt[Ae][1]);he>=0!=!!ie&&Kt.reverse()}var p=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(Kt){this._feature=Kt,this.extent=i.EXTENT,this.type=Kt.type,this.properties=Kt.tags,"id"in Kt&&!isNaN(Kt.id)&&(this.id=parseInt(Kt.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Kt=[],ie=0,he=this._feature.geometry;ie<he.length;ie+=1){var Ae=he[ie];Kt.push([new i.Point$1(Ae[0],Ae[1])])}return Kt}else{for(var Ee=[],Fe=0,Re=this._feature.geometry;Fe<Re.length;Fe+=1){for(var Ce=Re[Fe],We=[],er=0,Ue=Ce;er<Ue.length;er+=1){var ar=Ue[er];We.push(new i.Point$1(ar[0],ar[1]))}Ee.push(We)}return Ee}},x.prototype.toGeoJSON=function(Kt,ie,he){return p.call(this,Kt,ie,he)};var k=function(Kt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=Kt.length,this._features=Kt};k.prototype.feature=function(Kt){return new x(this._features[Kt])};var y=i.vectorTile.VectorTileFeature,A=C;function C(Kt,ie){this.options=ie||{},this.features=Kt,this.length=Kt.length}C.prototype.feature=function(Kt){return new u(this.features[Kt],this.options.extent)};function u(Kt,ie){this.id=typeof Kt.id=="number"?Kt.id:void 0,this.type=Kt.type,this.rawGeometry=Kt.type===1?[Kt.geometry]:Kt.geometry,this.properties=Kt.tags,this.extent=ie||4096}u.prototype.loadGeometry=function(){var Kt=this.rawGeometry;this.geometry=[];for(var ie=0;ie<Kt.length;ie++){for(var he=Kt[ie],Ae=[],Ee=0;Ee<he.length;Ee++)Ae.push(new i.Point$1(he[Ee][0],he[Ee][1]));this.geometry.push(Ae)}return this.geometry},u.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Kt=this.geometry,ie=1/0,he=-1/0,Ae=1/0,Ee=-1/0,Fe=0;Fe<Kt.length;Fe++)for(var Re=Kt[Fe],Ce=0;Ce<Re.length;Ce++){var We=Re[Ce];ie=Math.min(ie,We.x),he=Math.max(he,We.x),Ae=Math.min(Ae,We.y),Ee=Math.max(Ee,We.y)}return[ie,Ae,he,Ee]},u.prototype.toGeoJSON=y.prototype.toGeoJSON;var m=O,M=O,w=D,z=A;function O(Kt){var ie=new i.pbf;return P(Kt,ie),ie.finish()}function D(Kt,ie){ie=ie||{};var he={};for(var Ae in Kt)he[Ae]=new A(Kt[Ae].features,ie),he[Ae].name=Ae,he[Ae].version=ie.version,he[Ae].extent=ie.extent;return O({layers:he})}function P(Kt,ie){for(var he in Kt.layers)ie.writeMessage(3,F,Kt.layers[he])}function F(Kt,ie){ie.writeVarintField(15,Kt.version||1),ie.writeStringField(1,Kt.name||""),ie.writeVarintField(5,Kt.extent||4096);var he,Ae={keys:[],values:[],keycache:{},valuecache:{}};for(he=0;he<Kt.length;he++)Ae.feature=Kt.feature(he),ie.writeMessage(2,R,Ae);var Ee=Ae.keys;for(he=0;he<Ee.length;he++)ie.writeStringField(3,Ee[he]);var Fe=Ae.values;for(he=0;he<Fe.length;he++)ie.writeMessage(4,J,Fe[he])}function R(Kt,ie){var he=Kt.feature;he.id!==void 0&&ie.writeVarintField(1,he.id),ie.writeMessage(2,N,Kt),ie.writeVarintField(3,he.type),ie.writeMessage(4,V,he)}function N(Kt,ie){var he=Kt.feature,Ae=Kt.keys,Ee=Kt.values,Fe=Kt.keycache,Re=Kt.valuecache;for(var Ce in he.properties){var We=Fe[Ce];typeof We>"u"&&(Ae.push(Ce),We=Ae.length-1,Fe[Ce]=We),ie.writeVarint(We);var er=he.properties[Ce],Ue=typeof er;Ue!=="string"&&Ue!=="boolean"&&Ue!=="number"&&(er=JSON.stringify(er));var ar=Ue+":"+er,It=Re[ar];typeof It>"u"&&(Ee.push(er),It=Ee.length-1,Re[ar]=It),ie.writeVarint(It)}}function B(Kt,ie){return(ie<<3)+(Kt&7)}function q(Kt){return Kt<<1^Kt>>31}function V(Kt,ie){for(var he=Kt.loadGeometry(),Ae=Kt.type,Ee=0,Fe=0,Re=he.length,Ce=0;Ce<Re;Ce++){var We=he[Ce],er=1;Ae===1&&(er=We.length),ie.writeVarint(B(1,er));for(var Ue=Ae===3?We.length-1:We.length,ar=0;ar<Ue;ar++){ar===1&&Ae!==1&&ie.writeVarint(B(2,Ue-1));var It=We[ar].x-Ee,Ut=We[ar].y-Fe;ie.writeVarint(q(It)),ie.writeVarint(q(Ut)),Ee+=It,Fe+=Ut}Ae===3&&ie.writeVarint(B(7,1))}}function J(Kt,ie){var he=typeof Kt;he==="string"?ie.writeStringField(1,Kt):he==="boolean"?ie.writeBooleanField(7,Kt):he==="number"&&(Kt%1!==0?ie.writeDoubleField(3,Kt):Kt<0?ie.writeSVarintField(6,Kt):ie.writeVarintField(5,Kt))}m.fromVectorTileJs=M,m.fromGeojsonVt=w,m.GeoJSONWrapper=z;function it(Kt,ie,he,Ae,Ee,Fe){if(!(Ee-Ae<=he)){var Re=Ae+Ee>>1;nt(Kt,ie,Re,Ae,Ee,Fe%2),it(Kt,ie,he,Ae,Re-1,Fe+1),it(Kt,ie,he,Re+1,Ee,Fe+1)}}function nt(Kt,ie,he,Ae,Ee,Fe){for(;Ee>Ae;){if(Ee-Ae>600){var Re=Ee-Ae+1,Ce=he-Ae+1,We=Math.log(Re),er=.5*Math.exp(2*We/3),Ue=.5*Math.sqrt(We*er*(Re-er)/Re)*(Ce-Re/2<0?-1:1),ar=Math.max(Ae,Math.floor(he-Ce*er/Re+Ue)),It=Math.min(Ee,Math.floor(he+(Re-Ce)*er/Re+Ue));nt(Kt,ie,he,ar,It,Fe)}var Ut=ie[2*he+Fe],Me=Ae,ke=Ee;for(Y(Kt,ie,Ae,he),ie[2*Ee+Fe]>Ut&&Y(Kt,ie,Ae,Ee);Me<ke;){for(Y(Kt,ie,Me,ke),Me++,ke--;ie[2*Me+Fe]<Ut;)Me++;for(;ie[2*ke+Fe]>Ut;)ke--}ie[2*Ae+Fe]===Ut?Y(Kt,ie,Ae,ke):(ke++,Y(Kt,ie,ke,Ee)),ke<=he&&(Ae=ke+1),he<=ke&&(Ee=ke-1)}}function Y(Kt,ie,he,Ae){Z(Kt,he,Ae),Z(ie,2*he,2*Ae),Z(ie,2*he+1,2*Ae+1)}function Z(Kt,ie,he){var Ae=Kt[ie];Kt[ie]=Kt[he],Kt[he]=Ae}function $(Kt,ie,he,Ae,Ee,Fe,Re){for(var Ce=[0,Kt.length-1,0],We=[],er,Ue;Ce.length;){var ar=Ce.pop(),It=Ce.pop(),Ut=Ce.pop();if(It-Ut<=Re){for(var Me=Ut;Me<=It;Me++)er=ie[2*Me],Ue=ie[2*Me+1],er>=he&&er<=Ee&&Ue>=Ae&&Ue<=Fe&&We.push(Kt[Me]);continue}var ke=Math.floor((Ut+It)/2);er=ie[2*ke],Ue=ie[2*ke+1],er>=he&&er<=Ee&&Ue>=Ae&&Ue<=Fe&&We.push(Kt[ke]);var qe=(ar+1)%2;(ar===0?he<=er:Ae<=Ue)&&(Ce.push(Ut),Ce.push(ke-1),Ce.push(qe)),(ar===0?Ee>=er:Fe>=Ue)&&(Ce.push(ke+1),Ce.push(It),Ce.push(qe))}return We}function G(Kt,ie,he,Ae,Ee,Fe){for(var Re=[0,Kt.length-1,0],Ce=[],We=Ee*Ee;Re.length;){var er=Re.pop(),Ue=Re.pop(),ar=Re.pop();if(Ue-ar<=Fe){for(var It=ar;It<=Ue;It++)rt(ie[2*It],ie[2*It+1],he,Ae)<=We&&Ce.push(Kt[It]);continue}var Ut=Math.floor((ar+Ue)/2),Me=ie[2*Ut],ke=ie[2*Ut+1];rt(Me,ke,he,Ae)<=We&&Ce.push(Kt[Ut]);var qe=(er+1)%2;(er===0?he-Ee<=Me:Ae-Ee<=ke)&&(Re.push(ar),Re.push(Ut-1),Re.push(qe)),(er===0?he+Ee>=Me:Ae+Ee>=ke)&&(Re.push(Ut+1),Re.push(Ue),Re.push(qe))}return Ce}function rt(Kt,ie,he,Ae){var Ee=Kt-he,Fe=ie-Ae;return Ee*Ee+Fe*Fe}var ot=function(Kt){return Kt[0]},W=function(Kt){return Kt[1]},H=function(Kt,ie,he,Ae,Ee){ie===void 0&&(ie=ot),he===void 0&&(he=W),Ae===void 0&&(Ae=64),Ee===void 0&&(Ee=Float64Array),this.nodeSize=Ae,this.points=Kt;for(var Fe=Kt.length<65536?Uint16Array:Uint32Array,Re=this.ids=new Fe(Kt.length),Ce=this.coords=new Ee(Kt.length*2),We=0;We<Kt.length;We++)Re[We]=We,Ce[2*We]=ie(Kt[We]),Ce[2*We+1]=he(Kt[We]);it(Re,Ce,Ae,0,Re.length-1,0)};H.prototype.range=function(Kt,ie,he,Ae){return $(this.ids,this.coords,Kt,ie,he,Ae,this.nodeSize)},H.prototype.within=function(Kt,ie,he){return G(this.ids,this.coords,Kt,ie,he,this.nodeSize)};var at={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Kt){return Kt}},Q=function(Kt){this.options=At(Object.create(at),Kt),this.trees=new Array(this.options.maxZoom+1)};Q.prototype.load=function(Kt){var ie=this.options,he=ie.log,Ae=ie.minZoom,Ee=ie.maxZoom,Fe=ie.nodeSize;he&&console.time("total time");var Re="prepare "+Kt.length+" points";he&&console.time(Re),this.points=Kt;for(var Ce=[],We=0;We<Kt.length;We++)Kt[We].geometry&&Ce.push(ft(Kt[We],We));this.trees[Ee+1]=new H(Ce,Ot,Pt,Fe,Float32Array),he&&console.timeEnd(Re);for(var er=Ee;er>=Ae;er--){var Ue=+Date.now();Ce=this._cluster(Ce,er),this.trees[er]=new H(Ce,Ot,Pt,Fe,Float32Array),he&&console.log("z%d: %d clusters in %dms",er,Ce.length,+Date.now()-Ue)}return he&&console.timeEnd("total time"),this},Q.prototype.getClusters=function(Kt,ie){var he=((Kt[0]+180)%360+360)%360-180,Ae=Math.max(-90,Math.min(90,Kt[1])),Ee=Kt[2]===180?180:((Kt[2]+180)%360+360)%360-180,Fe=Math.max(-90,Math.min(90,Kt[3]));if(Kt[2]-Kt[0]>=360)he=-180,Ee=180;else if(he>Ee){var Re=this.getClusters([he,Ae,180,Fe],ie),Ce=this.getClusters([-180,Ae,Ee,Fe],ie);return Re.concat(Ce)}for(var We=this.trees[this._limitZoom(ie)],er=We.range(Lt(he),gt(Fe),Lt(Ee),gt(Ae)),Ue=[],ar=0,It=er;ar<It.length;ar+=1){var Ut=It[ar],Me=We.points[Ut];Ue.push(Me.numPoints?yt(Me):this.points[Me.index])}return Ue},Q.prototype.getChildren=function(Kt){var ie=this._getOriginId(Kt),he=this._getOriginZoom(Kt),Ae="No cluster with the specified id.",Ee=this.trees[he];if(!Ee)throw new Error(Ae);var Fe=Ee.points[ie];if(!Fe)throw new Error(Ae);for(var Re=this.options.radius/(this.options.extent*Math.pow(2,he-1)),Ce=Ee.within(Fe.x,Fe.y,Re),We=[],er=0,Ue=Ce;er<Ue.length;er+=1){var ar=Ue[er],It=Ee.points[ar];It.parentId===Kt&&We.push(It.numPoints?yt(It):this.points[It.index])}if(We.length===0)throw new Error(Ae);return We},Q.prototype.getLeaves=function(Kt,ie,he){ie=ie||10,he=he||0;var Ae=[];return this._appendLeaves(Ae,Kt,ie,he,0),Ae},Q.prototype.getTile=function(Kt,ie,he){var Ae=this.trees[this._limitZoom(Kt)],Ee=Math.pow(2,Kt),Fe=this.options,Re=Fe.extent,Ce=Fe.radius,We=Ce/Re,er=(he-We)/Ee,Ue=(he+1+We)/Ee,ar={features:[]};return this._addTileFeatures(Ae.range((ie-We)/Ee,er,(ie+1+We)/Ee,Ue),Ae.points,ie,he,Ee,ar),ie===0&&this._addTileFeatures(Ae.range(1-We/Ee,er,1,Ue),Ae.points,Ee,he,Ee,ar),ie===Ee-1&&this._addTileFeatures(Ae.range(0,er,We/Ee,Ue),Ae.points,-1,he,Ee,ar),ar.features.length?ar:null},Q.prototype.getClusterExpansionZoom=function(Kt){for(var ie=this._getOriginZoom(Kt)-1;ie<=this.options.maxZoom;){var he=this.getChildren(Kt);if(ie++,he.length!==1)break;Kt=he[0].properties.cluster_id}return ie},Q.prototype._appendLeaves=function(Kt,ie,he,Ae,Ee){for(var Fe=this.getChildren(ie),Re=0,Ce=Fe;Re<Ce.length;Re+=1){var We=Ce[Re],er=We.properties;if(er&&er.cluster?Ee+er.point_count<=Ae?Ee+=er.point_count:Ee=this._appendLeaves(Kt,er.cluster_id,he,Ae,Ee):Ee<Ae?Ee++:Kt.push(We),Kt.length===he)break}return Ee},Q.prototype._addTileFeatures=function(Kt,ie,he,Ae,Ee,Fe){for(var Re=0,Ce=Kt;Re<Ce.length;Re+=1){var We=Ce[Re],er=ie[We],Ue=er.numPoints,ar={type:1,geometry:[[Math.round(this.options.extent*(er.x*Ee-he)),Math.round(this.options.extent*(er.y*Ee-Ae))]],tags:Ue?xt(er):this.points[er.index].properties},It=void 0;Ue?It=er.id:this.options.generateId?It=er.index:this.points[er.index].id&&(It=this.points[er.index].id),It!==void 0&&(ar.id=It),Fe.features.push(ar)}},Q.prototype._limitZoom=function(Kt){return Math.max(this.options.minZoom,Math.min(+Kt,this.options.maxZoom+1))},Q.prototype._cluster=function(Kt,ie){for(var he=[],Ae=this.options,Ee=Ae.radius,Fe=Ae.extent,Re=Ae.reduce,Ce=Ae.minPoints,We=Ee/(Fe*Math.pow(2,ie)),er=0;er<Kt.length;er++){var Ue=Kt[er];if(!(Ue.zoom<=ie)){Ue.zoom=ie;for(var ar=this.trees[ie+1],It=ar.within(Ue.x,Ue.y,We),Ut=Ue.numPoints||1,Me=Ut,ke=0,qe=It;ke<qe.length;ke+=1){var Ke=qe[ke],Je=ar.points[Ke];Je.zoom>ie&&(Me+=Je.numPoints||1)}if(Me>=Ce){for(var Ve=Ue.x*Ut,Pe=Ue.y*Ut,rr=Re&&Ut>1?this._map(Ue,!0):null,lr=(er<<5)+(ie+1)+this.points.length,cr=0,ir=It;cr<ir.length;cr+=1){var Er=ir[cr],kr=ar.points[Er];if(!(kr.zoom<=ie)){kr.zoom=ie;var Mr=kr.numPoints||1;Ve+=kr.x*Mr,Pe+=kr.y*Mr,kr.parentId=lr,Re&&(rr||(rr=this._map(Ue,!0)),Re(rr,this._map(kr)))}}Ue.parentId=lr,he.push(ct(Ve/Me,Pe/Me,lr,Me,rr))}else if(he.push(Ue),Me>1)for(var $r=0,Gr=It;$r<Gr.length;$r+=1){var vn=Gr[$r],yn=ar.points[vn];yn.zoom<=ie||(yn.zoom=ie,he.push(yn))}}}return he},Q.prototype._getOriginId=function(Kt){return Kt-this.points.length>>5},Q.prototype._getOriginZoom=function(Kt){return(Kt-this.points.length)%32},Q.prototype._map=function(Kt,ie){if(Kt.numPoints)return ie?At({},Kt.properties):Kt.properties;var he=this.points[Kt.index].properties,Ae=this.options.map(he);return ie&&Ae===he?At({},Ae):Ae};function ct(Kt,ie,he,Ae,Ee){return{x:Kt,y:ie,zoom:1/0,id:he,parentId:-1,numPoints:Ae,properties:Ee}}function ft(Kt,ie){var he=Kt.geometry.coordinates,Ae=he[0],Ee=he[1];return{x:Lt(Ae),y:gt(Ee),zoom:1/0,index:ie,parentId:-1}}function yt(Kt){return{type:"Feature",id:Kt.id,properties:xt(Kt),geometry:{type:"Point",coordinates:[mt(Kt.x),vt(Kt.y)]}}}function xt(Kt){var ie=Kt.numPoints,he=ie>=1e4?Math.round(ie/1e3)+"k":ie>=1e3?Math.round(ie/100)/10+"k":ie;return At(At({},Kt.properties),{cluster:!0,cluster_id:Kt.id,point_count:ie,point_count_abbreviated:he})}function Lt(Kt){return Kt/360+.5}function gt(Kt){var ie=Math.sin(Kt*Math.PI/180),he=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return he<0?0:he>1?1:he}function mt(Kt){return(Kt-.5)*360}function vt(Kt){var ie=(180-Kt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ie))/Math.PI-90}function At(Kt,ie){for(var he in ie)Kt[he]=ie[he];return Kt}function Ot(Kt){return Kt.x}function Pt(Kt){return Kt.y}function Et(Kt,ie,he,Ae){for(var Ee=Ae,Fe=he-ie>>1,Re=he-ie,Ce,We=Kt[ie],er=Kt[ie+1],Ue=Kt[he],ar=Kt[he+1],It=ie+3;It<he;It+=3){var Ut=Nt(Kt[It],Kt[It+1],We,er,Ue,ar);if(Ut>Ee)Ce=It,Ee=Ut;else if(Ut===Ee){var Me=Math.abs(It-Fe);Me<Re&&(Ce=It,Re=Me)}}Ee>Ae&&(Ce-ie>3&&Et(Kt,ie,Ce,Ae),Kt[Ce+2]=Ee,he-Ce>3&&Et(Kt,Ce,he,Ae))}function Nt(Kt,ie,he,Ae,Ee,Fe){var Re=Ee-he,Ce=Fe-Ae;if(Re!==0||Ce!==0){var We=((Kt-he)*Re+(ie-Ae)*Ce)/(Re*Re+Ce*Ce);We>1?(he=Ee,Ae=Fe):We>0&&(he+=Re*We,Ae+=Ce*We)}return Re=Kt-he,Ce=ie-Ae,Re*Re+Ce*Ce}function ne(Kt,ie,he,Ae){var Ee={id:typeof Kt>"u"?null:Kt,type:ie,geometry:he,tags:Ae,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Gt(Ee),Ee}function Gt(Kt){var ie=Kt.geometry,he=Kt.type;if(he==="Point"||he==="MultiPoint"||he==="LineString")pe(Kt,ie);else if(he==="Polygon"||he==="MultiLineString")for(var Ae=0;Ae<ie.length;Ae++)pe(Kt,ie[Ae]);else if(he==="MultiPolygon")for(Ae=0;Ae<ie.length;Ae++)for(var Ee=0;Ee<ie[Ae].length;Ee++)pe(Kt,ie[Ae][Ee])}function pe(Kt,ie){for(var he=0;he<ie.length;he+=3)Kt.minX=Math.min(Kt.minX,ie[he]),Kt.minY=Math.min(Kt.minY,ie[he+1]),Kt.maxX=Math.max(Kt.maxX,ie[he]),Kt.maxY=Math.max(Kt.maxY,ie[he+1])}function Vt(Kt,ie){var he=[];if(Kt.type==="FeatureCollection")for(var Ae=0;Ae<Kt.features.length;Ae++)ae(he,Kt.features[Ae],ie,Ae);else Kt.type==="Feature"?ae(he,Kt,ie):ae(he,{geometry:Kt},ie);return he}function ae(Kt,ie,he,Ae){if(ie.geometry){var Ee=ie.geometry.coordinates,Fe=ie.geometry.type,Re=Math.pow(he.tolerance/((1<<he.maxZoom)*he.extent),2),Ce=[],We=ie.id;if(he.promoteId?We=ie.properties[he.promoteId]:he.generateId&&(We=Ae||0),Fe==="Point")oe(Ee,Ce);else if(Fe==="MultiPoint")for(var er=0;er<Ee.length;er++)oe(Ee[er],Ce);else if(Fe==="LineString")ce(Ee,Ce,Re,!1);else if(Fe==="MultiLineString")if(he.lineMetrics){for(er=0;er<Ee.length;er++)Ce=[],ce(Ee[er],Ce,Re,!1),Kt.push(ne(We,"LineString",Ce,ie.properties));return}else le(Ee,Ce,Re,!1);else if(Fe==="Polygon")le(Ee,Ce,Re,!0);else if(Fe==="MultiPolygon")for(er=0;er<Ee.length;er++){var Ue=[];le(Ee[er],Ue,Re,!0),Ce.push(Ue)}else if(Fe==="GeometryCollection"){for(er=0;er<ie.geometry.geometries.length;er++)ae(Kt,{id:We,geometry:ie.geometry.geometries[er],properties:ie.properties},he,Ae);return}else throw new Error("Input data is not a valid GeoJSON object.");Kt.push(ne(We,Fe,Ce,ie.properties))}}function oe(Kt,ie){ie.push(ye(Kt[0])),ie.push(Tt(Kt[1])),ie.push(0)}function ce(Kt,ie,he,Ae){for(var Ee,Fe,Re=0,Ce=0;Ce<Kt.length;Ce++){var We=ye(Kt[Ce][0]),er=Tt(Kt[Ce][1]);ie.push(We),ie.push(er),ie.push(0),Ce>0&&(Ae?Re+=(Ee*er-We*Fe)/2:Re+=Math.sqrt(Math.pow(We-Ee,2)+Math.pow(er-Fe,2))),Ee=We,Fe=er}var Ue=ie.length-3;ie[2]=1,Et(ie,0,Ue,he),ie[Ue+2]=1,ie.size=Math.abs(Re),ie.start=0,ie.end=ie.size}function le(Kt,ie,he,Ae){for(var Ee=0;Ee<Kt.length;Ee++){var Fe=[];ce(Kt[Ee],Fe,he,Ae),ie.push(Fe)}}function ye(Kt){return Kt/360+.5}function Tt(Kt){var ie=Math.sin(Kt*Math.PI/180),he=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return he<0?0:he>1?1:he}function Ft(Kt,ie,he,Ae,Ee,Fe,Re,Ce){if(he/=ie,Ae/=ie,Fe>=he&&Re<Ae)return Kt;if(Re<he||Fe>=Ae)return null;for(var We=[],er=0;er<Kt.length;er++){var Ue=Kt[er],ar=Ue.geometry,It=Ue.type,Ut=Ee===0?Ue.minX:Ue.minY,Me=Ee===0?Ue.maxX:Ue.maxY;if(Ut>=he&&Me<Ae){We.push(Ue);continue}else if(Me<he||Ut>=Ae)continue;var ke=[];if(It==="Point"||It==="MultiPoint")$t(ar,ke,he,Ae,Ee);else if(It==="LineString")Wt(ar,ke,he,Ae,Ee,!1,Ce.lineMetrics);else if(It==="MultiLineString")Mt(ar,ke,he,Ae,Ee,!1);else if(It==="Polygon")Mt(ar,ke,he,Ae,Ee,!0);else if(It==="MultiPolygon")for(var qe=0;qe<ar.length;qe++){var Ke=[];Mt(ar[qe],Ke,he,Ae,Ee,!0),Ke.length&&ke.push(Ke)}if(ke.length){if(Ce.lineMetrics&&It==="LineString"){for(qe=0;qe<ke.length;qe++)We.push(ne(Ue.id,It,ke[qe],Ue.tags));continue}(It==="LineString"||It==="MultiLineString")&&(ke.length===1?(It="LineString",ke=ke[0]):It="MultiLineString"),(It==="Point"||It==="MultiPoint")&&(It=ke.length===3?"Point":"MultiPoint"),We.push(ne(Ue.id,It,ke,Ue.tags))}}return We.length?We:null}function $t(Kt,ie,he,Ae,Ee){for(var Fe=0;Fe<Kt.length;Fe+=3){var Re=Kt[Fe+Ee];Re>=he&&Re<=Ae&&(ie.push(Kt[Fe]),ie.push(Kt[Fe+1]),ie.push(Kt[Fe+2]))}}function Wt(Kt,ie,he,Ae,Ee,Fe,Re){for(var Ce=Bt(Kt),We=Ee===0?Dt:dt,er=Kt.start,Ue,ar,It=0;It<Kt.length-3;It+=3){var Ut=Kt[It],Me=Kt[It+1],ke=Kt[It+2],qe=Kt[It+3],Ke=Kt[It+4],Je=Ee===0?Ut:Me,Ve=Ee===0?qe:Ke,Pe=!1;Re&&(Ue=Math.sqrt(Math.pow(Ut-qe,2)+Math.pow(Me-Ke,2))),Je<he?Ve>he&&(ar=We(Ce,Ut,Me,qe,Ke,he),Re&&(Ce.start=er+Ue*ar)):Je>Ae?Ve<Ae&&(ar=We(Ce,Ut,Me,qe,Ke,Ae),Re&&(Ce.start=er+Ue*ar)):St(Ce,Ut,Me,ke),Ve<he&&Je>=he&&(ar=We(Ce,Ut,Me,qe,Ke,he),Pe=!0),Ve>Ae&&Je<=Ae&&(ar=We(Ce,Ut,Me,qe,Ke,Ae),Pe=!0),!Fe&&Pe&&(Re&&(Ce.end=er+Ue*ar),ie.push(Ce),Ce=Bt(Kt)),Re&&(er+=Ue)}var rr=Kt.length-3;Ut=Kt[rr],Me=Kt[rr+1],ke=Kt[rr+2],Je=Ee===0?Ut:Me,Je>=he&&Je<=Ae&&St(Ce,Ut,Me,ke),rr=Ce.length-3,Fe&&rr>=3&&(Ce[rr]!==Ce[0]||Ce[rr+1]!==Ce[1])&&St(Ce,Ce[0],Ce[1],Ce[2]),Ce.length&&ie.push(Ce)}function Bt(Kt){var ie=[];return ie.size=Kt.size,ie.start=Kt.start,ie.end=Kt.end,ie}function Mt(Kt,ie,he,Ae,Ee,Fe){for(var Re=0;Re<Kt.length;Re++)Wt(Kt[Re],ie,he,Ae,Ee,Fe,!1)}function St(Kt,ie,he,Ae){Kt.push(ie),Kt.push(he),Kt.push(Ae)}function Dt(Kt,ie,he,Ae,Ee,Fe){var Re=(Fe-ie)/(Ae-ie);return Kt.push(Fe),Kt.push(he+(Ee-he)*Re),Kt.push(1),Re}function dt(Kt,ie,he,Ae,Ee,Fe){var Re=(Fe-he)/(Ee-he);return Kt.push(ie+(Ae-ie)*Re),Kt.push(Fe),Kt.push(1),Re}function ht(Kt,ie){var he=ie.buffer/ie.extent,Ae=Kt,Ee=Ft(Kt,1,-1-he,he,0,-1,2,ie),Fe=Ft(Kt,1,1-he,2+he,0,-1,2,ie);return(Ee||Fe)&&(Ae=Ft(Kt,1,-he,1+he,0,-1,2,ie)||[],Ee&&(Ae=bt(Ee,1).concat(Ae)),Fe&&(Ae=Ae.concat(bt(Fe,-1)))),Ae}function bt(Kt,ie){for(var he=[],Ae=0;Ae<Kt.length;Ae++){var Ee=Kt[Ae],Fe=Ee.type,Re;if(Fe==="Point"||Fe==="MultiPoint"||Fe==="LineString")Re=zt(Ee.geometry,ie);else if(Fe==="MultiLineString"||Fe==="Polygon"){Re=[];for(var Ce=0;Ce<Ee.geometry.length;Ce++)Re.push(zt(Ee.geometry[Ce],ie))}else if(Fe==="MultiPolygon")for(Re=[],Ce=0;Ce<Ee.geometry.length;Ce++){for(var We=[],er=0;er<Ee.geometry[Ce].length;er++)We.push(zt(Ee.geometry[Ce][er],ie));Re.push(We)}he.push(ne(Ee.id,Fe,Re,Ee.tags))}return he}function zt(Kt,ie){var he=[];he.size=Kt.size,Kt.start!==void 0&&(he.start=Kt.start,he.end=Kt.end);for(var Ae=0;Ae<Kt.length;Ae+=3)he.push(Kt[Ae]+ie,Kt[Ae+1],Kt[Ae+2]);return he}function qt(Kt,ie){if(Kt.transformed)return Kt;var he=1<<Kt.z,Ae=Kt.x,Ee=Kt.y,Fe,Re,Ce;for(Fe=0;Fe<Kt.features.length;Fe++){var We=Kt.features[Fe],er=We.geometry,Ue=We.type;if(We.geometry=[],Ue===1)for(Re=0;Re<er.length;Re+=2)We.geometry.push(te(er[Re],er[Re+1],ie,he,Ae,Ee));else for(Re=0;Re<er.length;Re++){var ar=[];for(Ce=0;Ce<er[Re].length;Ce+=2)ar.push(te(er[Re][Ce],er[Re][Ce+1],ie,he,Ae,Ee));We.geometry.push(ar)}}return Kt.transformed=!0,Kt}function te(Kt,ie,he,Ae,Ee,Fe){return[Math.round(he*(Kt*Ae-Ee)),Math.round(he*(ie*Ae-Fe))]}function re(Kt,ie,he,Ae,Ee){for(var Fe=ie===Ee.maxZoom?0:Ee.tolerance/((1<<ie)*Ee.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:he,y:Ae,z:ie,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ce=0;Ce<Kt.length;Ce++){Re.numFeatures++,Ye(Re,Kt[Ce],Fe,Ee);var We=Kt[Ce].minX,er=Kt[Ce].minY,Ue=Kt[Ce].maxX,ar=Kt[Ce].maxY;We<Re.minX&&(Re.minX=We),er<Re.minY&&(Re.minY=er),Ue>Re.maxX&&(Re.maxX=Ue),ar>Re.maxY&&(Re.maxY=ar)}return Re}function Ye(Kt,ie,he,Ae){var Ee=ie.geometry,Fe=ie.type,Re=[];if(Fe==="Point"||Fe==="MultiPoint")for(var Ce=0;Ce<Ee.length;Ce+=3)Re.push(Ee[Ce]),Re.push(Ee[Ce+1]),Kt.numPoints++,Kt.numSimplified++;else if(Fe==="LineString")Be(Re,Ee,Kt,he,!1,!1);else if(Fe==="MultiLineString"||Fe==="Polygon")for(Ce=0;Ce<Ee.length;Ce++)Be(Re,Ee[Ce],Kt,he,Fe==="Polygon",Ce===0);else if(Fe==="MultiPolygon")for(var We=0;We<Ee.length;We++){var er=Ee[We];for(Ce=0;Ce<er.length;Ce++)Be(Re,er[Ce],Kt,he,!0,Ce===0)}if(Re.length){var Ue=ie.tags||null;if(Fe==="LineString"&&Ae.lineMetrics){Ue={};for(var ar in ie.tags)Ue[ar]=ie.tags[ar];Ue.mapbox_clip_start=Ee.start/Ee.size,Ue.mapbox_clip_end=Ee.end/Ee.size}var It={geometry:Re,type:Fe==="Polygon"||Fe==="MultiPolygon"?3:Fe==="LineString"||Fe==="MultiLineString"?2:1,tags:Ue};ie.id!==null&&(It.id=ie.id),Kt.features.push(It)}}function Be(Kt,ie,he,Ae,Ee,Fe){var Re=Ae*Ae;if(Ae>0&&ie.size<(Ee?Re:Ae)){he.numPoints+=ie.length/3;return}for(var Ce=[],We=0;We<ie.length;We+=3)(Ae===0||ie[We+2]>Re)&&(he.numSimplified++,Ce.push(ie[We]),Ce.push(ie[We+1])),he.numPoints++;Ee&&ge(Ce,Fe),Kt.push(Ce)}function ge(Kt,ie){for(var he=0,Ae=0,Ee=Kt.length,Fe=Ee-2;Ae<Ee;Fe=Ae,Ae+=2)he+=(Kt[Ae]-Kt[Fe])*(Kt[Ae+1]+Kt[Fe+1]);if(he>0===ie)for(Ae=0,Ee=Kt.length;Ae<Ee/2;Ae+=2){var Re=Kt[Ae],Ce=Kt[Ae+1];Kt[Ae]=Kt[Ee-2-Ae],Kt[Ae+1]=Kt[Ee-1-Ae],Kt[Ee-2-Ae]=Re,Kt[Ee-1-Ae]=Ce}}function be(Kt,ie){return new Ne(Kt,ie)}function Ne(Kt,ie){ie=this.options=fe(Object.create(this.options),ie);var he=ie.debug;if(he&&console.time("preprocess data"),ie.maxZoom<0||ie.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ie.promoteId&&ie.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ae=Vt(Kt,ie);this.tiles={},this.tileCoords=[],he&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ie.indexMaxZoom,ie.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ae=ht(Ae,ie),Ae.length&&this.splitTile(Ae,0,0,0),he&&(Ae.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Ne.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ne.prototype.splitTile=function(Kt,ie,he,Ae,Ee,Fe,Re){for(var Ce=[Kt,ie,he,Ae],We=this.options,er=We.debug;Ce.length;){Ae=Ce.pop(),he=Ce.pop(),ie=Ce.pop(),Kt=Ce.pop();var Ue=1<<ie,ar=pr(ie,he,Ae),It=this.tiles[ar];if(!It&&(er>1&&console.time("creation"),It=this.tiles[ar]=re(Kt,ie,he,Ae,We),this.tileCoords.push({z:ie,x:he,y:Ae}),er)){er>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ie,he,Ae,It.numFeatures,It.numPoints,It.numSimplified),console.timeEnd("creation"));var Ut="z"+ie;this.stats[Ut]=(this.stats[Ut]||0)+1,this.total++}if(It.source=Kt,Ee){if(ie===We.maxZoom||ie===Ee)continue;var Me=1<<Ee-ie;if(he!==Math.floor(Fe/Me)||Ae!==Math.floor(Re/Me))continue}else if(ie===We.indexMaxZoom||It.numPoints<=We.indexMaxPoints)continue;if(It.source=null,Kt.length!==0){er>1&&console.time("clipping");var ke=.5*We.buffer/We.extent,qe=.5-ke,Ke=.5+ke,Je=1+ke,Ve,Pe,rr,lr,cr,ir;Ve=Pe=rr=lr=null,cr=Ft(Kt,Ue,he-ke,he+Ke,0,It.minX,It.maxX,We),ir=Ft(Kt,Ue,he+qe,he+Je,0,It.minX,It.maxX,We),Kt=null,cr&&(Ve=Ft(cr,Ue,Ae-ke,Ae+Ke,1,It.minY,It.maxY,We),Pe=Ft(cr,Ue,Ae+qe,Ae+Je,1,It.minY,It.maxY,We),cr=null),ir&&(rr=Ft(ir,Ue,Ae-ke,Ae+Ke,1,It.minY,It.maxY,We),lr=Ft(ir,Ue,Ae+qe,Ae+Je,1,It.minY,It.maxY,We),ir=null),er>1&&console.timeEnd("clipping"),Ce.push(Ve||[],ie+1,he*2,Ae*2),Ce.push(Pe||[],ie+1,he*2,Ae*2+1),Ce.push(rr||[],ie+1,he*2+1,Ae*2),Ce.push(lr||[],ie+1,he*2+1,Ae*2+1)}}},Ne.prototype.getTile=function(Kt,ie,he){var Ae=this.options,Ee=Ae.extent,Fe=Ae.debug;if(Kt<0||Kt>24)return null;var Re=1<<Kt;ie=(ie%Re+Re)%Re;var Ce=pr(Kt,ie,he);if(this.tiles[Ce])return qt(this.tiles[Ce],Ee);Fe>1&&console.log("drilling down to z%d-%d-%d",Kt,ie,he);for(var We=Kt,er=ie,Ue=he,ar;!ar&&We>0;)We--,er=Math.floor(er/2),Ue=Math.floor(Ue/2),ar=this.tiles[pr(We,er,Ue)];return!ar||!ar.source?null:(Fe>1&&console.log("found parent tile z%d-%d-%d",We,er,Ue),Fe>1&&console.time("drilling down"),this.splitTile(ar.source,We,er,Ue,Kt,ie,he),Fe>1&&console.timeEnd("drilling down"),this.tiles[Ce]?qt(this.tiles[Ce],Ee):null)};function pr(Kt,ie,he){return((1<<Kt)*he+ie)*32+Kt}function fe(Kt,ie){for(var he in ie)Kt[he]=ie[he];return Kt}function De(Kt,ie){var he=Kt.tileID.canonical;if(!this._geoJSONIndex)return ie(null,null);var Ae=this._geoJSONIndex.getTile(he.z,he.x,he.y);if(!Ae)return ie(null,null);var Ee=new k(Ae.features),Fe=m(Ee);(Fe.byteOffset!==0||Fe.byteLength!==Fe.buffer.byteLength)&&(Fe=new Uint8Array(Fe)),ie(null,{vectorTile:Ee,rawData:Fe.buffer})}var Ge=function(Kt){function ie(he,Ae,Ee,Fe){Kt.call(this,he,Ae,Ee,De),Fe&&(this.loadGeoJSON=Fe)}return Kt&&(ie.__proto__=Kt),ie.prototype=Object.create(Kt&&Kt.prototype),ie.prototype.constructor=ie,ie.prototype.loadData=function(he,Ae){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ae,this._pendingLoadDataParams=he,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ie.prototype._loadData=function(){var he=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Ae=this._pendingCallback,Ee=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Fe=Ee&&Ee.request&&Ee.request.collectResourceTiming?new i.RequestPerformance(Ee.request):!1;this.loadGeoJSON(Ee,function(Re,Ce){if(Re||!Ce)return Ae(Re);if(typeof Ce!="object")return Ae(new Error("Input data given to '"+Ee.source+"' is not a valid GeoJSON object."));h(Ce,!0);try{if(Ee.filter){var We=i.createExpression(Ee.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(We.result==="error")throw new Error(We.value.map(function(It){return It.key+": "+It.message}).join(", "));var er=Ce.features.filter(function(It){return We.value.evaluate({zoom:0},It)});Ce={type:"FeatureCollection",features:er}}he._geoJSONIndex=Ee.cluster?new Q(vr(Ee)).load(Ce.features):be(Ce,Ee.geojsonVtOptions)}catch(It){return Ae(It)}he.loaded={};var Ue={};if(Fe){var ar=Fe.finish();ar&&(Ue.resourceTiming={},Ue.resourceTiming[Ee.source]=JSON.parse(JSON.stringify(ar)))}Ae(null,Ue)})}},ie.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ie.prototype.reloadTile=function(he,Ae){var Ee=this.loaded,Fe=he.uid;return Ee&&Ee[Fe]?Kt.prototype.reloadTile.call(this,he,Ae):this.loadTile(he,Ae)},ie.prototype.loadGeoJSON=function(he,Ae){if(he.request)i.getJSON(he.request,Ae);else if(typeof he.data=="string")try{return Ae(null,JSON.parse(he.data))}catch{return Ae(new Error("Input data given to '"+he.source+"' is not a valid GeoJSON object."))}else return Ae(new Error("Input data given to '"+he.source+"' is not a valid GeoJSON object."))},ie.prototype.removeSource=function(he,Ae){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ae()},ie.prototype.getClusterExpansionZoom=function(he,Ae){try{Ae(null,this._geoJSONIndex.getClusterExpansionZoom(he.clusterId))}catch(Ee){Ae(Ee)}},ie.prototype.getClusterChildren=function(he,Ae){try{Ae(null,this._geoJSONIndex.getChildren(he.clusterId))}catch(Ee){Ae(Ee)}},ie.prototype.getClusterLeaves=function(he,Ae){try{Ae(null,this._geoJSONIndex.getLeaves(he.clusterId,he.limit,he.offset))}catch(Ee){Ae(Ee)}},ie}(o);function vr(Kt){var ie=Kt.superclusterOptions,he=Kt.clusterProperties;if(!he||!ie)return ie;for(var Ae={},Ee={},Fe={accumulated:null,zoom:0},Re={properties:null},Ce=Object.keys(he),We=0,er=Ce;We<er.length;We+=1){var Ue=er[We],ar=he[Ue],It=ar[0],Ut=ar[1],Me=i.createExpression(Ut),ke=i.createExpression(typeof It=="string"?[It,["accumulated"],["get",Ue]]:It);Ae[Ue]=Me.value,Ee[Ue]=ke.value}return ie.map=function(qe){Re.properties=qe;for(var Ke={},Je=0,Ve=Ce;Je<Ve.length;Je+=1){var Pe=Ve[Je];Ke[Pe]=Ae[Pe].evaluate(Fe,Re)}return Ke},ie.reduce=function(qe,Ke){Re.properties=Ke;for(var Je=0,Ve=Ce;Je<Ve.length;Je+=1){var Pe=Ve[Je];Fe.accumulated=qe[Pe],qe[Pe]=Ee[Pe].evaluate(Fe,Re)}},ie}var $e=function(Kt){var ie=this;this.self=Kt,this.actor=new i.Actor(Kt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:Ge},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(he,Ae){if(ie.workerSourceTypes[he])throw new Error('Worker source with name "'+he+'" already registered.');ie.workerSourceTypes[he]=Ae},this.self.registerRTLTextPlugin=function(he){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=he.applyArabicShaping,i.plugin.processBidirectionalText=he.processBidirectionalText,i.plugin.processStyledBidirectionalText=he.processStyledBidirectionalText}};return $e.prototype.setReferrer=function(Kt,ie){this.referrer=ie},$e.prototype.setImages=function(Kt,ie,he){this.availableImages[Kt]=ie;for(var Ae in this.workerSources[Kt]){var Ee=this.workerSources[Kt][Ae];for(var Fe in Ee)Ee[Fe].availableImages=ie}he()},$e.prototype.setLayers=function(Kt,ie,he){this.getLayerIndex(Kt).replace(ie),he()},$e.prototype.updateLayers=function(Kt,ie,he){this.getLayerIndex(Kt).update(ie.layers,ie.removedIds),he()},$e.prototype.loadTile=function(Kt,ie,he){this.getWorkerSource(Kt,ie.type,ie.source).loadTile(ie,he)},$e.prototype.loadDEMTile=function(Kt,ie,he){this.getDEMWorkerSource(Kt,ie.source).loadTile(ie,he)},$e.prototype.reloadTile=function(Kt,ie,he){this.getWorkerSource(Kt,ie.type,ie.source).reloadTile(ie,he)},$e.prototype.abortTile=function(Kt,ie,he){this.getWorkerSource(Kt,ie.type,ie.source).abortTile(ie,he)},$e.prototype.removeTile=function(Kt,ie,he){this.getWorkerSource(Kt,ie.type,ie.source).removeTile(ie,he)},$e.prototype.removeDEMTile=function(Kt,ie){this.getDEMWorkerSource(Kt,ie.source).removeTile(ie)},$e.prototype.removeSource=function(Kt,ie,he){if(!(!this.workerSources[Kt]||!this.workerSources[Kt][ie.type]||!this.workerSources[Kt][ie.type][ie.source])){var Ae=this.workerSources[Kt][ie.type][ie.source];delete this.workerSources[Kt][ie.type][ie.source],Ae.removeSource!==void 0?Ae.removeSource(ie,he):he()}},$e.prototype.loadWorkerSource=function(Kt,ie,he){try{this.self.importScripts(ie.url),he()}catch(Ae){he(Ae.toString())}},$e.prototype.syncRTLPluginState=function(Kt,ie,he){try{i.plugin.setState(ie);var Ae=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Ae!=null){this.self.importScripts(Ae);var Ee=i.plugin.isParsed(),Fe=Ee?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ae);he(Fe,Ee)}}catch(Re){he(Re.toString())}},$e.prototype.getAvailableImages=function(Kt){var ie=this.availableImages[Kt];return ie||(ie=[]),ie},$e.prototype.getLayerIndex=function(Kt){var ie=this.layerIndexes[Kt];return ie||(ie=this.layerIndexes[Kt]=new d),ie},$e.prototype.getWorkerSource=function(Kt,ie,he){var Ae=this;if(this.workerSources[Kt]||(this.workerSources[Kt]={}),this.workerSources[Kt][ie]||(this.workerSources[Kt][ie]={}),!this.workerSources[Kt][ie][he]){var Ee={send:function(Fe,Re,Ce){Ae.actor.send(Fe,Re,Ce,Kt)}};this.workerSources[Kt][ie][he]=new this.workerSourceTypes[ie](Ee,this.getLayerIndex(Kt),this.getAvailableImages(Kt))}return this.workerSources[Kt][ie][he]},$e.prototype.getDEMWorkerSource=function(Kt,ie){return this.demWorkerSources[Kt]||(this.demWorkerSources[Kt]={}),this.demWorkerSources[Kt][ie]||(this.demWorkerSources[Kt][ie]=new b),this.demWorkerSources[Kt][ie]},$e.prototype.enforceCacheSizeLimit=function(Kt,ie){i.enforceCacheSizeLimit(ie)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new $e(self)),$e}),S(["./shared"],function(i){var L=i.createCommonjsModule(function(X){X.exports?X.exports=et:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=et,window.mapboxgl.notSupportedReason=K);function et(Br){return!K(Br)}function K(Br){if(!ut())return"not a browser";if(!kt())return"insufficent Array support";if(!jt())return"insufficient Function support";if(!Qt())return"insufficient Object support";if(!de())return"insufficient JSON support";if(!Le())return"insufficient worker support";if(!He())return"insufficient Uint8ClampedArray support";if(!sr())return"insufficient ArrayBuffer support";if(!tr())return"insufficient Canvas/getImageData support";if(!Cr(Br&&Br.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ut(){return typeof window<"u"&&typeof document<"u"}function kt(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function jt(){return Function.prototype&&Function.prototype.bind}function Qt(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function de(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Le(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Br=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Br),cn,Fn;try{Fn=new Worker(Kr),cn=!0}catch{cn=!1}return Fn&&Fn.terminate(),URL.revokeObjectURL(Kr),cn}function He(){return"Uint8ClampedArray"in window}function sr(){return ArrayBuffer.isView}function tr(){var Br=document.createElement("canvas");Br.width=Br.height=1;var Kr=Br.getContext("2d");if(!Kr)return!1;var cn=Kr.getImageData(0,0,1,1);return cn&&cn.width===Br.width}var mr={};function Cr(Br){return mr[Br]===void 0&&(mr[Br]=Nr(Br)),mr[Br]}et.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Br){var Kr=document.createElement("canvas"),cn=Object.create(et.webGLContextAttributes);return cn.failIfMajorPerformanceCaveat=Br,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",cn)||Kr.probablySupportsContext("experimental-webgl",cn):Kr.supportsContext?Kr.supportsContext("webgl",cn)||Kr.supportsContext("experimental-webgl",cn):Kr.getContext("webgl",cn)||Kr.getContext("experimental-webgl",cn)}function Nr(Br){var Kr=Xr(Br);if(!Kr)return!1;var cn=Kr.createShader(Kr.VERTEX_SHADER);return!cn||Kr.isContextLost()?!1:(Kr.shaderSource(cn,"void main() {}"),Kr.compileShader(cn),Kr.getShaderParameter(cn,Kr.COMPILE_STATUS)===!0)}}),T={};T.create=function(X,et,K){var ut=i.window.document.createElement(X);return et!==void 0&&(ut.className=et),K&&K.appendChild(ut),ut},T.createNS=function(X,et){var K=i.window.document.createElementNS(X,et);return K};var v=i.window.document&&i.window.document.documentElement.style;function d(X){if(!v)return X[0];for(var et=0;et<X.length;et++)if(X[et]in v)return X[et];return X[0]}var r=d(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),e;T.disableDrag=function(){v&&r&&(e=v[r],v[r]="none")},T.enableDrag=function(){v&&r&&(v[r]=e)};var l=d(["transform","WebkitTransform"]);T.setTransform=function(X,et){X.style[l]=et};var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",s,s),i.window.removeEventListener("test",s,s)}catch{n=!1}T.addEventListener=function(X,et,K,ut){ut===void 0&&(ut={}),"passive"in ut&&n?X.addEventListener(et,K,ut):X.addEventListener(et,K,ut.capture)},T.removeEventListener=function(X,et,K,ut){ut===void 0&&(ut={}),"passive"in ut&&n?X.removeEventListener(et,K,ut):X.removeEventListener(et,K,ut.capture)};var o=function(X){X.preventDefault(),X.stopPropagation(),i.window.removeEventListener("click",o,!0)};T.suppressClick=function(){i.window.addEventListener("click",o,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",o,!0)},0)},T.mousePos=function(X,et){var K=X.getBoundingClientRect();return new i.Point(et.clientX-K.left-X.clientLeft,et.clientY-K.top-X.clientTop)},T.touchPos=function(X,et){for(var K=X.getBoundingClientRect(),ut=[],kt=0;kt<et.length;kt++)ut.push(new i.Point(et[kt].clientX-K.left-X.clientLeft,et[kt].clientY-K.top-X.clientTop));return ut},T.mouseButton=function(X){return typeof i.window.InstallTrigger<"u"&&X.button===2&&X.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:X.button},T.remove=function(X){X.parentNode&&X.parentNode.removeChild(X)};function f(X,et,K){var ut,kt,jt,Qt=i.browser.devicePixelRatio>1?"@2x":"",de=i.getJSON(et.transformRequest(et.normalizeSpriteURL(X,Qt,".json"),i.ResourceType.SpriteJSON),function(sr,tr){de=null,jt||(jt=sr,ut=tr,He())}),Le=i.getImage(et.transformRequest(et.normalizeSpriteURL(X,Qt,".png"),i.ResourceType.SpriteImage),function(sr,tr){Le=null,jt||(jt=sr,kt=tr,He())});function He(){if(jt)K(jt);else if(ut&&kt){var sr=i.browser.getImageData(kt),tr={};for(var mr in ut){var Cr=ut[mr],Xr=Cr.width,Nr=Cr.height,Br=Cr.x,Kr=Cr.y,cn=Cr.sdf,Fn=Cr.pixelRatio,In=Cr.stretchX,Dn=Cr.stretchY,Bn=Cr.content,Nn=new i.RGBAImage({width:Xr,height:Nr});i.RGBAImage.copy(sr,Nn,{x:Br,y:Kr},{x:0,y:0},{width:Xr,height:Nr}),tr[mr]={data:Nn,pixelRatio:Fn,sdf:cn,stretchX:In,stretchY:Dn,content:Bn}}K(null,tr)}}return{cancel:function(){de&&(de.cancel(),de=null),Le&&(Le.cancel(),Le=null)}}}function b(X){var et=X.userImage;if(et&&et.render){var K=et.render();if(K)return X.data.replace(new Uint8Array(et.data.buffer)),!0}return!1}var h=1,_=function(X){function et(){X.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.isLoaded=function(){return this.loaded},et.prototype.setLoaded=function(K){if(this.loaded!==K&&(this.loaded=K,K)){for(var ut=0,kt=this.requestors;ut<kt.length;ut+=1){var jt=kt[ut],Qt=jt.ids,de=jt.callback;this._notify(Qt,de)}this.requestors=[]}},et.prototype.getImage=function(K){return this.images[K]},et.prototype.addImage=function(K,ut){this._validate(K,ut)&&(this.images[K]=ut)},et.prototype._validate=function(K,ut){var kt=!0;return this._validateStretch(ut.stretchX,ut.data&&ut.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+K+'" has invalid "stretchX" value'))),kt=!1),this._validateStretch(ut.stretchY,ut.data&&ut.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+K+'" has invalid "stretchY" value'))),kt=!1),this._validateContent(ut.content,ut)||(this.fire(new i.ErrorEvent(new Error('Image "'+K+'" has invalid "content" value'))),kt=!1),kt},et.prototype._validateStretch=function(K,ut){if(!K)return!0;for(var kt=0,jt=0,Qt=K;jt<Qt.length;jt+=1){var de=Qt[jt];if(de[0]<kt||de[1]<de[0]||ut<de[1])return!1;kt=de[1]}return!0},et.prototype._validateContent=function(K,ut){return K?!(K.length!==4||K[0]<0||ut.data.width<K[0]||K[1]<0||ut.data.height<K[1]||K[2]<0||ut.data.width<K[2]||K[3]<0||ut.data.height<K[3]||K[2]<K[0]||K[3]<K[1]):!0},et.prototype.updateImage=function(K,ut){var kt=this.images[K];ut.version=kt.version+1,this.images[K]=ut,this.updatedImages[K]=!0},et.prototype.removeImage=function(K){var ut=this.images[K];delete this.images[K],delete this.patterns[K],ut.userImage&&ut.userImage.onRemove&&ut.userImage.onRemove()},et.prototype.listImages=function(){return Object.keys(this.images)},et.prototype.getImages=function(K,ut){var kt=!0;if(!this.isLoaded())for(var jt=0,Qt=K;jt<Qt.length;jt+=1){var de=Qt[jt];this.images[de]||(kt=!1)}this.isLoaded()||kt?this._notify(K,ut):this.requestors.push({ids:K,callback:ut})},et.prototype._notify=function(K,ut){for(var kt={},jt=0,Qt=K;jt<Qt.length;jt+=1){var de=Qt[jt];this.images[de]||this.fire(new i.Event("styleimagemissing",{id:de}));var Le=this.images[de];Le?kt[de]={data:Le.data.clone(),pixelRatio:Le.pixelRatio,sdf:Le.sdf,version:Le.version,stretchX:Le.stretchX,stretchY:Le.stretchY,content:Le.content,hasRenderCallback:!!(Le.userImage&&Le.userImage.render)}:i.warnOnce('Image "'+de+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ut(null,kt)},et.prototype.getPixelSize=function(){var K=this.atlasImage,ut=K.width,kt=K.height;return{width:ut,height:kt}},et.prototype.getPattern=function(K){var ut=this.patterns[K],kt=this.getImage(K);if(!kt)return null;if(ut&&ut.position.version===kt.version)return ut.position;if(ut)ut.position.version=kt.version;else{var jt=kt.data.width+h*2,Qt=kt.data.height+h*2,de={w:jt,h:Qt,x:0,y:0},Le=new i.ImagePosition(de,kt);this.patterns[K]={bin:de,position:Le}}return this._updatePatternAtlas(),this.patterns[K].position},et.prototype.bind=function(K){var ut=K.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(K,this.atlasImage,ut.RGBA),this.atlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE)},et.prototype._updatePatternAtlas=function(){var K=[];for(var ut in this.patterns)K.push(this.patterns[ut].bin);var kt=i.potpack(K),jt=kt.w,Qt=kt.h,de=this.atlasImage;de.resize({width:jt||1,height:Qt||1});for(var Le in this.patterns){var He=this.patterns[Le],sr=He.bin,tr=sr.x+h,mr=sr.y+h,Cr=this.images[Le].data,Xr=Cr.width,Nr=Cr.height;i.RGBAImage.copy(Cr,de,{x:0,y:0},{x:tr,y:mr},{width:Xr,height:Nr}),i.RGBAImage.copy(Cr,de,{x:0,y:Nr-1},{x:tr,y:mr-1},{width:Xr,height:1}),i.RGBAImage.copy(Cr,de,{x:0,y:0},{x:tr,y:mr+Nr},{width:Xr,height:1}),i.RGBAImage.copy(Cr,de,{x:Xr-1,y:0},{x:tr-1,y:mr},{width:1,height:Nr}),i.RGBAImage.copy(Cr,de,{x:0,y:0},{x:tr+Xr,y:mr},{width:1,height:Nr})}this.dirty=!0},et.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},et.prototype.dispatchRenderCallbacks=function(K){for(var ut=0,kt=K;ut<kt.length;ut+=1){var jt=kt[ut];if(!this.callbackDispatchedThisFrame[jt]){this.callbackDispatchedThisFrame[jt]=!0;var Qt=this.images[jt],de=b(Qt);de&&this.updateImage(jt,Qt)}}},et}(i.Evented);function a(X,et,K,ut,kt){var jt=et*256,Qt=jt+255,de=ut.transformRequest(ut.normalizeGlyphsURL(K).replace("{fontstack}",X).replace("{range}",jt+"-"+Qt),i.ResourceType.Glyphs);i.getArrayBuffer(de,function(Le,He){if(Le)kt(Le);else if(He){for(var sr={},tr=0,mr=i.parseGlyphPBF(He);tr<mr.length;tr+=1){var Cr=mr[tr];sr[Cr.id]=Cr}kt(null,sr)}})}var c=k,p=k,x=1e20;function k(X,et,K,ut,kt,jt){this.fontSize=X||24,this.buffer=et===void 0?3:et,this.cutoff=ut||.25,this.fontFamily=kt||"sans-serif",this.fontWeight=jt||"normal",this.radius=K||8;var Qt=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Qt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Qt*Qt),this.gridInner=new Float64Array(Qt*Qt),this.f=new Float64Array(Qt),this.d=new Float64Array(Qt),this.z=new Float64Array(Qt+1),this.v=new Int16Array(Qt),this.middle=Math.round(Qt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}k.prototype.draw=function(X){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(X,this.buffer,this.middle);for(var et=this.ctx.getImageData(0,0,this.size,this.size),K=new Uint8ClampedArray(this.size*this.size),ut=0;ut<this.size*this.size;ut++){var kt=et.data[ut*4+3]/255;this.gridOuter[ut]=kt===1?0:kt===0?x:Math.pow(Math.max(0,.5-kt),2),this.gridInner[ut]=kt===1?x:kt===0?0:Math.pow(Math.max(0,kt-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ut=0;ut<this.size*this.size;ut++){var jt=this.gridOuter[ut]-this.gridInner[ut];K[ut]=Math.max(0,Math.min(255,Math.round(255-255*(jt/this.radius+this.cutoff))))}return K};function y(X,et,K,ut,kt,jt,Qt){for(var de=0;de<et;de++){for(var Le=0;Le<K;Le++)ut[Le]=X[Le*et+de];for(A(ut,kt,jt,Qt,K),Le=0;Le<K;Le++)X[Le*et+de]=kt[Le]}for(Le=0;Le<K;Le++){for(de=0;de<et;de++)ut[de]=X[Le*et+de];for(A(ut,kt,jt,Qt,et),de=0;de<et;de++)X[Le*et+de]=Math.sqrt(kt[de])}}function A(X,et,K,ut,kt){K[0]=0,ut[0]=-x,ut[1]=+x;for(var jt=1,Qt=0;jt<kt;jt++){for(var de=(X[jt]+jt*jt-(X[K[Qt]]+K[Qt]*K[Qt]))/(2*jt-2*K[Qt]);de<=ut[Qt];)Qt--,de=(X[jt]+jt*jt-(X[K[Qt]]+K[Qt]*K[Qt]))/(2*jt-2*K[Qt]);Qt++,K[Qt]=jt,ut[Qt]=de,ut[Qt+1]=+x}for(jt=0,Qt=0;jt<kt;jt++){for(;ut[Qt+1]<jt;)Qt++;et[jt]=(jt-K[Qt])*(jt-K[Qt])+X[K[Qt]]}}c.default=p;var C=function(X,et){this.requestManager=X,this.localIdeographFontFamily=et,this.entries={}};C.prototype.setURL=function(X){this.url=X},C.prototype.getGlyphs=function(X,et){var K=this,ut=[];for(var kt in X)for(var jt=0,Qt=X[kt];jt<Qt.length;jt+=1){var de=Qt[jt];ut.push({stack:kt,id:de})}i.asyncAll(ut,function(Le,He){var sr=Le.stack,tr=Le.id,mr=K.entries[sr];mr||(mr=K.entries[sr]={glyphs:{},requests:{},ranges:{}});var Cr=mr.glyphs[tr];if(Cr!==void 0){He(null,{stack:sr,id:tr,glyph:Cr});return}if(Cr=K._tinySDF(mr,sr,tr),Cr){mr.glyphs[tr]=Cr,He(null,{stack:sr,id:tr,glyph:Cr});return}var Xr=Math.floor(tr/256);if(Xr*256>65535){He(new Error("glyphs > 65535 not supported"));return}if(mr.ranges[Xr]){He(null,{stack:sr,id:tr,glyph:Cr});return}var Nr=mr.requests[Xr];Nr||(Nr=mr.requests[Xr]=[],C.loadGlyphRange(sr,Xr,K.url,K.requestManager,function(Br,Kr){if(Kr){for(var cn in Kr)K._doesCharSupportLocalGlyph(+cn)||(mr.glyphs[+cn]=Kr[+cn]);mr.ranges[Xr]=!0}for(var Fn=0,In=Nr;Fn<In.length;Fn+=1){var Dn=In[Fn];Dn(Br,Kr)}delete mr.requests[Xr]})),Nr.push(function(Br,Kr){Br?He(Br):Kr&&He(null,{stack:sr,id:tr,glyph:Kr[tr]||null})})},function(Le,He){if(Le)et(Le);else if(He){for(var sr={},tr=0,mr=He;tr<mr.length;tr+=1){var Cr=mr[tr],Xr=Cr.stack,Nr=Cr.id,Br=Cr.glyph;(sr[Xr]||(sr[Xr]={}))[Nr]=Br&&{id:Br.id,bitmap:Br.bitmap.clone(),metrics:Br.metrics}}et(null,sr)}})},C.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](X)||i.isChar["Hangul Syllables"](X)||i.isChar.Hiragana(X)||i.isChar.Katakana(X))},C.prototype._tinySDF=function(X,et,K){var ut=this.localIdeographFontFamily;if(ut&&this._doesCharSupportLocalGlyph(K)){var kt=X.tinySDF;if(!kt){var jt="400";/bold/i.test(et)?jt="900":/medium/i.test(et)?jt="500":/light/i.test(et)&&(jt="200"),kt=X.tinySDF=new C.TinySDF(24,3,8,.25,ut,jt)}return{id:K,bitmap:new i.AlphaImage({width:30,height:30},kt.draw(String.fromCharCode(K))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},C.loadGlyphRange=a,C.TinySDF=c;var u=function(){this.specification=i.styleSpec.light.position};u.prototype.possiblyEvaluate=function(X,et){return i.sphericalToCartesian(X.expression.evaluate(et))},u.prototype.interpolate=function(X,et,K){return{x:i.number(X.x,et.x,K),y:i.number(X.y,et.y,K),z:i.number(X.z,et.z,K)}};var m=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new u,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),M="-transition",w=function(X){function et(K){X.call(this),this._transitionable=new i.Transitionable(m),this.setLight(K),this._transitioning=this._transitionable.untransitioned()}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getLight=function(){return this._transitionable.serialize()},et.prototype.setLight=function(K,ut){if(ut===void 0&&(ut={}),!this._validate(i.validateLight,K,ut))for(var kt in K){var jt=K[kt];i.endsWith(kt,M)?this._transitionable.setTransition(kt.slice(0,-M.length),jt):this._transitionable.setValue(kt,jt)}},et.prototype.updateTransitions=function(K){this._transitioning=this._transitionable.transitioned(K,this._transitioning)},et.prototype.hasTransition=function(){return this._transitioning.hasTransition()},et.prototype.recalculate=function(K){this.properties=this._transitioning.possiblyEvaluate(K)},et.prototype._validate=function(K,ut,kt){return kt&&kt.validate===!1?!1:i.emitValidationErrors(this,K.call(i.validateStyle,i.extend({value:ut,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},et}(i.Evented),z=function(X,et){this.width=X,this.height=et,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};z.prototype.getDash=function(X,et){var K=X.join(",")+String(et);return this.dashEntry[K]||(this.dashEntry[K]=this.addDash(X,et)),this.dashEntry[K]},z.prototype.getDashRanges=function(X,et,K){var ut=X.length%2===1,kt=[],jt=ut?-X[X.length-1]*K:0,Qt=X[0]*K,de=!0;kt.push({left:jt,right:Qt,isDash:de,zeroLength:X[0]===0});for(var Le=X[0],He=1;He<X.length;He++){de=!de;var sr=X[He];jt=Le*K,Le+=sr,Qt=Le*K,kt.push({left:jt,right:Qt,isDash:de,zeroLength:sr===0})}return kt},z.prototype.addRoundDash=function(X,et,K){for(var ut=et/2,kt=-K;kt<=K;kt++)for(var jt=this.nextRow+K+kt,Qt=this.width*jt,de=0,Le=X[de],He=0;He<this.width;He++){He/Le.right>1&&(Le=X[++de]);var sr=Math.abs(He-Le.left),tr=Math.abs(He-Le.right),mr=Math.min(sr,tr),Cr=void 0,Xr=kt/K*(ut+1);if(Le.isDash){var Nr=ut-Math.abs(Xr);Cr=Math.sqrt(mr*mr+Nr*Nr)}else Cr=ut-Math.sqrt(mr*mr+Xr*Xr);this.data[Qt+He]=Math.max(0,Math.min(255,Cr+128))}},z.prototype.addRegularDash=function(X){for(var et=X.length-1;et>=0;--et){var K=X[et],ut=X[et+1];K.zeroLength?X.splice(et,1):ut&&ut.isDash===K.isDash&&(ut.left=K.left,X.splice(et,1))}var kt=X[0],jt=X[X.length-1];kt.isDash===jt.isDash&&(kt.left=jt.left-this.width,jt.right=kt.right+this.width);for(var Qt=this.width*this.nextRow,de=0,Le=X[de],He=0;He<this.width;He++){He/Le.right>1&&(Le=X[++de]);var sr=Math.abs(He-Le.left),tr=Math.abs(He-Le.right),mr=Math.min(sr,tr),Cr=Le.isDash?mr:-mr;this.data[Qt+He]=Math.max(0,Math.min(255,Cr+128))}},z.prototype.addDash=function(X,et){var K=et?7:0,ut=2*K+1;if(this.nextRow+ut>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var kt=0,jt=0;jt<X.length;jt++)kt+=X[jt];if(kt!==0){var Qt=this.width/kt,de=this.getDashRanges(X,this.width,Qt);et?this.addRoundDash(de,Qt,K):this.addRegularDash(de)}var Le={y:(this.nextRow+K+.5)/this.height,height:2*K/this.height,width:kt};return this.nextRow+=ut,this.dirty=!0,Le},z.prototype.bind=function(X){var et=X.gl;this.texture?(et.bindTexture(et.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,et.texSubImage2D(et.TEXTURE_2D,0,0,0,this.width,this.height,et.ALPHA,et.UNSIGNED_BYTE,this.data))):(this.texture=et.createTexture(),et.bindTexture(et.TEXTURE_2D,this.texture),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_WRAP_S,et.REPEAT),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_WRAP_T,et.REPEAT),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MIN_FILTER,et.LINEAR),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MAG_FILTER,et.LINEAR),et.texImage2D(et.TEXTURE_2D,0,et.ALPHA,this.width,this.height,0,et.ALPHA,et.UNSIGNED_BYTE,this.data))};var O=function X(et,K){this.workerPool=et,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var ut=this.workerPool.acquire(this.id),kt=0;kt<ut.length;kt++){var jt=ut[kt],Qt=new X.Actor(jt,K,this.id);Qt.name="Worker "+kt,this.actors.push(Qt)}};O.prototype.broadcast=function(X,et,K){K=K||function(){},i.asyncAll(this.actors,function(ut,kt){ut.send(X,et,kt)},K)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=i.Actor;function D(X,et,K){var ut=function(kt,jt){if(kt)return K(kt);if(jt){var Qt=i.pick(i.extend(jt,X),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);jt.vector_layers&&(Qt.vectorLayers=jt.vector_layers,Qt.vectorLayerIds=Qt.vectorLayers.map(function(de){return de.id})),Qt.tiles=et.canonicalizeTileset(Qt,X.url),K(null,Qt)}};return X.url?i.getJSON(et.transformRequest(et.normalizeSourceURL(X.url),i.ResourceType.Source),ut):i.browser.frame(function(){return ut(null,X)})}var P=function(X,et,K){this.bounds=i.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=et||0,this.maxzoom=K||24};P.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},P.prototype.contains=function(X){var et=Math.pow(2,X.z),K={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*et),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*et),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*et),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*et)},ut=X.x>=K.minX&&X.x<K.maxX&&X.y>=K.minY&&X.y<K.maxY;return ut};var F=function(X){function et(K,ut,kt,jt){if(X.call(this),this.id=K,this.dispatcher=kt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(ut,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},ut),this._collectResourceTiming=ut.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(jt)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.load=function(){var K=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=D(this._options,this.map._requestManager,function(ut,kt){K._tileJSONRequest=null,K._loaded=!0,ut?K.fire(new i.ErrorEvent(ut)):kt&&(i.extend(K,kt),kt.bounds&&(K.tileBounds=new P(kt.bounds,K.minzoom,K.maxzoom)),i.postTurnstileEvent(kt.tiles,K.map._requestManager._customAccessToken),i.postMapLoadEvent(kt.tiles,K.map._getMapId(),K.map._requestManager._skuToken,K.map._requestManager._customAccessToken),K.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),K.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},et.prototype.loaded=function(){return this._loaded},et.prototype.hasTile=function(K){return!this.tileBounds||this.tileBounds.contains(K.canonical)},et.prototype.onAdd=function(K){this.map=K,this.load()},et.prototype.setSourceProperty=function(K){this._tileJSONRequest&&this._tileJSONRequest.cancel(),K();var ut=this.map.style.sourceCaches[this.id];ut.clearTiles(),this.load()},et.prototype.setTiles=function(K){var ut=this;return this.setSourceProperty(function(){ut._options.tiles=K}),this},et.prototype.setUrl=function(K){var ut=this;return this.setSourceProperty(function(){ut.url=K,ut._options.url=K}),this},et.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},et.prototype.serialize=function(){return i.extend({},this._options)},et.prototype.loadTile=function(K,ut){var kt=this.map._requestManager.normalizeTileURL(K.tileID.canonical.url(this.tiles,this.scheme)),jt={request:this.map._requestManager.transformRequest(kt,i.ResourceType.Tile),uid:K.uid,tileID:K.tileID,zoom:K.tileID.overscaledZ,tileSize:this.tileSize*K.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};jt.request.collectResourceTiming=this._collectResourceTiming,!K.actor||K.state==="expired"?(K.actor=this.dispatcher.getActor(),K.request=K.actor.send("loadTile",jt,Qt.bind(this))):K.state==="loading"?K.reloadCallback=ut:K.request=K.actor.send("reloadTile",jt,Qt.bind(this));function Qt(de,Le){if(delete K.request,K.aborted)return ut(null);if(de&&de.status!==404)return ut(de);Le&&Le.resourceTiming&&(K.resourceTiming=Le.resourceTiming),this.map._refreshExpiredTiles&&Le&&K.setExpiryData(Le),K.loadVectorData(Le,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),ut(null),K.reloadCallback&&(this.loadTile(K,K.reloadCallback),K.reloadCallback=null)}},et.prototype.abortTile=function(K){K.request&&(K.request.cancel(),delete K.request),K.actor&&K.actor.send("abortTile",{uid:K.uid,type:this.type,source:this.id},void 0)},et.prototype.unloadTile=function(K){K.unloadVectorData(),K.actor&&K.actor.send("removeTile",{uid:K.uid,type:this.type,source:this.id},void 0)},et.prototype.hasTransition=function(){return!1},et}(i.Evented),R=function(X){function et(K,ut,kt,jt){X.call(this),this.id=K,this.dispatcher=kt,this.setEventedParent(jt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},ut),i.extend(this,i.pick(ut,["url","scheme","tileSize"]))}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.load=function(){var K=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=D(this._options,this.map._requestManager,function(ut,kt){K._tileJSONRequest=null,K._loaded=!0,ut?K.fire(new i.ErrorEvent(ut)):kt&&(i.extend(K,kt),kt.bounds&&(K.tileBounds=new P(kt.bounds,K.minzoom,K.maxzoom)),i.postTurnstileEvent(kt.tiles),i.postMapLoadEvent(kt.tiles,K.map._getMapId(),K.map._requestManager._skuToken),K.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),K.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},et.prototype.loaded=function(){return this._loaded},et.prototype.onAdd=function(K){this.map=K,this.load()},et.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},et.prototype.serialize=function(){return i.extend({},this._options)},et.prototype.hasTile=function(K){return!this.tileBounds||this.tileBounds.contains(K.canonical)},et.prototype.loadTile=function(K,ut){var kt=this,jt=this.map._requestManager.normalizeTileURL(K.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);K.request=i.getImage(this.map._requestManager.transformRequest(jt,i.ResourceType.Tile),function(Qt,de){if(delete K.request,K.aborted)K.state="unloaded",ut(null);else if(Qt)K.state="errored",ut(Qt);else if(de){kt.map._refreshExpiredTiles&&K.setExpiryData(de),delete de.cacheControl,delete de.expires;var Le=kt.map.painter.context,He=Le.gl;K.texture=kt.map.painter.getTileTexture(de.width),K.texture?K.texture.update(de,{useMipmap:!0}):(K.texture=new i.Texture(Le,de,He.RGBA,{useMipmap:!0}),K.texture.bind(He.LINEAR,He.CLAMP_TO_EDGE,He.LINEAR_MIPMAP_NEAREST),Le.extTextureFilterAnisotropic&&He.texParameterf(He.TEXTURE_2D,Le.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Le.extTextureFilterAnisotropicMax)),K.state="loaded",i.cacheEntryPossiblyAdded(kt.dispatcher),ut(null)}})},et.prototype.abortTile=function(K,ut){K.request&&(K.request.cancel(),delete K.request),ut()},et.prototype.unloadTile=function(K,ut){K.texture&&this.map.painter.saveTileTexture(K.texture),ut()},et.prototype.hasTransition=function(){return!1},et}(i.Evented),N=function(X){function et(K,ut,kt,jt){X.call(this,K,ut,kt,jt),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},ut),this.encoding=ut.encoding||"mapbox"}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},et.prototype.loadTile=function(K,ut){var kt=this.map._requestManager.normalizeTileURL(K.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);K.request=i.getImage(this.map._requestManager.transformRequest(kt,i.ResourceType.Tile),jt.bind(this)),K.neighboringTiles=this._getNeighboringTiles(K.tileID);function jt(de,Le){if(delete K.request,K.aborted)K.state="unloaded",ut(null);else if(de)K.state="errored",ut(de);else if(Le){this.map._refreshExpiredTiles&&K.setExpiryData(Le),delete Le.cacheControl,delete Le.expires;var He=i.window.ImageBitmap&&Le instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),sr=He?Le:i.browser.getImageData(Le,1),tr={uid:K.uid,coord:K.tileID,source:this.id,rawImageData:sr,encoding:this.encoding};(!K.actor||K.state==="expired")&&(K.actor=this.dispatcher.getActor(),K.actor.send("loadDEMTile",tr,Qt.bind(this)))}}function Qt(de,Le){de&&(K.state="errored",ut(de)),Le&&(K.dem=Le,K.needsHillshadePrepare=!0,K.state="loaded",ut(null))}},et.prototype._getNeighboringTiles=function(K){var ut=K.canonical,kt=Math.pow(2,ut.z),jt=(ut.x-1+kt)%kt,Qt=ut.x===0?K.wrap-1:K.wrap,de=(ut.x+1+kt)%kt,Le=ut.x+1===kt?K.wrap+1:K.wrap,He={};return He[new i.OverscaledTileID(K.overscaledZ,Qt,ut.z,jt,ut.y).key]={backfilled:!1},He[new i.OverscaledTileID(K.overscaledZ,Le,ut.z,de,ut.y).key]={backfilled:!1},ut.y>0&&(He[new i.OverscaledTileID(K.overscaledZ,Qt,ut.z,jt,ut.y-1).key]={backfilled:!1},He[new i.OverscaledTileID(K.overscaledZ,K.wrap,ut.z,ut.x,ut.y-1).key]={backfilled:!1},He[new i.OverscaledTileID(K.overscaledZ,Le,ut.z,de,ut.y-1).key]={backfilled:!1}),ut.y+1<kt&&(He[new i.OverscaledTileID(K.overscaledZ,Qt,ut.z,jt,ut.y+1).key]={backfilled:!1},He[new i.OverscaledTileID(K.overscaledZ,K.wrap,ut.z,ut.x,ut.y+1).key]={backfilled:!1},He[new i.OverscaledTileID(K.overscaledZ,Le,ut.z,de,ut.y+1).key]={backfilled:!1}),He},et.prototype.unloadTile=function(K){K.demTexture&&this.map.painter.saveTileTexture(K.demTexture),K.fbo&&(K.fbo.destroy(),delete K.fbo),K.dem&&delete K.dem,delete K.neighboringTiles,K.state="unloaded",K.actor&&K.actor.send("removeDEMTile",{uid:K.uid,source:this.id})},et}(R),B=function(X){function et(K,ut,kt,jt){X.call(this),this.id=K,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=kt.getActor(),this.setEventedParent(jt),this._data=ut.data,this._options=i.extend({},ut),this._collectResourceTiming=ut.collectResourceTiming,this._resourceTiming=[],ut.maxzoom!==void 0&&(this.maxzoom=ut.maxzoom),ut.type&&(this.type=ut.type),ut.attribution&&(this.attribution=ut.attribution),this.promoteId=ut.promoteId;var Qt=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:ut.cluster||!1,geojsonVtOptions:{buffer:(ut.buffer!==void 0?ut.buffer:128)*Qt,tolerance:(ut.tolerance!==void 0?ut.tolerance:.375)*Qt,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:ut.lineMetrics||!1,generateId:ut.generateId||!1},superclusterOptions:{maxZoom:ut.clusterMaxZoom!==void 0?Math.min(ut.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ut.clusterMinPoints||2),extent:i.EXTENT,radius:(ut.clusterRadius||50)*Qt,log:!1,generateId:ut.generateId||!1},clusterProperties:ut.clusterProperties,filter:ut.filter},ut.workerOptions)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.load=function(){var K=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ut){if(ut){K.fire(new i.ErrorEvent(ut));return}var kt={dataType:"source",sourceDataType:"metadata"};K._collectResourceTiming&&K._resourceTiming&&K._resourceTiming.length>0&&(kt.resourceTiming=K._resourceTiming,K._resourceTiming=[]),K.fire(new i.Event("data",kt))})},et.prototype.onAdd=function(K){this.map=K,this.load()},et.prototype.setData=function(K){var ut=this;return this._data=K,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(kt){if(kt){ut.fire(new i.ErrorEvent(kt));return}var jt={dataType:"source",sourceDataType:"content"};ut._collectResourceTiming&&ut._resourceTiming&&ut._resourceTiming.length>0&&(jt.resourceTiming=ut._resourceTiming,ut._resourceTiming=[]),ut.fire(new i.Event("data",jt))}),this},et.prototype.getClusterExpansionZoom=function(K,ut){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:K,source:this.id},ut),this},et.prototype.getClusterChildren=function(K,ut){return this.actor.send("geojson.getClusterChildren",{clusterId:K,source:this.id},ut),this},et.prototype.getClusterLeaves=function(K,ut,kt,jt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:K,limit:ut,offset:kt},jt),this},et.prototype._updateWorkerData=function(K){var ut=this;this._loaded=!1;var kt=i.extend({},this.workerOptions),jt=this._data;typeof jt=="string"?(kt.request=this.map._requestManager.transformRequest(i.browser.resolveURL(jt),i.ResourceType.Source),kt.request.collectResourceTiming=this._collectResourceTiming):kt.data=JSON.stringify(jt),this.actor.send(this.type+".loadData",kt,function(Qt,de){ut._removed||de&&de.abandoned||(ut._loaded=!0,de&&de.resourceTiming&&de.resourceTiming[ut.id]&&(ut._resourceTiming=de.resourceTiming[ut.id].slice(0)),ut.actor.send(ut.type+".coalesce",{source:kt.source},null),K(Qt))})},et.prototype.loaded=function(){return this._loaded},et.prototype.loadTile=function(K,ut){var kt=this,jt=K.actor?"reloadTile":"loadTile";K.actor=this.actor;var Qt={type:this.type,uid:K.uid,tileID:K.tileID,zoom:K.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};K.request=this.actor.send(jt,Qt,function(de,Le){return delete K.request,K.unloadVectorData(),K.aborted?ut(null):de?ut(de):(K.loadVectorData(Le,kt.map.painter,jt==="reloadTile"),ut(null))})},et.prototype.abortTile=function(K){K.request&&(K.request.cancel(),delete K.request),K.aborted=!0},et.prototype.unloadTile=function(K){K.unloadVectorData(),this.actor.send("removeTile",{uid:K.uid,type:this.type,source:this.id})},et.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},et.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},et.prototype.hasTransition=function(){return!1},et}(i.Evented),q=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),V=function(X){function et(K,ut,kt,jt){X.call(this),this.id=K,this.dispatcher=kt,this.coordinates=ut.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(jt),this.options=ut}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.load=function(K,ut){var kt=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(jt,Qt){kt._loaded=!0,jt?kt.fire(new i.ErrorEvent(jt)):Qt&&(kt.image=Qt,K&&(kt.coordinates=K),ut&&ut(),kt._finishLoading())})},et.prototype.loaded=function(){return this._loaded},et.prototype.updateImage=function(K){var ut=this;return!this.image||!K.url?this:(this.options.url=K.url,this.load(K.coordinates,function(){ut.texture=null}),this)},et.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},et.prototype.onAdd=function(K){this.map=K,this.load()},et.prototype.setCoordinates=function(K){var ut=this;this.coordinates=K;var kt=K.map(i.MercatorCoordinate.fromLngLat);this.tileID=J(kt),this.minzoom=this.maxzoom=this.tileID.z;var jt=kt.map(function(Qt){return ut.tileID.getTilePoint(Qt)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(jt[0].x,jt[0].y,0,0),this._boundsArray.emplaceBack(jt[1].x,jt[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(jt[3].x,jt[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(jt[2].x,jt[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},et.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var K=this.map.painter.context,ut=K.gl;this.boundsBuffer||(this.boundsBuffer=K.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(K,this.image,ut.RGBA),this.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE));for(var kt in this.tiles){var jt=this.tiles[kt];jt.state!=="loaded"&&(jt.state="loaded",jt.texture=this.texture)}}},et.prototype.loadTile=function(K,ut){this.tileID&&this.tileID.equals(K.tileID.canonical)?(this.tiles[String(K.tileID.wrap)]=K,K.buckets={},ut(null)):(K.state="errored",ut(null))},et.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},et.prototype.hasTransition=function(){return!1},et}(i.Evented);function J(X){for(var et=1/0,K=1/0,ut=-1/0,kt=-1/0,jt=0,Qt=X;jt<Qt.length;jt+=1){var de=Qt[jt];et=Math.min(et,de.x),K=Math.min(K,de.y),ut=Math.max(ut,de.x),kt=Math.max(kt,de.y)}var Le=ut-et,He=kt-K,sr=Math.max(Le,He),tr=Math.max(0,Math.floor(-Math.log(sr)/Math.LN2)),mr=Math.pow(2,tr);return new i.CanonicalTileID(tr,Math.floor((et+ut)/2*mr),Math.floor((K+kt)/2*mr))}var it=function(X){function et(K,ut,kt,jt){X.call(this,K,ut,kt,jt),this.roundZoom=!0,this.type="video",this.options=ut}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.load=function(){var K=this;this._loaded=!1;var ut=this.options;this.urls=[];for(var kt=0,jt=ut.urls;kt<jt.length;kt+=1){var Qt=jt[kt];this.urls.push(this.map._requestManager.transformRequest(Qt,i.ResourceType.Source).url)}i.getVideo(this.urls,function(de,Le){K._loaded=!0,de?K.fire(new i.ErrorEvent(de)):Le&&(K.video=Le,K.video.loop=!0,K.video.addEventListener("playing",function(){K.map.triggerRepaint()}),K.map&&K.video.play(),K._finishLoading())})},et.prototype.pause=function(){this.video&&this.video.pause()},et.prototype.play=function(){this.video&&this.video.play()},et.prototype.seek=function(K){if(this.video){var ut=this.video.seekable;K<ut.start(0)||K>ut.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ut.start(0)+" and "+ut.end(0)+"-second mark."))):this.video.currentTime=K}},et.prototype.getVideo=function(){return this.video},et.prototype.onAdd=function(K){this.map||(this.map=K,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},et.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var K=this.map.painter.context,ut=K.gl;this.boundsBuffer||(this.boundsBuffer=K.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),ut.texSubImage2D(ut.TEXTURE_2D,0,0,0,ut.RGBA,ut.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(K,this.video,ut.RGBA),this.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE));for(var kt in this.tiles){var jt=this.tiles[kt];jt.state!=="loaded"&&(jt.state="loaded",jt.texture=this.texture)}}},et.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},et.prototype.hasTransition=function(){return this.video&&!this.video.paused},et}(V),nt=function(X){function et(K,ut,kt,jt){X.call(this,K,ut,kt,jt),ut.coordinates?(!Array.isArray(ut.coordinates)||ut.coordinates.length!==4||ut.coordinates.some(function(Qt){return!Array.isArray(Qt)||Qt.length!==2||Qt.some(function(de){return typeof de!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+K,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+K,null,'missing required property "coordinates"'))),ut.animate&&typeof ut.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+K,null,'optional "animate" property must be a boolean value'))),ut.canvas?typeof ut.canvas!="string"&&!(ut.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+K,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+K,null,'missing required property "canvas"'))),this.options=ut,this.animate=ut.animate!==void 0?ut.animate:!0}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},et.prototype.getCanvas=function(){return this.canvas},et.prototype.onAdd=function(K){this.map=K,this.load(),this.canvas&&this.animate&&this.play()},et.prototype.onRemove=function(){this.pause()},et.prototype.prepare=function(){var K=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,K=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,K=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ut=this.map.painter.context,kt=ut.gl;this.boundsBuffer||(this.boundsBuffer=ut.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(K||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(ut,this.canvas,kt.RGBA,{premultiply:!0});for(var jt in this.tiles){var Qt=this.tiles[jt];Qt.state!=="loaded"&&(Qt.state="loaded",Qt.texture=this.texture)}}},et.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},et.prototype.hasTransition=function(){return this._playing},et.prototype._hasInvalidDimensions=function(){for(var K=0,ut=[this.canvas.width,this.canvas.height];K<ut.length;K+=1){var kt=ut[K];if(isNaN(kt)||kt<=0)return!0}return!1},et}(V),Y={vector:F,raster:R,"raster-dem":N,geojson:B,video:it,image:V,canvas:nt},Z=function(X,et,K,ut){var kt=new Y[et.type](X,et,K,ut);if(kt.id!==X)throw new Error("Expected Source id to be "+X+" instead of "+kt.id);return i.bindAll(["load","abort","unload","serialize","prepare"],kt),kt},$=function(X){return Y[X]},G=function(X,et){Y[X]=et};function rt(X,et){var K=i.identity([]);return i.translate(K,K,[1,1,0]),i.scale(K,K,[X.width*.5,X.height*.5,1]),i.multiply(K,K,X.calculatePosMatrix(et.toUnwrapped()))}function ot(X,et,K){if(X)for(var ut=0,kt=X;ut<kt.length;ut+=1){var jt=kt[ut],Qt=et[jt];if(Qt&&Qt.source===K&&Qt.type==="fill-extrusion")return!0}else for(var de in et){var Le=et[de];if(Le.source===K&&Le.type==="fill-extrusion")return!0}return!1}function W(X,et,K,ut,kt,jt){var Qt=ot(kt&&kt.layers,et,X.id),de=jt.maxPitchScaleFactor(),Le=X.tilesIn(ut,de,Qt);Le.sort(Q);for(var He=[],sr=0,tr=Le;sr<tr.length;sr+=1){var mr=tr[sr];He.push({wrappedTileID:mr.tileID.wrapped().key,queryResults:mr.tile.queryRenderedFeatures(et,K,X._state,mr.queryGeometry,mr.cameraQueryGeometry,mr.scale,kt,jt,de,rt(X.transform,mr.tileID))})}var Cr=ct(He);for(var Xr in Cr)Cr[Xr].forEach(function(Nr){var Br=Nr.feature,Kr=X.getFeatureState(Br.layer["source-layer"],Br.id);Br.source=Br.layer.source,Br.layer["source-layer"]&&(Br.sourceLayer=Br.layer["source-layer"]),Br.state=Kr});return Cr}function H(X,et,K,ut,kt,jt,Qt){for(var de={},Le=jt.queryRenderedSymbols(ut),He=[],sr=0,tr=Object.keys(Le).map(Number);sr<tr.length;sr+=1){var mr=tr[sr];He.push(Qt[mr])}He.sort(Q);for(var Cr=function(){var cn=Nr[Xr],Fn=cn.featureIndex.lookupSymbolFeatures(Le[cn.bucketInstanceId],et,cn.bucketIndex,cn.sourceLayerIndex,kt.filter,kt.layers,kt.availableImages,X);for(var In in Fn){var Dn=de[In]=de[In]||[],Bn=Fn[In];Bn.sort(function(ci,si){var li=cn.featureSortOrder;if(li){var zi=li.indexOf(ci.featureIndex),la=li.indexOf(si.featureIndex);return la-zi}else return si.featureIndex-ci.featureIndex});for(var Nn=0,Wn=Bn;Nn<Wn.length;Nn+=1){var Zn=Wn[Nn];Dn.push(Zn)}}},Xr=0,Nr=He;Xr<Nr.length;Xr+=1)Cr();var Br=function(cn){de[cn].forEach(function(Fn){var In=Fn.feature,Dn=X[cn],Bn=K[Dn.source],Nn=Bn.getFeatureState(In.layer["source-layer"],In.id);In.source=In.layer.source,In.layer["source-layer"]&&(In.sourceLayer=In.layer["source-layer"]),In.state=Nn})};for(var Kr in de)Br(Kr);return de}function at(X,et){for(var K=X.getRenderableIds().map(function(Le){return X.getTileByID(Le)}),ut=[],kt={},jt=0;jt<K.length;jt++){var Qt=K[jt],de=Qt.tileID.canonical.key;kt[de]||(kt[de]=!0,Qt.querySourceFeatures(ut,et))}return ut}function Q(X,et){var K=X.tileID,ut=et.tileID;return K.overscaledZ-ut.overscaledZ||K.canonical.y-ut.canonical.y||K.wrap-ut.wrap||K.canonical.x-ut.canonical.x}function ct(X){for(var et={},K={},ut=0,kt=X;ut<kt.length;ut+=1){var jt=kt[ut],Qt=jt.queryResults,de=jt.wrappedTileID,Le=K[de]=K[de]||{};for(var He in Qt)for(var sr=Qt[He],tr=Le[He]=Le[He]||{},mr=et[He]=et[He]||[],Cr=0,Xr=sr;Cr<Xr.length;Cr+=1){var Nr=Xr[Cr];tr[Nr.featureIndex]||(tr[Nr.featureIndex]=!0,mr.push(Nr))}}return et}var ft=function(X,et){this.max=X,this.onRemove=et,this.reset()};ft.prototype.reset=function(){for(var X in this.data)for(var et=0,K=this.data[X];et<K.length;et+=1){var ut=K[et];ut.timeout&&clearTimeout(ut.timeout),this.onRemove(ut.value)}return this.data={},this.order=[],this},ft.prototype.add=function(X,et,K){var ut=this,kt=X.wrapped().key;this.data[kt]===void 0&&(this.data[kt]=[]);var jt={value:et,timeout:void 0};if(K!==void 0&&(jt.timeout=setTimeout(function(){ut.remove(X,jt)},K)),this.data[kt].push(jt),this.order.push(kt),this.order.length>this.max){var Qt=this._getAndRemoveByKey(this.order[0]);Qt&&this.onRemove(Qt)}return this},ft.prototype.has=function(X){return X.wrapped().key in this.data},ft.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},ft.prototype._getAndRemoveByKey=function(X){var et=this.data[X].shift();return et.timeout&&clearTimeout(et.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),et.value},ft.prototype.getByKey=function(X){var et=this.data[X];return et?et[0].value:null},ft.prototype.get=function(X){if(!this.has(X))return null;var et=this.data[X.wrapped().key][0];return et.value},ft.prototype.remove=function(X,et){if(!this.has(X))return this;var K=X.wrapped().key,ut=et===void 0?0:this.data[K].indexOf(et),kt=this.data[K][ut];return this.data[K].splice(ut,1),kt.timeout&&clearTimeout(kt.timeout),this.data[K].length===0&&delete this.data[K],this.onRemove(kt.value),this.order.splice(this.order.indexOf(K),1),this},ft.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var et=this._getAndRemoveByKey(this.order[0]);et&&this.onRemove(et)}return this},ft.prototype.filter=function(X){var et=[];for(var K in this.data)for(var ut=0,kt=this.data[K];ut<kt.length;ut+=1){var jt=kt[ut];X(jt.value)||et.push(jt)}for(var Qt=0,de=et;Qt<de.length;Qt+=1){var Le=de[Qt];this.remove(Le.value.tileID,Le)}};var yt=function(X,et,K){this.context=X;var ut=X.gl;this.buffer=ut.createBuffer(),this.dynamicDraw=!!K,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),ut.bufferData(ut.ELEMENT_ARRAY_BUFFER,et.arrayBuffer,this.dynamicDraw?ut.DYNAMIC_DRAW:ut.STATIC_DRAW),this.dynamicDraw||delete et.arrayBuffer};yt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},yt.prototype.updateData=function(X){var et=this.context.gl;this.context.unbindVAO(),this.bind(),et.bufferSubData(et.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},yt.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var xt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Lt=function(X,et,K,ut){this.length=et.length,this.attributes=K,this.itemSize=et.bytesPerElement,this.dynamicDraw=ut,this.context=X;var kt=X.gl;this.buffer=kt.createBuffer(),X.bindVertexBuffer.set(this.buffer),kt.bufferData(kt.ARRAY_BUFFER,et.arrayBuffer,this.dynamicDraw?kt.DYNAMIC_DRAW:kt.STATIC_DRAW),this.dynamicDraw||delete et.arrayBuffer};Lt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Lt.prototype.updateData=function(X){var et=this.context.gl;this.bind(),et.bufferSubData(et.ARRAY_BUFFER,0,X.arrayBuffer)},Lt.prototype.enableAttributes=function(X,et){for(var K=0;K<this.attributes.length;K++){var ut=this.attributes[K],kt=et.attributes[ut.name];kt!==void 0&&X.enableVertexAttribArray(kt)}},Lt.prototype.setVertexAttribPointers=function(X,et,K){for(var ut=0;ut<this.attributes.length;ut++){var kt=this.attributes[ut],jt=et.attributes[kt.name];jt!==void 0&&X.vertexAttribPointer(jt,kt.components,X[xt[kt.type]],!1,this.itemSize,kt.offset+this.itemSize*(K||0))}},Lt.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var gt=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};gt.prototype.get=function(){return this.current},gt.prototype.set=function(X){},gt.prototype.getDefault=function(){return this.default},gt.prototype.setDefault=function(){this.set(this.default)};var mt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return i.Color.transparent},et.prototype.set=function(K){var ut=this.current;K.r===ut.r&&K.g===ut.g&&K.b===ut.b&&K.a===ut.a&&!this.dirty||(this.gl.clearColor(K.r,K.g,K.b,K.a),this.current=K,this.dirty=!1)},et}(gt),vt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return 1},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.clearDepth(K),this.current=K,this.dirty=!1)},et}(gt),At=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return 0},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.clearStencil(K),this.current=K,this.dirty=!1)},et}(gt),Ot=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return[!0,!0,!0,!0]},et.prototype.set=function(K){var ut=this.current;K[0]===ut[0]&&K[1]===ut[1]&&K[2]===ut[2]&&K[3]===ut[3]&&!this.dirty||(this.gl.colorMask(K[0],K[1],K[2],K[3]),this.current=K,this.dirty=!1)},et}(gt),Pt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!0},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.depthMask(K),this.current=K,this.dirty=!1)},et}(gt),Et=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return 255},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.stencilMask(K),this.current=K,this.dirty=!1)},et}(gt),Nt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},et.prototype.set=function(K){var ut=this.current;K.func===ut.func&&K.ref===ut.ref&&K.mask===ut.mask&&!this.dirty||(this.gl.stencilFunc(K.func,K.ref,K.mask),this.current=K,this.dirty=!1)},et}(gt),ne=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){var K=this.gl;return[K.KEEP,K.KEEP,K.KEEP]},et.prototype.set=function(K){var ut=this.current;K[0]===ut[0]&&K[1]===ut[1]&&K[2]===ut[2]&&!this.dirty||(this.gl.stencilOp(K[0],K[1],K[2]),this.current=K,this.dirty=!1)},et}(gt),Gt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!1},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;K?ut.enable(ut.STENCIL_TEST):ut.disable(ut.STENCIL_TEST),this.current=K,this.dirty=!1}},et}(gt),pe=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return[0,1]},et.prototype.set=function(K){var ut=this.current;K[0]===ut[0]&&K[1]===ut[1]&&!this.dirty||(this.gl.depthRange(K[0],K[1]),this.current=K,this.dirty=!1)},et}(gt),Vt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!1},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;K?ut.enable(ut.DEPTH_TEST):ut.disable(ut.DEPTH_TEST),this.current=K,this.dirty=!1}},et}(gt),ae=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return this.gl.LESS},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.depthFunc(K),this.current=K,this.dirty=!1)},et}(gt),oe=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!1},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;K?ut.enable(ut.BLEND):ut.disable(ut.BLEND),this.current=K,this.dirty=!1}},et}(gt),ce=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){var K=this.gl;return[K.ONE,K.ZERO]},et.prototype.set=function(K){var ut=this.current;K[0]===ut[0]&&K[1]===ut[1]&&!this.dirty||(this.gl.blendFunc(K[0],K[1]),this.current=K,this.dirty=!1)},et}(gt),le=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return i.Color.transparent},et.prototype.set=function(K){var ut=this.current;K.r===ut.r&&K.g===ut.g&&K.b===ut.b&&K.a===ut.a&&!this.dirty||(this.gl.blendColor(K.r,K.g,K.b,K.a),this.current=K,this.dirty=!1)},et}(gt),ye=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return this.gl.FUNC_ADD},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.blendEquation(K),this.current=K,this.dirty=!1)},et}(gt),Tt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!1},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;K?ut.enable(ut.CULL_FACE):ut.disable(ut.CULL_FACE),this.current=K,this.dirty=!1}},et}(gt),Ft=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return this.gl.BACK},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.cullFace(K),this.current=K,this.dirty=!1)},et}(gt),$t=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return this.gl.CCW},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.frontFace(K),this.current=K,this.dirty=!1)},et}(gt),Wt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.useProgram(K),this.current=K,this.dirty=!1)},et}(gt),Bt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return this.gl.TEXTURE0},et.prototype.set=function(K){K===this.current&&!this.dirty||(this.gl.activeTexture(K),this.current=K,this.dirty=!1)},et}(gt),Mt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){var K=this.gl;return[0,0,K.drawingBufferWidth,K.drawingBufferHeight]},et.prototype.set=function(K){var ut=this.current;K[0]===ut[0]&&K[1]===ut[1]&&K[2]===ut[2]&&K[3]===ut[3]&&!this.dirty||(this.gl.viewport(K[0],K[1],K[2],K[3]),this.current=K,this.dirty=!1)},et}(gt),St=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.bindFramebuffer(ut.FRAMEBUFFER,K),this.current=K,this.dirty=!1}},et}(gt),Dt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.bindRenderbuffer(ut.RENDERBUFFER,K),this.current=K,this.dirty=!1}},et}(gt),dt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.bindTexture(ut.TEXTURE_2D,K),this.current=K,this.dirty=!1}},et}(gt),ht=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.bindBuffer(ut.ARRAY_BUFFER,K),this.current=K,this.dirty=!1}},et}(gt),bt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){var ut=this.gl;ut.bindBuffer(ut.ELEMENT_ARRAY_BUFFER,K),this.current=K,this.dirty=!1},et}(gt),zt=function(X){function et(K){X.call(this,K),this.vao=K.extVertexArrayObject}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et.prototype.set=function(K){!this.vao||K===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(K),this.current=K,this.dirty=!1)},et}(gt),qt=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return 4},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.pixelStorei(ut.UNPACK_ALIGNMENT,K),this.current=K,this.dirty=!1}},et}(gt),te=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!1},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.pixelStorei(ut.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K),this.current=K,this.dirty=!1}},et}(gt),re=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return!1},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){var ut=this.gl;ut.pixelStorei(ut.UNPACK_FLIP_Y_WEBGL,K),this.current=K,this.dirty=!1}},et}(gt),Ye=function(X){function et(K,ut){X.call(this,K),this.context=K,this.parent=ut}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getDefault=function(){return null},et}(gt),Be=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.setDirty=function(){this.dirty=!0},et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ut=this.gl;ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,K,0),this.current=K,this.dirty=!1}},et}(Ye),ge=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.set=function(K){if(!(K===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ut=this.gl;ut.framebufferRenderbuffer(ut.FRAMEBUFFER,ut.DEPTH_ATTACHMENT,ut.RENDERBUFFER,K),this.current=K,this.dirty=!1}},et}(Ye),be=function(X,et,K,ut){this.context=X,this.width=et,this.height=K;var kt=X.gl,jt=this.framebuffer=kt.createFramebuffer();this.colorAttachment=new Be(X,jt),ut&&(this.depthAttachment=new ge(X,jt))};be.prototype.destroy=function(){var X=this.context.gl,et=this.colorAttachment.get();if(et&&X.deleteTexture(et),this.depthAttachment){var K=this.depthAttachment.get();K&&X.deleteRenderbuffer(K)}X.deleteFramebuffer(this.framebuffer)};var Ne=519,pr=function(X,et,K){this.func=X,this.mask=et,this.range=K};pr.ReadOnly=!1,pr.ReadWrite=!0,pr.disabled=new pr(Ne,pr.ReadOnly,[0,1]);var fe=519,De=7680,Ge=function(X,et,K,ut,kt,jt){this.test=X,this.ref=et,this.mask=K,this.fail=ut,this.depthFail=kt,this.pass=jt};Ge.disabled=new Ge({func:fe,mask:0},0,0,De,De,De);var vr=0,$e=1,Kt=771,ie=function(X,et,K){this.blendFunction=X,this.blendColor=et,this.mask=K};ie.Replace=[$e,vr],ie.disabled=new ie(ie.Replace,i.Color.transparent,[!1,!1,!1,!1]),ie.unblended=new ie(ie.Replace,i.Color.transparent,[!0,!0,!0,!0]),ie.alphaBlended=new ie([$e,Kt],i.Color.transparent,[!0,!0,!0,!0]);var he=1029,Ae=2305,Ee=function(X,et,K){this.enable=X,this.mode=et,this.frontFace=K};Ee.disabled=new Ee(!1,he,Ae),Ee.backCCW=new Ee(!0,he,Ae);var Fe=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new mt(this),this.clearDepth=new vt(this),this.clearStencil=new At(this),this.colorMask=new Ot(this),this.depthMask=new Pt(this),this.stencilMask=new Et(this),this.stencilFunc=new Nt(this),this.stencilOp=new ne(this),this.stencilTest=new Gt(this),this.depthRange=new pe(this),this.depthTest=new Vt(this),this.depthFunc=new ae(this),this.blend=new oe(this),this.blendFunc=new ce(this),this.blendColor=new le(this),this.blendEquation=new ye(this),this.cullFace=new Tt(this),this.cullFaceSide=new Ft(this),this.frontFace=new $t(this),this.program=new Wt(this),this.activeTexture=new Bt(this),this.viewport=new Mt(this),this.bindFramebuffer=new St(this),this.bindRenderbuffer=new Dt(this),this.bindTexture=new dt(this),this.bindVertexBuffer=new ht(this),this.bindElementBuffer=new bt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new zt(this),this.pixelStoreUnpack=new qt(this),this.pixelStoreUnpackPremultiplyAlpha=new te(this),this.pixelStoreUnpackFlipY=new re(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=X.getParameter(X.MAX_TEXTURE_SIZE)};Fe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Fe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Fe.prototype.createIndexBuffer=function(X,et){return new yt(this,X,et)},Fe.prototype.createVertexBuffer=function(X,et,K){return new Lt(this,X,et,K)},Fe.prototype.createRenderbuffer=function(X,et,K){var ut=this.gl,kt=ut.createRenderbuffer();return this.bindRenderbuffer.set(kt),ut.renderbufferStorage(ut.RENDERBUFFER,X,et,K),this.bindRenderbuffer.set(null),kt},Fe.prototype.createFramebuffer=function(X,et,K){return new be(this,X,et,K)},Fe.prototype.clear=function(X){var et=X.color,K=X.depth,ut=this.gl,kt=0;et&&(kt|=ut.COLOR_BUFFER_BIT,this.clearColor.set(et),this.colorMask.set([!0,!0,!0,!0])),typeof K<"u"&&(kt|=ut.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(K),this.depthMask.set(!0)),ut.clear(kt)},Fe.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Fe.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Fe.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Fe.prototype.setColorMode=function(X){i.deepEqual(X.blendFunction,ie.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Fe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Re=function(X){function et(K,ut,kt){var jt=this;X.call(this),this.id=K,this.dispatcher=kt,this.on("data",function(Qt){Qt.dataType==="source"&&Qt.sourceDataType==="metadata"&&(jt._sourceLoaded=!0),jt._sourceLoaded&&!jt._paused&&Qt.dataType==="source"&&Qt.sourceDataType==="content"&&(jt.reload(),jt.transform&&jt.update(jt.transform))}),this.on("error",function(){jt._sourceErrored=!0}),this._source=Z(K,ut,kt,this),this._tiles={},this._cache=new ft(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.onAdd=function(K){this.map=K,this._maxTileCacheSize=K?K._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(K)},et.prototype.onRemove=function(K){this._source&&this._source.onRemove&&this._source.onRemove(K)},et.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var K in this._tiles){var ut=this._tiles[K];if(ut.state!=="loaded"&&ut.state!=="errored")return!1}return!0},et.prototype.getSource=function(){return this._source},et.prototype.pause=function(){this._paused=!0},et.prototype.resume=function(){if(this._paused){var K=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,K&&this.reload(),this.transform&&this.update(this.transform)}},et.prototype._loadTile=function(K,ut){return this._source.loadTile(K,ut)},et.prototype._unloadTile=function(K){if(this._source.unloadTile)return this._source.unloadTile(K,function(){})},et.prototype._abortTile=function(K){if(this._source.abortTile)return this._source.abortTile(K,function(){})},et.prototype.serialize=function(){return this._source.serialize()},et.prototype.prepare=function(K){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ut in this._tiles){var kt=this._tiles[ut];kt.upload(K),kt.prepare(this.map.style.imageManager)}},et.prototype.getIds=function(){return i.values(this._tiles).map(function(K){return K.tileID}).sort(Ce).map(function(K){return K.key})},et.prototype.getRenderableIds=function(K){var ut=this,kt=[];for(var jt in this._tiles)this._isIdRenderable(jt,K)&&kt.push(this._tiles[jt]);return K?kt.sort(function(Qt,de){var Le=Qt.tileID,He=de.tileID,sr=new i.Point(Le.canonical.x,Le.canonical.y)._rotate(ut.transform.angle),tr=new i.Point(He.canonical.x,He.canonical.y)._rotate(ut.transform.angle);return Le.overscaledZ-He.overscaledZ||tr.y-sr.y||tr.x-sr.x}).map(function(Qt){return Qt.tileID.key}):kt.map(function(Qt){return Qt.tileID}).sort(Ce).map(function(Qt){return Qt.key})},et.prototype.hasRenderableParent=function(K){var ut=this.findLoadedParent(K,0);return ut?this._isIdRenderable(ut.tileID.key):!1},et.prototype._isIdRenderable=function(K,ut){return this._tiles[K]&&this._tiles[K].hasData()&&!this._coveredTiles[K]&&(ut||!this._tiles[K].holdingForFade())},et.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var K in this._tiles)this._tiles[K].state!=="errored"&&this._reloadTile(K,"reloading")},et.prototype._reloadTile=function(K,ut){var kt=this._tiles[K];kt&&(kt.state!=="loading"&&(kt.state=ut),this._loadTile(kt,this._tileLoaded.bind(this,kt,K,ut)))},et.prototype._tileLoaded=function(K,ut,kt,jt){if(jt){K.state="errored",jt.status!==404?this._source.fire(new i.ErrorEvent(jt,{tile:K})):this.update(this.transform);return}K.timeAdded=i.browser.now(),kt==="expired"&&(K.refreshedUponExpiration=!0),this._setTileReloadTimer(ut,K),this.getSource().type==="raster-dem"&&K.dem&&this._backfillDEM(K),this._state.initializeTileState(K,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:K,coord:K.tileID}))},et.prototype._backfillDEM=function(K){for(var ut=this.getRenderableIds(),kt=0;kt<ut.length;kt++){var jt=ut[kt];if(K.neighboringTiles&&K.neighboringTiles[jt]){var Qt=this.getTileByID(jt);de(K,Qt),de(Qt,K)}}function de(Le,He){Le.needsHillshadePrepare=!0;var sr=He.tileID.canonical.x-Le.tileID.canonical.x,tr=He.tileID.canonical.y-Le.tileID.canonical.y,mr=Math.pow(2,Le.tileID.canonical.z),Cr=He.tileID.key;sr===0&&tr===0||Math.abs(tr)>1||(Math.abs(sr)>1&&(Math.abs(sr+mr)===1?sr+=mr:Math.abs(sr-mr)===1&&(sr-=mr)),!(!He.dem||!Le.dem)&&(Le.dem.backfillBorder(He.dem,sr,tr),Le.neighboringTiles&&Le.neighboringTiles[Cr]&&(Le.neighboringTiles[Cr].backfilled=!0)))}},et.prototype.getTile=function(K){return this.getTileByID(K.key)},et.prototype.getTileByID=function(K){return this._tiles[K]},et.prototype._retainLoadedChildren=function(K,ut,kt,jt){for(var Qt in this._tiles){var de=this._tiles[Qt];if(!(jt[Qt]||!de.hasData()||de.tileID.overscaledZ<=ut||de.tileID.overscaledZ>kt)){for(var Le=de.tileID;de&&de.tileID.overscaledZ>ut+1;){var He=de.tileID.scaledTo(de.tileID.overscaledZ-1);de=this._tiles[He.key],de&&de.hasData()&&(Le=He)}for(var sr=Le;sr.overscaledZ>ut;)if(sr=sr.scaledTo(sr.overscaledZ-1),K[sr.key]){jt[Le.key]=Le;break}}}},et.prototype.findLoadedParent=function(K,ut){if(K.key in this._loadedParentTiles){var kt=this._loadedParentTiles[K.key];return kt&&kt.tileID.overscaledZ>=ut?kt:null}for(var jt=K.overscaledZ-1;jt>=ut;jt--){var Qt=K.scaledTo(jt),de=this._getLoadedTile(Qt);if(de)return de}},et.prototype._getLoadedTile=function(K){var ut=this._tiles[K.key];if(ut&&ut.hasData())return ut;var kt=this._cache.getByKey(K.wrapped().key);return kt},et.prototype.updateCacheSize=function(K){var ut=Math.ceil(K.width/this._source.tileSize)+1,kt=Math.ceil(K.height/this._source.tileSize)+1,jt=ut*kt,Qt=5,de=Math.floor(jt*Qt),Le=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,de):de;this._cache.setMaxSize(Le)},et.prototype.handleWrapJump=function(K){var ut=this._prevLng===void 0?K:this._prevLng,kt=K-ut,jt=kt/360,Qt=Math.round(jt);if(this._prevLng=K,Qt){var de={};for(var Le in this._tiles){var He=this._tiles[Le];He.tileID=He.tileID.unwrapTo(He.tileID.wrap+Qt),de[He.tileID.key]=He}this._tiles=de;for(var sr in this._timers)clearTimeout(this._timers[sr]),delete this._timers[sr];for(var tr in this._tiles){var mr=this._tiles[tr];this._setTileReloadTimer(tr,mr)}}},et.prototype.update=function(K){var ut=this;if(this.transform=K,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(K),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var kt;this.used?this._source.tileID?kt=K.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Zn){return new i.OverscaledTileID(Zn.canonical.z,Zn.wrap,Zn.canonical.z,Zn.canonical.x,Zn.canonical.y)}):(kt=K.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(kt=kt.filter(function(Zn){return ut._source.hasTile(Zn)}))):kt=[];var jt=K.coveringZoomLevel(this._source),Qt=Math.max(jt-et.maxOverzooming,this._source.minzoom),de=Math.max(jt+et.maxUnderzooming,this._source.minzoom),Le=this._updateRetainedTiles(kt,jt);if(We(this._source.type)){for(var He={},sr={},tr=Object.keys(Le),mr=0,Cr=tr;mr<Cr.length;mr+=1){var Xr=Cr[mr],Nr=Le[Xr],Br=this._tiles[Xr];if(!(!Br||Br.fadeEndTime&&Br.fadeEndTime<=i.browser.now())){var Kr=this.findLoadedParent(Nr,Qt);Kr&&(this._addTile(Kr.tileID),He[Kr.tileID.key]=Kr.tileID),sr[Xr]=Nr}}this._retainLoadedChildren(sr,jt,de,Le);for(var cn in He)Le[cn]||(this._coveredTiles[cn]=!0,Le[cn]=He[cn])}for(var Fn in Le)this._tiles[Fn].clearFadeHold();for(var In=i.keysDifference(this._tiles,Le),Dn=0,Bn=In;Dn<Bn.length;Dn+=1){var Nn=Bn[Dn],Wn=this._tiles[Nn];Wn.hasSymbolBuckets&&!Wn.holdingForFade()?Wn.setHoldDuration(this.map._fadeDuration):(!Wn.hasSymbolBuckets||Wn.symbolFadeFinished())&&this._removeTile(Nn)}this._updateLoadedParentTileCache()}},et.prototype.releaseSymbolFadeTiles=function(){for(var K in this._tiles)this._tiles[K].holdingForFade()&&this._removeTile(K)},et.prototype._updateRetainedTiles=function(K,ut){for(var kt={},jt={},Qt=Math.max(ut-et.maxOverzooming,this._source.minzoom),de=Math.max(ut+et.maxUnderzooming,this._source.minzoom),Le={},He=0,sr=K;He<sr.length;He+=1){var tr=sr[He],mr=this._addTile(tr);kt[tr.key]=tr,!mr.hasData()&&ut<this._source.maxzoom&&(Le[tr.key]=tr)}this._retainLoadedChildren(Le,ut,de,kt);for(var Cr=0,Xr=K;Cr<Xr.length;Cr+=1){var Nr=Xr[Cr],Br=this._tiles[Nr.key];if(!Br.hasData()){if(ut+1>this._source.maxzoom){var Kr=Nr.children(this._source.maxzoom)[0],cn=this.getTile(Kr);if(cn&&cn.hasData()){kt[Kr.key]=Kr;continue}}else{var Fn=Nr.children(this._source.maxzoom);if(kt[Fn[0].key]&&kt[Fn[1].key]&&kt[Fn[2].key]&&kt[Fn[3].key])continue}for(var In=Br.wasRequested(),Dn=Nr.overscaledZ-1;Dn>=Qt;--Dn){var Bn=Nr.scaledTo(Dn);if(jt[Bn.key]||(jt[Bn.key]=!0,Br=this.getTile(Bn),!Br&&In&&(Br=this._addTile(Bn)),Br&&(kt[Bn.key]=Bn,In=Br.wasRequested(),Br.hasData())))break}}}return kt},et.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var K in this._tiles){for(var ut=[],kt=void 0,jt=this._tiles[K].tileID;jt.overscaledZ>0;){if(jt.key in this._loadedParentTiles){kt=this._loadedParentTiles[jt.key];break}ut.push(jt.key);var Qt=jt.scaledTo(jt.overscaledZ-1);if(kt=this._getLoadedTile(Qt),kt)break;jt=Qt}for(var de=0,Le=ut;de<Le.length;de+=1){var He=Le[de];this._loadedParentTiles[He]=kt}}},et.prototype._addTile=function(K){var ut=this._tiles[K.key];if(ut)return ut;ut=this._cache.getAndRemove(K),ut&&(this._setTileReloadTimer(K.key,ut),ut.tileID=K,this._state.initializeTileState(ut,this.map?this.map.painter:null),this._cacheTimers[K.key]&&(clearTimeout(this._cacheTimers[K.key]),delete this._cacheTimers[K.key],this._setTileReloadTimer(K.key,ut)));var kt=!!ut;return kt||(ut=new i.Tile(K,this._source.tileSize*K.overscaleFactor()),this._loadTile(ut,this._tileLoaded.bind(this,ut,K.key,ut.state))),ut?(ut.uses++,this._tiles[K.key]=ut,kt||this._source.fire(new i.Event("dataloading",{tile:ut,coord:ut.tileID,dataType:"source"})),ut):null},et.prototype._setTileReloadTimer=function(K,ut){var kt=this;K in this._timers&&(clearTimeout(this._timers[K]),delete this._timers[K]);var jt=ut.getExpiryTimeout();jt&&(this._timers[K]=setTimeout(function(){kt._reloadTile(K,"expired"),delete kt._timers[K]},jt))},et.prototype._removeTile=function(K){var ut=this._tiles[K];ut&&(ut.uses--,delete this._tiles[K],this._timers[K]&&(clearTimeout(this._timers[K]),delete this._timers[K]),!(ut.uses>0)&&(ut.hasData()&&ut.state!=="reloading"?this._cache.add(ut.tileID,ut,ut.getExpiryTimeout()):(ut.aborted=!0,this._abortTile(ut),this._unloadTile(ut))))},et.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var K in this._tiles)this._removeTile(K);this._cache.reset()},et.prototype.tilesIn=function(K,ut,kt){var jt=this,Qt=[],de=this.transform;if(!de)return Qt;for(var Le=kt?de.getCameraQueryGeometry(K):K,He=K.map(function(Dn){return de.pointCoordinate(Dn)}),sr=Le.map(function(Dn){return de.pointCoordinate(Dn)}),tr=this.getIds(),mr=1/0,Cr=1/0,Xr=-1/0,Nr=-1/0,Br=0,Kr=sr;Br<Kr.length;Br+=1){var cn=Kr[Br];mr=Math.min(mr,cn.x),Cr=Math.min(Cr,cn.y),Xr=Math.max(Xr,cn.x),Nr=Math.max(Nr,cn.y)}for(var Fn=function(Dn){var Bn=jt._tiles[tr[Dn]];if(!Bn.holdingForFade()){var Nn=Bn.tileID,Wn=Math.pow(2,de.zoom-Bn.tileID.overscaledZ),Zn=ut*Bn.queryPadding*i.EXTENT/Bn.tileSize/Wn,ci=[Nn.getTilePoint(new i.MercatorCoordinate(mr,Cr)),Nn.getTilePoint(new i.MercatorCoordinate(Xr,Nr))];if(ci[0].x-Zn<i.EXTENT&&ci[0].y-Zn<i.EXTENT&&ci[1].x+Zn>=0&&ci[1].y+Zn>=0){var si=He.map(function(zi){return Nn.getTilePoint(zi)}),li=sr.map(function(zi){return Nn.getTilePoint(zi)});Qt.push({tile:Bn,tileID:Nn,queryGeometry:si,cameraQueryGeometry:li,scale:Wn})}}},In=0;In<tr.length;In++)Fn(In);return Qt},et.prototype.getVisibleCoordinates=function(K){for(var ut=this,kt=this.getRenderableIds(K).map(function(Le){return ut._tiles[Le].tileID}),jt=0,Qt=kt;jt<Qt.length;jt+=1){var de=Qt[jt];de.posMatrix=this.transform.calculatePosMatrix(de.toUnwrapped())}return kt},et.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(We(this._source.type))for(var K in this._tiles){var ut=this._tiles[K];if(ut.fadeEndTime!==void 0&&ut.fadeEndTime>=i.browser.now())return!0}return!1},et.prototype.setFeatureState=function(K,ut,kt){K=K||"_geojsonTileLayer",this._state.updateState(K,ut,kt)},et.prototype.removeFeatureState=function(K,ut,kt){K=K||"_geojsonTileLayer",this._state.removeFeatureState(K,ut,kt)},et.prototype.getFeatureState=function(K,ut){return K=K||"_geojsonTileLayer",this._state.getState(K,ut)},et.prototype.setDependencies=function(K,ut,kt){var jt=this._tiles[K];jt&&jt.setDependencies(ut,kt)},et.prototype.reloadTilesForDependencies=function(K,ut){for(var kt in this._tiles){var jt=this._tiles[kt];jt.hasDependency(K,ut)&&this._reloadTile(kt,"reloading")}this._cache.filter(function(Qt){return!Qt.hasDependency(K,ut)})},et}(i.Evented);Re.maxOverzooming=10,Re.maxUnderzooming=3;function Ce(X,et){var K=Math.abs(X.wrap*2)-+(X.wrap<0),ut=Math.abs(et.wrap*2)-+(et.wrap<0);return X.overscaledZ-et.overscaledZ||ut-K||et.canonical.y-X.canonical.y||et.canonical.x-X.canonical.x}function We(X){return X==="raster"||X==="image"||X==="video"}function er(){return new i.window.Worker(Ba.workerUrl)}var Ue="mapboxgl_preloaded_worker_pool",ar=function(){this.active={}};ar.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<ar.workerCount;)this.workers.push(new er);return this.active[X]=!0,this.workers.slice()},ar.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(et){et.terminate()}),this.workers=null)},ar.prototype.isPreloaded=function(){return!!this.active[Ue]},ar.prototype.numActive=function(){return Object.keys(this.active).length};var It=Math.floor(i.browser.hardwareConcurrency/2);ar.workerCount=Math.max(Math.min(It,6),1);var Ut;function Me(){return Ut||(Ut=new ar),Ut}function ke(){var X=Me();X.acquire(Ue)}function qe(){var X=Ut;X&&(X.isPreloaded()&&X.numActive()===1?(X.release(Ue),Ut=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function Ke(X,et){var K={};for(var ut in X)ut!=="ref"&&(K[ut]=X[ut]);return i.refProperties.forEach(function(kt){kt in et&&(K[kt]=et[kt])}),K}function Je(X){X=X.slice();for(var et=Object.create(null),K=0;K<X.length;K++)et[X[K].id]=X[K];for(var ut=0;ut<X.length;ut++)"ref"in X[ut]&&(X[ut]=Ke(X[ut],et[X[ut].ref]));return X}function Ve(){var X={},et=i.styleSpec.$version;for(var K in i.styleSpec.$root){var ut=i.styleSpec.$root[K];if(ut.required){var kt=null;K==="version"?kt=et:ut.type==="array"?kt=[]:kt={},kt!=null&&(X[K]=kt)}}return X}var Pe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function rr(X,et,K){K.push({command:Pe.addSource,args:[X,et[X]]})}function lr(X,et,K){et.push({command:Pe.removeSource,args:[X]}),K[X]=!0}function cr(X,et,K,ut){lr(X,K,ut),rr(X,et,K)}function ir(X,et,K){var ut;for(ut in X[K])if(X[K].hasOwnProperty(ut)&&ut!=="data"&&!i.deepEqual(X[K][ut],et[K][ut]))return!1;for(ut in et[K])if(et[K].hasOwnProperty(ut)&&ut!=="data"&&!i.deepEqual(X[K][ut],et[K][ut]))return!1;return!0}function Er(X,et,K,ut){X=X||{},et=et||{};var kt;for(kt in X)X.hasOwnProperty(kt)&&(et.hasOwnProperty(kt)||lr(kt,K,ut));for(kt in et)et.hasOwnProperty(kt)&&(X.hasOwnProperty(kt)?i.deepEqual(X[kt],et[kt])||(X[kt].type==="geojson"&&et[kt].type==="geojson"&&ir(X,et,kt)?K.push({command:Pe.setGeoJSONSourceData,args:[kt,et[kt].data]}):cr(kt,et,K,ut)):rr(kt,et,K))}function kr(X,et,K,ut,kt,jt){X=X||{},et=et||{};var Qt;for(Qt in X)X.hasOwnProperty(Qt)&&(i.deepEqual(X[Qt],et[Qt])||K.push({command:jt,args:[ut,Qt,et[Qt],kt]}));for(Qt in et)!et.hasOwnProperty(Qt)||X.hasOwnProperty(Qt)||i.deepEqual(X[Qt],et[Qt])||K.push({command:jt,args:[ut,Qt,et[Qt],kt]})}function Mr(X){return X.id}function $r(X,et){return X[et.id]=et,X}function Gr(X,et,K){X=X||[],et=et||[];var ut=X.map(Mr),kt=et.map(Mr),jt=X.reduce($r,{}),Qt=et.reduce($r,{}),de=ut.slice(),Le=Object.create(null),He,sr,tr,mr,Cr,Xr,Nr;for(He=0,sr=0;He<ut.length;He++)tr=ut[He],Qt.hasOwnProperty(tr)?sr++:(K.push({command:Pe.removeLayer,args:[tr]}),de.splice(de.indexOf(tr,sr),1));for(He=0,sr=0;He<kt.length;He++)tr=kt[kt.length-1-He],de[de.length-1-He]!==tr&&(jt.hasOwnProperty(tr)?(K.push({command:Pe.removeLayer,args:[tr]}),de.splice(de.lastIndexOf(tr,de.length-sr),1)):sr++,Xr=de[de.length-He],K.push({command:Pe.addLayer,args:[Qt[tr],Xr]}),de.splice(de.length-He,0,tr),Le[tr]=!0);for(He=0;He<kt.length;He++)if(tr=kt[He],mr=jt[tr],Cr=Qt[tr],!(Le[tr]||i.deepEqual(mr,Cr))){if(!i.deepEqual(mr.source,Cr.source)||!i.deepEqual(mr["source-layer"],Cr["source-layer"])||!i.deepEqual(mr.type,Cr.type)){K.push({command:Pe.removeLayer,args:[tr]}),Xr=de[de.lastIndexOf(tr)+1],K.push({command:Pe.addLayer,args:[Cr,Xr]});continue}kr(mr.layout,Cr.layout,K,tr,null,Pe.setLayoutProperty),kr(mr.paint,Cr.paint,K,tr,null,Pe.setPaintProperty),i.deepEqual(mr.filter,Cr.filter)||K.push({command:Pe.setFilter,args:[tr,Cr.filter]}),(!i.deepEqual(mr.minzoom,Cr.minzoom)||!i.deepEqual(mr.maxzoom,Cr.maxzoom))&&K.push({command:Pe.setLayerZoomRange,args:[tr,Cr.minzoom,Cr.maxzoom]});for(Nr in mr)mr.hasOwnProperty(Nr)&&(Nr==="layout"||Nr==="paint"||Nr==="filter"||Nr==="metadata"||Nr==="minzoom"||Nr==="maxzoom"||(Nr.indexOf("paint.")===0?kr(mr[Nr],Cr[Nr],K,tr,Nr.slice(6),Pe.setPaintProperty):i.deepEqual(mr[Nr],Cr[Nr])||K.push({command:Pe.setLayerProperty,args:[tr,Nr,Cr[Nr]]})));for(Nr in Cr)!Cr.hasOwnProperty(Nr)||mr.hasOwnProperty(Nr)||Nr==="layout"||Nr==="paint"||Nr==="filter"||Nr==="metadata"||Nr==="minzoom"||Nr==="maxzoom"||(Nr.indexOf("paint.")===0?kr(mr[Nr],Cr[Nr],K,tr,Nr.slice(6),Pe.setPaintProperty):i.deepEqual(mr[Nr],Cr[Nr])||K.push({command:Pe.setLayerProperty,args:[tr,Nr,Cr[Nr]]}))}}function vn(X,et){if(!X)return[{command:Pe.setStyle,args:[et]}];var K=[];try{if(!i.deepEqual(X.version,et.version))return[{command:Pe.setStyle,args:[et]}];i.deepEqual(X.center,et.center)||K.push({command:Pe.setCenter,args:[et.center]}),i.deepEqual(X.zoom,et.zoom)||K.push({command:Pe.setZoom,args:[et.zoom]}),i.deepEqual(X.bearing,et.bearing)||K.push({command:Pe.setBearing,args:[et.bearing]}),i.deepEqual(X.pitch,et.pitch)||K.push({command:Pe.setPitch,args:[et.pitch]}),i.deepEqual(X.sprite,et.sprite)||K.push({command:Pe.setSprite,args:[et.sprite]}),i.deepEqual(X.glyphs,et.glyphs)||K.push({command:Pe.setGlyphs,args:[et.glyphs]}),i.deepEqual(X.transition,et.transition)||K.push({command:Pe.setTransition,args:[et.transition]}),i.deepEqual(X.light,et.light)||K.push({command:Pe.setLight,args:[et.light]});var ut={},kt=[];Er(X.sources,et.sources,kt,ut);var jt=[];X.layers&&X.layers.forEach(function(Qt){ut[Qt.source]?K.push({command:Pe.removeLayer,args:[Qt.id]}):jt.push(Qt)}),K=K.concat(kt),Gr(jt,et.layers,K)}catch(Qt){console.warn("Unable to compute style diff:",Qt),K=[{command:Pe.setStyle,args:[et]}]}return K}var yn=function(X,et){this.reset(X,et)};yn.prototype.reset=function(X,et){this.points=X||[],this._distances=[0];for(var K=1;K<this.points.length;K++)this._distances[K]=this._distances[K-1]+this.points[K].dist(this.points[K-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(et||0,this.length*.5),this.paddedLength=this.length-this.padding*2},yn.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=i.clamp(X,0,1);for(var et=1,K=this._distances[et],ut=X*this.paddedLength+this.padding;K<ut&&et<this._distances.length;)K=this._distances[++et];var kt=et-1,jt=this._distances[kt],Qt=K-jt,de=Qt>0?(ut-jt)/Qt:0;return this.points[kt].mult(1-de).add(this.points[et].mult(de))};var hr=function(X,et,K){var ut=this.boxCells=[],kt=this.circleCells=[];this.xCellCount=Math.ceil(X/K),this.yCellCount=Math.ceil(et/K);for(var jt=0;jt<this.xCellCount*this.yCellCount;jt++)ut.push([]),kt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=et,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/et,this.boxUid=0,this.circleUid=0};hr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},hr.prototype.insert=function(X,et,K,ut,kt){this._forEachCell(et,K,ut,kt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(et),this.bboxes.push(K),this.bboxes.push(ut),this.bboxes.push(kt)},hr.prototype.insertCircle=function(X,et,K,ut){this._forEachCell(et-ut,K-ut,et+ut,K+ut,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(et),this.circles.push(K),this.circles.push(ut)},hr.prototype._insertBoxCell=function(X,et,K,ut,kt,jt){this.boxCells[kt].push(jt)},hr.prototype._insertCircleCell=function(X,et,K,ut,kt,jt){this.circleCells[kt].push(jt)},hr.prototype._query=function(X,et,K,ut,kt,jt){if(K<0||X>this.width||ut<0||et>this.height)return kt?!1:[];var Qt=[];if(X<=0&&et<=0&&this.width<=K&&this.height<=ut){if(kt)return!0;for(var de=0;de<this.boxKeys.length;de++)Qt.push({key:this.boxKeys[de],x1:this.bboxes[de*4],y1:this.bboxes[de*4+1],x2:this.bboxes[de*4+2],y2:this.bboxes[de*4+3]});for(var Le=0;Le<this.circleKeys.length;Le++){var He=this.circles[Le*3],sr=this.circles[Le*3+1],tr=this.circles[Le*3+2];Qt.push({key:this.circleKeys[Le],x1:He-tr,y1:sr-tr,x2:He+tr,y2:sr+tr})}return jt?Qt.filter(jt):Qt}else{var mr={hitTest:kt,seenUids:{box:{},circle:{}}};return this._forEachCell(X,et,K,ut,this._queryCell,Qt,mr,jt),kt?Qt.length>0:Qt}},hr.prototype._queryCircle=function(X,et,K,ut,kt){var jt=X-K,Qt=X+K,de=et-K,Le=et+K;if(Qt<0||jt>this.width||Le<0||de>this.height)return ut?!1:[];var He=[],sr={hitTest:ut,circle:{x:X,y:et,radius:K},seenUids:{box:{},circle:{}}};return this._forEachCell(jt,de,Qt,Le,this._queryCellCircle,He,sr,kt),ut?He.length>0:He},hr.prototype.query=function(X,et,K,ut,kt){return this._query(X,et,K,ut,!1,kt)},hr.prototype.hitTest=function(X,et,K,ut,kt){return this._query(X,et,K,ut,!0,kt)},hr.prototype.hitTestCircle=function(X,et,K,ut){return this._queryCircle(X,et,K,!0,ut)},hr.prototype._queryCell=function(X,et,K,ut,kt,jt,Qt,de){var Le=Qt.seenUids,He=this.boxCells[kt];if(He!==null)for(var sr=this.bboxes,tr=0,mr=He;tr<mr.length;tr+=1){var Cr=mr[tr];if(!Le.box[Cr]){Le.box[Cr]=!0;var Xr=Cr*4;if(X<=sr[Xr+2]&&et<=sr[Xr+3]&&K>=sr[Xr+0]&&ut>=sr[Xr+1]&&(!de||de(this.boxKeys[Cr]))){if(Qt.hitTest)return jt.push(!0),!0;jt.push({key:this.boxKeys[Cr],x1:sr[Xr],y1:sr[Xr+1],x2:sr[Xr+2],y2:sr[Xr+3]})}}}var Nr=this.circleCells[kt];if(Nr!==null)for(var Br=this.circles,Kr=0,cn=Nr;Kr<cn.length;Kr+=1){var Fn=cn[Kr];if(!Le.circle[Fn]){Le.circle[Fn]=!0;var In=Fn*3;if(this._circleAndRectCollide(Br[In],Br[In+1],Br[In+2],X,et,K,ut)&&(!de||de(this.circleKeys[Fn]))){if(Qt.hitTest)return jt.push(!0),!0;var Dn=Br[In],Bn=Br[In+1],Nn=Br[In+2];jt.push({key:this.circleKeys[Fn],x1:Dn-Nn,y1:Bn-Nn,x2:Dn+Nn,y2:Bn+Nn})}}}},hr.prototype._queryCellCircle=function(X,et,K,ut,kt,jt,Qt,de){var Le=Qt.circle,He=Qt.seenUids,sr=this.boxCells[kt];if(sr!==null)for(var tr=this.bboxes,mr=0,Cr=sr;mr<Cr.length;mr+=1){var Xr=Cr[mr];if(!He.box[Xr]){He.box[Xr]=!0;var Nr=Xr*4;if(this._circleAndRectCollide(Le.x,Le.y,Le.radius,tr[Nr+0],tr[Nr+1],tr[Nr+2],tr[Nr+3])&&(!de||de(this.boxKeys[Xr])))return jt.push(!0),!0}}var Br=this.circleCells[kt];if(Br!==null)for(var Kr=this.circles,cn=0,Fn=Br;cn<Fn.length;cn+=1){var In=Fn[cn];if(!He.circle[In]){He.circle[In]=!0;var Dn=In*3;if(this._circlesCollide(Kr[Dn],Kr[Dn+1],Kr[Dn+2],Le.x,Le.y,Le.radius)&&(!de||de(this.circleKeys[In])))return jt.push(!0),!0}}},hr.prototype._forEachCell=function(X,et,K,ut,kt,jt,Qt,de){for(var Le=this._convertToXCellCoord(X),He=this._convertToYCellCoord(et),sr=this._convertToXCellCoord(K),tr=this._convertToYCellCoord(ut),mr=Le;mr<=sr;mr++)for(var Cr=He;Cr<=tr;Cr++){var Xr=this.xCellCount*Cr+mr;if(kt.call(this,X,et,K,ut,Xr,jt,Qt,de))return}},hr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},hr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},hr.prototype._circlesCollide=function(X,et,K,ut,kt,jt){var Qt=ut-X,de=kt-et,Le=K+jt;return Le*Le>Qt*Qt+de*de},hr.prototype._circleAndRectCollide=function(X,et,K,ut,kt,jt,Qt){var de=(jt-ut)/2,Le=Math.abs(X-(ut+de));if(Le>de+K)return!1;var He=(Qt-kt)/2,sr=Math.abs(et-(kt+He));if(sr>He+K)return!1;if(Le<=de||sr<=He)return!0;var tr=Le-de,mr=sr-He;return tr*tr+mr*mr<=K*K};function Lr(X,et,K,ut,kt){var jt=i.create();return et?(i.scale(jt,jt,[1/kt,1/kt,1]),K||i.rotateZ(jt,jt,ut.angle)):i.multiply(jt,ut.labelPlaneMatrix,X),jt}function Ir(X,et,K,ut,kt){if(et){var jt=i.clone(X);return i.scale(jt,jt,[kt,kt,1]),K||i.rotateZ(jt,jt,-ut.angle),jt}else return ut.glCoordMatrix}function Rr(X,et){var K=[X.x,X.y,0,1];ur(K,K,et);var ut=K[3];return{point:new i.Point(K[0]/ut,K[1]/ut),signedDistanceFromCamera:ut}}function on(X,et){return .5+.5*(X/et)}function an(X,et){var K=X[0]/X[3],ut=X[1]/X[3],kt=K>=-et[0]&&K<=et[0]&&ut>=-et[1]&&ut<=et[1];return kt}function gn(X,et,K,ut,kt,jt,Qt,de){var Le=ut?X.textSizeData:X.iconSizeData,He=i.evaluateSizeForZoom(Le,K.transform.zoom),sr=[256/K.width*2+1,256/K.height*2+1],tr=ut?X.text.dynamicLayoutVertexArray:X.icon.dynamicLayoutVertexArray;tr.clear();for(var mr=X.lineVertexArray,Cr=ut?X.text.placedSymbolArray:X.icon.placedSymbolArray,Xr=K.transform.width/K.transform.height,Nr=!1,Br=0;Br<Cr.length;Br++){var Kr=Cr.get(Br);if(Kr.hidden||Kr.writingMode===i.WritingMode.vertical&&!Nr){Cn(Kr.numGlyphs,tr);continue}Nr=!1;var cn=[Kr.anchorX,Kr.anchorY,0,1];if(i.transformMat4(cn,cn,et),!an(cn,sr)){Cn(Kr.numGlyphs,tr);continue}var Fn=cn[3],In=on(K.transform.cameraToCenterDistance,Fn),Dn=i.evaluateSizeForFeature(Le,He,Kr),Bn=Qt?Dn/In:Dn*In,Nn=new i.Point(Kr.anchorX,Kr.anchorY),Wn=Rr(Nn,kt).point,Zn={},ci=Kn(Kr,Bn,!1,de,et,kt,jt,X.glyphOffsetArray,mr,tr,Wn,Nn,Zn,Xr);Nr=ci.useVertical,(ci.notEnoughRoom||Nr||ci.needsFlipping&&Kn(Kr,Bn,!0,de,et,kt,jt,X.glyphOffsetArray,mr,tr,Wn,Nn,Zn,Xr).notEnoughRoom)&&Cn(Kr.numGlyphs,tr)}ut?X.text.dynamicLayoutVertexBuffer.updateData(tr):X.icon.dynamicLayoutVertexBuffer.updateData(tr)}function Mn(X,et,K,ut,kt,jt,Qt,de,Le,He,sr){var tr=de.glyphStartIndex+de.numGlyphs,mr=de.lineStartIndex,Cr=de.lineStartIndex+de.lineLength,Xr=et.getoffsetX(de.glyphStartIndex),Nr=et.getoffsetX(tr-1),Br=ui(X*Xr,K,ut,kt,jt,Qt,de.segment,mr,Cr,Le,He,sr);if(!Br)return null;var Kr=ui(X*Nr,K,ut,kt,jt,Qt,de.segment,mr,Cr,Le,He,sr);return Kr?{first:Br,last:Kr}:null}function Pn(X,et,K,ut){if(X===i.WritingMode.horizontal){var kt=Math.abs(K.y-et.y),jt=Math.abs(K.x-et.x)*ut;if(kt>jt)return{useVertical:!0}}return(X===i.WritingMode.vertical?et.y<K.y:et.x>K.x)?{needsFlipping:!0}:null}function Kn(X,et,K,ut,kt,jt,Qt,de,Le,He,sr,tr,mr,Cr){var Xr=et/24,Nr=X.lineOffsetX*Xr,Br=X.lineOffsetY*Xr,Kr;if(X.numGlyphs>1){var cn=X.glyphStartIndex+X.numGlyphs,Fn=X.lineStartIndex,In=X.lineStartIndex+X.lineLength,Dn=Mn(Xr,de,Nr,Br,K,sr,tr,X,Le,jt,mr);if(!Dn)return{notEnoughRoom:!0};var Bn=Rr(Dn.first.point,Qt).point,Nn=Rr(Dn.last.point,Qt).point;if(ut&&!K){var Wn=Pn(X.writingMode,Bn,Nn,Cr);if(Wn)return Wn}Kr=[Dn.first];for(var Zn=X.glyphStartIndex+1;Zn<cn-1;Zn++)Kr.push(ui(Xr*de.getoffsetX(Zn),Nr,Br,K,sr,tr,X.segment,Fn,In,Le,jt,mr));Kr.push(Dn.last)}else{if(ut&&!K){var ci=Rr(tr,kt).point,si=X.lineStartIndex+X.segment+1,li=new i.Point(Le.getx(si),Le.gety(si)),zi=Rr(li,kt),la=zi.signedDistanceFromCamera>0?zi.point:ai(tr,li,ci,1,kt),yi=Pn(X.writingMode,ci,la,Cr);if(yi)return yi}var ki=ui(Xr*de.getoffsetX(X.glyphStartIndex),Nr,Br,K,sr,tr,X.segment,X.lineStartIndex,X.lineStartIndex+X.lineLength,Le,jt,mr);if(!ki)return{notEnoughRoom:!0};Kr=[ki]}for(var Oi=0,Xi=Kr;Oi<Xi.length;Oi+=1){var Qi=Xi[Oi];i.addDynamicAttributes(He,Qi.point,Qi.angle)}return{}}function ai(X,et,K,ut,kt){var jt=Rr(X.add(X.sub(et)._unit()),kt).point,Qt=K.sub(jt);return K.add(Qt._mult(ut/Qt.mag()))}function ui(X,et,K,ut,kt,jt,Qt,de,Le,He,sr,tr){var mr=ut?X-et:X+et,Cr=mr>0?1:-1,Xr=0;ut&&(Cr*=-1,Xr=Math.PI),Cr<0&&(Xr+=Math.PI);for(var Nr=Cr>0?de+Qt:de+Qt+1,Br=kt,Kr=kt,cn=0,Fn=0,In=Math.abs(mr),Dn=[];cn+Fn<=In;){if(Nr+=Cr,Nr<de||Nr>=Le)return null;if(Kr=Br,Dn.push(Br),Br=tr[Nr],Br===void 0){var Bn=new i.Point(He.getx(Nr),He.gety(Nr)),Nn=Rr(Bn,sr);if(Nn.signedDistanceFromCamera>0)Br=tr[Nr]=Nn.point;else{var Wn=Nr-Cr,Zn=cn===0?jt:new i.Point(He.getx(Wn),He.gety(Wn));Br=ai(Zn,Bn,Kr,In-cn+1,sr)}}cn+=Fn,Fn=Kr.dist(Br)}var ci=(In-cn)/Fn,si=Br.sub(Kr),li=si.mult(ci)._add(Kr);li._add(si._unit()._perp()._mult(K*Cr));var zi=Xr+Math.atan2(Br.y-Kr.y,Br.x-Kr.x);return Dn.push(li),{point:li,angle:zi,path:Dn}}var ni=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Cn(X,et){for(var K=0;K<X;K++){var ut=et.length;et.resize(ut+4),et.float32.set(ni,ut*3)}}function ur(X,et,K){var ut=et[0],kt=et[1];return X[0]=K[0]*ut+K[4]*kt+K[12],X[1]=K[1]*ut+K[5]*kt+K[13],X[3]=K[3]*ut+K[7]*kt+K[15],X}var qr=100,Ur=function(X,et,K){et===void 0&&(et=new hr(X.width+2*qr,X.height+2*qr,25)),K===void 0&&(K=new hr(X.width+2*qr,X.height+2*qr,25)),this.transform=X,this.grid=et,this.ignoredGrid=K,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+qr,this.screenBottomBoundary=X.height+qr,this.gridRightBoundary=X.width+2*qr,this.gridBottomBoundary=X.height+2*qr};Ur.prototype.placeCollisionBox=function(X,et,K,ut,kt){var jt=this.projectAndGetPerspectiveRatio(ut,X.anchorPointX,X.anchorPointY),Qt=K*jt.perspectiveRatio,de=X.x1*Qt+jt.point.x,Le=X.y1*Qt+jt.point.y,He=X.x2*Qt+jt.point.x,sr=X.y2*Qt+jt.point.y;return!this.isInsideGrid(de,Le,He,sr)||!et&&this.grid.hitTest(de,Le,He,sr,kt)?{box:[],offscreen:!1}:{box:[de,Le,He,sr],offscreen:this.isOffscreen(de,Le,He,sr)}},Ur.prototype.placeCollisionCircles=function(X,et,K,ut,kt,jt,Qt,de,Le,He,sr,tr,mr){var Cr=[],Xr=new i.Point(et.anchorX,et.anchorY),Nr=Rr(Xr,jt),Br=on(this.transform.cameraToCenterDistance,Nr.signedDistanceFromCamera),Kr=He?kt/Br:kt*Br,cn=Kr/i.ONE_EM,Fn=Rr(Xr,Qt).point,In={},Dn=et.lineOffsetX*cn,Bn=et.lineOffsetY*cn,Nn=Mn(cn,ut,Dn,Bn,!1,Fn,Xr,et,K,Qt,In),Wn=!1,Zn=!1,ci=!0;if(Nn){for(var si=tr*.5*Br+mr,li=new i.Point(-qr,-qr),zi=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),la=new yn,yi=Nn.first,ki=Nn.last,Oi=[],Xi=yi.path.length-1;Xi>=1;Xi--)Oi.push(yi.path[Xi]);for(var Qi=1;Qi<ki.path.length;Qi++)Oi.push(ki.path[Qi]);var Ki=si*2.5;if(de){var Ni=Oi.map(function(Jo){return Rr(Jo,de)});Ni.some(function(Jo){return Jo.signedDistanceFromCamera<=0})?Oi=[]:Oi=Ni.map(function(Jo){return Jo.point})}var ia=[];if(Oi.length>0){for(var Ti=Oi[0].clone(),Bi=Oi[0].clone(),Aa=1;Aa<Oi.length;Aa++)Ti.x=Math.min(Ti.x,Oi[Aa].x),Ti.y=Math.min(Ti.y,Oi[Aa].y),Bi.x=Math.max(Bi.x,Oi[Aa].x),Bi.y=Math.max(Bi.y,Oi[Aa].y);Ti.x>=li.x&&Bi.x<=zi.x&&Ti.y>=li.y&&Bi.y<=zi.y?ia=[Oi]:Bi.x<li.x||Ti.x>zi.x||Bi.y<li.y||Ti.y>zi.y?ia=[]:ia=i.clipLine([Oi],li.x,li.y,zi.x,zi.y)}for(var ja=0,ws=ia;ja<ws.length;ja+=1){var Gs=ws[ja];la.reset(Gs,si*.25);var Vo=0;la.length<=.5*si?Vo=1:Vo=Math.ceil(la.paddedLength/Ki)+1;for(var dl=0;dl<Vo;dl++){var Bl=dl/Math.max(Vo-1,1),Mo=la.lerp(Bl),Zo=Mo.x+qr,ho=Mo.y+qr;Cr.push(Zo,ho,si,0);var jl=Zo-si,Uu=ho-si,Ko=Zo+si,cs=ho+si;if(ci=ci&&this.isOffscreen(jl,Uu,Ko,cs),Zn=Zn||this.isInsideGrid(jl,Uu,Ko,cs),!X&&this.grid.hitTestCircle(Zo,ho,si,sr)&&(Wn=!0,!Le))return{circles:[],offscreen:!1,collisionDetected:Wn}}}}return{circles:!Le&&Wn||!Zn?[]:Cr,offscreen:ci,collisionDetected:Wn}},Ur.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var et=[],K=1/0,ut=1/0,kt=-1/0,jt=-1/0,Qt=0,de=X;Qt<de.length;Qt+=1){var Le=de[Qt],He=new i.Point(Le.x+qr,Le.y+qr);K=Math.min(K,He.x),ut=Math.min(ut,He.y),kt=Math.max(kt,He.x),jt=Math.max(jt,He.y),et.push(He)}for(var sr=this.grid.query(K,ut,kt,jt).concat(this.ignoredGrid.query(K,ut,kt,jt)),tr={},mr={},Cr=0,Xr=sr;Cr<Xr.length;Cr+=1){var Nr=Xr[Cr],Br=Nr.key;if(tr[Br.bucketInstanceId]===void 0&&(tr[Br.bucketInstanceId]={}),!tr[Br.bucketInstanceId][Br.featureIndex]){var Kr=[new i.Point(Nr.x1,Nr.y1),new i.Point(Nr.x2,Nr.y1),new i.Point(Nr.x2,Nr.y2),new i.Point(Nr.x1,Nr.y2)];i.polygonIntersectsPolygon(et,Kr)&&(tr[Br.bucketInstanceId][Br.featureIndex]=!0,mr[Br.bucketInstanceId]===void 0&&(mr[Br.bucketInstanceId]=[]),mr[Br.bucketInstanceId].push(Br.featureIndex))}}return mr},Ur.prototype.insertCollisionBox=function(X,et,K,ut,kt){var jt=et?this.ignoredGrid:this.grid,Qt={bucketInstanceId:K,featureIndex:ut,collisionGroupID:kt};jt.insert(Qt,X[0],X[1],X[2],X[3])},Ur.prototype.insertCollisionCircles=function(X,et,K,ut,kt){for(var jt=et?this.ignoredGrid:this.grid,Qt={bucketInstanceId:K,featureIndex:ut,collisionGroupID:kt},de=0;de<X.length;de+=4)jt.insertCircle(Qt,X[de],X[de+1],X[de+2])},Ur.prototype.projectAndGetPerspectiveRatio=function(X,et,K){var ut=[et,K,0,1];ur(ut,ut,X);var kt=new i.Point((ut[0]/ut[3]+1)/2*this.transform.width+qr,(-ut[1]/ut[3]+1)/2*this.transform.height+qr);return{point:kt,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ut[3])}},Ur.prototype.isOffscreen=function(X,et,K,ut){return K<qr||X>=this.screenRightBoundary||ut<qr||et>this.screenBottomBoundary},Ur.prototype.isInsideGrid=function(X,et,K,ut){return K>=0&&X<this.gridRightBoundary&&ut>=0&&et<this.gridBottomBoundary},Ur.prototype.getViewportMatrix=function(){var X=i.identity([]);return i.translate(X,X,[-qr,-qr,0]),X};function nn(X,et,K){return et*(i.EXTENT/(X.tileSize*Math.pow(2,K-X.tileID.overscaledZ)))}var En=function(X,et,K,ut){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?et:-et))):this.opacity=ut&&K?1:0,this.placed=K};En.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var sn=function(X,et,K,ut,kt){this.text=new En(X?X.text:null,et,K,kt),this.icon=new En(X?X.icon:null,et,ut,kt)};sn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var An=function(X,et,K){this.text=X,this.icon=et,this.skipFade=K},Ln=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},qn=function(X,et,K,ut,kt){this.bucketInstanceId=X,this.featureIndex=et,this.sourceLayerIndex=K,this.bucketIndex=ut,this.tileID=kt},ii=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};ii.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var et=++this.maxGroupID;this.collisionGroups[X]={ID:et,predicate:function(K){return K.collisionGroupID===et}}}return this.collisionGroups[X]};function Li(X,et,K,ut,kt){var jt=i.getAnchorAlignment(X),Qt=jt.horizontalAlign,de=jt.verticalAlign,Le=-(Qt-.5)*et,He=-(de-.5)*K,sr=i.evaluateVariableOffset(X,ut);return new i.Point(Le+sr[0]*kt,He+sr[1]*kt)}function dr(X,et,K,ut,kt,jt){var Qt=X.x1,de=X.x2,Le=X.y1,He=X.y2,sr=X.anchorPointX,tr=X.anchorPointY,mr=new i.Point(et,K);return ut&&mr._rotate(kt?jt:-jt),{x1:Qt+mr.x,y1:Le+mr.y,x2:de+mr.x,y2:He+mr.y,anchorPointX:sr,anchorPointY:tr}}var Sr=function(X,et,K,ut){this.transform=X.clone(),this.collisionIndex=new Ur(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=et,this.retainedQueryData={},this.collisionGroups=new ii(K),this.collisionCircleArrays={},this.prevPlacement=ut,ut&&(ut.prevPlacement=void 0),this.placedOrientations={}};Sr.prototype.getBucketParts=function(X,et,K,ut){var kt=K.getBucket(et),jt=K.latestFeatureIndex;if(!(!kt||!jt||et.id!==kt.layerIds[0])){var Qt=K.collisionBoxArray,de=kt.layers[0].layout,Le=Math.pow(2,this.transform.zoom-K.tileID.overscaledZ),He=K.tileSize/i.EXTENT,sr=this.transform.calculatePosMatrix(K.tileID.toUnwrapped()),tr=de.get("text-pitch-alignment")==="map",mr=de.get("text-rotation-alignment")==="map",Cr=nn(K,1,this.transform.zoom),Xr=Lr(sr,tr,mr,this.transform,Cr),Nr=null;if(tr){var Br=Ir(sr,tr,mr,this.transform,Cr);Nr=i.multiply([],this.transform.labelPlaneMatrix,Br)}this.retainedQueryData[kt.bucketInstanceId]=new qn(kt.bucketInstanceId,jt,kt.sourceLayerIndex,kt.index,K.tileID);var Kr={bucket:kt,layout:de,posMatrix:sr,textLabelPlaneMatrix:Xr,labelToScreenMatrix:Nr,scale:Le,textPixelRatio:He,holdingForFade:K.holdingForFade(),collisionBoxArray:Qt,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(kt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(kt.sourceID)};if(ut)for(var cn=0,Fn=kt.sortKeyRanges;cn<Fn.length;cn+=1){var In=Fn[cn],Dn=In.sortKey,Bn=In.symbolInstanceStart,Nn=In.symbolInstanceEnd;X.push({sortKey:Dn,symbolInstanceStart:Bn,symbolInstanceEnd:Nn,parameters:Kr})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:kt.symbolInstances.length,parameters:Kr})}},Sr.prototype.attemptAnchorPlacement=function(X,et,K,ut,kt,jt,Qt,de,Le,He,sr,tr,mr,Cr,Xr){var Nr=[tr.textOffset0,tr.textOffset1],Br=Li(X,K,ut,Nr,kt),Kr=this.collisionIndex.placeCollisionBox(dr(et,Br.x,Br.y,jt,Qt,this.transform.angle),sr,de,Le,He.predicate);if(Xr){var cn=this.collisionIndex.placeCollisionBox(dr(Xr,Br.x,Br.y,jt,Qt,this.transform.angle),sr,de,Le,He.predicate);if(cn.box.length===0)return}if(Kr.box.length>0){var Fn;return this.prevPlacement&&this.prevPlacement.variableOffsets[tr.crossTileID]&&this.prevPlacement.placements[tr.crossTileID]&&this.prevPlacement.placements[tr.crossTileID].text&&(Fn=this.prevPlacement.variableOffsets[tr.crossTileID].anchor),this.variableOffsets[tr.crossTileID]={textOffset:Nr,width:K,height:ut,anchor:X,textBoxScale:kt,prevAnchor:Fn},this.markUsedJustification(mr,X,tr,Cr),mr.allowVerticalPlacement&&(this.markUsedOrientation(mr,Cr,tr),this.placedOrientations[tr.crossTileID]=Cr),{shift:Br,placedGlyphBoxes:Kr}}},Sr.prototype.placeLayerBucketPart=function(X,et,K){var ut=this,kt=X.parameters,jt=kt.bucket,Qt=kt.layout,de=kt.posMatrix,Le=kt.textLabelPlaneMatrix,He=kt.labelToScreenMatrix,sr=kt.textPixelRatio,tr=kt.holdingForFade,mr=kt.collisionBoxArray,Cr=kt.partiallyEvaluatedTextSize,Xr=kt.collisionGroup,Nr=Qt.get("text-optional"),Br=Qt.get("icon-optional"),Kr=Qt.get("text-allow-overlap"),cn=Qt.get("icon-allow-overlap"),Fn=Qt.get("text-rotation-alignment")==="map",In=Qt.get("text-pitch-alignment")==="map",Dn=Qt.get("icon-text-fit")!=="none",Bn=Qt.get("symbol-z-order")==="viewport-y",Nn=Kr&&(cn||!jt.hasIconData()||Br),Wn=cn&&(Kr||!jt.hasTextData()||Nr);!jt.collisionArrays&&mr&&jt.deserializeCollisionBoxes(mr);var Zn=function(yi,ki){if(!et[yi.crossTileID]){if(tr){ut.placements[yi.crossTileID]=new An(!1,!1,!1);return}var Oi=!1,Xi=!1,Qi=!0,Ki=null,Ni={box:null,offscreen:null},ia={box:null,offscreen:null},Ti=null,Bi=null,Aa=null,ja=0,ws=0,Gs=0;ki.textFeatureIndex?ja=ki.textFeatureIndex:yi.useRuntimeCollisionCircles&&(ja=yi.featureIndex),ki.verticalTextFeatureIndex&&(ws=ki.verticalTextFeatureIndex);var Vo=ki.textBox;if(Vo){var dl=function(Ta){var Do=i.WritingMode.horizontal;if(jt.allowVerticalPlacement&&!Ta&&ut.prevPlacement){var No=ut.prevPlacement.placedOrientations[yi.crossTileID];No&&(ut.placedOrientations[yi.crossTileID]=No,Do=No,ut.markUsedOrientation(jt,Do,yi))}return Do},Bl=function(Ta,Do){if(jt.allowVerticalPlacement&&yi.numVerticalGlyphVertices>0&&ki.verticalTextBox)for(var No=0,Oc=jt.writingModes;No<Oc.length;No+=1){var rf=Oc[No];if(rf===i.WritingMode.vertical?(Ni=Do(),ia=Ni):Ni=Ta(),Ni&&Ni.box&&Ni.box.length)break}else Ni=Ta()};if(Qt.get("text-variable-anchor")){var Mo=Qt.get("text-variable-anchor");if(ut.prevPlacement&&ut.prevPlacement.variableOffsets[yi.crossTileID]){var Zo=ut.prevPlacement.variableOffsets[yi.crossTileID];Mo.indexOf(Zo.anchor)>0&&(Mo=Mo.filter(function(Ta){return Ta!==Zo.anchor}),Mo.unshift(Zo.anchor))}var ho=function(Ta,Do,No){for(var Oc=Ta.x2-Ta.x1,rf=Ta.y2-Ta.y1,Zf=yi.textBoxScale,Kf=Dn&&!cn?Do:null,_c={box:[],offscreen:!1},Jf=Kr?Mo.length*2:Mo.length,Pc=0;Pc<Jf;++Pc){var $f=Mo[Pc%Mo.length],Qf=Pc>=Mo.length,nf=ut.attemptAnchorPlacement($f,Ta,Oc,rf,Zf,Fn,In,sr,de,Xr,Qf,yi,jt,No,Kf);if(nf&&(_c=nf.placedGlyphBoxes,_c&&_c.box&&_c.box.length)){Oi=!0,Ki=nf.shift;break}}return _c},jl=function(){return ho(Vo,ki.iconBox,i.WritingMode.horizontal)},Uu=function(){var Ta=ki.verticalTextBox,Do=Ni&&Ni.box&&Ni.box.length;return jt.allowVerticalPlacement&&!Do&&yi.numVerticalGlyphVertices>0&&Ta?ho(Ta,ki.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};Bl(jl,Uu),Ni&&(Oi=Ni.box,Qi=Ni.offscreen);var Ko=dl(Ni&&Ni.box);if(!Oi&&ut.prevPlacement){var cs=ut.prevPlacement.variableOffsets[yi.crossTileID];cs&&(ut.variableOffsets[yi.crossTileID]=cs,ut.markUsedJustification(jt,cs.anchor,yi,Ko))}}else{var Jo=function(Ta,Do){var No=ut.collisionIndex.placeCollisionBox(Ta,Kr,sr,de,Xr.predicate);return No&&No.box&&No.box.length&&(ut.markUsedOrientation(jt,Do,yi),ut.placedOrientations[yi.crossTileID]=Do),No},mc=function(){return Jo(Vo,i.WritingMode.horizontal)},Lc=function(){var Ta=ki.verticalTextBox;return jt.allowVerticalPlacement&&yi.numVerticalGlyphVertices>0&&Ta?Jo(Ta,i.WritingMode.vertical):{box:null,offscreen:null}};Bl(mc,Lc),dl(Ni&&Ni.box&&Ni.box.length)}}if(Ti=Ni,Oi=Ti&&Ti.box&&Ti.box.length>0,Qi=Ti&&Ti.offscreen,yi.useRuntimeCollisionCircles){var yc=jt.text.placedSymbolArray.get(yi.centerJustifiedTextSymbolIndex),no=i.evaluateSizeForFeature(jt.textSizeData,Cr,yc),Sc=Qt.get("text-padding"),xc=yi.collisionCircleDiameter;Bi=ut.collisionIndex.placeCollisionCircles(Kr,yc,jt.lineVertexArray,jt.glyphOffsetArray,no,de,Le,He,K,In,Xr.predicate,xc,Sc),Oi=Kr||Bi.circles.length>0&&!Bi.collisionDetected,Qi=Qi&&Bi.offscreen}if(ki.iconFeatureIndex&&(Gs=ki.iconFeatureIndex),ki.iconBox){var co=function(Ta){var Do=Dn&&Ki?dr(Ta,Ki.x,Ki.y,Fn,In,ut.transform.angle):Ta;return ut.collisionIndex.placeCollisionBox(Do,cn,sr,de,Xr.predicate)};ia&&ia.box&&ia.box.length&&ki.verticalIconBox?(Aa=co(ki.verticalIconBox),Xi=Aa.box.length>0):(Aa=co(ki.iconBox),Xi=Aa.box.length>0),Qi=Qi&&Aa.offscreen}var qu=Nr||yi.numHorizontalGlyphVertices===0&&yi.numVerticalGlyphVertices===0,Cc=Br||yi.numIconVertices===0;if(!qu&&!Cc?Xi=Oi=Xi&&Oi:Cc?qu||(Xi=Xi&&Oi):Oi=Xi&&Oi,Oi&&Ti&&Ti.box&&(ia&&ia.box&&ws?ut.collisionIndex.insertCollisionBox(Ti.box,Qt.get("text-ignore-placement"),jt.bucketInstanceId,ws,Xr.ID):ut.collisionIndex.insertCollisionBox(Ti.box,Qt.get("text-ignore-placement"),jt.bucketInstanceId,ja,Xr.ID)),Xi&&Aa&&ut.collisionIndex.insertCollisionBox(Aa.box,Qt.get("icon-ignore-placement"),jt.bucketInstanceId,Gs,Xr.ID),Bi&&(Oi&&ut.collisionIndex.insertCollisionCircles(Bi.circles,Qt.get("text-ignore-placement"),jt.bucketInstanceId,ja,Xr.ID),K)){var Rc=jt.bucketInstanceId,Ul=ut.collisionCircleArrays[Rc];Ul===void 0&&(Ul=ut.collisionCircleArrays[Rc]=new Ln);for(var bc=0;bc<Bi.circles.length;bc+=4)Ul.circles.push(Bi.circles[bc+0]),Ul.circles.push(Bi.circles[bc+1]),Ul.circles.push(Bi.circles[bc+2]),Ul.circles.push(Bi.collisionDetected?1:0)}ut.placements[yi.crossTileID]=new An(Oi||Nn,Xi||Wn,Qi||jt.justReloaded),et[yi.crossTileID]=!0}};if(Bn)for(var ci=jt.getSortedSymbolIndexes(this.transform.angle),si=ci.length-1;si>=0;--si){var li=ci[si];Zn(jt.symbolInstances.get(li),jt.collisionArrays[li])}else for(var zi=X.symbolInstanceStart;zi<X.symbolInstanceEnd;zi++)Zn(jt.symbolInstances.get(zi),jt.collisionArrays[zi]);if(K&&jt.bucketInstanceId in this.collisionCircleArrays){var la=this.collisionCircleArrays[jt.bucketInstanceId];i.invert(la.invProjMatrix,de),la.viewportMatrix=this.collisionIndex.getViewportMatrix()}jt.justReloaded=!1},Sr.prototype.markUsedJustification=function(X,et,K,ut){var kt={left:K.leftJustifiedTextSymbolIndex,center:K.centerJustifiedTextSymbolIndex,right:K.rightJustifiedTextSymbolIndex},jt;ut===i.WritingMode.vertical?jt=K.verticalPlacedTextSymbolIndex:jt=kt[i.getAnchorJustification(et)];for(var Qt=[K.leftJustifiedTextSymbolIndex,K.centerJustifiedTextSymbolIndex,K.rightJustifiedTextSymbolIndex,K.verticalPlacedTextSymbolIndex],de=0,Le=Qt;de<Le.length;de+=1){var He=Le[de];He>=0&&(jt>=0&&He!==jt?X.text.placedSymbolArray.get(He).crossTileID=0:X.text.placedSymbolArray.get(He).crossTileID=K.crossTileID)}},Sr.prototype.markUsedOrientation=function(X,et,K){for(var ut=et===i.WritingMode.horizontal||et===i.WritingMode.horizontalOnly?et:0,kt=et===i.WritingMode.vertical?et:0,jt=[K.leftJustifiedTextSymbolIndex,K.centerJustifiedTextSymbolIndex,K.rightJustifiedTextSymbolIndex],Qt=0,de=jt;Qt<de.length;Qt+=1){var Le=de[Qt];X.text.placedSymbolArray.get(Le).placedOrientation=ut}K.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(K.verticalPlacedTextSymbolIndex).placedOrientation=kt)},Sr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var et=this.prevPlacement,K=!1;this.prevZoomAdjustment=et?et.zoomAdjustment(this.transform.zoom):0;var ut=et?et.symbolFadeChange(X):1,kt=et?et.opacities:{},jt=et?et.variableOffsets:{},Qt=et?et.placedOrientations:{};for(var de in this.placements){var Le=this.placements[de],He=kt[de];He?(this.opacities[de]=new sn(He,ut,Le.text,Le.icon),K=K||Le.text!==He.text.placed||Le.icon!==He.icon.placed):(this.opacities[de]=new sn(null,ut,Le.text,Le.icon,Le.skipFade),K=K||Le.text||Le.icon)}for(var sr in kt){var tr=kt[sr];if(!this.opacities[sr]){var mr=new sn(tr,ut,!1,!1);mr.isHidden()||(this.opacities[sr]=mr,K=K||tr.text.placed||tr.icon.placed)}}for(var Cr in jt)!this.variableOffsets[Cr]&&this.opacities[Cr]&&!this.opacities[Cr].isHidden()&&(this.variableOffsets[Cr]=jt[Cr]);for(var Xr in Qt)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=Qt[Xr]);K?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=et?et.lastPlacementChangeTime:X)},Sr.prototype.updateLayerOpacities=function(X,et){for(var K={},ut=0,kt=et;ut<kt.length;ut+=1){var jt=kt[ut],Qt=jt.getBucket(X);Qt&&jt.latestFeatureIndex&&X.id===Qt.layerIds[0]&&this.updateBucketOpacities(Qt,K,jt.collisionBoxArray)}},Sr.prototype.updateBucketOpacities=function(X,et,K){var ut=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var kt=X.layers[0].layout,jt=new sn(null,0,!1,!1,!0),Qt=kt.get("text-allow-overlap"),de=kt.get("icon-allow-overlap"),Le=kt.get("text-variable-anchor"),He=kt.get("text-rotation-alignment")==="map",sr=kt.get("text-pitch-alignment")==="map",tr=kt.get("icon-text-fit")!=="none",mr=new sn(null,0,Qt&&(de||!X.hasIconData()||kt.get("icon-optional")),de&&(Qt||!X.hasTextData()||kt.get("text-optional")),!0);!X.collisionArrays&&K&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(K);for(var Cr=function(Kr,cn,Fn){for(var In=0;In<cn/4;In++)Kr.opacityVertexArray.emplaceBack(Fn)},Xr=function(Kr){var cn=X.symbolInstances.get(Kr),Fn=cn.numHorizontalGlyphVertices,In=cn.numVerticalGlyphVertices,Dn=cn.crossTileID,Bn=et[Dn],Nn=ut.opacities[Dn];Bn?Nn=jt:Nn||(Nn=mr,ut.opacities[Dn]=Nn),et[Dn]=!0;var Wn=Fn>0||In>0,Zn=cn.numIconVertices>0,ci=ut.placedOrientations[cn.crossTileID],si=ci===i.WritingMode.vertical,li=ci===i.WritingMode.horizontal||ci===i.WritingMode.horizontalOnly;if(Wn){var zi=Fr(Nn.text),la=si?Wr:zi;Cr(X.text,Fn,la);var yi=li?Wr:zi;Cr(X.text,In,yi);var ki=Nn.text.isHidden();[cn.rightJustifiedTextSymbolIndex,cn.centerJustifiedTextSymbolIndex,cn.leftJustifiedTextSymbolIndex].forEach(function(Gs){Gs>=0&&(X.text.placedSymbolArray.get(Gs).hidden=ki||si?1:0)}),cn.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(cn.verticalPlacedTextSymbolIndex).hidden=ki||li?1:0);var Oi=ut.variableOffsets[cn.crossTileID];Oi&&ut.markUsedJustification(X,Oi.anchor,cn,ci);var Xi=ut.placedOrientations[cn.crossTileID];Xi&&(ut.markUsedJustification(X,"left",cn,Xi),ut.markUsedOrientation(X,Xi,cn))}if(Zn){var Qi=Fr(Nn.icon),Ki=!(tr&&cn.verticalPlacedIconSymbolIndex&&si);if(cn.placedIconSymbolIndex>=0){var Ni=Ki?Qi:Wr;Cr(X.icon,cn.numIconVertices,Ni),X.icon.placedSymbolArray.get(cn.placedIconSymbolIndex).hidden=Nn.icon.isHidden()}if(cn.verticalPlacedIconSymbolIndex>=0){var ia=Ki?Wr:Qi;Cr(X.icon,cn.numVerticalIconVertices,ia),X.icon.placedSymbolArray.get(cn.verticalPlacedIconSymbolIndex).hidden=Nn.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var Ti=X.collisionArrays[Kr];if(Ti){var Bi=new i.Point(0,0);if(Ti.textBox||Ti.verticalTextBox){var Aa=!0;if(Le){var ja=ut.variableOffsets[Dn];ja?(Bi=Li(ja.anchor,ja.width,ja.height,ja.textOffset,ja.textBoxScale),He&&Bi._rotate(sr?ut.transform.angle:-ut.transform.angle)):Aa=!1}Ti.textBox&&gr(X.textCollisionBox.collisionVertexArray,Nn.text.placed,!Aa||si,Bi.x,Bi.y),Ti.verticalTextBox&&gr(X.textCollisionBox.collisionVertexArray,Nn.text.placed,!Aa||li,Bi.x,Bi.y)}var ws=!!(!li&&Ti.verticalIconBox);Ti.iconBox&&gr(X.iconCollisionBox.collisionVertexArray,Nn.icon.placed,ws,tr?Bi.x:0,tr?Bi.y:0),Ti.verticalIconBox&&gr(X.iconCollisionBox.collisionVertexArray,Nn.icon.placed,!ws,tr?Bi.x:0,tr?Bi.y:0)}}},Nr=0;Nr<X.symbolInstances.length;Nr++)Xr(Nr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var Br=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=Br.invProjMatrix,X.placementViewportMatrix=Br.viewportMatrix,X.collisionCircleArray=Br.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},Sr.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Sr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},Sr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},Sr.prototype.stillRecent=function(X,et){var K=this.zoomAtLastRecencyCheck===et?1-this.zoomAdjustment(et):1;return this.zoomAtLastRecencyCheck=et,this.commitTime+this.fadeDuration*K>X},Sr.prototype.setStale=function(){this.stale=!0};function gr(X,et,K,ut,kt){X.emplaceBack(et?1:0,K?1:0,ut||0,kt||0),X.emplaceBack(et?1:0,K?1:0,ut||0,kt||0),X.emplaceBack(et?1:0,K?1:0,ut||0,kt||0),X.emplaceBack(et?1:0,K?1:0,ut||0,kt||0)}var Pr=Math.pow(2,25),fn=Math.pow(2,24),wn=Math.pow(2,17),un=Math.pow(2,16),tn=Math.pow(2,9),xr=Math.pow(2,8),jr=Math.pow(2,1);function Fr(X){if(X.opacity===0&&!X.placed)return 0;if(X.opacity===1&&X.placed)return 4294967295;var et=X.placed?1:0,K=Math.floor(X.opacity*127);return K*Pr+et*fn+K*wn+et*un+K*tn+et*xr+K*jr+et}var Wr=0,mn=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};mn.prototype.continuePlacement=function(X,et,K,ut,kt){for(var jt=this._bucketParts;this._currentTileIndex<X.length;){var Qt=X[this._currentTileIndex];if(et.getBucketParts(jt,ut,Qt,this._sortAcrossTiles),this._currentTileIndex++,kt())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,jt.sort(function(Le,He){return Le.sortKey-He.sortKey}));this._currentPartIndex<jt.length;){var de=jt[this._currentPartIndex];if(et.placeLayerBucketPart(de,this._seenCrossTileIDs,K),this._currentPartIndex++,kt())return!0}return!1};var kn=function(X,et,K,ut,kt,jt,Qt){this.placement=new Sr(X,kt,jt,Qt),this._currentPlacementIndex=et.length-1,this._forceFullPlacement=K,this._showCollisionBoxes=ut,this._done=!1};kn.prototype.isDone=function(){return this._done},kn.prototype.continuePlacement=function(X,et,K){for(var ut=this,kt=i.browser.now(),jt=function(){var sr=i.browser.now()-kt;return ut._forceFullPlacement?!1:sr>2};this._currentPlacementIndex>=0;){var Qt=X[this._currentPlacementIndex],de=et[Qt],Le=this.placement.collisionIndex.transform.zoom;if(de.type==="symbol"&&(!de.minzoom||de.minzoom<=Le)&&(!de.maxzoom||de.maxzoom>Le)){this._inProgressLayer||(this._inProgressLayer=new mn(de));var He=this._inProgressLayer.continuePlacement(K[de.source],this.placement,this._showCollisionBoxes,de,jt);if(He)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},kn.prototype.commit=function(X){return this.placement.commit(X),this.placement};var xn=512/i.EXTENT/2,Rn=function(X,et,K){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=K;for(var ut=0;ut<et.length;ut++){var kt=et.get(ut),jt=kt.key;this.indexedSymbolInstances[jt]||(this.indexedSymbolInstances[jt]=[]),this.indexedSymbolInstances[jt].push({crossTileID:kt.crossTileID,coord:this.getScaledCoordinates(kt,X)})}};Rn.prototype.getScaledCoordinates=function(X,et){var K=et.canonical.z-this.tileID.canonical.z,ut=xn/Math.pow(2,K);return{x:Math.floor((et.canonical.x*i.EXTENT+X.anchorX)*ut),y:Math.floor((et.canonical.y*i.EXTENT+X.anchorY)*ut)}},Rn.prototype.findMatches=function(X,et,K){for(var ut=this.tileID.canonical.z<et.canonical.z?1:Math.pow(2,this.tileID.canonical.z-et.canonical.z),kt=0;kt<X.length;kt++){var jt=X.get(kt);if(!jt.crossTileID){var Qt=this.indexedSymbolInstances[jt.key];if(Qt)for(var de=this.getScaledCoordinates(jt,et),Le=0,He=Qt;Le<He.length;Le+=1){var sr=He[Le];if(Math.abs(sr.coord.x-de.x)<=ut&&Math.abs(sr.coord.y-de.y)<=ut&&!K[sr.crossTileID]){K[sr.crossTileID]=!0,jt.crossTileID=sr.crossTileID;break}}}}};var Sn=function(){this.maxCrossTileID=0};Sn.prototype.generate=function(){return++this.maxCrossTileID};var ri=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ri.prototype.handleWrapJump=function(X){var et=Math.round((X-this.lng)/360);if(et!==0)for(var K in this.indexes){var ut=this.indexes[K],kt={};for(var jt in ut){var Qt=ut[jt];Qt.tileID=Qt.tileID.unwrapTo(Qt.tileID.wrap+et),kt[Qt.tileID.key]=Qt}this.indexes[K]=kt}this.lng=X},ri.prototype.addBucket=function(X,et,K){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===et.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var ut=0;ut<et.symbolInstances.length;ut++){var kt=et.symbolInstances.get(ut);kt.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var jt=this.usedCrossTileIDs[X.overscaledZ];for(var Qt in this.indexes){var de=this.indexes[Qt];if(Number(Qt)>X.overscaledZ)for(var Le in de){var He=de[Le];He.tileID.isChildOf(X)&&He.findMatches(et.symbolInstances,X,jt)}else{var sr=X.scaledTo(Number(Qt)),tr=de[sr.key];tr&&tr.findMatches(et.symbolInstances,X,jt)}}for(var mr=0;mr<et.symbolInstances.length;mr++){var Cr=et.symbolInstances.get(mr);Cr.crossTileID||(Cr.crossTileID=K.generate(),jt[Cr.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Rn(X,et.symbolInstances,et.bucketInstanceId),!0},ri.prototype.removeBucketCrossTileIDs=function(X,et){for(var K in et.indexedSymbolInstances)for(var ut=0,kt=et.indexedSymbolInstances[K];ut<kt.length;ut+=1){var jt=kt[ut];delete this.usedCrossTileIDs[X][jt.crossTileID]}},ri.prototype.removeStaleBuckets=function(X){var et=!1;for(var K in this.indexes){var ut=this.indexes[K];for(var kt in ut)X[ut[kt].bucketInstanceId]||(this.removeBucketCrossTileIDs(K,ut[kt]),delete ut[kt],et=!0)}return et};var $n=function(){this.layerIndexes={},this.crossTileIDs=new Sn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};$n.prototype.addLayer=function(X,et,K){var ut=this.layerIndexes[X.id];ut===void 0&&(ut=this.layerIndexes[X.id]=new ri);var kt=!1,jt={};ut.handleWrapJump(K);for(var Qt=0,de=et;Qt<de.length;Qt+=1){var Le=de[Qt],He=Le.getBucket(X);!He||X.id!==He.layerIds[0]||(He.bucketInstanceId||(He.bucketInstanceId=++this.maxBucketInstanceId),ut.addBucket(Le.tileID,He,this.crossTileIDs)&&(kt=!0),jt[He.bucketInstanceId]=!0)}return ut.removeStaleBuckets(jt)&&(kt=!0),kt},$n.prototype.pruneUnusedLayers=function(X){var et={};X.forEach(function(ut){et[ut]=!0});for(var K in this.layerIndexes)et[K]||delete this.layerIndexes[K]};var oi=function(X,et){return i.emitValidationErrors(X,et&&et.filter(function(K){return K.identifier!=="source.canvas"}))},_i=i.pick(Pe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ta=i.pick(Pe,["setCenter","setZoom","setBearing","setPitch"]),Gi=Ve(),oo=function(X){function et(K,ut){var kt=this;ut===void 0&&(ut={}),X.call(this),this.map=K,this.dispatcher=new O(Me(),this),this.imageManager=new _,this.imageManager.setEventedParent(this),this.glyphManager=new C(K._requestManager,ut.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new $n,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var jt=this;this._rtlTextPluginCallback=et.registerForPluginStateChange(function(Qt){var de={pluginStatus:Qt.pluginStatus,pluginURL:Qt.pluginURL};jt.dispatcher.broadcast("syncRTLPluginState",de,function(Le,He){if(i.triggerPluginCompletionEvent(Le),He){var sr=He.every(function(mr){return mr});if(sr)for(var tr in jt.sourceCaches)jt.sourceCaches[tr].reload()}})}),this.on("data",function(Qt){if(!(Qt.dataType!=="source"||Qt.sourceDataType!=="metadata")){var de=kt.sourceCaches[Qt.sourceId];if(de){var Le=de.getSource();if(!(!Le||!Le.vectorLayerIds))for(var He in kt._layers){var sr=kt._layers[He];sr.source===Le.id&&kt._validateLayer(sr)}}}})}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.loadURL=function(K,ut){var kt=this;ut===void 0&&(ut={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var jt=typeof ut.validate=="boolean"?ut.validate:!i.isMapboxURL(K);K=this.map._requestManager.normalizeStyleURL(K,ut.accessToken);var Qt=this.map._requestManager.transformRequest(K,i.ResourceType.Style);this._request=i.getJSON(Qt,function(de,Le){kt._request=null,de?kt.fire(new i.ErrorEvent(de)):Le&&kt._load(Le,jt)})},et.prototype.loadJSON=function(K,ut){var kt=this;ut===void 0&&(ut={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){kt._request=null,kt._load(K,ut.validate!==!1)})},et.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(Gi,!1)},et.prototype._load=function(K,ut){if(!(ut&&oi(this,i.validateStyle(K)))){this._loaded=!0,this.stylesheet=K;for(var kt in K.sources)this.addSource(kt,K.sources[kt],{validate:!1});K.sprite?this._loadSprite(K.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(K.glyphs);var jt=Je(this.stylesheet.layers);this._order=jt.map(function(He){return He.id}),this._layers={},this._serializedLayers={};for(var Qt=0,de=jt;Qt<de.length;Qt+=1){var Le=de[Qt];Le=i.createStyleLayer(Le),Le.setEventedParent(this,{layer:{id:Le.id}}),this._layers[Le.id]=Le,this._serializedLayers[Le.id]=Le.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},et.prototype._loadSprite=function(K){var ut=this;this._spriteRequest=f(K,this.map._requestManager,function(kt,jt){if(ut._spriteRequest=null,kt)ut.fire(new i.ErrorEvent(kt));else if(jt)for(var Qt in jt)ut.imageManager.addImage(Qt,jt[Qt]);ut.imageManager.setLoaded(!0),ut._availableImages=ut.imageManager.listImages(),ut.dispatcher.broadcast("setImages",ut._availableImages),ut.fire(new i.Event("data",{dataType:"style"}))})},et.prototype._validateLayer=function(K){var ut=this.sourceCaches[K.source];if(ut){var kt=K.sourceLayer;if(kt){var jt=ut.getSource();(jt.type==="geojson"||jt.vectorLayerIds&&jt.vectorLayerIds.indexOf(kt)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+kt+'" does not exist on source "'+jt.id+'" as specified by style layer "'+K.id+'"')))}}},et.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var K in this.sourceCaches)if(!this.sourceCaches[K].loaded())return!1;return!!this.imageManager.isLoaded()},et.prototype._serializeLayers=function(K){for(var ut=[],kt=0,jt=K;kt<jt.length;kt+=1){var Qt=jt[kt],de=this._layers[Qt];de.type!=="custom"&&ut.push(de.serialize())}return ut},et.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var K in this.sourceCaches)if(this.sourceCaches[K].hasTransition())return!0;for(var ut in this._layers)if(this._layers[ut].hasTransition())return!0;return!1},et.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},et.prototype.update=function(K){if(this._loaded){var ut=this._changed;if(this._changed){var kt=Object.keys(this._updatedLayers),jt=Object.keys(this._removedLayers);(kt.length||jt.length)&&this._updateWorkerLayers(kt,jt);for(var Qt in this._updatedSources){var de=this._updatedSources[Qt];de==="reload"?this._reloadSource(Qt):de==="clear"&&this._clearSource(Qt)}this._updateTilesForChangedImages();for(var Le in this._updatedPaintProps)this._layers[Le].updateTransitions(K);this.light.updateTransitions(K),this._resetUpdates()}var He={};for(var sr in this.sourceCaches){var tr=this.sourceCaches[sr];He[sr]=tr.used,tr.used=!1}for(var mr=0,Cr=this._order;mr<Cr.length;mr+=1){var Xr=Cr[mr],Nr=this._layers[Xr];Nr.recalculate(K,this._availableImages),!Nr.isHidden(K.zoom)&&Nr.source&&(this.sourceCaches[Nr.source].used=!0)}for(var Br in He){var Kr=this.sourceCaches[Br];He[Br]!==Kr.used&&Kr.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Br}))}this.light.recalculate(K),this.z=K.zoom,ut&&this.fire(new i.Event("data",{dataType:"style"}))}},et.prototype._updateTilesForChangedImages=function(){var K=Object.keys(this._changedImages);if(K.length){for(var ut in this.sourceCaches)this.sourceCaches[ut].reloadTilesForDependencies(["icons","patterns"],K);this._changedImages={}}},et.prototype._updateWorkerLayers=function(K,ut){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(K),removedIds:ut})},et.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},et.prototype.setState=function(K){var ut=this;if(this._checkLoaded(),oi(this,i.validateStyle(K)))return!1;K=i.clone$1(K),K.layers=Je(K.layers);var kt=vn(this.serialize(),K).filter(function(Qt){return!(Qt.command in ta)});if(kt.length===0)return!1;var jt=kt.filter(function(Qt){return!(Qt.command in _i)});if(jt.length>0)throw new Error("Unimplemented: "+jt.map(function(Qt){return Qt.command}).join(", ")+".");return kt.forEach(function(Qt){Qt.command!=="setTransition"&&ut[Qt.command].apply(ut,Qt.args)}),this.stylesheet=K,!0},et.prototype.addImage=function(K,ut){if(this.getImage(K))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(K,ut),this._afterImageUpdated(K)},et.prototype.updateImage=function(K,ut){this.imageManager.updateImage(K,ut)},et.prototype.getImage=function(K){return this.imageManager.getImage(K)},et.prototype.removeImage=function(K){if(!this.getImage(K))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(K),this._afterImageUpdated(K)},et.prototype._afterImageUpdated=function(K){this._availableImages=this.imageManager.listImages(),this._changedImages[K]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},et.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},et.prototype.addSource=function(K,ut,kt){var jt=this;if(kt===void 0&&(kt={}),this._checkLoaded(),this.sourceCaches[K]!==void 0)throw new Error("There is already a source with this ID");if(!ut.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ut).join(", ")+".");var Qt=["vector","raster","geojson","video","image"],de=Qt.indexOf(ut.type)>=0;if(!(de&&this._validate(i.validateStyle.source,"sources."+K,ut,null,kt))){this.map&&this.map._collectResourceTiming&&(ut.collectResourceTiming=!0);var Le=this.sourceCaches[K]=new Re(K,ut,this.dispatcher);Le.style=this,Le.setEventedParent(this,function(){return{isSourceLoaded:jt.loaded(),source:Le.serialize(),sourceId:K}}),Le.onAdd(this.map),this._changed=!0}},et.prototype.removeSource=function(K){if(this._checkLoaded(),this.sourceCaches[K]===void 0)throw new Error("There is no source with this ID");for(var ut in this._layers)if(this._layers[ut].source===K)return this.fire(new i.ErrorEvent(new Error('Source "'+K+'" cannot be removed while layer "'+ut+'" is using it.')));var kt=this.sourceCaches[K];delete this.sourceCaches[K],delete this._updatedSources[K],kt.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:K})),kt.setEventedParent(null),kt.clearTiles(),kt.onRemove&&kt.onRemove(this.map),this._changed=!0},et.prototype.setGeoJSONSourceData=function(K,ut){this._checkLoaded();var kt=this.sourceCaches[K].getSource();kt.setData(ut),this._changed=!0},et.prototype.getSource=function(K){return this.sourceCaches[K]&&this.sourceCaches[K].getSource()},et.prototype.addLayer=function(K,ut,kt){kt===void 0&&(kt={}),this._checkLoaded();var jt=K.id;if(this.getLayer(jt)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+jt+'" already exists on this map')));return}var Qt;if(K.type==="custom"){if(oi(this,i.validateCustomStyleLayer(K)))return;Qt=i.createStyleLayer(K)}else{if(typeof K.source=="object"&&(this.addSource(jt,K.source),K=i.clone$1(K),K=i.extend(K,{source:jt})),this._validate(i.validateStyle.layer,"layers."+jt,K,{arrayIndex:-1},kt))return;Qt=i.createStyleLayer(K),this._validateLayer(Qt),Qt.setEventedParent(this,{layer:{id:jt}}),this._serializedLayers[Qt.id]=Qt.serialize()}var de=ut?this._order.indexOf(ut):this._order.length;if(ut&&de===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ut+'" does not exist on this map.')));return}if(this._order.splice(de,0,jt),this._layerOrderChanged=!0,this._layers[jt]=Qt,this._removedLayers[jt]&&Qt.source&&Qt.type!=="custom"){var Le=this._removedLayers[jt];delete this._removedLayers[jt],Le.type!==Qt.type?this._updatedSources[Qt.source]="clear":(this._updatedSources[Qt.source]="reload",this.sourceCaches[Qt.source].pause())}this._updateLayer(Qt),Qt.onAdd&&Qt.onAdd(this.map)},et.prototype.moveLayer=function(K,ut){this._checkLoaded(),this._changed=!0;var kt=this._layers[K];if(!kt){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style and cannot be moved.")));return}if(K!==ut){var jt=this._order.indexOf(K);this._order.splice(jt,1);var Qt=ut?this._order.indexOf(ut):this._order.length;if(ut&&Qt===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ut+'" does not exist on this map.')));return}this._order.splice(Qt,0,K),this._layerOrderChanged=!0}},et.prototype.removeLayer=function(K){this._checkLoaded();var ut=this._layers[K];if(!ut){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style and cannot be removed.")));return}ut.setEventedParent(null);var kt=this._order.indexOf(K);this._order.splice(kt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[K]=ut,delete this._layers[K],delete this._serializedLayers[K],delete this._updatedLayers[K],delete this._updatedPaintProps[K],ut.onRemove&&ut.onRemove(this.map)},et.prototype.getLayer=function(K){return this._layers[K]},et.prototype.hasLayer=function(K){return K in this._layers},et.prototype.setLayerZoomRange=function(K,ut,kt){this._checkLoaded();var jt=this.getLayer(K);if(!jt){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style and cannot have zoom extent.")));return}jt.minzoom===ut&&jt.maxzoom===kt||(ut!=null&&(jt.minzoom=ut),kt!=null&&(jt.maxzoom=kt),this._updateLayer(jt))},et.prototype.setFilter=function(K,ut,kt){kt===void 0&&(kt={}),this._checkLoaded();var jt=this.getLayer(K);if(!jt){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(jt.filter,ut)){if(ut==null){jt.filter=void 0,this._updateLayer(jt);return}this._validate(i.validateStyle.filter,"layers."+jt.id+".filter",ut,null,kt)||(jt.filter=i.clone$1(ut),this._updateLayer(jt))}},et.prototype.getFilter=function(K){return i.clone$1(this.getLayer(K).filter)},et.prototype.setLayoutProperty=function(K,ut,kt,jt){jt===void 0&&(jt={}),this._checkLoaded();var Qt=this.getLayer(K);if(!Qt){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(Qt.getLayoutProperty(ut),kt)||(Qt.setLayoutProperty(ut,kt,jt),this._updateLayer(Qt))},et.prototype.getLayoutProperty=function(K,ut){var kt=this.getLayer(K);if(!kt){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style.")));return}return kt.getLayoutProperty(ut)},et.prototype.setPaintProperty=function(K,ut,kt,jt){jt===void 0&&(jt={}),this._checkLoaded();var Qt=this.getLayer(K);if(!Qt){this.fire(new i.ErrorEvent(new Error("The layer '"+K+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(Qt.getPaintProperty(ut),kt)){var de=Qt.setPaintProperty(ut,kt,jt);de&&this._updateLayer(Qt),this._changed=!0,this._updatedPaintProps[K]=!0}},et.prototype.getPaintProperty=function(K,ut){return this.getLayer(K).getPaintProperty(ut)},et.prototype.setFeatureState=function(K,ut){this._checkLoaded();var kt=K.source,jt=K.sourceLayer,Qt=this.sourceCaches[kt];if(Qt===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+kt+"' does not exist in the map's style.")));return}var de=Qt.getSource().type;if(de==="geojson"&&jt){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(de==="vector"&&!jt){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}K.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Qt.setFeatureState(jt,K.id,ut)},et.prototype.removeFeatureState=function(K,ut){this._checkLoaded();var kt=K.source,jt=this.sourceCaches[kt];if(jt===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+kt+"' does not exist in the map's style.")));return}var Qt=jt.getSource().type,de=Qt==="vector"?K.sourceLayer:void 0;if(Qt==="vector"&&!de){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ut&&typeof K.id!="string"&&typeof K.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}jt.removeFeatureState(de,K.id,ut)},et.prototype.getFeatureState=function(K){this._checkLoaded();var ut=K.source,kt=K.sourceLayer,jt=this.sourceCaches[ut];if(jt===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ut+"' does not exist in the map's style.")));return}var Qt=jt.getSource().type;if(Qt==="vector"&&!kt){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return K.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),jt.getFeatureState(kt,K.id)},et.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},et.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(K){return K.serialize()}),layers:this._serializeLayers(this._order)},function(K){return K!==void 0})},et.prototype._updateLayer=function(K){this._updatedLayers[K.id]=!0,K.source&&!this._updatedSources[K.source]&&this.sourceCaches[K.source].getSource().type!=="raster"&&(this._updatedSources[K.source]="reload",this.sourceCaches[K.source].pause()),this._changed=!0},et.prototype._flattenAndSortRenderedFeatures=function(K){for(var ut=this,kt=function(li){return ut._layers[li].type==="fill-extrusion"},jt={},Qt=[],de=this._order.length-1;de>=0;de--){var Le=this._order[de];if(kt(Le)){jt[Le]=de;for(var He=0,sr=K;He<sr.length;He+=1){var tr=sr[He],mr=tr[Le];if(mr)for(var Cr=0,Xr=mr;Cr<Xr.length;Cr+=1){var Nr=Xr[Cr];Qt.push(Nr)}}}}Qt.sort(function(li,zi){return zi.intersectionZ-li.intersectionZ});for(var Br=[],Kr=this._order.length-1;Kr>=0;Kr--){var cn=this._order[Kr];if(kt(cn))for(var Fn=Qt.length-1;Fn>=0;Fn--){var In=Qt[Fn].feature;if(jt[In.layer.id]<Kr)break;Br.push(In),Qt.pop()}else for(var Dn=0,Bn=K;Dn<Bn.length;Dn+=1){var Nn=Bn[Dn],Wn=Nn[cn];if(Wn)for(var Zn=0,ci=Wn;Zn<ci.length;Zn+=1){var si=ci[Zn];Br.push(si.feature)}}}return Br},et.prototype.queryRenderedFeatures=function(K,ut,kt){ut&&ut.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",ut.filter,null,ut);var jt={};if(ut&&ut.layers){if(!Array.isArray(ut.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var Qt=0,de=ut.layers;Qt<de.length;Qt+=1){var Le=de[Qt],He=this._layers[Le];if(!He)return this.fire(new i.ErrorEvent(new Error("The layer '"+Le+"' does not exist in the map's style and cannot be queried for features."))),[];jt[He.source]=!0}}var sr=[];ut.availableImages=this._availableImages;for(var tr in this.sourceCaches)ut.layers&&!jt[tr]||sr.push(W(this.sourceCaches[tr],this._layers,this._serializedLayers,K,ut,kt));return this.placement&&sr.push(H(this._layers,this._serializedLayers,this.sourceCaches,K,ut,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(sr)},et.prototype.querySourceFeatures=function(K,ut){ut&&ut.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",ut.filter,null,ut);var kt=this.sourceCaches[K];return kt?at(kt,ut):[]},et.prototype.addSourceType=function(K,ut,kt){if(et.getSourceType(K))return kt(new Error('A source type called "'+K+'" already exists.'));if(et.setSourceType(K,ut),!ut.workerSourceURL)return kt(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:K,url:ut.workerSourceURL},kt)},et.prototype.getLight=function(){return this.light.getLight()},et.prototype.setLight=function(K,ut){ut===void 0&&(ut={}),this._checkLoaded();var kt=this.light.getLight(),jt=!1;for(var Qt in K)if(!i.deepEqual(K[Qt],kt[Qt])){jt=!0;break}if(jt){var de={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(K,ut),this.light.updateTransitions(de)}},et.prototype._validate=function(K,ut,kt,jt,Qt){return Qt===void 0&&(Qt={}),Qt&&Qt.validate===!1?!1:oi(this,K.call(i.validateStyle,i.extend({key:ut,style:this.serialize(),value:kt,styleSpec:i.styleSpec},jt)))},et.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var K in this._layers){var ut=this._layers[K];ut.setEventedParent(null)}for(var kt in this.sourceCaches)this.sourceCaches[kt].clearTiles(),this.sourceCaches[kt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},et.prototype._clearSource=function(K){this.sourceCaches[K].clearTiles()},et.prototype._reloadSource=function(K){this.sourceCaches[K].resume(),this.sourceCaches[K].reload()},et.prototype._updateSources=function(K){for(var ut in this.sourceCaches)this.sourceCaches[ut].update(K)},et.prototype._generateCollisionBoxes=function(){for(var K in this.sourceCaches)this._reloadSource(K)},et.prototype._updatePlacement=function(K,ut,kt,jt,Qt){Qt===void 0&&(Qt=!1);for(var de=!1,Le=!1,He={},sr=0,tr=this._order;sr<tr.length;sr+=1){var mr=tr[sr],Cr=this._layers[mr];if(Cr.type==="symbol"){if(!He[Cr.source]){var Xr=this.sourceCaches[Cr.source];He[Cr.source]=Xr.getRenderableIds(!0).map(function(Dn){return Xr.getTileByID(Dn)}).sort(function(Dn,Bn){return Bn.tileID.overscaledZ-Dn.tileID.overscaledZ||(Dn.tileID.isLessThan(Bn.tileID)?-1:1)})}var Nr=this.crossTileSymbolIndex.addLayer(Cr,He[Cr.source],K.center.lng);de=de||Nr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),Qt=Qt||this._layerOrderChanged||kt===0,(Qt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),K.zoom))&&(this.pauseablePlacement=new kn(K,this._order,Qt,ut,kt,jt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,He),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Le=!0),de&&this.pauseablePlacement.placement.setStale()),Le||de)for(var Br=0,Kr=this._order;Br<Kr.length;Br+=1){var cn=Kr[Br],Fn=this._layers[cn];Fn.type==="symbol"&&this.placement.updateLayerOpacities(Fn,He[Fn.source])}var In=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return In},et.prototype._releaseSymbolFadeTiles=function(){for(var K in this.sourceCaches)this.sourceCaches[K].releaseSymbolFadeTiles()},et.prototype.getImages=function(K,ut,kt){this.imageManager.getImages(ut.icons,kt),this._updateTilesForChangedImages();var jt=this.sourceCaches[ut.source];jt&&jt.setDependencies(ut.tileID.key,ut.type,ut.icons)},et.prototype.getGlyphs=function(K,ut,kt){this.glyphManager.getGlyphs(ut.stacks,kt)},et.prototype.getResource=function(K,ut,kt){return i.makeRequest(ut,kt)},et}(i.Evented);oo.getSourceType=$,oo.setSourceType=G,oo.registerForPluginStateChange=i.registerForPluginStateChange;var $a=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),za=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Ts=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Yl=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,du="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",qi=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ws="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Gl=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sa=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Va="void main() {gl_FragColor=vec4(1.0);}",ks="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",bl=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ma=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Ms=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ba="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",ka="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Es="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Ia="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Fa="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",so="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",vu="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Qa=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ku=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Ro=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ca=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Hl=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ts=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Oo=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wl=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,gu=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ju=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,_l=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$u=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Qu=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Xl=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ec="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",rc=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mu=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,yu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ps=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Ls=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xs=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Vs=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,jo=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",wl=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,_u=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Al=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,yo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ss=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ds=ea(za,Ts),Zs=ea(Yl,du),es=ea(qi,Ws),Po=ea(Gl,Sa),Vl=ea(Va,ks),Cs=ea(bl,ma),xo=ea(Ms,ba),va=ea(ka,Es),Zl=ea(Ia,Fa),ic=ea(so,vu),Tl=ea(Qa,Ku),Rs=ea(Ro,Ca),Os=ea(Hl,ts),to=ea(Oo,Wl),kl=ea(gu,Ju),Ps=ea(_l,$u),Ml=ea(Qu,tc),ac=ea(Xl,ec),wu=ea(rc,mu),Kl=ea(yu,ps),Jl=ea(Ls,Xs),$l=ea(Vs,xu),zs=ea(jo,nc),El=ea(wl,bu),Ks=ea(_u,Al),Ll=ea(yo,Ss);function ea(X,et){var K=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ut=et.match(/attribute ([\w]+) ([\w]+)/g),kt=X.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),jt=et.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Qt=jt?jt.concat(kt):kt,de={};return X=X.replace(K,function(Le,He,sr,tr,mr){return de[mr]=!0,He==="define"?`
#ifndef HAS_UNIFORM_u_`+mr+`
varying `+sr+" "+tr+" "+mr+`;
#else
uniform `+sr+" "+tr+" u_"+mr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+mr+`
    `+sr+" "+tr+" "+mr+" = u_"+mr+`;
#endif
`}),et=et.replace(K,function(Le,He,sr,tr,mr){var Cr=tr==="float"?"vec2":"vec4",Xr=mr.match(/color/)?"color":Cr;return de[mr]?He==="define"?`
#ifndef HAS_UNIFORM_u_`+mr+`
uniform lowp float u_`+mr+`_t;
attribute `+sr+" "+Cr+" a_"+mr+`;
varying `+sr+" "+tr+" "+mr+`;
#else
uniform `+sr+" "+tr+" u_"+mr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+mr+`
    `+mr+" = a_"+mr+`;
#else
    `+sr+" "+tr+" "+mr+" = u_"+mr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+mr+`
    `+mr+" = unpack_mix_"+Xr+"(a_"+mr+", u_"+mr+`_t);
#else
    `+sr+" "+tr+" "+mr+" = u_"+mr+`;
#endif
`:He==="define"?`
#ifndef HAS_UNIFORM_u_`+mr+`
uniform lowp float u_`+mr+`_t;
attribute `+sr+" "+Cr+" a_"+mr+`;
#else
uniform `+sr+" "+tr+" u_"+mr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+mr+`
    `+sr+" "+tr+" "+mr+" = a_"+mr+`;
#else
    `+sr+" "+tr+" "+mr+" = u_"+mr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+mr+`
    `+sr+" "+tr+" "+mr+" = unpack_mix_"+Xr+"(a_"+mr+", u_"+mr+`_t);
#else
    `+sr+" "+tr+" "+mr+" = u_"+mr+`;
#endif
`}),{fragmentSource:X,vertexSource:et,staticAttributes:ut,staticUniforms:Qt}}var Au=Object.freeze({__proto__:null,prelude:ds,background:Zs,backgroundPattern:es,circle:Po,clippingMask:Vl,heatmap:Cs,heatmapTexture:xo,collisionBox:va,collisionCircle:Zl,debug:ic,fill:Tl,fillOutline:Rs,fillOutlinePattern:Os,fillPattern:to,fillExtrusion:kl,fillExtrusionPattern:Ps,hillshadePrepare:Ml,hillshade:ac,line:wu,lineGradient:Kl,linePattern:Jl,lineSDF:$l,raster:zs,symbolIcon:El,symbolSDF:Ks,symbolTextAndIcon:Ll}),bo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};bo.prototype.bind=function(X,et,K,ut,kt,jt,Qt,de){this.context=X;for(var Le=this.boundPaintVertexBuffers.length!==ut.length,He=0;!Le&&He<ut.length;He++)this.boundPaintVertexBuffers[He]!==ut[He]&&(Le=!0);var sr=!this.vao||this.boundProgram!==et||this.boundLayoutVertexBuffer!==K||Le||this.boundIndexBuffer!==kt||this.boundVertexOffset!==jt||this.boundDynamicVertexBuffer!==Qt||this.boundDynamicVertexBuffer2!==de;!X.extVertexArrayObject||sr?this.freshBind(et,K,ut,kt,jt,Qt,de):(X.bindVertexArrayOES.set(this.vao),Qt&&Qt.bind(),kt&&kt.dynamicDraw&&kt.bind(),de&&de.bind())},bo.prototype.freshBind=function(X,et,K,ut,kt,jt,Qt){var de,Le=X.numAttributes,He=this.context,sr=He.gl;if(He.extVertexArrayObject)this.vao&&this.destroy(),this.vao=He.extVertexArrayObject.createVertexArrayOES(),He.bindVertexArrayOES.set(this.vao),de=0,this.boundProgram=X,this.boundLayoutVertexBuffer=et,this.boundPaintVertexBuffers=K,this.boundIndexBuffer=ut,this.boundVertexOffset=kt,this.boundDynamicVertexBuffer=jt,this.boundDynamicVertexBuffer2=Qt;else{de=He.currentNumAttributes||0;for(var tr=Le;tr<de;tr++)sr.disableVertexAttribArray(tr)}et.enableAttributes(sr,X);for(var mr=0,Cr=K;mr<Cr.length;mr+=1){var Xr=Cr[mr];Xr.enableAttributes(sr,X)}jt&&jt.enableAttributes(sr,X),Qt&&Qt.enableAttributes(sr,X),et.bind(),et.setVertexAttribPointers(sr,X,kt);for(var Nr=0,Br=K;Nr<Br.length;Nr+=1){var Kr=Br[Nr];Kr.bind(),Kr.setVertexAttribPointers(sr,X,kt)}jt&&(jt.bind(),jt.setVertexAttribPointers(sr,X,kt)),ut&&ut.bind(),Qt&&(Qt.bind(),Qt.setVertexAttribPointers(sr,X,kt)),He.currentNumAttributes=Le},bo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Tu(X){for(var et=[],K=0;K<X.length;K++)if(X[K]!==null){var ut=X[K].split(" ");et.push(ut.pop())}return et}var Ql=function(X,et,K,ut,kt,jt){var Qt=X.gl;this.program=Qt.createProgram();for(var de=Tu(K.staticAttributes),Le=ut?ut.getBinderAttributes():[],He=de.concat(Le),sr=K.staticUniforms?Tu(K.staticUniforms):[],tr=ut?ut.getBinderUniforms():[],mr=sr.concat(tr),Cr=[],Xr=0,Nr=mr;Xr<Nr.length;Xr+=1){var Br=Nr[Xr];Cr.indexOf(Br)<0&&Cr.push(Br)}var Kr=ut?ut.defines():[];jt&&Kr.push("#define OVERDRAW_INSPECTOR;");var cn=Kr.concat(ds.fragmentSource,K.fragmentSource).join(`
`),Fn=Kr.concat(ds.vertexSource,K.vertexSource).join(`
`),In=Qt.createShader(Qt.FRAGMENT_SHADER);if(Qt.isContextLost()){this.failedToCreate=!0;return}Qt.shaderSource(In,cn),Qt.compileShader(In),Qt.attachShader(this.program,In);var Dn=Qt.createShader(Qt.VERTEX_SHADER);if(Qt.isContextLost()){this.failedToCreate=!0;return}Qt.shaderSource(Dn,Fn),Qt.compileShader(Dn),Qt.attachShader(this.program,Dn),this.attributes={};var Bn={};this.numAttributes=He.length;for(var Nn=0;Nn<this.numAttributes;Nn++)He[Nn]&&(Qt.bindAttribLocation(this.program,Nn,He[Nn]),this.attributes[He[Nn]]=Nn);Qt.linkProgram(this.program),Qt.deleteShader(Dn),Qt.deleteShader(In);for(var Wn=0;Wn<Cr.length;Wn++){var Zn=Cr[Wn];if(Zn&&!Bn[Zn]){var ci=Qt.getUniformLocation(this.program,Zn);ci&&(Bn[Zn]=ci)}}this.fixedUniforms=kt(X,Bn),this.binderUniforms=ut?ut.getUniforms(X,Bn):[]};Ql.prototype.draw=function(X,et,K,ut,kt,jt,Qt,de,Le,He,sr,tr,mr,Cr,Xr,Nr){var Br,Kr=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(K),X.setStencilMode(ut),X.setColorMode(kt),X.setCullFace(jt);for(var cn in this.fixedUniforms)this.fixedUniforms[cn].set(Qt[cn]);Cr&&Cr.setUniforms(X,this.binderUniforms,tr,{zoom:mr});for(var Fn=(Br={},Br[Kr.LINES]=2,Br[Kr.TRIANGLES]=3,Br[Kr.LINE_STRIP]=1,Br)[et],In=0,Dn=sr.get();In<Dn.length;In+=1){var Bn=Dn[In],Nn=Bn.vaos||(Bn.vaos={}),Wn=Nn[de]||(Nn[de]=new bo);Wn.bind(X,this,Le,Cr?Cr.getPaintVertexBuffers():[],He,Bn.vertexOffset,Xr,Nr),Kr.drawElements(et,Bn.primitiveLength*Fn,Kr.UNSIGNED_SHORT,Bn.primitiveOffset*Fn*2)}}};function vs(X,et,K){var ut=1/nn(K,1,et.transform.tileZoom),kt=Math.pow(2,K.tileID.overscaledZ),jt=K.tileSize*Math.pow(2,et.transform.tileZoom)/kt,Qt=jt*(K.tileID.canonical.x+K.tileID.wrap*kt),de=jt*K.tileID.canonical.y;return{u_image:0,u_texsize:K.imageAtlasTexture.size,u_scale:[ut,X.fromScale,X.toScale],u_fade:X.t,u_pixel_coord_upper:[Qt>>16,de>>16],u_pixel_coord_lower:[Qt&65535,de&65535]}}function rs(X,et,K,ut){var kt=K.imageManager.getPattern(X.from.toString()),jt=K.imageManager.getPattern(X.to.toString()),Qt=K.imageManager.getPixelSize(),de=Qt.width,Le=Qt.height,He=Math.pow(2,ut.tileID.overscaledZ),sr=ut.tileSize*Math.pow(2,K.transform.tileZoom)/He,tr=sr*(ut.tileID.canonical.x+ut.tileID.wrap*He),mr=sr*ut.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:kt.tl,u_pattern_br_a:kt.br,u_pattern_tl_b:jt.tl,u_pattern_br_b:jt.br,u_texsize:[de,Le],u_mix:et.t,u_pattern_size_a:kt.displaySize,u_pattern_size_b:jt.displaySize,u_scale_a:et.fromScale,u_scale_b:et.toScale,u_tile_units_to_pixels:1/nn(ut,1,K.transform.tileZoom),u_pixel_coord_upper:[tr>>16,mr>>16],u_pixel_coord_lower:[tr&65535,mr&65535]}}var Sl=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_lightpos:new i.Uniform3f(X,et.u_lightpos),u_lightintensity:new i.Uniform1f(X,et.u_lightintensity),u_lightcolor:new i.Uniform3f(X,et.u_lightcolor),u_vertical_gradient:new i.Uniform1f(X,et.u_vertical_gradient),u_opacity:new i.Uniform1f(X,et.u_opacity)}},ya=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_lightpos:new i.Uniform3f(X,et.u_lightpos),u_lightintensity:new i.Uniform1f(X,et.u_lightintensity),u_lightcolor:new i.Uniform3f(X,et.u_lightcolor),u_vertical_gradient:new i.Uniform1f(X,et.u_vertical_gradient),u_height_factor:new i.Uniform1f(X,et.u_height_factor),u_image:new i.Uniform1i(X,et.u_image),u_texsize:new i.Uniform2f(X,et.u_texsize),u_pixel_coord_upper:new i.Uniform2f(X,et.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(X,et.u_pixel_coord_lower),u_scale:new i.Uniform3f(X,et.u_scale),u_fade:new i.Uniform1f(X,et.u_fade),u_opacity:new i.Uniform1f(X,et.u_opacity)}},Js=function(X,et,K,ut){var kt=et.style.light,jt=kt.properties.get("position"),Qt=[jt.x,jt.y,jt.z],de=i.create$1();kt.properties.get("anchor")==="viewport"&&i.fromRotation(de,-et.transform.angle),i.transformMat3(Qt,Qt,de);var Le=kt.properties.get("color");return{u_matrix:X,u_lightpos:Qt,u_lightintensity:kt.properties.get("intensity"),u_lightcolor:[Le.r,Le.g,Le.b],u_vertical_gradient:+K,u_opacity:ut}},_o=function(X,et,K,ut,kt,jt,Qt){return i.extend(Js(X,et,K,ut),vs(jt,et,Qt),{u_height_factor:-Math.pow(2,kt.overscaledZ)/Qt.tileSize/8})},Uo=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix)}},gs=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_image:new i.Uniform1i(X,et.u_image),u_texsize:new i.Uniform2f(X,et.u_texsize),u_pixel_coord_upper:new i.Uniform2f(X,et.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(X,et.u_pixel_coord_lower),u_scale:new i.Uniform3f(X,et.u_scale),u_fade:new i.Uniform1f(X,et.u_fade)}},ns=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_world:new i.Uniform2f(X,et.u_world)}},wo=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_world:new i.Uniform2f(X,et.u_world),u_image:new i.Uniform1i(X,et.u_image),u_texsize:new i.Uniform2f(X,et.u_texsize),u_pixel_coord_upper:new i.Uniform2f(X,et.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(X,et.u_pixel_coord_lower),u_scale:new i.Uniform3f(X,et.u_scale),u_fade:new i.Uniform1f(X,et.u_fade)}},qo=function(X){return{u_matrix:X}},Ao=function(X,et,K,ut){return i.extend(qo(X),vs(K,et,ut))},fo=function(X,et){return{u_matrix:X,u_world:et}},$s=function(X,et,K,ut,kt){return i.extend(Ao(X,et,K,ut),{u_world:kt})},oc=function(X,et){return{u_camera_to_center_distance:new i.Uniform1f(X,et.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(X,et.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(X,et.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(X,et.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(X,et.u_matrix)}},sc=function(X,et,K,ut){var kt=X.transform,jt,Qt;if(ut.paint.get("circle-pitch-alignment")==="map"){var de=nn(K,1,kt.zoom);jt=!0,Qt=[de,de]}else jt=!1,Qt=kt.pixelsToGLUnits;return{u_camera_to_center_distance:kt.cameraToCenterDistance,u_scale_with_map:+(ut.paint.get("circle-pitch-scale")==="map"),u_matrix:X.translatePosMatrix(et.posMatrix,K,ut.paint.get("circle-translate"),ut.paint.get("circle-translate-anchor")),u_pitch_with_map:+jt,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Qt}},lc=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_camera_to_center_distance:new i.Uniform1f(X,et.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(X,et.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(X,et.u_extrude_scale),u_overscale_factor:new i.Uniform1f(X,et.u_overscale_factor)}},uc=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_inv_matrix:new i.UniformMatrix4f(X,et.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(X,et.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(X,et.u_viewport_size)}},tu=function(X,et,K){var ut=nn(K,1,et.zoom),kt=Math.pow(2,et.zoom-K.tileID.overscaledZ),jt=K.tileID.overscaleFactor();return{u_matrix:X,u_camera_to_center_distance:et.cameraToCenterDistance,u_pixels_to_tile_units:ut,u_extrude_scale:[et.pixelsToGLUnits[0]/(ut*kt),et.pixelsToGLUnits[1]/(ut*kt)],u_overscale_factor:jt}},ku=function(X,et,K){return{u_matrix:X,u_inv_matrix:et,u_camera_to_center_distance:K.cameraToCenterDistance,u_viewport_size:[K.width,K.height]}},Is=function(X,et){return{u_color:new i.UniformColor(X,et.u_color),u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_overlay:new i.Uniform1i(X,et.u_overlay),u_overlay_scale:new i.Uniform1f(X,et.u_overlay_scale)}},Ra=function(X,et,K){return K===void 0&&(K=1),{u_matrix:X,u_color:et,u_overlay:0,u_overlay_scale:K}},lo=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix)}},Fs=function(X){return{u_matrix:X}},Mu=function(X,et){return{u_extrude_scale:new i.Uniform1f(X,et.u_extrude_scale),u_intensity:new i.Uniform1f(X,et.u_intensity),u_matrix:new i.UniformMatrix4f(X,et.u_matrix)}},Qs=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_world:new i.Uniform2f(X,et.u_world),u_image:new i.Uniform1i(X,et.u_image),u_color_ramp:new i.Uniform1i(X,et.u_color_ramp),u_opacity:new i.Uniform1f(X,et.u_opacity)}},Yo=function(X,et,K,ut){return{u_matrix:X,u_extrude_scale:nn(et,1,K),u_intensity:ut}},cc=function(X,et,K,ut){var kt=i.create();i.ortho(kt,0,X.width,X.height,0,0,1);var jt=X.context.gl;return{u_matrix:kt,u_world:[jt.drawingBufferWidth,jt.drawingBufferHeight],u_image:K,u_color_ramp:ut,u_opacity:et.paint.get("heatmap-opacity")}},Eu=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_image:new i.Uniform1i(X,et.u_image),u_latrange:new i.Uniform2f(X,et.u_latrange),u_light:new i.Uniform2f(X,et.u_light),u_shadow:new i.UniformColor(X,et.u_shadow),u_highlight:new i.UniformColor(X,et.u_highlight),u_accent:new i.UniformColor(X,et.u_accent)}},Lu=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_image:new i.Uniform1i(X,et.u_image),u_dimension:new i.Uniform2f(X,et.u_dimension),u_zoom:new i.Uniform1f(X,et.u_zoom),u_unpack:new i.Uniform4f(X,et.u_unpack)}},eu=function(X,et,K){var ut=K.paint.get("hillshade-shadow-color"),kt=K.paint.get("hillshade-highlight-color"),jt=K.paint.get("hillshade-accent-color"),Qt=K.paint.get("hillshade-illumination-direction")*(Math.PI/180);K.paint.get("hillshade-illumination-anchor")==="viewport"&&(Qt-=X.transform.angle);var de=!X.options.moving;return{u_matrix:X.transform.calculatePosMatrix(et.tileID.toUnwrapped(),de),u_image:0,u_latrange:Za(X,et.tileID),u_light:[K.paint.get("hillshade-exaggeration"),Qt],u_shadow:ut,u_highlight:kt,u_accent:jt}},Su=function(X,et){var K=et.stride,ut=i.create();return i.ortho(ut,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(ut,ut,[0,-i.EXTENT,0]),{u_matrix:ut,u_image:1,u_dimension:[K,K],u_zoom:X.overscaledZ,u_unpack:et.getUnpackVector()}};function Za(X,et){var K=Math.pow(2,et.canonical.z),ut=et.canonical.y;return[new i.MercatorCoordinate(0,ut/K).toLngLat().lat,new i.MercatorCoordinate(0,(ut+1)/K).toLngLat().lat]}var To=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_ratio:new i.Uniform1f(X,et.u_ratio),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(X,et.u_units_to_pixels)}},is=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_ratio:new i.Uniform1f(X,et.u_ratio),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(X,et.u_units_to_pixels),u_image:new i.Uniform1i(X,et.u_image),u_image_height:new i.Uniform1f(X,et.u_image_height)}},Ds=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_texsize:new i.Uniform2f(X,et.u_texsize),u_ratio:new i.Uniform1f(X,et.u_ratio),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_image:new i.Uniform1i(X,et.u_image),u_units_to_pixels:new i.Uniform2f(X,et.u_units_to_pixels),u_scale:new i.Uniform3f(X,et.u_scale),u_fade:new i.Uniform1f(X,et.u_fade)}},Cl=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_ratio:new i.Uniform1f(X,et.u_ratio),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(X,et.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(X,et.u_patternscale_a),u_patternscale_b:new i.Uniform2f(X,et.u_patternscale_b),u_sdfgamma:new i.Uniform1f(X,et.u_sdfgamma),u_image:new i.Uniform1i(X,et.u_image),u_tex_y_a:new i.Uniform1f(X,et.u_tex_y_a),u_tex_y_b:new i.Uniform1f(X,et.u_tex_y_b),u_mix:new i.Uniform1f(X,et.u_mix)}},ms=function(X,et,K){var ut=X.transform;return{u_matrix:as(X,et,K),u_ratio:1/nn(et,1,ut.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/ut.pixelsToGLUnits[0],1/ut.pixelsToGLUnits[1]]}},ys=function(X,et,K,ut){return i.extend(ms(X,et,K),{u_image:0,u_image_height:ut})},Cu=function(X,et,K,ut){var kt=X.transform,jt=Ns(et,kt);return{u_matrix:as(X,et,K),u_texsize:et.imageAtlasTexture.size,u_ratio:1/nn(et,1,kt.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[jt,ut.fromScale,ut.toScale],u_fade:ut.t,u_units_to_pixels:[1/kt.pixelsToGLUnits[0],1/kt.pixelsToGLUnits[1]]}},Go=function(X,et,K,ut,kt){var jt=X.transform,Qt=X.lineAtlas,de=Ns(et,jt),Le=K.layout.get("line-cap")==="round",He=Qt.getDash(ut.from,Le),sr=Qt.getDash(ut.to,Le),tr=He.width*kt.fromScale,mr=sr.width*kt.toScale;return i.extend(ms(X,et,K),{u_patternscale_a:[de/tr,-He.height/2],u_patternscale_b:[de/mr,-sr.height/2],u_sdfgamma:Qt.width/(Math.min(tr,mr)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:He.y,u_tex_y_b:sr.y,u_mix:kt.t})};function Ns(X,et){return 1/nn(X,1,et.tileZoom)}function as(X,et,K){return X.translatePosMatrix(et.tileID.posMatrix,et,K.paint.get("line-translate"),K.paint.get("line-translate-anchor"))}var Ho=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_tl_parent:new i.Uniform2f(X,et.u_tl_parent),u_scale_parent:new i.Uniform1f(X,et.u_scale_parent),u_buffer_scale:new i.Uniform1f(X,et.u_buffer_scale),u_fade_t:new i.Uniform1f(X,et.u_fade_t),u_opacity:new i.Uniform1f(X,et.u_opacity),u_image0:new i.Uniform1i(X,et.u_image0),u_image1:new i.Uniform1i(X,et.u_image1),u_brightness_low:new i.Uniform1f(X,et.u_brightness_low),u_brightness_high:new i.Uniform1f(X,et.u_brightness_high),u_saturation_factor:new i.Uniform1f(X,et.u_saturation_factor),u_contrast_factor:new i.Uniform1f(X,et.u_contrast_factor),u_spin_weights:new i.Uniform3f(X,et.u_spin_weights)}},tl=function(X,et,K,ut,kt){return{u_matrix:X,u_tl_parent:et,u_scale_parent:K,u_buffer_scale:1,u_fade_t:ut.mix,u_opacity:ut.opacity*kt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:kt.paint.get("raster-brightness-min"),u_brightness_high:kt.paint.get("raster-brightness-max"),u_saturation_factor:js(kt.paint.get("raster-saturation")),u_contrast_factor:Ji(kt.paint.get("raster-contrast")),u_spin_weights:Bs(kt.paint.get("raster-hue-rotate"))}};function Bs(X){X*=Math.PI/180;var et=Math.sin(X),K=Math.cos(X);return[(2*K+1)/3,(-Math.sqrt(3)*et-K+1)/3,(Math.sqrt(3)*et-K+1)/3]}function Ji(X){return X>0?1/(1-X):1+X}function js(X){return X>0?1-1/(1.001-X):-X}var Rl=function(X,et){return{u_is_size_zoom_constant:new i.Uniform1i(X,et.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(X,et.u_is_size_feature_constant),u_size_t:new i.Uniform1f(X,et.u_size_t),u_size:new i.Uniform1f(X,et.u_size),u_camera_to_center_distance:new i.Uniform1f(X,et.u_camera_to_center_distance),u_pitch:new i.Uniform1f(X,et.u_pitch),u_rotate_symbol:new i.Uniform1i(X,et.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(X,et.u_aspect_ratio),u_fade_change:new i.Uniform1f(X,et.u_fade_change),u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(X,et.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(X,et.u_coord_matrix),u_is_text:new i.Uniform1i(X,et.u_is_text),u_pitch_with_map:new i.Uniform1i(X,et.u_pitch_with_map),u_texsize:new i.Uniform2f(X,et.u_texsize),u_texture:new i.Uniform1i(X,et.u_texture)}},Ru=function(X,et){return{u_is_size_zoom_constant:new i.Uniform1i(X,et.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(X,et.u_is_size_feature_constant),u_size_t:new i.Uniform1f(X,et.u_size_t),u_size:new i.Uniform1f(X,et.u_size),u_camera_to_center_distance:new i.Uniform1f(X,et.u_camera_to_center_distance),u_pitch:new i.Uniform1f(X,et.u_pitch),u_rotate_symbol:new i.Uniform1i(X,et.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(X,et.u_aspect_ratio),u_fade_change:new i.Uniform1f(X,et.u_fade_change),u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(X,et.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(X,et.u_coord_matrix),u_is_text:new i.Uniform1i(X,et.u_is_text),u_pitch_with_map:new i.Uniform1i(X,et.u_pitch_with_map),u_texsize:new i.Uniform2f(X,et.u_texsize),u_texture:new i.Uniform1i(X,et.u_texture),u_gamma_scale:new i.Uniform1f(X,et.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(X,et.u_is_halo)}},Us=function(X,et){return{u_is_size_zoom_constant:new i.Uniform1i(X,et.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(X,et.u_is_size_feature_constant),u_size_t:new i.Uniform1f(X,et.u_size_t),u_size:new i.Uniform1f(X,et.u_size),u_camera_to_center_distance:new i.Uniform1f(X,et.u_camera_to_center_distance),u_pitch:new i.Uniform1f(X,et.u_pitch),u_rotate_symbol:new i.Uniform1i(X,et.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(X,et.u_aspect_ratio),u_fade_change:new i.Uniform1f(X,et.u_fade_change),u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(X,et.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(X,et.u_coord_matrix),u_is_text:new i.Uniform1i(X,et.u_is_text),u_pitch_with_map:new i.Uniform1i(X,et.u_pitch_with_map),u_texsize:new i.Uniform2f(X,et.u_texsize),u_texsize_icon:new i.Uniform2f(X,et.u_texsize_icon),u_texture:new i.Uniform1i(X,et.u_texture),u_texture_icon:new i.Uniform1i(X,et.u_texture_icon),u_gamma_scale:new i.Uniform1f(X,et.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(X,et.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(X,et.u_is_halo)}},el=function(X,et,K,ut,kt,jt,Qt,de,Le,He){var sr=kt.transform;return{u_is_size_zoom_constant:+(X==="constant"||X==="source"),u_is_size_feature_constant:+(X==="constant"||X==="camera"),u_size_t:et?et.uSizeT:0,u_size:et?et.uSize:0,u_camera_to_center_distance:sr.cameraToCenterDistance,u_pitch:sr.pitch/360*2*Math.PI,u_rotate_symbol:+K,u_aspect_ratio:sr.width/sr.height,u_fade_change:kt.options.fadeDuration?kt.symbolFadeChange:1,u_matrix:jt,u_label_plane_matrix:Qt,u_coord_matrix:de,u_is_text:+Le,u_pitch_with_map:+ut,u_texsize:He,u_texture:0}},Ol=function(X,et,K,ut,kt,jt,Qt,de,Le,He,sr){var tr=kt.transform;return i.extend(el(X,et,K,ut,kt,jt,Qt,de,Le,He),{u_gamma_scale:ut?Math.cos(tr._pitch)*tr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+sr})},ru=function(X,et,K,ut,kt,jt,Qt,de,Le,He){return i.extend(Ol(X,et,K,ut,kt,jt,Qt,de,!0,Le,!0),{u_texsize_icon:He,u_texture_icon:1})},rl=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_opacity:new i.Uniform1f(X,et.u_opacity),u_color:new i.UniformColor(X,et.u_color)}},nl=function(X,et){return{u_matrix:new i.UniformMatrix4f(X,et.u_matrix),u_opacity:new i.Uniform1f(X,et.u_opacity),u_image:new i.Uniform1i(X,et.u_image),u_pattern_tl_a:new i.Uniform2f(X,et.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(X,et.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(X,et.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(X,et.u_pattern_br_b),u_texsize:new i.Uniform2f(X,et.u_texsize),u_mix:new i.Uniform1f(X,et.u_mix),u_pattern_size_a:new i.Uniform2f(X,et.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(X,et.u_pattern_size_b),u_scale_a:new i.Uniform1f(X,et.u_scale_a),u_scale_b:new i.Uniform1f(X,et.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(X,et.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(X,et.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(X,et.u_tile_units_to_pixels)}},os=function(X,et,K){return{u_matrix:X,u_opacity:et,u_color:K}},il=function(X,et,K,ut,kt,jt){return i.extend(rs(ut,jt,K,kt),{u_matrix:X,u_opacity:et})},ss={fillExtrusion:Sl,fillExtrusionPattern:ya,fill:Uo,fillPattern:gs,fillOutline:ns,fillOutlinePattern:wo,circle:oc,collisionBox:lc,collisionCircle:uc,debug:Is,clippingMask:lo,heatmap:Mu,heatmapTexture:Qs,hillshade:Eu,hillshadePrepare:Lu,line:To,lineGradient:is,linePattern:Ds,lineSDF:Cl,raster:Ho,symbolIcon:Rl,symbolSDF:Ru,symbolTextAndIcon:Us,background:rl,backgroundPattern:nl},Ma;function zo(X,et,K,ut,kt,jt,Qt){for(var de=X.context,Le=de.gl,He=X.useProgram("collisionBox"),sr=[],tr=0,mr=0,Cr=0;Cr<ut.length;Cr++){var Xr=ut[Cr],Nr=et.getTile(Xr),Br=Nr.getBucket(K);if(Br){var Kr=Xr.posMatrix;(kt[0]!==0||kt[1]!==0)&&(Kr=X.translatePosMatrix(Xr.posMatrix,Nr,kt,jt));var cn=Qt?Br.textCollisionBox:Br.iconCollisionBox,Fn=Br.collisionCircleArray;if(Fn.length>0){var In=i.create(),Dn=Kr;i.mul(In,Br.placementInvProjMatrix,X.transform.glCoordMatrix),i.mul(In,In,Br.placementViewportMatrix),sr.push({circleArray:Fn,circleOffset:mr,transform:Dn,invTransform:In}),tr+=Fn.length/4,mr=tr}cn&&He.draw(de,Le.LINES,pr.disabled,Ge.disabled,X.colorModeForRenderPass(),Ee.disabled,tu(Kr,X.transform,Nr),K.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,null,X.transform.zoom,null,null,cn.collisionVertexBuffer)}}if(!(!Qt||!sr.length)){var Bn=X.useProgram("collisionCircle"),Nn=new i.StructArrayLayout2f1f2i16;Nn.resize(tr*4),Nn._trim();for(var Wn=0,Zn=0,ci=sr;Zn<ci.length;Zn+=1)for(var si=ci[Zn],li=0;li<si.circleArray.length/4;li++){var zi=li*4,la=si.circleArray[zi+0],yi=si.circleArray[zi+1],ki=si.circleArray[zi+2],Oi=si.circleArray[zi+3];Nn.emplace(Wn++,la,yi,ki,Oi,0),Nn.emplace(Wn++,la,yi,ki,Oi,1),Nn.emplace(Wn++,la,yi,ki,Oi,2),Nn.emplace(Wn++,la,yi,ki,Oi,3)}(!Ma||Ma.length<tr*2)&&(Ma=nu(tr));for(var Xi=de.createIndexBuffer(Ma,!0),Qi=de.createVertexBuffer(Nn,i.collisionCircleLayout.members,!0),Ki=0,Ni=sr;Ki<Ni.length;Ki+=1){var ia=Ni[Ki],Ti=ku(ia.transform,ia.invTransform,X.transform);Bn.draw(de,Le.TRIANGLES,pr.disabled,Ge.disabled,X.colorModeForRenderPass(),Ee.disabled,Ti,K.id,Qi,Xi,i.SegmentVector.simpleSegment(0,ia.circleOffset*2,ia.circleArray.length,ia.circleArray.length/2),null,X.transform.zoom,null,null,null)}Qi.destroy(),Xi.destroy()}}function nu(X){var et=X*2,K=new i.StructArrayLayout3ui6;K.resize(et),K._trim();for(var ut=0;ut<et;ut++){var kt=ut*6;K.uint16[kt+0]=ut*4+0,K.uint16[kt+1]=ut*4+1,K.uint16[kt+2]=ut*4+2,K.uint16[kt+3]=ut*4+2,K.uint16[kt+4]=ut*4+3,K.uint16[kt+5]=ut*4+0}return K}var xs=i.identity(new Float32Array(16));function Pl(X,et,K,ut,kt){if(X.renderPass==="translucent"){var jt=Ge.disabled,Qt=X.colorModeForRenderPass(),de=K.layout.get("text-variable-anchor");de&&fc(ut,X,K,et,K.layout.get("text-rotation-alignment"),K.layout.get("text-pitch-alignment"),kt),K.paint.get("icon-opacity").constantOr(1)!==0&&ol(X,et,K,ut,!1,K.paint.get("icon-translate"),K.paint.get("icon-translate-anchor"),K.layout.get("icon-rotation-alignment"),K.layout.get("icon-pitch-alignment"),K.layout.get("icon-keep-upright"),jt,Qt),K.paint.get("text-opacity").constantOr(1)!==0&&ol(X,et,K,ut,!0,K.paint.get("text-translate"),K.paint.get("text-translate-anchor"),K.layout.get("text-rotation-alignment"),K.layout.get("text-pitch-alignment"),K.layout.get("text-keep-upright"),jt,Qt),et.map.showCollisionBoxes&&(zo(X,et,K,ut,K.paint.get("text-translate"),K.paint.get("text-translate-anchor"),!0),zo(X,et,K,ut,K.paint.get("icon-translate"),K.paint.get("icon-translate-anchor"),!1))}}function al(X,et,K,ut,kt,jt){var Qt=i.getAnchorAlignment(X),de=Qt.horizontalAlign,Le=Qt.verticalAlign,He=-(de-.5)*et,sr=-(Le-.5)*K,tr=i.evaluateVariableOffset(X,ut);return new i.Point((He/kt+tr[0])*jt,(sr/kt+tr[1])*jt)}function fc(X,et,K,ut,kt,jt,Qt){for(var de=et.transform,Le=kt==="map",He=jt==="map",sr=0,tr=X;sr<tr.length;sr+=1){var mr=tr[sr],Cr=ut.getTile(mr),Xr=Cr.getBucket(K);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var Nr=Xr.textSizeData,Br=i.evaluateSizeForZoom(Nr,de.zoom),Kr=nn(Cr,1,et.transform.zoom),cn=Lr(mr.posMatrix,He,Le,et.transform,Kr),Fn=K.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Br){var In=Math.pow(2,de.zoom-Cr.tileID.overscaledZ);Ou(Xr,Le,He,Qt,i.symbolSize,de,cn,mr.posMatrix,In,Br,Fn)}}}}function Ou(X,et,K,ut,kt,jt,Qt,de,Le,He,sr){var tr=X.text.placedSymbolArray,mr=X.text.dynamicLayoutVertexArray,Cr=X.icon.dynamicLayoutVertexArray,Xr={};mr.clear();for(var Nr=0;Nr<tr.length;Nr++){var Br=tr.get(Nr),Kr=X.allowVerticalPlacement&&!Br.placedOrientation,cn=!Br.hidden&&Br.crossTileID&&!Kr?ut[Br.crossTileID]:null;if(!cn)Cn(Br.numGlyphs,mr);else{var Fn=new i.Point(Br.anchorX,Br.anchorY),In=Rr(Fn,K?de:Qt),Dn=on(jt.cameraToCenterDistance,In.signedDistanceFromCamera),Bn=kt.evaluateSizeForFeature(X.textSizeData,He,Br)*Dn/i.ONE_EM;K&&(Bn*=X.tilePixelRatio/Le);for(var Nn=cn.width,Wn=cn.height,Zn=cn.anchor,ci=cn.textOffset,si=cn.textBoxScale,li=al(Zn,Nn,Wn,ci,si,Bn),zi=K?Rr(Fn.add(li),Qt).point:In.point.add(et?li.rotate(-jt.angle):li),la=X.allowVerticalPlacement&&Br.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,yi=0;yi<Br.numGlyphs;yi++)i.addDynamicAttributes(mr,zi,la);sr&&Br.associatedIconIndex>=0&&(Xr[Br.associatedIconIndex]={shiftedAnchor:zi,angle:la})}}if(sr){Cr.clear();for(var ki=X.icon.placedSymbolArray,Oi=0;Oi<ki.length;Oi++){var Xi=ki.get(Oi);if(Xi.hidden)Cn(Xi.numGlyphs,Cr);else{var Qi=Xr[Oi];if(!Qi)Cn(Xi.numGlyphs,Cr);else for(var Ki=0;Ki<Xi.numGlyphs;Ki++)i.addDynamicAttributes(Cr,Qi.shiftedAnchor,Qi.angle)}}X.icon.dynamicLayoutVertexBuffer.updateData(Cr)}X.text.dynamicLayoutVertexBuffer.updateData(mr)}function Ha(X,et,K){return K.iconsInText&&et?"symbolTextAndIcon":X?"symbolSDF":"symbolIcon"}function ol(X,et,K,ut,kt,jt,Qt,de,Le,He,sr,tr){for(var mr=X.context,Cr=mr.gl,Xr=X.transform,Nr=de==="map",Br=Le==="map",Kr=Nr&&K.layout.get("symbol-placement")!=="point",cn=Nr&&!Br&&!Kr,Fn=K.layout.get("symbol-sort-key").constantOr(1)!==void 0,In=!1,Dn=X.depthModeForSublayer(0,pr.ReadOnly),Bn=K.layout.get("text-variable-anchor"),Nn=[],Wn=0,Zn=ut;Wn<Zn.length;Wn+=1){var ci=Zn[Wn],si=et.getTile(ci),li=si.getBucket(K);if(li){var zi=kt?li.text:li.icon;if(!(!zi||!zi.segments.get().length)){var la=zi.programConfigurations.get(K.id),yi=kt||li.sdfIcons,ki=kt?li.textSizeData:li.iconSizeData,Oi=Br||Xr.pitch!==0,Xi=X.useProgram(Ha(yi,kt,li),la),Qi=i.evaluateSizeForZoom(ki,Xr.zoom),Ki=void 0,Ni=[0,0],ia=void 0,Ti=void 0,Bi=null,Aa=void 0;if(kt){if(ia=si.glyphAtlasTexture,Ti=Cr.LINEAR,Ki=si.glyphAtlasTexture.size,li.iconsInText){Ni=si.imageAtlasTexture.size,Bi=si.imageAtlasTexture;var ja=ki.kind==="composite"||ki.kind==="camera";Aa=Oi||X.options.rotating||X.options.zooming||ja?Cr.LINEAR:Cr.NEAREST}}else{var ws=K.layout.get("icon-size").constantOr(0)!==1||li.iconsNeedLinear;ia=si.imageAtlasTexture,Ti=yi||X.options.rotating||X.options.zooming||ws||Oi?Cr.LINEAR:Cr.NEAREST,Ki=si.imageAtlasTexture.size}var Gs=nn(si,1,X.transform.zoom),Vo=Lr(ci.posMatrix,Br,Nr,X.transform,Gs),dl=Ir(ci.posMatrix,Br,Nr,X.transform,Gs),Bl=Bn&&li.hasTextData(),Mo=K.layout.get("icon-text-fit")!=="none"&&Bl&&li.hasIconData();Kr&&gn(li,ci.posMatrix,X,kt,Vo,dl,Br,He);var Zo=X.translatePosMatrix(ci.posMatrix,si,jt,Qt),ho=Kr||kt&&Bn||Mo?xs:Vo,jl=X.translatePosMatrix(dl,si,jt,Qt,!0),Uu=yi&&K.paint.get(kt?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ko=void 0;yi?li.iconsInText?Ko=ru(ki.kind,Qi,cn,Br,X,Zo,ho,jl,Ki,Ni):Ko=Ol(ki.kind,Qi,cn,Br,X,Zo,ho,jl,kt,Ki,!0):Ko=el(ki.kind,Qi,cn,Br,X,Zo,ho,jl,kt,Ki);var cs={program:Xi,buffers:zi,uniformValues:Ko,atlasTexture:ia,atlasTextureIcon:Bi,atlasInterpolation:Ti,atlasInterpolationIcon:Aa,isSDF:yi,hasHalo:Uu};if(Fn&&li.canOverlap){In=!0;for(var Jo=zi.segments.get(),mc=0,Lc=Jo;mc<Lc.length;mc+=1){var yc=Lc[mc];Nn.push({segments:new i.SegmentVector([yc]),sortKey:yc.sortKey,state:cs})}}else Nn.push({segments:zi.segments,sortKey:0,state:cs})}}}In&&Nn.sort(function(Cc,Rc){return Cc.sortKey-Rc.sortKey});for(var no=0,Sc=Nn;no<Sc.length;no+=1){var xc=Sc[no],co=xc.state;if(mr.activeTexture.set(Cr.TEXTURE0),co.atlasTexture.bind(co.atlasInterpolation,Cr.CLAMP_TO_EDGE),co.atlasTextureIcon&&(mr.activeTexture.set(Cr.TEXTURE1),co.atlasTextureIcon&&co.atlasTextureIcon.bind(co.atlasInterpolationIcon,Cr.CLAMP_TO_EDGE)),co.isSDF){var qu=co.uniformValues;co.hasHalo&&(qu.u_is_halo=1,qs(co.buffers,xc.segments,K,X,co.program,Dn,sr,tr,qu)),qu.u_is_halo=0}qs(co.buffers,xc.segments,K,X,co.program,Dn,sr,tr,co.uniformValues)}}function qs(X,et,K,ut,kt,jt,Qt,de,Le){var He=ut.context,sr=He.gl;kt.draw(He,sr.TRIANGLES,jt,Qt,de,Ee.disabled,Le,K.id,X.layoutVertexBuffer,X.indexBuffer,et,K.paint,ut.transform.zoom,X.programConfigurations.get(K.id),X.dynamicLayoutVertexBuffer,X.opacityVertexBuffer)}function Pu(X,et,K,ut){if(X.renderPass==="translucent"){var kt=K.paint.get("circle-opacity"),jt=K.paint.get("circle-stroke-width"),Qt=K.paint.get("circle-stroke-opacity"),de=K.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(kt.constantOr(1)===0&&(jt.constantOr(1)===0||Qt.constantOr(1)===0))){for(var Le=X.context,He=Le.gl,sr=X.depthModeForSublayer(0,pr.ReadOnly),tr=Ge.disabled,mr=X.colorModeForRenderPass(),Cr=[],Xr=0;Xr<ut.length;Xr++){var Nr=ut[Xr],Br=et.getTile(Nr),Kr=Br.getBucket(K);if(Kr){var cn=Kr.programConfigurations.get(K.id),Fn=X.useProgram("circle",cn),In=Kr.layoutVertexBuffer,Dn=Kr.indexBuffer,Bn=sc(X,Nr,Br,K),Nn={programConfiguration:cn,program:Fn,layoutVertexBuffer:In,indexBuffer:Dn,uniformValues:Bn};if(de)for(var Wn=Kr.segments.get(),Zn=0,ci=Wn;Zn<ci.length;Zn+=1){var si=ci[Zn];Cr.push({segments:new i.SegmentVector([si]),sortKey:si.sortKey,state:Nn})}else Cr.push({segments:Kr.segments,sortKey:0,state:Nn})}}de&&Cr.sort(function(ia,Ti){return ia.sortKey-Ti.sortKey});for(var li=0,zi=Cr;li<zi.length;li+=1){var la=zi[li],yi=la.state,ki=yi.programConfiguration,Oi=yi.program,Xi=yi.layoutVertexBuffer,Qi=yi.indexBuffer,Ki=yi.uniformValues,Ni=la.segments;Oi.draw(Le,He.TRIANGLES,sr,tr,mr,Ee.disabled,Ki,K.id,Xi,Qi,Ni,K.paint,X.transform.zoom,ki)}}}}function ls(X,et,K,ut){if(K.paint.get("heatmap-opacity")!==0)if(X.renderPass==="offscreen"){var kt=X.context,jt=kt.gl,Qt=Ge.disabled,de=new ie([jt.ONE,jt.ONE],i.Color.transparent,[!0,!0,!0,!0]);hc(kt,X,K),kt.clear({color:i.Color.transparent});for(var Le=0;Le<ut.length;Le++){var He=ut[Le];if(!et.hasRenderableParent(He)){var sr=et.getTile(He),tr=sr.getBucket(K);if(tr){var mr=tr.programConfigurations.get(K.id),Cr=X.useProgram("heatmap",mr),Xr=X.transform,Nr=Xr.zoom;Cr.draw(kt,jt.TRIANGLES,pr.disabled,Qt,de,Ee.disabled,Yo(He.posMatrix,sr,Nr,K.paint.get("heatmap-intensity")),K.id,tr.layoutVertexBuffer,tr.indexBuffer,tr.segments,K.paint,X.transform.zoom,mr)}}}kt.viewport.set([0,0,X.width,X.height])}else X.renderPass==="translucent"&&(X.context.setColorMode(X.colorModeForRenderPass()),sl(X,K))}function hc(X,et,K){var ut=X.gl;X.activeTexture.set(ut.TEXTURE1),X.viewport.set([0,0,et.width/4,et.height/4]);var kt=K.heatmapFbo;if(kt)ut.bindTexture(ut.TEXTURE_2D,kt.colorAttachment.get()),X.bindFramebuffer.set(kt.framebuffer);else{var jt=ut.createTexture();ut.bindTexture(ut.TEXTURE_2D,jt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.LINEAR),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.LINEAR),kt=K.heatmapFbo=X.createFramebuffer(et.width/4,et.height/4,!1),eo(X,et,jt,kt)}}function eo(X,et,K,ut){var kt=X.gl,jt=X.extRenderToTextureHalfFloat?X.extTextureHalfFloat.HALF_FLOAT_OES:kt.UNSIGNED_BYTE;kt.texImage2D(kt.TEXTURE_2D,0,kt.RGBA,et.width/4,et.height/4,0,kt.RGBA,jt,null),ut.colorAttachment.set(K)}function sl(X,et){var K=X.context,ut=K.gl,kt=et.heatmapFbo;if(kt){K.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,kt.colorAttachment.get()),K.activeTexture.set(ut.TEXTURE1);var jt=et.colorRampTexture;jt||(jt=et.colorRampTexture=new i.Texture(K,et.colorRamp,ut.RGBA)),jt.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),X.useProgram("heatmapTexture").draw(K,ut.TRIANGLES,pr.disabled,Ge.disabled,X.colorModeForRenderPass(),Ee.disabled,cc(X,et,0,1),et.id,X.viewportBuffer,X.quadTriangleIndexBuffer,X.viewportSegments,et.paint,X.transform.zoom)}}function zl(X,et,K,ut){if(X.renderPass==="translucent"){var kt=K.paint.get("line-opacity"),jt=K.paint.get("line-width");if(!(kt.constantOr(1)===0||jt.constantOr(1)===0))for(var Qt=X.depthModeForSublayer(0,pr.ReadOnly),de=X.colorModeForRenderPass(),Le=K.paint.get("line-dasharray"),He=K.paint.get("line-pattern"),sr=He.constantOr(1),tr=K.paint.get("line-gradient"),mr=K.getCrossfadeParameters(),Cr=sr?"linePattern":Le?"lineSDF":tr?"lineGradient":"line",Xr=X.context,Nr=Xr.gl,Br=!0,Kr=0,cn=ut;Kr<cn.length;Kr+=1){var Fn=cn[Kr],In=et.getTile(Fn);if(!(sr&&!In.patternsLoaded())){var Dn=In.getBucket(K);if(Dn){var Bn=Dn.programConfigurations.get(K.id),Nn=X.context.program.get(),Wn=X.useProgram(Cr,Bn),Zn=Br||Wn.program!==Nn,ci=He.constantOr(null);if(ci&&In.imageAtlas){var si=In.imageAtlas,li=si.patternPositions[ci.to.toString()],zi=si.patternPositions[ci.from.toString()];li&&zi&&Bn.setConstantPatternPositions(li,zi)}var la=sr?Cu(X,In,K,mr):Le?Go(X,In,K,Le,mr):tr?ys(X,In,K,Dn.lineClipsArray.length):ms(X,In,K);if(sr)Xr.activeTexture.set(Nr.TEXTURE0),In.imageAtlasTexture.bind(Nr.LINEAR,Nr.CLAMP_TO_EDGE),Bn.updatePaintBuffers(mr);else if(Le&&(Zn||X.lineAtlas.dirty))Xr.activeTexture.set(Nr.TEXTURE0),X.lineAtlas.bind(Xr);else if(tr){var yi=Dn.gradients[K.id],ki=yi.texture;if(K.gradientVersion!==yi.version){var Oi=256;if(K.stepInterpolant){var Xi=et.getSource().maxzoom,Qi=Fn.canonical.z===Xi?Math.ceil(1<<X.transform.maxZoom-Fn.canonical.z):1,Ki=Dn.maxLineLength/i.EXTENT,Ni=1024,ia=Ki*Ni*Qi;Oi=i.clamp(i.nextPowerOfTwo(ia),256,Xr.maxTextureSize)}yi.gradient=i.renderColorRamp({expression:K.gradientExpression(),evaluationKey:"lineProgress",resolution:Oi,image:yi.gradient||void 0,clips:Dn.lineClipsArray}),yi.texture?yi.texture.update(yi.gradient):yi.texture=new i.Texture(Xr,yi.gradient,Nr.RGBA),yi.version=K.gradientVersion,ki=yi.texture}Xr.activeTexture.set(Nr.TEXTURE0),ki.bind(K.stepInterpolant?Nr.NEAREST:Nr.LINEAR,Nr.CLAMP_TO_EDGE)}Wn.draw(Xr,Nr.TRIANGLES,Qt,X.stencilModeForClipping(Fn),de,Ee.disabled,la,K.id,Dn.layoutVertexBuffer,Dn.indexBuffer,Dn.segments,K.paint,X.transform.zoom,Bn,Dn.layoutVertexBuffer2),Br=!1}}}}}function Wo(X,et,K,ut){var kt=K.paint.get("fill-color"),jt=K.paint.get("fill-opacity");if(jt.constantOr(1)!==0){var Qt=X.colorModeForRenderPass(),de=K.paint.get("fill-pattern"),Le=X.opaquePassEnabledForLayer()&&!de.constantOr(1)&&kt.constantOr(i.Color.transparent).a===1&&jt.constantOr(0)===1?"opaque":"translucent";if(X.renderPass===Le){var He=X.depthModeForSublayer(1,X.renderPass==="opaque"?pr.ReadWrite:pr.ReadOnly);us(X,et,K,ut,He,Qt,!1)}if(X.renderPass==="translucent"&&K.paint.get("fill-antialias")){var sr=X.depthModeForSublayer(K.getPaintProperty("fill-outline-color")?2:0,pr.ReadOnly);us(X,et,K,ut,sr,Qt,!0)}}}function us(X,et,K,ut,kt,jt,Qt){var de=X.context.gl,Le=K.paint.get("fill-pattern"),He=Le&&Le.constantOr(1),sr=K.getCrossfadeParameters(),tr,mr,Cr,Xr,Nr;Qt?(mr=He&&!K.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",tr=de.LINES):(mr=He?"fillPattern":"fill",tr=de.TRIANGLES);for(var Br=0,Kr=ut;Br<Kr.length;Br+=1){var cn=Kr[Br],Fn=et.getTile(cn);if(!(He&&!Fn.patternsLoaded())){var In=Fn.getBucket(K);if(In){var Dn=In.programConfigurations.get(K.id),Bn=X.useProgram(mr,Dn);He&&(X.context.activeTexture.set(de.TEXTURE0),Fn.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Dn.updatePaintBuffers(sr));var Nn=Le.constantOr(null);if(Nn&&Fn.imageAtlas){var Wn=Fn.imageAtlas,Zn=Wn.patternPositions[Nn.to.toString()],ci=Wn.patternPositions[Nn.from.toString()];Zn&&ci&&Dn.setConstantPatternPositions(Zn,ci)}var si=X.translatePosMatrix(cn.posMatrix,Fn,K.paint.get("fill-translate"),K.paint.get("fill-translate-anchor"));if(!Qt)Xr=In.indexBuffer,Nr=In.segments,Cr=He?Ao(si,X,sr,Fn):qo(si);else{Xr=In.indexBuffer2,Nr=In.segments2;var li=[de.drawingBufferWidth,de.drawingBufferHeight];Cr=mr==="fillOutlinePattern"&&He?$s(si,X,sr,Fn,li):fo(si,li)}Bn.draw(X.context,tr,kt,X.stencilModeForClipping(cn),jt,Ee.disabled,Cr,K.id,In.layoutVertexBuffer,Xr,Nr,K.paint,X.transform.zoom,Dn)}}}}function iu(X,et,K,ut){var kt=K.paint.get("fill-extrusion-opacity");if(kt!==0&&X.renderPass==="translucent"){var jt=new pr(X.context.gl.LEQUAL,pr.ReadWrite,X.depthRangeFor3D);if(kt===1&&!K.paint.get("fill-extrusion-pattern").constantOr(1)){var Qt=X.colorModeForRenderPass();ll(X,et,K,ut,jt,Ge.disabled,Qt)}else ll(X,et,K,ut,jt,Ge.disabled,ie.disabled),ll(X,et,K,ut,jt,X.stencilModeFor3D(),X.colorModeForRenderPass())}}function ll(X,et,K,ut,kt,jt,Qt){for(var de=X.context,Le=de.gl,He=K.paint.get("fill-extrusion-pattern"),sr=He.constantOr(1),tr=K.getCrossfadeParameters(),mr=K.paint.get("fill-extrusion-opacity"),Cr=0,Xr=ut;Cr<Xr.length;Cr+=1){var Nr=Xr[Cr],Br=et.getTile(Nr),Kr=Br.getBucket(K);if(Kr){var cn=Kr.programConfigurations.get(K.id),Fn=X.useProgram(sr?"fillExtrusionPattern":"fillExtrusion",cn);sr&&(X.context.activeTexture.set(Le.TEXTURE0),Br.imageAtlasTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),cn.updatePaintBuffers(tr));var In=He.constantOr(null);if(In&&Br.imageAtlas){var Dn=Br.imageAtlas,Bn=Dn.patternPositions[In.to.toString()],Nn=Dn.patternPositions[In.from.toString()];Bn&&Nn&&cn.setConstantPatternPositions(Bn,Nn)}var Wn=X.translatePosMatrix(Nr.posMatrix,Br,K.paint.get("fill-extrusion-translate"),K.paint.get("fill-extrusion-translate-anchor")),Zn=K.paint.get("fill-extrusion-vertical-gradient"),ci=sr?_o(Wn,X,Zn,mr,Nr,tr,Br):Js(Wn,X,Zn,mr);Fn.draw(de,de.gl.TRIANGLES,kt,jt,Qt,Ee.backCCW,ci,K.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,K.paint,X.transform.zoom,cn)}}}function ul(X,et,K,ut){if(!(X.renderPass!=="offscreen"&&X.renderPass!=="translucent")){for(var kt=X.context,jt=X.depthModeForSublayer(0,pr.ReadOnly),Qt=X.colorModeForRenderPass(),de=X.renderPass==="translucent"?X.stencilConfigForOverlap(ut):[{},ut],Le=de[0],He=de[1],sr=0,tr=He;sr<tr.length;sr+=1){var mr=tr[sr],Cr=et.getTile(mr);Cr.needsHillshadePrepare&&X.renderPass==="offscreen"?zu(X,Cr,K,jt,Ge.disabled,Qt):X.renderPass==="translucent"&&Il(X,Cr,K,jt,Le[mr.overscaledZ],Qt)}kt.viewport.set([0,0,X.width,X.height])}}function Il(X,et,K,ut,kt,jt){var Qt=X.context,de=Qt.gl,Le=et.fbo;if(Le){var He=X.useProgram("hillshade");Qt.activeTexture.set(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,Le.colorAttachment.get());var sr=eu(X,et,K);He.draw(Qt,de.TRIANGLES,ut,kt,jt,Ee.disabled,sr,K.id,X.rasterBoundsBuffer,X.quadTriangleIndexBuffer,X.rasterBoundsSegments)}}function zu(X,et,K,ut,kt,jt){var Qt=X.context,de=Qt.gl,Le=et.dem;if(Le&&Le.data){var He=Le.dim,sr=Le.stride,tr=Le.getPixels();if(Qt.activeTexture.set(de.TEXTURE1),Qt.pixelStoreUnpackPremultiplyAlpha.set(!1),et.demTexture=et.demTexture||X.getTileTexture(sr),et.demTexture){var mr=et.demTexture;mr.update(tr,{premultiply:!1}),mr.bind(de.NEAREST,de.CLAMP_TO_EDGE)}else et.demTexture=new i.Texture(Qt,tr,de.RGBA,{premultiply:!1}),et.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);Qt.activeTexture.set(de.TEXTURE0);var Cr=et.fbo;if(!Cr){var Xr=new i.Texture(Qt,{width:He,height:He,data:null},de.RGBA);Xr.bind(de.LINEAR,de.CLAMP_TO_EDGE),Cr=et.fbo=Qt.createFramebuffer(He,He,!0),Cr.colorAttachment.set(Xr.texture)}Qt.bindFramebuffer.set(Cr.framebuffer),Qt.viewport.set([0,0,He,He]),X.useProgram("hillshadePrepare").draw(Qt,de.TRIANGLES,ut,kt,jt,Ee.disabled,Su(et.tileID,Le),K.id,X.rasterBoundsBuffer,X.quadTriangleIndexBuffer,X.rasterBoundsSegments),et.needsHillshadePrepare=!1}}function cl(X,et,K,ut){if(X.renderPass==="translucent"&&K.paint.get("raster-opacity")!==0&&ut.length)for(var kt=X.context,jt=kt.gl,Qt=et.getSource(),de=X.useProgram("raster"),Le=X.colorModeForRenderPass(),He=Qt instanceof V?[{},ut]:X.stencilConfigForOverlap(ut),sr=He[0],tr=He[1],mr=tr[tr.length-1].overscaledZ,Cr=!X.options.moving,Xr=0,Nr=tr;Xr<Nr.length;Xr+=1){var Br=Nr[Xr],Kr=X.depthModeForSublayer(Br.overscaledZ-mr,K.paint.get("raster-opacity")===1?pr.ReadWrite:pr.ReadOnly,jt.LESS),cn=et.getTile(Br),Fn=X.transform.calculatePosMatrix(Br.toUnwrapped(),Cr);cn.registerFadeDuration(K.paint.get("raster-fade-duration"));var In=et.findLoadedParent(Br,0),Dn=au(cn,In,et,K,X.transform),Bn=void 0,Nn=void 0,Wn=K.paint.get("raster-resampling")==="nearest"?jt.NEAREST:jt.LINEAR;kt.activeTexture.set(jt.TEXTURE0),cn.texture.bind(Wn,jt.CLAMP_TO_EDGE,jt.LINEAR_MIPMAP_NEAREST),kt.activeTexture.set(jt.TEXTURE1),In?(In.texture.bind(Wn,jt.CLAMP_TO_EDGE,jt.LINEAR_MIPMAP_NEAREST),Bn=Math.pow(2,In.tileID.overscaledZ-cn.tileID.overscaledZ),Nn=[cn.tileID.canonical.x*Bn%1,cn.tileID.canonical.y*Bn%1]):cn.texture.bind(Wn,jt.CLAMP_TO_EDGE,jt.LINEAR_MIPMAP_NEAREST);var Zn=tl(Fn,Nn||[0,0],Bn||1,Dn,K);Qt instanceof V?de.draw(kt,jt.TRIANGLES,Kr,Ge.disabled,Le,Ee.disabled,Zn,K.id,Qt.boundsBuffer,X.quadTriangleIndexBuffer,Qt.boundsSegments):de.draw(kt,jt.TRIANGLES,Kr,sr[Br.overscaledZ],Le,Ee.disabled,Zn,K.id,X.rasterBoundsBuffer,X.quadTriangleIndexBuffer,X.rasterBoundsSegments)}}function au(X,et,K,ut,kt){var jt=ut.paint.get("raster-fade-duration");if(jt>0){var Qt=i.browser.now(),de=(Qt-X.timeAdded)/jt,Le=et?(Qt-et.timeAdded)/jt:-1,He=K.getSource(),sr=kt.coveringZoomLevel({tileSize:He.tileSize,roundZoom:He.roundZoom}),tr=!et||Math.abs(et.tileID.overscaledZ-sr)>Math.abs(X.tileID.overscaledZ-sr),mr=tr&&X.refreshedUponExpiration?1:i.clamp(tr?de:1-Le,0,1);return X.refreshedUponExpiration&&de>=1&&(X.refreshedUponExpiration=!1),et?{opacity:1,mix:1-mr}:{opacity:mr,mix:0}}else return{opacity:1,mix:0}}function bs(X,et,K){var ut=K.paint.get("background-color"),kt=K.paint.get("background-opacity");if(kt!==0){var jt=X.context,Qt=jt.gl,de=X.transform,Le=de.tileSize,He=K.paint.get("background-pattern");if(!X.isPatternMissing(He)){var sr=!He&&ut.a===1&&kt===1&&X.opaquePassEnabledForLayer()?"opaque":"translucent";if(X.renderPass===sr){var tr=Ge.disabled,mr=X.depthModeForSublayer(0,sr==="opaque"?pr.ReadWrite:pr.ReadOnly),Cr=X.colorModeForRenderPass(),Xr=X.useProgram(He?"backgroundPattern":"background"),Nr=de.coveringTiles({tileSize:Le});He&&(jt.activeTexture.set(Qt.TEXTURE0),X.imageManager.bind(X.context));for(var Br=K.getCrossfadeParameters(),Kr=0,cn=Nr;Kr<cn.length;Kr+=1){var Fn=cn[Kr],In=X.transform.calculatePosMatrix(Fn.toUnwrapped()),Dn=He?il(In,kt,X,He,{tileID:Fn,tileSize:Le},Br):os(In,kt,ut);Xr.draw(jt,Qt.TRIANGLES,mr,tr,Cr,Ee.disabled,Dn,K.id,X.tileExtentBuffer,X.quadTriangleIndexBuffer,X.tileExtentSegments)}}}}}var ou=new i.Color(1,0,0,1),fl=new i.Color(0,1,0,1),Iu=new i.Color(0,0,1,1),Yt=new i.Color(1,0,1,1),Zt=new i.Color(0,1,1,1);function se(X){var et=X.transform.padding,K=3;Te(X,X.transform.height-(et.top||0),K,ou),Te(X,et.bottom||0,K,fl),we(X,et.left||0,K,Iu),we(X,X.transform.width-(et.right||0),K,Yt);var ut=X.transform.centerPoint;ve(X,ut.x,X.transform.height-ut.y,Zt)}function ve(X,et,K,ut){var kt=20,jt=2;Se(X,et-jt/2,K-kt/2,jt,kt,ut),Se(X,et-kt/2,K-jt/2,kt,jt,ut)}function Te(X,et,K,ut){Se(X,0,et+K/2,X.transform.width,K,ut)}function we(X,et,K,ut){Se(X,et-K/2,0,K,X.transform.height,ut)}function Se(X,et,K,ut,kt,jt){var Qt=X.context,de=Qt.gl;de.enable(de.SCISSOR_TEST),de.scissor(et*i.browser.devicePixelRatio,K*i.browser.devicePixelRatio,ut*i.browser.devicePixelRatio,kt*i.browser.devicePixelRatio),Qt.clear({color:jt}),de.disable(de.SCISSOR_TEST)}function or(X,et,K){for(var ut=0;ut<K.length;ut++)fr(X,et,K[ut])}function fr(X,et,K){var ut=X.context,kt=ut.gl,jt=K.posMatrix,Qt=X.useProgram("debug"),de=pr.disabled,Le=Ge.disabled,He=X.colorModeForRenderPass(),sr="$debug";ut.activeTexture.set(kt.TEXTURE0),X.emptyTexture.bind(kt.LINEAR,kt.CLAMP_TO_EDGE),Qt.draw(ut,kt.LINE_STRIP,de,Le,He,Ee.disabled,Ra(jt,i.Color.red),sr,X.debugBuffer,X.tileBorderIndexBuffer,X.debugSegments);var tr=et.getTileByID(K.key).latestRawTileData,mr=tr&&tr.byteLength||0,Cr=Math.floor(mr/1024),Xr=et.getTile(K).tileSize,Nr=512/Math.min(Xr,512)*(K.overscaledZ/X.transform.zoom)*.5,Br=K.canonical.toString();K.overscaledZ!==K.canonical.z&&(Br+=" => "+K.overscaledZ);var Kr=Br+" "+Cr+"kb";Qe(X,Kr),Qt.draw(ut,kt.TRIANGLES,de,Le,ie.alphaBlended,Ee.disabled,Ra(jt,i.Color.transparent,Nr),sr,X.debugBuffer,X.quadTriangleIndexBuffer,X.debugSegments)}function Qe(X,et){X.initDebugOverlayCanvas();var K=X.debugOverlayCanvas,ut=X.context.gl,kt=X.debugOverlayCanvas.getContext("2d");kt.clearRect(0,0,K.width,K.height),kt.shadowColor="white",kt.shadowBlur=2,kt.lineWidth=1.5,kt.strokeStyle="white",kt.textBaseline="top",kt.font="bold 36px Open Sans, sans-serif",kt.fillText(et,5,5),kt.strokeText(et,5,5),X.debugOverlayTexture.update(K),X.debugOverlayTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE)}function yr(X,et,K){var ut=X.context,kt=K.implementation;if(X.renderPass==="offscreen"){var jt=kt.prerender;jt&&(X.setCustomLayerDefaults(),ut.setColorMode(X.colorModeForRenderPass()),jt.call(kt,ut.gl,X.transform.customLayerMatrix()),ut.setDirty(),X.setBaseState())}else if(X.renderPass==="translucent"){X.setCustomLayerDefaults(),ut.setColorMode(X.colorModeForRenderPass()),ut.setStencilMode(Ge.disabled);var Qt=kt.renderingMode==="3d"?new pr(X.context.gl.LEQUAL,pr.ReadWrite,X.depthRangeFor3D):X.depthModeForSublayer(0,pr.ReadOnly);ut.setDepthMode(Qt),kt.render(ut.gl,X.transform.customLayerMatrix()),ut.setDirty(),X.setBaseState(),ut.bindFramebuffer.set(null)}}var Tr={symbol:Pl,circle:Pu,heatmap:ls,line:zl,fill:Wo,"fill-extrusion":iu,hillshade:ul,raster:cl,background:bs,debug:or,custom:yr},Or=function(X,et){this.context=new Fe(X),this.transform=et,this._tileTextures={},this.setup(),this.numSublayers=Re.maxUnderzooming+Re.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $n,this.gpuTimers={}};Or.prototype.resize=function(X,et){if(this.width=X*i.browser.devicePixelRatio,this.height=et*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var K=0,ut=this.style._order;K<ut.length;K+=1){var kt=ut[K];this.style._layers[kt].resize()}},Or.prototype.setup=function(){var X=this.context,et=new i.StructArrayLayout2i4;et.emplaceBack(0,0),et.emplaceBack(i.EXTENT,0),et.emplaceBack(0,i.EXTENT),et.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(et,$a.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var K=new i.StructArrayLayout2i4;K.emplaceBack(0,0),K.emplaceBack(i.EXTENT,0),K.emplaceBack(0,i.EXTENT),K.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=X.createVertexBuffer(K,$a.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var ut=new i.StructArrayLayout4i8;ut.emplaceBack(0,0,0,0),ut.emplaceBack(i.EXTENT,0,i.EXTENT,0),ut.emplaceBack(0,i.EXTENT,0,i.EXTENT),ut.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(ut,q.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var kt=new i.StructArrayLayout2i4;kt.emplaceBack(0,0),kt.emplaceBack(1,0),kt.emplaceBack(0,1),kt.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(kt,$a.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var jt=new i.StructArrayLayout1ui2;jt.emplaceBack(0),jt.emplaceBack(1),jt.emplaceBack(3),jt.emplaceBack(2),jt.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(jt);var Qt=new i.StructArrayLayout3ui6;Qt.emplaceBack(0,1,2),Qt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(Qt),this.emptyTexture=new i.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var de=this.context.gl;this.stencilClearMode=new Ge({func:de.ALWAYS,mask:0},0,255,de.ZERO,de.ZERO,de.ZERO)},Or.prototype.clearStencil=function(){var X=this.context,et=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var K=i.create();i.ortho(K,0,this.width,this.height,0,0,1),i.scale(K,K,[et.drawingBufferWidth,et.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,et.TRIANGLES,pr.disabled,this.stencilClearMode,ie.disabled,Ee.disabled,Fs(K),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Or.prototype._renderTileClippingMasks=function(X,et){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!et||!et.length)){this.currentStencilSource=X.source;var K=this.context,ut=K.gl;this.nextStencilID+et.length>256&&this.clearStencil(),K.setColorMode(ie.disabled),K.setDepthMode(pr.disabled);var kt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var jt=0,Qt=et;jt<Qt.length;jt+=1){var de=Qt[jt],Le=this._tileClippingMaskIDs[de.key]=this.nextStencilID++;kt.draw(K,ut.TRIANGLES,pr.disabled,new Ge({func:ut.ALWAYS,mask:0},Le,255,ut.KEEP,ut.KEEP,ut.REPLACE),ie.disabled,Ee.disabled,Fs(de.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Or.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,et=this.context.gl;return new Ge({func:et.NOTEQUAL,mask:255},X,255,et.KEEP,et.KEEP,et.REPLACE)},Or.prototype.stencilModeForClipping=function(X){var et=this.context.gl;return new Ge({func:et.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,et.KEEP,et.KEEP,et.REPLACE)},Or.prototype.stencilConfigForOverlap=function(X){var et,K=this.context.gl,ut=X.sort(function(Le,He){return He.overscaledZ-Le.overscaledZ}),kt=ut[ut.length-1].overscaledZ,jt=ut[0].overscaledZ-kt+1;if(jt>1){this.currentStencilSource=void 0,this.nextStencilID+jt>256&&this.clearStencil();for(var Qt={},de=0;de<jt;de++)Qt[de+kt]=new Ge({func:K.GEQUAL,mask:255},de+this.nextStencilID,255,K.KEEP,K.KEEP,K.REPLACE);return this.nextStencilID+=jt,[Qt,ut]}return[(et={},et[kt]=Ge.disabled,et),ut]},Or.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var et=8,K=1/et;return new ie([X.CONSTANT_COLOR,X.ONE],new i.Color(K,K,K,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ie.unblended:ie.alphaBlended},Or.prototype.depthModeForSublayer=function(X,et,K){if(!this.opaquePassEnabledForLayer())return pr.disabled;var ut=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new pr(K||this.context.gl.LEQUAL,et,[ut,ut])},Or.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Or.prototype.render=function(X,et){var K=this;this.style=X,this.options=et,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var ut=this.style._order,kt=this.style.sourceCaches;for(var jt in kt){var Qt=kt[jt];Qt.used&&Qt.prepare(this.context)}var de={},Le={},He={};for(var sr in kt){var tr=kt[sr];de[sr]=tr.getVisibleCoordinates(),Le[sr]=de[sr].slice().reverse(),He[sr]=tr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var mr=0;mr<ut.length;mr++){var Cr=ut[mr];if(this.style._layers[Cr].is3D()){this.opaquePassCutoff=mr;break}}this.renderPass="offscreen";for(var Xr=0,Nr=ut;Xr<Nr.length;Xr+=1){var Br=Nr[Xr],Kr=this.style._layers[Br];if(!(!Kr.hasOffscreenPass()||Kr.isHidden(this.transform.zoom))){var cn=Le[Kr.source];Kr.type!=="custom"&&!cn.length||this.renderLayer(this,kt[Kr.source],Kr,cn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:et.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=et.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ut.length-1;this.currentLayer>=0;this.currentLayer--){var Fn=this.style._layers[ut[this.currentLayer]],In=kt[Fn.source],Dn=de[Fn.source];this._renderTileClippingMasks(Fn,Dn),this.renderLayer(this,In,Fn,Dn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ut.length;this.currentLayer++){var Bn=this.style._layers[ut[this.currentLayer]],Nn=kt[Bn.source],Wn=(Bn.type==="symbol"?He:Le)[Bn.source];this._renderTileClippingMasks(Bn,de[Bn.source]),this.renderLayer(this,Nn,Bn,Wn)}if(this.options.showTileBoundaries){var Zn,ci,si=i.values(this.style._layers);si.forEach(function(li){li.source&&!li.isHidden(K.transform.zoom)&&(li.source!==(ci&&ci.id)&&(ci=K.style.sourceCaches[li.source]),(!Zn||Zn.getSource().maxzoom<ci.getSource().maxzoom)&&(Zn=ci))}),Zn&&Tr.debug(this,Zn,Zn.getVisibleCoordinates())}this.options.showPadding&&se(this),this.context.setDefault()},Or.prototype.renderLayer=function(X,et,K,ut){K.isHidden(this.transform.zoom)||K.type!=="background"&&K.type!=="custom"&&!ut.length||(this.id=K.id,this.gpuTimingStart(K),Tr[K.type](X,et,K,ut,this.style.placement.variableOffsets),this.gpuTimingEnd())},Or.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var et=this.context.extTimerQuery,K=this.gpuTimers[X.id];K||(K=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:et.createQueryEXT()}),K.calls++,et.beginQueryEXT(et.TIME_ELAPSED_EXT,K.query)}},Or.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Or.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Or.prototype.queryGpuTimers=function(X){var et={};for(var K in X){var ut=X[K],kt=this.context.extTimerQuery,jt=kt.getQueryObjectEXT(ut.query,kt.QUERY_RESULT_EXT)/(1e3*1e3);kt.deleteQueryEXT(ut.query),et[K]=jt}return et},Or.prototype.translatePosMatrix=function(X,et,K,ut,kt){if(!K[0]&&!K[1])return X;var jt=kt?ut==="map"?this.transform.angle:0:ut==="viewport"?-this.transform.angle:0;if(jt){var Qt=Math.sin(jt),de=Math.cos(jt);K=[K[0]*de-K[1]*Qt,K[0]*Qt+K[1]*de]}var Le=[kt?K[0]:nn(et,K[0],this.transform.zoom),kt?K[1]:nn(et,K[1],this.transform.zoom),0],He=new Float32Array(16);return i.translate(He,X,Le),He},Or.prototype.saveTileTexture=function(X){var et=this._tileTextures[X.size[0]];et?et.push(X):this._tileTextures[X.size[0]]=[X]},Or.prototype.getTileTexture=function(X){var et=this._tileTextures[X];return et&&et.length>0?et.pop():null},Or.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var et=this.imageManager.getPattern(X.from.toString()),K=this.imageManager.getPattern(X.to.toString());return!et||!K},Or.prototype.useProgram=function(X,et){this.cache=this.cache||{};var K=""+X+(et?et.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[K]||(this.cache[K]=new Ql(this.context,X,Au[X],et,ss[X],this._showOverdrawInspector)),this.cache[K]},Or.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Or.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Or.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},Or.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Zr=function(X,et){this.points=X,this.planes=et};Zr.fromInvProjectionMatrix=function(X,et,K){var ut=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],kt=Math.pow(2,K),jt=ut.map(function(Le){return i.transformMat4([],Le,X)}).map(function(Le){return i.scale$1([],Le,1/Le[3]/et*kt)}),Qt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],de=Qt.map(function(Le){var He=i.sub([],jt[Le[0]],jt[Le[1]]),sr=i.sub([],jt[Le[2]],jt[Le[1]]),tr=i.normalize([],i.cross([],He,sr)),mr=-i.dot(tr,jt[Le[1]]);return tr.concat(mr)});return new Zr(jt,de)};var pn=function(X,et){this.min=X,this.max=et,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};pn.prototype.quadrant=function(X){for(var et=[X%2===0,X<2],K=i.clone$2(this.min),ut=i.clone$2(this.max),kt=0;kt<et.length;kt++)K[kt]=et[kt]?this.min[kt]:this.center[kt],ut[kt]=et[kt]?this.center[kt]:this.max[kt];return ut[2]=this.max[2],new pn(K,ut)},pn.prototype.distanceX=function(X){var et=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return et-X[0]},pn.prototype.distanceY=function(X){var et=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return et-X[1]},pn.prototype.intersects=function(X){for(var et=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],K=!0,ut=0;ut<X.planes.length;ut++){for(var kt=X.planes[ut],jt=0,Qt=0;Qt<et.length;Qt++)jt+=i.dot$1(kt,et[Qt])>=0;if(jt===0)return 0;jt!==et.length&&(K=!1)}if(K)return 2;for(var de=0;de<3;de++){for(var Le=Number.MAX_VALUE,He=-Number.MAX_VALUE,sr=0;sr<X.points.length;sr++){var tr=X.points[sr][de]-this.min[de];Le=Math.min(Le,tr),He=Math.max(He,tr)}if(He<0||Le>this.max[de]-this.min[de])return 0}return 1};var _n=function(X,et,K,ut){if(X===void 0&&(X=0),et===void 0&&(et=0),K===void 0&&(K=0),ut===void 0&&(ut=0),isNaN(X)||X<0||isNaN(et)||et<0||isNaN(K)||K<0||isNaN(ut)||ut<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=et,this.left=K,this.right=ut};_n.prototype.interpolate=function(X,et,K){return et.top!=null&&X.top!=null&&(this.top=i.number(X.top,et.top,K)),et.bottom!=null&&X.bottom!=null&&(this.bottom=i.number(X.bottom,et.bottom,K)),et.left!=null&&X.left!=null&&(this.left=i.number(X.left,et.left,K)),et.right!=null&&X.right!=null&&(this.right=i.number(X.right,et.right,K)),this},_n.prototype.getCenter=function(X,et){var K=i.clamp((this.left+X-this.right)/2,0,X),ut=i.clamp((this.top+et-this.bottom)/2,0,et);return new i.Point(K,ut)},_n.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},_n.prototype.clone=function(){return new _n(this.top,this.bottom,this.left,this.right)},_n.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Tn=function(X,et,K,ut,kt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=kt===void 0?!0:kt,this._minZoom=X||0,this._maxZoom=et||22,this._minPitch=K??0,this._maxPitch=ut??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new _n,this._posMatrixCache={},this._alignedPosMatrixCache={}},jn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Tn.prototype.clone=function(){var X=new Tn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},jn.minZoom.get=function(){return this._minZoom},jn.minZoom.set=function(X){this._minZoom!==X&&(this._minZoom=X,this.zoom=Math.max(this.zoom,X))},jn.maxZoom.get=function(){return this._maxZoom},jn.maxZoom.set=function(X){this._maxZoom!==X&&(this._maxZoom=X,this.zoom=Math.min(this.zoom,X))},jn.minPitch.get=function(){return this._minPitch},jn.minPitch.set=function(X){this._minPitch!==X&&(this._minPitch=X,this.pitch=Math.max(this.pitch,X))},jn.maxPitch.get=function(){return this._maxPitch},jn.maxPitch.set=function(X){this._maxPitch!==X&&(this._maxPitch=X,this.pitch=Math.min(this.pitch,X))},jn.renderWorldCopies.get=function(){return this._renderWorldCopies},jn.renderWorldCopies.set=function(X){X===void 0?X=!0:X===null&&(X=!1),this._renderWorldCopies=X},jn.worldSize.get=function(){return this.tileSize*this.scale},jn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},jn.size.get=function(){return new i.Point(this.width,this.height)},jn.bearing.get=function(){return-this.angle/Math.PI*180},jn.bearing.set=function(X){var et=-i.wrap(X,-180,180)*Math.PI/180;this.angle!==et&&(this._unmodified=!1,this.angle=et,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},jn.pitch.get=function(){return this._pitch/Math.PI*180},jn.pitch.set=function(X){var et=i.clamp(X,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==et&&(this._unmodified=!1,this._pitch=et,this._calcMatrices())},jn.fov.get=function(){return this._fov/Math.PI*180},jn.fov.set=function(X){X=Math.max(.01,Math.min(60,X)),this._fov!==X&&(this._unmodified=!1,this._fov=X/180*Math.PI,this._calcMatrices())},jn.zoom.get=function(){return this._zoom},jn.zoom.set=function(X){var et=Math.min(Math.max(X,this.minZoom),this.maxZoom);this._zoom!==et&&(this._unmodified=!1,this._zoom=et,this.scale=this.zoomScale(et),this.tileZoom=Math.floor(et),this.zoomFraction=et-this.tileZoom,this._constrain(),this._calcMatrices())},jn.center.get=function(){return this._center},jn.center.set=function(X){X.lat===this._center.lat&&X.lng===this._center.lng||(this._unmodified=!1,this._center=X,this._constrain(),this._calcMatrices())},jn.padding.get=function(){return this._edgeInsets.toJSON()},jn.padding.set=function(X){this._edgeInsets.equals(X)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,X,1),this._calcMatrices())},jn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Tn.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},Tn.prototype.interpolatePadding=function(X,et,K){this._unmodified=!1,this._edgeInsets.interpolate(X,et,K),this._constrain(),this._calcMatrices()},Tn.prototype.coveringZoomLevel=function(X){var et=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,et)},Tn.prototype.getVisibleUnwrappedCoordinates=function(X){var et=[new i.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var K=this.pointCoordinate(new i.Point(0,0)),ut=this.pointCoordinate(new i.Point(this.width,0)),kt=this.pointCoordinate(new i.Point(this.width,this.height)),jt=this.pointCoordinate(new i.Point(0,this.height)),Qt=Math.floor(Math.min(K.x,ut.x,kt.x,jt.x)),de=Math.floor(Math.max(K.x,ut.x,kt.x,jt.x)),Le=1,He=Qt-Le;He<=de+Le;He++)He!==0&&et.push(new i.UnwrappedTileID(He,X));return et},Tn.prototype.coveringTiles=function(X){var et=this.coveringZoomLevel(X),K=et;if(X.minzoom!==void 0&&et<X.minzoom)return[];X.maxzoom!==void 0&&et>X.maxzoom&&(et=X.maxzoom);var ut=i.MercatorCoordinate.fromLngLat(this.center),kt=Math.pow(2,et),jt=[kt*ut.x,kt*ut.y,0],Qt=Zr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,et),de=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(de=et);var Le=3,He=function(si){return{aabb:new pn([si*kt,0,0],[(si+1)*kt,kt,0]),zoom:0,x:0,y:0,wrap:si,fullyVisible:!1}},sr=[],tr=[],mr=et,Cr=X.reparseOverscaled?K:et;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)sr.push(He(-Xr)),sr.push(He(Xr));for(sr.push(He(0));sr.length>0;){var Nr=sr.pop(),Br=Nr.x,Kr=Nr.y,cn=Nr.fullyVisible;if(!cn){var Fn=Nr.aabb.intersects(Qt);if(Fn===0)continue;cn=Fn===2}var In=Nr.aabb.distanceX(jt),Dn=Nr.aabb.distanceY(jt),Bn=Math.max(Math.abs(In),Math.abs(Dn)),Nn=Le+(1<<mr-Nr.zoom)-2;if(Nr.zoom===mr||Bn>Nn&&Nr.zoom>=de){tr.push({tileID:new i.OverscaledTileID(Nr.zoom===mr?Cr:Nr.zoom,Nr.wrap,Nr.zoom,Br,Kr),distanceSq:i.sqrLen([jt[0]-.5-Br,jt[1]-.5-Kr])});continue}for(var Wn=0;Wn<4;Wn++){var Zn=(Br<<1)+Wn%2,ci=(Kr<<1)+(Wn>>1);sr.push({aabb:Nr.aabb.quadrant(Wn),zoom:Nr.zoom+1,x:Zn,y:ci,wrap:Nr.wrap,fullyVisible:cn})}}return tr.sort(function(si,li){return si.distanceSq-li.distanceSq}).map(function(si){return si.tileID})},Tn.prototype.resize=function(X,et){this.width=X,this.height=et,this.pixelsToGLUnits=[2/X,-2/et],this._constrain(),this._calcMatrices()},jn.unmodified.get=function(){return this._unmodified},Tn.prototype.zoomScale=function(X){return Math.pow(2,X)},Tn.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},Tn.prototype.project=function(X){var et=i.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(X.lng)*this.worldSize,i.mercatorYfromLat(et)*this.worldSize)},Tn.prototype.unproject=function(X){return new i.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},jn.point.get=function(){return this.project(this.center)},Tn.prototype.setLocationAtPoint=function(X,et){var K=this.pointCoordinate(et),ut=this.pointCoordinate(this.centerPoint),kt=this.locationCoordinate(X),jt=new i.MercatorCoordinate(kt.x-(K.x-ut.x),kt.y-(K.y-ut.y));this.center=this.coordinateLocation(jt),this._renderWorldCopies&&(this.center=this.center.wrap())},Tn.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},Tn.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},Tn.prototype.locationCoordinate=function(X){return i.MercatorCoordinate.fromLngLat(X)},Tn.prototype.coordinateLocation=function(X){return X.toLngLat()},Tn.prototype.pointCoordinate=function(X){var et=0,K=[X.x,X.y,0,1],ut=[X.x,X.y,1,1];i.transformMat4(K,K,this.pixelMatrixInverse),i.transformMat4(ut,ut,this.pixelMatrixInverse);var kt=K[3],jt=ut[3],Qt=K[0]/kt,de=ut[0]/jt,Le=K[1]/kt,He=ut[1]/jt,sr=K[2]/kt,tr=ut[2]/jt,mr=sr===tr?0:(et-sr)/(tr-sr);return new i.MercatorCoordinate(i.number(Qt,de,mr)/this.worldSize,i.number(Le,He,mr)/this.worldSize)},Tn.prototype.coordinatePoint=function(X){var et=[X.x*this.worldSize,X.y*this.worldSize,0,1];return i.transformMat4(et,et,this.pixelMatrix),new i.Point(et[0]/et[3],et[1]/et[3])},Tn.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Tn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Tn.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Tn.prototype.calculatePosMatrix=function(X,et){et===void 0&&(et=!1);var K=X.key,ut=et?this._alignedPosMatrixCache:this._posMatrixCache;if(ut[K])return ut[K];var kt=X.canonical,jt=this.worldSize/this.zoomScale(kt.z),Qt=kt.x+Math.pow(2,kt.z)*X.wrap,de=i.identity(new Float64Array(16));return i.translate(de,de,[Qt*jt,kt.y*jt,0]),i.scale(de,de,[jt/i.EXTENT,jt/i.EXTENT,1]),i.multiply(de,et?this.alignedProjMatrix:this.projMatrix,de),ut[K]=new Float32Array(de),ut[K]},Tn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Tn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,et=90,K=-180,ut=180,kt,jt,Qt,de,Le=this.size,He=this._unmodified;if(this.latRange){var sr=this.latRange;X=i.mercatorYfromLat(sr[1])*this.worldSize,et=i.mercatorYfromLat(sr[0])*this.worldSize,kt=et-X<Le.y?Le.y/(et-X):0}if(this.lngRange){var tr=this.lngRange;K=i.mercatorXfromLng(tr[0])*this.worldSize,ut=i.mercatorXfromLng(tr[1])*this.worldSize,jt=ut-K<Le.x?Le.x/(ut-K):0}var mr=this.point,Cr=Math.max(jt||0,kt||0);if(Cr){this.center=this.unproject(new i.Point(jt?(ut+K)/2:mr.x,kt?(et+X)/2:mr.y)),this.zoom+=this.scaleZoom(Cr),this._unmodified=He,this._constraining=!1;return}if(this.latRange){var Xr=mr.y,Nr=Le.y/2;Xr-Nr<X&&(de=X+Nr),Xr+Nr>et&&(de=et-Nr)}if(this.lngRange){var Br=mr.x,Kr=Le.x/2;Br-Kr<K&&(Qt=K+Kr),Br+Kr>ut&&(Qt=ut-Kr)}(Qt!==void 0||de!==void 0)&&(this.center=this.unproject(new i.Point(Qt!==void 0?Qt:mr.x,de!==void 0?de:mr.y))),this._unmodified=He,this._constraining=!1}},Tn.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,et=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var K=Math.PI/2+this._pitch,ut=this._fov*(.5+et.y/this.height),kt=Math.sin(ut)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-K-ut,.01,Math.PI-.01)),jt=this.point,Qt=jt.x,de=jt.y,Le=Math.cos(Math.PI/2-this._pitch)*kt+this.cameraToCenterDistance,He=Le*1.01,sr=this.height/50,tr=new Float64Array(16);i.perspective(tr,this._fov,this.width/this.height,sr,He),tr[8]=-et.x*2/this.width,tr[9]=et.y*2/this.height,i.scale(tr,tr,[1,-1,1]),i.translate(tr,tr,[0,0,-this.cameraToCenterDistance]),i.rotateX(tr,tr,this._pitch),i.rotateZ(tr,tr,this.angle),i.translate(tr,tr,[-Qt,-de,0]),this.mercatorMatrix=i.scale([],tr,[this.worldSize,this.worldSize,this.worldSize]),i.scale(tr,tr,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=tr,this.invProjMatrix=i.invert([],this.projMatrix);var mr=this.width%2/2,Cr=this.height%2/2,Xr=Math.cos(this.angle),Nr=Math.sin(this.angle),Br=Qt-Math.round(Qt)+Xr*mr+Nr*Cr,Kr=de-Math.round(de)+Xr*Cr+Nr*mr,cn=new Float64Array(tr);if(i.translate(cn,cn,[Br>.5?Br-1:Br,Kr>.5?Kr-1:Kr,0]),this.alignedProjMatrix=cn,tr=i.create(),i.scale(tr,tr,[this.width/2,-this.height/2,1]),i.translate(tr,tr,[1,-1,0]),this.labelPlaneMatrix=tr,tr=i.create(),i.scale(tr,tr,[1,-1,1]),i.translate(tr,tr,[-1,-1,0]),i.scale(tr,tr,[2/this.width,2/this.height,1]),this.glCoordMatrix=tr,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),tr=i.invert(new Float64Array(16),this.pixelMatrix),!tr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=tr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Tn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new i.Point(0,0)),et=[X.x*this.worldSize,X.y*this.worldSize,0,1],K=i.transformMat4(et,et,this.pixelMatrix);return K[3]/this.cameraToCenterDistance},Tn.prototype.getCameraPoint=function(){var X=this._pitch,et=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,et))},Tn.prototype.getCameraQueryGeometry=function(X){var et=this.getCameraPoint();if(X.length===1)return[X[0],et];for(var K=et.x,ut=et.y,kt=et.x,jt=et.y,Qt=0,de=X;Qt<de.length;Qt+=1){var Le=de[Qt];K=Math.min(K,Le.x),ut=Math.min(ut,Le.y),kt=Math.max(kt,Le.x),jt=Math.max(jt,Le.y)}return[new i.Point(K,ut),new i.Point(kt,ut),new i.Point(kt,jt),new i.Point(K,jt),new i.Point(K,ut)]},Object.defineProperties(Tn.prototype,jn);function wi(X,et){var K=!1,ut=null,kt=function(){ut=null,K&&(X(),ut=setTimeout(kt,et),K=!1)};return function(){return K=!0,ut||kt(),ut}}var Ai=function(X){this._hashName=X&&encodeURIComponent(X),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=wi(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ai.prototype.addTo=function(X){return this._map=X,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ai.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ai.prototype.getHashString=function(X){var et=this._map.getCenter(),K=Math.round(this._map.getZoom()*100)/100,ut=Math.ceil((K*Math.LN2+Math.log(512/360/.5))/Math.LN10),kt=Math.pow(10,ut),jt=Math.round(et.lng*kt)/kt,Qt=Math.round(et.lat*kt)/kt,de=this._map.getBearing(),Le=this._map.getPitch(),He="";if(X?He+="/"+jt+"/"+Qt+"/"+K:He+=K+"/"+Qt+"/"+jt,(de||Le)&&(He+="/"+Math.round(de*10)/10),Le&&(He+="/"+Math.round(Le)),this._hashName){var sr=this._hashName,tr=!1,mr=i.window.location.hash.slice(1).split("&").map(function(Cr){var Xr=Cr.split("=")[0];return Xr===sr?(tr=!0,Xr+"="+He):Cr}).filter(function(Cr){return Cr});return tr||mr.push(sr+"="+He),"#"+mr.join("&")}return"#"+He},Ai.prototype._getCurrentHash=function(){var X=this,et=i.window.location.hash.replace("#","");if(this._hashName){var K;return et.split("&").map(function(ut){return ut.split("=")}).forEach(function(ut){ut[0]===X._hashName&&(K=ut)}),(K&&K[1]||"").split("/")}return et.split("/")},Ai.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(K){return isNaN(K)})){var et=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:et,pitch:+(X[4]||0)}),!0}return!1},Ai.prototype._updateHashUnthrottled=function(){var X=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,X)}catch{}};var Mi={linearity:.3,easing:i.bezier(0,0,.3,1)},Ci=i.extend({deceleration:2500,maxSpeed:1400},Mi),Ii=i.extend({deceleration:20,maxSpeed:1400},Mi),$i=i.extend({deceleration:1e3,maxSpeed:360},Mi),xa=i.extend({deceleration:1e3,maxSpeed:90},Mi),lt=function(X){this._map=X,this.clear()};lt.prototype.clear=function(){this._inertiaBuffer=[]},lt.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:X})},lt.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,et=i.browser.now(),K=160;X.length>0&&et-X[0].time>K;)X.shift()},lt.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var et={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},K=0,ut=this._inertiaBuffer;K<ut.length;K+=1){var kt=ut[K],jt=kt.settings;et.zoom+=jt.zoomDelta||0,et.bearing+=jt.bearingDelta||0,et.pitch+=jt.pitchDelta||0,jt.panDelta&&et.pan._add(jt.panDelta),jt.around&&(et.around=jt.around),jt.pinchAround&&(et.pinchAround=jt.pinchAround)}var Qt=this._inertiaBuffer[this._inertiaBuffer.length-1],de=Qt.time-this._inertiaBuffer[0].time,Le={};if(et.pan.mag()){var He=Ct(et.pan.mag(),de,i.extend({},Ci,X||{}));Le.offset=et.pan.mult(He.amount/et.pan.mag()),Le.center=this._map.transform.center,_t(Le,He)}if(et.zoom){var sr=Ct(et.zoom,de,Ii);Le.zoom=this._map.transform.zoom+sr.amount,_t(Le,sr)}if(et.bearing){var tr=Ct(et.bearing,de,$i);Le.bearing=this._map.transform.bearing+i.clamp(tr.amount,-179,179),_t(Le,tr)}if(et.pitch){var mr=Ct(et.pitch,de,xa);Le.pitch=this._map.transform.pitch+mr.amount,_t(Le,mr)}if(Le.zoom||Le.bearing){var Cr=et.pinchAround===void 0?et.around:et.pinchAround;Le.around=Cr?this._map.unproject(Cr):this._map.getCenter()}return this.clear(),i.extend(Le,{noMoveStart:!0})}};function _t(X,et){(!X.duration||X.duration<et.duration)&&(X.duration=et.duration,X.easing=et.easing)}function Ct(X,et,K){var ut=K.maxSpeed,kt=K.linearity,jt=K.deceleration,Qt=i.clamp(X*kt/(et/1e3),-ut,ut),de=Math.abs(Qt)/(jt*kt);return{easing:K.easing,duration:de*1e3,amount:Qt*(de/2)}}var Ht=function(X){function et(ut,kt,jt,Qt){Qt===void 0&&(Qt={});var de=T.mousePos(kt.getCanvasContainer(),jt),Le=kt.unproject(de);X.call(this,ut,i.extend({point:de,lngLat:Le,originalEvent:jt},Qt)),this._defaultPrevented=!1,this.target=kt}X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et;var K={defaultPrevented:{configurable:!0}};return et.prototype.preventDefault=function(){this._defaultPrevented=!0},K.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(et.prototype,K),et}(i.Event),Xt=function(X){function et(ut,kt,jt){var Qt=ut==="touchend"?jt.changedTouches:jt.touches,de=T.touchPos(kt.getCanvasContainer(),Qt),Le=de.map(function(tr){return kt.unproject(tr)}),He=de.reduce(function(tr,mr,Cr,Xr){return tr.add(mr.div(Xr.length))},new i.Point(0,0)),sr=kt.unproject(He);X.call(this,ut,{points:de,point:He,lngLats:Le,lngLat:sr,originalEvent:jt}),this._defaultPrevented=!1}X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et;var K={defaultPrevented:{configurable:!0}};return et.prototype.preventDefault=function(){this._defaultPrevented=!0},K.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(et.prototype,K),et}(i.Event),ee=function(X){function et(ut,kt,jt){X.call(this,ut,{originalEvent:jt}),this._defaultPrevented=!1}X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et;var K={defaultPrevented:{configurable:!0}};return et.prototype.preventDefault=function(){this._defaultPrevented=!0},K.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(et.prototype,K),et}(i.Event),xe=function(X,et){this._map=X,this._clickTolerance=et.clickTolerance};xe.prototype.reset=function(){delete this._mousedownPos},xe.prototype.wheel=function(X){return this._firePreventable(new ee(X.type,this._map,X))},xe.prototype.mousedown=function(X,et){return this._mousedownPos=et,this._firePreventable(new Ht(X.type,this._map,X))},xe.prototype.mouseup=function(X){this._map.fire(new Ht(X.type,this._map,X))},xe.prototype.click=function(X,et){this._mousedownPos&&this._mousedownPos.dist(et)>=this._clickTolerance||this._map.fire(new Ht(X.type,this._map,X))},xe.prototype.dblclick=function(X){return this._firePreventable(new Ht(X.type,this._map,X))},xe.prototype.mouseover=function(X){this._map.fire(new Ht(X.type,this._map,X))},xe.prototype.mouseout=function(X){this._map.fire(new Ht(X.type,this._map,X))},xe.prototype.touchstart=function(X){return this._firePreventable(new Xt(X.type,this._map,X))},xe.prototype.touchmove=function(X){this._map.fire(new Xt(X.type,this._map,X))},xe.prototype.touchend=function(X){this._map.fire(new Xt(X.type,this._map,X))},xe.prototype.touchcancel=function(X){this._map.fire(new Xt(X.type,this._map,X))},xe.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},xe.prototype.isEnabled=function(){return!0},xe.prototype.isActive=function(){return!1},xe.prototype.enable=function(){},xe.prototype.disable=function(){};var me=function(X){this._map=X};me.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},me.prototype.mousemove=function(X){this._map.fire(new Ht(X.type,this._map,X))},me.prototype.mousedown=function(){this._delayContextMenu=!0},me.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ht("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},me.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new Ht(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},me.prototype.isEnabled=function(){return!0},me.prototype.isActive=function(){return!1},me.prototype.enable=function(){},me.prototype.disable=function(){};var ze=function(X,et){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=et.clickTolerance||1};ze.prototype.isEnabled=function(){return!!this._enabled},ze.prototype.isActive=function(){return!!this._active},ze.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ze.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ze.prototype.mousedown=function(X,et){this.isEnabled()&&X.shiftKey&&X.button===0&&(T.disableDrag(),this._startPos=this._lastPos=et,this._active=!0)},ze.prototype.mousemoveWindow=function(X,et){if(this._active){var K=et;if(!(this._lastPos.equals(K)||!this._box&&K.dist(this._startPos)<this._clickTolerance)){var ut=this._startPos;this._lastPos=K,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var kt=Math.min(ut.x,K.x),jt=Math.max(ut.x,K.x),Qt=Math.min(ut.y,K.y),de=Math.max(ut.y,K.y);T.setTransform(this._box,"translate("+kt+"px,"+Qt+"px)"),this._box.style.width=jt-kt+"px",this._box.style.height=de-Qt+"px"}}},ze.prototype.mouseupWindow=function(X,et){var K=this;if(this._active&&X.button===0){var ut=this._startPos,kt=et;if(this.reset(),T.suppressClick(),ut.x===kt.x&&ut.y===kt.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(jt){return jt.fitScreenCoordinates(ut,kt,K._map.getBearing(),{linear:!0})}}}},ze.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},ze.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},ze.prototype._fireEvent=function(X,et){return this._map.fire(new i.Event(X,{originalEvent:et}))};function Ie(X,et){for(var K={},ut=0;ut<X.length;ut++)K[X[ut].identifier]=et[ut];return K}function Ze(X){for(var et=new i.Point(0,0),K=0,ut=X;K<ut.length;K+=1){var kt=ut[K];et._add(kt)}return et.div(X.length)}var br=500,wr=500,Hr=30,Jr=function(X){this.reset(),this.numTouches=X.numTouches};Jr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Jr.prototype.touchstart=function(X,et,K){(this.centroid||K.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),K.length===this.numTouches&&(this.centroid=Ze(et),this.touches=Ie(K,et)))},Jr.prototype.touchmove=function(X,et,K){if(!(this.aborted||!this.centroid)){var ut=Ie(K,et);for(var kt in this.touches){var jt=this.touches[kt],Qt=ut[kt];(!Qt||Qt.dist(jt)>Hr)&&(this.aborted=!0)}}},Jr.prototype.touchend=function(X,et,K){if((!this.centroid||X.timeStamp-this.startTime>wr)&&(this.aborted=!0),K.length===0){var ut=!this.aborted&&this.centroid;if(this.reset(),ut)return ut}};var Ar=function(X){this.singleTap=new Jr(X),this.numTaps=X.numTaps,this.reset()};Ar.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ar.prototype.touchstart=function(X,et,K){this.singleTap.touchstart(X,et,K)},Ar.prototype.touchmove=function(X,et,K){this.singleTap.touchmove(X,et,K)},Ar.prototype.touchend=function(X,et,K){var ut=this.singleTap.touchend(X,et,K);if(ut){var kt=X.timeStamp-this.lastTime<br,jt=!this.lastTap||this.lastTap.dist(ut)<Hr;if((!kt||!jt)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=ut,this.count===this.numTaps)return this.reset(),ut}};var Dr=function(){this._zoomIn=new Ar({numTouches:1,numTaps:2}),this._zoomOut=new Ar({numTouches:2,numTaps:1}),this.reset()};Dr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Dr.prototype.touchstart=function(X,et,K){this._zoomIn.touchstart(X,et,K),this._zoomOut.touchstart(X,et,K)},Dr.prototype.touchmove=function(X,et,K){this._zoomIn.touchmove(X,et,K),this._zoomOut.touchmove(X,et,K)},Dr.prototype.touchend=function(X,et,K){var ut=this,kt=this._zoomIn.touchend(X,et,K),jt=this._zoomOut.touchend(X,et,K);if(kt)return this._active=!0,X.preventDefault(),setTimeout(function(){return ut.reset()},0),{cameraAnimation:function(Qt){return Qt.easeTo({duration:300,zoom:Qt.getZoom()+1,around:Qt.unproject(kt)},{originalEvent:X})}};if(jt)return this._active=!0,X.preventDefault(),setTimeout(function(){return ut.reset()},0),{cameraAnimation:function(Qt){return Qt.easeTo({duration:300,zoom:Qt.getZoom()-1,around:Qt.unproject(jt)},{originalEvent:X})}}},Dr.prototype.touchcancel=function(){this.reset()},Dr.prototype.enable=function(){this._enabled=!0},Dr.prototype.disable=function(){this._enabled=!1,this.reset()},Dr.prototype.isEnabled=function(){return this._enabled},Dr.prototype.isActive=function(){return this._active};var Yr=0,Qr=2,rn={};rn[Yr]=1,rn[Qr]=2;function Vr(X,et){var K=rn[et];return X.buttons===void 0||(X.buttons&K)!==K}var zn=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};zn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},zn.prototype._correctButton=function(X,et){return!1},zn.prototype._move=function(X,et){return{}},zn.prototype.mousedown=function(X,et){if(!this._lastPoint){var K=T.mouseButton(X);this._correctButton(X,K)&&(this._lastPoint=et,this._eventButton=K)}},zn.prototype.mousemoveWindow=function(X,et){var K=this._lastPoint;if(K){if(X.preventDefault(),Vr(X,this._eventButton)){this.reset();return}if(!(!this._moved&&et.dist(K)<this._clickTolerance))return this._moved=!0,this._lastPoint=et,this._move(K,et)}},zn.prototype.mouseupWindow=function(X){if(this._lastPoint){var et=T.mouseButton(X);et===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())}},zn.prototype.enable=function(){this._enabled=!0},zn.prototype.disable=function(){this._enabled=!1,this.reset()},zn.prototype.isEnabled=function(){return this._enabled},zn.prototype.isActive=function(){return this._active};var Hn=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.mousedown=function(K,ut){X.prototype.mousedown.call(this,K,ut),this._lastPoint&&(this._active=!0)},et.prototype._correctButton=function(K,ut){return ut===Yr&&!K.ctrlKey},et.prototype._move=function(K,ut){return{around:ut,panDelta:ut.sub(K)}},et}(zn),ti=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype._correctButton=function(K,ut){return ut===Yr&&K.ctrlKey||ut===Qr},et.prototype._move=function(K,ut){var kt=.8,jt=(ut.x-K.x)*kt;if(jt)return this._active=!0,{bearingDelta:jt}},et.prototype.contextmenu=function(K){K.preventDefault()},et}(zn),Gn=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype._correctButton=function(K,ut){return ut===Yr&&K.ctrlKey||ut===Qr},et.prototype._move=function(K,ut){var kt=-.5,jt=(ut.y-K.y)*kt;if(jt)return this._active=!0,{pitchDelta:jt}},et.prototype.contextmenu=function(K){K.preventDefault()},et}(zn),Jn=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};Jn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},Jn.prototype.touchstart=function(X,et,K){return this._calculateTransform(X,et,K)},Jn.prototype.touchmove=function(X,et,K){if(!(!this._active||K.length<this._minTouches))return X.preventDefault(),this._calculateTransform(X,et,K)},Jn.prototype.touchend=function(X,et,K){this._calculateTransform(X,et,K),this._active&&K.length<this._minTouches&&this.reset()},Jn.prototype.touchcancel=function(){this.reset()},Jn.prototype._calculateTransform=function(X,et,K){K.length>0&&(this._active=!0);var ut=Ie(K,et),kt=new i.Point(0,0),jt=new i.Point(0,0),Qt=0;for(var de in ut){var Le=ut[de],He=this._touches[de];He&&(kt._add(Le),jt._add(Le.sub(He)),Qt++,ut[de]=Le)}if(this._touches=ut,!(Qt<this._minTouches||!jt.mag())){var sr=jt.div(Qt);if(this._sum._add(sr),!(this._sum.mag()<this._clickTolerance)){var tr=kt.div(Qt);return{around:tr,panDelta:sr}}}},Jn.prototype.enable=function(){this._enabled=!0},Jn.prototype.disable=function(){this._enabled=!1,this.reset()},Jn.prototype.isEnabled=function(){return this._enabled},Jn.prototype.isActive=function(){return this._active};var ei=function(){this.reset()};ei.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ei.prototype._start=function(X){},ei.prototype._move=function(X,et,K){return{}},ei.prototype.touchstart=function(X,et,K){this._firstTwoTouches||K.length<2||(this._firstTwoTouches=[K[0].identifier,K[1].identifier],this._start([et[0],et[1]]))},ei.prototype.touchmove=function(X,et,K){if(this._firstTwoTouches){X.preventDefault();var ut=this._firstTwoTouches,kt=ut[0],jt=ut[1],Qt=Ri(K,et,kt),de=Ri(K,et,jt);if(!(!Qt||!de)){var Le=this._aroundCenter?null:Qt.add(de).div(2);return this._move([Qt,de],Le,X)}}},ei.prototype.touchend=function(X,et,K){if(this._firstTwoTouches){var ut=this._firstTwoTouches,kt=ut[0],jt=ut[1],Qt=Ri(K,et,kt),de=Ri(K,et,jt);Qt&&de||(this._active&&T.suppressClick(),this.reset())}},ei.prototype.touchcancel=function(){this.reset()},ei.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},ei.prototype.disable=function(){this._enabled=!1,this.reset()},ei.prototype.isEnabled=function(){return this._enabled},ei.prototype.isActive=function(){return this._active};function Ri(X,et,K){for(var ut=0;ut<X.length;ut++)if(X[ut].identifier===K)return et[ut]}var di=.1;function Si(X,et){return Math.log(X/et)/Math.LN2}var Hi=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.reset=function(){X.prototype.reset.call(this),delete this._distance,delete this._startDistance},et.prototype._start=function(K){this._startDistance=this._distance=K[0].dist(K[1])},et.prototype._move=function(K,ut){var kt=this._distance;if(this._distance=K[0].dist(K[1]),!(!this._active&&Math.abs(Si(this._distance,this._startDistance))<di))return this._active=!0,{zoomDelta:Si(this._distance,kt),pinchAround:ut}},et}(ei),_a=25;function Vi(X,et){return X.angleWith(et)*180/Math.PI}var Yn=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.reset=function(){X.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},et.prototype._start=function(K){this._startVector=this._vector=K[0].sub(K[1]),this._minDiameter=K[0].dist(K[1])},et.prototype._move=function(K,ut){var kt=this._vector;if(this._vector=K[0].sub(K[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Vi(this._vector,kt),pinchAround:ut}},et.prototype._isBelowThreshold=function(K){this._minDiameter=Math.min(this._minDiameter,K.mag());var ut=Math.PI*this._minDiameter,kt=_a/ut*360,jt=Vi(K,this._startVector);return Math.abs(jt)<kt},et}(ei);function Pi(X){return Math.abs(X.y)>Math.abs(X.x)}var pi=100,Fi=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.reset=function(){X.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},et.prototype._start=function(K){this._lastPoints=K,Pi(K[0].sub(K[1]))&&(this._valid=!1)},et.prototype._move=function(K,ut,kt){var jt=K[0].sub(this._lastPoints[0]),Qt=K[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(jt,Qt,kt.timeStamp),!!this._valid){this._lastPoints=K,this._active=!0;var de=(jt.y+Qt.y)/2,Le=-.5;return{pitchDelta:de*Le}}},et.prototype.gestureBeginsVertically=function(K,ut,kt){if(this._valid!==void 0)return this._valid;var jt=2,Qt=K.mag()>=jt,de=ut.mag()>=jt;if(!(!Qt&&!de)){if(!Qt||!de)return this._firstMove===void 0&&(this._firstMove=kt),kt-this._firstMove<pi?void 0:!1;var Le=K.y>0==ut.y>0;return Pi(K)&&Pi(ut)&&Le}},et}(ei),oa={panStep:100,bearingStep:15,pitchStep:10},Wi=function(){var X=oa;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep,this._rotationDisabled=!1};Wi.prototype.reset=function(){this._active=!1},Wi.prototype.keydown=function(X){var et=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var K=0,ut=0,kt=0,jt=0,Qt=0;switch(X.keyCode){case 61:case 107:case 171:case 187:K=1;break;case 189:case 109:case 173:K=-1;break;case 37:X.shiftKey?ut=-1:(X.preventDefault(),jt=-1);break;case 39:X.shiftKey?ut=1:(X.preventDefault(),jt=1);break;case 38:X.shiftKey?kt=1:(X.preventDefault(),Qt=-1);break;case 40:X.shiftKey?kt=-1:(X.preventDefault(),Qt=1);break;default:return}return this._rotationDisabled&&(ut=0,kt=0),{cameraAnimation:function(de){var Le=de.getZoom();de.easeTo({duration:300,easeId:"keyboardHandler",easing:Oa,zoom:K?Math.round(Le)+K*(X.shiftKey?2:1):Le,bearing:de.getBearing()+ut*et._bearingStep,pitch:de.getPitch()+kt*et._pitchStep,offset:[-jt*et._panStep,-Qt*et._panStep],center:de.getCenter()},{originalEvent:X})}}}},Wi.prototype.enable=function(){this._enabled=!0},Wi.prototype.disable=function(){this._enabled=!1,this.reset()},Wi.prototype.isEnabled=function(){return this._enabled},Wi.prototype.isActive=function(){return this._active},Wi.prototype.disableRotation=function(){this._rotationDisabled=!0},Wi.prototype.enableRotation=function(){this._rotationDisabled=!1};function Oa(X){return X*(2-X)}var Pa=4.000244140625,Da=1/100,sa=1/450,Wa=2,Qn=function(X,et){this._map=X,this._el=X.getCanvasContainer(),this._handler=et,this._delta=0,this._defaultZoomRate=Da,this._wheelZoomRate=sa,i.bindAll(["_onTimeout"],this)};Qn.prototype.setZoomRate=function(X){this._defaultZoomRate=X},Qn.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},Qn.prototype.isEnabled=function(){return!!this._enabled},Qn.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Qn.prototype.isZooming=function(){return!!this._zooming},Qn.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},Qn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qn.prototype.wheel=function(X){if(this.isEnabled()){var et=X.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,K=i.browser.now(),ut=K-(this._lastWheelEventTime||0);this._lastWheelEventTime=K,et!==0&&et%Pa===0?this._type="wheel":et!==0&&Math.abs(et)<4?this._type="trackpad":ut>400?(this._type=null,this._lastValue=et,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(ut*et)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,et+=this._lastValue)),X.shiftKey&&et&&(et=et/4),this._type&&(this._lastWheelEvent=X,this._delta-=et,this._active||this._start(X)),X.preventDefault()}},Qn.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},Qn.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var et=T.mousePos(this._el,X);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(et)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Qn.prototype.renderFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var et=this._map.transform;if(this._delta!==0){var K=this._type==="wheel"&&Math.abs(this._delta)>Pa?this._wheelZoomRate:this._defaultZoomRate,ut=Wa/(1+Math.exp(-Math.abs(this._delta*K)));this._delta<0&&ut!==0&&(ut=1/ut);var kt=typeof this._targetZoom=="number"?et.zoomScale(this._targetZoom):et.scale;this._targetZoom=Math.min(et.maxZoom,Math.max(et.minZoom,et.scaleZoom(kt*ut))),this._type==="wheel"&&(this._startZoom=et.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var jt=typeof this._targetZoom=="number"?this._targetZoom:et.zoom,Qt=this._startZoom,de=this._easing,Le=!1,He;if(this._type==="wheel"&&Qt&&de){var sr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),tr=de(sr);He=i.number(Qt,jt,tr),sr<1?this._frameId||(this._frameId=!0):Le=!0}else He=jt,Le=!0;return this._active=!0,Le&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Le,zoomDelta:He-et.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Qn.prototype._smoothOutEasing=function(X){var et=i.ease;if(this._prevEase){var K=this._prevEase,ut=(i.browser.now()-K.start)/K.duration,kt=K.easing(ut+.01)-K.easing(ut),jt=.27/Math.sqrt(kt*kt+1e-4)*.01,Qt=Math.sqrt(.27*.27-jt*jt);et=i.bezier(jt,Qt,.25,1)}return this._prevEase={start:i.browser.now(),duration:X,easing:et},et},Qn.prototype.reset=function(){this._active=!1};var vi=function(X,et){this._clickZoom=X,this._tapZoom=et};vi.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},vi.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},vi.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},vi.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ro=function(){this.reset()};ro.prototype.reset=function(){this._active=!1},ro.prototype.dblclick=function(X,et){return X.preventDefault(),{cameraAnimation:function(K){K.easeTo({duration:300,zoom:K.getZoom()+(X.shiftKey?-1:1),around:K.unproject(et)},{originalEvent:X})}}},ro.prototype.enable=function(){this._enabled=!0},ro.prototype.disable=function(){this._enabled=!1,this.reset()},ro.prototype.isEnabled=function(){return this._enabled},ro.prototype.isActive=function(){return this._active};var uo=function(){this._tap=new Ar({numTouches:1,numTaps:1}),this.reset()};uo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},uo.prototype.touchstart=function(X,et,K){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>br&&this.reset(),this._tapTime?K.length>0&&(this._swipePoint=et[0],this._swipeTouch=K[0].identifier):this._tap.touchstart(X,et,K))},uo.prototype.touchmove=function(X,et,K){if(!this._tapTime)this._tap.touchmove(X,et,K);else if(this._swipePoint){if(K[0].identifier!==this._swipeTouch)return;var ut=et[0],kt=ut.y-this._swipePoint.y;return this._swipePoint=ut,X.preventDefault(),this._active=!0,{zoomDelta:kt/128}}},uo.prototype.touchend=function(X,et,K){if(this._tapTime)this._swipePoint&&K.length===0&&this.reset();else{var ut=this._tap.touchend(X,et,K);ut&&(this._tapTime=X.timeStamp)}},uo.prototype.touchcancel=function(){this.reset()},uo.prototype.enable=function(){this._enabled=!0},uo.prototype.disable=function(){this._enabled=!1,this.reset()},uo.prototype.isEnabled=function(){return this._enabled},uo.prototype.isActive=function(){return this._active};var Na=function(X,et,K){this._el=X,this._mousePan=et,this._touchPan=K};Na.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Na.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Na.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Na.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Zi=function(X,et,K){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=et,this._mousePitch=K};Zi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Zi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Zi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Zi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ea=function(X,et,K,ut){this._el=X,this._touchZoom=et,this._touchRotate=K,this._tapDragZoom=ut,this._rotationDisabled=!1,this._enabled=!0};Ea.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ea.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ea.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ea.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ea.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ea.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var wa=function(X){return X.zoom||X.drag||X.pitch||X.rotate},Io=function(X){function et(){X.apply(this,arguments)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et}(i.Event);function Xo(X){return X.panDelta&&X.panDelta.mag()||X.zoomDelta||X.bearingDelta||X.pitchDelta}var ha=function(X,et){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new lt(X),this._bearingSnap=et.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(et),i.bindAll(["handleEvent","handleWindowEvent"],this);var K=this._el;this._listeners=[[K,"touchstart",{passive:!0}],[K,"touchmove",{passive:!1}],[K,"touchend",void 0],[K,"touchcancel",void 0],[K,"mousedown",void 0],[K,"mousemove",void 0],[K,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[K,"mouseover",void 0],[K,"mouseout",void 0],[K,"dblclick",void 0],[K,"click",void 0],[K,"keydown",{capture:!1}],[K,"keyup",void 0],[K,"wheel",{passive:!1}],[K,"contextmenu",void 0],[i.window,"blur",void 0]];for(var ut=0,kt=this._listeners;ut<kt.length;ut+=1){var jt=kt[ut],Qt=jt[0],de=jt[1],Le=jt[2];T.addEventListener(Qt,de,Qt===i.window.document?this.handleWindowEvent:this.handleEvent,Le)}};ha.prototype.destroy=function(){for(var X=0,et=this._listeners;X<et.length;X+=1){var K=et[X],ut=K[0],kt=K[1],jt=K[2];T.removeEventListener(ut,kt,ut===i.window.document?this.handleWindowEvent:this.handleEvent,jt)}},ha.prototype._addDefaultHandlers=function(X){var et=this._map,K=et.getCanvasContainer();this._add("mapEvent",new xe(et,X));var ut=et.boxZoom=new ze(et,X);this._add("boxZoom",ut);var kt=new Dr,jt=new ro;et.doubleClickZoom=new vi(jt,kt),this._add("tapZoom",kt),this._add("clickZoom",jt);var Qt=new uo;this._add("tapDragZoom",Qt);var de=et.touchPitch=new Fi;this._add("touchPitch",de);var Le=new ti(X),He=new Gn(X);et.dragRotate=new Zi(X,Le,He),this._add("mouseRotate",Le,["mousePitch"]),this._add("mousePitch",He,["mouseRotate"]);var sr=new Hn(X),tr=new Jn(X);et.dragPan=new Na(K,sr,tr),this._add("mousePan",sr),this._add("touchPan",tr,["touchZoom","touchRotate"]);var mr=new Yn,Cr=new Hi;et.touchZoomRotate=new Ea(K,Cr,mr,Qt),this._add("touchRotate",mr,["touchPan","touchZoom"]),this._add("touchZoom",Cr,["touchPan","touchRotate"]);var Xr=et.scrollZoom=new Qn(et,this);this._add("scrollZoom",Xr,["mousePan"]);var Nr=et.keyboard=new Wi;this._add("keyboard",Nr),this._add("blockableMapEvent",new me(et));for(var Br=0,Kr=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Br<Kr.length;Br+=1){var cn=Kr[Br];X.interactive&&X[cn]&&et[cn].enable(X[cn])}},ha.prototype._add=function(X,et,K){this._handlers.push({handlerName:X,handler:et,allowed:K}),this._handlersById[X]=et},ha.prototype.stop=function(X){if(!this._updatingCamera){for(var et=0,K=this._handlers;et<K.length;et+=1){var ut=K[et],kt=ut.handler;kt.reset()}this._inertia.clear(),this._fireEvents({},{},X),this._changes=[]}},ha.prototype.isActive=function(){for(var X=0,et=this._handlers;X<et.length;X+=1){var K=et[X],ut=K.handler;if(ut.isActive())return!0}return!1},ha.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ha.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ha.prototype.isMoving=function(){return!!wa(this._eventsInProgress)||this.isZooming()},ha.prototype._blockedByActive=function(X,et,K){for(var ut in X)if(ut!==K&&(!et||et.indexOf(ut)<0))return!0;return!1},ha.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},ha.prototype._getMapTouches=function(X){for(var et=[],K=0,ut=X;K<ut.length;K+=1){var kt=ut[K],jt=kt.target;this._el.contains(jt)&&et.push(kt)}return et},ha.prototype.handleEvent=function(X,et){if(X.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var K=X.type==="renderFrame"?void 0:X,ut={needsRenderFrame:!1},kt={},jt={},Qt=X.touches?this._getMapTouches(X.touches):void 0,de=Qt?T.touchPos(this._el,Qt):T.mousePos(this._el,X),Le=0,He=this._handlers;Le<He.length;Le+=1){var sr=He[Le],tr=sr.handlerName,mr=sr.handler,Cr=sr.allowed;if(mr.isEnabled()){var Xr=void 0;this._blockedByActive(jt,Cr,tr)?mr.reset():mr[et||X.type]&&(Xr=mr[et||X.type](X,de,Qt),this.mergeHandlerResult(ut,kt,Xr,tr,K),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||mr.isActive())&&(jt[tr]=mr)}}var Nr={};for(var Br in this._previousActiveHandlers)jt[Br]||(Nr[Br]=K);this._previousActiveHandlers=jt,(Object.keys(Nr).length||Xo(ut))&&(this._changes.push([ut,kt,Nr]),this._triggerRenderFrame()),(Object.keys(jt).length||Xo(ut))&&this._map._stop(!0),this._updatingCamera=!1;var Kr=ut.cameraAnimation;Kr&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Kr(this._map))},ha.prototype.mergeHandlerResult=function(X,et,K,ut,kt){if(K){i.extend(X,K);var jt={handlerName:ut,originalEvent:K.originalEvent||kt};K.zoomDelta!==void 0&&(et.zoom=jt),K.panDelta!==void 0&&(et.drag=jt),K.pitchDelta!==void 0&&(et.pitch=jt),K.bearingDelta!==void 0&&(et.rotate=jt)}},ha.prototype._applyChanges=function(){for(var X={},et={},K={},ut=0,kt=this._changes;ut<kt.length;ut+=1){var jt=kt[ut],Qt=jt[0],de=jt[1],Le=jt[2];Qt.panDelta&&(X.panDelta=(X.panDelta||new i.Point(0,0))._add(Qt.panDelta)),Qt.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+Qt.zoomDelta),Qt.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+Qt.bearingDelta),Qt.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+Qt.pitchDelta),Qt.around!==void 0&&(X.around=Qt.around),Qt.pinchAround!==void 0&&(X.pinchAround=Qt.pinchAround),Qt.noInertia&&(X.noInertia=Qt.noInertia),i.extend(et,de),i.extend(K,Le)}this._updateMapTransform(X,et,K),this._changes=[]},ha.prototype._updateMapTransform=function(X,et,K){var ut=this._map,kt=ut.transform;if(!Xo(X))return this._fireEvents(et,K,!0);var jt=X.panDelta,Qt=X.zoomDelta,de=X.bearingDelta,Le=X.pitchDelta,He=X.around,sr=X.pinchAround;sr!==void 0&&(He=sr),ut._stop(!0),He=He||ut.transform.centerPoint;var tr=kt.pointLocation(jt?He.sub(jt):He);de&&(kt.bearing+=de),Le&&(kt.pitch+=Le),Qt&&(kt.zoom+=Qt),kt.setLocationAtPoint(tr,He),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(et,K,!0)},ha.prototype._fireEvents=function(X,et,K){var ut=this,kt=wa(this._eventsInProgress),jt=wa(X),Qt={};for(var de in X){var Le=X[de],He=Le.originalEvent;this._eventsInProgress[de]||(Qt[de+"start"]=He),this._eventsInProgress[de]=X[de]}!kt&&jt&&this._fireEvent("movestart",jt.originalEvent);for(var sr in Qt)this._fireEvent(sr,Qt[sr]);jt&&this._fireEvent("move",jt.originalEvent);for(var tr in X){var mr=X[tr],Cr=mr.originalEvent;this._fireEvent(tr,Cr)}var Xr={},Nr;for(var Br in this._eventsInProgress){var Kr=this._eventsInProgress[Br],cn=Kr.handlerName,Fn=Kr.originalEvent;this._handlersById[cn].isActive()||(delete this._eventsInProgress[Br],Nr=et[cn]||Fn,Xr[Br+"end"]=Nr)}for(var In in Xr)this._fireEvent(In,Xr[In]);var Dn=wa(this._eventsInProgress);if(K&&(kt||jt)&&!Dn){this._updatingCamera=!0;var Bn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Nn=function(Wn){return Wn!==0&&-ut._bearingSnap<Wn&&Wn<ut._bearingSnap};Bn?(Nn(Bn.bearing||this._map.getBearing())&&(Bn.bearing=0),this._map.easeTo(Bn,{originalEvent:Nr})):(this._map.fire(new i.Event("moveend",{originalEvent:Nr})),Nn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},ha.prototype._fireEvent=function(X,et){this._map.fire(new i.Event(X,et?{originalEvent:et}:{}))},ha.prototype._requestFrame=function(){var X=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(et){delete X._frameId,X.handleEvent(new Io("renderFrame",{timeStamp:et})),X._applyChanges()})},ha.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Ys=function(X){function et(K,ut){X.call(this),this._moving=!1,this._zooming=!1,this.transform=K,this._bearingSnap=ut.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},et.prototype.setCenter=function(K,ut){return this.jumpTo({center:K},ut)},et.prototype.panBy=function(K,ut,kt){return K=i.Point.convert(K).mult(-1),this.panTo(this.transform.center,i.extend({offset:K},ut),kt)},et.prototype.panTo=function(K,ut,kt){return this.easeTo(i.extend({center:K},ut),kt)},et.prototype.getZoom=function(){return this.transform.zoom},et.prototype.setZoom=function(K,ut){return this.jumpTo({zoom:K},ut),this},et.prototype.zoomTo=function(K,ut,kt){return this.easeTo(i.extend({zoom:K},ut),kt)},et.prototype.zoomIn=function(K,ut){return this.zoomTo(this.getZoom()+1,K,ut),this},et.prototype.zoomOut=function(K,ut){return this.zoomTo(this.getZoom()-1,K,ut),this},et.prototype.getBearing=function(){return this.transform.bearing},et.prototype.setBearing=function(K,ut){return this.jumpTo({bearing:K},ut),this},et.prototype.getPadding=function(){return this.transform.padding},et.prototype.setPadding=function(K,ut){return this.jumpTo({padding:K},ut),this},et.prototype.rotateTo=function(K,ut,kt){return this.easeTo(i.extend({bearing:K},ut),kt)},et.prototype.resetNorth=function(K,ut){return this.rotateTo(0,i.extend({duration:1e3},K),ut),this},et.prototype.resetNorthPitch=function(K,ut){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},K),ut),this},et.prototype.snapToNorth=function(K,ut){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(K,ut):this},et.prototype.getPitch=function(){return this.transform.pitch},et.prototype.setPitch=function(K,ut){return this.jumpTo({pitch:K},ut),this},et.prototype.cameraForBounds=function(K,ut){K=i.LngLatBounds.convert(K);var kt=ut&&ut.bearing||0;return this._cameraForBoxAndBearing(K.getNorthWest(),K.getSouthEast(),kt,ut)},et.prototype._cameraForBoxAndBearing=function(K,ut,kt,jt){var Qt={top:0,bottom:0,right:0,left:0};if(jt=i.extend({padding:Qt,offset:[0,0],maxZoom:this.transform.maxZoom},jt),typeof jt.padding=="number"){var de=jt.padding;jt.padding={top:de,bottom:de,right:de,left:de}}jt.padding=i.extend(Qt,jt.padding);var Le=this.transform,He=Le.padding,sr=Le.project(i.LngLat.convert(K)),tr=Le.project(i.LngLat.convert(ut)),mr=sr.rotate(-kt*Math.PI/180),Cr=tr.rotate(-kt*Math.PI/180),Xr=new i.Point(Math.max(mr.x,Cr.x),Math.max(mr.y,Cr.y)),Nr=new i.Point(Math.min(mr.x,Cr.x),Math.min(mr.y,Cr.y)),Br=Xr.sub(Nr),Kr=(Le.width-(He.left+He.right+jt.padding.left+jt.padding.right))/Br.x,cn=(Le.height-(He.top+He.bottom+jt.padding.top+jt.padding.bottom))/Br.y;if(cn<0||Kr<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Fn=Math.min(Le.scaleZoom(Le.scale*Math.min(Kr,cn)),jt.maxZoom),In=typeof jt.offset.x=="number"?new i.Point(jt.offset.x,jt.offset.y):i.Point.convert(jt.offset),Dn=(jt.padding.left-jt.padding.right)/2,Bn=(jt.padding.top-jt.padding.bottom)/2,Nn=new i.Point(Dn,Bn),Wn=Nn.rotate(kt*Math.PI/180),Zn=In.add(Wn),ci=Zn.mult(Le.scale/Le.zoomScale(Fn)),si=Le.unproject(sr.add(tr).div(2).sub(ci));return{center:si,zoom:Fn,bearing:kt}},et.prototype.fitBounds=function(K,ut,kt){return this._fitInternal(this.cameraForBounds(K,ut),ut,kt)},et.prototype.fitScreenCoordinates=function(K,ut,kt,jt,Qt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(K)),this.transform.pointLocation(i.Point.convert(ut)),kt,jt),jt,Qt)},et.prototype._fitInternal=function(K,ut,kt){return K?(ut=i.extend(K,ut),delete ut.padding,ut.linear?this.easeTo(ut,kt):this.flyTo(ut,kt)):this},et.prototype.jumpTo=function(K,ut){this.stop();var kt=this.transform,jt=!1,Qt=!1,de=!1;return"zoom"in K&&kt.zoom!==+K.zoom&&(jt=!0,kt.zoom=+K.zoom),K.center!==void 0&&(kt.center=i.LngLat.convert(K.center)),"bearing"in K&&kt.bearing!==+K.bearing&&(Qt=!0,kt.bearing=+K.bearing),"pitch"in K&&kt.pitch!==+K.pitch&&(de=!0,kt.pitch=+K.pitch),K.padding!=null&&!kt.isPaddingEqual(K.padding)&&(kt.padding=K.padding),this.fire(new i.Event("movestart",ut)).fire(new i.Event("move",ut)),jt&&this.fire(new i.Event("zoomstart",ut)).fire(new i.Event("zoom",ut)).fire(new i.Event("zoomend",ut)),Qt&&this.fire(new i.Event("rotatestart",ut)).fire(new i.Event("rotate",ut)).fire(new i.Event("rotateend",ut)),de&&this.fire(new i.Event("pitchstart",ut)).fire(new i.Event("pitch",ut)).fire(new i.Event("pitchend",ut)),this.fire(new i.Event("moveend",ut))},et.prototype.easeTo=function(K,ut){var kt=this;this._stop(!1,K.easeId),K=i.extend({offset:[0,0],duration:500,easing:i.ease},K),(K.animate===!1||!K.essential&&i.browser.prefersReducedMotion)&&(K.duration=0);var jt=this.transform,Qt=this.getZoom(),de=this.getBearing(),Le=this.getPitch(),He=this.getPadding(),sr="zoom"in K?+K.zoom:Qt,tr="bearing"in K?this._normalizeBearing(K.bearing,de):de,mr="pitch"in K?+K.pitch:Le,Cr="padding"in K?K.padding:jt.padding,Xr=i.Point.convert(K.offset),Nr=jt.centerPoint.add(Xr),Br=jt.pointLocation(Nr),Kr=i.LngLat.convert(K.center||Br);this._normalizeCenter(Kr);var cn=jt.project(Br),Fn=jt.project(Kr).sub(cn),In=jt.zoomScale(sr-Qt),Dn,Bn;K.around&&(Dn=i.LngLat.convert(K.around),Bn=jt.locationPoint(Dn));var Nn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||sr!==Qt,this._rotating=this._rotating||de!==tr,this._pitching=this._pitching||mr!==Le,this._padding=!jt.isPaddingEqual(Cr),this._easeId=K.easeId,this._prepareEase(ut,K.noMoveStart,Nn),this._ease(function(Wn){if(kt._zooming&&(jt.zoom=i.number(Qt,sr,Wn)),kt._rotating&&(jt.bearing=i.number(de,tr,Wn)),kt._pitching&&(jt.pitch=i.number(Le,mr,Wn)),kt._padding&&(jt.interpolatePadding(He,Cr,Wn),Nr=jt.centerPoint.add(Xr)),Dn)jt.setLocationAtPoint(Dn,Bn);else{var Zn=jt.zoomScale(jt.zoom-Qt),ci=sr>Qt?Math.min(2,In):Math.max(.5,In),si=Math.pow(ci,1-Wn),li=jt.unproject(cn.add(Fn.mult(Wn*si)).mult(Zn));jt.setLocationAtPoint(jt.renderWorldCopies?li.wrap():li,Nr)}kt._fireMoveEvents(ut)},function(Wn){kt._afterEase(ut,Wn)},K),this},et.prototype._prepareEase=function(K,ut,kt){kt===void 0&&(kt={}),this._moving=!0,!ut&&!kt.moving&&this.fire(new i.Event("movestart",K)),this._zooming&&!kt.zooming&&this.fire(new i.Event("zoomstart",K)),this._rotating&&!kt.rotating&&this.fire(new i.Event("rotatestart",K)),this._pitching&&!kt.pitching&&this.fire(new i.Event("pitchstart",K))},et.prototype._fireMoveEvents=function(K){this.fire(new i.Event("move",K)),this._zooming&&this.fire(new i.Event("zoom",K)),this._rotating&&this.fire(new i.Event("rotate",K)),this._pitching&&this.fire(new i.Event("pitch",K))},et.prototype._afterEase=function(K,ut){if(!(this._easeId&&ut&&this._easeId===ut)){delete this._easeId;var kt=this._zooming,jt=this._rotating,Qt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,kt&&this.fire(new i.Event("zoomend",K)),jt&&this.fire(new i.Event("rotateend",K)),Qt&&this.fire(new i.Event("pitchend",K)),this.fire(new i.Event("moveend",K))}},et.prototype.flyTo=function(K,ut){var kt=this;if(!K.essential&&i.browser.prefersReducedMotion){var jt=i.pick(K,["center","zoom","bearing","pitch","around"]);return this.jumpTo(jt,ut)}this.stop(),K=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},K);var Qt=this.transform,de=this.getZoom(),Le=this.getBearing(),He=this.getPitch(),sr=this.getPadding(),tr="zoom"in K?i.clamp(+K.zoom,Qt.minZoom,Qt.maxZoom):de,mr="bearing"in K?this._normalizeBearing(K.bearing,Le):Le,Cr="pitch"in K?+K.pitch:He,Xr="padding"in K?K.padding:Qt.padding,Nr=Qt.zoomScale(tr-de),Br=i.Point.convert(K.offset),Kr=Qt.centerPoint.add(Br),cn=Qt.pointLocation(Kr),Fn=i.LngLat.convert(K.center||cn);this._normalizeCenter(Fn);var In=Qt.project(cn),Dn=Qt.project(Fn).sub(In),Bn=K.curve,Nn=Math.max(Qt.width,Qt.height),Wn=Nn/Nr,Zn=Dn.mag();if("minZoom"in K){var ci=i.clamp(Math.min(K.minZoom,de,tr),Qt.minZoom,Qt.maxZoom),si=Nn/Qt.zoomScale(ci-de);Bn=Math.sqrt(si/Zn*2)}var li=Bn*Bn;function zi(Ti){var Bi=(Wn*Wn-Nn*Nn+(Ti?-1:1)*li*li*Zn*Zn)/(2*(Ti?Wn:Nn)*li*Zn);return Math.log(Math.sqrt(Bi*Bi+1)-Bi)}function la(Ti){return(Math.exp(Ti)-Math.exp(-Ti))/2}function yi(Ti){return(Math.exp(Ti)+Math.exp(-Ti))/2}function ki(Ti){return la(Ti)/yi(Ti)}var Oi=zi(0),Xi=function(Ti){return yi(Oi)/yi(Oi+Bn*Ti)},Qi=function(Ti){return Nn*((yi(Oi)*ki(Oi+Bn*Ti)-la(Oi))/li)/Zn},Ki=(zi(1)-Oi)/Bn;if(Math.abs(Zn)<1e-6||!isFinite(Ki)){if(Math.abs(Nn-Wn)<1e-6)return this.easeTo(K,ut);var Ni=Wn<Nn?-1:1;Ki=Math.abs(Math.log(Wn/Nn))/Bn,Qi=function(){return 0},Xi=function(Ti){return Math.exp(Ni*Bn*Ti)}}if("duration"in K)K.duration=+K.duration;else{var ia="screenSpeed"in K?+K.screenSpeed/Bn:+K.speed;K.duration=1e3*Ki/ia}return K.maxDuration&&K.duration>K.maxDuration&&(K.duration=0),this._zooming=!0,this._rotating=Le!==mr,this._pitching=Cr!==He,this._padding=!Qt.isPaddingEqual(Xr),this._prepareEase(ut,!1),this._ease(function(Ti){var Bi=Ti*Ki,Aa=1/Xi(Bi);Qt.zoom=Ti===1?tr:de+Qt.scaleZoom(Aa),kt._rotating&&(Qt.bearing=i.number(Le,mr,Ti)),kt._pitching&&(Qt.pitch=i.number(He,Cr,Ti)),kt._padding&&(Qt.interpolatePadding(sr,Xr,Ti),Kr=Qt.centerPoint.add(Br));var ja=Ti===1?Fn:Qt.unproject(In.add(Dn.mult(Qi(Bi))).mult(Aa));Qt.setLocationAtPoint(Qt.renderWorldCopies?ja.wrap():ja,Kr),kt._fireMoveEvents(ut)},function(){return kt._afterEase(ut)},K),this},et.prototype.isEasing=function(){return!!this._easeFrameId},et.prototype.stop=function(){return this._stop()},et.prototype._stop=function(K,ut){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var kt=this._onEaseEnd;delete this._onEaseEnd,kt.call(this,ut)}if(!K){var jt=this.handlers;jt&&jt.stop(!1)}return this},et.prototype._ease=function(K,ut,kt){kt.animate===!1||kt.duration===0?(K(1),ut()):(this._easeStart=i.browser.now(),this._easeOptions=kt,this._onEaseFrame=K,this._onEaseEnd=ut,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},et.prototype._renderFrameCallback=function(){var K=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(K)),K<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},et.prototype._normalizeBearing=function(K,ut){K=i.wrap(K,-180,180);var kt=Math.abs(K-ut);return Math.abs(K-360-ut)<kt&&(K-=360),Math.abs(K+360-ut)<kt&&(K+=360),K},et.prototype._normalizeCenter=function(K){var ut=this.transform;if(!(!ut.renderWorldCopies||ut.lngRange)){var kt=K.lng-ut.center.lng;K.lng+=kt>180?-360:kt<-180?360:0}},et}(i.Evented),Di=function(X){X===void 0&&(X={}),this.options=X,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Di.prototype.getDefaultPosition=function(){return"bottom-right"},Di.prototype.onAdd=function(X){var et=this.options&&this.options.compact;return this._map=X,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=T.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),et&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),et===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Di.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Di.prototype._setElementTitle=function(X,et){var K=this._map._getUIString("AttributionControl."+et);X.title=K,X.setAttribute("aria-label",K)},Di.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Di.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var et=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(X){var K=et.reduce(function(ut,kt,jt){return kt.value&&(ut+=kt.key+"="+kt.value+(jt<et.length-1?"&":"")),ut},"?");X.href=i.config.FEEDBACK_URL+"/"+K+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow",this._setElementTitle(X,"MapFeedback")}},Di.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.sourceDataType==="visibility"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Di.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(de){return typeof de!="string"?"":de})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var et=this._map.style.stylesheet;this.styleOwner=et.owner,this.styleId=et.id}var K=this._map.style.sourceCaches;for(var ut in K){var kt=K[ut];if(kt.used){var jt=kt.getSource();jt.attribution&&X.indexOf(jt.attribution)<0&&X.push(jt.attribution)}}X.sort(function(de,Le){return de.length-Le.length}),X=X.filter(function(de,Le){for(var He=Le+1;He<X.length;He++)if(X[He].indexOf(de)>=0)return!1;return!0});var Qt=X.join(" | ");Qt!==this._attribHTML&&(this._attribHTML=Qt,X.length?(this._innerContainer.innerHTML=Qt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Di.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var pa=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};pa.prototype.onAdd=function(X){this._map=X,this._container=T.create("div","mapboxgl-ctrl");var et=T.create("a","mapboxgl-ctrl-logo");return et.target="_blank",et.rel="noopener nofollow",et.href="https://www.mapbox.com/",et.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),et.setAttribute("rel","noopener nofollow"),this._container.appendChild(et),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},pa.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},pa.prototype.getDefaultPosition=function(){return"bottom-left"},pa.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},pa.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var et in X){var K=X[et].getSource();if(K.mapbox_logo)return!0}return!1}},pa.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var et=X[0];this._map.getCanvasContainer().offsetWidth<250?et.classList.add("mapboxgl-compact"):et.classList.remove("mapboxgl-compact")}};var pc=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};pc.prototype.add=function(X){var et=++this._id,K=this._queue;return K.push({callback:X,id:et,cancelled:!1}),et},pc.prototype.remove=function(X){for(var et=this._currentlyRunning,K=et?this._queue.concat(et):this._queue,ut=0,kt=K;ut<kt.length;ut+=1){var jt=kt[ut];if(jt.id===X){jt.cancelled=!0;return}}},pc.prototype.run=function(X){X===void 0&&(X=0);var et=this._currentlyRunning=this._queue;this._queue=[];for(var K=0,ut=et;K<ut.length;K+=1){var kt=ut[K];if(!kt.cancelled&&(kt.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},pc.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var bf={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},su=i.window.HTMLImageElement,Kc=i.window.HTMLElement,Fl=i.window.ImageBitmap,Fu=-2,Du=22,ko=0,Dl=60,Jc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Fu,maxZoom:Du,minPitch:ko,maxPitch:Dl,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},$c=function(X){function et(ut){var kt=this;if(ut=i.extend({},Jc,ut),ut.minZoom!=null&&ut.maxZoom!=null&&ut.minZoom>ut.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ut.minPitch!=null&&ut.maxPitch!=null&&ut.minPitch>ut.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ut.minPitch!=null&&ut.minPitch<ko)throw new Error("minPitch must be greater than or equal to "+ko);if(ut.maxPitch!=null&&ut.maxPitch>Dl)throw new Error("maxPitch must be less than or equal to "+Dl);var jt=new Tn(ut.minZoom,ut.maxZoom,ut.minPitch,ut.maxPitch,ut.renderWorldCopies);if(X.call(this,jt,ut),this._interactive=ut.interactive,this._maxTileCacheSize=ut.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ut.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ut.preserveDrawingBuffer,this._antialias=ut.antialias,this._trackResize=ut.trackResize,this._bearingSnap=ut.bearingSnap,this._refreshExpiredTiles=ut.refreshExpiredTiles,this._fadeDuration=ut.fadeDuration,this._crossSourceCollisions=ut.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ut.collectResourceTiming,this._renderTaskQueue=new pc,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},bf,ut.locale),this._clickTolerance=ut.clickTolerance,this._requestManager=new i.RequestManager(ut.transformRequest,ut.accessToken),typeof ut.container=="string"){if(this._container=i.window.document.getElementById(ut.container),!this._container)throw new Error("Container '"+ut.container+"' not found.")}else if(ut.container instanceof Kc)this._container=ut.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ut.maxBounds&&this.setMaxBounds(ut.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return kt._update(!1)}),this.on("moveend",function(){return kt._update(!1)}),this.on("zoom",function(){return kt._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ha(this,ut);var Qt=typeof ut.hash=="string"&&ut.hash||void 0;this._hash=ut.hash&&new Ai(Qt).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ut.center,zoom:ut.zoom,bearing:ut.bearing,pitch:ut.pitch}),ut.bounds&&(this.resize(),this.fitBounds(ut.bounds,i.extend({},ut.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ut.localIdeographFontFamily,ut.style&&this.setStyle(ut.style,{localIdeographFontFamily:ut.localIdeographFontFamily}),ut.attributionControl&&this.addControl(new Di({customAttribution:ut.customAttribution})),this.addControl(new pa,ut.logoPosition),this.on("style.load",function(){kt.transform.unmodified&&kt.jumpTo(kt.style.stylesheet)}),this.on("data",function(de){kt._update(de.dataType==="style"),kt.fire(new i.Event(de.dataType+"data",de))}),this.on("dataloading",function(de){kt.fire(new i.Event(de.dataType+"dataloading",de))})}X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et;var K={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return et.prototype._getMapId=function(){return this._mapId},et.prototype.addControl=function(ut,kt){if(kt===void 0&&(ut.getDefaultPosition?kt=ut.getDefaultPosition():kt="top-right"),!ut||!ut.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var jt=ut.onAdd(this);this._controls.push(ut);var Qt=this._controlPositions[kt];return kt.indexOf("bottom")!==-1?Qt.insertBefore(jt,Qt.firstChild):Qt.appendChild(jt),this},et.prototype.removeControl=function(ut){if(!ut||!ut.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var kt=this._controls.indexOf(ut);return kt>-1&&this._controls.splice(kt,1),ut.onRemove(this),this},et.prototype.hasControl=function(ut){return this._controls.indexOf(ut)>-1},et.prototype.resize=function(ut){var kt=this._containerDimensions(),jt=kt[0],Qt=kt[1];this._resizeCanvas(jt,Qt),this.transform.resize(jt,Qt),this.painter.resize(jt,Qt);var de=!this._moving;return de&&(this.stop(),this.fire(new i.Event("movestart",ut)).fire(new i.Event("move",ut))),this.fire(new i.Event("resize",ut)),de&&this.fire(new i.Event("moveend",ut)),this},et.prototype.getBounds=function(){return this.transform.getBounds()},et.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},et.prototype.setMaxBounds=function(ut){return this.transform.setMaxBounds(i.LngLatBounds.convert(ut)),this._update()},et.prototype.setMinZoom=function(ut){if(ut=ut??Fu,ut>=Fu&&ut<=this.transform.maxZoom)return this.transform.minZoom=ut,this._update(),this.getZoom()<ut&&this.setZoom(ut),this;throw new Error("minZoom must be between "+Fu+" and the current maxZoom, inclusive")},et.prototype.getMinZoom=function(){return this.transform.minZoom},et.prototype.setMaxZoom=function(ut){if(ut=ut??Du,ut>=this.transform.minZoom)return this.transform.maxZoom=ut,this._update(),this.getZoom()>ut&&this.setZoom(ut),this;throw new Error("maxZoom must be greater than the current minZoom")},et.prototype.getMaxZoom=function(){return this.transform.maxZoom},et.prototype.setMinPitch=function(ut){if(ut=ut??ko,ut<ko)throw new Error("minPitch must be greater than or equal to "+ko);if(ut>=ko&&ut<=this.transform.maxPitch)return this.transform.minPitch=ut,this._update(),this.getPitch()<ut&&this.setPitch(ut),this;throw new Error("minPitch must be between "+ko+" and the current maxPitch, inclusive")},et.prototype.getMinPitch=function(){return this.transform.minPitch},et.prototype.setMaxPitch=function(ut){if(ut=ut??Dl,ut>Dl)throw new Error("maxPitch must be less than or equal to "+Dl);if(ut>=this.transform.minPitch)return this.transform.maxPitch=ut,this._update(),this.getPitch()>ut&&this.setPitch(ut),this;throw new Error("maxPitch must be greater than the current minPitch")},et.prototype.getMaxPitch=function(){return this.transform.maxPitch},et.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},et.prototype.setRenderWorldCopies=function(ut){return this.transform.renderWorldCopies=ut,this._update()},et.prototype.project=function(ut){return this.transform.locationPoint(i.LngLat.convert(ut))},et.prototype.unproject=function(ut){return this.transform.pointLocation(i.Point.convert(ut))},et.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},et.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},et.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},et.prototype._createDelegatedListener=function(ut,kt,jt){var Qt=this,de;if(ut==="mouseenter"||ut==="mouseover"){var Le=!1,He=function(Nr){var Br=Qt.getLayer(kt)?Qt.queryRenderedFeatures(Nr.point,{layers:[kt]}):[];Br.length?Le||(Le=!0,jt.call(Qt,new Ht(ut,Qt,Nr.originalEvent,{features:Br}))):Le=!1},sr=function(){Le=!1};return{layer:kt,listener:jt,delegates:{mousemove:He,mouseout:sr}}}else if(ut==="mouseleave"||ut==="mouseout"){var tr=!1,mr=function(Nr){var Br=Qt.getLayer(kt)?Qt.queryRenderedFeatures(Nr.point,{layers:[kt]}):[];Br.length?tr=!0:tr&&(tr=!1,jt.call(Qt,new Ht(ut,Qt,Nr.originalEvent)))},Cr=function(Nr){tr&&(tr=!1,jt.call(Qt,new Ht(ut,Qt,Nr.originalEvent)))};return{layer:kt,listener:jt,delegates:{mousemove:mr,mouseout:Cr}}}else{var Xr=function(Nr){var Br=Qt.getLayer(kt)?Qt.queryRenderedFeatures(Nr.point,{layers:[kt]}):[];Br.length&&(Nr.features=Br,jt.call(Qt,Nr),delete Nr.features)};return{layer:kt,listener:jt,delegates:(de={},de[ut]=Xr,de)}}},et.prototype.on=function(ut,kt,jt){if(jt===void 0)return X.prototype.on.call(this,ut,kt);var Qt=this._createDelegatedListener(ut,kt,jt);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ut]=this._delegatedListeners[ut]||[],this._delegatedListeners[ut].push(Qt);for(var de in Qt.delegates)this.on(de,Qt.delegates[de]);return this},et.prototype.once=function(ut,kt,jt){if(jt===void 0)return X.prototype.once.call(this,ut,kt);var Qt=this._createDelegatedListener(ut,kt,jt);for(var de in Qt.delegates)this.once(de,Qt.delegates[de]);return this},et.prototype.off=function(ut,kt,jt){var Qt=this;if(jt===void 0)return X.prototype.off.call(this,ut,kt);var de=function(Le){for(var He=Le[ut],sr=0;sr<He.length;sr++){var tr=He[sr];if(tr.layer===kt&&tr.listener===jt){for(var mr in tr.delegates)Qt.off(mr,tr.delegates[mr]);return He.splice(sr,1),Qt}}};return this._delegatedListeners&&this._delegatedListeners[ut]&&de(this._delegatedListeners),this},et.prototype.queryRenderedFeatures=function(ut,kt){if(!this.style)return[];kt===void 0&&ut!==void 0&&!(ut instanceof i.Point)&&!Array.isArray(ut)&&(kt=ut,ut=void 0),kt=kt||{},ut=ut||[[0,0],[this.transform.width,this.transform.height]];var jt;if(ut instanceof i.Point||typeof ut[0]=="number")jt=[i.Point.convert(ut)];else{var Qt=i.Point.convert(ut[0]),de=i.Point.convert(ut[1]);jt=[Qt,new i.Point(de.x,Qt.y),de,new i.Point(Qt.x,de.y),Qt]}return this.style.queryRenderedFeatures(jt,kt,this.transform)},et.prototype.querySourceFeatures=function(ut,kt){return this.style.querySourceFeatures(ut,kt)},et.prototype.setStyle=function(ut,kt){return kt=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},kt),kt.diff!==!1&&kt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ut?(this._diffStyle(ut,kt),this):(this._localIdeographFontFamily=kt.localIdeographFontFamily,this._updateStyle(ut,kt))},et.prototype._getUIString=function(ut){var kt=this._locale[ut];if(kt==null)throw new Error("Missing UI string '"+ut+"'");return kt},et.prototype._updateStyle=function(ut,kt){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ut)this.style=new oo(this,kt||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ut=="string"?this.style.loadURL(ut):this.style.loadJSON(ut),this},et.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new oo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},et.prototype._diffStyle=function(ut,kt){var jt=this;if(typeof ut=="string"){var Qt=this._requestManager.normalizeStyleURL(ut),de=this._requestManager.transformRequest(Qt,i.ResourceType.Style);i.getJSON(de,function(Le,He){Le?jt.fire(new i.ErrorEvent(Le)):He&&jt._updateDiff(He,kt)})}else typeof ut=="object"&&this._updateDiff(ut,kt)},et.prototype._updateDiff=function(ut,kt){try{this.style.setState(ut)&&this._update(!0)}catch(jt){i.warnOnce("Unable to perform style diff: "+(jt.message||jt.error||jt)+".  Rebuilding the style from scratch."),this._updateStyle(ut,kt)}},et.prototype.getStyle=function(){if(this.style)return this.style.serialize()},et.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},et.prototype.addSource=function(ut,kt){return this._lazyInitEmptyStyle(),this.style.addSource(ut,kt),this._update(!0)},et.prototype.isSourceLoaded=function(ut){var kt=this.style&&this.style.sourceCaches[ut];if(kt===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+ut+"'")));return}return kt.loaded()},et.prototype.areTilesLoaded=function(){var ut=this.style&&this.style.sourceCaches;for(var kt in ut){var jt=ut[kt],Qt=jt._tiles;for(var de in Qt){var Le=Qt[de];if(!(Le.state==="loaded"||Le.state==="errored"))return!1}}return!0},et.prototype.addSourceType=function(ut,kt,jt){return this._lazyInitEmptyStyle(),this.style.addSourceType(ut,kt,jt)},et.prototype.removeSource=function(ut){return this.style.removeSource(ut),this._update(!0)},et.prototype.getSource=function(ut){return this.style.getSource(ut)},et.prototype.addImage=function(ut,kt,jt){jt===void 0&&(jt={});var Qt=jt.pixelRatio;Qt===void 0&&(Qt=1);var de=jt.sdf;de===void 0&&(de=!1);var Le=jt.stretchX,He=jt.stretchY,sr=jt.content;this._lazyInitEmptyStyle();var tr=0;if(kt instanceof su||Fl&&kt instanceof Fl){var mr=i.browser.getImageData(kt),Cr=mr.width,Xr=mr.height,Nr=mr.data;this.style.addImage(ut,{data:new i.RGBAImage({width:Cr,height:Xr},Nr),pixelRatio:Qt,stretchX:Le,stretchY:He,content:sr,sdf:de,version:tr})}else{if(kt.width===void 0||kt.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Br=kt.width,Kr=kt.height,cn=kt.data,Fn=kt;this.style.addImage(ut,{data:new i.RGBAImage({width:Br,height:Kr},new Uint8Array(cn)),pixelRatio:Qt,stretchX:Le,stretchY:He,content:sr,sdf:de,version:tr,userImage:Fn}),Fn.onAdd&&Fn.onAdd(this,ut)}},et.prototype.updateImage=function(ut,kt){var jt=this.style.getImage(ut);if(!jt)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var Qt=kt instanceof su||Fl&&kt instanceof Fl?i.browser.getImageData(kt):kt,de=Qt.width,Le=Qt.height,He=Qt.data;if(de===void 0||Le===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(de!==jt.data.width||Le!==jt.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var sr=!(kt instanceof su||Fl&&kt instanceof Fl);jt.data.replace(He,sr),this.style.updateImage(ut,jt)},et.prototype.hasImage=function(ut){return ut?!!this.style.getImage(ut):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},et.prototype.removeImage=function(ut){this.style.removeImage(ut)},et.prototype.loadImage=function(ut,kt){i.getImage(this._requestManager.transformRequest(ut,i.ResourceType.Image),kt)},et.prototype.listImages=function(){return this.style.listImages()},et.prototype.addLayer=function(ut,kt){return this._lazyInitEmptyStyle(),this.style.addLayer(ut,kt),this._update(!0)},et.prototype.moveLayer=function(ut,kt){return this.style.moveLayer(ut,kt),this._update(!0)},et.prototype.removeLayer=function(ut){return this.style.removeLayer(ut),this._update(!0)},et.prototype.getLayer=function(ut){return this.style.getLayer(ut)},et.prototype.setLayerZoomRange=function(ut,kt,jt){return this.style.setLayerZoomRange(ut,kt,jt),this._update(!0)},et.prototype.setFilter=function(ut,kt,jt){return jt===void 0&&(jt={}),this.style.setFilter(ut,kt,jt),this._update(!0)},et.prototype.getFilter=function(ut){return this.style.getFilter(ut)},et.prototype.setPaintProperty=function(ut,kt,jt,Qt){return Qt===void 0&&(Qt={}),this.style.setPaintProperty(ut,kt,jt,Qt),this._update(!0)},et.prototype.getPaintProperty=function(ut,kt){return this.style.getPaintProperty(ut,kt)},et.prototype.setLayoutProperty=function(ut,kt,jt,Qt){return Qt===void 0&&(Qt={}),this.style.setLayoutProperty(ut,kt,jt,Qt),this._update(!0)},et.prototype.getLayoutProperty=function(ut,kt){return this.style.getLayoutProperty(ut,kt)},et.prototype.setLight=function(ut,kt){return kt===void 0&&(kt={}),this._lazyInitEmptyStyle(),this.style.setLight(ut,kt),this._update(!0)},et.prototype.getLight=function(){return this.style.getLight()},et.prototype.setFeatureState=function(ut,kt){return this.style.setFeatureState(ut,kt),this._update()},et.prototype.removeFeatureState=function(ut,kt){return this.style.removeFeatureState(ut,kt),this._update()},et.prototype.getFeatureState=function(ut){return this.style.getFeatureState(ut)},et.prototype.getContainer=function(){return this._container},et.prototype.getCanvasContainer=function(){return this._canvasContainer},et.prototype.getCanvas=function(){return this._canvas},et.prototype._containerDimensions=function(){var ut=0,kt=0;return this._container&&(ut=this._container.clientWidth||400,kt=this._container.clientHeight||300),[ut,kt]},et.prototype._detectMissingCSS=function(){var ut=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ut!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},et.prototype._setupContainer=function(){var ut=this._container;ut.classList.add("mapboxgl-map");var kt=this._missingCSSCanary=T.create("div","mapboxgl-canary",ut);kt.style.visibility="hidden",this._detectMissingCSS();var jt=this._canvasContainer=T.create("div","mapboxgl-canvas-container",ut);this._interactive&&jt.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",jt),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var Qt=this._containerDimensions();this._resizeCanvas(Qt[0],Qt[1]);var de=this._controlContainer=T.create("div","mapboxgl-control-container",ut),Le=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(He){Le[He]=T.create("div","mapboxgl-ctrl-"+He,de)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},et.prototype._resizeCanvas=function(ut,kt){var jt=i.browser.devicePixelRatio||1;this._canvas.width=jt*ut,this._canvas.height=jt*kt,this._canvas.style.width=ut+"px",this._canvas.style.height=kt+"px"},et.prototype._setupPainter=function(){var ut=i.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),kt=this._canvas.getContext("webgl",ut)||this._canvas.getContext("experimental-webgl",ut);if(!kt){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Or(kt,this.transform),i.webpSupported.testSupport(kt)},et.prototype._contextLost=function(ut){ut.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:ut}))},et.prototype._contextRestored=function(ut){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:ut}))},et.prototype._onMapScroll=function(ut){if(ut.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},et.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},et.prototype._update=function(ut){return this.style?(this._styleDirty=this._styleDirty||ut,this._sourcesDirty=!0,this.triggerRepaint(),this):this},et.prototype._requestRenderFrame=function(ut){return this._update(),this._renderTaskQueue.add(ut)},et.prototype._cancelRenderFrame=function(ut){this._renderTaskQueue.remove(ut)},et.prototype._render=function(ut){var kt=this,jt,Qt=0,de=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(jt=de.createQueryEXT(),de.beginQueryEXT(de.TIME_ELAPSED_EXT,jt),Qt=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ut),!this._removed){var Le=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var He=this.transform.zoom,sr=i.browser.now();this.style.zoomHistory.update(He,sr);var tr=new i.EvaluationParameters(He,{now:sr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),mr=tr.crossFadingFactor();(mr!==1||mr!==this._crossFadingFactor)&&(Le=!0,this._crossFadingFactor=mr),this.style.update(tr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Le)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Cr=i.browser.now()-Qt;de.endQueryEXT(de.TIME_ELAPSED_EXT,jt),setTimeout(function(){var Br=de.getQueryObjectEXT(jt,de.QUERY_RESULT_EXT)/1e6;de.deleteQueryEXT(jt),kt.fire(new i.Event("gpu-timing-frame",{cpuTime:Cr,gpuTime:Br}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var Br=kt.painter.queryGpuTimers(Xr);kt.fire(new i.Event("gpu-timing-layer",{layerTimes:Br}))},50)}var Nr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Nr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Nr&&(this._fullyLoaded=!0),this}},et.prototype.remove=function(){this._hash&&this._hash.remove();for(var ut=0,kt=this._controls;ut<kt.length;ut+=1){var jt=kt[ut];jt.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var Qt=this.painter.context.gl.getExtension("WEBGL_lose_context");Qt&&Qt.loseContext&&Qt.loseContext(),dc(this._canvasContainer),dc(this._controlContainer),dc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},et.prototype.triggerRepaint=function(){var ut=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(kt){ut._frame=null,ut._render(kt)}))},et.prototype._onWindowOnline=function(){this._update()},et.prototype._onWindowResize=function(ut){this._trackResize&&this.resize({originalEvent:ut})._update()},K.showTileBoundaries.get=function(){return!!this._showTileBoundaries},K.showTileBoundaries.set=function(ut){this._showTileBoundaries!==ut&&(this._showTileBoundaries=ut,this._update())},K.showPadding.get=function(){return!!this._showPadding},K.showPadding.set=function(ut){this._showPadding!==ut&&(this._showPadding=ut,this._update())},K.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},K.showCollisionBoxes.set=function(ut){this._showCollisionBoxes!==ut&&(this._showCollisionBoxes=ut,ut?this.style._generateCollisionBoxes():this._update())},K.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},K.showOverdrawInspector.set=function(ut){this._showOverdrawInspector!==ut&&(this._showOverdrawInspector=ut,this._update())},K.repaint.get=function(){return!!this._repaint},K.repaint.set=function(ut){this._repaint!==ut&&(this._repaint=ut,this.triggerRepaint())},K.vertices.get=function(){return!!this._vertices},K.vertices.set=function(ut){this._vertices=ut,this._update()},et.prototype._setCacheLimits=function(ut,kt){i.setCacheLimits(ut,kt)},K.version.get=function(){return i.version},Object.defineProperties(et.prototype,K),et}(Ys);function dc(X){X.parentNode&&X.parentNode.removeChild(X)}var Mc={showCompass:!0,showZoom:!0,visualizePitch:!1},hl=function(X){var et=this;this.options=i.extend({},Mc,X),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(K){return K.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(K){return et._map.zoomIn({},{originalEvent:K})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(K){return et._map.zoomOut({},{originalEvent:K})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(K){et.options.visualizePitch?et._map.resetNorthPitch({},{originalEvent:K}):et._map.resetNorth({},{originalEvent:K})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};hl.prototype._updateZoomButtons=function(){var X=this._map.getZoom(),et=X===this._map.getMaxZoom(),K=X===this._map.getMinZoom();this._zoomInButton.disabled=et,this._zoomOutButton.disabled=K,this._zoomInButton.setAttribute("aria-disabled",et.toString()),this._zoomOutButton.setAttribute("aria-disabled",K.toString())},hl.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},hl.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fo(this._map,this._compass,this.options.visualizePitch)),this._container},hl.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},hl.prototype._createButton=function(X,et){var K=T.create("button",X,this._container);return K.type="button",K.addEventListener("click",et),K},hl.prototype._setButtonTitle=function(X,et){var K=this._map._getUIString("NavigationControl."+et);X.title=K,X.setAttribute("aria-label",K)};var Fo=function(X,et,K){K===void 0&&(K=!1),this._clickTolerance=10,this.element=et,this.mouseRotate=new ti({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,K&&(this.mousePitch=new Gn({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(et,"mousedown",this.mousedown),T.addEventListener(et,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(et,"touchmove",this.touchmove),T.addEventListener(et,"touchend",this.touchend),T.addEventListener(et,"touchcancel",this.reset)};Fo.prototype.down=function(X,et){this.mouseRotate.mousedown(X,et),this.mousePitch&&this.mousePitch.mousedown(X,et),T.disableDrag()},Fo.prototype.move=function(X,et){var K=this.map,ut=this.mouseRotate.mousemoveWindow(X,et);if(ut&&ut.bearingDelta&&K.setBearing(K.getBearing()+ut.bearingDelta),this.mousePitch){var kt=this.mousePitch.mousemoveWindow(X,et);kt&&kt.pitchDelta&&K.setPitch(K.getPitch()+kt.pitchDelta)}},Fo.prototype.off=function(){var X=this.element;T.removeEventListener(X,"mousedown",this.mousedown),T.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(X,"touchmove",this.touchmove),T.removeEventListener(X,"touchend",this.touchend),T.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},Fo.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(i.window,"mousemove",this.mousemove),T.removeEventListener(i.window,"mouseup",this.mouseup)},Fo.prototype.mousedown=function(X){this.down(i.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),T.mousePos(this.element,X)),T.addEventListener(i.window,"mousemove",this.mousemove),T.addEventListener(i.window,"mouseup",this.mouseup)},Fo.prototype.mousemove=function(X){this.move(X,T.mousePos(this.element,X))},Fo.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},Fo.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},Fo.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},Fo.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Fo.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function pl(X,et,K){if(X=new i.LngLat(X.lng,X.lat),et){var ut=new i.LngLat(X.lng-360,X.lat),kt=new i.LngLat(X.lng+360,X.lat),jt=K.locationPoint(X).distSqr(et);K.locationPoint(ut).distSqr(et)<jt?X=ut:K.locationPoint(kt).distSqr(et)<jt&&(X=kt)}for(;Math.abs(X.lng-K.center.lng)>180;){var Qt=K.locationPoint(X);if(Qt.x>=0&&Qt.y>=0&&Qt.x<=K.width&&Qt.y<=K.height)break;X.lng>K.center.lng?X.lng-=360:X.lng+=360}return X}var vc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ec(X,et,K){var ut=X.classList;for(var kt in vc)ut.remove("mapboxgl-"+K+"-anchor-"+kt);ut.add("mapboxgl-"+K+"-anchor-"+et)}var Nu=function(X){function et(K,ut){if(X.call(this),(K instanceof i.window.HTMLElement||ut)&&(K=i.extend({element:K},ut)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=K&&K.anchor||"center",this._color=K&&K.color||"#3FB1CE",this._scale=K&&K.scale||1,this._draggable=K&&K.draggable||!1,this._clickTolerance=K&&K.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=K&&K.rotation||0,this._rotationAlignment=K&&K.rotationAlignment||"auto",this._pitchAlignment=K&&K.pitchAlignment&&K.pitchAlignment!=="auto"?K.pitchAlignment:this._rotationAlignment,!K||!K.element){this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var kt=T.createNS("http://www.w3.org/2000/svg","svg"),jt=41,Qt=27;kt.setAttributeNS(null,"display","block"),kt.setAttributeNS(null,"height",jt+"px"),kt.setAttributeNS(null,"width",Qt+"px"),kt.setAttributeNS(null,"viewBox","0 0 "+Qt+" "+jt);var de=T.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"stroke","none"),de.setAttributeNS(null,"stroke-width","1"),de.setAttributeNS(null,"fill","none"),de.setAttributeNS(null,"fill-rule","evenodd");var Le=T.createNS("http://www.w3.org/2000/svg","g");Le.setAttributeNS(null,"fill-rule","nonzero");var He=T.createNS("http://www.w3.org/2000/svg","g");He.setAttributeNS(null,"transform","translate(3.0, 29.0)"),He.setAttributeNS(null,"fill","#000000");for(var sr=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],tr=0,mr=sr;tr<mr.length;tr+=1){var Cr=mr[tr],Xr=T.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",Cr.rx),Xr.setAttributeNS(null,"ry",Cr.ry),He.appendChild(Xr)}var Nr=T.createNS("http://www.w3.org/2000/svg","g");Nr.setAttributeNS(null,"fill",this._color);var Br=T.createNS("http://www.w3.org/2000/svg","path");Br.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Nr.appendChild(Br);var Kr=T.createNS("http://www.w3.org/2000/svg","g");Kr.setAttributeNS(null,"opacity","0.25"),Kr.setAttributeNS(null,"fill","#000000");var cn=T.createNS("http://www.w3.org/2000/svg","path");cn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Kr.appendChild(cn);var Fn=T.createNS("http://www.w3.org/2000/svg","g");Fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fn.setAttributeNS(null,"fill","#FFFFFF");var In=T.createNS("http://www.w3.org/2000/svg","g");In.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Dn=T.createNS("http://www.w3.org/2000/svg","circle");Dn.setAttributeNS(null,"fill","#000000"),Dn.setAttributeNS(null,"opacity","0.25"),Dn.setAttributeNS(null,"cx","5.5"),Dn.setAttributeNS(null,"cy","5.5"),Dn.setAttributeNS(null,"r","5.4999962");var Bn=T.createNS("http://www.w3.org/2000/svg","circle");Bn.setAttributeNS(null,"fill","#FFFFFF"),Bn.setAttributeNS(null,"cx","5.5"),Bn.setAttributeNS(null,"cy","5.5"),Bn.setAttributeNS(null,"r","5.4999962"),In.appendChild(Dn),In.appendChild(Bn),Le.appendChild(He),Le.appendChild(Nr),Le.appendChild(Kr),Le.appendChild(Fn),Le.appendChild(In),kt.appendChild(Le),kt.setAttributeNS(null,"height",jt*this._scale+"px"),kt.setAttributeNS(null,"width",Qt*this._scale+"px"),this._element.appendChild(kt),this._offset=i.Point.convert(K&&K.offset||[0,-14])}else this._element=K.element,this._offset=i.Point.convert(K&&K.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Nn){Nn.preventDefault()}),this._element.addEventListener("mousedown",function(Nn){Nn.preventDefault()}),Ec(this._element,this._anchor,"marker"),this._popup=null}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.addTo=function(K){return this.remove(),this._map=K,K.getCanvasContainer().appendChild(this._element),K.on("move",this._update),K.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},et.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},et.prototype.getLngLat=function(){return this._lngLat},et.prototype.setLngLat=function(K){return this._lngLat=i.LngLat.convert(K),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},et.prototype.getElement=function(){return this._element},et.prototype.setPopup=function(K){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),K){if(!("offset"in K.options)){var ut=38.1,kt=13.5,jt=Math.sqrt(Math.pow(kt,2)/2);K.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ut],"bottom-left":[jt,(ut-kt+jt)*-1],"bottom-right":[-jt,(ut-kt+jt)*-1],left:[kt,(ut-kt)*-1],right:[-kt,(ut-kt)*-1]}:this._offset}this._popup=K,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},et.prototype._onKeyPress=function(K){var ut=K.code,kt=K.charCode||K.keyCode;(ut==="Space"||ut==="Enter"||kt===32||kt===13)&&this.togglePopup()},et.prototype._onMapClick=function(K){var ut=K.originalEvent.target,kt=this._element;this._popup&&(ut===kt||kt.contains(ut))&&this.togglePopup()},et.prototype.getPopup=function(){return this._popup},et.prototype.togglePopup=function(){var K=this._popup;if(K)K.isOpen()?K.remove():K.addTo(this._map);else return this;return this},et.prototype._update=function(K){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=pl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ut="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ut="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ut="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var kt="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?kt="rotateX(0deg)":this._pitchAlignment==="map"&&(kt="rotateX("+this._map.getPitch()+"deg)"),(!K||K.type==="moveend")&&(this._pos=this._pos.round()),T.setTransform(this._element,vc[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+kt+" "+ut)}},et.prototype.getOffset=function(){return this._offset},et.prototype.setOffset=function(K){return this._offset=i.Point.convert(K),this._update(),this},et.prototype._onMove=function(K){if(!this._isDragging){var ut=this._clickTolerance||this._map._clickTolerance;this._isDragging=K.point.dist(this._pointerdownPos)>=ut}this._isDragging&&(this._pos=K.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},et.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},et.prototype._addDragHandler=function(K){this._element.contains(K.originalEvent.target)&&(K.preventDefault(),this._positionDelta=K.point.sub(this._pos).add(this._offset),this._pointerdownPos=K.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},et.prototype.setDraggable=function(K){return this._draggable=!!K,this._map&&(K?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},et.prototype.isDraggable=function(){return this._draggable},et.prototype.setRotation=function(K){return this._rotation=K||0,this._update(),this},et.prototype.getRotation=function(){return this._rotation},et.prototype.setRotationAlignment=function(K){return this._rotationAlignment=K||"auto",this._update(),this},et.prototype.getRotationAlignment=function(){return this._rotationAlignment},et.prototype.setPitchAlignment=function(K){return this._pitchAlignment=K&&K!=="auto"?K:this._rotationAlignment,this._update(),this},et.prototype.getPitchAlignment=function(){return this._pitchAlignment},et}(i.Evented),Qc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Nl;function gc(X){Nl!==void 0?X(Nl):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(et){Nl=et.state!=="denied",X(Nl)}):(Nl=!!i.window.navigator.geolocation,X(Nl))}var Bu=0,lu=!1,_f=function(X){function et(K){X.call(this),this.options=i.extend({},Qc,K),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.onAdd=function(K){return this._map=K,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),gc(this._setupUI),this._container},et.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bu=0,lu=!1},et.prototype._isOutOfMapMaxBounds=function(K){var ut=this._map.getMaxBounds(),kt=K.coords;return ut&&(kt.longitude<ut.getWest()||kt.longitude>ut.getEast()||kt.latitude<ut.getSouth()||kt.latitude>ut.getNorth())},et.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},et.prototype._onSuccess=function(K){if(this._map){if(this._isOutOfMapMaxBounds(K)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",K)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=K,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(K),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(K),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",K)),this._finish()}},et.prototype._updateCamera=function(K){var ut=new i.LngLat(K.coords.longitude,K.coords.latitude),kt=K.coords.accuracy,jt=this._map.getBearing(),Qt=i.extend({bearing:jt},this.options.fitBoundsOptions);this._map.fitBounds(ut.toBounds(kt),Qt,{geolocateSource:!0})},et.prototype._updateMarker=function(K){if(K){var ut=new i.LngLat(K.coords.longitude,K.coords.latitude);this._accuracyCircleMarker.setLngLat(ut).addTo(this._map),this._userLocationDotMarker.setLngLat(ut).addTo(this._map),this._accuracy=K.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},et.prototype._updateCircleRadius=function(){var K=this._map._container.clientHeight/2,ut=this._map.unproject([0,K]),kt=this._map.unproject([1,K]),jt=ut.distanceTo(kt),Qt=Math.ceil(2*this._accuracy/jt);this._circleElement.style.width=Qt+"px",this._circleElement.style.height=Qt+"px"},et.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},et.prototype._onError=function(K){if(this._map){if(this.options.trackUserLocation)if(K.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ut=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ut,this._geolocateButton.setAttribute("aria-label",ut),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(K.code===3&&lu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",K)),this._finish()}},et.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},et.prototype._setupUI=function(K){var ut=this;if(this._container.addEventListener("contextmenu",function(Qt){return Qt.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",K===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var kt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=kt,this._geolocateButton.setAttribute("aria-label",kt)}else{var jt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=jt,this._geolocateButton.setAttribute("aria-label",jt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Nu(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Nu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(Qt){var de=Qt.originalEvent&&Qt.originalEvent.type==="resize";!Qt.geolocateSource&&ut._watchState==="ACTIVE_LOCK"&&!de&&(ut._watchState="BACKGROUND",ut._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ut._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ut.fire(new i.Event("trackuserlocationend")))})},et.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bu--,lu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Bu++;var K;Bu>1?(K={maximumAge:6e5,timeout:0},lu=!0):(K=this.options.positionOptions,lu=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,K)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},et.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},et}(i.Evented),tf={maxWidth:100,unit:"metric"},uu=function(X){this.options=i.extend({},tf,X),i.bindAll(["_onMove","setUnit"],this)};uu.prototype.getDefaultPosition=function(){return"bottom-left"},uu.prototype._onMove=function(){ef(this._map,this._container,this.options)},uu.prototype.onAdd=function(X){return this._map=X,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},uu.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},uu.prototype.setUnit=function(X){this.options.unit=X,ef(this._map,this._container,this.options)};function ef(X,et,K){var ut=K&&K.maxWidth||100,kt=X._container.clientHeight/2,jt=X.unproject([0,kt]),Qt=X.unproject([ut,kt]),de=jt.distanceTo(Qt);if(K&&K.unit==="imperial"){var Le=3.2808*de;if(Le>5280){var He=Le/5280;ju(et,ut,He,X._getUIString("ScaleControl.Miles"))}else ju(et,ut,Le,X._getUIString("ScaleControl.Feet"))}else if(K&&K.unit==="nautical"){var sr=de/1852;ju(et,ut,sr,X._getUIString("ScaleControl.NauticalMiles"))}else de>=1e3?ju(et,ut,de/1e3,X._getUIString("ScaleControl.Kilometers")):ju(et,ut,de,X._getUIString("ScaleControl.Meters"))}function ju(X,et,K,ut){var kt=Af(K),jt=kt/K;X.style.width=et*jt+"px",X.innerHTML=kt+"&nbsp;"+ut}function wf(X){var et=Math.pow(10,Math.ceil(-Math.log(X)/Math.LN10));return Math.round(X*et)/et}function Af(X){var et=Math.pow(10,(""+Math.floor(X)).length-1),K=X/et;return K=K>=10?10:K>=5?5:K>=3?3:K>=2?2:K>=1?1:wf(K),et*K}var _s=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof i.window.HTMLElement?this._container=X.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};_s.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},_s.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},_s.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},_s.prototype._setupUI=function(){var X=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},_s.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},_s.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},_s.prototype._isFullscreen=function(){return this._fullscreen},_s.prototype._changeIcon=function(){var X=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},_s.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Tf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},kf=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Vf=function(X){function et(K){X.call(this),this.options=i.extend(Object.create(Tf),K),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return X&&(et.__proto__=X),et.prototype=Object.create(X&&X.prototype),et.prototype.constructor=et,et.prototype.addTo=function(K){return this._map&&this.remove(),this._map=K,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},et.prototype.isOpen=function(){return!!this._map},et.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},et.prototype.getLngLat=function(){return this._lngLat},et.prototype.setLngLat=function(K){return this._lngLat=i.LngLat.convert(K),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},et.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},et.prototype.getElement=function(){return this._container},et.prototype.setText=function(K){return this.setDOMContent(i.window.document.createTextNode(K))},et.prototype.setHTML=function(K){var ut=i.window.document.createDocumentFragment(),kt=i.window.document.createElement("body"),jt;for(kt.innerHTML=K;jt=kt.firstChild,!!jt;)ut.appendChild(jt);return this.setDOMContent(ut)},et.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},et.prototype.setMaxWidth=function(K){return this.options.maxWidth=K,this._update(),this},et.prototype.setDOMContent=function(K){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(K),this._createCloseButton(),this._update(),this._focusFirstElement(),this},et.prototype.addClassName=function(K){this._container&&this._container.classList.add(K)},et.prototype.removeClassName=function(K){this._container&&this._container.classList.remove(K)},et.prototype.setOffset=function(K){return this.options.offset=K,this._update(),this},et.prototype.toggleClassName=function(K){if(this._container)return this._container.classList.toggle(K)},et.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},et.prototype._onMouseUp=function(K){this._update(K.point)},et.prototype._onMouseMove=function(K){this._update(K.point)},et.prototype._onDrag=function(K){this._update(K.point)},et.prototype._update=function(K){var ut=this,kt=this._lngLat||this._trackPointer;if(!(!this._map||!kt||!this._content)&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(mr){return ut._container.classList.add(mr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=pl(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!K))){var jt=this._pos=this._trackPointer&&K?K:this._map.project(this._lngLat),Qt=this.options.anchor,de=Mf(this.options.offset);if(!Qt){var Le=this._container.offsetWidth,He=this._container.offsetHeight,sr;jt.y+de.bottom.y<He?sr=["top"]:jt.y>this._map.transform.height-He?sr=["bottom"]:sr=[],jt.x<Le/2?sr.push("left"):jt.x>this._map.transform.width-Le/2&&sr.push("right"),sr.length===0?Qt="bottom":Qt=sr.join("-")}var tr=jt.add(de[Qt]).round();T.setTransform(this._container,vc[Qt]+" translate("+tr.x+"px,"+tr.y+"px)"),Ec(this._container,Qt,"popup")}},et.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var K=this._container.querySelector(kf);K&&K.focus()}},et.prototype._onClose=function(){this.remove()},et}(i.Evented);function Mf(X){if(X)if(typeof X=="number"){var et=Math.round(Math.sqrt(.5*Math.pow(X,2)));return{center:new i.Point(0,0),top:new i.Point(0,X),"top-left":new i.Point(et,et),"top-right":new i.Point(-et,et),bottom:new i.Point(0,-X),"bottom-left":new i.Point(et,-et),"bottom-right":new i.Point(-et,-et),left:new i.Point(X,0),right:new i.Point(-X,0)}}else if(X instanceof i.Point||Array.isArray(X)){var K=i.Point.convert(X);return{center:K,top:K,"top-left":K,"top-right":K,bottom:K,"bottom-left":K,"bottom-right":K,left:K,right:K}}else return{center:i.Point.convert(X.center||[0,0]),top:i.Point.convert(X.top||[0,0]),"top-left":i.Point.convert(X["top-left"]||[0,0]),"top-right":i.Point.convert(X["top-right"]||[0,0]),bottom:i.Point.convert(X.bottom||[0,0]),"bottom-left":i.Point.convert(X["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(X["bottom-right"]||[0,0]),left:i.Point.convert(X.left||[0,0]),right:i.Point.convert(X.right||[0,0])};else return Mf(new i.Point(0,0))}var Ba={version:i.version,supported:L,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:$c,NavigationControl:hl,GeolocateControl:_f,AttributionControl:Di,ScaleControl:uu,FullscreenControl:_s,Popup:Vf,Marker:Nu,Style:oo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:ke,clearPrewarmedResources:qe,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(X){i.config.ACCESS_TOKEN=X},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(X){i.config.API_URL=X},get workerCount(){return ar.workerCount},set workerCount(X){ar.workerCount=X},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(X){i.config.MAX_PARALLEL_IMAGE_REQUESTS=X},clearStorage:function(X){i.clearTileCache(X)},workerUrl:""};return Ba}),E})},3108:function(tt,U,t){tt.exports=t(26099)},26099:function(tt,U,t){var E=t(64928),S=t(32420),i=t(51160),L=t(76752),T=t(55616),v=t(31264),d=t(47520),r=t(18400),e=t(72512),l=t(76244),n=1073741824;tt.exports=function(o,f){f||(f={}),o=d(o,"float64"),f=T(f,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var b=v(f.maxDepth,255),h=v(f.bounds,L(o,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var _=s(o,h),a=o.length>>>1,c;f.dtype||(f.dtype="array"),typeof f.dtype=="string"?c=new(e(f.dtype))(a):f.dtype&&(c=f.dtype,Array.isArray(c)&&(c.length=a));for(var p=0;p<a;++p)c[p]=p;var x=[],k=[],y=[],A=[];O(0,0,1,c,0,1);for(var C=0,u=0;u<x.length;u++){var m=x[u];if(c.set)c.set(m,C);else for(var M=0,w=m.length;M<w;M++)c[M+C]=m[M];var z=C+x[u].length;A[u]=[C,z],C=z}return c.range=D,c;function O(R,N,B,q,V,J){if(!q.length)return null;var it=x[V]||(x[V]=[]),nt=y[V]||(y[V]=[]),Y=k[V]||(k[V]=[]),Z=it.length;if(V++,V>b||J>n){for(var $=0;$<q.length;$++)it.push(q[$]),nt.push(J),Y.push(null,null,null,null);return Z}if(it.push(q[0]),nt.push(J),q.length<=1)return Y.push(null,null,null,null),Z;for(var G=B*.5,rt=R+G,ot=N+G,W=[],H=[],at=[],Q=[],ct=1,ft=q.length;ct<ft;ct++){var yt=q[ct],xt=_[yt*2],Lt=_[yt*2+1];xt<rt?Lt<ot?W.push(yt):H.push(yt):Lt<ot?at.push(yt):Q.push(yt)}return J<<=2,Y.push(O(R,N,G,W,V,J),O(R,ot,G,H,V,J+1),O(rt,N,G,at,V,J+2),O(rt,ot,G,Q,V,J+3)),Z}function D(){for(var R=[],N=arguments.length;N--;)R[N]=arguments[N];var B;if(r(R[R.length-1])){var q=R.pop();!R.length&&(q.x!=null||q.l!=null||q.left!=null)&&(R=[q],B={}),B=T(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else B={};R.length||(R=h);var V=i.apply(void 0,R),J=[Math.min(V.x,V.x+V.width),Math.min(V.y,V.y+V.height),Math.max(V.x,V.x+V.width),Math.max(V.y,V.y+V.height)],it=J[0],nt=J[1],Y=J[2],Z=J[3],$=s([it,nt,Y,Z],h),G=$[0],rt=$[1],ot=$[2],W=$[3],H=v(B.level,x.length);if(B.d!=null){var at;typeof B.d=="number"?at=[B.d,B.d]:B.d.length&&(at=B.d),H=Math.min(Math.max(Math.ceil(-l(Math.abs(at[0])/(h[2]-h[0]))),Math.ceil(-l(Math.abs(at[1])/(h[3]-h[1])))),H)}if(H=Math.min(H,x.length),B.lod)return P(G,rt,ot,W,H);var Q=[];ct(0,0,1,0,0,1);function ct(yt,xt,Lt,gt,mt,vt){if(!(mt===null||vt===null)){var At=yt+Lt,Ot=xt+Lt;if(!(G>At||rt>Ot||ot<yt||W<xt)&&!(gt>=H)&&mt!==vt){var Pt=x[gt];vt===void 0&&(vt=Pt.length);for(var Et=mt;Et<vt;Et++){var Nt=Pt[Et],ne=o[Nt*2],Gt=o[Nt*2+1];ne>=it&&ne<=Y&&Gt>=nt&&Gt<=Z&&Q.push(Nt)}var pe=k[gt],Vt=pe[mt*4+0],ae=pe[mt*4+1],oe=pe[mt*4+2],ce=pe[mt*4+3],le=ft(pe,mt+1),ye=Lt*.5,Tt=gt+1;ct(yt,xt,ye,Tt,Vt,ae||oe||ce||le),ct(yt,xt+ye,ye,Tt,ae,oe||ce||le),ct(yt+ye,xt,ye,Tt,oe,ce||le),ct(yt+ye,xt+ye,ye,Tt,ce,le)}}}function ft(yt,xt){for(var Lt=null,gt=0;Lt===null;)if(Lt=yt[xt*4+gt],gt++,gt>yt.length)return null;return Lt}return Q}function P(R,N,B,q,V){for(var J=[],it=0;it<V;it++){var nt=y[it],Y=A[it][0],Z=F(R,N,it),$=F(B,q,it),G=E.ge(nt,Z),rt=E.gt(nt,$,G,nt.length-1);J[it]=[G+Y,rt+Y]}return J}function F(R,N,B){for(var q=1,V=.5,J=.5,it=.5,nt=0;nt<B;nt++)q<<=2,q+=R<V?N<J?0:1:N<J?2:3,it*=.5,V+=R<V?-it:it,J+=N<J?-it:it;return q}};function s(o,f){for(var b=f[0],h=f[1],_=f[2],a=f[3],c=1/(_-b),p=1/(a-h),x=new Array(o.length),k=0,y=o.length/2;k<y;k++)x[2*k]=S((o[2*k]-b)*c,0,1),x[2*k+1]=S((o[2*k+1]-h)*p,0,1);return x}},40440:function(tt,U,t){Object.defineProperty(U,"__esModule",{value:!0});var E=t(3256),S=6378137;function i(r){return E.geomReduce(r,function(e,l){return e+L(l)},0)}U.default=i;function L(r){var e=0,l;switch(r.type){case"Polygon":return T(r.coordinates);case"MultiPolygon":for(l=0;l<r.coordinates.length;l++)e+=T(r.coordinates[l]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function T(r){var e=0;if(r&&r.length>0){e+=Math.abs(v(r[0]));for(var l=1;l<r.length;l++)e-=Math.abs(v(r[l]))}return e}function v(r){var e,l,n,s,o,f,b,h=0,_=r.length;if(_>2){for(b=0;b<_;b++)b===_-2?(s=_-2,o=_-1,f=0):b===_-1?(s=_-1,o=0,f=1):(s=b,o=b+1,f=b+2),e=r[s],l=r[o],n=r[f],h+=(d(n[0])-d(e[0]))*Math.sin(d(l[1]));h=h*S*S/2}return h}function d(r){return r*Math.PI/180}},46284:function(tt,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(u,m,M){M===void 0&&(M={});var w={type:"Feature"};return(M.id===0||M.id)&&(w.id=M.id),M.bbox&&(w.bbox=M.bbox),w.properties=m||{},w.geometry=u,w}U.feature=t;function E(u,m,M){switch(u){case"Point":return S(m).geometry;case"LineString":return v(m).geometry;case"Polygon":return L(m).geometry;case"MultiPoint":return l(m).geometry;case"MultiLineString":return e(m).geometry;case"MultiPolygon":return n(m).geometry;default:throw new Error(u+" is invalid")}}U.geometry=E;function S(u,m,M){if(M===void 0&&(M={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!k(u[0])||!k(u[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:u};return t(w,m,M)}U.point=S;function i(u,m,M){return M===void 0&&(M={}),r(u.map(function(w){return S(w,m)}),M)}U.points=i;function L(u,m,M){M===void 0&&(M={});for(var w=0,z=u;w<z.length;w++){var O=z[w];if(O.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var D=0;D<O[O.length-1].length;D++)if(O[O.length-1][D]!==O[0][D])throw new Error("First and last Position are not equivalent.")}var P={type:"Polygon",coordinates:u};return t(P,m,M)}U.polygon=L;function T(u,m,M){return M===void 0&&(M={}),r(u.map(function(w){return L(w,m)}),M)}U.polygons=T;function v(u,m,M){if(M===void 0&&(M={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:u};return t(w,m,M)}U.lineString=v;function d(u,m,M){return M===void 0&&(M={}),r(u.map(function(w){return v(w,m)}),M)}U.lineStrings=d;function r(u,m){m===void 0&&(m={});var M={type:"FeatureCollection"};return m.id&&(M.id=m.id),m.bbox&&(M.bbox=m.bbox),M.features=u,M}U.featureCollection=r;function e(u,m,M){M===void 0&&(M={});var w={type:"MultiLineString",coordinates:u};return t(w,m,M)}U.multiLineString=e;function l(u,m,M){M===void 0&&(M={});var w={type:"MultiPoint",coordinates:u};return t(w,m,M)}U.multiPoint=l;function n(u,m,M){M===void 0&&(M={});var w={type:"MultiPolygon",coordinates:u};return t(w,m,M)}U.multiPolygon=n;function s(u,m,M){M===void 0&&(M={});var w={type:"GeometryCollection",geometries:u};return t(w,m,M)}U.geometryCollection=s;function o(u,m){if(m===void 0&&(m=0),m&&!(m>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,m||0);return Math.round(u*M)/M}U.round=o;function f(u,m){m===void 0&&(m="kilometers");var M=U.factors[m];if(!M)throw new Error(m+" units is invalid");return u*M}U.radiansToLength=f;function b(u,m){m===void 0&&(m="kilometers");var M=U.factors[m];if(!M)throw new Error(m+" units is invalid");return u/M}U.lengthToRadians=b;function h(u,m){return a(b(u,m))}U.lengthToDegrees=h;function _(u){var m=u%360;return m<0&&(m+=360),m}U.bearingToAzimuth=_;function a(u){var m=u%(2*Math.PI);return m*180/Math.PI}U.radiansToDegrees=a;function c(u){var m=u%360;return m*Math.PI/180}U.degreesToRadians=c;function p(u,m,M){if(m===void 0&&(m="kilometers"),M===void 0&&(M="kilometers"),!(u>=0))throw new Error("length must be a positive number");return f(b(u,m),M)}U.convertLength=p;function x(u,m,M){if(m===void 0&&(m="meters"),M===void 0&&(M="kilometers"),!(u>=0))throw new Error("area must be a positive number");var w=U.areaFactors[m];if(!w)throw new Error("invalid original units");var z=U.areaFactors[M];if(!z)throw new Error("invalid final units");return u/w*z}U.convertArea=x;function k(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}U.isNumber=k;function y(u){return!!u&&u.constructor===Object}U.isObject=y;function A(u){if(!u)throw new Error("bbox is required");if(!Array.isArray(u))throw new Error("bbox must be an Array");if(u.length!==4&&u.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");u.forEach(function(m){if(!k(m))throw new Error("bbox must only contain numbers")})}U.validateBBox=A;function C(u){if(!u)throw new Error("id is required");if(["string","number"].indexOf(typeof u)===-1)throw new Error("id must be a number or a string")}U.validateId=C},3256:function(tt,U,t){Object.defineProperty(U,"__esModule",{value:!0});var E=t(46284);function S(c,p,x){if(c!==null)for(var k,y,A,C,u,m,M,w=0,z=0,O,D=c.type,P=D==="FeatureCollection",F=D==="Feature",R=P?c.features.length:1,N=0;N<R;N++){M=P?c.features[N].geometry:F?c.geometry:c,O=M?M.type==="GeometryCollection":!1,u=O?M.geometries.length:1;for(var B=0;B<u;B++){var q=0,V=0;if(C=O?M.geometries[B]:M,C!==null){m=C.coordinates;var J=C.type;switch(w=x&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(p(m,z,N,q,V)===!1)return!1;z++,q++;break;case"LineString":case"MultiPoint":for(k=0;k<m.length;k++){if(p(m[k],z,N,q,V)===!1)return!1;z++,J==="MultiPoint"&&q++}J==="LineString"&&q++;break;case"Polygon":case"MultiLineString":for(k=0;k<m.length;k++){for(y=0;y<m[k].length-w;y++){if(p(m[k][y],z,N,q,V)===!1)return!1;z++}J==="MultiLineString"&&q++,J==="Polygon"&&V++}J==="Polygon"&&q++;break;case"MultiPolygon":for(k=0;k<m.length;k++){for(V=0,y=0;y<m[k].length;y++){for(A=0;A<m[k][y].length-w;A++){if(p(m[k][y][A],z,N,q,V)===!1)return!1;z++}V++}q++}break;case"GeometryCollection":for(k=0;k<C.geometries.length;k++)if(S(C.geometries[k],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(c,p,x,k){var y=x;return S(c,function(A,C,u,m,M){C===0&&x===void 0?y=A:y=p(y,A,C,u,m,M)},k),y}function L(c,p){var x;switch(c.type){case"FeatureCollection":for(x=0;x<c.features.length&&p(c.features[x].properties,x)!==!1;x++);break;case"Feature":p(c.properties,0);break}}function T(c,p,x){var k=x;return L(c,function(y,A){A===0&&x===void 0?k=y:k=p(k,y,A)}),k}function v(c,p){if(c.type==="Feature")p(c,0);else if(c.type==="FeatureCollection")for(var x=0;x<c.features.length&&p(c.features[x],x)!==!1;x++);}function d(c,p,x){var k=x;return v(c,function(y,A){A===0&&x===void 0?k=y:k=p(k,y,A)}),k}function r(c){var p=[];return S(c,function(x){p.push(x)}),p}function e(c,p){var x,k,y,A,C,u,m,M,w,z,O=0,D=c.type==="FeatureCollection",P=c.type==="Feature",F=D?c.features.length:1;for(x=0;x<F;x++){for(u=D?c.features[x].geometry:P?c.geometry:c,M=D?c.features[x].properties:P?c.properties:{},w=D?c.features[x].bbox:P?c.bbox:void 0,z=D?c.features[x].id:P?c.id:void 0,m=u?u.type==="GeometryCollection":!1,C=m?u.geometries.length:1,y=0;y<C;y++){if(A=m?u.geometries[y]:u,A===null){if(p(null,O,M,w,z)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(A,O,M,w,z)===!1)return!1;break}case"GeometryCollection":{for(k=0;k<A.geometries.length;k++)if(p(A.geometries[k],O,M,w,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function l(c,p,x){var k=x;return e(c,function(y,A,C,u,m){A===0&&x===void 0?k=y:k=p(k,y,A,C,u,m)}),k}function n(c,p){e(c,function(x,k,y,A,C){var u=x===null?null:x.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return p(E.feature(x,y,{bbox:A,id:C}),k,0)===!1?!1:void 0}var m;switch(u){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon";break}for(var M=0;M<x.coordinates.length;M++){var w=x.coordinates[M],z={type:m,coordinates:w};if(p(E.feature(z,y),k,M)===!1)return!1}})}function s(c,p,x){var k=x;return n(c,function(y,A,C){A===0&&C===0&&x===void 0?k=y:k=p(k,y,A,C)}),k}function o(c,p){n(c,function(x,k,y){var A=0;if(x.geometry){var C=x.geometry.type;if(!(C==="Point"||C==="MultiPoint")){var u,m=0,M=0,w=0;if(S(x,function(z,O,D,P,F){if(u===void 0||k>m||P>M||F>w){u=z,m=k,M=P,w=F,A=0;return}var R=E.lineString([u,z],x.properties);if(p(R,k,y,F,A)===!1)return!1;A++,u=z})===!1)return!1}}})}function f(c,p,x){var k=x,y=!1;return o(c,function(A,C,u,m,M){y===!1&&x===void 0?k=A:k=p(k,A,C,u,m,M),y=!0}),k}function b(c,p){if(!c)throw new Error("geojson is required");n(c,function(x,k,y){if(x.geometry!==null){var A=x.geometry.type,C=x.geometry.coordinates;switch(A){case"LineString":if(p(x,k,y,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<C.length;u++)if(p(E.lineString(C[u],x.properties),k,y,u)===!1)return!1;break}}})}function h(c,p,x){var k=x;return b(c,function(y,A,C,u){A===0&&x===void 0?k=y:k=p(k,y,A,C,u)}),k}function _(c,p){if(p=p||{},!E.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,k=p.multiFeatureIndex||0,y=p.geometryIndex||0,A=p.segmentIndex||0,C=p.properties,u;switch(c.type){case"FeatureCollection":x<0&&(x=c.features.length+x),C=C||c.features[x].properties,u=c.features[x].geometry;break;case"Feature":C=C||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var m=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return A<0&&(A=m.length+A-1),E.lineString([m[A],m[A+1]],C,p);case"Polygon":return y<0&&(y=m.length+y),A<0&&(A=m[y].length+A-1),E.lineString([m[y][A],m[y][A+1]],C,p);case"MultiLineString":return k<0&&(k=m.length+k),A<0&&(A=m[k].length+A-1),E.lineString([m[k][A],m[k][A+1]],C,p);case"MultiPolygon":return k<0&&(k=m.length+k),y<0&&(y=m[k].length+y),A<0&&(A=m[k][y].length-A-1),E.lineString([m[k][y][A],m[k][y][A+1]],C,p)}throw new Error("geojson is invalid")}function a(c,p){if(p=p||{},!E.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,k=p.multiFeatureIndex||0,y=p.geometryIndex||0,A=p.coordIndex||0,C=p.properties,u;switch(c.type){case"FeatureCollection":x<0&&(x=c.features.length+x),C=C||c.features[x].properties,u=c.features[x].geometry;break;case"Feature":C=C||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var m=u.coordinates;switch(u.type){case"Point":return E.point(m,C,p);case"MultiPoint":return k<0&&(k=m.length+k),E.point(m[k],C,p);case"LineString":return A<0&&(A=m.length+A),E.point(m[A],C,p);case"Polygon":return y<0&&(y=m.length+y),A<0&&(A=m[y].length+A),E.point(m[y][A],C,p);case"MultiLineString":return k<0&&(k=m.length+k),A<0&&(A=m[k].length+A),E.point(m[k][A],C,p);case"MultiPolygon":return k<0&&(k=m.length+k),y<0&&(y=m[k].length+y),A<0&&(A=m[k][y].length-A),E.point(m[k][y][A],C,p)}throw new Error("geojson is invalid")}U.coordEach=S,U.coordReduce=i,U.propEach=L,U.propReduce=T,U.featureEach=v,U.featureReduce=d,U.coordAll=r,U.geomEach=e,U.geomReduce=l,U.flattenEach=n,U.flattenReduce=s,U.segmentEach=o,U.segmentReduce=f,U.lineEach=b,U.lineReduce=h,U.findSegment=_,U.findPoint=a},42428:function(tt,U,t){Object.defineProperty(U,"__esModule",{value:!0});var E=t(84880);function S(i){var L=[1/0,1/0,-1/0,-1/0];return E.coordEach(i,function(T){L[0]>T[0]&&(L[0]=T[0]),L[1]>T[1]&&(L[1]=T[1]),L[2]<T[0]&&(L[2]=T[0]),L[3]<T[1]&&(L[3]=T[1])}),L}S.default=S,U.default=S},76796:function(tt,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(u,m,M){M===void 0&&(M={});var w={type:"Feature"};return(M.id===0||M.id)&&(w.id=M.id),M.bbox&&(w.bbox=M.bbox),w.properties=m||{},w.geometry=u,w}U.feature=t;function E(u,m,M){switch(u){case"Point":return S(m).geometry;case"LineString":return v(m).geometry;case"Polygon":return L(m).geometry;case"MultiPoint":return l(m).geometry;case"MultiLineString":return e(m).geometry;case"MultiPolygon":return n(m).geometry;default:throw new Error(u+" is invalid")}}U.geometry=E;function S(u,m,M){if(M===void 0&&(M={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!k(u[0])||!k(u[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:u};return t(w,m,M)}U.point=S;function i(u,m,M){return M===void 0&&(M={}),r(u.map(function(w){return S(w,m)}),M)}U.points=i;function L(u,m,M){M===void 0&&(M={});for(var w=0,z=u;w<z.length;w++){var O=z[w];if(O.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var D=0;D<O[O.length-1].length;D++)if(O[O.length-1][D]!==O[0][D])throw new Error("First and last Position are not equivalent.")}var P={type:"Polygon",coordinates:u};return t(P,m,M)}U.polygon=L;function T(u,m,M){return M===void 0&&(M={}),r(u.map(function(w){return L(w,m)}),M)}U.polygons=T;function v(u,m,M){if(M===void 0&&(M={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:u};return t(w,m,M)}U.lineString=v;function d(u,m,M){return M===void 0&&(M={}),r(u.map(function(w){return v(w,m)}),M)}U.lineStrings=d;function r(u,m){m===void 0&&(m={});var M={type:"FeatureCollection"};return m.id&&(M.id=m.id),m.bbox&&(M.bbox=m.bbox),M.features=u,M}U.featureCollection=r;function e(u,m,M){M===void 0&&(M={});var w={type:"MultiLineString",coordinates:u};return t(w,m,M)}U.multiLineString=e;function l(u,m,M){M===void 0&&(M={});var w={type:"MultiPoint",coordinates:u};return t(w,m,M)}U.multiPoint=l;function n(u,m,M){M===void 0&&(M={});var w={type:"MultiPolygon",coordinates:u};return t(w,m,M)}U.multiPolygon=n;function s(u,m,M){M===void 0&&(M={});var w={type:"GeometryCollection",geometries:u};return t(w,m,M)}U.geometryCollection=s;function o(u,m){if(m===void 0&&(m=0),m&&!(m>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,m||0);return Math.round(u*M)/M}U.round=o;function f(u,m){m===void 0&&(m="kilometers");var M=U.factors[m];if(!M)throw new Error(m+" units is invalid");return u*M}U.radiansToLength=f;function b(u,m){m===void 0&&(m="kilometers");var M=U.factors[m];if(!M)throw new Error(m+" units is invalid");return u/M}U.lengthToRadians=b;function h(u,m){return a(b(u,m))}U.lengthToDegrees=h;function _(u){var m=u%360;return m<0&&(m+=360),m}U.bearingToAzimuth=_;function a(u){var m=u%(2*Math.PI);return m*180/Math.PI}U.radiansToDegrees=a;function c(u){var m=u%360;return m*Math.PI/180}U.degreesToRadians=c;function p(u,m,M){if(m===void 0&&(m="kilometers"),M===void 0&&(M="kilometers"),!(u>=0))throw new Error("length must be a positive number");return f(b(u,m),M)}U.convertLength=p;function x(u,m,M){if(m===void 0&&(m="meters"),M===void 0&&(M="kilometers"),!(u>=0))throw new Error("area must be a positive number");var w=U.areaFactors[m];if(!w)throw new Error("invalid original units");var z=U.areaFactors[M];if(!z)throw new Error("invalid final units");return u/w*z}U.convertArea=x;function k(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}U.isNumber=k;function y(u){return!!u&&u.constructor===Object}U.isObject=y;function A(u){if(!u)throw new Error("bbox is required");if(!Array.isArray(u))throw new Error("bbox must be an Array");if(u.length!==4&&u.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");u.forEach(function(m){if(!k(m))throw new Error("bbox must only contain numbers")})}U.validateBBox=A;function C(u){if(!u)throw new Error("id is required");if(["string","number"].indexOf(typeof u)===-1)throw new Error("id must be a number or a string")}U.validateId=C},84880:function(tt,U,t){Object.defineProperty(U,"__esModule",{value:!0});var E=t(76796);function S(c,p,x){if(c!==null)for(var k,y,A,C,u,m,M,w=0,z=0,O,D=c.type,P=D==="FeatureCollection",F=D==="Feature",R=P?c.features.length:1,N=0;N<R;N++){M=P?c.features[N].geometry:F?c.geometry:c,O=M?M.type==="GeometryCollection":!1,u=O?M.geometries.length:1;for(var B=0;B<u;B++){var q=0,V=0;if(C=O?M.geometries[B]:M,C!==null){m=C.coordinates;var J=C.type;switch(w=x&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(p(m,z,N,q,V)===!1)return!1;z++,q++;break;case"LineString":case"MultiPoint":for(k=0;k<m.length;k++){if(p(m[k],z,N,q,V)===!1)return!1;z++,J==="MultiPoint"&&q++}J==="LineString"&&q++;break;case"Polygon":case"MultiLineString":for(k=0;k<m.length;k++){for(y=0;y<m[k].length-w;y++){if(p(m[k][y],z,N,q,V)===!1)return!1;z++}J==="MultiLineString"&&q++,J==="Polygon"&&V++}J==="Polygon"&&q++;break;case"MultiPolygon":for(k=0;k<m.length;k++){for(V=0,y=0;y<m[k].length;y++){for(A=0;A<m[k][y].length-w;A++){if(p(m[k][y][A],z,N,q,V)===!1)return!1;z++}V++}q++}break;case"GeometryCollection":for(k=0;k<C.geometries.length;k++)if(S(C.geometries[k],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(c,p,x,k){var y=x;return S(c,function(A,C,u,m,M){C===0&&x===void 0?y=A:y=p(y,A,C,u,m,M)},k),y}function L(c,p){var x;switch(c.type){case"FeatureCollection":for(x=0;x<c.features.length&&p(c.features[x].properties,x)!==!1;x++);break;case"Feature":p(c.properties,0);break}}function T(c,p,x){var k=x;return L(c,function(y,A){A===0&&x===void 0?k=y:k=p(k,y,A)}),k}function v(c,p){if(c.type==="Feature")p(c,0);else if(c.type==="FeatureCollection")for(var x=0;x<c.features.length&&p(c.features[x],x)!==!1;x++);}function d(c,p,x){var k=x;return v(c,function(y,A){A===0&&x===void 0?k=y:k=p(k,y,A)}),k}function r(c){var p=[];return S(c,function(x){p.push(x)}),p}function e(c,p){var x,k,y,A,C,u,m,M,w,z,O=0,D=c.type==="FeatureCollection",P=c.type==="Feature",F=D?c.features.length:1;for(x=0;x<F;x++){for(u=D?c.features[x].geometry:P?c.geometry:c,M=D?c.features[x].properties:P?c.properties:{},w=D?c.features[x].bbox:P?c.bbox:void 0,z=D?c.features[x].id:P?c.id:void 0,m=u?u.type==="GeometryCollection":!1,C=m?u.geometries.length:1,y=0;y<C;y++){if(A=m?u.geometries[y]:u,A===null){if(p(null,O,M,w,z)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(A,O,M,w,z)===!1)return!1;break}case"GeometryCollection":{for(k=0;k<A.geometries.length;k++)if(p(A.geometries[k],O,M,w,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function l(c,p,x){var k=x;return e(c,function(y,A,C,u,m){A===0&&x===void 0?k=y:k=p(k,y,A,C,u,m)}),k}function n(c,p){e(c,function(x,k,y,A,C){var u=x===null?null:x.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return p(E.feature(x,y,{bbox:A,id:C}),k,0)===!1?!1:void 0}var m;switch(u){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon";break}for(var M=0;M<x.coordinates.length;M++){var w=x.coordinates[M],z={type:m,coordinates:w};if(p(E.feature(z,y),k,M)===!1)return!1}})}function s(c,p,x){var k=x;return n(c,function(y,A,C){A===0&&C===0&&x===void 0?k=y:k=p(k,y,A,C)}),k}function o(c,p){n(c,function(x,k,y){var A=0;if(x.geometry){var C=x.geometry.type;if(!(C==="Point"||C==="MultiPoint")){var u,m=0,M=0,w=0;if(S(x,function(z,O,D,P,F){if(u===void 0||k>m||P>M||F>w){u=z,m=k,M=P,w=F,A=0;return}var R=E.lineString([u,z],x.properties);if(p(R,k,y,F,A)===!1)return!1;A++,u=z})===!1)return!1}}})}function f(c,p,x){var k=x,y=!1;return o(c,function(A,C,u,m,M){y===!1&&x===void 0?k=A:k=p(k,A,C,u,m,M),y=!0}),k}function b(c,p){if(!c)throw new Error("geojson is required");n(c,function(x,k,y){if(x.geometry!==null){var A=x.geometry.type,C=x.geometry.coordinates;switch(A){case"LineString":if(p(x,k,y,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<C.length;u++)if(p(E.lineString(C[u],x.properties),k,y,u)===!1)return!1;break}}})}function h(c,p,x){var k=x;return b(c,function(y,A,C,u){A===0&&x===void 0?k=y:k=p(k,y,A,C,u)}),k}function _(c,p){if(p=p||{},!E.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,k=p.multiFeatureIndex||0,y=p.geometryIndex||0,A=p.segmentIndex||0,C=p.properties,u;switch(c.type){case"FeatureCollection":x<0&&(x=c.features.length+x),C=C||c.features[x].properties,u=c.features[x].geometry;break;case"Feature":C=C||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var m=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return A<0&&(A=m.length+A-1),E.lineString([m[A],m[A+1]],C,p);case"Polygon":return y<0&&(y=m.length+y),A<0&&(A=m[y].length+A-1),E.lineString([m[y][A],m[y][A+1]],C,p);case"MultiLineString":return k<0&&(k=m.length+k),A<0&&(A=m[k].length+A-1),E.lineString([m[k][A],m[k][A+1]],C,p);case"MultiPolygon":return k<0&&(k=m.length+k),y<0&&(y=m[k].length+y),A<0&&(A=m[k][y].length-A-1),E.lineString([m[k][y][A],m[k][y][A+1]],C,p)}throw new Error("geojson is invalid")}function a(c,p){if(p=p||{},!E.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,k=p.multiFeatureIndex||0,y=p.geometryIndex||0,A=p.coordIndex||0,C=p.properties,u;switch(c.type){case"FeatureCollection":x<0&&(x=c.features.length+x),C=C||c.features[x].properties,u=c.features[x].geometry;break;case"Feature":C=C||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var m=u.coordinates;switch(u.type){case"Point":return E.point(m,C,p);case"MultiPoint":return k<0&&(k=m.length+k),E.point(m[k],C,p);case"LineString":return A<0&&(A=m.length+A),E.point(m[A],C,p);case"Polygon":return y<0&&(y=m.length+y),A<0&&(A=m[y].length+A),E.point(m[y][A],C,p);case"MultiLineString":return k<0&&(k=m.length+k),A<0&&(A=m[k].length+A),E.point(m[k][A],C,p);case"MultiPolygon":return k<0&&(k=m.length+k),y<0&&(y=m[k].length+y),A<0&&(A=m[k][y].length-A),E.point(m[k][y][A],C,p)}throw new Error("geojson is invalid")}U.coordEach=S,U.coordReduce=i,U.propEach=L,U.propReduce=T,U.featureEach=v,U.featureReduce=d,U.coordAll=r,U.geomEach=e,U.geomReduce=l,U.flattenEach=n,U.flattenReduce=s,U.segmentEach=o,U.segmentReduce=f,U.lineEach=b,U.lineReduce=h,U.findSegment=_,U.findPoint=a},77844:function(tt,U,t){Object.defineProperty(U,"__esModule",{value:!0});var E=t(43752),S=t(49840);function i(L,T){T===void 0&&(T={});var v=0,d=0,r=0;return E.coordEach(L,function(e){v+=e[0],d+=e[1],r++}),S.point([v/r,d/r],T.properties)}U.default=i},49840:function(tt,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(P,F,R){R===void 0&&(R={});var N={type:"Feature"};return(R.id===0||R.id)&&(N.id=R.id),R.bbox&&(N.bbox=R.bbox),N.properties=F||{},N.geometry=P,N}U.feature=t;function E(P,F,R){switch(P){case"Point":return S(F).geometry;case"LineString":return v(F).geometry;case"Polygon":return L(F).geometry;case"MultiPoint":return l(F).geometry;case"MultiLineString":return e(F).geometry;case"MultiPolygon":return n(F).geometry;default:throw new Error(P+" is invalid")}}U.geometry=E;function S(P,F,R){R===void 0&&(R={});var N={type:"Point",coordinates:P};return t(N,F,R)}U.point=S;function i(P,F,R){return R===void 0&&(R={}),r(P.map(function(N){return S(N,F)}),R)}U.points=i;function L(P,F,R){R===void 0&&(R={});for(var N=0,B=P;N<B.length;N++){var q=B[N];if(q.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var V=0;V<q[q.length-1].length;V++)if(q[q.length-1][V]!==q[0][V])throw new Error("First and last Position are not equivalent.")}var J={type:"Polygon",coordinates:P};return t(J,F,R)}U.polygon=L;function T(P,F,R){return R===void 0&&(R={}),r(P.map(function(N){return L(N,F)}),R)}U.polygons=T;function v(P,F,R){if(R===void 0&&(R={}),P.length<2)throw new Error("coordinates must be an array of two or more positions");var N={type:"LineString",coordinates:P};return t(N,F,R)}U.lineString=v;function d(P,F,R){return R===void 0&&(R={}),r(P.map(function(N){return v(N,F)}),R)}U.lineStrings=d;function r(P,F){F===void 0&&(F={});var R={type:"FeatureCollection"};return F.id&&(R.id=F.id),F.bbox&&(R.bbox=F.bbox),R.features=P,R}U.featureCollection=r;function e(P,F,R){R===void 0&&(R={});var N={type:"MultiLineString",coordinates:P};return t(N,F,R)}U.multiLineString=e;function l(P,F,R){R===void 0&&(R={});var N={type:"MultiPoint",coordinates:P};return t(N,F,R)}U.multiPoint=l;function n(P,F,R){R===void 0&&(R={});var N={type:"MultiPolygon",coordinates:P};return t(N,F,R)}U.multiPolygon=n;function s(P,F,R){R===void 0&&(R={});var N={type:"GeometryCollection",geometries:P};return t(N,F,R)}U.geometryCollection=s;function o(P,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,F||0);return Math.round(P*R)/R}U.round=o;function f(P,F){F===void 0&&(F="kilometers");var R=U.factors[F];if(!R)throw new Error(F+" units is invalid");return P*R}U.radiansToLength=f;function b(P,F){F===void 0&&(F="kilometers");var R=U.factors[F];if(!R)throw new Error(F+" units is invalid");return P/R}U.lengthToRadians=b;function h(P,F){return a(b(P,F))}U.lengthToDegrees=h;function _(P){var F=P%360;return F<0&&(F+=360),F}U.bearingToAzimuth=_;function a(P){var F=P%(2*Math.PI);return F*180/Math.PI}U.radiansToDegrees=a;function c(P){var F=P%360;return F*Math.PI/180}U.degreesToRadians=c;function p(P,F,R){if(F===void 0&&(F="kilometers"),R===void 0&&(R="kilometers"),!(P>=0))throw new Error("length must be a positive number");return f(b(P,F),R)}U.convertLength=p;function x(P,F,R){if(F===void 0&&(F="meters"),R===void 0&&(R="kilometers"),!(P>=0))throw new Error("area must be a positive number");var N=U.areaFactors[F];if(!N)throw new Error("invalid original units");var B=U.areaFactors[R];if(!B)throw new Error("invalid final units");return P/N*B}U.convertArea=x;function k(P){return!isNaN(P)&&P!==null&&!Array.isArray(P)&&!/^\s*$/.test(P)}U.isNumber=k;function y(P){return!!P&&P.constructor===Object}U.isObject=y;function A(P){if(!P)throw new Error("bbox is required");if(!Array.isArray(P))throw new Error("bbox must be an Array");if(P.length!==4&&P.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");P.forEach(function(F){if(!k(F))throw new Error("bbox must only contain numbers")})}U.validateBBox=A;function C(P){if(!P)throw new Error("id is required");if(["string","number"].indexOf(typeof P)===-1)throw new Error("id must be a number or a string")}U.validateId=C;function u(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=u;function m(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=m;function M(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=M;function w(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=w;function z(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=z;function O(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=O;function D(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=D},43752:function(tt,U,t){Object.defineProperty(U,"__esModule",{value:!0});var E=t(49840);function S(c,p,x){if(c!==null)for(var k,y,A,C,u,m,M,w=0,z=0,O,D=c.type,P=D==="FeatureCollection",F=D==="Feature",R=P?c.features.length:1,N=0;N<R;N++){M=P?c.features[N].geometry:F?c.geometry:c,O=M?M.type==="GeometryCollection":!1,u=O?M.geometries.length:1;for(var B=0;B<u;B++){var q=0,V=0;if(C=O?M.geometries[B]:M,C!==null){m=C.coordinates;var J=C.type;switch(w=x&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(p(m,z,N,q,V)===!1)return!1;z++,q++;break;case"LineString":case"MultiPoint":for(k=0;k<m.length;k++){if(p(m[k],z,N,q,V)===!1)return!1;z++,J==="MultiPoint"&&q++}J==="LineString"&&q++;break;case"Polygon":case"MultiLineString":for(k=0;k<m.length;k++){for(y=0;y<m[k].length-w;y++){if(p(m[k][y],z,N,q,V)===!1)return!1;z++}J==="MultiLineString"&&q++,J==="Polygon"&&V++}J==="Polygon"&&q++;break;case"MultiPolygon":for(k=0;k<m.length;k++){for(V=0,y=0;y<m[k].length;y++){for(A=0;A<m[k][y].length-w;A++){if(p(m[k][y][A],z,N,q,V)===!1)return!1;z++}V++}q++}break;case"GeometryCollection":for(k=0;k<C.geometries.length;k++)if(S(C.geometries[k],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(c,p,x,k){var y=x;return S(c,function(A,C,u,m,M){C===0&&x===void 0?y=A:y=p(y,A,C,u,m,M)},k),y}function L(c,p){var x;switch(c.type){case"FeatureCollection":for(x=0;x<c.features.length&&p(c.features[x].properties,x)!==!1;x++);break;case"Feature":p(c.properties,0);break}}function T(c,p,x){var k=x;return L(c,function(y,A){A===0&&x===void 0?k=y:k=p(k,y,A)}),k}function v(c,p){if(c.type==="Feature")p(c,0);else if(c.type==="FeatureCollection")for(var x=0;x<c.features.length&&p(c.features[x],x)!==!1;x++);}function d(c,p,x){var k=x;return v(c,function(y,A){A===0&&x===void 0?k=y:k=p(k,y,A)}),k}function r(c){var p=[];return S(c,function(x){p.push(x)}),p}function e(c,p){var x,k,y,A,C,u,m,M,w,z,O=0,D=c.type==="FeatureCollection",P=c.type==="Feature",F=D?c.features.length:1;for(x=0;x<F;x++){for(u=D?c.features[x].geometry:P?c.geometry:c,M=D?c.features[x].properties:P?c.properties:{},w=D?c.features[x].bbox:P?c.bbox:void 0,z=D?c.features[x].id:P?c.id:void 0,m=u?u.type==="GeometryCollection":!1,C=m?u.geometries.length:1,y=0;y<C;y++){if(A=m?u.geometries[y]:u,A===null){if(p(null,O,M,w,z)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(A,O,M,w,z)===!1)return!1;break}case"GeometryCollection":{for(k=0;k<A.geometries.length;k++)if(p(A.geometries[k],O,M,w,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function l(c,p,x){var k=x;return e(c,function(y,A,C,u,m){A===0&&x===void 0?k=y:k=p(k,y,A,C,u,m)}),k}function n(c,p){e(c,function(x,k,y,A,C){var u=x===null?null:x.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return p(E.feature(x,y,{bbox:A,id:C}),k,0)===!1?!1:void 0}var m;switch(u){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon";break}for(var M=0;M<x.coordinates.length;M++){var w=x.coordinates[M],z={type:m,coordinates:w};if(p(E.feature(z,y),k,M)===!1)return!1}})}function s(c,p,x){var k=x;return n(c,function(y,A,C){A===0&&C===0&&x===void 0?k=y:k=p(k,y,A,C)}),k}function o(c,p){n(c,function(x,k,y){var A=0;if(x.geometry){var C=x.geometry.type;if(!(C==="Point"||C==="MultiPoint")){var u,m=0,M=0,w=0;if(S(x,function(z,O,D,P,F){if(u===void 0||k>m||P>M||F>w){u=z,m=k,M=P,w=F,A=0;return}var R=E.lineString([u,z],x.properties);if(p(R,k,y,F,A)===!1)return!1;A++,u=z})===!1)return!1}}})}function f(c,p,x){var k=x,y=!1;return o(c,function(A,C,u,m,M){y===!1&&x===void 0?k=A:k=p(k,A,C,u,m,M),y=!0}),k}function b(c,p){if(!c)throw new Error("geojson is required");n(c,function(x,k,y){if(x.geometry!==null){var A=x.geometry.type,C=x.geometry.coordinates;switch(A){case"LineString":if(p(x,k,y,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<C.length;u++)if(p(E.lineString(C[u],x.properties),k,y,u)===!1)return!1;break}}})}function h(c,p,x){var k=x;return b(c,function(y,A,C,u){A===0&&x===void 0?k=y:k=p(k,y,A,C,u)}),k}function _(c,p){if(p=p||{},!E.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,k=p.multiFeatureIndex||0,y=p.geometryIndex||0,A=p.segmentIndex||0,C=p.properties,u;switch(c.type){case"FeatureCollection":x<0&&(x=c.features.length+x),C=C||c.features[x].properties,u=c.features[x].geometry;break;case"Feature":C=C||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var m=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return A<0&&(A=m.length+A-1),E.lineString([m[A],m[A+1]],C,p);case"Polygon":return y<0&&(y=m.length+y),A<0&&(A=m[y].length+A-1),E.lineString([m[y][A],m[y][A+1]],C,p);case"MultiLineString":return k<0&&(k=m.length+k),A<0&&(A=m[k].length+A-1),E.lineString([m[k][A],m[k][A+1]],C,p);case"MultiPolygon":return k<0&&(k=m.length+k),y<0&&(y=m[k].length+y),A<0&&(A=m[k][y].length-A-1),E.lineString([m[k][y][A],m[k][y][A+1]],C,p)}throw new Error("geojson is invalid")}function a(c,p){if(p=p||{},!E.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,k=p.multiFeatureIndex||0,y=p.geometryIndex||0,A=p.coordIndex||0,C=p.properties,u;switch(c.type){case"FeatureCollection":x<0&&(x=c.features.length+x),C=C||c.features[x].properties,u=c.features[x].geometry;break;case"Feature":C=C||c.properties,u=c.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=c;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var m=u.coordinates;switch(u.type){case"Point":return E.point(m,C,p);case"MultiPoint":return k<0&&(k=m.length+k),E.point(m[k],C,p);case"LineString":return A<0&&(A=m.length+A),E.point(m[A],C,p);case"Polygon":return y<0&&(y=m.length+y),A<0&&(A=m[y].length+A),E.point(m[y][A],C,p);case"MultiLineString":return k<0&&(k=m.length+k),A<0&&(A=m[k].length+A),E.point(m[k][A],C,p);case"MultiPolygon":return k<0&&(k=m.length+k),y<0&&(y=m[k].length+y),A<0&&(A=m[k][y].length-A),E.point(m[k][y][A],C,p)}throw new Error("geojson is invalid")}U.coordEach=S,U.coordReduce=i,U.propEach=L,U.propReduce=T,U.featureEach=v,U.featureReduce=d,U.coordAll=r,U.geomEach=e,U.geomReduce=l,U.flattenEach=n,U.flattenReduce=s,U.segmentEach=o,U.segmentReduce=f,U.lineEach=b,U.lineReduce=h,U.findSegment=_,U.findPoint=a},49972:function(tt){tt.exports=U;function U(t){var E=0,S=0,i=0,L=0;return t.map(function(T){T=T.slice();var v=T[0],d=v.toUpperCase();if(v!=d)switch(T[0]=d,v){case"a":T[6]+=i,T[7]+=L;break;case"v":T[1]+=L;break;case"h":T[1]+=i;break;default:for(var r=1;r<T.length;)T[r++]+=i,T[r++]+=L}switch(d){case"Z":i=E,L=S;break;case"H":i=T[1];break;case"V":L=T[1];break;case"M":i=E=T[1],L=S=T[2];break;default:i=T[T.length-2],L=T[T.length-1]}return T})}},76752:function(tt){tt.exports=U;function U(t,E){if(!t||t.length==null)throw Error("Argument should be an array");E==null?E=1:E=Math.floor(E);for(var S=Array(E*2),i=0;i<E;i++){for(var L=-1/0,T=1/0,v=i,d=t.length;v<d;v+=E)t[v]>L&&(L=t[v]),t[v]<T&&(T=t[v]);S[i]=T,S[E+i]=L}return S}},10272:function(tt){tt.exports=function(U,t,E){if(typeof Array.prototype.findIndex=="function")return U.findIndex(t,E);if(typeof t!="function")throw new TypeError("predicate must be a function");var S=Object(U),i=S.length;if(i===0)return-1;for(var L=0;L<i;L++)if(t.call(E,S[L],L,S))return L;return-1}},71152:function(tt,U,t){var E=t(76752);tt.exports=S;function S(i,L,T){if(!i||i.length==null)throw Error("Argument should be an array");L==null&&(L=1),T==null&&(T=E(i,L));for(var v=0;v<L;v++){var d=T[L+v],r=T[v],e=v,l=i.length;if(d===1/0&&r===-1/0)for(e=v;e<l;e+=L)i[e]=i[e]===d?1:i[e]===r?0:.5;else if(d===1/0)for(e=v;e<l;e+=L)i[e]=i[e]===d?1:0;else if(r===-1/0)for(e=v;e<l;e+=L)i[e]=i[e]===r?0:1;else{var n=d-r;for(e=v;e<l;e+=L)isNaN(i[e])||(i[e]=n===0?.5:(i[e]-r)/n)}}return i}},67752:function(tt){tt.exports=function(U,t){var E=typeof U=="number",S=typeof t=="number";E&&!S?(t=U,U=0):!E&&!S&&(U=0,t=0),U=U|0,t=t|0;var i=t-U;if(i<0)throw new Error("array length must be positive");for(var L=new Array(i),T=0,v=U;T<i;T++,v++)L[T]=v;return L}},45408:function(tt,U,t){var E=t(4168);function S(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(J){return typeof J}:S=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},S(V)}function i(V,J){if(!(V instanceof J))throw new TypeError("Cannot call a class as a function")}var L=t(86832),T=L.codes,v=T.ERR_AMBIGUOUS_ARGUMENT,d=T.ERR_INVALID_ARG_TYPE,r=T.ERR_INVALID_ARG_VALUE,e=T.ERR_INVALID_RETURN_VALUE,l=T.ERR_MISSING_ARGS,n=t(26144),s=t(35840),o=s.inspect,f=t(35840).types,b=f.isPromise,h=f.isRegExp,_=Object.assign?Object.assign:t(60964).assign,a=Object.is?Object.is:t(39896),c,p;function x(){var V=t(25116);c=V.isDeepEqual,p=V.isDeepStrictEqual}var k=!1,y=tt.exports=M,A={};function C(V){throw V.message instanceof Error?V.message:new n(V)}function u(V,J,it,nt,Y){var Z=arguments.length,$;if(Z===0)$="Failed";else if(Z===1)it=V,V=void 0;else{if(k===!1){k=!0;var G=E.emitWarning?E.emitWarning:console.warn.bind(console);G("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(nt="!=")}if(it instanceof Error)throw it;var rt={actual:V,expected:J,operator:nt===void 0?"fail":nt,stackStartFn:Y||u};it!==void 0&&(rt.message=it);var ot=new n(rt);throw $&&(ot.message=$,ot.generatedMessage=!0),ot}y.fail=u,y.AssertionError=n;function m(V,J,it,nt){if(!it){var Y=!1;if(J===0)Y=!0,nt="No value argument passed to `assert.ok()`";else if(nt instanceof Error)throw nt;var Z=new n({actual:it,expected:!0,message:nt,operator:"==",stackStartFn:V});throw Z.generatedMessage=Y,Z}}function M(){for(var V=arguments.length,J=new Array(V),it=0;it<V;it++)J[it]=arguments[it];m.apply(void 0,[M,J.length].concat(J))}y.ok=M,y.equal=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");J!=it&&C({actual:J,expected:it,message:nt,operator:"==",stackStartFn:V})},y.notEqual=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");J==it&&C({actual:J,expected:it,message:nt,operator:"!=",stackStartFn:V})},y.deepEqual=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");c===void 0&&x(),c(J,it)||C({actual:J,expected:it,message:nt,operator:"deepEqual",stackStartFn:V})},y.notDeepEqual=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");c===void 0&&x(),c(J,it)&&C({actual:J,expected:it,message:nt,operator:"notDeepEqual",stackStartFn:V})},y.deepStrictEqual=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");c===void 0&&x(),p(J,it)||C({actual:J,expected:it,message:nt,operator:"deepStrictEqual",stackStartFn:V})},y.notDeepStrictEqual=w;function w(V,J,it){if(arguments.length<2)throw new l("actual","expected");c===void 0&&x(),p(V,J)&&C({actual:V,expected:J,message:it,operator:"notDeepStrictEqual",stackStartFn:w})}y.strictEqual=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");a(J,it)||C({actual:J,expected:it,message:nt,operator:"strictEqual",stackStartFn:V})},y.notStrictEqual=function V(J,it,nt){if(arguments.length<2)throw new l("actual","expected");a(J,it)&&C({actual:J,expected:it,message:nt,operator:"notStrictEqual",stackStartFn:V})};var z=function V(J,it,nt){var Y=this;i(this,V),it.forEach(function(Z){Z in J&&(nt!==void 0&&typeof nt[Z]=="string"&&h(J[Z])&&J[Z].test(nt[Z])?Y[Z]=nt[Z]:Y[Z]=J[Z])})};function O(V,J,it,nt,Y,Z){if(!(it in V)||!p(V[it],J[it])){if(!nt){var $=new z(V,Y),G=new z(J,Y,V),rt=new n({actual:$,expected:G,operator:"deepStrictEqual",stackStartFn:Z});throw rt.actual=V,rt.expected=J,rt.operator=Z.name,rt}C({actual:V,expected:J,message:nt,operator:Z.name,stackStartFn:Z})}}function D(V,J,it,nt){if(typeof J!="function"){if(h(J))return J.test(V);if(arguments.length===2)throw new d("expected",["Function","RegExp"],J);if(S(V)!=="object"||V===null){var Y=new n({actual:V,expected:J,message:it,operator:"deepStrictEqual",stackStartFn:nt});throw Y.operator=nt.name,Y}var Z=Object.keys(J);if(J instanceof Error)Z.push("name","message");else if(Z.length===0)throw new r("error",J,"may not be an empty object");return c===void 0&&x(),Z.forEach(function($){typeof V[$]=="string"&&h(J[$])&&J[$].test(V[$])||O(V,J,$,it,Z,nt)}),!0}return J.prototype!==void 0&&V instanceof J?!0:Error.isPrototypeOf(J)?!1:J.call({},V)===!0}function P(V){if(typeof V!="function")throw new d("fn","Function",V);try{V()}catch(J){return J}return A}function F(V){return b(V)||V!==null&&S(V)==="object"&&typeof V.then=="function"&&typeof V.catch=="function"}function R(V){return Promise.resolve().then(function(){var J;if(typeof V=="function"){if(J=V(),!F(J))throw new e("instance of Promise","promiseFn",J)}else if(F(V))J=V;else throw new d("promiseFn",["Function","Promise"],V);return Promise.resolve().then(function(){return J}).then(function(){return A}).catch(function(it){return it})})}function N(V,J,it,nt){if(typeof it=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],it);if(S(J)==="object"&&J!==null){if(J.message===it)throw new v("error/message",'The error message "'.concat(J.message,'" is identical to the message.'))}else if(J===it)throw new v("error/message",'The error "'.concat(J,'" is identical to the message.'));nt=it,it=void 0}else if(it!=null&&S(it)!=="object"&&typeof it!="function")throw new d("error",["Object","Error","Function","RegExp"],it);if(J===A){var Y="";it&&it.name&&(Y+=" (".concat(it.name,")")),Y+=nt?": ".concat(nt):".";var Z=V.name==="rejects"?"rejection":"exception";C({actual:void 0,expected:it,operator:V.name,message:"Missing expected ".concat(Z).concat(Y),stackStartFn:V})}if(it&&!D(J,it,nt,V))throw J}function B(V,J,it,nt){if(J!==A){if(typeof it=="string"&&(nt=it,it=void 0),!it||D(J,it)){var Y=nt?": ".concat(nt):".",Z=V.name==="doesNotReject"?"rejection":"exception";C({actual:J,expected:it,operator:V.name,message:"Got unwanted ".concat(Z).concat(Y,`
`)+'Actual message: "'.concat(J&&J.message,'"'),stackStartFn:V})}throw J}}y.throws=function V(J){for(var it=arguments.length,nt=new Array(it>1?it-1:0),Y=1;Y<it;Y++)nt[Y-1]=arguments[Y];N.apply(void 0,[V,P(J)].concat(nt))},y.rejects=function V(J){for(var it=arguments.length,nt=new Array(it>1?it-1:0),Y=1;Y<it;Y++)nt[Y-1]=arguments[Y];return R(J).then(function(Z){return N.apply(void 0,[V,Z].concat(nt))})},y.doesNotThrow=function V(J){for(var it=arguments.length,nt=new Array(it>1?it-1:0),Y=1;Y<it;Y++)nt[Y-1]=arguments[Y];B.apply(void 0,[V,P(J)].concat(nt))},y.doesNotReject=function V(J){for(var it=arguments.length,nt=new Array(it>1?it-1:0),Y=1;Y<it;Y++)nt[Y-1]=arguments[Y];return R(J).then(function(Z){return B.apply(void 0,[V,Z].concat(nt))})},y.ifError=function V(J){if(J!=null){var it="ifError got unwanted exception: ";S(J)==="object"&&typeof J.message=="string"?J.message.length===0&&J.constructor?it+=J.constructor.name:it+=J.message:it+=o(J);var nt=new n({actual:J,expected:null,operator:"ifError",message:it,stackStartFn:V}),Y=J.stack;if(typeof Y=="string"){var Z=Y.split(`
`);Z.shift();for(var $=nt.stack.split(`
`),G=0;G<Z.length;G++){var rt=$.indexOf(Z[G]);if(rt!==-1){$=$.slice(0,rt);break}}nt.stack="".concat($.join(`
`),`
`).concat(Z.join(`
`))}throw nt}};function q(){for(var V=arguments.length,J=new Array(V),it=0;it<V;it++)J[it]=arguments[it];m.apply(void 0,[q,J.length].concat(J))}y.strict=_(q,y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict},26144:function(tt,U,t){var E=t(4168);function S(P){for(var F=1;F<arguments.length;F++){var R=arguments[F]!=null?arguments[F]:{},N=Object.keys(R);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(R).filter(function(B){return Object.getOwnPropertyDescriptor(R,B).enumerable}))),N.forEach(function(B){i(P,B,R[B])})}return P}function i(P,F,R){return F in P?Object.defineProperty(P,F,{value:R,enumerable:!0,configurable:!0,writable:!0}):P[F]=R,P}function L(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}function T(P,F){for(var R=0;R<F.length;R++){var N=F[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}function v(P,F,R){return F&&T(P.prototype,F),R&&T(P,R),P}function d(P,F){return F&&(h(F)==="object"||typeof F=="function")?F:r(P)}function r(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function e(P,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(F&&F.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),F&&f(P,F)}function l(P){var F=typeof Map=="function"?new Map:void 0;return l=function(R){if(R===null||!o(R))return R;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F<"u"){if(F.has(R))return F.get(R);F.set(R,N)}function N(){return s(R,arguments,b(this).constructor)}return N.prototype=Object.create(R.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),f(N,R)},l(P)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function s(P,F,R){return n()?s=Reflect.construct:s=function(N,B,q){var V=[null];V.push.apply(V,B);var J=Function.bind.apply(N,V),it=new J;return q&&f(it,q.prototype),it},s.apply(null,arguments)}function o(P){return Function.toString.call(P).indexOf("[native code]")!==-1}function f(P,F){return f=Object.setPrototypeOf||function(R,N){return R.__proto__=N,R},f(P,F)}function b(P){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},b(P)}function h(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(F){return typeof F}:h=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h(P)}var _=t(35840),a=_.inspect,c=t(86832),p=c.codes.ERR_INVALID_ARG_TYPE;function x(P,F,R){return(R===void 0||R>P.length)&&(R=P.length),P.substring(R-F.length,R)===F}function k(P,F){if(F=Math.floor(F),P.length==0||F==0)return"";var R=P.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)P+=P,F--;return P+=P.substring(0,R-P.length),P}var y="",A="",C="",u="",m={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},M=10;function w(P){var F=Object.keys(P),R=Object.create(Object.getPrototypeOf(P));return F.forEach(function(N){R[N]=P[N]}),Object.defineProperty(R,"message",{value:P.message}),R}function z(P){return a(P,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O(P,F,R){var N="",B="",q=0,V="",J=!1,it=z(P),nt=it.split(`
`),Y=z(F).split(`
`),Z=0,$="";if(R==="strictEqual"&&h(P)==="object"&&h(F)==="object"&&P!==null&&F!==null&&(R="strictEqualObject"),nt.length===1&&Y.length===1&&nt[0]!==Y[0]){var G=nt[0].length+Y[0].length;if(G<=M){if((h(P)!=="object"||P===null)&&(h(F)!=="object"||F===null)&&(P!==0||F!==0))return"".concat(m[R],`

`)+"".concat(nt[0]," !== ").concat(Y[0],`
`)}else if(R!=="strictEqualObject"){var rt=E.stderr&&E.stderr.isTTY?E.stderr.columns:80;if(G<rt){for(;nt[0][Z]===Y[0][Z];)Z++;Z>2&&($=`
  `.concat(k(" ",Z),"^"),Z=0)}}}for(var ot=nt[nt.length-1],W=Y[Y.length-1];ot===W&&(Z++<2?V=`
  `.concat(ot).concat(V):N=ot,nt.pop(),Y.pop(),!(nt.length===0||Y.length===0));)ot=nt[nt.length-1],W=Y[Y.length-1];var H=Math.max(nt.length,Y.length);if(H===0){var at=it.split(`
`);if(at.length>30)for(at[26]="".concat(y,"...").concat(u);at.length>27;)at.pop();return"".concat(m.notIdentical,`

`).concat(at.join(`
`),`
`)}Z>3&&(V=`
`.concat(y,"...").concat(u).concat(V),J=!0),N!==""&&(V=`
  `.concat(N).concat(V),N="");var Q=0,ct=m[R]+`
`.concat(A,"+ actual").concat(u," ").concat(C,"- expected").concat(u),ft=" ".concat(y,"...").concat(u," Lines skipped");for(Z=0;Z<H;Z++){var yt=Z-q;if(nt.length<Z+1)yt>1&&Z>2&&(yt>4?(B+=`
`.concat(y,"...").concat(u),J=!0):yt>3&&(B+=`
  `.concat(Y[Z-2]),Q++),B+=`
  `.concat(Y[Z-1]),Q++),q=Z,N+=`
`.concat(C,"-").concat(u," ").concat(Y[Z]),Q++;else if(Y.length<Z+1)yt>1&&Z>2&&(yt>4?(B+=`
`.concat(y,"...").concat(u),J=!0):yt>3&&(B+=`
  `.concat(nt[Z-2]),Q++),B+=`
  `.concat(nt[Z-1]),Q++),q=Z,B+=`
`.concat(A,"+").concat(u," ").concat(nt[Z]),Q++;else{var xt=Y[Z],Lt=nt[Z],gt=Lt!==xt&&(!x(Lt,",")||Lt.slice(0,-1)!==xt);gt&&x(xt,",")&&xt.slice(0,-1)===Lt&&(gt=!1,Lt+=","),gt?(yt>1&&Z>2&&(yt>4?(B+=`
`.concat(y,"...").concat(u),J=!0):yt>3&&(B+=`
  `.concat(nt[Z-2]),Q++),B+=`
  `.concat(nt[Z-1]),Q++),q=Z,B+=`
`.concat(A,"+").concat(u," ").concat(Lt),N+=`
`.concat(C,"-").concat(u," ").concat(xt),Q+=2):(B+=N,N="",(yt===1||Z===0)&&(B+=`
  `.concat(Lt),Q++))}if(Q>20&&Z<H-2)return"".concat(ct).concat(ft,`
`).concat(B,`
`).concat(y,"...").concat(u).concat(N,`
`)+"".concat(y,"...").concat(u)}return"".concat(ct).concat(J?ft:"",`
`).concat(B).concat(N).concat(V).concat($)}var D=function(P){e(F,P);function F(R){var N;if(L(this,F),h(R)!=="object"||R===null)throw new p("options","Object",R);var B=R.message,q=R.operator,V=R.stackStartFn,J=R.actual,it=R.expected,nt=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)N=d(this,b(F).call(this,String(B)));else if(E.stderr&&E.stderr.isTTY&&(E.stderr&&E.stderr.getColorDepth&&E.stderr.getColorDepth()!==1?(y="\x1B[34m",A="\x1B[32m",u="\x1B[39m",C="\x1B[31m"):(y="",A="",u="",C="")),h(J)==="object"&&J!==null&&h(it)==="object"&&it!==null&&"stack"in J&&J instanceof Error&&"stack"in it&&it instanceof Error&&(J=w(J),it=w(it)),q==="deepStrictEqual"||q==="strictEqual")N=d(this,b(F).call(this,O(J,it,q)));else if(q==="notDeepStrictEqual"||q==="notStrictEqual"){var Y=m[q],Z=z(J).split(`
`);if(q==="notStrictEqual"&&h(J)==="object"&&J!==null&&(Y=m.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(y,"...").concat(u);Z.length>27;)Z.pop();Z.length===1?N=d(this,b(F).call(this,"".concat(Y," ").concat(Z[0]))):N=d(this,b(F).call(this,"".concat(Y,`

`).concat(Z.join(`
`),`
`)))}else{var $=z(J),G="",rt=m[q];q==="notDeepEqual"||q==="notEqual"?($="".concat(m[q],`

`).concat($),$.length>1024&&($="".concat($.slice(0,1021),"..."))):(G="".concat(z(it)),$.length>512&&($="".concat($.slice(0,509),"...")),G.length>512&&(G="".concat(G.slice(0,509),"...")),q==="deepEqual"||q==="equal"?$="".concat(rt,`

`).concat($,`

should equal

`):G=" ".concat(q," ").concat(G)),N=d(this,b(F).call(this,"".concat($).concat(G)))}return Error.stackTraceLimit=nt,N.generatedMessage=!B,Object.defineProperty(r(N),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),N.code="ERR_ASSERTION",N.actual=J,N.expected=it,N.operator=q,Error.captureStackTrace&&Error.captureStackTrace(r(N),V),N.stack,N.name="AssertionError",d(N)}return v(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:a.custom,value:function(R,N){return a(this,S({},N,{customInspect:!1,depth:0}))}}]),F}(l(Error));tt.exports=D},86832:function(tt,U,t){function E(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(_){return typeof _}:E=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},E(h)}function S(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function i(h,_){return _&&(E(_)==="object"||typeof _=="function")?_:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function T(h){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},T(h)}function v(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(_&&_.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),_&&d(h,_)}function d(h,_){return d=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a},d(h,_)}var r={},e,l;function n(h,_,a){a||(a=Error);function c(x,k,y){return typeof _=="string"?_:_(x,k,y)}var p=function(x){v(k,x);function k(y,A,C){var u;return S(this,k),u=i(this,T(k).call(this,c(y,A,C))),u.code=h,u}return k}(a);r[h]=p}function s(h,_){if(Array.isArray(h)){var a=h.length;return h=h.map(function(c){return String(c)}),a>2?"one of ".concat(_," ").concat(h.slice(0,a-1).join(", "),", or ")+h[a-1]:a===2?"one of ".concat(_," ").concat(h[0]," or ").concat(h[1]):"of ".concat(_," ").concat(h[0])}else return"of ".concat(_," ").concat(String(h))}function o(h,_,a){return h.substr(!a||a<0?0:+a,_.length)===_}function f(h,_,a){return(a===void 0||a>h.length)&&(a=h.length),h.substring(a-_.length,a)===_}function b(h,_,a){return typeof a!="number"&&(a=0),a+_.length>h.length?!1:h.indexOf(_,a)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,_,a){e===void 0&&(e=t(45408)),e(typeof h=="string","'name' must be a string");var c;typeof _=="string"&&o(_,"not ")?(c="must not be",_=_.replace(/^not /,"")):c="must be";var p;if(f(h," argument"))p="The ".concat(h," ").concat(c," ").concat(s(_,"type"));else{var x=b(h,".")?"property":"argument";p='The "'.concat(h,'" ').concat(x," ").concat(c," ").concat(s(_,"type"))}return p+=". Received type ".concat(E(a)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,_){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";l===void 0&&(l=t(35840));var c=l.inspect(_);return c.length>128&&(c="".concat(c.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(a,". Received ").concat(c)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,_,a){var c;return a&&a.constructor&&a.constructor.name?c="instance of ".concat(a.constructor.name):c="type ".concat(E(a)),"Expected ".concat(h,' to be returned from the "').concat(_,'"')+" function but got ".concat(c,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,_=new Array(h),a=0;a<h;a++)_[a]=arguments[a];e===void 0&&(e=t(45408)),e(_.length>0,"At least one arg needs to be specified");var c="The ",p=_.length;switch(_=_.map(function(x){return'"'.concat(x,'"')}),p){case 1:c+="".concat(_[0]," argument");break;case 2:c+="".concat(_[0]," and ").concat(_[1]," arguments");break;default:c+=_.slice(0,p-1).join(", "),c+=", and ".concat(_[p-1]," arguments");break}return"".concat(c," must be specified")},TypeError),tt.exports.codes=r},25116:function(tt,U,t){function E(mt,vt){return L(mt)||i(mt,vt)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(mt,vt){var At=[],Ot=!0,Pt=!1,Et=void 0;try{for(var Nt=mt[Symbol.iterator](),ne;!(Ot=(ne=Nt.next()).done)&&(At.push(ne.value),!(vt&&At.length===vt));Ot=!0);}catch(Gt){Pt=!0,Et=Gt}finally{try{!Ot&&Nt.return!=null&&Nt.return()}finally{if(Pt)throw Et}}return At}function L(mt){if(Array.isArray(mt))return mt}function T(mt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(vt){return typeof vt}:T=function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},T(mt)}var v=/a/g.flags!==void 0,d=function(mt){var vt=[];return mt.forEach(function(At){return vt.push(At)}),vt},r=function(mt){var vt=[];return mt.forEach(function(At,Ot){return vt.push([Ot,At])}),vt},e=Object.is?Object.is:t(39896),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:t(1560);function s(mt){return mt.call.bind(mt)}var o=s(Object.prototype.hasOwnProperty),f=s(Object.prototype.propertyIsEnumerable),b=s(Object.prototype.toString),h=t(35840).types,_=h.isAnyArrayBuffer,a=h.isArrayBufferView,c=h.isDate,p=h.isMap,x=h.isRegExp,k=h.isSet,y=h.isNativeError,A=h.isBoxedPrimitive,C=h.isNumberObject,u=h.isStringObject,m=h.isBooleanObject,M=h.isBigIntObject,w=h.isSymbolObject,z=h.isFloat32Array,O=h.isFloat64Array;function D(mt){if(mt.length===0||mt.length>10)return!0;for(var vt=0;vt<mt.length;vt++){var At=mt.charCodeAt(vt);if(At<48||At>57)return!0}return mt.length===10&&mt>=Math.pow(2,32)}function P(mt){return Object.keys(mt).filter(D).concat(l(mt).filter(Object.prototype.propertyIsEnumerable.bind(mt)))}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/function F(mt,vt){if(mt===vt)return 0;for(var At=mt.length,Ot=vt.length,Pt=0,Et=Math.min(At,Ot);Pt<Et;++Pt)if(mt[Pt]!==vt[Pt]){At=mt[Pt],Ot=vt[Pt];break}return At<Ot?-1:Ot<At?1:0}var R=!0,N=!1,B=0,q=1,V=2,J=3;function it(mt,vt){return v?mt.source===vt.source&&mt.flags===vt.flags:RegExp.prototype.toString.call(mt)===RegExp.prototype.toString.call(vt)}function nt(mt,vt){if(mt.byteLength!==vt.byteLength)return!1;for(var At=0;At<mt.byteLength;At++)if(mt[At]!==vt[At])return!1;return!0}function Y(mt,vt){return mt.byteLength!==vt.byteLength?!1:F(new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength),new Uint8Array(vt.buffer,vt.byteOffset,vt.byteLength))===0}function Z(mt,vt){return mt.byteLength===vt.byteLength&&F(new Uint8Array(mt),new Uint8Array(vt))===0}function $(mt,vt){return C(mt)?C(vt)&&e(Number.prototype.valueOf.call(mt),Number.prototype.valueOf.call(vt)):u(mt)?u(vt)&&String.prototype.valueOf.call(mt)===String.prototype.valueOf.call(vt):m(mt)?m(vt)&&Boolean.prototype.valueOf.call(mt)===Boolean.prototype.valueOf.call(vt):M(mt)?M(vt)&&BigInt.prototype.valueOf.call(mt)===BigInt.prototype.valueOf.call(vt):w(vt)&&Symbol.prototype.valueOf.call(mt)===Symbol.prototype.valueOf.call(vt)}function G(mt,vt,At,Ot){if(mt===vt)return mt!==0?!0:At?e(mt,vt):!0;if(At){if(T(mt)!=="object")return typeof mt=="number"&&n(mt)&&n(vt);if(T(vt)!=="object"||mt===null||vt===null||Object.getPrototypeOf(mt)!==Object.getPrototypeOf(vt))return!1}else{if(mt===null||T(mt)!=="object")return vt===null||T(vt)!=="object"?mt==vt:!1;if(vt===null||T(vt)!=="object")return!1}var Pt=b(mt),Et=b(vt);if(Pt!==Et)return!1;if(Array.isArray(mt)){if(mt.length!==vt.length)return!1;var Nt=P(mt),ne=P(vt);return Nt.length!==ne.length?!1:ot(mt,vt,At,Ot,q,Nt)}if(Pt==="[object Object]"&&(!p(mt)&&p(vt)||!k(mt)&&k(vt)))return!1;if(c(mt)){if(!c(vt)||Date.prototype.getTime.call(mt)!==Date.prototype.getTime.call(vt))return!1}else if(x(mt)){if(!x(vt)||!it(mt,vt))return!1}else if(y(mt)||mt instanceof Error){if(mt.message!==vt.message||mt.name!==vt.name)return!1}else if(a(mt)){if(!At&&(z(mt)||O(mt))){if(!nt(mt,vt))return!1}else if(!Y(mt,vt))return!1;var Gt=P(mt),pe=P(vt);return Gt.length!==pe.length?!1:ot(mt,vt,At,Ot,B,Gt)}else{if(k(mt))return!k(vt)||mt.size!==vt.size?!1:ot(mt,vt,At,Ot,V);if(p(mt))return!p(vt)||mt.size!==vt.size?!1:ot(mt,vt,At,Ot,J);if(_(mt)){if(!Z(mt,vt))return!1}else if(A(mt)&&!$(mt,vt))return!1}return ot(mt,vt,At,Ot,B)}function rt(mt,vt){return vt.filter(function(At){return f(mt,At)})}function ot(mt,vt,At,Ot,Pt,Et){if(arguments.length===5){Et=Object.keys(mt);var Nt=Object.keys(vt);if(Et.length!==Nt.length)return!1}for(var ne=0;ne<Et.length;ne++)if(!o(vt,Et[ne]))return!1;if(At&&arguments.length===5){var Gt=l(mt);if(Gt.length!==0){var pe=0;for(ne=0;ne<Gt.length;ne++){var Vt=Gt[ne];if(f(mt,Vt)){if(!f(vt,Vt))return!1;Et.push(Vt),pe++}else if(f(vt,Vt))return!1}var ae=l(vt);if(Gt.length!==ae.length&&rt(vt,ae).length!==pe)return!1}else{var oe=l(vt);if(oe.length!==0&&rt(vt,oe).length!==0)return!1}}if(Et.length===0&&(Pt===B||Pt===q&&mt.length===0||mt.size===0))return!0;if(Ot===void 0)Ot={val1:new Map,val2:new Map,position:0};else{var ce=Ot.val1.get(mt);if(ce!==void 0){var le=Ot.val2.get(vt);if(le!==void 0)return ce===le}Ot.position++}Ot.val1.set(mt,Ot.position),Ot.val2.set(vt,Ot.position);var ye=xt(mt,vt,At,Et,Ot,Pt);return Ot.val1.delete(mt),Ot.val2.delete(vt),ye}function W(mt,vt,At,Ot){for(var Pt=d(mt),Et=0;Et<Pt.length;Et++){var Nt=Pt[Et];if(G(vt,Nt,At,Ot))return mt.delete(Nt),!0}return!1}function H(mt){switch(T(mt)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":mt=+mt;case"number":if(n(mt))return!1}return!0}function at(mt,vt,At){var Ot=H(At);return Ot??(vt.has(Ot)&&!mt.has(Ot))}function Q(mt,vt,At,Ot,Pt){var Et=H(At);if(Et!=null)return Et;var Nt=vt.get(Et);return Nt===void 0&&!vt.has(Et)||!G(Ot,Nt,!1,Pt)?!1:!mt.has(Et)&&G(Ot,Nt,!1,Pt)}function ct(mt,vt,At,Ot){for(var Pt=null,Et=d(mt),Nt=0;Nt<Et.length;Nt++){var ne=Et[Nt];if(T(ne)==="object"&&ne!==null)Pt===null&&(Pt=new Set),Pt.add(ne);else if(!vt.has(ne)){if(At||!at(mt,vt,ne))return!1;Pt===null&&(Pt=new Set),Pt.add(ne)}}if(Pt!==null){for(var Gt=d(vt),pe=0;pe<Gt.length;pe++){var Vt=Gt[pe];if(T(Vt)==="object"&&Vt!==null){if(!W(Pt,Vt,At,Ot))return!1}else if(!At&&!mt.has(Vt)&&!W(Pt,Vt,At,Ot))return!1}return Pt.size===0}return!0}function ft(mt,vt,At,Ot,Pt,Et){for(var Nt=d(mt),ne=0;ne<Nt.length;ne++){var Gt=Nt[ne];if(G(At,Gt,Pt,Et)&&G(Ot,vt.get(Gt),Pt,Et))return mt.delete(Gt),!0}return!1}function yt(mt,vt,At,Ot){for(var Pt=null,Et=r(mt),Nt=0;Nt<Et.length;Nt++){var ne=E(Et[Nt],2),Gt=ne[0],pe=ne[1];if(T(Gt)==="object"&&Gt!==null)Pt===null&&(Pt=new Set),Pt.add(Gt);else{var Vt=vt.get(Gt);if(Vt===void 0&&!vt.has(Gt)||!G(pe,Vt,At,Ot)){if(At||!Q(mt,vt,Gt,pe,Ot))return!1;Pt===null&&(Pt=new Set),Pt.add(Gt)}}}if(Pt!==null){for(var ae=r(vt),oe=0;oe<ae.length;oe++){var ce=E(ae[oe],2),Gt=ce[0],le=ce[1];if(T(Gt)==="object"&&Gt!==null){if(!ft(Pt,mt,Gt,le,At,Ot))return!1}else if(!At&&(!mt.has(Gt)||!G(mt.get(Gt),le,!1,Ot))&&!ft(Pt,mt,Gt,le,!1,Ot))return!1}return Pt.size===0}return!0}function xt(mt,vt,At,Ot,Pt,Et){var Nt=0;if(Et===V){if(!ct(mt,vt,At,Pt))return!1}else if(Et===J){if(!yt(mt,vt,At,Pt))return!1}else if(Et===q)for(;Nt<mt.length;Nt++)if(o(mt,Nt)){if(!o(vt,Nt)||!G(mt[Nt],vt[Nt],At,Pt))return!1}else{if(o(vt,Nt))return!1;for(var ne=Object.keys(mt);Nt<ne.length;Nt++){var Gt=ne[Nt];if(!o(vt,Gt)||!G(mt[Gt],vt[Gt],At,Pt))return!1}return ne.length===Object.keys(vt).length}for(Nt=0;Nt<Ot.length;Nt++){var pe=Ot[Nt];if(!G(mt[pe],vt[pe],At,Pt))return!1}return!0}function Lt(mt,vt){return G(mt,vt,N)}function gt(mt,vt){return G(mt,vt,R)}tt.exports={isDeepEqual:Lt,isDeepStrictEqual:gt}},83160:function(tt,U,t){t.r(U),t.d(U,{decode:function(){return T},encode:function(){return L}});for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),i=0;i<E.length;i++)S[E.charCodeAt(i)]=i;var L=function(v){var d=new Uint8Array(v),r,e=d.length,l="";for(r=0;r<e;r+=3)l+=E[d[r]>>2],l+=E[(d[r]&3)<<4|d[r+1]>>4],l+=E[(d[r+1]&15)<<2|d[r+2]>>6],l+=E[d[r+2]&63];return e%3===2?l=l.substring(0,l.length-1)+"=":e%3===1&&(l=l.substring(0,l.length-2)+"=="),l},T=function(v){var d=v.length*.75,r=v.length,e,l=0,n,s,o,f;v[v.length-1]==="="&&(d--,v[v.length-2]==="="&&d--);var b=new ArrayBuffer(d),h=new Uint8Array(b);for(e=0;e<r;e+=4)n=S[v.charCodeAt(e)],s=S[v.charCodeAt(e+1)],o=S[v.charCodeAt(e+2)],f=S[v.charCodeAt(e+3)],h[l++]=n<<2|s>>4,h[l++]=(s&15)<<4|o>>2,h[l++]=(o&3)<<6|f&63;return b}},59968:function(tt,U){U.byteLength=d,U.toByteArray=e,U.fromByteArray=s;for(var t=[],E=[],S=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,T=i.length;L<T;++L)t[L]=i[L],E[i.charCodeAt(L)]=L;E[45]=62,E[95]=63;function v(o){var f=o.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=o.indexOf("=");b===-1&&(b=f);var h=b===f?0:4-b%4;return[b,h]}function d(o){var f=v(o),b=f[0],h=f[1];return(b+h)*3/4-h}function r(o,f,b){return(f+b)*3/4-b}function e(o){var f,b=v(o),h=b[0],_=b[1],a=new S(r(o,h,_)),c=0,p=_>0?h-4:h,x;for(x=0;x<p;x+=4)f=E[o.charCodeAt(x)]<<18|E[o.charCodeAt(x+1)]<<12|E[o.charCodeAt(x+2)]<<6|E[o.charCodeAt(x+3)],a[c++]=f>>16&255,a[c++]=f>>8&255,a[c++]=f&255;return _===2&&(f=E[o.charCodeAt(x)]<<2|E[o.charCodeAt(x+1)]>>4,a[c++]=f&255),_===1&&(f=E[o.charCodeAt(x)]<<10|E[o.charCodeAt(x+1)]<<4|E[o.charCodeAt(x+2)]>>2,a[c++]=f>>8&255,a[c++]=f&255),a}function l(o){return t[o>>18&63]+t[o>>12&63]+t[o>>6&63]+t[o&63]}function n(o,f,b){for(var h,_=[],a=f;a<b;a+=3)h=(o[a]<<16&16711680)+(o[a+1]<<8&65280)+(o[a+2]&255),_.push(l(h));return _.join("")}function s(o){for(var f,b=o.length,h=b%3,_=[],a=16383,c=0,p=b-h;c<p;c+=a)_.push(n(o,c,c+a>p?p:c+a));return h===1?(f=o[b-1],_.push(t[f>>2]+t[f<<4&63]+"==")):h===2&&(f=(o[b-2]<<8)+o[b-1],_.push(t[f>>10]+t[f>>4&63]+t[f<<2&63]+"=")),_.join("")}},64928:function(tt){function U(T,v,d,r,e){for(var l=e+1;r<=e;){var n=r+e>>>1,s=T[n],o=d!==void 0?d(s,v):s-v;o>=0?(l=n,e=n-1):r=n+1}return l}function t(T,v,d,r,e){for(var l=e+1;r<=e;){var n=r+e>>>1,s=T[n],o=d!==void 0?d(s,v):s-v;o>0?(l=n,e=n-1):r=n+1}return l}function E(T,v,d,r,e){for(var l=r-1;r<=e;){var n=r+e>>>1,s=T[n],o=d!==void 0?d(s,v):s-v;o<0?(l=n,r=n+1):e=n-1}return l}function S(T,v,d,r,e){for(var l=r-1;r<=e;){var n=r+e>>>1,s=T[n],o=d!==void 0?d(s,v):s-v;o<=0?(l=n,r=n+1):e=n-1}return l}function i(T,v,d,r,e){for(;r<=e;){var l=r+e>>>1,n=T[l],s=d!==void 0?d(n,v):n-v;if(s===0)return l;s<=0?r=l+1:e=l-1}return-1}function L(T,v,d,r,e,l){return typeof d=="function"?l(T,v,d,r===void 0?0:r|0,e===void 0?T.length-1:e|0):l(T,v,void 0,d===void 0?0:d|0,r===void 0?T.length-1:r|0)}tt.exports={ge:function(T,v,d,r,e){return L(T,v,d,r,e,U)},gt:function(T,v,d,r,e){return L(T,v,d,r,e,t)},lt:function(T,v,d,r,e){return L(T,v,d,r,e,E)},le:function(T,v,d,r,e){return L(T,v,d,r,e,S)},eq:function(T,v,d,r,e){return L(T,v,d,r,e,i)}}},308:function(tt,U){"use restrict";var t=32;U.INT_BITS=t,U.INT_MAX=2147483647,U.INT_MIN=-1<<t-1,U.sign=function(i){return(i>0)-(i<0)},U.abs=function(i){var L=i>>t-1;return(i^L)-L},U.min=function(i,L){return L^(i^L)&-(i<L)},U.max=function(i,L){return i^(i^L)&-(i<L)},U.isPow2=function(i){return!(i&i-1)&&!!i},U.log2=function(i){var L,T;return L=(i>65535)<<4,i>>>=L,T=(i>255)<<3,i>>>=T,L|=T,T=(i>15)<<2,i>>>=T,L|=T,T=(i>3)<<1,i>>>=T,L|=T,L|i>>1},U.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},U.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function E(i){var L=32;return i&=-i,i&&L--,i&65535&&(L-=16),i&16711935&&(L-=8),i&252645135&&(L-=4),i&858993459&&(L-=2),i&1431655765&&(L-=1),L}U.countTrailingZeros=E,U.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},U.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},U.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var S=new Array(256);(function(i){for(var L=0;L<256;++L){var T=L,v=L,d=7;for(T>>>=1;T;T>>>=1)v<<=1,v|=T&1,--d;i[L]=v<<d&255}})(S),U.reverse=function(i){return S[i&255]<<24|S[i>>>8&255]<<16|S[i>>>16&255]<<8|S[i>>>24&255]},U.interleave2=function(i,L){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,i|L<<1},U.deinterleave2=function(i,L){return i=i>>>L&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},U.interleave3=function(i,L,T){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,i|=L<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,i|T<<2},U.deinterleave3=function(i,L){return i=i>>>L&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},U.nextCombination=function(i){var L=i|i-1;return L+1|(~L&-~L)-1>>>E(i)+1}},29620:function(tt,U,t){var E=t(32420);tt.exports=i;var S=1e20;function i(v,d){d||(d={});var r=d.cutoff==null?.25:d.cutoff,e=d.radius==null?8:d.radius,l=d.channel||0,n,s,o,f,b,h,_,a,c,p,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");n=d.width,s=d.height,f=v,d.stride?h=d.stride:h=Math.floor(v.length/n/s)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(a=v,_=a.getContext("2d"),n=a.width,s=a.height,c=_.getImageData(0,0,n,s),f=c.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(a=v.canvas,_=v,n=a.width,s=a.height,c=_.getImageData(0,0,n,s),f=c.data,h=4):window.ImageData&&v instanceof window.ImageData&&(c=v,n=v.width,s=v.height,f=c.data,h=4);if(o=Math.max(n,s),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(b=f,f=Array(n*s),p=0,x=b.length;p<x;p++)f[p]=b[p*h+l]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var k=Array(n*s),y=Array(n*s),A=Array(o),C=Array(o),u=Array(o+1),m=Array(o);for(p=0,x=n*s;p<x;p++){var M=f[p];k[p]=M===1?0:M===0?S:Math.pow(Math.max(0,.5-M),2),y[p]=M===1?S:M===0?0:Math.pow(Math.max(0,M-.5),2)}L(k,n,s,A,C,m,u),L(y,n,s,A,C,m,u);var w=window.Float32Array?new Float32Array(n*s):new Array(n*s);for(p=0,x=n*s;p<x;p++)w[p]=E(1-((k[p]-y[p])/e+r),0,1);return w}function L(v,d,r,e,l,n,s){for(var o=0;o<d;o++){for(var f=0;f<r;f++)e[f]=v[f*d+o];for(T(e,l,n,s,r),f=0;f<r;f++)v[f*d+o]=l[f]}for(f=0;f<r;f++){for(o=0;o<d;o++)e[o]=v[f*d+o];for(T(e,l,n,s,d),o=0;o<d;o++)v[f*d+o]=Math.sqrt(l[o])}}function T(v,d,r,e,l){r[0]=0,e[0]=-S,e[1]=+S;for(var n=1,s=0;n<l;n++){for(var o=(v[n]+n*n-(v[r[s]]+r[s]*r[s]))/(2*n-2*r[s]);o<=e[s];)s--,o=(v[n]+n*n-(v[r[s]]+r[s]*r[s]))/(2*n-2*r[s]);s++,r[s]=n,e[s]=o,e[s+1]=+S}for(n=0,s=0;n<l;n++){for(;e[s+1]<n;)s++;d[n]=(n-r[s])*(n-r[s])+v[r[s]]}}},99676:function(tt,U,t){var E=t(53664),S=t(57916),i=S(E("String.prototype.indexOf"));tt.exports=function(L,T){var v=E(L,!!T);return typeof v=="function"&&i(L,".prototype.")>-1?S(v):v}},57916:function(tt,U,t){var E=t(8844),S=t(53664),i=t(14500),L=S("%TypeError%"),T=S("%Function.prototype.apply%"),v=S("%Function.prototype.call%"),d=S("%Reflect.apply%",!0)||E.call(v,T),r=S("%Object.defineProperty%",!0),e=S("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}tt.exports=function(n){if(typeof n!="function")throw new L("a function is required");var s=d(E,v,arguments);return i(s,1+e(0,n.length-(arguments.length-1)),!0)};var l=function(){return d(E,T,arguments)};r?r(tt.exports,"apply",{value:l}):tt.exports.apply=l},32420:function(tt){tt.exports=U;function U(t,E,S){return E<S?t<E?E:t>S?S:t:t<S?S:t>E?E:t}},3808:function(tt,U,t){var E=t(32420);tt.exports=S,tt.exports.to=S,tt.exports.from=i;function S(L,T){T==null&&(T=!0);var v=L[0],d=L[1],r=L[2],e=L[3];e==null&&(e=T?1:255),T&&(v*=255,d*=255,r*=255,e*=255),v=E(v,0,255)&255,d=E(d,0,255)&255,r=E(r,0,255)&255,e=E(e,0,255)&255;var l=v*16777216+(d<<16)+(r<<8)+e;return l}function i(L,T){L=+L;var v=L>>>24,d=(L&16711680)>>>16,r=(L&65280)>>>8,e=L&255;return T===!1?[v,d,r,e]:[v/255,d/255,r/255,e/255]}},17592:function(tt){tt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(tt,U,t){var E=t(96824),S=t(32420),i=t(72512);tt.exports=function(T,v){(v==="float"||!v)&&(v="array"),v==="uint"&&(v="uint8"),v==="uint_clamped"&&(v="uint8_clamped");var d=i(v),r=new d(4),e=v!=="uint8"&&v!=="uint8_clamped";return(!T.length||typeof T=="string")&&(T=E(T),T[0]/=255,T[1]/=255,T[2]/=255),L(T)?(r[0]=T[0],r[1]=T[1],r[2]=T[2],r[3]=T[3]!=null?T[3]:255,e&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(e?(r[0]=T[0],r[1]=T[1],r[2]=T[2],r[3]=T[3]!=null?T[3]:1):(r[0]=S(Math.floor(T[0]*255),0,255),r[1]=S(Math.floor(T[1]*255),0,255),r[2]=S(Math.floor(T[2]*255),0,255),r[3]=T[3]==null?255:S(Math.floor(T[3]*255),0,255)),r)};function L(T){return!!(T instanceof Uint8Array||T instanceof Uint8ClampedArray||Array.isArray(T)&&(T[0]>1||T[0]===0)&&(T[1]>1||T[1]===0)&&(T[2]>1||T[2]===0)&&(!T[3]||T[3]>1))}},96824:function(tt,U,t){var E=t(95532),S=t(53576),i=t(32420);tt.exports=function(L){var T,v=E(L);return v.space?(T=Array(3),T[0]=i(v.values[0],0,255),T[1]=i(v.values[1],0,255),T[2]=i(v.values[2],0,255),v.space[0]==="h"&&(T=S.rgb(T)),T.push(i(v.alpha,0,1)),T):[]}},95532:function(tt,U,t){var E=t(17592);tt.exports=i;var S={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function i(L){var T,v=[],d=1,r;if(typeof L=="string")if(L=L.toLowerCase(),E[L])v=E[L].slice(),r="rgb";else if(L==="transparent")d=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var e=L.slice(1),l=e.length,n=l<=4;d=1,n?(v=[parseInt(e[0]+e[0],16),parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16)],l===4&&(d=parseInt(e[3]+e[3],16)/255)):(v=[parseInt(e[0]+e[1],16),parseInt(e[2]+e[3],16),parseInt(e[4]+e[5],16)],l===8&&(d=parseInt(e[6]+e[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(T=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var s=T[1],o=s==="rgb",e=s.replace(/a$/,"");r=e;var l=e==="cmyk"?4:e==="gray"?1:3;v=T[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,_){if(/%$/.test(h))return _===l?parseFloat(h)/100:e==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(e[_]==="h"){if(/deg$/.test(h))return parseFloat(h);if(S[h]!==void 0)return S[h]}return parseFloat(h)}),s===e&&v.push(1),d=o||v[l]===void 0?1:v[l],v=v.slice(0,l)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(v=L.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(v=[L[0],L[1],L[2]],r="rgb",d=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",v=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",v=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),d=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(d/=100)):(r="rgb",v=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:v,alpha:d}}},53576:function(tt,U,t){var E=t(19336);tt.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(S){var i=S[0]/360,L=S[1]/100,T=S[2]/100,v,d,r,e,l;if(L===0)return l=T*255,[l,l,l];T<.5?d=T*(1+L):d=T+L-T*L,v=2*T-d,e=[0,0,0];for(var n=0;n<3;n++)r=i+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?l=v+(d-v)*6*r:2*r<1?l=d:3*r<2?l=v+(d-v)*(.6666666666666666-r)*6:l=v,e[n]=l*255;return e}},E.hsl=function(S){var i=S[0]/255,L=S[1]/255,T=S[2]/255,v=Math.min(i,L,T),d=Math.max(i,L,T),r=d-v,e,l,n;return d===v?e=0:i===d?e=(L-T)/r:L===d?e=2+(T-i)/r:T===d&&(e=4+(i-L)/r),e=Math.min(e*60,360),e<0&&(e+=360),n=(v+d)/2,d===v?l=0:n<=.5?l=r/(d+v):l=r/(2-d-v),[e,l*100,n*100]}},19336:function(tt){tt.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(tt){tt.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(tt,U,t){tt.exports={parse:t(46416),stringify:t(49395)}},8744:function(tt,U,t){var E=t(30584);tt.exports={isSize:function(S){return/^[\d\.]/.test(S)||S.indexOf("/")!==-1||E.indexOf(S)!==-1}}},46416:function(tt,U,t){var E=t(92384),S=t(68194),i=t(3748),L=t(2904),T=t(47916),v=t(7294),d=t(39956),r=t(8744).isSize;tt.exports=l;var e=l.cache={};function l(s){if(typeof s!="string")throw new Error("Font argument must be a string.");if(e[s])return e[s];if(s==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(s)!==-1)return e[s]={system:s};for(var o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=d(s,/\s+/),b;b=f.shift();){if(S.indexOf(b)!==-1)return["style","variant","weight","stretch"].forEach(function(_){o[_]=b}),e[s]=o;if(T.indexOf(b)!==-1){o.style=b;continue}if(b==="normal"||b==="small-caps"){o.variant=b;continue}if(v.indexOf(b)!==-1){o.stretch=b;continue}if(L.indexOf(b)!==-1){o.weight=b;continue}if(r(b)){var h=d(b,"/");if(o.size=h[0],h[1]!=null?o.lineHeight=n(h[1]):f[0]==="/"&&(f.shift(),o.lineHeight=n(f.shift())),!f.length)throw new Error("Missing required font-family.");return o.family=d(f.join(" "),/\s*,\s*/).map(E),e[s]=o}throw new Error("Unknown or unsupported font token: "+b)}throw new Error("Missing required font-size.")}function n(s){var o=parseFloat(s);return o.toString()===s?o:s}},49395:function(tt,U,t){var E=t(55616),S=t(8744).isSize,i=s(t(68194)),L=s(t(3748)),T=s(t(2904)),v=s(t(47916)),d=s(t(7294)),r={normal:1,"small-caps":1},e={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};tt.exports=function(o){if(o=E(o,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),o.system)return o.system&&n(o.system,L),o.system;if(n(o.style,v),n(o.variant,r),n(o.weight,T),n(o.stretch,d),o.size==null&&(o.size=l.size),typeof o.size=="number"&&(o.size+="px"),!S)throw Error("Bad size value `"+o.size+"`");o.family||(o.family=l.family),Array.isArray(o.family)&&(o.family.length||(o.family=[l.family]),o.family=o.family.map(function(b){return e[b]?b:'"'+b+'"'}).join(", "));var f=[];return f.push(o.style),o.variant!==o.style&&f.push(o.variant),o.weight!==o.variant&&o.weight!==o.style&&f.push(o.weight),o.stretch!==o.weight&&o.stretch!==o.variant&&o.stretch!==o.style&&f.push(o.stretch),f.push(o.size+(o.lineHeight==null||o.lineHeight==="normal"||o.lineHeight+""=="1"?"":"/"+o.lineHeight)),f.push(o.family),f.filter(Boolean).join(" ")};function n(o,f){if(o&&!f[o]&&!i[o])throw Error("Unknown keyword `"+o+"`");return o}function s(o){for(var f={},b=0;b<o.length;b++)f[o[b]]=1;return f}},27940:function(tt,U,t){var E=t(81680),S=t(18496),i=t(87396),L=t(95920),T=t(50868),v=t(84323),d=Function.prototype.bind,r=Object.defineProperty,e=Object.prototype.hasOwnProperty,l;l=function(n,s,o){var f=S(s)&&i(s.value),b;return b=L(s),delete b.writable,delete b.value,b.get=function(){return!o.overwriteDefinition&&e.call(this,n)?f:(s.value=d.call(f,o.resolveContext?o.resolveContext(this):this),r(this,n,s),this[n])},b},tt.exports=function(n){var s=T(arguments[1]);return E(s.resolveContext)&&i(s.resolveContext),v(n,function(o,f){return l(f,o,s)})}},21092:function(tt,U,t){var E=t(81680),S=t(85488),i=t(38452),L=t(50868),T=t(71056),v=tt.exports=function(d,r){var e,l,n,s,o;return arguments.length<2||typeof d!="string"?(s=r,r=d,d=null):s=arguments[2],E(d)?(e=T.call(d,"c"),l=T.call(d,"e"),n=T.call(d,"w")):(e=n=!0,l=!1),o={value:r,configurable:e,enumerable:l,writable:n},s?i(L(s),o):o};v.gs=function(d,r,e){var l,n,s,o;return typeof d!="string"?(s=e,e=r,r=d,d=null):s=arguments[3],E(r)?S(r)?E(e)?S(e)||(s=e,e=void 0):e=void 0:(s=r,r=e=void 0):r=void 0,E(d)?(l=T.call(d,"c"),n=T.call(d,"e")):(l=!0,n=!1),o={get:r,set:e,configurable:l,enumerable:n},s?i(L(s),o):o}},84706:function(tt,U,t){t.d(U,{XE:function(){return E},kv:function(){return L},mo:function(){return v},Uf:function(){return d},SY:function(){return r},ik:function(){return e},oh:function(){return l}});function E(n,s){return n<s?-1:n>s?1:n>=s?0:NaN}function S(n){return n.length===1&&(n=i(n)),{left:function(s,o,f,b){for(f==null&&(f=0),b==null&&(b=s.length);f<b;){var h=f+b>>>1;n(s[h],o)<0?f=h+1:b=h}return f},right:function(s,o,f,b){for(f==null&&(f=0),b==null&&(b=s.length);f<b;){var h=f+b>>>1;n(s[h],o)>0?b=h:f=h+1}return f}}}function i(n){return function(s,o){return E(n(s),o)}}S(E);function L(n,s){var o=n.length,f=-1,b,h;if(s==null){for(;++f<o;)if((b=n[f])!=null&&b>=b)for(h=b;++f<o;)(b=n[f])!=null&&b>h&&(h=b)}else for(;++f<o;)if((b=s(n[f],f,n))!=null&&b>=b)for(h=b;++f<o;)(b=s(n[f],f,n))!=null&&b>h&&(h=b);return h}function T(n){return n===null?NaN:+n}function v(n,s){var o=n.length,f=o,b=-1,h,_=0;if(s==null)for(;++b<o;)isNaN(h=T(n[b]))?--f:_+=h;else for(;++b<o;)isNaN(h=T(s(n[b],b,n)))?--f:_+=h;if(f)return _/f}function d(n){for(var s=n.length,o,f=-1,b=0,h,_;++f<s;)b+=n[f].length;for(h=new Array(b);--s>=0;)for(_=n[s],o=_.length;--o>=0;)h[--b]=_[o];return h}function r(n,s){var o=n.length,f=-1,b,h;if(s==null){for(;++f<o;)if((b=n[f])!=null&&b>=b)for(h=b;++f<o;)(b=n[f])!=null&&h>b&&(h=b)}else for(;++f<o;)if((b=s(n[f],f,n))!=null&&b>=b)for(h=b;++f<o;)(b=s(n[f],f,n))!=null&&h>b&&(h=b);return h}function e(n,s,o){n=+n,s=+s,o=(b=arguments.length)<2?(s=n,n=0,1):b<3?1:+o;for(var f=-1,b=Math.max(0,Math.ceil((s-n)/o))|0,h=new Array(b);++f<b;)h[f]=n+f*o;return h}function l(n,s){var o=n.length,f=-1,b,h=0;if(s==null)for(;++f<o;)(b=+n[f])&&(h+=b);else for(;++f<o;)(b=+s(n[f],f,n))&&(h+=b);return h}},34712:function(tt,U,t){t.d(U,{kH:function(){return L},UJ:function(){return T}});var E="$";function S(){}S.prototype=i.prototype={constructor:S,has:function(s){return E+s in this},get:function(s){return this[E+s]},set:function(s,o){return this[E+s]=o,this},remove:function(s){var o=E+s;return o in this&&delete this[o]},clear:function(){for(var s in this)s[0]===E&&delete this[s]},keys:function(){var s=[];for(var o in this)o[0]===E&&s.push(o.slice(1));return s},values:function(){var s=[];for(var o in this)o[0]===E&&s.push(this[o]);return s},entries:function(){var s=[];for(var o in this)o[0]===E&&s.push({key:o.slice(1),value:this[o]});return s},size:function(){var s=0;for(var o in this)o[0]===E&&++s;return s},empty:function(){for(var s in this)if(s[0]===E)return!1;return!0},each:function(s){for(var o in this)o[0]===E&&s(this[o],o.slice(1),this)}};function i(s,o){var f=new S;if(s instanceof S)s.each(function(c,p){f.set(p,c)});else if(Array.isArray(s)){var b=-1,h=s.length,_;if(o==null)for(;++b<h;)f.set(b,s[b]);else for(;++b<h;)f.set(o(_=s[b],b,s),_)}else if(s)for(var a in s)f.set(a,s[a]);return f}var L=i;function T(){var s=[],o=[],f,b,h;function _(c,p,x,k){if(p>=s.length)return f!=null&&c.sort(f),b!=null?b(c):c;for(var y=-1,A=c.length,C=s[p++],u,m,M=L(),w,z=x();++y<A;)(w=M.get(u=C(m=c[y])+""))?w.push(m):M.set(u,[m]);return M.each(function(O,D){k(z,D,_(O,p,x,k))}),z}function a(c,p){if(++p>s.length)return c;var x,k=o[p-1];return b!=null&&p>=s.length?x=c.entries():(x=[],c.each(function(y,A){x.push({key:A,values:a(y,p)})})),k!=null?x.sort(function(y,A){return k(y.key,A.key)}):x}return h={object:function(c){return _(c,0,v,d)},map:function(c){return _(c,0,r,e)},entries:function(c){return a(_(c,0,r,e),0)},key:function(c){return s.push(c),h},sortKeys:function(c){return o[s.length-1]=c,h},sortValues:function(c){return f=c,h},rollup:function(c){return b=c,h}}}function v(){return{}}function d(s,o,f){s[o]=f}function r(){return L()}function e(s,o,f){s.set(o,f)}function l(){}var n=L.prototype;l.prototype={constructor:l,has:n.has,add:function(s){return s+="",this[E+s]=s,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(tt,U,t){t.r(U),t.d(U,{forceCenter:function(){return E},forceCollide:function(){return M},forceLink:function(){return D},forceManyBody:function(){return Nt},forceRadial:function(){return ne},forceSimulation:function(){return Et},forceX:function(){return Gt},forceY:function(){return pe}});function E(Vt,ae){var oe;Vt==null&&(Vt=0),ae==null&&(ae=0);function ce(){var le,ye=oe.length,Tt,Ft=0,$t=0;for(le=0;le<ye;++le)Tt=oe[le],Ft+=Tt.x,$t+=Tt.y;for(Ft=Ft/ye-Vt,$t=$t/ye-ae,le=0;le<ye;++le)Tt=oe[le],Tt.x-=Ft,Tt.y-=$t}return ce.initialize=function(le){oe=le},ce.x=function(le){return arguments.length?(Vt=+le,ce):Vt},ce.y=function(le){return arguments.length?(ae=+le,ce):ae},ce}function S(Vt){return function(){return Vt}}function i(){return(Math.random()-.5)*1e-6}function L(Vt){var ae=+this._x.call(null,Vt),oe=+this._y.call(null,Vt);return T(this.cover(ae,oe),ae,oe,Vt)}function T(Vt,ae,oe,ce){if(isNaN(ae)||isNaN(oe))return Vt;var le,ye=Vt._root,Tt={data:ce},Ft=Vt._x0,$t=Vt._y0,Wt=Vt._x1,Bt=Vt._y1,Mt,St,Dt,dt,ht,bt,zt,qt;if(!ye)return Vt._root=Tt,Vt;for(;ye.length;)if((ht=ae>=(Mt=(Ft+Wt)/2))?Ft=Mt:Wt=Mt,(bt=oe>=(St=($t+Bt)/2))?$t=St:Bt=St,le=ye,!(ye=ye[zt=bt<<1|ht]))return le[zt]=Tt,Vt;if(Dt=+Vt._x.call(null,ye.data),dt=+Vt._y.call(null,ye.data),ae===Dt&&oe===dt)return Tt.next=ye,le?le[zt]=Tt:Vt._root=Tt,Vt;do le=le?le[zt]=new Array(4):Vt._root=new Array(4),(ht=ae>=(Mt=(Ft+Wt)/2))?Ft=Mt:Wt=Mt,(bt=oe>=(St=($t+Bt)/2))?$t=St:Bt=St;while((zt=bt<<1|ht)===(qt=(dt>=St)<<1|Dt>=Mt));return le[qt]=ye,le[zt]=Tt,Vt}function v(Vt){var ae,oe,ce=Vt.length,le,ye,Tt=new Array(ce),Ft=new Array(ce),$t=1/0,Wt=1/0,Bt=-1/0,Mt=-1/0;for(oe=0;oe<ce;++oe)isNaN(le=+this._x.call(null,ae=Vt[oe]))||isNaN(ye=+this._y.call(null,ae))||(Tt[oe]=le,Ft[oe]=ye,le<$t&&($t=le),le>Bt&&(Bt=le),ye<Wt&&(Wt=ye),ye>Mt&&(Mt=ye));if($t>Bt||Wt>Mt)return this;for(this.cover($t,Wt).cover(Bt,Mt),oe=0;oe<ce;++oe)T(this,Tt[oe],Ft[oe],Vt[oe]);return this}function d(Vt,ae){if(isNaN(Vt=+Vt)||isNaN(ae=+ae))return this;var oe=this._x0,ce=this._y0,le=this._x1,ye=this._y1;if(isNaN(oe))le=(oe=Math.floor(Vt))+1,ye=(ce=Math.floor(ae))+1;else{for(var Tt=le-oe,Ft=this._root,$t,Wt;oe>Vt||Vt>=le||ce>ae||ae>=ye;)switch(Wt=(ae<ce)<<1|Vt<oe,$t=new Array(4),$t[Wt]=Ft,Ft=$t,Tt*=2,Wt){case 0:le=oe+Tt,ye=ce+Tt;break;case 1:oe=le-Tt,ye=ce+Tt;break;case 2:le=oe+Tt,ce=ye-Tt;break;case 3:oe=le-Tt,ce=ye-Tt;break}this._root&&this._root.length&&(this._root=Ft)}return this._x0=oe,this._y0=ce,this._x1=le,this._y1=ye,this}function r(){var Vt=[];return this.visit(function(ae){if(!ae.length)do Vt.push(ae.data);while(ae=ae.next)}),Vt}function e(Vt){return arguments.length?this.cover(+Vt[0][0],+Vt[0][1]).cover(+Vt[1][0],+Vt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function l(Vt,ae,oe,ce,le){this.node=Vt,this.x0=ae,this.y0=oe,this.x1=ce,this.y1=le}function n(Vt,ae,oe){var ce,le=this._x0,ye=this._y0,Tt,Ft,$t,Wt,Bt=this._x1,Mt=this._y1,St=[],Dt=this._root,dt,ht;for(Dt&&St.push(new l(Dt,le,ye,Bt,Mt)),oe==null?oe=1/0:(le=Vt-oe,ye=ae-oe,Bt=Vt+oe,Mt=ae+oe,oe*=oe);dt=St.pop();)if(!(!(Dt=dt.node)||(Tt=dt.x0)>Bt||(Ft=dt.y0)>Mt||($t=dt.x1)<le||(Wt=dt.y1)<ye))if(Dt.length){var bt=(Tt+$t)/2,zt=(Ft+Wt)/2;St.push(new l(Dt[3],bt,zt,$t,Wt),new l(Dt[2],Tt,zt,bt,Wt),new l(Dt[1],bt,Ft,$t,zt),new l(Dt[0],Tt,Ft,bt,zt)),(ht=(ae>=zt)<<1|Vt>=bt)&&(dt=St[St.length-1],St[St.length-1]=St[St.length-1-ht],St[St.length-1-ht]=dt)}else{var qt=Vt-+this._x.call(null,Dt.data),te=ae-+this._y.call(null,Dt.data),re=qt*qt+te*te;if(re<oe){var Ye=Math.sqrt(oe=re);le=Vt-Ye,ye=ae-Ye,Bt=Vt+Ye,Mt=ae+Ye,ce=Dt.data}}return ce}function s(Vt){if(isNaN(Bt=+this._x.call(null,Vt))||isNaN(Mt=+this._y.call(null,Vt)))return this;var ae,oe=this._root,ce,le,ye,Tt=this._x0,Ft=this._y0,$t=this._x1,Wt=this._y1,Bt,Mt,St,Dt,dt,ht,bt,zt;if(!oe)return this;if(oe.length)for(;;){if((dt=Bt>=(St=(Tt+$t)/2))?Tt=St:$t=St,(ht=Mt>=(Dt=(Ft+Wt)/2))?Ft=Dt:Wt=Dt,ae=oe,!(oe=oe[bt=ht<<1|dt]))return this;if(!oe.length)break;(ae[bt+1&3]||ae[bt+2&3]||ae[bt+3&3])&&(ce=ae,zt=bt)}for(;oe.data!==Vt;)if(le=oe,!(oe=oe.next))return this;return(ye=oe.next)&&delete oe.next,le?(ye?le.next=ye:delete le.next,this):ae?(ye?ae[bt]=ye:delete ae[bt],(oe=ae[0]||ae[1]||ae[2]||ae[3])&&oe===(ae[3]||ae[2]||ae[1]||ae[0])&&!oe.length&&(ce?ce[zt]=oe:this._root=oe),this):(this._root=ye,this)}function o(Vt){for(var ae=0,oe=Vt.length;ae<oe;++ae)this.remove(Vt[ae]);return this}function f(){return this._root}function b(){var Vt=0;return this.visit(function(ae){if(!ae.length)do++Vt;while(ae=ae.next)}),Vt}function h(Vt){var ae=[],oe,ce=this._root,le,ye,Tt,Ft,$t;for(ce&&ae.push(new l(ce,this._x0,this._y0,this._x1,this._y1));oe=ae.pop();)if(!Vt(ce=oe.node,ye=oe.x0,Tt=oe.y0,Ft=oe.x1,$t=oe.y1)&&ce.length){var Wt=(ye+Ft)/2,Bt=(Tt+$t)/2;(le=ce[3])&&ae.push(new l(le,Wt,Bt,Ft,$t)),(le=ce[2])&&ae.push(new l(le,ye,Bt,Wt,$t)),(le=ce[1])&&ae.push(new l(le,Wt,Tt,Ft,Bt)),(le=ce[0])&&ae.push(new l(le,ye,Tt,Wt,Bt))}return this}function _(Vt){var ae=[],oe=[],ce;for(this._root&&ae.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));ce=ae.pop();){var le=ce.node;if(le.length){var ye,Tt=ce.x0,Ft=ce.y0,$t=ce.x1,Wt=ce.y1,Bt=(Tt+$t)/2,Mt=(Ft+Wt)/2;(ye=le[0])&&ae.push(new l(ye,Tt,Ft,Bt,Mt)),(ye=le[1])&&ae.push(new l(ye,Bt,Ft,$t,Mt)),(ye=le[2])&&ae.push(new l(ye,Tt,Mt,Bt,Wt)),(ye=le[3])&&ae.push(new l(ye,Bt,Mt,$t,Wt))}oe.push(ce)}for(;ce=oe.pop();)Vt(ce.node,ce.x0,ce.y0,ce.x1,ce.y1);return this}function a(Vt){return Vt[0]}function c(Vt){return arguments.length?(this._x=Vt,this):this._x}function p(Vt){return Vt[1]}function x(Vt){return arguments.length?(this._y=Vt,this):this._y}function k(Vt,ae,oe){var ce=new y(ae??a,oe??p,NaN,NaN,NaN,NaN);return Vt==null?ce:ce.addAll(Vt)}function y(Vt,ae,oe,ce,le,ye){this._x=Vt,this._y=ae,this._x0=oe,this._y0=ce,this._x1=le,this._y1=ye,this._root=void 0}function A(Vt){for(var ae={data:Vt.data},oe=ae;Vt=Vt.next;)oe=oe.next={data:Vt.data};return ae}var C=k.prototype=y.prototype;C.copy=function(){var Vt=new y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ae=this._root,oe,ce;if(!ae)return Vt;if(!ae.length)return Vt._root=A(ae),Vt;for(oe=[{source:ae,target:Vt._root=new Array(4)}];ae=oe.pop();)for(var le=0;le<4;++le)(ce=ae.source[le])&&(ce.length?oe.push({source:ce,target:ae.target[le]=new Array(4)}):ae.target[le]=A(ce));return Vt},C.add=L,C.addAll=v,C.cover=d,C.data=r,C.extent=e,C.find=n,C.remove=s,C.removeAll=o,C.root=f,C.size=b,C.visit=h,C.visitAfter=_,C.x=c,C.y=x;function u(Vt){return Vt.x+Vt.vx}function m(Vt){return Vt.y+Vt.vy}function M(Vt){var ae,oe,ce=1,le=1;typeof Vt!="function"&&(Vt=S(Vt==null?1:+Vt));function ye(){for(var $t,Wt=ae.length,Bt,Mt,St,Dt,dt,ht,bt=0;bt<le;++bt)for(Bt=k(ae,u,m).visitAfter(Tt),$t=0;$t<Wt;++$t)Mt=ae[$t],dt=oe[Mt.index],ht=dt*dt,St=Mt.x+Mt.vx,Dt=Mt.y+Mt.vy,Bt.visit(zt);function zt(qt,te,re,Ye,Be){var ge=qt.data,be=qt.r,Ne=dt+be;if(ge){if(ge.index>Mt.index){var pr=St-ge.x-ge.vx,fe=Dt-ge.y-ge.vy,De=pr*pr+fe*fe;De<Ne*Ne&&(pr===0&&(pr=i(),De+=pr*pr),fe===0&&(fe=i(),De+=fe*fe),De=(Ne-(De=Math.sqrt(De)))/De*ce,Mt.vx+=(pr*=De)*(Ne=(be*=be)/(ht+be)),Mt.vy+=(fe*=De)*Ne,ge.vx-=pr*(Ne=1-Ne),ge.vy-=fe*Ne)}return}return te>St+Ne||Ye<St-Ne||re>Dt+Ne||Be<Dt-Ne}}function Tt($t){if($t.data)return $t.r=oe[$t.data.index];for(var Wt=$t.r=0;Wt<4;++Wt)$t[Wt]&&$t[Wt].r>$t.r&&($t.r=$t[Wt].r)}function Ft(){if(ae){var $t,Wt=ae.length,Bt;for(oe=new Array(Wt),$t=0;$t<Wt;++$t)Bt=ae[$t],oe[Bt.index]=+Vt(Bt,$t,ae)}}return ye.initialize=function($t){ae=$t,Ft()},ye.iterations=function($t){return arguments.length?(le=+$t,ye):le},ye.strength=function($t){return arguments.length?(ce=+$t,ye):ce},ye.radius=function($t){return arguments.length?(Vt=typeof $t=="function"?$t:S(+$t),Ft(),ye):Vt},ye}var w=t(34712);function z(Vt){return Vt.index}function O(Vt,ae){var oe=Vt.get(ae);if(!oe)throw new Error("missing: "+ae);return oe}function D(Vt){var ae=z,oe=Bt,ce,le=S(30),ye,Tt,Ft,$t,Wt=1;Vt==null&&(Vt=[]);function Bt(ht){return 1/Math.min(Ft[ht.source.index],Ft[ht.target.index])}function Mt(ht){for(var bt=0,zt=Vt.length;bt<Wt;++bt)for(var qt=0,te,re,Ye,Be,ge,be,Ne;qt<zt;++qt)te=Vt[qt],re=te.source,Ye=te.target,Be=Ye.x+Ye.vx-re.x-re.vx||i(),ge=Ye.y+Ye.vy-re.y-re.vy||i(),be=Math.sqrt(Be*Be+ge*ge),be=(be-ye[qt])/be*ht*ce[qt],Be*=be,ge*=be,Ye.vx-=Be*(Ne=$t[qt]),Ye.vy-=ge*Ne,re.vx+=Be*(Ne=1-Ne),re.vy+=ge*Ne}function St(){if(Tt){var ht,bt=Tt.length,zt=Vt.length,qt=(0,w.kH)(Tt,ae),te;for(ht=0,Ft=new Array(bt);ht<zt;++ht)te=Vt[ht],te.index=ht,typeof te.source!="object"&&(te.source=O(qt,te.source)),typeof te.target!="object"&&(te.target=O(qt,te.target)),Ft[te.source.index]=(Ft[te.source.index]||0)+1,Ft[te.target.index]=(Ft[te.target.index]||0)+1;for(ht=0,$t=new Array(zt);ht<zt;++ht)te=Vt[ht],$t[ht]=Ft[te.source.index]/(Ft[te.source.index]+Ft[te.target.index]);ce=new Array(zt),Dt(),ye=new Array(zt),dt()}}function Dt(){if(Tt)for(var ht=0,bt=Vt.length;ht<bt;++ht)ce[ht]=+oe(Vt[ht],ht,Vt)}function dt(){if(Tt)for(var ht=0,bt=Vt.length;ht<bt;++ht)ye[ht]=+le(Vt[ht],ht,Vt)}return Mt.initialize=function(ht){Tt=ht,St()},Mt.links=function(ht){return arguments.length?(Vt=ht,St(),Mt):Vt},Mt.id=function(ht){return arguments.length?(ae=ht,Mt):ae},Mt.iterations=function(ht){return arguments.length?(Wt=+ht,Mt):Wt},Mt.strength=function(ht){return arguments.length?(oe=typeof ht=="function"?ht:S(+ht),Dt(),Mt):oe},Mt.distance=function(ht){return arguments.length?(le=typeof ht=="function"?ht:S(+ht),dt(),Mt):le},Mt}var P={value:function(){}};function F(){for(var Vt=0,ae=arguments.length,oe={},ce;Vt<ae;++Vt){if(!(ce=arguments[Vt]+"")||ce in oe||/[\s.]/.test(ce))throw new Error("illegal type: "+ce);oe[ce]=[]}return new R(oe)}function R(Vt){this._=Vt}function N(Vt,ae){return Vt.trim().split(/^|\s+/).map(function(oe){var ce="",le=oe.indexOf(".");if(le>=0&&(ce=oe.slice(le+1),oe=oe.slice(0,le)),oe&&!ae.hasOwnProperty(oe))throw new Error("unknown type: "+oe);return{type:oe,name:ce}})}R.prototype=F.prototype={constructor:R,on:function(Vt,ae){var oe=this._,ce=N(Vt+"",oe),le,ye=-1,Tt=ce.length;if(arguments.length<2){for(;++ye<Tt;)if((le=(Vt=ce[ye]).type)&&(le=B(oe[le],Vt.name)))return le;return}if(ae!=null&&typeof ae!="function")throw new Error("invalid callback: "+ae);for(;++ye<Tt;)if(le=(Vt=ce[ye]).type)oe[le]=q(oe[le],Vt.name,ae);else if(ae==null)for(le in oe)oe[le]=q(oe[le],Vt.name,null);return this},copy:function(){var Vt={},ae=this._;for(var oe in ae)Vt[oe]=ae[oe].slice();return new R(Vt)},call:function(Vt,ae){if((le=arguments.length-2)>0)for(var oe=new Array(le),ce=0,le,ye;ce<le;++ce)oe[ce]=arguments[ce+2];if(!this._.hasOwnProperty(Vt))throw new Error("unknown type: "+Vt);for(ye=this._[Vt],ce=0,le=ye.length;ce<le;++ce)ye[ce].value.apply(ae,oe)},apply:function(Vt,ae,oe){if(!this._.hasOwnProperty(Vt))throw new Error("unknown type: "+Vt);for(var ce=this._[Vt],le=0,ye=ce.length;le<ye;++le)ce[le].value.apply(ae,oe)}};function B(Vt,ae){for(var oe=0,ce=Vt.length,le;oe<ce;++oe)if((le=Vt[oe]).name===ae)return le.value}function q(Vt,ae,oe){for(var ce=0,le=Vt.length;ce<le;++ce)if(Vt[ce].name===ae){Vt[ce]=P,Vt=Vt.slice(0,ce).concat(Vt.slice(ce+1));break}return oe!=null&&Vt.push({name:ae,value:oe}),Vt}var V=F,J=0,it=0,nt=0,Y=1e3,Z,$,G=0,rt=0,ot=0,W=typeof performance=="object"&&performance.now?performance:Date,H=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Vt){setTimeout(Vt,17)};function at(){return rt||(H(Q),rt=W.now()+ot)}function Q(){rt=0}function ct(){this._call=this._time=this._next=null}ct.prototype=ft.prototype={constructor:ct,restart:function(Vt,ae,oe){if(typeof Vt!="function")throw new TypeError("callback is not a function");oe=(oe==null?at():+oe)+(ae==null?0:+ae),!this._next&&$!==this&&($?$._next=this:Z=this,$=this),this._call=Vt,this._time=oe,mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,mt())}};function ft(Vt,ae,oe){var ce=new ct;return ce.restart(Vt,ae,oe),ce}function yt(){at(),++J;for(var Vt=Z,ae;Vt;)(ae=rt-Vt._time)>=0&&Vt._call.call(null,ae),Vt=Vt._next;--J}function xt(){rt=(G=W.now())+ot,J=it=0;try{yt()}finally{J=0,gt(),rt=0}}function Lt(){var Vt=W.now(),ae=Vt-G;ae>Y&&(ot-=ae,G=Vt)}function gt(){for(var Vt,ae=Z,oe,ce=1/0;ae;)ae._call?(ce>ae._time&&(ce=ae._time),Vt=ae,ae=ae._next):(oe=ae._next,ae._next=null,ae=Vt?Vt._next=oe:Z=oe);$=Vt,mt(ce)}function mt(Vt){if(!J){it&&(it=clearTimeout(it));var ae=Vt-rt;ae>24?(Vt<1/0&&(it=setTimeout(xt,Vt-W.now()-ot)),nt&&(nt=clearInterval(nt))):(nt||(G=W.now(),nt=setInterval(Lt,Y)),J=1,H(xt))}}function vt(Vt){return Vt.x}function At(Vt){return Vt.y}var Ot=10,Pt=Math.PI*(3-Math.sqrt(5));function Et(Vt){var ae,oe=1,ce=.001,le=1-Math.pow(ce,1/300),ye=0,Tt=.6,Ft=(0,w.kH)(),$t=ft(Bt),Wt=V("tick","end");Vt==null&&(Vt=[]);function Bt(){Mt(),Wt.call("tick",ae),oe<ce&&($t.stop(),Wt.call("end",ae))}function Mt(dt){var ht,bt=Vt.length,zt;dt===void 0&&(dt=1);for(var qt=0;qt<dt;++qt)for(oe+=(ye-oe)*le,Ft.each(function(te){te(oe)}),ht=0;ht<bt;++ht)zt=Vt[ht],zt.fx==null?zt.x+=zt.vx*=Tt:(zt.x=zt.fx,zt.vx=0),zt.fy==null?zt.y+=zt.vy*=Tt:(zt.y=zt.fy,zt.vy=0);return ae}function St(){for(var dt=0,ht=Vt.length,bt;dt<ht;++dt){if(bt=Vt[dt],bt.index=dt,bt.fx!=null&&(bt.x=bt.fx),bt.fy!=null&&(bt.y=bt.fy),isNaN(bt.x)||isNaN(bt.y)){var zt=Ot*Math.sqrt(dt),qt=dt*Pt;bt.x=zt*Math.cos(qt),bt.y=zt*Math.sin(qt)}(isNaN(bt.vx)||isNaN(bt.vy))&&(bt.vx=bt.vy=0)}}function Dt(dt){return dt.initialize&&dt.initialize(Vt),dt}return St(),ae={tick:Mt,restart:function(){return $t.restart(Bt),ae},stop:function(){return $t.stop(),ae},nodes:function(dt){return arguments.length?(Vt=dt,St(),Ft.each(Dt),ae):Vt},alpha:function(dt){return arguments.length?(oe=+dt,ae):oe},alphaMin:function(dt){return arguments.length?(ce=+dt,ae):ce},alphaDecay:function(dt){return arguments.length?(le=+dt,ae):+le},alphaTarget:function(dt){return arguments.length?(ye=+dt,ae):ye},velocityDecay:function(dt){return arguments.length?(Tt=1-dt,ae):1-Tt},force:function(dt,ht){return arguments.length>1?(ht==null?Ft.remove(dt):Ft.set(dt,Dt(ht)),ae):Ft.get(dt)},find:function(dt,ht,bt){var zt=0,qt=Vt.length,te,re,Ye,Be,ge;for(bt==null?bt=1/0:bt*=bt,zt=0;zt<qt;++zt)Be=Vt[zt],te=dt-Be.x,re=ht-Be.y,Ye=te*te+re*re,Ye<bt&&(ge=Be,bt=Ye);return ge},on:function(dt,ht){return arguments.length>1?(Wt.on(dt,ht),ae):Wt.on(dt)}}}function Nt(){var Vt,ae,oe,ce=S(-30),le,ye=1,Tt=1/0,Ft=.81;function $t(St){var Dt,dt=Vt.length,ht=k(Vt,vt,At).visitAfter(Bt);for(oe=St,Dt=0;Dt<dt;++Dt)ae=Vt[Dt],ht.visit(Mt)}function Wt(){if(Vt){var St,Dt=Vt.length,dt;for(le=new Array(Dt),St=0;St<Dt;++St)dt=Vt[St],le[dt.index]=+ce(dt,St,Vt)}}function Bt(St){var Dt=0,dt,ht,bt=0,zt,qt,te;if(St.length){for(zt=qt=te=0;te<4;++te)(dt=St[te])&&(ht=Math.abs(dt.value))&&(Dt+=dt.value,bt+=ht,zt+=ht*dt.x,qt+=ht*dt.y);St.x=zt/bt,St.y=qt/bt}else{dt=St,dt.x=dt.data.x,dt.y=dt.data.y;do Dt+=le[dt.data.index];while(dt=dt.next)}St.value=Dt}function Mt(St,Dt,dt,ht){if(!St.value)return!0;var bt=St.x-ae.x,zt=St.y-ae.y,qt=ht-Dt,te=bt*bt+zt*zt;if(qt*qt/Ft<te)return te<Tt&&(bt===0&&(bt=i(),te+=bt*bt),zt===0&&(zt=i(),te+=zt*zt),te<ye&&(te=Math.sqrt(ye*te)),ae.vx+=bt*St.value*oe/te,ae.vy+=zt*St.value*oe/te),!0;if(!(St.length||te>=Tt)){(St.data!==ae||St.next)&&(bt===0&&(bt=i(),te+=bt*bt),zt===0&&(zt=i(),te+=zt*zt),te<ye&&(te=Math.sqrt(ye*te)));do St.data!==ae&&(qt=le[St.data.index]*oe/te,ae.vx+=bt*qt,ae.vy+=zt*qt);while(St=St.next)}}return $t.initialize=function(St){Vt=St,Wt()},$t.strength=function(St){return arguments.length?(ce=typeof St=="function"?St:S(+St),Wt(),$t):ce},$t.distanceMin=function(St){return arguments.length?(ye=St*St,$t):Math.sqrt(ye)},$t.distanceMax=function(St){return arguments.length?(Tt=St*St,$t):Math.sqrt(Tt)},$t.theta=function(St){return arguments.length?(Ft=St*St,$t):Math.sqrt(Ft)},$t}function ne(Vt,ae,oe){var ce,le=S(.1),ye,Tt;typeof Vt!="function"&&(Vt=S(+Vt)),ae==null&&(ae=0),oe==null&&(oe=0);function Ft(Wt){for(var Bt=0,Mt=ce.length;Bt<Mt;++Bt){var St=ce[Bt],Dt=St.x-ae||1e-6,dt=St.y-oe||1e-6,ht=Math.sqrt(Dt*Dt+dt*dt),bt=(Tt[Bt]-ht)*ye[Bt]*Wt/ht;St.vx+=Dt*bt,St.vy+=dt*bt}}function $t(){if(ce){var Wt,Bt=ce.length;for(ye=new Array(Bt),Tt=new Array(Bt),Wt=0;Wt<Bt;++Wt)Tt[Wt]=+Vt(ce[Wt],Wt,ce),ye[Wt]=isNaN(Tt[Wt])?0:+le(ce[Wt],Wt,ce)}}return Ft.initialize=function(Wt){ce=Wt,$t()},Ft.strength=function(Wt){return arguments.length?(le=typeof Wt=="function"?Wt:S(+Wt),$t(),Ft):le},Ft.radius=function(Wt){return arguments.length?(Vt=typeof Wt=="function"?Wt:S(+Wt),$t(),Ft):Vt},Ft.x=function(Wt){return arguments.length?(ae=+Wt,Ft):ae},Ft.y=function(Wt){return arguments.length?(oe=+Wt,Ft):oe},Ft}function Gt(Vt){var ae=S(.1),oe,ce,le;typeof Vt!="function"&&(Vt=S(Vt==null?0:+Vt));function ye(Ft){for(var $t=0,Wt=oe.length,Bt;$t<Wt;++$t)Bt=oe[$t],Bt.vx+=(le[$t]-Bt.x)*ce[$t]*Ft}function Tt(){if(oe){var Ft,$t=oe.length;for(ce=new Array($t),le=new Array($t),Ft=0;Ft<$t;++Ft)ce[Ft]=isNaN(le[Ft]=+Vt(oe[Ft],Ft,oe))?0:+ae(oe[Ft],Ft,oe)}}return ye.initialize=function(Ft){oe=Ft,Tt()},ye.strength=function(Ft){return arguments.length?(ae=typeof Ft=="function"?Ft:S(+Ft),Tt(),ye):ae},ye.x=function(Ft){return arguments.length?(Vt=typeof Ft=="function"?Ft:S(+Ft),Tt(),ye):Vt},ye}function pe(Vt){var ae=S(.1),oe,ce,le;typeof Vt!="function"&&(Vt=S(Vt==null?0:+Vt));function ye(Ft){for(var $t=0,Wt=oe.length,Bt;$t<Wt;++$t)Bt=oe[$t],Bt.vy+=(le[$t]-Bt.y)*ce[$t]*Ft}function Tt(){if(oe){var Ft,$t=oe.length;for(ce=new Array($t),le=new Array($t),Ft=0;Ft<$t;++Ft)ce[Ft]=isNaN(le[Ft]=+Vt(oe[Ft],Ft,oe))?0:+ae(oe[Ft],Ft,oe)}}return ye.initialize=function(Ft){oe=Ft,Tt()},ye.strength=function(Ft){return arguments.length?(ae=typeof Ft=="function"?Ft:S(+Ft),Tt(),ye):ae},ye.y=function(Ft){return arguments.length?(Vt=typeof Ft=="function"?Ft:S(+Ft),Tt(),ye):Vt},ye}},57624:function(tt,U,t){t.d(U,{E9:function(){return c},SO:function(){return _}});function E(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function S(x,k){if((y=(x=k?x.toExponential(k-1):x.toExponential()).indexOf("e"))<0)return null;var y,A=x.slice(0,y);return[A.length>1?A[0]+A.slice(2):A,+x.slice(y+1)]}function i(x){return x=S(Math.abs(x)),x?x[1]:NaN}function L(x,k){return function(y,A){for(var C=y.length,u=[],m=0,M=x[0],w=0;C>0&&M>0&&(w+M+1>A&&(M=Math.max(1,A-w)),u.push(y.substring(C-=M,C+M)),!((w+=M+1)>A));)M=x[m=(m+1)%x.length];return u.reverse().join(k)}}function T(x){return function(k){return k.replace(/[0-9]/g,function(y){return x[+y]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(x){if(!(k=v.exec(x)))throw new Error("invalid format: "+x);var k;return new r({fill:k[1],align:k[2],sign:k[3],symbol:k[4],zero:k[5],width:k[6],comma:k[7],precision:k[8]&&k[8].slice(1),trim:k[9],type:k[10]})}d.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e(x){t:for(var k=x.length,y=1,A=-1,C;y<k;++y)switch(x[y]){case".":A=C=y;break;case"0":A===0&&(A=y),C=y;break;default:if(!+x[y])break t;A>0&&(A=0);break}return A>0?x.slice(0,A)+x.slice(C+1):x}var l;function n(x,k){var y=S(x,k);if(!y)return x+"";var A=y[0],C=y[1],u=C-(l=Math.max(-8,Math.min(8,Math.floor(C/3)))*3)+1,m=A.length;return u===m?A:u>m?A+new Array(u-m+1).join("0"):u>0?A.slice(0,u)+"."+A.slice(u):"0."+new Array(1-u).join("0")+S(x,Math.max(0,k+u-1))[0]}function s(x,k){var y=S(x,k);if(!y)return x+"";var A=y[0],C=y[1];return C<0?"0."+new Array(-C).join("0")+A:A.length>C+1?A.slice(0,C+1)+"."+A.slice(C+1):A+new Array(C-A.length+2).join("0")}var o={"%":function(x,k){return(x*100).toFixed(k)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:E,e:function(x,k){return x.toExponential(k)},f:function(x,k){return x.toFixed(k)},g:function(x,k){return x.toPrecision(k)},o:function(x){return Math.round(x).toString(8)},p:function(x,k){return s(x*100,k)},r:s,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function f(x){return x}var b=Array.prototype.map,h=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function _(x){var k=x.grouping===void 0||x.thousands===void 0?f:L(b.call(x.grouping,Number),x.thousands+""),y=x.currency===void 0?"":x.currency[0]+"",A=x.currency===void 0?"":x.currency[1]+"",C=x.decimal===void 0?".":x.decimal+"",u=x.numerals===void 0?f:T(b.call(x.numerals,String)),m=x.percent===void 0?"%":x.percent+"",M=x.minus===void 0?"-":x.minus+"",w=x.nan===void 0?"NaN":x.nan+"";function z(D){D=d(D);var P=D.fill,F=D.align,R=D.sign,N=D.symbol,B=D.zero,q=D.width,V=D.comma,J=D.precision,it=D.trim,nt=D.type;nt==="n"?(V=!0,nt="g"):o[nt]||(J===void 0&&(J=12),it=!0,nt="g"),(B||P==="0"&&F==="=")&&(B=!0,P="0",F="=");var Y=N==="$"?y:N==="#"&&/[boxX]/.test(nt)?"0"+nt.toLowerCase():"",Z=N==="$"?A:/[%p]/.test(nt)?m:"",$=o[nt],G=/[defgprs%]/.test(nt);J=J===void 0?6:/[gprs]/.test(nt)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J));function rt(ot){var W=Y,H=Z,at,Q,ct;if(nt==="c")H=$(ot)+H,ot="";else{ot=+ot;var ft=ot<0||1/ot<0;if(ot=isNaN(ot)?w:$(Math.abs(ot),J),it&&(ot=e(ot)),ft&&+ot==0&&R!=="+"&&(ft=!1),W=(ft?R==="("?R:M:R==="-"||R==="("?"":R)+W,H=(nt==="s"?h[8+l/3]:"")+H+(ft&&R==="("?")":""),G){for(at=-1,Q=ot.length;++at<Q;)if(ct=ot.charCodeAt(at),48>ct||ct>57){H=(ct===46?C+ot.slice(at+1):ot.slice(at))+H,ot=ot.slice(0,at);break}}}V&&!B&&(ot=k(ot,1/0));var yt=W.length+ot.length+H.length,xt=yt<q?new Array(q-yt+1).join(P):"";switch(V&&B&&(ot=k(xt+ot,xt.length?q-H.length:1/0),xt=""),F){case"<":ot=W+ot+H+xt;break;case"=":ot=W+xt+ot+H;break;case"^":ot=xt.slice(0,yt=xt.length>>1)+W+ot+H+xt.slice(yt);break;default:ot=xt+W+ot+H;break}return u(ot)}return rt.toString=function(){return D+""},rt}function O(D,P){var F=z((D=d(D),D.type="f",D)),R=Math.max(-8,Math.min(8,Math.floor(i(P)/3)))*3,N=Math.pow(10,-R),B=h[8+R/3];return function(q){return F(N*q)+B}}return{format:z,formatPrefix:O}}var a,c;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(x){return a=_(x),c=a.format,a.formatPrefix,a}},87108:function(tt,U,t){t.r(U),t.d(U,{geoAiry:function(){return B},geoAiryRaw:function(){return N},geoAitoff:function(){return V},geoAitoffRaw:function(){return q},geoArmadillo:function(){return it},geoArmadilloRaw:function(){return J},geoAugust:function(){return Y},geoAugustRaw:function(){return nt},geoBaker:function(){return rt},geoBakerRaw:function(){return G},geoBerghaus:function(){return H},geoBerghausRaw:function(){return W},geoBertin1953:function(){return gt},geoBertin1953Raw:function(){return Lt},geoBoggs:function(){return ne},geoBoggsRaw:function(){return Nt},geoBonne:function(){return oe},geoBonneRaw:function(){return ae},geoBottomley:function(){return le},geoBottomleyRaw:function(){return ce},geoBromley:function(){return Tt},geoBromleyRaw:function(){return ye},geoChamberlin:function(){return ht},geoChamberlinAfrica:function(){return dt},geoChamberlinRaw:function(){return St},geoCollignon:function(){return zt},geoCollignonRaw:function(){return bt},geoCraig:function(){return te},geoCraigRaw:function(){return qt},geoCraster:function(){return Be},geoCrasterRaw:function(){return Ye},geoCylindricalEqualArea:function(){return be},geoCylindricalEqualAreaRaw:function(){return ge},geoCylindricalStereographic:function(){return pr},geoCylindricalStereographicRaw:function(){return Ne},geoEckert1:function(){return De},geoEckert1Raw:function(){return fe},geoEckert2:function(){return vr},geoEckert2Raw:function(){return Ge},geoEckert3:function(){return Kt},geoEckert3Raw:function(){return $e},geoEckert4:function(){return he},geoEckert4Raw:function(){return ie},geoEckert5:function(){return Ee},geoEckert5Raw:function(){return Ae},geoEckert6:function(){return Re},geoEckert6Raw:function(){return Fe},geoEisenlohr:function(){return er},geoEisenlohrRaw:function(){return We},geoFahey:function(){return It},geoFaheyRaw:function(){return ar},geoFoucaut:function(){return Me},geoFoucautRaw:function(){return Ut},geoFoucautSinusoidal:function(){return qe},geoFoucautSinusoidalRaw:function(){return ke},geoGilbert:function(){return rr},geoGingery:function(){return Er},geoGingeryRaw:function(){return lr},geoGinzburg4:function(){return $r},geoGinzburg4Raw:function(){return Mr},geoGinzburg5:function(){return vn},geoGinzburg5Raw:function(){return Gr},geoGinzburg6:function(){return hr},geoGinzburg6Raw:function(){return yn},geoGinzburg8:function(){return Ir},geoGinzburg8Raw:function(){return Lr},geoGinzburg9:function(){return on},geoGinzburg9Raw:function(){return Rr},geoGringorten:function(){return Kn},geoGringortenQuincuncial:function(){return cc},geoGringortenRaw:function(){return gn},geoGuyou:function(){return nn},geoGuyouRaw:function(){return ur},geoHammer:function(){return ft},geoHammerRaw:function(){return Q},geoHammerRetroazimuthal:function(){return Ln},geoHammerRetroazimuthalRaw:function(){return sn},geoHealpix:function(){return tn},geoHealpixRaw:function(){return gr},geoHill:function(){return jr},geoHillRaw:function(){return xr},geoHomolosine:function(){return Rn},geoHomolosineRaw:function(){return xn},geoHufnagel:function(){return ri},geoHufnagelRaw:function(){return Sn},geoHyperelliptical:function(){return ta},geoHyperellipticalRaw:function(){return _i},geoInterrupt:function(){return za},geoInterruptedBoggs:function(){return Yl},geoInterruptedHomolosine:function(){return qi},geoInterruptedMollweide:function(){return Gl},geoInterruptedMollweideHemispheres:function(){return Va},geoInterruptedQuarticAuthalic:function(){return es},geoInterruptedSinuMollweide:function(){return bl},geoInterruptedSinusoidal:function(){return Ms},geoKavrayskiy7:function(){return ka},geoKavrayskiy7Raw:function(){return ba},geoLagrange:function(){return Ia},geoLagrangeRaw:function(){return Es},geoLarrivee:function(){return vu},geoLarriveeRaw:function(){return so},geoLaskowski:function(){return Ku},geoLaskowskiRaw:function(){return Qa},geoLittrow:function(){return Ca},geoLittrowRaw:function(){return Ro},geoLoximuthal:function(){return ts},geoLoximuthalRaw:function(){return Hl},geoMiller:function(){return Wl},geoMillerRaw:function(){return Oo},geoModifiedStereographic:function(){return ps},geoModifiedStereographicAlaska:function(){return Xl},geoModifiedStereographicGs48:function(){return ec},geoModifiedStereographicGs50:function(){return rc},geoModifiedStereographicLee:function(){return yu},geoModifiedStereographicMiller:function(){return mu},geoModifiedStereographicRaw:function(){return gu},geoMollweide:function(){return Ot},geoMollweideRaw:function(){return At},geoMtFlatPolarParabolic:function(){return xu},geoMtFlatPolarParabolicRaw:function(){return Vs},geoMtFlatPolarQuartic:function(){return nc},geoMtFlatPolarQuarticRaw:function(){return jo},geoMtFlatPolarSinusoidal:function(){return bu},geoMtFlatPolarSinusoidalRaw:function(){return wl},geoNaturalEarth:function(){return _u.c},geoNaturalEarth2:function(){return yo},geoNaturalEarth2Raw:function(){return Al},geoNaturalEarthRaw:function(){return _u.g},geoNellHammer:function(){return ds},geoNellHammerRaw:function(){return Ss},geoNicolosi:function(){return Vl},geoNicolosiRaw:function(){return Po},geoPatterson:function(){return Ps},geoPattersonRaw:function(){return kl},geoPeirceQuincuncial:function(){return Eu},geoPierceQuincuncial:function(){return Eu},geoPolyconic:function(){return ac},geoPolyconicRaw:function(){return Ml},geoPolyhedral:function(){return ea},geoPolyhedralButterfly:function(){return Js},geoPolyhedralCollignon:function(){return gs},geoPolyhedralWaterman:function(){return ns},geoProject:function(){return lc},geoQuantize:function(){return Lu},geoQuincuncial:function(){return Yo},geoRectangularPolyconic:function(){return Su},geoRectangularPolyconicRaw:function(){return eu},geoRobinson:function(){return is},geoRobinsonRaw:function(){return To},geoSatellite:function(){return ms},geoSatelliteRaw:function(){return Cl},geoSinuMollweide:function(){return kn},geoSinuMollweideRaw:function(){return mn},geoSinusoidal:function(){return Vt},geoSinusoidalRaw:function(){return pe},geoStitch:function(){return il},geoTimes:function(){return Ma},geoTimesRaw:function(){return ss},geoTwoPointAzimuthal:function(){return Pl},geoTwoPointAzimuthalRaw:function(){return nu},geoTwoPointAzimuthalUsa:function(){return xs},geoTwoPointEquidistant:function(){return Ou},geoTwoPointEquidistantRaw:function(){return al},geoTwoPointEquidistantUsa:function(){return fc},geoVanDerGrinten:function(){return ol},geoVanDerGrinten2:function(){return Pu},geoVanDerGrinten2Raw:function(){return qs},geoVanDerGrinten3:function(){return hc},geoVanDerGrinten3Raw:function(){return ls},geoVanDerGrinten4:function(){return sl},geoVanDerGrinten4Raw:function(){return eo},geoVanDerGrintenRaw:function(){return Ha},geoWagner:function(){return us},geoWagner4:function(){return zu},geoWagner4Raw:function(){return Il},geoWagner6:function(){return au},geoWagner6Raw:function(){return cl},geoWagner7:function(){return iu},geoWagnerRaw:function(){return Wo},geoWiechel:function(){return ou},geoWiechelRaw:function(){return bs},geoWinkel3:function(){return Iu},geoWinkel3Raw:function(){return fl}});var E=t(87952),S=Math.abs,i=Math.atan,L=Math.atan2,T=Math.cos,v=Math.exp,d=Math.floor,r=Math.log,e=Math.max,l=Math.min,n=Math.pow,s=Math.round,o=Math.sign||function(Yt){return Yt>0?1:Yt<0?-1:0},f=Math.sin,b=Math.tan,h=1e-6,_=1e-12,a=Math.PI,c=a/2,p=a/4,x=Math.SQRT1_2,k=z(2),y=z(a),A=a*2,C=180/a,u=a/180;function m(Yt){return Yt?Yt/Math.sin(Yt):1}function M(Yt){return Yt>1?c:Yt<-1?-c:Math.asin(Yt)}function w(Yt){return Yt>1?0:Yt<-1?a:Math.acos(Yt)}function z(Yt){return Yt>0?Math.sqrt(Yt):0}function O(Yt){return Yt=v(2*Yt),(Yt-1)/(Yt+1)}function D(Yt){return(v(Yt)-v(-Yt))/2}function P(Yt){return(v(Yt)+v(-Yt))/2}function F(Yt){return r(Yt+z(Yt*Yt+1))}function R(Yt){return r(Yt+z(Yt*Yt-1))}function N(Yt){var Zt=b(Yt/2),se=2*r(T(Yt/2))/(Zt*Zt);function ve(Te,we){var Se=T(Te),or=T(we),fr=f(we),Qe=or*Se,yr=-((1-Qe?r((1+Qe)/2)/(1-Qe):-.5)+se/(1+Qe));return[yr*or*f(Te),yr*fr]}return ve.invert=function(Te,we){var Se=z(Te*Te+we*we),or=-Yt/2,fr=50,Qe;if(!Se)return[0,0];do{var yr=or/2,Tr=T(yr),Or=f(yr),Zr=Or/Tr,pn=-r(S(Tr));or-=Qe=(2/Zr*pn-se*Zr-Se)/(-pn/(Or*Or)+1-se/(2*Tr*Tr))*(Tr<0?.7:1)}while(S(Qe)>h&&--fr>0);var _n=f(or);return[L(Te*_n,Se*T(or)),M(we*_n/Se)]},ve}function B(){var Yt=c,Zt=(0,E.U)(N),se=Zt(Yt);return se.radius=function(ve){return arguments.length?Zt(Yt=ve*u):Yt*C},se.scale(179.976).clipAngle(147)}function q(Yt,Zt){var se=T(Zt),ve=m(w(se*T(Yt/=2)));return[2*se*f(Yt)*ve,f(Zt)*ve]}q.invert=function(Yt,Zt){if(!(Yt*Yt+4*Zt*Zt>a*a+h)){var se=Yt,ve=Zt,Te=25;do{var we=f(se),Se=f(se/2),or=T(se/2),fr=f(ve),Qe=T(ve),yr=f(2*ve),Tr=fr*fr,Or=Qe*Qe,Zr=Se*Se,pn=1-Or*or*or,_n=pn?w(Qe*or)*z(Tn=1/pn):Tn=0,Tn,jn=2*_n*Qe*Se-Yt,wi=_n*fr-Zt,Ai=Tn*(Or*Zr+_n*Qe*or*Tr),Mi=Tn*(.5*we*yr-_n*2*fr*Se),Ci=Tn*.25*(yr*Se-_n*fr*Or*we),Ii=Tn*(Tr*or+_n*Zr*Qe),$i=Mi*Ci-Ii*Ai;if(!$i)break;var xa=(wi*Mi-jn*Ii)/$i,lt=(jn*Ci-wi*Ai)/$i;se-=xa,ve-=lt}while((S(xa)>h||S(lt)>h)&&--Te>0);return[se,ve]}};function V(){return(0,E.c)(q).scale(152.63)}function J(Yt){var Zt=f(Yt),se=T(Yt),ve=Yt>=0?1:-1,Te=b(ve*Yt),we=(1+Zt-se)/2;function Se(or,fr){var Qe=T(fr),yr=T(or/=2);return[(1+Qe)*f(or),(ve*fr>-L(yr,Te)-.001?0:-ve*10)+we+f(fr)*se-(1+Qe)*Zt*yr]}return Se.invert=function(or,fr){var Qe=0,yr=0,Tr=50;do{var Or=T(Qe),Zr=f(Qe),pn=T(yr),_n=f(yr),Tn=1+pn,jn=Tn*Zr-or,wi=we+_n*se-Tn*Zt*Or-fr,Ai=Tn*Or/2,Mi=-Zr*_n,Ci=Zt*Tn*Zr/2,Ii=se*pn+Zt*Or*_n,$i=Mi*Ci-Ii*Ai,xa=(wi*Mi-jn*Ii)/$i/2,lt=(jn*Ci-wi*Ai)/$i;S(lt)>2&&(lt/=2),Qe-=xa,yr-=lt}while((S(xa)>h||S(lt)>h)&&--Tr>0);return ve*yr>-L(T(Qe),Te)-.001?[Qe*2,yr]:null},Se}function it(){var Yt=20*u,Zt=Yt>=0?1:-1,se=b(Zt*Yt),ve=(0,E.U)(J),Te=ve(Yt),we=Te.stream;return Te.parallel=function(Se){return arguments.length?(se=b((Zt=(Yt=Se*u)>=0?1:-1)*Yt),ve(Yt)):Yt*C},Te.stream=function(Se){var or=Te.rotate(),fr=we(Se),Qe=(Te.rotate([0,0]),we(Se)),yr=Te.precision();return Te.rotate(or),fr.sphere=function(){Qe.polygonStart(),Qe.lineStart();for(var Tr=Zt*-180;Zt*Tr<180;Tr+=Zt*90)Qe.point(Tr,Zt*90);if(Yt)for(;Zt*(Tr-=3*Zt*yr)>=-180;)Qe.point(Tr,Zt*-L(T(Tr*u/2),se)*C);Qe.lineEnd(),Qe.polygonEnd()},fr},Te.scale(218.695).center([0,28.0974])}function nt(Yt,Zt){var se=b(Zt/2),ve=z(1-se*se),Te=1+ve*T(Yt/=2),we=f(Yt)*ve/Te,Se=se/Te,or=we*we,fr=Se*Se;return[1.3333333333333333*we*(3+or-3*fr),1.3333333333333333*Se*(3+3*or-fr)]}nt.invert=function(Yt,Zt){if(Yt*=.375,Zt*=.375,!Yt&&S(Zt)>1)return null;var se=Yt*Yt,ve=Zt*Zt,Te=1+se+ve,we=z((Te-z(Te*Te-4*Zt*Zt))/2),Se=M(we)/3,or=we?R(S(Zt/we))/3:F(S(Yt))/3,fr=T(Se),Qe=P(or),yr=Qe*Qe-fr*fr;return[o(Yt)*2*L(D(or)*fr,.25-yr),o(Zt)*2*L(Qe*f(Se),.25+yr)]};function Y(){return(0,E.c)(nt).scale(66.1603)}var Z=z(8),$=r(1+k);function G(Yt,Zt){var se=S(Zt);return se<p?[Yt,r(b(p+Zt/2))]:[Yt*T(se)*(2*k-1/f(se)),o(Zt)*(2*k*(se-p)-r(b(se/2)))]}G.invert=function(Yt,Zt){if((we=S(Zt))<$)return[Yt,2*i(v(Zt))-c];var se=p,ve=25,Te,we;do{var Se=T(se/2),or=b(se/2);se-=Te=(Z*(se-p)-r(or)-we)/(Z-Se*Se/(2*or))}while(S(Te)>_&&--ve>0);return[Yt/(T(se)*(Z-1/f(se))),o(Zt)*se]};function rt(){return(0,E.c)(G).scale(112.314)}var ot=t(69020);function W(Yt){var Zt=2*a/Yt;function se(ve,Te){var we=(0,ot.O)(ve,Te);if(S(ve)>c){var Se=L(we[1],we[0]),or=z(we[0]*we[0]+we[1]*we[1]),fr=Zt*s((Se-c)/Zt)+c,Qe=L(f(Se-=fr),2-T(Se));Se=fr+M(a/or*f(Qe))-Qe,we[0]=or*T(Se),we[1]=or*f(Se)}return we}return se.invert=function(ve,Te){var we=z(ve*ve+Te*Te);if(we>c){var Se=L(Te,ve),or=Zt*s((Se-c)/Zt)+c,fr=Se>or?-1:1,Qe=we*T(or-Se),yr=1/b(fr*w((Qe-a)/z(a*(a-2*Qe)+we*we)));Se=or+2*i((yr+fr*z(yr*yr-3))/3),ve=we*T(Se),Te=we*f(Se)}return ot.O.invert(ve,Te)},se}function H(){var Yt=5,Zt=(0,E.U)(W),se=Zt(Yt),ve=se.stream,Te=.01,we=-T(Te*u),Se=f(Te*u);return se.lobes=function(or){return arguments.length?Zt(Yt=+or):Yt},se.stream=function(or){var fr=se.rotate(),Qe=ve(or),yr=(se.rotate([0,0]),ve(or));return se.rotate(fr),Qe.sphere=function(){yr.polygonStart(),yr.lineStart();for(var Tr=0,Or=360/Yt,Zr=2*a/Yt,pn=90-180/Yt,_n=c;Tr<Yt;++Tr,pn-=Or,_n-=Zr)yr.point(L(Se*T(_n),we)*C,M(Se*f(_n))*C),pn<-90?(yr.point(-90,-180-pn-Te),yr.point(-90,-180-pn+Te)):(yr.point(90,pn+Te),yr.point(90,pn-Te));yr.lineEnd(),yr.polygonEnd()},Qe},se.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var at=t(54724);function Q(Yt,Zt){if(arguments.length<2&&(Zt=Yt),Zt===1)return at.y;if(Zt===1/0)return ct;function se(ve,Te){var we=(0,at.y)(ve/Zt,Te);return we[0]*=Yt,we}return se.invert=function(ve,Te){var we=at.y.invert(ve/Yt,Te);return we[0]*=Zt,we},se}function ct(Yt,Zt){return[Yt*T(Zt)/T(Zt/=2),2*f(Zt)]}ct.invert=function(Yt,Zt){var se=2*M(Zt/2);return[Yt*T(se/2)/T(se),se]};function ft(){var Yt=2,Zt=(0,E.U)(Q),se=Zt(Yt);return se.coefficient=function(ve){return arguments.length?Zt(Yt=+ve):Yt},se.scale(169.529)}function yt(Yt,Zt,se){var ve=100,Te,we,Se;se=se===void 0?0:+se,Zt=+Zt;do we=Yt(se),Se=Yt(se+h),we===Se&&(Se=we+h),se-=Te=-1*h*(we-Zt)/(we-Se);while(ve-- >0&&S(Te)>h);return ve<0?NaN:se}function xt(Yt,Zt,se){return Zt===void 0&&(Zt=40),se===void 0&&(se=_),function(ve,Te,we,Se){var or,fr,Qe;we=we===void 0?0:+we,Se=Se===void 0?0:+Se;for(var yr=0;yr<Zt;yr++){var Tr=Yt(we,Se),Or=Tr[0]-ve,Zr=Tr[1]-Te;if(S(Or)<se&&S(Zr)<se)break;var pn=Or*Or+Zr*Zr;if(pn>or){we-=fr/=2,Se-=Qe/=2;continue}or=pn;var _n=(we>0?-1:1)*se,Tn=(Se>0?-1:1)*se,jn=Yt(we+_n,Se),wi=Yt(we,Se+Tn),Ai=(jn[0]-Tr[0])/_n,Mi=(jn[1]-Tr[1])/_n,Ci=(wi[0]-Tr[0])/Tn,Ii=(wi[1]-Tr[1])/Tn,$i=Ii*Ai-Mi*Ci,xa=(S($i)<.5?.5:1)/$i;if(fr=(Zr*Ci-Or*Ii)*xa,Qe=(Or*Mi-Zr*Ai)*xa,we+=fr,Se+=Qe,S(fr)<se&&S(Qe)<se)break}return[we,Se]}}function Lt(){var Yt=Q(1.68,2),Zt=1.4,se=12;function ve(Te,we){if(Te+we<-Zt){var Se=(Te-we+1.6)*(Te+we+Zt)/8;Te+=Se,we-=.8*Se*f(we+a/2)}var or=Yt(Te,we),fr=(1-T(Te*we))/se;return or[1]<0&&(or[0]*=1+fr),or[1]>0&&(or[1]*=1+fr/1.5*or[0]*or[0]),or}return ve.invert=xt(ve),ve}function gt(){return(0,E.c)(Lt()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function mt(Yt,Zt){var se=Yt*f(Zt),ve=30,Te;do Zt-=Te=(Zt+f(Zt)-se)/(1+T(Zt));while(S(Te)>h&&--ve>0);return Zt/2}function vt(Yt,Zt,se){function ve(Te,we){return[Yt*Te*T(we=mt(se,we)),Zt*f(we)]}return ve.invert=function(Te,we){return we=M(we/Zt),[Te/(Yt*T(we)),M((2*we+f(2*we))/se)]},ve}var At=vt(k/c,k,a);function Ot(){return(0,E.c)(At).scale(169.529)}var Pt=2.00276,Et=1.11072;function Nt(Yt,Zt){var se=mt(a,Zt);return[Pt*Yt/(1/T(Zt)+Et/T(se)),(Zt+k*f(se))/Pt]}Nt.invert=function(Yt,Zt){var se=Pt*Zt,ve=Zt<0?-p:p,Te=25,we,Se;do Se=se-k*f(ve),ve-=we=(f(2*ve)+2*ve-a*f(Se))/(2*T(2*ve)+2+a*T(Se)*k*T(ve));while(S(we)>h&&--Te>0);return Se=se-k*f(ve),[Yt*(1/T(Se)+Et/T(ve))/Pt,Se]};function ne(){return(0,E.c)(Nt).scale(160.857)}function Gt(Yt){var Zt=0,se=(0,E.U)(Yt),ve=se(Zt);return ve.parallel=function(Te){return arguments.length?se(Zt=Te*u):Zt*C},ve}function pe(Yt,Zt){return[Yt*T(Zt),Zt]}pe.invert=function(Yt,Zt){return[Yt/T(Zt),Zt]};function Vt(){return(0,E.c)(pe).scale(152.63)}function ae(Yt){if(!Yt)return pe;var Zt=1/b(Yt);function se(ve,Te){var we=Zt+Yt-Te,Se=we&&ve*T(Te)/we;return[we*f(Se),Zt-we*T(Se)]}return se.invert=function(ve,Te){var we=z(ve*ve+(Te=Zt-Te)*Te),Se=Zt+Yt-we;return[we/T(Se)*L(ve,Te),Se]},se}function oe(){return Gt(ae).scale(123.082).center([0,26.1441]).parallel(45)}function ce(Yt){function Zt(se,ve){var Te=c-ve,we=Te&&se*Yt*f(Te)/Te;return[Te*f(we)/Yt,c-Te*T(we)]}return Zt.invert=function(se,ve){var Te=se*Yt,we=c-ve,Se=z(Te*Te+we*we),or=L(Te,we);return[(Se?Se/f(Se):1)*or/Yt,c-Se]},Zt}function le(){var Yt=.5,Zt=(0,E.U)(ce),se=Zt(Yt);return se.fraction=function(ve){return arguments.length?Zt(Yt=+ve):Yt},se.scale(158.837)}var ye=vt(1,4/a,a);function Tt(){return(0,E.c)(ye).scale(152.63)}var Ft=t(24052),$t=t(92992);function Wt(Yt,Zt,se,ve,Te,we){var Se=T(we),or;if(S(Yt)>1||S(we)>1)or=w(se*Te+Zt*ve*Se);else{var fr=f(Yt/2),Qe=f(we/2);or=2*M(z(fr*fr+Zt*ve*Qe*Qe))}return S(or)>h?[or,L(ve*f(we),Zt*Te-se*ve*Se)]:[0,0]}function Bt(Yt,Zt,se){return w((Yt*Yt+Zt*Zt-se*se)/(2*Yt*Zt))}function Mt(Yt){return Yt-2*a*d((Yt+a)/(2*a))}function St(Yt,Zt,se){for(var ve=[[Yt[0],Yt[1],f(Yt[1]),T(Yt[1])],[Zt[0],Zt[1],f(Zt[1]),T(Zt[1])],[se[0],se[1],f(se[1]),T(se[1])]],Te=ve[2],we,Se=0;Se<3;++Se,Te=we)we=ve[Se],Te.v=Wt(we[1]-Te[1],Te[3],Te[2],we[3],we[2],we[0]-Te[0]),Te.point=[0,0];var or=Bt(ve[0].v[0],ve[2].v[0],ve[1].v[0]),fr=Bt(ve[0].v[0],ve[1].v[0],ve[2].v[0]),Qe=a-or;ve[2].point[1]=0,ve[0].point[0]=-(ve[1].point[0]=ve[0].v[0]/2);var yr=[ve[2].point[0]=ve[0].point[0]+ve[2].v[0]*T(or),2*(ve[0].point[1]=ve[1].point[1]=ve[2].v[0]*f(or))];function Tr(Or,Zr){var pn=f(Zr),_n=T(Zr),Tn=new Array(3),jn;for(jn=0;jn<3;++jn){var wi=ve[jn];if(Tn[jn]=Wt(Zr-wi[1],wi[3],wi[2],_n,pn,Or-wi[0]),!Tn[jn][0])return wi.point;Tn[jn][1]=Mt(Tn[jn][1]-wi.v[1])}var Ai=yr.slice();for(jn=0;jn<3;++jn){var Mi=jn==2?0:jn+1,Ci=Bt(ve[jn].v[0],Tn[jn][0],Tn[Mi][0]);Tn[jn][1]<0&&(Ci=-Ci),jn?jn==1?(Ci=fr-Ci,Ai[0]-=Tn[jn][0]*T(Ci),Ai[1]-=Tn[jn][0]*f(Ci)):(Ci=Qe-Ci,Ai[0]+=Tn[jn][0]*T(Ci),Ai[1]+=Tn[jn][0]*f(Ci)):(Ai[0]+=Tn[jn][0]*T(Ci),Ai[1]-=Tn[jn][0]*f(Ci))}return Ai[0]/=3,Ai[1]/=3,Ai}return Tr}function Dt(Yt){return Yt[0]*=u,Yt[1]*=u,Yt}function dt(){return ht([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function ht(Yt,Zt,se){var ve=(0,Ft.c)({type:"MultiPoint",coordinates:[Yt,Zt,se]}),Te=[-ve[0],-ve[1]],we=(0,$t.c)(Te),Se=St(Dt(we(Yt)),Dt(we(Zt)),Dt(we(se)));Se.invert=xt(Se);var or=(0,E.c)(Se).rotate(Te),fr=or.center;return delete or.rotate,or.center=function(Qe){return arguments.length?fr(we(Qe)):we.invert(fr())},or.clipAngle(90)}function bt(Yt,Zt){var se=z(1-f(Zt));return[2/y*Yt*se,y*(1-se)]}bt.invert=function(Yt,Zt){var se=(se=Zt/y-1)*se;return[se>0?Yt*z(a/se)/2:0,M(1-se)]};function zt(){return(0,E.c)(bt).scale(95.6464).center([0,30])}function qt(Yt){var Zt=b(Yt);function se(ve,Te){return[ve,(ve?ve/f(ve):1)*(f(Te)*T(ve)-Zt*T(Te))]}return se.invert=Zt?function(ve,Te){ve&&(Te*=f(ve)/ve);var we=T(ve);return[ve,2*L(z(we*we+Zt*Zt-Te*Te)-we,Zt-Te)]}:function(ve,Te){return[ve,M(ve?Te*b(ve)/ve:Te)]},se}function te(){return Gt(qt).scale(249.828).clipAngle(90)}var re=z(3);function Ye(Yt,Zt){return[re*Yt*(2*T(2*Zt/3)-1)/y,re*y*f(Zt/3)]}Ye.invert=function(Yt,Zt){var se=3*M(Zt/(re*y));return[y*Yt/(re*(2*T(2*se/3)-1)),se]};function Be(){return(0,E.c)(Ye).scale(156.19)}function ge(Yt){var Zt=T(Yt);function se(ve,Te){return[ve*Zt,f(Te)/Zt]}return se.invert=function(ve,Te){return[ve/Zt,M(Te*Zt)]},se}function be(){return Gt(ge).parallel(38.58).scale(195.044)}function Ne(Yt){var Zt=T(Yt);function se(ve,Te){return[ve*Zt,(1+Zt)*b(Te/2)]}return se.invert=function(ve,Te){return[ve/Zt,i(Te/(1+Zt))*2]},se}function pr(){return Gt(Ne).scale(124.75)}function fe(Yt,Zt){var se=z(8/(3*a));return[se*Yt*(1-S(Zt)/a),se*Zt]}fe.invert=function(Yt,Zt){var se=z(8/(3*a)),ve=Zt/se;return[Yt/(se*(1-S(ve)/a)),ve]};function De(){return(0,E.c)(fe).scale(165.664)}function Ge(Yt,Zt){var se=z(4-3*f(S(Zt)));return[2/z(6*a)*Yt*se,o(Zt)*z(2*a/3)*(2-se)]}Ge.invert=function(Yt,Zt){var se=2-S(Zt)/z(2*a/3);return[Yt*z(6*a)/(2*se),o(Zt)*M((4-se*se)/3)]};function vr(){return(0,E.c)(Ge).scale(165.664)}function $e(Yt,Zt){var se=z(a*(4+a));return[2/se*Yt*(1+z(1-4*Zt*Zt/(a*a))),4/se*Zt]}$e.invert=function(Yt,Zt){var se=z(a*(4+a))/2;return[Yt*se/(1+z(1-Zt*Zt*(4+a)/(4*a))),Zt*se/2]};function Kt(){return(0,E.c)($e).scale(180.739)}function ie(Yt,Zt){var se=(2+c)*f(Zt);Zt/=2;for(var ve=0,Te=1/0;ve<10&&S(Te)>h;ve++){var we=T(Zt);Zt-=Te=(Zt+f(Zt)*(we+2)-se)/(2*we*(1+we))}return[2/z(a*(4+a))*Yt*(1+T(Zt)),2*z(a/(4+a))*f(Zt)]}ie.invert=function(Yt,Zt){var se=Zt*z((4+a)/a)/2,ve=M(se),Te=T(ve);return[Yt/(2/z(a*(4+a))*(1+Te)),M((ve+se*(Te+2))/(2+c))]};function he(){return(0,E.c)(ie).scale(180.739)}function Ae(Yt,Zt){return[Yt*(1+T(Zt))/z(2+a),2*Zt/z(2+a)]}Ae.invert=function(Yt,Zt){var se=z(2+a),ve=Zt*se/2;return[se*Yt/(1+T(ve)),ve]};function Ee(){return(0,E.c)(Ae).scale(173.044)}function Fe(Yt,Zt){for(var se=(1+c)*f(Zt),ve=0,Te=1/0;ve<10&&S(Te)>h;ve++)Zt-=Te=(Zt+f(Zt)-se)/(1+T(Zt));return se=z(2+a),[Yt*(1+T(Zt))/se,2*Zt/se]}Fe.invert=function(Yt,Zt){var se=1+c,ve=z(se/2);return[Yt*2*ve/(1+T(Zt*=ve)),M((Zt+f(Zt))/se)]};function Re(){return(0,E.c)(Fe).scale(173.044)}var Ce=3+2*k;function We(Yt,Zt){var se=f(Yt/=2),ve=T(Yt),Te=z(T(Zt)),we=T(Zt/=2),Se=f(Zt)/(we+k*ve*Te),or=z(2/(1+Se*Se)),fr=z((k*we+(ve+se)*Te)/(k*we+(ve-se)*Te));return[Ce*(or*(fr-1/fr)-2*r(fr)),Ce*(or*Se*(fr+1/fr)-2*i(Se))]}We.invert=function(Yt,Zt){if(!(we=nt.invert(Yt/1.2,Zt*1.065)))return null;var se=we[0],ve=we[1],Te=20,we;Yt/=Ce,Zt/=Ce;do{var Se=se/2,or=ve/2,fr=f(Se),Qe=T(Se),yr=f(or),Tr=T(or),Or=T(ve),Zr=z(Or),pn=yr/(Tr+k*Qe*Zr),_n=pn*pn,Tn=z(2/(1+_n)),jn=k*Tr+(Qe+fr)*Zr,wi=k*Tr+(Qe-fr)*Zr,Ai=jn/wi,Mi=z(Ai),Ci=Mi-1/Mi,Ii=Mi+1/Mi,$i=Tn*Ci-2*r(Mi)-Yt,xa=Tn*pn*Ii-2*i(pn)-Zt,lt=yr&&x*Zr*fr*_n/yr,_t=(k*Qe*Tr+Zr)/(2*(Tr+k*Qe*Zr)*(Tr+k*Qe*Zr)*Zr),Ct=-.5*pn*Tn*Tn*Tn,Ht=Ct*lt,Xt=Ct*_t,ee=(ee=2*Tr+k*Zr*(Qe-fr))*ee*Mi,xe=(k*Qe*Tr*Zr+Or)/ee,me=-(k*fr*yr)/(Zr*ee),ze=Ci*Ht-2*xe/Mi+Tn*(xe+xe/Ai),Ie=Ci*Xt-2*me/Mi+Tn*(me+me/Ai),Ze=pn*Ii*Ht-2*lt/(1+_n)+Tn*Ii*lt+Tn*pn*(xe-xe/Ai),br=pn*Ii*Xt-2*_t/(1+_n)+Tn*Ii*_t+Tn*pn*(me-me/Ai),wr=Ie*Ze-br*ze;if(!wr)break;var Hr=(xa*Ie-$i*br)/wr,Jr=($i*Ze-xa*ze)/wr;se-=Hr,ve=e(-c,l(c,ve-Jr))}while((S(Hr)>h||S(Jr)>h)&&--Te>0);return S(S(ve)-c)<h?[0,ve]:Te&&[se,ve]};function er(){return(0,E.c)(We).scale(62.5271)}var Ue=T(35*u);function ar(Yt,Zt){var se=b(Zt/2);return[Yt*Ue*z(1-se*se),(1+Ue)*se]}ar.invert=function(Yt,Zt){var se=Zt/(1+Ue);return[Yt&&Yt/(Ue*z(1-se*se)),2*i(se)]};function It(){return(0,E.c)(ar).scale(137.152)}function Ut(Yt,Zt){var se=Zt/2,ve=T(se);return[2*Yt/y*T(Zt)*ve*ve,y*b(se)]}Ut.invert=function(Yt,Zt){var se=i(Zt/y),ve=T(se),Te=2*se;return[Yt*y/2/(T(Te)*ve*ve),Te]};function Me(){return(0,E.c)(Ut).scale(135.264)}function ke(Yt){var Zt=1-Yt,se=we(a,0)[0]-we(-a,0)[0],ve=we(0,c)[1]-we(0,-c)[1],Te=z(2*ve/se);function we(fr,Qe){var yr=T(Qe),Tr=f(Qe);return[yr/(Zt+Yt*yr)*fr,Zt*Qe+Yt*Tr]}function Se(fr,Qe){var yr=we(fr,Qe);return[yr[0]*Te,yr[1]/Te]}function or(fr){return Se(0,fr)[1]}return Se.invert=function(fr,Qe){var yr=yt(or,Qe),Tr=fr/Te*(Yt+Zt/T(yr));return[Tr,yr]},Se}function qe(){var Yt=.5,Zt=(0,E.U)(ke),se=Zt(Yt);return se.alpha=function(ve){return arguments.length?Zt(Yt=+ve):Yt},se.scale(168.725)}var Ke=t(4888),Je=t(69604);function Ve(Yt){return[Yt[0]/2,M(b(Yt[1]/2*u))*C]}function Pe(Yt){return[Yt[0]*2,2*i(f(Yt[1]*u))*C]}function rr(Yt){Yt==null&&(Yt=Ke.c);var Zt=Yt(),se=(0,Je.c)().scale(C).precision(0).clipAngle(null).translate([0,0]);function ve(we){return Zt(Ve(we))}Zt.invert&&(ve.invert=function(we){return Pe(Zt.invert(we))}),ve.stream=function(we){var Se=Zt.stream(we),or=se.stream({point:function(fr,Qe){Se.point(fr/2,M(b(-Qe/2*u))*C)},lineStart:function(){Se.lineStart()},lineEnd:function(){Se.lineEnd()},polygonStart:function(){Se.polygonStart()},polygonEnd:function(){Se.polygonEnd()}});return or.sphere=Se.sphere,or};function Te(we){ve[we]=function(){return arguments.length?(Zt[we].apply(Zt,arguments),ve):Zt[we]()}}return ve.rotate=function(we){return arguments.length?(se.rotate(we),ve):se.rotate()},ve.center=function(we){return arguments.length?(Zt.center(Ve(we)),ve):Pe(Zt.center())},Te("angle"),Te("clipAngle"),Te("clipExtent"),Te("fitExtent"),Te("fitHeight"),Te("fitSize"),Te("fitWidth"),Te("scale"),Te("translate"),Te("precision"),ve.scale(249.5)}function lr(Yt,Zt){var se=2*a/Zt,ve=Yt*Yt;function Te(we,Se){var or=(0,ot.O)(we,Se),fr=or[0],Qe=or[1],yr=fr*fr+Qe*Qe;if(yr>ve){var Tr=z(yr),Or=L(Qe,fr),Zr=se*s(Or/se),pn=Or-Zr,_n=Yt*T(pn),Tn=(Yt*f(pn)-pn*f(_n))/(c-_n),jn=cr(pn,Tn),wi=(a-Yt)/ir(jn,_n,a);fr=Tr;var Ai=50,Mi;do fr-=Mi=(Yt+ir(jn,_n,fr)*wi-Tr)/(jn(fr)*wi);while(S(Mi)>h&&--Ai>0);Qe=pn*f(fr),fr<c&&(Qe-=Tn*(fr-c));var Ci=f(Zr),Ii=T(Zr);or[0]=fr*Ii-Qe*Ci,or[1]=fr*Ci+Qe*Ii}return or}return Te.invert=function(we,Se){var or=we*we+Se*Se;if(or>ve){var fr=z(or),Qe=L(Se,we),yr=se*s(Qe/se),Tr=Qe-yr;we=fr*T(Tr),Se=fr*f(Tr);for(var Or=we-c,Zr=f(we),pn=Se/Zr,_n=we<c?1/0:0,Tn=10;;){var jn=Yt*f(pn),wi=Yt*T(pn),Ai=f(wi),Mi=c-wi,Ci=(jn-pn*Ai)/Mi,Ii=cr(pn,Ci);if(S(_n)<_||!--Tn)break;pn-=_n=(pn*Zr-Ci*Or-Se)/(Zr-Or*2*(Mi*(wi+pn*jn*T(wi)-Ai)-jn*(jn-pn*Ai))/(Mi*Mi))}fr=Yt+ir(Ii,wi,we)*(a-Yt)/ir(Ii,wi,a),Qe=yr+pn,we=fr*T(Qe),Se=fr*f(Qe)}return ot.O.invert(we,Se)},Te}function cr(Yt,Zt){return function(se){var ve=Yt*T(se);return se<c&&(ve-=Zt),z(1+ve*ve)}}function ir(Yt,Zt,se){for(var ve=50,Te=(se-Zt)/ve,we=Yt(Zt)+Yt(se),Se=1,or=Zt;Se<ve;++Se)we+=2*Yt(or+=Te);return we*.5*Te}function Er(){var Yt=6,Zt=30*u,se=T(Zt),ve=f(Zt),Te=(0,E.U)(lr),we=Te(Zt,Yt),Se=we.stream,or=.01,fr=-T(or*u),Qe=f(or*u);return we.radius=function(yr){return arguments.length?(se=T(Zt=yr*u),ve=f(Zt),Te(Zt,Yt)):Zt*C},we.lobes=function(yr){return arguments.length?Te(Zt,Yt=+yr):Yt},we.stream=function(yr){var Tr=we.rotate(),Or=Se(yr),Zr=(we.rotate([0,0]),Se(yr));return we.rotate(Tr),Or.sphere=function(){Zr.polygonStart(),Zr.lineStart();for(var pn=0,_n=2*a/Yt,Tn=0;pn<Yt;++pn,Tn-=_n)Zr.point(L(Qe*T(Tn),fr)*C,M(Qe*f(Tn))*C),Zr.point(L(ve*T(Tn-_n/2),se)*C,M(ve*f(Tn-_n/2))*C);Zr.lineEnd(),Zr.polygonEnd()},Or},we.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function kr(Yt,Zt,se,ve,Te,we,Se,or){arguments.length<8&&(or=0);function fr(Qe,yr){if(!yr)return[Yt*Qe/a,0];var Tr=yr*yr,Or=Yt+Tr*(Zt+Tr*(se+Tr*ve)),Zr=yr*(Te-1+Tr*(we-or+Tr*Se)),pn=(Or*Or+Zr*Zr)/(2*Zr),_n=Qe*M(Or/pn)/a;return[pn*f(_n),yr*(1+Tr*or)+pn*(1-T(_n))]}return fr.invert=function(Qe,yr){var Tr=a*Qe/Yt,Or=yr,Zr,pn,_n=50;do{var Tn=Or*Or,jn=Yt+Tn*(Zt+Tn*(se+Tn*ve)),wi=Or*(Te-1+Tn*(we-or+Tn*Se)),Ai=jn*jn+wi*wi,Mi=2*wi,Ci=Ai/Mi,Ii=Ci*Ci,$i=M(jn/Ci)/a,xa=Tr*$i,lt=jn*jn,_t=(2*Zt+Tn*(4*se+Tn*6*ve))*Or,Ct=Te+Tn*(3*we+Tn*5*Se),Ht=2*(jn*_t+wi*(Ct-1)),Xt=2*(Ct-1),ee=(Ht*Mi-Ai*Xt)/(Mi*Mi),xe=T(xa),me=f(xa),ze=Ci*xe,Ie=Ci*me,Ze=Tr/a*(1/z(1-lt/Ii))*(_t*Ci-jn*ee)/Ii,br=Ie-Qe,wr=Or*(1+Tn*or)+Ci-ze-yr,Hr=ee*me+ze*Ze,Jr=ze*$i,Ar=1+ee-(ee*xe-Ie*Ze),Dr=Ie*$i,Yr=Hr*Dr-Ar*Jr;if(!Yr)break;Tr-=Zr=(wr*Hr-br*Ar)/Yr,Or-=pn=(br*Dr-wr*Jr)/Yr}while((S(Zr)>h||S(pn)>h)&&--_n>0);return[Tr,Or]},fr}var Mr=kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function $r(){return(0,E.c)(Mr).scale(149.995)}var Gr=kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function vn(){return(0,E.c)(Gr).scale(153.93)}var yn=kr(5/6*a,-.62636,-.0344,0,1.3493,-.05524,0,.045);function hr(){return(0,E.c)(yn).scale(130.945)}function Lr(Yt,Zt){var se=Yt*Yt,ve=Zt*Zt;return[Yt*(1-.162388*ve)*(.87-952426e-9*se*se),Zt*(1+ve/12)]}Lr.invert=function(Yt,Zt){var se=Yt,ve=Zt,Te=50,we;do{var Se=ve*ve;ve-=we=(ve*(1+Se/12)-Zt)/(1+Se/4)}while(S(we)>h&&--Te>0);Te=50,Yt/=1-.162388*Se;do{var or=(or=se*se)*or;se-=we=(se*(.87-952426e-9*or)-Yt)/(.87-.00476213*or)}while(S(we)>h&&--Te>0);return[se,ve]};function Ir(){return(0,E.c)(Lr).scale(131.747)}var Rr=kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function on(){return(0,E.c)(Rr).scale(131.087)}function an(Yt){var Zt=Yt(c,0)[0]-Yt(-c,0)[0];function se(ve,Te){var we=ve>0?-.5:.5,Se=Yt(ve+we*a,Te);return Se[0]-=we*Zt,Se}return Yt.invert&&(se.invert=function(ve,Te){var we=ve>0?-.5:.5,Se=Yt.invert(ve+we*Zt,Te),or=Se[0]-we*a;return or<-a?or+=2*a:or>a&&(or-=2*a),Se[0]=or,Se}),se}function gn(Yt,Zt){var se=o(Yt),ve=o(Zt),Te=T(Zt),we=T(Yt)*Te,Se=f(Yt)*Te,or=f(ve*Zt);Yt=S(L(Se,or)),Zt=M(we),S(Yt-c)>h&&(Yt%=c);var fr=Mn(Yt>a/4?c-Yt:Yt,Zt);return Yt>a/4&&(or=fr[0],fr[0]=-fr[1],fr[1]=-or),fr[0]*=se,fr[1]*=-ve,fr}gn.invert=function(Yt,Zt){S(Yt)>1&&(Yt=o(Yt)*2-Yt),S(Zt)>1&&(Zt=o(Zt)*2-Zt);var se=o(Yt),ve=o(Zt),Te=-se*Yt,we=-ve*Zt,Se=we/Te<1,or=Pn(Se?we:Te,Se?Te:we),fr=or[0],Qe=or[1],yr=T(Qe);return Se&&(fr=-c-fr),[se*(L(f(fr)*yr,-f(Qe))+a),ve*M(T(fr)*yr)]};function Mn(Yt,Zt){if(Zt===c)return[0,0];var se=f(Zt),ve=se*se,Te=ve*ve,we=1+Te,Se=1+3*Te,or=1-Te,fr=M(1/z(we)),Qe=or+ve*we*fr,yr=(1-se)/Qe,Tr=z(yr),Or=yr*we,Zr=z(Or),pn=Tr*or,_n,Tn;if(Yt===0)return[0,-(pn+ve*Zr)];var jn=T(Zt),wi=1/jn,Ai=2*se*jn,Mi=(-3*ve+fr*Se)*Ai,Ci=(-Qe*jn-(1-se)*Mi)/(Qe*Qe),Ii=.5*Ci/Tr,$i=or*Ii-2*ve*Tr*Ai,xa=ve*we*Ci+yr*Se*Ai,lt=-wi*Ai,_t=-wi*xa,Ct=-2*wi*$i,Ht=4*Yt/a,Xt;if(Yt>.222*a||Zt<a/4&&Yt>.175*a){if(_n=(pn+ve*z(Or*(1+Te)-pn*pn))/(1+Te),Yt>a/4)return[_n,_n];var ee=_n,xe=.5*_n;_n=.5*(xe+ee),Tn=50;do{var me=z(Or-_n*_n),ze=_n*(Ct+lt*me)+_t*M(_n/Zr)-Ht;if(!ze)break;ze<0?xe=_n:ee=_n,_n=.5*(xe+ee)}while(S(ee-xe)>h&&--Tn>0)}else{_n=h,Tn=25;do{var Ie=_n*_n,Ze=z(Or-Ie),br=Ct+lt*Ze,wr=_n*br+_t*M(_n/Zr)-Ht,Hr=br+(_t-lt*Ie)/Ze;_n-=Xt=Ze?wr/Hr:0}while(S(Xt)>h&&--Tn>0)}return[_n,-pn-ve*z(Or-_n*_n)]}function Pn(Yt,Zt){for(var se=0,ve=1,Te=.5,we=50;;){var Se=Te*Te,or=z(Te),fr=M(1/z(1+Se)),Qe=1-Se+Te*(1+Se)*fr,yr=(1-or)/Qe,Tr=z(yr),Or=yr*(1+Se),Zr=Tr*(1-Se),pn=Or-Yt*Yt,_n=z(pn),Tn=Zt+Zr+Te*_n;if(S(ve-se)<_||--we===0||Tn===0)break;Tn>0?se=Te:ve=Te,Te=.5*(se+ve)}if(!we)return null;var jn=M(or),wi=T(jn),Ai=1/wi,Mi=2*or*wi,Ci=(-3*Te+fr*(1+3*Se))*Mi,Ii=(-Qe*wi-(1-or)*Ci)/(Qe*Qe),$i=.5*Ii/Tr,xa=(1-Se)*$i-2*Te*Tr*Mi,lt=-2*Ai*xa,_t=-Ai*Mi,Ct=-Ai*(Te*(1+Se)*Ii+yr*(1+3*Se)*Mi);return[a/4*(Yt*(lt+_t*_n)+Ct*M(Yt/z(Or))),jn]}function Kn(){return(0,E.c)(an(gn)).scale(239.75)}function ai(Yt,Zt,se){var ve,Te,we;return Yt?(ve=ui(Yt,se),Zt?(Te=ui(Zt,1-se),we=Te[1]*Te[1]+se*ve[0]*ve[0]*Te[0]*Te[0],[[ve[0]*Te[2]/we,ve[1]*ve[2]*Te[0]*Te[1]/we],[ve[1]*Te[1]/we,-ve[0]*ve[2]*Te[0]*Te[2]/we],[ve[2]*Te[1]*Te[2]/we,-se*ve[0]*ve[1]*Te[0]/we]]):[[ve[0],0],[ve[1],0],[ve[2],0]]):(Te=ui(Zt,1-se),[[0,Te[0]/Te[1]],[1/Te[1],0],[Te[2]/Te[1],0]])}function ui(Yt,Zt){var se,ve,Te,we,Se;if(Zt<h)return we=f(Yt),ve=T(Yt),se=Zt*(Yt-we*ve)/4,[we-se*ve,ve+se*we,1-Zt*we*we/2,Yt-se];if(Zt>=1-h)return se=(1-Zt)/4,ve=P(Yt),we=O(Yt),Te=1/ve,Se=ve*D(Yt),[we+se*(Se-Yt)/(ve*ve),Te-se*we*Te*(Se-Yt),Te+se*we*Te*(Se+Yt),2*i(v(Yt))-c+se*(Se-Yt)/ve];var or=[1,0,0,0,0,0,0,0,0],fr=[z(Zt),0,0,0,0,0,0,0,0],Qe=0;for(ve=z(1-Zt),Se=1;S(fr[Qe]/or[Qe])>h&&Qe<8;)se=or[Qe++],fr[Qe]=(se-ve)/2,or[Qe]=(se+ve)/2,ve=z(se*ve),Se*=2;Te=Se*or[Qe]*Yt;do we=fr[Qe]*f(ve=Te)/or[Qe],Te=(M(we)+Te)/2;while(--Qe);return[f(Te),we=T(Te),we/T(Te-ve),Te]}function ni(Yt,Zt,se){var ve=S(Yt),Te=S(Zt),we=D(Te);if(ve){var Se=1/f(ve),or=1/(b(ve)*b(ve)),fr=-(or+se*(we*we*Se*Se)-1+se),Qe=(se-1)*or,yr=(-fr+z(fr*fr-4*Qe))/2;return[Cn(i(1/z(yr)),se)*o(Yt),Cn(i(z((yr/or-1)/se)),1-se)*o(Zt)]}return[0,Cn(i(we),1-se)*o(Zt)]}function Cn(Yt,Zt){if(!Zt)return Yt;if(Zt===1)return r(b(Yt/2+p));for(var se=1,ve=z(1-Zt),Te=z(Zt),we=0;S(Te)>h;we++){if(Yt%a){var Se=i(ve*b(Yt)/se);Se<0&&(Se+=a),Yt+=Se+~~(Yt/a)*a}else Yt+=Yt;Te=(se+ve)/2,ve=z(se*ve),Te=((se=Te)-ve)/2}return Yt/(n(2,we)*se)}function ur(Yt,Zt){var se=(k-1)/(k+1),ve=z(1-se*se),Te=Cn(c,ve*ve),we=-1,Se=r(b(a/4+S(Zt)/2)),or=v(we*Se)/z(se),fr=qr(or*T(we*Yt),or*f(we*Yt)),Qe=ni(fr[0],fr[1],ve*ve);return[-Qe[1],(Zt>=0?1:-1)*(.5*Te-Qe[0])]}function qr(Yt,Zt){var se=Yt*Yt,ve=Zt+1,Te=1-se-Zt*Zt;return[.5*((Yt>=0?c:-c)-L(Te,2*Yt)),-.25*r(Te*Te+4*se)+.5*r(ve*ve+se)]}function Ur(Yt,Zt){var se=Zt[0]*Zt[0]+Zt[1]*Zt[1];return[(Yt[0]*Zt[0]+Yt[1]*Zt[1])/se,(Yt[1]*Zt[0]-Yt[0]*Zt[1])/se]}ur.invert=function(Yt,Zt){var se=(k-1)/(k+1),ve=z(1-se*se),Te=Cn(c,ve*ve),we=-1,Se=ai(.5*Te-Zt,-Yt,ve*ve),or=Ur(Se[0],Se[1]),fr=L(or[1],or[0])/we;return[fr,2*i(v(.5/we*r(se*or[0]*or[0]+se*or[1]*or[1])))-c]};function nn(){return(0,E.c)(an(ur)).scale(151.496)}var En=t(61780);function sn(Yt){var Zt=f(Yt),se=T(Yt),ve=An(Yt);ve.invert=An(-Yt);function Te(we,Se){var or=ve(we,Se);we=or[0],Se=or[1];var fr=f(Se),Qe=T(Se),yr=T(we),Tr=w(Zt*fr+se*Qe*yr),Or=f(Tr),Zr=S(Or)>h?Tr/Or:1;return[Zr*se*f(we),(S(we)>c?Zr:-Zr)*(Zt*Qe-se*fr*yr)]}return Te.invert=function(we,Se){var or=z(we*we+Se*Se),fr=-f(or),Qe=T(or),yr=or*Qe,Tr=-Se*fr,Or=or*Zt,Zr=z(yr*yr+Tr*Tr-Or*Or),pn=L(yr*Or+Tr*Zr,Tr*Or-yr*Zr),_n=(or>c?-1:1)*L(we*fr,or*T(pn)*Qe+Se*f(pn)*fr);return ve.invert(_n,pn)},Te}function An(Yt){var Zt=f(Yt),se=T(Yt);return function(ve,Te){var we=T(Te),Se=T(ve)*we,or=f(ve)*we,fr=f(Te);return[L(or,Se*se-fr*Zt),M(fr*se+Se*Zt)]}}function Ln(){var Yt=0,Zt=(0,E.U)(sn),se=Zt(Yt),ve=se.rotate,Te=se.stream,we=(0,En.c)();return se.parallel=function(Se){if(!arguments.length)return Yt*C;var or=se.rotate();return Zt(Yt=Se*u).rotate(or)},se.rotate=function(Se){return arguments.length?(ve.call(se,[Se[0],Se[1]-Yt*C]),we.center([-Se[0],-Se[1]]),se):(Se=ve.call(se),Se[1]+=Yt*C,Se)},se.stream=function(Se){return Se=Te(Se),Se.sphere=function(){Se.polygonStart();var or=.01,fr=we.radius(90-or)().coordinates[0],Qe=fr.length-1,yr=-1,Tr;for(Se.lineStart();++yr<Qe;)Se.point((Tr=fr[yr])[0],Tr[1]);for(Se.lineEnd(),fr=we.radius(90+or)().coordinates[0],Qe=fr.length-1,Se.lineStart();--yr>=0;)Se.point((Tr=fr[yr])[0],Tr[1]);Se.lineEnd(),Se.polygonEnd()},Se},se.scale(79.4187).parallel(45).clipAngle(179.999)}var qn=t(84706),ii=t(16016),Li=3,dr=M(1-1/Li)*C,Sr=ge(0);function gr(Yt){var Zt=dr*u,se=bt(a,Zt)[0]-bt(-a,Zt)[0],ve=Sr(0,Zt)[1],Te=bt(0,Zt)[1],we=y-Te,Se=A/Yt,or=4/A,fr=ve+we*we*4/A;function Qe(yr,Tr){var Or,Zr=S(Tr);if(Zr>Zt){var pn=l(Yt-1,e(0,d((yr+a)/Se)));yr+=a*(Yt-1)/Yt-pn*Se,Or=bt(yr,Zr),Or[0]=Or[0]*A/se-A*(Yt-1)/(2*Yt)+pn*A/Yt,Or[1]=ve+(Or[1]-Te)*4*we/A,Tr<0&&(Or[1]=-Or[1])}else Or=Sr(yr,Tr);return Or[0]*=or,Or[1]/=fr,Or}return Qe.invert=function(yr,Tr){yr/=or,Tr*=fr;var Or=S(Tr);if(Or>ve){var Zr=l(Yt-1,e(0,d((yr+a)/Se)));yr=(yr+a*(Yt-1)/Yt-Zr*Se)*se/A;var pn=bt.invert(yr,.25*(Or-ve)*A/we+Te);return pn[0]-=a*(Yt-1)/Yt-Zr*Se,Tr<0&&(pn[1]=-pn[1]),pn}return Sr.invert(yr,Tr)},Qe}function Pr(Yt,Zt){return[Yt,Zt&1?90-h:dr]}function fn(Yt,Zt){return[Yt,Zt&1?-90+h:-dr]}function wn(Yt){return[Yt[0]*(1-h),Yt[1]]}function un(Yt){var Zt=[].concat((0,qn.ik)(-180,180+Yt/2,Yt).map(Pr),(0,qn.ik)(180,-180-Yt/2,-Yt).map(fn));return{type:"Polygon",coordinates:[Yt===180?Zt.map(wn):Zt]}}function tn(){var Yt=4,Zt=(0,E.U)(gr),se=Zt(Yt),ve=se.stream;return se.lobes=function(Te){return arguments.length?Zt(Yt=+Te):Yt},se.stream=function(Te){var we=se.rotate(),Se=ve(Te),or=(se.rotate([0,0]),ve(Te));return se.rotate(we),Se.sphere=function(){(0,ii.c)(un(180/Yt),or)},Se},se.scale(239.75)}function xr(Yt){var Zt=1+Yt,se=f(1/Zt),ve=M(se),Te=2*z(a/(we=a+4*ve*Zt)),we,Se=.5*Te*(Zt+z(Yt*(2+Yt))),or=Yt*Yt,fr=Zt*Zt;function Qe(yr,Tr){var Or=1-f(Tr),Zr,pn;if(Or&&Or<2){var _n=c-Tr,Tn=25,jn;do{var wi=f(_n),Ai=T(_n),Mi=ve+L(wi,Zt-Ai),Ci=1+fr-2*Zt*Ai;_n-=jn=(_n-or*ve-Zt*wi+Ci*Mi-.5*Or*we)/(2*Zt*wi*Mi)}while(S(jn)>_&&--Tn>0);Zr=Te*z(Ci),pn=yr*Mi/a}else Zr=Te*(Yt+Or),pn=yr*ve/a;return[Zr*f(pn),Se-Zr*T(pn)]}return Qe.invert=function(yr,Tr){var Or=yr*yr+(Tr-=Se)*Tr,Zr=(1+fr-Or/(Te*Te))/(2*Zt),pn=w(Zr),_n=f(pn),Tn=ve+L(_n,Zt-Zr);return[M(yr/z(Or))*a/Tn,M(1-2*(pn-or*ve-Zt*_n+(1+fr-2*Zt*Zr)*Tn)/we)]},Qe}function jr(){var Yt=1,Zt=(0,E.U)(xr),se=Zt(Yt);return se.ratio=function(ve){return arguments.length?Zt(Yt=+ve):Yt},se.scale(167.774).center([0,18.67])}var Fr=.7109889596207567,Wr=.0528035274542;function mn(Yt,Zt){return Zt>-Fr?(Yt=At(Yt,Zt),Yt[1]+=Wr,Yt):pe(Yt,Zt)}mn.invert=function(Yt,Zt){return Zt>-Fr?At.invert(Yt,Zt-Wr):pe.invert(Yt,Zt)};function kn(){return(0,E.c)(mn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function xn(Yt,Zt){return S(Zt)>Fr?(Yt=At(Yt,Zt),Yt[1]-=Zt>0?Wr:-Wr,Yt):pe(Yt,Zt)}xn.invert=function(Yt,Zt){return S(Zt)>Fr?At.invert(Yt,Zt+(Zt>0?Wr:-Wr)):pe.invert(Yt,Zt)};function Rn(){return(0,E.c)(xn).scale(152.63)}function Sn(Yt,Zt,se,ve){var Te=z(4*a/(2*se+(1+Yt-Zt/2)*f(2*se)+(Yt+Zt)/2*f(4*se)+Zt/2*f(6*se))),we=z(ve*f(se)*z((1+Yt*T(2*se)+Zt*T(4*se))/(1+Yt+Zt))),Se=se*fr(1);function or(Tr){return z(1+Yt*T(2*Tr)+Zt*T(4*Tr))}function fr(Tr){var Or=Tr*se;return(2*Or+(1+Yt-Zt/2)*f(2*Or)+(Yt+Zt)/2*f(4*Or)+Zt/2*f(6*Or))/se}function Qe(Tr){return or(Tr)*f(Tr)}var yr=function(Tr,Or){var Zr=se*yt(fr,Se*f(Or)/se,Or/a);isNaN(Zr)&&(Zr=se*o(Or));var pn=Te*or(Zr);return[pn*we*Tr/a*T(Zr),pn/we*f(Zr)]};return yr.invert=function(Tr,Or){var Zr=yt(Qe,Or*we/Te);return[Tr*a/(T(Zr)*Te*we*or(Zr)),M(se*fr(Zr/se)/Se)]},se===0&&(Te=z(ve/a),yr=function(Tr,Or){return[Tr*Te,f(Or)/Te]},yr.invert=function(Tr,Or){return[Tr/Te,M(Or*Te)]}),yr}function ri(){var Yt=1,Zt=0,se=45*u,ve=2,Te=(0,E.U)(Sn),we=Te(Yt,Zt,se,ve);return we.a=function(Se){return arguments.length?Te(Yt=+Se,Zt,se,ve):Yt},we.b=function(Se){return arguments.length?Te(Yt,Zt=+Se,se,ve):Zt},we.psiMax=function(Se){return arguments.length?Te(Yt,Zt,se=+Se*u,ve):se*C},we.ratio=function(Se){return arguments.length?Te(Yt,Zt,se,ve=+Se):ve},we.scale(180.739)}function $n(Yt,Zt,se,ve,Te,we,Se,or,fr,Qe,yr){if(yr.nanEncountered)return NaN;var Tr,Or,Zr,pn,_n,Tn,jn,wi,Ai,Mi;if(Tr=se-Zt,Or=Yt(Zt+Tr*.25),Zr=Yt(se-Tr*.25),isNaN(Or)){yr.nanEncountered=!0;return}if(isNaN(Zr)){yr.nanEncountered=!0;return}return pn=Tr*(ve+4*Or+Te)/12,_n=Tr*(Te+4*Zr+we)/12,Tn=pn+_n,Mi=(Tn-Se)/15,Qe>fr?(yr.maxDepthCount++,Tn+Mi):Math.abs(Mi)<or?Tn+Mi:(jn=Zt+Tr*.5,wi=$n(Yt,Zt,jn,ve,Or,Te,pn,or*.5,fr,Qe+1,yr),isNaN(wi)?(yr.nanEncountered=!0,NaN):(Ai=$n(Yt,jn,se,Te,Zr,we,_n,or*.5,fr,Qe+1,yr),isNaN(Ai)?(yr.nanEncountered=!0,NaN):wi+Ai))}function oi(Yt,Zt,se,ve,Te){var we={maxDepthCount:0,nanEncountered:!1};ve===void 0&&(ve=1e-8),Te===void 0&&(Te=20);var Se=Yt(Zt),or=Yt(.5*(Zt+se)),fr=Yt(se),Qe=(Se+4*or+fr)*(se-Zt)/6,yr=$n(Yt,Zt,se,Se,or,fr,Qe,ve,Te,1,we);return yr}function _i(Yt,Zt,se){function ve(Zr){return Yt+(1-Yt)*n(1-n(Zr,Zt),1/Zt)}function Te(Zr){return oi(ve,0,Zr,1e-4)}for(var we=1/Te(1),Se=1e3,or=1.00000001*we,fr=[],Qe=0;Qe<=Se;Qe++)fr.push(Te(Qe/Se)*or);function yr(Zr){var pn=0,_n=Se,Tn=Se>>1;do fr[Tn]>Zr?_n=Tn:pn=Tn,Tn=pn+_n>>1;while(Tn>pn);var jn=fr[Tn+1]-fr[Tn];return jn&&(jn=(Zr-fr[Tn+1])/jn),(Tn+1+jn)/Se}var Tr=2*yr(1)/a*we/se,Or=function(Zr,pn){var _n=yr(S(f(pn))),Tn=ve(_n)*Zr;return _n/=Tr,[Tn,pn>=0?_n:-_n]};return Or.invert=function(Zr,pn){var _n;return pn*=Tr,S(pn)<1&&(_n=o(pn)*M(Te(S(pn))*we)),[Zr/ve(S(pn)),_n]},Or}function ta(){var Yt=0,Zt=2.5,se=1.183136,ve=(0,E.U)(_i),Te=ve(Yt,Zt,se);return Te.alpha=function(we){return arguments.length?ve(Yt=+we,Zt,se):Yt},Te.k=function(we){return arguments.length?ve(Yt,Zt=+we,se):Zt},Te.gamma=function(we){return arguments.length?ve(Yt,Zt,se=+we):se},Te.scale(152.63)}function Gi(Yt,Zt){return S(Yt[0]-Zt[0])<h&&S(Yt[1]-Zt[1])<h}function oo(Yt,Zt){for(var se=-1,ve=Yt.length,Te=Yt[0],we,Se,or,fr=[];++se<ve;){we=Yt[se],Se=(we[0]-Te[0])/Zt,or=(we[1]-Te[1])/Zt;for(var Qe=0;Qe<Zt;++Qe)fr.push([Te[0]+Qe*Se,Te[1]+Qe*or]);Te=we}return fr.push(we),fr}function $a(Yt){var Zt=[],se,ve,Te,we,Se,or,fr,Qe=Yt[0].length;for(fr=0;fr<Qe;++fr)se=Yt[0][fr],ve=se[0][0],Te=se[0][1],we=se[1][1],Se=se[2][0],or=se[2][1],Zt.push(oo([[ve+h,Te+h],[ve+h,we-h],[Se-h,we-h],[Se-h,or+h]],30));for(fr=Yt[1].length-1;fr>=0;--fr)se=Yt[1][fr],ve=se[0][0],Te=se[0][1],we=se[1][1],Se=se[2][0],or=se[2][1],Zt.push(oo([[Se-h,or-h],[Se-h,we+h],[ve+h,we+h],[ve+h,Te-h]],30));return{type:"Polygon",coordinates:[(0,qn.Uf)(Zt)]}}function za(Yt,Zt,se){var ve,Te;function we(fr,Qe){for(var yr=Qe<0?-1:1,Tr=Zt[+(Qe<0)],Or=0,Zr=Tr.length-1;Or<Zr&&fr>Tr[Or][2][0];++Or);var pn=Yt(fr-Tr[Or][1][0],Qe);return pn[0]+=Yt(Tr[Or][1][0],yr*Qe>yr*Tr[Or][0][1]?Tr[Or][0][1]:Qe)[0],pn}se?we.invert=se(we):Yt.invert&&(we.invert=function(fr,Qe){for(var yr=Te[+(Qe<0)],Tr=Zt[+(Qe<0)],Or=0,Zr=yr.length;Or<Zr;++Or){var pn=yr[Or];if(pn[0][0]<=fr&&fr<pn[1][0]&&pn[0][1]<=Qe&&Qe<pn[1][1]){var _n=Yt.invert(fr-Yt(Tr[Or][1][0],0)[0],Qe);return _n[0]+=Tr[Or][1][0],Gi(we(_n[0],_n[1]),[fr,Qe])?_n:null}}});var Se=(0,E.c)(we),or=Se.stream;return Se.stream=function(fr){var Qe=Se.rotate(),yr=or(fr),Tr=(Se.rotate([0,0]),or(fr));return Se.rotate(Qe),yr.sphere=function(){(0,ii.c)(ve,Tr)},yr},Se.lobes=function(fr){return arguments.length?(ve=$a(fr),Zt=fr.map(function(Qe){return Qe.map(function(yr){return[[yr[0][0]*u,yr[0][1]*u],[yr[1][0]*u,yr[1][1]*u],[yr[2][0]*u,yr[2][1]*u]]})}),Te=Zt.map(function(Qe){return Qe.map(function(yr){var Tr=Yt(yr[0][0],yr[0][1])[0],Or=Yt(yr[2][0],yr[2][1])[0],Zr=Yt(yr[1][0],yr[0][1])[1],pn=Yt(yr[1][0],yr[1][1])[1],_n;return Zr>pn&&(_n=Zr,Zr=pn,pn=_n),[[Tr,Zr],[Or,pn]]})}),Se):Zt.map(function(Qe){return Qe.map(function(yr){return[[yr[0][0]*C,yr[0][1]*C],[yr[1][0]*C,yr[1][1]*C],[yr[2][0]*C,yr[2][1]*C]]})})},Zt!=null&&Se.lobes(Zt),Se}var Ts=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Yl(){return za(Nt,Ts).scale(160.857)}var du=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qi(){return za(xn,du).scale(152.63)}var Ws=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Gl(){return za(At,Ws).scale(169.529)}var Sa=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Va(){return za(At,Sa).scale(169.529).rotate([20,0])}var ks=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function bl(){return za(mn,ks,xt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ma=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Ms(){return za(pe,ma).scale(152.63).rotate([-20,0])}function ba(Yt,Zt){return[3/A*Yt*z(a*a/3-Zt*Zt),Zt]}ba.invert=function(Yt,Zt){return[A/3*Yt/z(a*a/3-Zt*Zt),Zt]};function ka(){return(0,E.c)(ba).scale(158.837)}function Es(Yt){function Zt(se,ve){if(S(S(ve)-c)<h)return[0,ve<0?-2:2];var Te=f(ve),we=n((1+Te)/(1-Te),Yt/2),Se=.5*(we+1/we)+T(se*=Yt);return[2*f(se)/Se,(we-1/we)/Se]}return Zt.invert=function(se,ve){var Te=S(ve);if(S(Te-2)<h)return se?null:[0,o(ve)*c];if(Te>2)return null;se/=2,ve/=2;var we=se*se,Se=ve*ve,or=2*ve/(1+we+Se);return or=n((1+or)/(1-or),1/Yt),[L(2*se,1-we-Se)/Yt,M((or-1)/(or+1))]},Zt}function Ia(){var Yt=.5,Zt=(0,E.U)(Es),se=Zt(Yt);return se.spacing=function(ve){return arguments.length?Zt(Yt=+ve):Yt},se.scale(124.75)}var Fa=a/k;function so(Yt,Zt){return[Yt*(1+z(T(Zt)))/2,Zt/(T(Zt/2)*T(Yt/6))]}so.invert=function(Yt,Zt){var se=S(Yt),ve=S(Zt),Te=h,we=c;ve<Fa?we*=ve/Fa:Te+=6*w(Fa/ve);for(var Se=0;Se<25;Se++){var or=f(we),fr=z(T(we)),Qe=f(we/2),yr=T(we/2),Tr=f(Te/6),Or=T(Te/6),Zr=.5*Te*(1+fr)-se,pn=we/(yr*Or)-ve,_n=fr?-.25*Te*or/fr:0,Tn=.5*(1+fr),jn=(1+.5*we*Qe/yr)/(yr*Or),wi=we/yr*(Tr/6)/(Or*Or),Ai=_n*wi-jn*Tn,Mi=(Zr*wi-pn*Tn)/Ai,Ci=(pn*_n-Zr*jn)/Ai;if(we-=Mi,Te-=Ci,S(Mi)<h&&S(Ci)<h)break}return[Yt<0?-Te:Te,Zt<0?-we:we]};function vu(){return(0,E.c)(so).scale(97.2672)}function Qa(Yt,Zt){var se=Yt*Yt,ve=Zt*Zt;return[Yt*(.975534+ve*(-.119161+se*-.0143059+ve*-.0547009)),Zt*(1.00384+se*(.0802894+ve*-.02855+se*199025e-9)+ve*(.0998909+ve*-.0491032))]}Qa.invert=function(Yt,Zt){var se=o(Yt)*a,ve=Zt/2,Te=50;do{var we=se*se,Se=ve*ve,or=se*ve,fr=se*(.975534+Se*(-.119161+we*-.0143059+Se*-.0547009))-Yt,Qe=ve*(1.00384+we*(.0802894+Se*-.02855+we*199025e-9)+Se*(.0998909+Se*-.0491032))-Zt,yr=.975534-Se*(.119161+3*we*.0143059+Se*.0547009),Tr=-or*(2*.119161+4*.0547009*Se+2*.0143059*we),Or=or*(2*.0802894+4*199025e-9*we+2*-.02855*Se),Zr=1.00384+we*(.0802894+199025e-9*we)+Se*(3*(.0998909-.02855*we)-5*.0491032*Se),pn=Tr*Or-Zr*yr,_n=(Qe*Tr-fr*Zr)/pn,Tn=(fr*Or-Qe*yr)/pn;se-=_n,ve-=Tn}while((S(_n)>h||S(Tn)>h)&&--Te>0);return Te&&[se,ve]};function Ku(){return(0,E.c)(Qa).scale(139.98)}function Ro(Yt,Zt){return[f(Yt)/T(Zt),b(Zt)*T(Yt)]}Ro.invert=function(Yt,Zt){var se=Yt*Yt,ve=Zt*Zt,Te=ve+1,we=se+Te,Se=Yt?x*z((we-z(we*we-4*se))/se):1/z(Te);return[M(Yt*Se),o(Zt)*w(Se)]};function Ca(){return(0,E.c)(Ro).scale(144.049).clipAngle(89.999)}function Hl(Yt){var Zt=T(Yt),se=b(p+Yt/2);function ve(Te,we){var Se=we-Yt,or=S(Se)<h?Te*Zt:S(or=p+we/2)<h||S(S(or)-c)<h?0:Te*Se/r(b(or)/se);return[or,Se]}return ve.invert=function(Te,we){var Se,or=we+Yt;return[S(we)<h?Te/Zt:S(Se=p+or/2)<h||S(S(Se)-c)<h?0:Te*r(b(Se)/se)/we,or]},ve}function ts(){return Gt(Hl).parallel(40).scale(158.837)}function Oo(Yt,Zt){return[Yt,1.25*r(b(p+.4*Zt))]}Oo.invert=function(Yt,Zt){return[Yt,2.5*i(v(.8*Zt))-.625*a]};function Wl(){return(0,E.c)(Oo).scale(108.318)}function gu(Yt){var Zt=Yt.length-1;function se(ve,Te){for(var we=T(Te),Se=2/(1+we*T(ve)),or=Se*we*f(ve),fr=Se*f(Te),Qe=Zt,yr=Yt[Qe],Tr=yr[0],Or=yr[1],Zr;--Qe>=0;)yr=Yt[Qe],Tr=yr[0]+or*(Zr=Tr)-fr*Or,Or=yr[1]+or*Or+fr*Zr;return Tr=or*(Zr=Tr)-fr*Or,Or=or*Or+fr*Zr,[Tr,Or]}return se.invert=function(ve,Te){var we=20,Se=ve,or=Te;do{for(var fr=Zt,Qe=Yt[fr],yr=Qe[0],Tr=Qe[1],Or=0,Zr=0,pn;--fr>=0;)Qe=Yt[fr],Or=yr+Se*(pn=Or)-or*Zr,Zr=Tr+Se*Zr+or*pn,yr=Qe[0]+Se*(pn=yr)-or*Tr,Tr=Qe[1]+Se*Tr+or*pn;Or=yr+Se*(pn=Or)-or*Zr,Zr=Tr+Se*Zr+or*pn,yr=Se*(pn=yr)-or*Tr-ve,Tr=Se*Tr+or*pn-Te;var _n=Or*Or+Zr*Zr,Tn,jn;Se-=Tn=(yr*Or+Tr*Zr)/_n,or-=jn=(Tr*Or-yr*Zr)/_n}while(S(Tn)+S(jn)>h*h&&--we>0);if(we){var wi=z(Se*Se+or*or),Ai=2*i(wi*.5),Mi=f(Ai);return[L(Se*Mi,wi*T(Ai)),wi?M(or*Mi/wi):0]}},se}var Ju=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],_l=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],$u=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Qu=[[.9245,0],[0,0],[.01943,0]],tc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Xl(){return ps(Ju,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ec(){return ps(_l,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function rc(){return ps($u,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function mu(){return ps(Qu,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function yu(){return ps(tc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ps(Yt,Zt){var se=(0,E.c)(gu(Yt)).rotate(Zt).clipAngle(90),ve=(0,$t.c)(Zt),Te=se.center;return delete se.rotate,se.center=function(we){return arguments.length?Te(ve(we)):ve.invert(Te())},se}var Ls=z(6),Xs=z(7);function Vs(Yt,Zt){var se=M(7*f(Zt)/(3*Ls));return[Ls*Yt*(2*T(2*se/3)-1)/Xs,9*f(se/3)/Xs]}Vs.invert=function(Yt,Zt){var se=3*M(Zt*Xs/9);return[Yt*Xs/(Ls*(2*T(2*se/3)-1)),M(f(se)*3*Ls/7)]};function xu(){return(0,E.c)(Vs).scale(164.859)}function jo(Yt,Zt){for(var se=(1+x)*f(Zt),ve=Zt,Te=0,we;Te<25&&(ve-=we=(f(ve/2)+f(ve)-se)/(.5*T(ve/2)+T(ve)),!(S(we)<h));Te++);return[Yt*(1+2*T(ve)/T(ve/2))/(3*k),2*z(3)*f(ve/2)/z(2+k)]}jo.invert=function(Yt,Zt){var se=Zt*z(2+k)/(2*z(3)),ve=2*M(se);return[3*k*Yt/(1+2*T(ve)/T(ve/2)),M((se+f(ve))/(1+x))]};function nc(){return(0,E.c)(jo).scale(188.209)}function wl(Yt,Zt){for(var se=z(6/(4+a)),ve=(1+a/4)*f(Zt),Te=Zt/2,we=0,Se;we<25&&(Te-=Se=(Te/2+f(Te)-ve)/(.5+T(Te)),!(S(Se)<h));we++);return[se*(.5+T(Te))*Yt/1.5,se*Te]}wl.invert=function(Yt,Zt){var se=z(6/(4+a)),ve=Zt/se;return S(S(ve)-c)<h&&(ve=ve<0?-c:c),[1.5*Yt/(se*(.5+T(ve))),M((ve/2+f(ve))/(1+a/4))]};function bu(){return(0,E.c)(wl).scale(166.518)}var _u=t(47984);function Al(Yt,Zt){var se=Zt*Zt,ve=se*se,Te=se*ve;return[Yt*(.84719-.13063*se+Te*Te*(-.04515+.05494*se-.02326*ve+.00331*Te)),Zt*(1.01183+ve*ve*(-.02625+.01926*se-.00396*ve))]}Al.invert=function(Yt,Zt){var se=Zt,ve=25,Te,we,Se,or;do we=se*se,Se=we*we,se-=Te=(se*(1.01183+Se*Se*(-.02625+.01926*we-.00396*Se))-Zt)/(1.01183+Se*Se*(-.23625+.21186*we+-.05148*Se));while(S(Te)>_&&--ve>0);return we=se*se,Se=we*we,or=we*Se,[Yt/(.84719-.13063*we+or*or*(-.04515+.05494*we-.02326*Se+.00331*or)),se]};function yo(){return(0,E.c)(Al).scale(175.295)}function Ss(Yt,Zt){return[Yt*(1+T(Zt))/2,2*(Zt-b(Zt/2))]}Ss.invert=function(Yt,Zt){for(var se=Zt/2,ve=0,Te=1/0;ve<10&&S(Te)>h;++ve){var we=T(Zt/2);Zt-=Te=(Zt-b(Zt/2)-se)/(1-.5/(we*we))}return[2*Yt/(1+T(Zt)),Zt]};function ds(){return(0,E.c)(Ss).scale(152.63)}var Zs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function es(){return za(Q(1/0),Zs).rotate([20,0]).scale(152.63)}function Po(Yt,Zt){var se=f(Zt),ve=T(Zt),Te=o(Yt);if(Yt===0||S(Zt)===c)return[0,Zt];if(Zt===0)return[Yt,0];if(S(Yt)===c)return[Yt*ve,c*se];var we=a/(2*Yt)-2*Yt/a,Se=2*Zt/a,or=(1-Se*Se)/(se-Se),fr=we*we,Qe=or*or,yr=1+fr/Qe,Tr=1+Qe/fr,Or=(we*se/or-we/2)/yr,Zr=(Qe*se/fr+or/2)/Tr,pn=Or*Or+ve*ve/yr,_n=Zr*Zr-(Qe*se*se/fr+or*se-1)/Tr;return[c*(Or+z(pn)*Te),c*(Zr+z(_n<0?0:_n)*o(-Zt*we)*Te)]}Po.invert=function(Yt,Zt){Yt/=c,Zt/=c;var se=Yt*Yt,ve=Zt*Zt,Te=se+ve,we=a*a;return[Yt?(Te-1+z((1-Te)*(1-Te)+4*se))/(2*Yt)*c:0,yt(function(Se){return Te*(a*f(Se)-2*Se)*a+4*Se*Se*(Zt-f(Se))+2*a*Se-we*Zt},0)]};function Vl(){return(0,E.c)(Po).scale(127.267)}var Cs=1.0148,xo=.23185,va=-.14499,Zl=.02406,ic=Cs,Tl=5*xo,Rs=7*va,Os=9*Zl,to=1.790857183;function kl(Yt,Zt){var se=Zt*Zt;return[Yt,Zt*(Cs+se*se*(xo+se*(va+Zl*se)))]}kl.invert=function(Yt,Zt){Zt>to?Zt=to:Zt<-to&&(Zt=-to);var se=Zt,ve;do{var Te=se*se;se-=ve=(se*(Cs+Te*Te*(xo+Te*(va+Zl*Te)))-Zt)/(ic+Te*Te*(Tl+Te*(Rs+Os*Te)))}while(S(ve)>h);return[Yt,se]};function Ps(){return(0,E.c)(kl).scale(139.319)}function Ml(Yt,Zt){if(S(Zt)<h)return[Yt,0];var se=b(Zt),ve=Yt*f(Zt);return[f(ve)/se,Zt+(1-T(ve))/se]}Ml.invert=function(Yt,Zt){if(S(Zt)<h)return[Yt,0];var se=Yt*Yt+Zt*Zt,ve=Zt*.5,Te=10,we;do{var Se=b(ve),or=1/T(ve),fr=se-2*Zt*ve+ve*ve;ve-=we=(Se*fr+2*(ve-Zt))/(2+fr*or*or+2*(ve-Zt)*Se)}while(S(we)>h&&--Te>0);return Se=b(ve),[(S(Zt)<S(ve+1/Se)?M(Yt*Se):o(Zt)*o(Yt)*(w(S(Yt*Se))+c))/f(ve),ve]};function ac(){return(0,E.c)(Ml).scale(103.74)}var wu=t(13696),Kl=t(27284);function Jl(Yt,Zt){var se=El(Yt[1],Yt[0]),ve=El(Zt[1],Zt[0]),Te=Ll(se,ve),we=Ks(se)/Ks(ve);return zs([1,0,Yt[0][0],0,1,Yt[0][1]],zs([we,0,0,0,we,0],zs([T(Te),f(Te),0,-f(Te),T(Te),0],[1,0,-Zt[0][0],0,1,-Zt[0][1]])))}function $l(Yt){var Zt=1/(Yt[0]*Yt[4]-Yt[1]*Yt[3]);return[Zt*Yt[4],-Zt*Yt[1],Zt*(Yt[1]*Yt[5]-Yt[2]*Yt[4]),-Zt*Yt[3],Zt*Yt[0],Zt*(Yt[2]*Yt[3]-Yt[0]*Yt[5])]}function zs(Yt,Zt){return[Yt[0]*Zt[0]+Yt[1]*Zt[3],Yt[0]*Zt[1]+Yt[1]*Zt[4],Yt[0]*Zt[2]+Yt[1]*Zt[5]+Yt[2],Yt[3]*Zt[0]+Yt[4]*Zt[3],Yt[3]*Zt[1]+Yt[4]*Zt[4],Yt[3]*Zt[2]+Yt[4]*Zt[5]+Yt[5]]}function El(Yt,Zt){return[Yt[0]-Zt[0],Yt[1]-Zt[1]]}function Ks(Yt){return z(Yt[0]*Yt[0]+Yt[1]*Yt[1])}function Ll(Yt,Zt){return L(Yt[0]*Zt[1]-Yt[1]*Zt[0],Yt[0]*Zt[0]+Yt[1]*Zt[1])}function ea(Yt,Zt,se){ve(Yt,{transform:null});function ve(Qe,yr){if(Qe.edges=Ql(Qe.face),yr.face){var Tr=Qe.shared=Tu(Qe.face,yr.face),Or=Jl(Tr.map(yr.project),Tr.map(Qe.project));Qe.transform=yr.transform?zs(yr.transform,Or):Or;for(var Zr=yr.edges,pn=0,_n=Zr.length;pn<_n;++pn)bo(Tr[0],Zr[pn][1])&&bo(Tr[1],Zr[pn][0])&&(Zr[pn]=Qe),bo(Tr[0],Zr[pn][0])&&bo(Tr[1],Zr[pn][1])&&(Zr[pn]=Qe);for(Zr=Qe.edges,pn=0,_n=Zr.length;pn<_n;++pn)bo(Tr[0],Zr[pn][0])&&bo(Tr[1],Zr[pn][1])&&(Zr[pn]=yr),bo(Tr[0],Zr[pn][1])&&bo(Tr[1],Zr[pn][0])&&(Zr[pn]=yr)}else Qe.transform=yr.transform;return Qe.children&&Qe.children.forEach(function(Tn){ve(Tn,Qe)}),Qe}function Te(Qe,yr){var Tr=Zt(Qe,yr),Or=Tr.project([Qe*C,yr*C]),Zr;return(Zr=Tr.transform)?[Zr[0]*Or[0]+Zr[1]*Or[1]+Zr[2],-(Zr[3]*Or[0]+Zr[4]*Or[1]+Zr[5])]:(Or[1]=-Or[1],Or)}vs(Yt)&&(Te.invert=function(Qe,yr){var Tr=we(Yt,[Qe,-yr]);return Tr&&(Tr[0]*=u,Tr[1]*=u,Tr)});function we(Qe,yr){var Tr=Qe.project.invert,Or=Qe.transform,Zr=yr;if(Or&&(Or=$l(Or),Zr=[Or[0]*Zr[0]+Or[1]*Zr[1]+Or[2],Or[3]*Zr[0]+Or[4]*Zr[1]+Or[5]]),Tr&&Qe===Se(pn=Tr(Zr)))return pn;for(var pn,_n=Qe.children,Tn=0,jn=_n&&_n.length;Tn<jn;++Tn)if(pn=we(_n[Tn],yr))return pn}function Se(Qe){return Zt(Qe[0]*u,Qe[1]*u)}var or=(0,E.c)(Te),fr=or.stream;return or.stream=function(Qe){var yr=or.rotate(),Tr=fr(Qe),Or=(or.rotate([0,0]),fr(Qe));return or.rotate(yr),Tr.sphere=function(){Or.polygonStart(),Or.lineStart(),Au(Or,Yt),Or.lineEnd(),Or.polygonEnd()},Tr},or.angle(se==null?-30:se*C)}function Au(Yt,Zt,se){var ve,Te=Zt.edges,we=Te.length,Se,or={type:"MultiPoint",coordinates:Zt.face},fr=Zt.face.filter(function(_n){return S(_n[1])!==90}),Qe=(0,wu.c)({type:"MultiPoint",coordinates:fr}),yr=!1,Tr=-1,Or=Qe[1][0]-Qe[0][0],Zr=Or===180||Or===360?[(Qe[0][0]+Qe[1][0])/2,(Qe[0][1]+Qe[1][1])/2]:(0,Ft.c)(or);if(se)for(;++Tr<we&&Te[Tr]!==se;);++Tr;for(var pn=0;pn<we;++pn)Se=Te[(pn+Tr)%we],Array.isArray(Se)?(yr||(Yt.point((ve=(0,Kl.c)(Se[0],Zr)(h))[0],ve[1]),yr=!0),Yt.point((ve=(0,Kl.c)(Se[1],Zr)(h))[0],ve[1])):(yr=!1,Se!==se&&Au(Yt,Se,Zt))}function bo(Yt,Zt){return Yt&&Zt&&Yt[0]===Zt[0]&&Yt[1]===Zt[1]}function Tu(Yt,Zt){for(var se,ve,Te=Yt.length,we=null,Se=0;Se<Te;++Se){se=Yt[Se];for(var or=Zt.length;--or>=0;)if(ve=Zt[or],se[0]===ve[0]&&se[1]===ve[1]){if(we)return[we,se];we=se}}}function Ql(Yt){for(var Zt=Yt.length,se=[],ve=Yt[Zt-1],Te=0;Te<Zt;++Te)se.push([ve,ve=Yt[Te]]);return se}function vs(Yt){return Yt.project.invert||Yt.children&&Yt.children.some(vs)}var rs=t(53285),Sl=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ya=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Yt){return Yt.map(function(Zt){return Sl[Zt]})});function Js(Yt){Yt=Yt||function(se){var ve=(0,Ft.c)({type:"MultiPoint",coordinates:se});return(0,rs.c)().scale(1).translate([0,0]).rotate([-ve[0],-ve[1]])};var Zt=ya.map(function(se){return{face:se,project:Yt(se)}});return[-1,0,0,1,0,1,4,5].forEach(function(se,ve){var Te=Zt[se];Te&&(Te.children||(Te.children=[])).push(Zt[ve])}),ea(Zt[0],function(se,ve){return Zt[se<-a/2?ve<0?6:4:se<0?ve<0?2:0:se<a/2?ve<0?3:1:ve<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var _o=2/z(3);function Uo(Yt,Zt){var se=bt(Yt,Zt);return[se[0]*_o,se[1]]}Uo.invert=function(Yt,Zt){return bt.invert(Yt/_o,Zt)};function gs(Yt){Yt=Yt||function(se){var ve=(0,Ft.c)({type:"MultiPoint",coordinates:se});return(0,E.c)(Uo).translate([0,0]).scale(1).rotate(ve[1]>0?[-ve[0],0]:[180-ve[0],180])};var Zt=ya.map(function(se){return{face:se,project:Yt(se)}});return[-1,0,0,1,0,1,4,5].forEach(function(se,ve){var Te=Zt[se];Te&&(Te.children||(Te.children=[])).push(Zt[ve])}),ea(Zt[0],function(se,ve){return Zt[se<-a/2?ve<0?6:4:se<0?ve<0?2:0:se<a/2?ve<0?3:1:ve<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ns(Yt){Yt=Yt||function(Se){var or=Se.length===6?(0,Ft.c)({type:"MultiPoint",coordinates:Se}):Se[0];return(0,rs.c)().scale(1).translate([0,0]).rotate([-or[0],-or[1]])};var Zt=ya.map(function(Se){for(var or=Se.map(fo),fr=or.length,Qe=or[fr-1],yr,Tr=[],Or=0;Or<fr;++Or)yr=or[Or],Tr.push(Ao([Qe[0]*.9486832980505138+yr[0]*.31622776601683794,Qe[1]*.9486832980505138+yr[1]*.31622776601683794,Qe[2]*.9486832980505138+yr[2]*.31622776601683794]),Ao([yr[0]*.9486832980505138+Qe[0]*.31622776601683794,yr[1]*.9486832980505138+Qe[1]*.31622776601683794,yr[2]*.9486832980505138+Qe[2]*.31622776601683794])),Qe=yr;return Tr}),se=[],ve=[-1,0,0,1,0,1,4,5];Zt.forEach(function(Se,or){for(var fr=ya[or],Qe=fr.length,yr=se[or]=[],Tr=0;Tr<Qe;++Tr)Zt.push([fr[Tr],Se[(Tr*2+2)%(2*Qe)],Se[(Tr*2+1)%(2*Qe)]]),ve.push(or),yr.push(qo(fo(Se[(Tr*2+2)%(2*Qe)]),fo(Se[(Tr*2+1)%(2*Qe)])))});var Te=Zt.map(function(Se){return{project:Yt(Se),face:Se}});ve.forEach(function(Se,or){var fr=Te[Se];fr&&(fr.children||(fr.children=[])).push(Te[or])});function we(Se,or){var fr=T(or),Qe=[fr*T(Se),fr*f(Se),f(or)],yr=Se<-a/2?or<0?6:4:Se<0?or<0?2:0:Se<a/2?or<0?3:1:or<0?7:5,Tr=se[yr];return Te[wo(Tr[0],Qe)<0?8+3*yr:wo(Tr[1],Qe)<0?8+3*yr+1:wo(Tr[2],Qe)<0?8+3*yr+2:yr]}return ea(Te[0],we).angle(-30).scale(110.625).center([0,45])}function wo(Yt,Zt){for(var se=0,ve=Yt.length,Te=0;se<ve;++se)Te+=Yt[se]*Zt[se];return Te}function qo(Yt,Zt){return[Yt[1]*Zt[2]-Yt[2]*Zt[1],Yt[2]*Zt[0]-Yt[0]*Zt[2],Yt[0]*Zt[1]-Yt[1]*Zt[0]]}function Ao(Yt){return[L(Yt[1],Yt[0])*C,M(e(-1,l(1,Yt[2])))*C]}function fo(Yt){var Zt=Yt[0]*u,se=Yt[1]*u,ve=T(se);return[ve*T(Zt),ve*f(Zt),f(se)]}function $s(){}function oc(Yt){if((se=Yt.length)<4)return!1;for(var Zt=0,se,ve=Yt[se-1][1]*Yt[0][0]-Yt[se-1][0]*Yt[0][1];++Zt<se;)ve+=Yt[Zt-1][1]*Yt[Zt][0]-Yt[Zt-1][0]*Yt[Zt][1];return ve<=0}function sc(Yt,Zt){for(var se=Zt[0],ve=Zt[1],Te=!1,we=0,Se=Yt.length,or=Se-1;we<Se;or=we++){var fr=Yt[we],Qe=fr[0],yr=fr[1],Tr=Yt[or],Or=Tr[0],Zr=Tr[1];yr>ve^Zr>ve&&se<(Or-Qe)*(ve-yr)/(Zr-yr)+Qe&&(Te=!Te)}return Te}function lc(Yt,Zt){var se=Zt.stream,ve;if(!se)throw new Error("invalid projection");switch(Yt&&Yt.type){case"Feature":ve=tu;break;case"FeatureCollection":ve=uc;break;default:ve=Is;break}return ve(Yt,se)}function uc(Yt,Zt){return{type:"FeatureCollection",features:Yt.features.map(function(se){return tu(se,Zt)})}}function tu(Yt,Zt){return{type:"Feature",id:Yt.id,properties:Yt.properties,geometry:Is(Yt.geometry,Zt)}}function ku(Yt,Zt){return{type:"GeometryCollection",geometries:Yt.geometries.map(function(se){return Is(se,Zt)})}}function Is(Yt,Zt){if(!Yt)return null;if(Yt.type==="GeometryCollection")return ku(Yt,Zt);var se;switch(Yt.type){case"Point":se=Fs;break;case"MultiPoint":se=Fs;break;case"LineString":se=Mu;break;case"MultiLineString":se=Mu;break;case"Polygon":se=Qs;break;case"MultiPolygon":se=Qs;break;case"Sphere":se=Qs;break;default:return null}return(0,ii.c)(Yt,Zt(se)),se.result()}var Ra=[],lo=[],Fs={point:function(Yt,Zt){Ra.push([Yt,Zt])},result:function(){var Yt=Ra.length?Ra.length<2?{type:"Point",coordinates:Ra[0]}:{type:"MultiPoint",coordinates:Ra}:null;return Ra=[],Yt}},Mu={lineStart:$s,point:function(Yt,Zt){Ra.push([Yt,Zt])},lineEnd:function(){Ra.length&&(lo.push(Ra),Ra=[])},result:function(){var Yt=lo.length?lo.length<2?{type:"LineString",coordinates:lo[0]}:{type:"MultiLineString",coordinates:lo}:null;return lo=[],Yt}},Qs={polygonStart:$s,lineStart:$s,point:function(Yt,Zt){Ra.push([Yt,Zt])},lineEnd:function(){var Yt=Ra.length;if(Yt){do Ra.push(Ra[0].slice());while(++Yt<4);lo.push(Ra),Ra=[]}},polygonEnd:$s,result:function(){if(!lo.length)return null;var Yt=[],Zt=[];return lo.forEach(function(se){oc(se)?Yt.push([se]):Zt.push(se)}),Zt.forEach(function(se){var ve=se[0];Yt.some(function(Te){if(sc(Te[0],ve))return Te.push(se),!0})||Yt.push([se])}),lo=[],Yt.length?Yt.length>1?{type:"MultiPolygon",coordinates:Yt}:{type:"Polygon",coordinates:Yt[0]}:null}};function Yo(Yt){var Zt=Yt(c,0)[0]-Yt(-c,0)[0];function se(ve,Te){var we=S(ve)<c,Se=Yt(we?ve:ve>0?ve-a:ve+a,Te),or=(Se[0]-Se[1])*x,fr=(Se[0]+Se[1])*x;if(we)return[or,fr];var Qe=Zt*x,yr=or>0^fr>0?-1:1;return[yr*or-o(fr)*Qe,yr*fr-o(or)*Qe]}return Yt.invert&&(se.invert=function(ve,Te){var we=(ve+Te)*x,Se=(Te-ve)*x,or=S(we)<.5*Zt&&S(Se)<.5*Zt;if(!or){var fr=Zt*x,Qe=we>0^Se>0?-1:1,yr=-Qe*ve+(Se>0?1:-1)*fr,Tr=-Qe*Te+(we>0?1:-1)*fr;we=(-yr-Tr)*x,Se=(yr-Tr)*x}var Or=Yt.invert(we,Se);return or||(Or[0]+=we>0?a:-a),Or}),(0,E.c)(se).rotate([-90,-90,45]).clipAngle(179.999)}function cc(){return Yo(gn).scale(176.423)}function Eu(){return Yo(ur).scale(111.48)}function Lu(Yt,Zt){if(!(0<=(Zt=+Zt)&&Zt<=20))throw new Error("invalid digits");function se(Qe){var yr=Qe.length,Tr=2,Or=new Array(yr);for(Or[0]=+Qe[0].toFixed(Zt),Or[1]=+Qe[1].toFixed(Zt);Tr<yr;)Or[Tr]=Qe[Tr],++Tr;return Or}function ve(Qe){return Qe.map(se)}function Te(Qe){for(var yr=se(Qe[0]),Tr=[yr],Or=1;Or<Qe.length;Or++){var Zr=se(Qe[Or]);(Zr.length>2||Zr[0]!=yr[0]||Zr[1]!=yr[1])&&(Tr.push(Zr),yr=Zr)}return Tr.length===1&&Qe.length>1&&Tr.push(se(Qe[Qe.length-1])),Tr}function we(Qe){return Qe.map(Te)}function Se(Qe){if(Qe==null)return Qe;var yr;switch(Qe.type){case"GeometryCollection":yr={type:"GeometryCollection",geometries:Qe.geometries.map(Se)};break;case"Point":yr={type:"Point",coordinates:se(Qe.coordinates)};break;case"MultiPoint":yr={type:Qe.type,coordinates:ve(Qe.coordinates)};break;case"LineString":yr={type:Qe.type,coordinates:Te(Qe.coordinates)};break;case"MultiLineString":case"Polygon":yr={type:Qe.type,coordinates:we(Qe.coordinates)};break;case"MultiPolygon":yr={type:"MultiPolygon",coordinates:Qe.coordinates.map(we)};break;default:return Qe}return Qe.bbox!=null&&(yr.bbox=Qe.bbox),yr}function or(Qe){var yr={type:"Feature",properties:Qe.properties,geometry:Se(Qe.geometry)};return Qe.id!=null&&(yr.id=Qe.id),Qe.bbox!=null&&(yr.bbox=Qe.bbox),yr}if(Yt!=null)switch(Yt.type){case"Feature":return or(Yt);case"FeatureCollection":{var fr={type:"FeatureCollection",features:Yt.features.map(or)};return Yt.bbox!=null&&(fr.bbox=Yt.bbox),fr}default:return Se(Yt)}return Yt}function eu(Yt){var Zt=f(Yt);function se(ve,Te){var we=Zt?b(ve*Zt/2)/Zt:ve/2;if(!Te)return[2*we,-Yt];var Se=2*i(we*f(Te)),or=1/b(Te);return[f(Se)*or,Te+(1-T(Se))*or-Yt]}return se.invert=function(ve,Te){if(S(Te+=Yt)<h)return[Zt?2*i(Zt*ve/2)/Zt:ve,0];var we=ve*ve+Te*Te,Se=0,or=10,fr;do{var Qe=b(Se),yr=1/T(Se),Tr=we-2*Te*Se+Se*Se;Se-=fr=(Qe*Tr+2*(Se-Te))/(2+Tr*yr*yr+2*(Se-Te)*Qe)}while(S(fr)>h&&--or>0);var Or=ve*(Qe=b(Se)),Zr=b(S(Te)<S(Se+1/Qe)?M(Or)*.5:w(Or)*.5+a/4)/f(Se);return[Zt?2*i(Zt*Zr)/Zt:2*Zr,Se]},se}function Su(){return Gt(eu).scale(131.215)}var Za=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Za.forEach(function(Yt){Yt[1]*=1.0144});function To(Yt,Zt){var se=l(18,S(Zt)*36/a),ve=d(se),Te=se-ve,we=(Tr=Za[ve])[0],Se=Tr[1],or=(Tr=Za[++ve])[0],fr=Tr[1],Qe=(Tr=Za[l(19,++ve)])[0],yr=Tr[1],Tr;return[Yt*(or+Te*(Qe-we)/2+Te*Te*(Qe-2*or+we)/2),(Zt>0?c:-c)*(fr+Te*(yr-Se)/2+Te*Te*(yr-2*fr+Se)/2)]}To.invert=function(Yt,Zt){var se=Zt/c,ve=se*90,Te=l(18,S(ve/5)),we=e(0,d(Te));do{var Se=Za[we][1],or=Za[we+1][1],fr=Za[l(19,we+2)][1],Qe=fr-Se,yr=fr-2*or+Se,Tr=2*(S(se)-or)/Qe,Or=yr/Qe,Zr=Tr*(1-Or*Tr*(1-2*Or*Tr));if(Zr>=0||we===1){ve=(Zt>=0?5:-5)*(Zr+Te);var pn=50,_n;do Te=l(18,S(ve)/5),we=d(Te),Zr=Te-we,Se=Za[we][1],or=Za[we+1][1],fr=Za[l(19,we+2)][1],ve-=(_n=(Zt>=0?c:-c)*(or+Zr*(fr-Se)/2+Zr*Zr*(fr-2*or+Se)/2)-Zt)*C;while(S(_n)>_&&--pn>0);break}}while(--we>=0);var Tn=Za[we][0],jn=Za[we+1][0],wi=Za[l(19,we+2)][0];return[Yt/(jn+Zr*(wi-Tn)/2+Zr*Zr*(wi-2*jn+Tn)/2),ve*u]};function is(){return(0,E.c)(To).scale(152.63)}function Ds(Yt){function Zt(se,ve){var Te=T(ve),we=(Yt-1)/(Yt-Te*T(se));return[we*Te*f(se),we*f(ve)]}return Zt.invert=function(se,ve){var Te=se*se+ve*ve,we=z(Te),Se=(Yt-z(1-Te*(Yt+1)/(Yt-1)))/((Yt-1)/we+we/(Yt-1));return[L(se*Se,we*z(1-Se*Se)),we?M(ve*Se/we):0]},Zt}function Cl(Yt,Zt){var se=Ds(Yt);if(!Zt)return se;var ve=T(Zt),Te=f(Zt);function we(Se,or){var fr=se(Se,or),Qe=fr[1],yr=Qe*Te/(Yt-1)+ve;return[fr[0]*ve/yr,Qe/yr]}return we.invert=function(Se,or){var fr=(Yt-1)/(Yt-1-or*Te);return se.invert(fr*Se,fr*or*ve)},we}function ms(){var Yt=2,Zt=0,se=(0,E.U)(Cl),ve=se(Yt,Zt);return ve.distance=function(Te){return arguments.length?se(Yt=+Te,Zt):Yt},ve.tilt=function(Te){return arguments.length?se(Yt,Zt=Te*u):Zt*C},ve.scale(432.147).clipAngle(w(1/Yt)*C-1e-6)}var ys=1e-4,Cu=1e4,Go=-180,Ns=Go+ys,as=180,Ho=as-ys,tl=-90,Bs=tl+ys,Ji=90,js=Ji-ys;function Rl(Yt){return Yt.length>0}function Ru(Yt){return Math.floor(Yt*Cu)/Cu}function Us(Yt){return Yt===tl||Yt===Ji?[0,Yt]:[Go,Ru(Yt)]}function el(Yt){var Zt=Yt[0],se=Yt[1],ve=!1;return Zt<=Ns?(Zt=Go,ve=!0):Zt>=Ho&&(Zt=as,ve=!0),se<=Bs?(se=tl,ve=!0):se>=js&&(se=Ji,ve=!0),ve?[Zt,se]:Yt}function Ol(Yt){return Yt.map(el)}function ru(Yt,Zt,se){for(var ve=0,Te=Yt.length;ve<Te;++ve){var we=Yt[ve].slice();se.push({index:-1,polygon:Zt,ring:we});for(var Se=0,or=we.length;Se<or;++Se){var fr=we[Se],Qe=fr[0],yr=fr[1];if(Qe<=Ns||Qe>=Ho||yr<=Bs||yr>=js){we[Se]=el(fr);for(var Tr=Se+1;Tr<or;++Tr){var Or=we[Tr],Zr=Or[0],pn=Or[1];if(Zr>Ns&&Zr<Ho&&pn>Bs&&pn<js)break}if(Tr===Se+1)continue;if(Se){var _n={index:-1,polygon:Zt,ring:we.slice(0,Se+1)};_n.ring[_n.ring.length-1]=Us(yr),se[se.length-1]=_n}else se.pop();if(Tr>=or)break;se.push({index:-1,polygon:Zt,ring:we=we.slice(Tr-1)}),we[0]=Us(we[0][1]),Se=-1,or=we.length}}}}function rl(Yt){var Zt,se=Yt.length,ve={},Te={},we,Se,or,fr,Qe;for(Zt=0;Zt<se;++Zt){if(we=Yt[Zt],Se=we.ring[0],fr=we.ring[we.ring.length-1],Se[0]===fr[0]&&Se[1]===fr[1]){we.polygon.push(we.ring),Yt[Zt]=null;continue}we.index=Zt,ve[Se]=Te[fr]=we}for(Zt=0;Zt<se;++Zt)if(we=Yt[Zt],we){if(Se=we.ring[0],fr=we.ring[we.ring.length-1],or=Te[Se],Qe=ve[fr],delete ve[Se],delete Te[fr],Se[0]===fr[0]&&Se[1]===fr[1]){we.polygon.push(we.ring);continue}or?(delete Te[Se],delete ve[or.ring[0]],or.ring.pop(),Yt[or.index]=null,we={index:-1,polygon:or.polygon,ring:or.ring.concat(we.ring)},or===Qe?we.polygon.push(we.ring):(we.index=se++,Yt.push(ve[we.ring[0]]=Te[we.ring[we.ring.length-1]]=we))):Qe?(delete ve[fr],delete Te[Qe.ring[Qe.ring.length-1]],we.ring.pop(),we={index:se++,polygon:Qe.polygon,ring:we.ring.concat(Qe.ring)},Yt[Qe.index]=null,Yt.push(ve[we.ring[0]]=Te[we.ring[we.ring.length-1]]=we)):(we.ring.push(we.ring[0]),we.polygon.push(we.ring))}}function nl(Yt){var Zt={type:"Feature",geometry:os(Yt.geometry)};return Yt.id!=null&&(Zt.id=Yt.id),Yt.bbox!=null&&(Zt.bbox=Yt.bbox),Yt.properties!=null&&(Zt.properties=Yt.properties),Zt}function os(Yt){if(Yt==null)return Yt;var Zt,se,ve,Te;switch(Yt.type){case"GeometryCollection":Zt={type:"GeometryCollection",geometries:Yt.geometries.map(os)};break;case"Point":Zt={type:"Point",coordinates:el(Yt.coordinates)};break;case"MultiPoint":case"LineString":Zt={type:Yt.type,coordinates:Ol(Yt.coordinates)};break;case"MultiLineString":Zt={type:"MultiLineString",coordinates:Yt.coordinates.map(Ol)};break;case"Polygon":{var we=[];ru(Yt.coordinates,we,se=[]),rl(se),Zt={type:"Polygon",coordinates:we};break}case"MultiPolygon":{se=[],ve=-1,Te=Yt.coordinates.length;for(var Se=new Array(Te);++ve<Te;)ru(Yt.coordinates[ve],Se[ve]=[],se);rl(se),Zt={type:"MultiPolygon",coordinates:Se.filter(Rl)};break}default:return Yt}return Yt.bbox!=null&&(Zt.bbox=Yt.bbox),Zt}function il(Yt){if(Yt==null)return Yt;switch(Yt.type){case"Feature":return nl(Yt);case"FeatureCollection":{var Zt={type:"FeatureCollection",features:Yt.features.map(nl)};return Yt.bbox!=null&&(Zt.bbox=Yt.bbox),Zt}default:return os(Yt)}}function ss(Yt,Zt){var se=b(Zt/2),ve=f(p*se);return[Yt*(.74482-.34588*ve*ve),1.70711*se]}ss.invert=function(Yt,Zt){var se=Zt/1.70711,ve=f(p*se);return[Yt/(.74482-.34588*ve*ve),2*i(se)]};function Ma(){return(0,E.c)(ss).scale(146.153)}function zo(Yt,Zt,se){var ve=(0,Kl.c)(Zt,se),Te=ve(.5),we=(0,$t.c)([-Te[0],-Te[1]])(Zt),Se=ve.distance/2,or=-M(f(we[1]*u)/f(Se)),fr=[-Te[0],-Te[1],-(we[0]>0?a-or:or)*C],Qe=(0,E.c)(Yt(Se)).rotate(fr),yr=(0,$t.c)(fr),Tr=Qe.center;return delete Qe.rotate,Qe.center=function(Or){return arguments.length?Tr(yr(Or)):yr.invert(Tr())},Qe.clipAngle(90)}function nu(Yt){var Zt=T(Yt);function se(ve,Te){var we=(0,rs.Y)(ve,Te);return we[0]*=Zt,we}return se.invert=function(ve,Te){return rs.Y.invert(ve/Zt,Te)},se}function xs(){return Pl([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Pl(Yt,Zt){return zo(nu,Yt,Zt)}function al(Yt){if(!(Yt*=2))return ot.O;var Zt=-Yt/2,se=-Zt,ve=Yt*Yt,Te=b(se),we=.5/f(se);function Se(or,fr){var Qe=w(T(fr)*T(or-Zt)),yr=w(T(fr)*T(or-se)),Tr=fr<0?-1:1;return Qe*=Qe,yr*=yr,[(Qe-yr)/(2*Yt),Tr*z(4*ve*yr-(ve-Qe+yr)*(ve-Qe+yr))/(2*Yt)]}return Se.invert=function(or,fr){var Qe=fr*fr,yr=T(z(Qe+(Or=or+Zt)*Or)),Tr=T(z(Qe+(Or=or+se)*Or)),Or,Zr;return[L(Zr=yr-Tr,Or=(yr+Tr)*Te),(fr<0?-1:1)*w(z(Or*Or+Zr*Zr)*we)]},Se}function fc(){return Ou([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ou(Yt,Zt){return zo(al,Yt,Zt)}function Ha(Yt,Zt){if(S(Zt)<h)return[Yt,0];var se=S(Zt/c),ve=M(se);if(S(Yt)<h||S(S(Zt)-c)<h)return[0,o(Zt)*a*b(ve/2)];var Te=T(ve),we=S(a/Yt-Yt/a)/2,Se=we*we,or=Te/(se+Te-1),fr=or*(2/se-1),Qe=fr*fr,yr=Qe+Se,Tr=or-Qe,Or=Se+or;return[o(Yt)*a*(we*Tr+z(Se*Tr*Tr-yr*(or*or-Qe)))/yr,o(Zt)*a*(fr*Or-we*z((Se+1)*yr-Or*Or))/yr]}Ha.invert=function(Yt,Zt){if(S(Zt)<h)return[Yt,0];if(S(Yt)<h)return[0,c*f(2*i(Zt/a))];var se=(Yt/=a)*Yt,ve=(Zt/=a)*Zt,Te=se+ve,we=Te*Te,Se=-S(Zt)*(1+Te),or=Se-2*ve+se,fr=-2*Se+1+2*ve+we,Qe=ve/fr+(2*or*or*or/(fr*fr*fr)-9*Se*or/(fr*fr))/27,yr=(Se-or*or/(3*fr))/fr,Tr=2*z(-yr/3),Or=w(3*Qe/(yr*Tr))/3;return[a*(Te-1+z(1+2*(se-ve)+we))/(2*Yt),o(Zt)*a*(-Tr*T(Or+a/3)-or/(3*fr))]};function ol(){return(0,E.c)(Ha).scale(79.4183)}function qs(Yt,Zt){if(S(Zt)<h)return[Yt,0];var se=S(Zt/c),ve=M(se);if(S(Yt)<h||S(S(Zt)-c)<h)return[0,o(Zt)*a*b(ve/2)];var Te=T(ve),we=S(a/Yt-Yt/a)/2,Se=we*we,or=Te*(z(1+Se)-we*Te)/(1+Se*se*se);return[o(Yt)*a*or,o(Zt)*a*z(1-or*(2*we+or))]}qs.invert=function(Yt,Zt){if(!Yt)return[0,c*f(2*i(Zt/a))];var se=S(Yt/a),ve=(1-se*se-(Zt/=a)*Zt)/(2*se),Te=ve*ve,we=z(Te+1);return[o(Yt)*a*(we-ve),o(Zt)*c*f(2*L(z((1-2*ve*se)*(ve+we)-se),z(we+ve+se)))]};function Pu(){return(0,E.c)(qs).scale(79.4183)}function ls(Yt,Zt){if(S(Zt)<h)return[Yt,0];var se=Zt/c,ve=M(se);if(S(Yt)<h||S(S(Zt)-c)<h)return[0,a*b(ve/2)];var Te=(a/Yt-Yt/a)/2,we=se/(1+T(ve));return[a*(o(Yt)*z(Te*Te+1-we*we)-Te),a*we]}ls.invert=function(Yt,Zt){if(!Zt)return[Yt,0];var se=Zt/a,ve=(a*a*(1-se*se)-Yt*Yt)/(2*a*Yt);return[Yt?a*(o(Yt)*z(ve*ve+1)-ve):0,c*f(2*i(se))]};function hc(){return(0,E.c)(ls).scale(79.4183)}function eo(Yt,Zt){if(!Zt)return[Yt,0];var se=S(Zt);if(!Yt||se===c)return[0,Zt];var ve=se/c,Te=ve*ve,we=(8*ve-Te*(Te+2)-5)/(2*Te*(ve-1)),Se=we*we,or=ve*we,fr=Te+Se+2*or,Qe=ve+3*we,yr=Yt/c,Tr=yr+1/yr,Or=o(S(Yt)-c)*z(Tr*Tr-4),Zr=Or*Or,pn=fr*(Te+Se*Zr-1)+(1-Te)*(Te*(Qe*Qe+4*Se)+12*or*Se+4*Se*Se),_n=(Or*(fr+Se-1)+2*z(pn))/(4*fr+Zr);return[o(Yt)*c*_n,o(Zt)*c*z(1+Or*S(_n)-_n*_n)]}eo.invert=function(Yt,Zt){var se;if(!Yt||!Zt)return[Yt,Zt];Zt/=a;var ve=o(Yt)*Yt/c,Te=(ve*ve-1+4*Zt*Zt)/S(ve),we=Te*Te,Se=2*Zt,or=50;do{var fr=Se*Se,Qe=(8*Se-fr*(fr+2)-5)/(2*fr*(Se-1)),yr=(3*Se-fr*Se-10)/(2*fr*Se),Tr=Qe*Qe,Or=Se*Qe,Zr=Se+Qe,pn=Zr*Zr,_n=Se+3*Qe,Tn=pn*(fr+Tr*we-1)+(1-fr)*(fr*(_n*_n+4*Tr)+Tr*(12*Or+4*Tr)),jn=-2*Zr*(4*Or*Tr+(1-4*fr+3*fr*fr)*(1+yr)+Tr*(-6+14*fr-we+(-8+8*fr-2*we)*yr)+Or*(-8+12*fr+(-10+10*fr-we)*yr)),wi=z(Tn),Ai=Te*(pn+Tr-1)+2*wi-ve*(4*pn+we),Mi=Te*(2*Qe*yr+2*Zr*(1+yr))+jn/wi-8*Zr*(Te*(-1+Tr+pn)+2*wi)*(1+yr)/(we+4*pn);Se-=se=Ai/Mi}while(se>h&&--or>0);return[o(Yt)*(z(Te*Te+4)+Te)*a/4,c*Se]};function sl(){return(0,E.c)(eo).scale(127.16)}function zl(Yt,Zt,se,ve,Te){function we(Se,or){var fr=se*f(ve*or),Qe=z(1-fr*fr),yr=z(2/(1+Qe*T(Se*=Te)));return[Yt*Qe*yr*f(Se),Zt*fr*yr]}return we.invert=function(Se,or){var fr=Se/Yt,Qe=or/Zt,yr=z(fr*fr+Qe*Qe),Tr=2*M(yr/2);return[L(Se*b(Tr),Yt*yr)/Te,yr&&M(or*f(Tr)/(Zt*se*yr))/ve]},we}function Wo(Yt,Zt,se,ve){var Te=a/3;Yt=e(Yt,h),Zt=e(Zt,h),Yt=l(Yt,c),Zt=l(Zt,a-h),se=e(se,0),se=l(se,100-h),ve=e(ve,h);var we=se/100+1,Se=ve/100,or=w(we*T(Te))/Te,fr=f(Yt)/f(or*c),Qe=Zt/a,yr=z(Se*f(Yt/2)/f(Zt/2)),Tr=yr/z(Qe*fr*or),Or=1/(yr*z(Qe*fr*or));return zl(Tr,Or,fr,or,Qe)}function us(){var Yt=65*u,Zt=60*u,se=20,ve=200,Te=(0,E.U)(Wo),we=Te(Yt,Zt,se,ve);return we.poleline=function(Se){return arguments.length?Te(Yt=+Se*u,Zt,se,ve):Yt*C},we.parallels=function(Se){return arguments.length?Te(Yt,Zt=+Se*u,se,ve):Zt*C},we.inflation=function(Se){return arguments.length?Te(Yt,Zt,se=+Se,ve):se},we.ratio=function(Se){return arguments.length?Te(Yt,Zt,se,ve=+Se):ve},we.scale(163.775)}function iu(){return us().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var ll=4*a+3*z(3),ul=2*z(2*a*z(3)/ll),Il=vt(ul*z(3)/a,ul,ll/6);function zu(){return(0,E.c)(Il).scale(176.84)}function cl(Yt,Zt){return[Yt*z(1-3*Zt*Zt/(a*a)),Zt]}cl.invert=function(Yt,Zt){return[Yt/z(1-3*Zt*Zt/(a*a)),Zt]};function au(){return(0,E.c)(cl).scale(152.63)}function bs(Yt,Zt){var se=T(Zt),ve=T(Yt)*se,Te=1-ve,we=T(Yt=L(f(Yt)*se,-f(Zt))),Se=f(Yt);return se=z(1-ve*ve),[Se*se-we*Te,-we*se-Se*Te]}bs.invert=function(Yt,Zt){var se=(Yt*Yt+Zt*Zt)/-2,ve=z(-se*(2+se)),Te=Zt*se+Yt*ve,we=Yt*se-Zt*ve,Se=z(we*we+Te*Te);return[L(ve*Te,Se*(1+se)),Se?-M(ve*we/Se):0]};function ou(){return(0,E.c)(bs).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function fl(Yt,Zt){var se=q(Yt,Zt);return[(se[0]+Yt/c)/2,(se[1]+Zt)/2]}fl.invert=function(Yt,Zt){var se=Yt,ve=Zt,Te=25;do{var we=T(ve),Se=f(ve),or=f(2*ve),fr=Se*Se,Qe=we*we,yr=f(se),Tr=T(se/2),Or=f(se/2),Zr=Or*Or,pn=1-Qe*Tr*Tr,_n=pn?w(we*Tr)*z(Tn=1/pn):Tn=0,Tn,jn=.5*(2*_n*we*Or+se/c)-Yt,wi=.5*(_n*Se+ve)-Zt,Ai=.5*Tn*(Qe*Zr+_n*we*Tr*fr)+.5/c,Mi=Tn*(yr*or/4-_n*Se*Or),Ci=.125*Tn*(or*Or-_n*Se*Qe*yr),Ii=.5*Tn*(fr*Tr+_n*Zr*we)+.5,$i=Mi*Ci-Ii*Ai,xa=(wi*Mi-jn*Ii)/$i,lt=(jn*Ci-wi*Ai)/$i;se-=xa,ve-=lt}while((S(xa)>h||S(lt)>h)&&--Te>0);return[se,ve]};function Iu(){return(0,E.c)(fl).scale(158.837)}},88728:function(tt,U,t){t.d(U,{c:function(){return E}});function E(){return new S}function S(){this.reset()}S.prototype={constructor:S,reset:function(){this.s=this.t=0},add:function(T){L(i,T,this.t),L(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new S;function L(T,v,d){var r=T.s=v+d,e=r-v,l=r-e;T.t=v-l+(d-e)}},95384:function(tt,U,t){t.d(U,{cp:function(){return _},mQ:function(){return T},oB:function(){return s}});var E=t(88728),S=t(64528),i=t(70932),L=t(16016),T=(0,E.c)(),v=(0,E.c)(),d,r,e,l,n,s={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){T.reset(),s.lineStart=o,s.lineEnd=f},polygonEnd:function(){var a=+T;v.add(a<0?S.kD+a:a),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){v.add(S.kD)}};function o(){s.point=b}function f(){h(d,r)}function b(a,c){s.point=h,d=a,r=c,a*=S.qw,c*=S.qw,e=a,l=(0,S.W8)(c=c/2+S.wL),n=(0,S.g$)(c)}function h(a,c){a*=S.qw,c*=S.qw,c=c/2+S.wL;var p=a-e,x=p>=0?1:-1,k=x*p,y=(0,S.W8)(c),A=(0,S.g$)(c),C=n*A,u=l*y+C*(0,S.W8)(k),m=C*x*(0,S.g$)(k);T.add((0,S.WE)(m,u)),e=a,l=y,n=A}function _(a){return v.reset(),(0,L.c)(a,s),v*2}},13696:function(tt,U,t){t.d(U,{c:function(){return M}});var E=t(88728),S=t(95384),i=t(84220),L=t(64528),T=t(16016),v,d,r,e,l,n,s,o,f=(0,E.c)(),b,h,_={point:a,lineStart:p,lineEnd:x,polygonStart:function(){_.point=k,_.lineStart=y,_.lineEnd=A,f.reset(),S.oB.polygonStart()},polygonEnd:function(){S.oB.polygonEnd(),_.point=a,_.lineStart=p,_.lineEnd=x,S.mQ<0?(v=-(r=180),d=-(e=90)):f>L.Gg?e=90:f<-L.Gg&&(d=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),d=-(e=90)}};function a(w,z){b.push(h=[v=w,r=w]),z<d&&(d=z),z>e&&(e=z)}function c(w,z){var O=(0,i.ux)([w*L.qw,z*L.qw]);if(o){var D=(0,i.CW)(o,O),P=[D[1],-D[0],0],F=(0,i.CW)(P,D);(0,i.cJ)(F),F=(0,i.G)(F);var R=w-l,N=R>0?1:-1,B=F[0]*L.oh*N,q,V=(0,L.a2)(R)>180;V^(N*l<B&&B<N*w)?(q=F[1]*L.oh,q>e&&(e=q)):(B=(B+360)%360-180,V^(N*l<B&&B<N*w)?(q=-F[1]*L.oh,q<d&&(d=q)):(z<d&&(d=z),z>e&&(e=z))),V?w<l?C(v,w)>C(v,r)&&(r=w):C(w,r)>C(v,r)&&(v=w):r>=v?(w<v&&(v=w),w>r&&(r=w)):w>l?C(v,w)>C(v,r)&&(r=w):C(w,r)>C(v,r)&&(v=w)}else b.push(h=[v=w,r=w]);z<d&&(d=z),z>e&&(e=z),o=O,l=w}function p(){_.point=c}function x(){h[0]=v,h[1]=r,_.point=a,o=null}function k(w,z){if(o){var O=w-l;f.add((0,L.a2)(O)>180?O+(O>0?360:-360):O)}else n=w,s=z;S.oB.point(w,z),c(w,z)}function y(){S.oB.lineStart()}function A(){k(n,s),S.oB.lineEnd(),(0,L.a2)(f)>L.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,o=null}function C(w,z){return(z-=w)<0?z+360:z}function u(w,z){return w[0]-z[0]}function m(w,z){return w[0]<=w[1]?w[0]<=z&&z<=w[1]:z<w[0]||w[1]<z}function M(w){var z,O,D,P,F,R,N;if(e=r=-(v=d=1/0),b=[],(0,T.c)(w,_),O=b.length){for(b.sort(u),z=1,D=b[0],F=[D];z<O;++z)P=b[z],m(D,P[0])||m(D,P[1])?(C(D[0],P[1])>C(D[0],D[1])&&(D[1]=P[1]),C(P[0],D[1])>C(D[0],D[1])&&(D[0]=P[0])):F.push(D=P);for(R=-1/0,O=F.length-1,z=0,D=F[O];z<=O;D=P,++z)P=F[z],(N=C(D[1],P[0]))>R&&(R=N,v=P[0],r=D[1])}return b=h=null,v===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,d],[r,e]]}},84220:function(tt,U,t){t.d(U,{CW:function(){return T},Ez:function(){return L},G:function(){return S},cJ:function(){return r},mg:function(){return v},ux:function(){return i},wx:function(){return d}});var E=t(64528);function S(e){return[(0,E.WE)(e[1],e[0]),(0,E.qR)(e[2])]}function i(e){var l=e[0],n=e[1],s=(0,E.W8)(n);return[s*(0,E.W8)(l),s*(0,E.g$)(l),(0,E.g$)(n)]}function L(e,l){return e[0]*l[0]+e[1]*l[1]+e[2]*l[2]}function T(e,l){return[e[1]*l[2]-e[2]*l[1],e[2]*l[0]-e[0]*l[2],e[0]*l[1]-e[1]*l[0]]}function v(e,l){e[0]+=l[0],e[1]+=l[1],e[2]+=l[2]}function d(e,l){return[e[0]*l,e[1]*l,e[2]*l]}function r(e){var l=(0,E._I)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=l,e[1]/=l,e[2]/=l}},24052:function(tt,U,t){t.d(U,{c:function(){return O}});var E=t(64528),S=t(70932),i=t(16016),L,T,v,d,r,e,l,n,s,o,f,b,h,_,a,c,p={sphere:S.c,point:x,lineStart:y,lineEnd:u,polygonStart:function(){p.lineStart=m,p.lineEnd=M},polygonEnd:function(){p.lineStart=y,p.lineEnd=u}};function x(D,P){D*=E.qw,P*=E.qw;var F=(0,E.W8)(P);k(F*(0,E.W8)(D),F*(0,E.g$)(D),(0,E.g$)(P))}function k(D,P,F){++L,v+=(D-v)/L,d+=(P-d)/L,r+=(F-r)/L}function y(){p.point=A}function A(D,P){D*=E.qw,P*=E.qw;var F=(0,E.W8)(P);_=F*(0,E.W8)(D),a=F*(0,E.g$)(D),c=(0,E.g$)(P),p.point=C,k(_,a,c)}function C(D,P){D*=E.qw,P*=E.qw;var F=(0,E.W8)(P),R=F*(0,E.W8)(D),N=F*(0,E.g$)(D),B=(0,E.g$)(P),q=(0,E.WE)((0,E._I)((q=a*B-c*N)*q+(q=c*R-_*B)*q+(q=_*N-a*R)*q),_*R+a*N+c*B);T+=q,e+=q*(_+(_=R)),l+=q*(a+(a=N)),n+=q*(c+(c=B)),k(_,a,c)}function u(){p.point=x}function m(){p.point=w}function M(){z(b,h),p.point=x}function w(D,P){b=D,h=P,D*=E.qw,P*=E.qw,p.point=z;var F=(0,E.W8)(P);_=F*(0,E.W8)(D),a=F*(0,E.g$)(D),c=(0,E.g$)(P),k(_,a,c)}function z(D,P){D*=E.qw,P*=E.qw;var F=(0,E.W8)(P),R=F*(0,E.W8)(D),N=F*(0,E.g$)(D),B=(0,E.g$)(P),q=a*B-c*N,V=c*R-_*B,J=_*N-a*R,it=(0,E._I)(q*q+V*V+J*J),nt=(0,E.qR)(it),Y=it&&-nt/it;s+=Y*q,o+=Y*V,f+=Y*J,T+=nt,e+=nt*(_+(_=R)),l+=nt*(a+(a=N)),n+=nt*(c+(c=B)),k(_,a,c)}function O(D){L=T=v=d=r=e=l=n=s=o=f=0,(0,i.c)(D,p);var P=s,F=o,R=f,N=P*P+F*F+R*R;return N<E.a8&&(P=e,F=l,R=n,T<E.Gg&&(P=v,F=d,R=r),N=P*P+F*F+R*R,N<E.a8)?[NaN,NaN]:[(0,E.WE)(F,P)*E.oh,(0,E.qR)(R/(0,E._I)(N))*E.oh]}},61780:function(tt,U,t){t.d(U,{Q:function(){return T},c:function(){return d}});var E=t(84220);function S(r){return function(){return r}}var i=t(64528),L=t(92992);function T(r,e,l,n,s,o){if(l){var f=(0,i.W8)(e),b=(0,i.g$)(e),h=n*l;s==null?(s=e+n*i.kD,o=e-h/2):(s=v(f,s),o=v(f,o),(n>0?s<o:s>o)&&(s+=n*i.kD));for(var _,a=s;n>0?a>o:a<o;a-=h)_=(0,E.G)([f,-b*(0,i.W8)(a),-b*(0,i.g$)(a)]),r.point(_[0],_[1])}}function v(r,e){e=(0,E.ux)(e),e[0]-=r,(0,E.cJ)(e);var l=(0,i.mE)(-e[1]);return((-e[2]<0?-l:l)+i.kD-i.Gg)%i.kD}function d(){var r=S([0,0]),e=S(90),l=S(6),n,s,o={point:f};function f(h,_){n.push(h=s(h,_)),h[0]*=i.oh,h[1]*=i.oh}function b(){var h=r.apply(this,arguments),_=e.apply(this,arguments)*i.qw,a=l.apply(this,arguments)*i.qw;return n=[],s=(0,L.O)(-h[0]*i.qw,-h[1]*i.qw,0).invert,T(o,_,a,1),h={type:"Polygon",coordinates:[n]},n=s=null,h}return b.center=function(h){return arguments.length?(r=typeof h=="function"?h:S([+h[0],+h[1]]),b):r},b.radius=function(h){return arguments.length?(e=typeof h=="function"?h:S(+h),b):e},b.precision=function(h){return arguments.length?(l=typeof h=="function"?h:S(+h),b):l},b}},78284:function(tt,U,t){var E=t(14229),S=t(64528);U.c=(0,E.c)(function(){return!0},i,T,[-S.pi,-S.or]);function i(v){var d=NaN,r=NaN,e=NaN,l;return{lineStart:function(){v.lineStart(),l=1},point:function(n,s){var o=n>0?S.pi:-S.pi,f=(0,S.a2)(n-d);(0,S.a2)(f-S.pi)<S.Gg?(v.point(d,r=(r+s)/2>0?S.or:-S.or),v.point(e,r),v.lineEnd(),v.lineStart(),v.point(o,r),v.point(n,r),l=0):e!==o&&f>=S.pi&&((0,S.a2)(d-e)<S.Gg&&(d-=e*S.Gg),(0,S.a2)(n-o)<S.Gg&&(n-=o*S.Gg),r=L(d,r,n,s),v.point(e,r),v.lineEnd(),v.lineStart(),v.point(o,r),l=0),v.point(d=n,r=s),e=o},lineEnd:function(){v.lineEnd(),d=r=NaN},clean:function(){return 2-l}}}function L(v,d,r,e){var l,n,s=(0,S.g$)(v-r);return(0,S.a2)(s)>S.Gg?(0,S.MQ)(((0,S.g$)(d)*(n=(0,S.W8)(e))*(0,S.g$)(r)-(0,S.g$)(e)*(l=(0,S.W8)(d))*(0,S.g$)(v))/(l*n*s)):(d+e)/2}function T(v,d,r,e){var l;if(v==null)l=r*S.or,e.point(-S.pi,l),e.point(0,l),e.point(S.pi,l),e.point(S.pi,0),e.point(S.pi,-l),e.point(0,-l),e.point(-S.pi,-l),e.point(-S.pi,0),e.point(-S.pi,l);else if((0,S.a2)(v[0]-d[0])>S.Gg){var n=v[0]<d[0]?S.pi:-S.pi;l=r*n/2,e.point(-n,l),e.point(0,l),e.point(n,l)}else e.point(d[0],d[1])}},97208:function(tt,U,t){t.d(U,{c:function(){return S}});var E=t(70932);function S(){var i=[],L;return{point:function(T,v,d){L.push([T,v,d])},lineStart:function(){i.push(L=[])},lineEnd:E.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var T=i;return i=[],L=null,T}}}},2728:function(tt,U,t){t.d(U,{c:function(){return v}});var E=t(84220),S=t(61780),i=t(64528),L=t(41860),T=t(14229);function v(d){var r=(0,i.W8)(d),e=6*i.qw,l=r>0,n=(0,i.a2)(r)>i.Gg;function s(_,a,c,p){(0,S.Q)(p,d,e,c,_,a)}function o(_,a){return(0,i.W8)(_)*(0,i.W8)(a)>r}function f(_){var a,c,p,x,k;return{lineStart:function(){x=p=!1,k=1},point:function(y,A){var C=[y,A],u,m=o(y,A),M=l?m?0:h(y,A):m?h(y+(y<0?i.pi:-i.pi),A):0;if(!a&&(x=p=m)&&_.lineStart(),m!==p&&(u=b(a,C),(!u||(0,L.c)(a,u)||(0,L.c)(C,u))&&(C[2]=1)),m!==p)k=0,m?(_.lineStart(),u=b(C,a),_.point(u[0],u[1])):(u=b(a,C),_.point(u[0],u[1],2),_.lineEnd()),a=u;else if(n&&a&&l^m){var w;!(M&c)&&(w=b(C,a,!0))&&(k=0,l?(_.lineStart(),_.point(w[0][0],w[0][1]),_.point(w[1][0],w[1][1]),_.lineEnd()):(_.point(w[1][0],w[1][1]),_.lineEnd(),_.lineStart(),_.point(w[0][0],w[0][1],3)))}m&&(!a||!(0,L.c)(a,C))&&_.point(C[0],C[1]),a=C,p=m,c=M},lineEnd:function(){p&&_.lineEnd(),a=null},clean:function(){return k|(x&&p)<<1}}}function b(_,a,c){var p=(0,E.ux)(_),x=(0,E.ux)(a),k=[1,0,0],y=(0,E.CW)(p,x),A=(0,E.Ez)(y,y),C=y[0],u=A-C*C;if(!u)return!c&&_;var m=r*A/u,M=-r*C/u,w=(0,E.CW)(k,y),z=(0,E.wx)(k,m),O=(0,E.wx)(y,M);(0,E.mg)(z,O);var D=w,P=(0,E.Ez)(z,D),F=(0,E.Ez)(D,D),R=P*P-F*((0,E.Ez)(z,z)-1);if(!(R<0)){var N=(0,i._I)(R),B=(0,E.wx)(D,(-P-N)/F);if((0,E.mg)(B,z),B=(0,E.G)(B),!c)return B;var q=_[0],V=a[0],J=_[1],it=a[1],nt;V<q&&(nt=q,q=V,V=nt);var Y=V-q,Z=(0,i.a2)(Y-i.pi)<i.Gg,$=Z||Y<i.Gg;if(!Z&&it<J&&(nt=J,J=it,it=nt),$?Z?J+it>0^B[1]<((0,i.a2)(B[0]-q)<i.Gg?J:it):J<=B[1]&&B[1]<=it:Y>i.pi^(q<=B[0]&&B[0]<=V)){var G=(0,E.wx)(D,(-P+N)/F);return(0,E.mg)(G,z),[B,(0,E.G)(G)]}}}function h(_,a){var c=l?d:i.pi-d,p=0;return _<-c?p|=1:_>c&&(p|=2),a<-c?p|=4:a>c&&(p|=8),p}return(0,T.c)(o,f,s,l?[0,-d]:[-i.pi,d-i.pi])}},14229:function(tt,U,t){t.d(U,{c:function(){return v}});var E=t(97208),S=t(32232),i=t(64528),L=t(58196),T=t(84706);function v(e,l,n,s){return function(o){var f=l(o),b=(0,E.c)(),h=l(b),_=!1,a,c,p,x={point:k,lineStart:A,lineEnd:C,polygonStart:function(){x.point=u,x.lineStart=m,x.lineEnd=M,c=[],a=[]},polygonEnd:function(){x.point=k,x.lineStart=A,x.lineEnd=C,c=(0,T.Uf)(c);var w=(0,L.c)(a,s);c.length?(_||(o.polygonStart(),_=!0),(0,S.c)(c,r,w,n,o)):w&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),c=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function k(w,z){e(w,z)&&o.point(w,z)}function y(w,z){f.point(w,z)}function A(){x.point=y,f.lineStart()}function C(){x.point=k,f.lineEnd()}function u(w,z){p.push([w,z]),h.point(w,z)}function m(){h.lineStart(),p=[]}function M(){u(p[0][0],p[0][1]),h.lineEnd();var w=h.clean(),z=b.result(),O,D=z.length,P,F,R;if(p.pop(),a.push(p),p=null,!!D){if(w&1){if(F=z[0],(P=F.length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart(),O=0;O<P;++O)o.point((R=F[O])[0],R[1]);o.lineEnd()}return}D>1&&w&2&&z.push(z.pop().concat(z.shift())),c.push(z.filter(d))}}return x}}function d(e){return e.length>1}function r(e,l){return((e=e.x)[0]<0?e[1]-i.or-i.Gg:i.or-e[1])-((l=l.x)[0]<0?l[1]-i.or-i.Gg:i.or-l[1])}},21676:function(tt,U,t){t.d(U,{c:function(){return r}});var E=t(64528),S=t(97208);function i(e,l,n,s,o,f){var b=e[0],h=e[1],_=l[0],a=l[1],c=0,p=1,x=_-b,k=a-h,y;if(y=n-b,!(!x&&y>0)){if(y/=x,x<0){if(y<c)return;y<p&&(p=y)}else if(x>0){if(y>p)return;y>c&&(c=y)}if(y=o-b,!(!x&&y<0)){if(y/=x,x<0){if(y>p)return;y>c&&(c=y)}else if(x>0){if(y<c)return;y<p&&(p=y)}if(y=s-h,!(!k&&y>0)){if(y/=k,k<0){if(y<c)return;y<p&&(p=y)}else if(k>0){if(y>p)return;y>c&&(c=y)}if(y=f-h,!(!k&&y<0)){if(y/=k,k<0){if(y>p)return;y>c&&(c=y)}else if(k>0){if(y<c)return;y<p&&(p=y)}return c>0&&(e[0]=b+c*x,e[1]=h+c*k),p<1&&(l[0]=b+p*x,l[1]=h+p*k),!0}}}}}var L=t(32232),T=t(84706),v=1e9,d=-v;function r(e,l,n,s){function o(a,c){return e<=a&&a<=n&&l<=c&&c<=s}function f(a,c,p,x){var k=0,y=0;if(a==null||(k=b(a,p))!==(y=b(c,p))||_(a,c)<0^p>0)do x.point(k===0||k===3?e:n,k>1?s:l);while((k=(k+p+4)%4)!==y);else x.point(c[0],c[1])}function b(a,c){return(0,E.a2)(a[0]-e)<E.Gg?c>0?0:3:(0,E.a2)(a[0]-n)<E.Gg?c>0?2:1:(0,E.a2)(a[1]-l)<E.Gg?c>0?1:0:c>0?3:2}function h(a,c){return _(a.x,c.x)}function _(a,c){var p=b(a,1),x=b(c,1);return p!==x?p-x:p===0?c[1]-a[1]:p===1?a[0]-c[0]:p===2?a[1]-c[1]:c[0]-a[0]}return function(a){var c=a,p=(0,S.c)(),x,k,y,A,C,u,m,M,w,z,O,D={point:P,lineStart:B,lineEnd:q,polygonStart:R,polygonEnd:N};function P(J,it){o(J,it)&&c.point(J,it)}function F(){for(var J=0,it=0,nt=k.length;it<nt;++it)for(var Y=k[it],Z=1,$=Y.length,G=Y[0],rt,ot,W=G[0],H=G[1];Z<$;++Z)rt=W,ot=H,G=Y[Z],W=G[0],H=G[1],ot<=s?H>s&&(W-rt)*(s-ot)>(H-ot)*(e-rt)&&++J:H<=s&&(W-rt)*(s-ot)<(H-ot)*(e-rt)&&--J;return J}function R(){c=p,x=[],k=[],O=!0}function N(){var J=F(),it=O&&J,nt=(x=(0,T.Uf)(x)).length;(it||nt)&&(a.polygonStart(),it&&(a.lineStart(),f(null,null,1,a),a.lineEnd()),nt&&(0,L.c)(x,h,J,f,a),a.polygonEnd()),c=a,x=k=y=null}function B(){D.point=V,k&&k.push(y=[]),z=!0,w=!1,m=M=NaN}function q(){x&&(V(A,C),u&&w&&p.rejoin(),x.push(p.result())),D.point=P,w&&c.lineEnd()}function V(J,it){var nt=o(J,it);if(k&&y.push([J,it]),z)A=J,C=it,u=nt,z=!1,nt&&(c.lineStart(),c.point(J,it));else if(nt&&w)c.point(J,it);else{var Y=[m=Math.max(d,Math.min(v,m)),M=Math.max(d,Math.min(v,M))],Z=[J=Math.max(d,Math.min(v,J)),it=Math.max(d,Math.min(v,it))];i(Y,Z,e,l,n,s)?(w||(c.lineStart(),c.point(Y[0],Y[1])),c.point(Z[0],Z[1]),nt||c.lineEnd(),O=!1):nt&&(c.lineStart(),c.point(J,it),O=!1)}m=J,M=it,w=nt}return D}}},32232:function(tt,U,t){t.d(U,{c:function(){return L}});var E=t(41860),S=t(64528);function i(v,d,r,e){this.x=v,this.z=d,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function L(v,d,r,e,l){var n=[],s=[],o,f;if(v.forEach(function(p){if(!((x=p.length-1)<=0)){var x,k=p[0],y=p[x],A;if((0,E.c)(k,y)){if(!k[2]&&!y[2]){for(l.lineStart(),o=0;o<x;++o)l.point((k=p[o])[0],k[1]);l.lineEnd();return}y[0]+=2*S.Gg}n.push(A=new i(k,p,null,!0)),s.push(A.o=new i(k,null,A,!1)),n.push(A=new i(y,p,null,!1)),s.push(A.o=new i(y,null,A,!0))}}),!!n.length){for(s.sort(d),T(n),T(s),o=0,f=s.length;o<f;++o)s[o].e=r=!r;for(var b=n[0],h,_;;){for(var a=b,c=!0;a.v;)if((a=a.n)===b)return;h=a.z,l.lineStart();do{if(a.v=a.o.v=!0,a.e){if(c)for(o=0,f=h.length;o<f;++o)l.point((_=h[o])[0],_[1]);else e(a.x,a.n.x,1,l);a=a.n}else{if(c)for(h=a.p.z,o=h.length-1;o>=0;--o)l.point((_=h[o])[0],_[1]);else e(a.x,a.p.x,-1,l);a=a.p}a=a.o,h=a.z,c=!c}while(!a.v);l.lineEnd()}}}function T(v){if(d=v.length){for(var d,r=0,e=v[0],l;++r<d;)e.n=l=v[r],l.p=e,e=l;e.n=l=v[0],l.p=e}}},68120:function(tt,U,t){t.d(U,{c:function(){return E}});function E(S,i){function L(T,v){return T=S(T,v),i(T[0],T[1])}return S.invert&&i.invert&&(L.invert=function(T,v){return T=i.invert(T,v),T&&S.invert(T[0],T[1])}),L}},7376:function(tt,U,t){t.d(U,{c:function(){return E}});function E(S){return S}},83356:function(tt,U,t){t.r(U),t.d(U,{geoAlbers:function(){return vr},geoAlbersUsa:function(){return ie},geoArea:function(){return E.cp},geoAzimuthalEqualArea:function(){return he.c},geoAzimuthalEqualAreaRaw:function(){return he.y},geoAzimuthalEquidistant:function(){return Ae.c},geoAzimuthalEquidistantRaw:function(){return Ae.O},geoBounds:function(){return S.c},geoCentroid:function(){return i.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return T.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return d.c},geoConicConformal:function(){return Ue},geoConicConformalRaw:function(){return er},geoConicEqualArea:function(){return Ge},geoConicEqualAreaRaw:function(){return De},geoConicEquidistant:function(){return Ut},geoConicEquidistantRaw:function(){return It},geoContains:function(){return R},geoDistance:function(){return u},geoEqualEarth:function(){return rr},geoEqualEarthRaw:function(){return Pe},geoEquirectangular:function(){return ar.c},geoEquirectangularRaw:function(){return ar.u},geoGnomonic:function(){return lr.c},geoGnomonicRaw:function(){return lr.Y},geoGraticule:function(){return V},geoGraticule10:function(){return J},geoIdentity:function(){return ir},geoInterpolate:function(){return it.c},geoLength:function(){return y},geoMercator:function(){return Re},geoMercatorRaw:function(){return Fe},geoNaturalEarth1:function(){return Er.c},geoNaturalEarth1Raw:function(){return Er.g},geoOrthographic:function(){return kr.c},geoOrthographicRaw:function(){return kr.t},geoPath:function(){return be},geoProjection:function(){return Ne.c},geoProjectionMutator:function(){return Ne.U},geoRotation:function(){return Ee.c},geoStereographic:function(){return Gr},geoStereographicRaw:function(){return $r},geoStream:function(){return o.c},geoTransform:function(){return cr.c},geoTransverseMercator:function(){return yn},geoTransverseMercatorRaw:function(){return vn}});var E=t(95384),S=t(13696),i=t(24052),L=t(61780),T=t(78284),v=t(2728),d=t(21676);function r(){var hr=0,Lr=0,Ir=960,Rr=500,on,an,gn;return gn={stream:function(Mn){return on&&an===Mn?on:on=(0,d.c)(hr,Lr,Ir,Rr)(an=Mn)},extent:function(Mn){return arguments.length?(hr=+Mn[0][0],Lr=+Mn[0][1],Ir=+Mn[1][0],Rr=+Mn[1][1],on=an=null,gn):[[hr,Lr],[Ir,Rr]]}}}var e=t(58196),l=t(88728),n=t(64528),s=t(70932),o=t(16016),f=(0,l.c)(),b,h,_,a={sphere:s.c,point:s.c,lineStart:c,lineEnd:s.c,polygonStart:s.c,polygonEnd:s.c};function c(){a.point=x,a.lineEnd=p}function p(){a.point=a.lineEnd=s.c}function x(hr,Lr){hr*=n.qw,Lr*=n.qw,b=hr,h=(0,n.g$)(Lr),_=(0,n.W8)(Lr),a.point=k}function k(hr,Lr){hr*=n.qw,Lr*=n.qw;var Ir=(0,n.g$)(Lr),Rr=(0,n.W8)(Lr),on=(0,n.a2)(hr-b),an=(0,n.W8)(on),gn=(0,n.g$)(on),Mn=Rr*gn,Pn=_*Ir-h*Rr*an,Kn=h*Ir+_*Rr*an;f.add((0,n.WE)((0,n._I)(Mn*Mn+Pn*Pn),Kn)),b=hr,h=Ir,_=Rr}function y(hr){return f.reset(),(0,o.c)(hr,a),+f}var A=[null,null],C={type:"LineString",coordinates:A};function u(hr,Lr){return A[0]=hr,A[1]=Lr,y(C)}var m={Feature:function(hr,Lr){return w(hr.geometry,Lr)},FeatureCollection:function(hr,Lr){for(var Ir=hr.features,Rr=-1,on=Ir.length;++Rr<on;)if(w(Ir[Rr].geometry,Lr))return!0;return!1}},M={Sphere:function(){return!0},Point:function(hr,Lr){return z(hr.coordinates,Lr)},MultiPoint:function(hr,Lr){for(var Ir=hr.coordinates,Rr=-1,on=Ir.length;++Rr<on;)if(z(Ir[Rr],Lr))return!0;return!1},LineString:function(hr,Lr){return O(hr.coordinates,Lr)},MultiLineString:function(hr,Lr){for(var Ir=hr.coordinates,Rr=-1,on=Ir.length;++Rr<on;)if(O(Ir[Rr],Lr))return!0;return!1},Polygon:function(hr,Lr){return D(hr.coordinates,Lr)},MultiPolygon:function(hr,Lr){for(var Ir=hr.coordinates,Rr=-1,on=Ir.length;++Rr<on;)if(D(Ir[Rr],Lr))return!0;return!1},GeometryCollection:function(hr,Lr){for(var Ir=hr.geometries,Rr=-1,on=Ir.length;++Rr<on;)if(w(Ir[Rr],Lr))return!0;return!1}};function w(hr,Lr){return hr&&M.hasOwnProperty(hr.type)?M[hr.type](hr,Lr):!1}function z(hr,Lr){return u(hr,Lr)===0}function O(hr,Lr){for(var Ir,Rr,on,an=0,gn=hr.length;an<gn;an++){if(Rr=u(hr[an],Lr),Rr===0||an>0&&(on=u(hr[an],hr[an-1]),on>0&&Ir<=on&&Rr<=on&&(Ir+Rr-on)*(1-Math.pow((Ir-Rr)/on,2))<n.a8*on))return!0;Ir=Rr}return!1}function D(hr,Lr){return!!(0,e.c)(hr.map(P),F(Lr))}function P(hr){return hr=hr.map(F),hr.pop(),hr}function F(hr){return[hr[0]*n.qw,hr[1]*n.qw]}function R(hr,Lr){return(hr&&m.hasOwnProperty(hr.type)?m[hr.type]:w)(hr,Lr)}var N=t(84706);function B(hr,Lr,Ir){var Rr=(0,N.ik)(hr,Lr-n.Gg,Ir).concat(Lr);return function(on){return Rr.map(function(an){return[on,an]})}}function q(hr,Lr,Ir){var Rr=(0,N.ik)(hr,Lr-n.Gg,Ir).concat(Lr);return function(on){return Rr.map(function(an){return[an,on]})}}function V(){var hr,Lr,Ir,Rr,on,an,gn,Mn,Pn=10,Kn=Pn,ai=90,ui=360,ni,Cn,ur,qr,Ur=2.5;function nn(){return{type:"MultiLineString",coordinates:En()}}function En(){return(0,N.ik)((0,n.Km)(Rr/ai)*ai,Ir,ai).map(ur).concat((0,N.ik)((0,n.Km)(Mn/ui)*ui,gn,ui).map(qr)).concat((0,N.ik)((0,n.Km)(Lr/Pn)*Pn,hr,Pn).filter(function(sn){return(0,n.a2)(sn%ai)>n.Gg}).map(ni)).concat((0,N.ik)((0,n.Km)(an/Kn)*Kn,on,Kn).filter(function(sn){return(0,n.a2)(sn%ui)>n.Gg}).map(Cn))}return nn.lines=function(){return En().map(function(sn){return{type:"LineString",coordinates:sn}})},nn.outline=function(){return{type:"Polygon",coordinates:[ur(Rr).concat(qr(gn).slice(1),ur(Ir).reverse().slice(1),qr(Mn).reverse().slice(1))]}},nn.extent=function(sn){return arguments.length?nn.extentMajor(sn).extentMinor(sn):nn.extentMinor()},nn.extentMajor=function(sn){return arguments.length?(Rr=+sn[0][0],Ir=+sn[1][0],Mn=+sn[0][1],gn=+sn[1][1],Rr>Ir&&(sn=Rr,Rr=Ir,Ir=sn),Mn>gn&&(sn=Mn,Mn=gn,gn=sn),nn.precision(Ur)):[[Rr,Mn],[Ir,gn]]},nn.extentMinor=function(sn){return arguments.length?(Lr=+sn[0][0],hr=+sn[1][0],an=+sn[0][1],on=+sn[1][1],Lr>hr&&(sn=Lr,Lr=hr,hr=sn),an>on&&(sn=an,an=on,on=sn),nn.precision(Ur)):[[Lr,an],[hr,on]]},nn.step=function(sn){return arguments.length?nn.stepMajor(sn).stepMinor(sn):nn.stepMinor()},nn.stepMajor=function(sn){return arguments.length?(ai=+sn[0],ui=+sn[1],nn):[ai,ui]},nn.stepMinor=function(sn){return arguments.length?(Pn=+sn[0],Kn=+sn[1],nn):[Pn,Kn]},nn.precision=function(sn){return arguments.length?(Ur=+sn,ni=B(an,on,90),Cn=q(Lr,hr,Ur),ur=B(Mn,gn,90),qr=q(Rr,Ir,Ur),nn):Ur},nn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function J(){return V()()}var it=t(27284),nt=t(7376),Y=(0,l.c)(),Z=(0,l.c)(),$,G,rt,ot,W={point:s.c,lineStart:s.c,lineEnd:s.c,polygonStart:function(){W.lineStart=H,W.lineEnd=ct},polygonEnd:function(){W.lineStart=W.lineEnd=W.point=s.c,Y.add((0,n.a2)(Z)),Z.reset()},result:function(){var hr=Y/2;return Y.reset(),hr}};function H(){W.point=at}function at(hr,Lr){W.point=Q,$=rt=hr,G=ot=Lr}function Q(hr,Lr){Z.add(ot*hr-rt*Lr),rt=hr,ot=Lr}function ct(){Q($,G)}var ft=W,yt=t(73784),xt=0,Lt=0,gt=0,mt=0,vt=0,At=0,Ot=0,Pt=0,Et=0,Nt,ne,Gt,pe,Vt={point:ae,lineStart:oe,lineEnd:ye,polygonStart:function(){Vt.lineStart=Tt,Vt.lineEnd=Ft},polygonEnd:function(){Vt.point=ae,Vt.lineStart=oe,Vt.lineEnd=ye},result:function(){var hr=Et?[Ot/Et,Pt/Et]:At?[mt/At,vt/At]:gt?[xt/gt,Lt/gt]:[NaN,NaN];return xt=Lt=gt=mt=vt=At=Ot=Pt=Et=0,hr}};function ae(hr,Lr){xt+=hr,Lt+=Lr,++gt}function oe(){Vt.point=ce}function ce(hr,Lr){Vt.point=le,ae(Gt=hr,pe=Lr)}function le(hr,Lr){var Ir=hr-Gt,Rr=Lr-pe,on=(0,n._I)(Ir*Ir+Rr*Rr);mt+=on*(Gt+hr)/2,vt+=on*(pe+Lr)/2,At+=on,ae(Gt=hr,pe=Lr)}function ye(){Vt.point=ae}function Tt(){Vt.point=$t}function Ft(){Wt(Nt,ne)}function $t(hr,Lr){Vt.point=Wt,ae(Nt=Gt=hr,ne=pe=Lr)}function Wt(hr,Lr){var Ir=hr-Gt,Rr=Lr-pe,on=(0,n._I)(Ir*Ir+Rr*Rr);mt+=on*(Gt+hr)/2,vt+=on*(pe+Lr)/2,At+=on,on=pe*hr-Gt*Lr,Ot+=on*(Gt+hr),Pt+=on*(pe+Lr),Et+=on*3,ae(Gt=hr,pe=Lr)}var Bt=Vt;function Mt(hr){this._context=hr}Mt.prototype={_radius:4.5,pointRadius:function(hr){return this._radius=hr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(hr,Lr){switch(this._point){case 0:{this._context.moveTo(hr,Lr),this._point=1;break}case 1:{this._context.lineTo(hr,Lr);break}default:{this._context.moveTo(hr+this._radius,Lr),this._context.arc(hr,Lr,this._radius,0,n.kD);break}}},result:s.c};var St=(0,l.c)(),Dt,dt,ht,bt,zt,qt={point:s.c,lineStart:function(){qt.point=te},lineEnd:function(){Dt&&re(dt,ht),qt.point=s.c},polygonStart:function(){Dt=!0},polygonEnd:function(){Dt=null},result:function(){var hr=+St;return St.reset(),hr}};function te(hr,Lr){qt.point=re,dt=bt=hr,ht=zt=Lr}function re(hr,Lr){bt-=hr,zt-=Lr,St.add((0,n._I)(bt*bt+zt*zt)),bt=hr,zt=Lr}var Ye=qt;function Be(){this._string=[]}Be.prototype={_radius:4.5,_circle:ge(4.5),pointRadius:function(hr){return(hr=+hr)!==this._radius&&(this._radius=hr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(hr,Lr){switch(this._point){case 0:{this._string.push("M",hr,",",Lr),this._point=1;break}case 1:{this._string.push("L",hr,",",Lr);break}default:{this._circle==null&&(this._circle=ge(this._radius)),this._string.push("M",hr,",",Lr,this._circle);break}}},result:function(){if(this._string.length){var hr=this._string.join("");return this._string=[],hr}else return null}};function ge(hr){return"m0,"+hr+"a"+hr+","+hr+" 0 1,1 0,"+-2*hr+"a"+hr+","+hr+" 0 1,1 0,"+2*hr+"z"}function be(hr,Lr){var Ir=4.5,Rr,on;function an(gn){return gn&&(typeof Ir=="function"&&on.pointRadius(+Ir.apply(this,arguments)),(0,o.c)(gn,Rr(on))),on.result()}return an.area=function(gn){return(0,o.c)(gn,Rr(ft)),ft.result()},an.measure=function(gn){return(0,o.c)(gn,Rr(Ye)),Ye.result()},an.bounds=function(gn){return(0,o.c)(gn,Rr(yt.c)),yt.c.result()},an.centroid=function(gn){return(0,o.c)(gn,Rr(Bt)),Bt.result()},an.projection=function(gn){return arguments.length?(Rr=gn==null?(hr=null,nt.c):(hr=gn).stream,an):hr},an.context=function(gn){return arguments.length?(on=gn==null?(Lr=null,new Be):new Mt(Lr=gn),typeof Ir!="function"&&on.pointRadius(Ir),an):Lr},an.pointRadius=function(gn){return arguments.length?(Ir=typeof gn=="function"?gn:(on.pointRadius(+gn),+gn),an):Ir},an.projection(hr).context(Lr)}var Ne=t(87952);function pr(hr){var Lr=0,Ir=n.pi/3,Rr=(0,Ne.U)(hr),on=Rr(Lr,Ir);return on.parallels=function(an){return arguments.length?Rr(Lr=an[0]*n.qw,Ir=an[1]*n.qw):[Lr*n.oh,Ir*n.oh]},on}function fe(hr){var Lr=(0,n.W8)(hr);function Ir(Rr,on){return[Rr*Lr,(0,n.g$)(on)/Lr]}return Ir.invert=function(Rr,on){return[Rr/Lr,(0,n.qR)(on*Lr)]},Ir}function De(hr,Lr){var Ir=(0,n.g$)(hr),Rr=(Ir+(0,n.g$)(Lr))/2;if((0,n.a2)(Rr)<n.Gg)return fe(hr);var on=1+Ir*(2*Rr-Ir),an=(0,n._I)(on)/Rr;function gn(Mn,Pn){var Kn=(0,n._I)(on-2*Rr*(0,n.g$)(Pn))/Rr;return[Kn*(0,n.g$)(Mn*=Rr),an-Kn*(0,n.W8)(Mn)]}return gn.invert=function(Mn,Pn){var Kn=an-Pn,ai=(0,n.WE)(Mn,(0,n.a2)(Kn))*(0,n.kq)(Kn);return Kn*Rr<0&&(ai-=n.pi*(0,n.kq)(Mn)*(0,n.kq)(Kn)),[ai/Rr,(0,n.qR)((on-(Mn*Mn+Kn*Kn)*Rr*Rr)/(2*Rr))]},gn}function Ge(){return pr(De).scale(155.424).center([0,33.6442])}function vr(){return Ge().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var $e=t(86420);function Kt(hr){var Lr=hr.length;return{point:function(Ir,Rr){for(var on=-1;++on<Lr;)hr[on].point(Ir,Rr)},sphere:function(){for(var Ir=-1;++Ir<Lr;)hr[Ir].sphere()},lineStart:function(){for(var Ir=-1;++Ir<Lr;)hr[Ir].lineStart()},lineEnd:function(){for(var Ir=-1;++Ir<Lr;)hr[Ir].lineEnd()},polygonStart:function(){for(var Ir=-1;++Ir<Lr;)hr[Ir].polygonStart()},polygonEnd:function(){for(var Ir=-1;++Ir<Lr;)hr[Ir].polygonEnd()}}}function ie(){var hr,Lr,Ir=vr(),Rr,on=Ge().rotate([154,0]).center([-2,58.5]).parallels([55,65]),an,gn=Ge().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Mn,Pn,Kn={point:function(ni,Cn){Pn=[ni,Cn]}};function ai(ni){var Cn=ni[0],ur=ni[1];return Pn=null,Rr.point(Cn,ur),Pn||(an.point(Cn,ur),Pn)||(Mn.point(Cn,ur),Pn)}ai.invert=function(ni){var Cn=Ir.scale(),ur=Ir.translate(),qr=(ni[0]-ur[0])/Cn,Ur=(ni[1]-ur[1])/Cn;return(Ur>=.12&&Ur<.234&&qr>=-.425&&qr<-.214?on:Ur>=.166&&Ur<.234&&qr>=-.214&&qr<-.115?gn:Ir).invert(ni)},ai.stream=function(ni){return hr&&Lr===ni?hr:hr=Kt([Ir.stream(Lr=ni),on.stream(ni),gn.stream(ni)])},ai.precision=function(ni){return arguments.length?(Ir.precision(ni),on.precision(ni),gn.precision(ni),ui()):Ir.precision()},ai.scale=function(ni){return arguments.length?(Ir.scale(ni),on.scale(ni*.35),gn.scale(ni),ai.translate(Ir.translate())):Ir.scale()},ai.translate=function(ni){if(!arguments.length)return Ir.translate();var Cn=Ir.scale(),ur=+ni[0],qr=+ni[1];return Rr=Ir.translate(ni).clipExtent([[ur-.455*Cn,qr-.238*Cn],[ur+.455*Cn,qr+.238*Cn]]).stream(Kn),an=on.translate([ur-.307*Cn,qr+.201*Cn]).clipExtent([[ur-.425*Cn+n.Gg,qr+.12*Cn+n.Gg],[ur-.214*Cn-n.Gg,qr+.234*Cn-n.Gg]]).stream(Kn),Mn=gn.translate([ur-.205*Cn,qr+.212*Cn]).clipExtent([[ur-.214*Cn+n.Gg,qr+.166*Cn+n.Gg],[ur-.115*Cn-n.Gg,qr+.234*Cn-n.Gg]]).stream(Kn),ui()},ai.fitExtent=function(ni,Cn){return(0,$e.QX)(ai,ni,Cn)},ai.fitSize=function(ni,Cn){return(0,$e.UV)(ai,ni,Cn)},ai.fitWidth=function(ni,Cn){return(0,$e.Qx)(ai,ni,Cn)},ai.fitHeight=function(ni,Cn){return(0,$e.OW)(ai,ni,Cn)};function ui(){return hr=Lr=null,ai}return ai.scale(1070)}var he=t(54724),Ae=t(69020),Ee=t(92992);function Fe(hr,Lr){return[hr,(0,n.Yz)((0,n.a6)((n.or+Lr)/2))]}Fe.invert=function(hr,Lr){return[hr,2*(0,n.MQ)((0,n.oN)(Lr))-n.or]};function Re(){return Ce(Fe).scale(961/n.kD)}function Ce(hr){var Lr=(0,Ne.c)(hr),Ir=Lr.center,Rr=Lr.scale,on=Lr.translate,an=Lr.clipExtent,gn=null,Mn,Pn,Kn;Lr.scale=function(ui){return arguments.length?(Rr(ui),ai()):Rr()},Lr.translate=function(ui){return arguments.length?(on(ui),ai()):on()},Lr.center=function(ui){return arguments.length?(Ir(ui),ai()):Ir()},Lr.clipExtent=function(ui){return arguments.length?(ui==null?gn=Mn=Pn=Kn=null:(gn=+ui[0][0],Mn=+ui[0][1],Pn=+ui[1][0],Kn=+ui[1][1]),ai()):gn==null?null:[[gn,Mn],[Pn,Kn]]};function ai(){var ui=n.pi*Rr(),ni=Lr((0,Ee.c)(Lr.rotate()).invert([0,0]));return an(gn==null?[[ni[0]-ui,ni[1]-ui],[ni[0]+ui,ni[1]+ui]]:hr===Fe?[[Math.max(ni[0]-ui,gn),Mn],[Math.min(ni[0]+ui,Pn),Kn]]:[[gn,Math.max(ni[1]-ui,Mn)],[Pn,Math.min(ni[1]+ui,Kn)]])}return ai()}function We(hr){return(0,n.a6)((n.or+hr)/2)}function er(hr,Lr){var Ir=(0,n.W8)(hr),Rr=hr===Lr?(0,n.g$)(hr):(0,n.Yz)(Ir/(0,n.W8)(Lr))/(0,n.Yz)(We(Lr)/We(hr)),on=Ir*(0,n.g3)(We(hr),Rr)/Rr;if(!Rr)return Fe;function an(gn,Mn){on>0?Mn<-n.or+n.Gg&&(Mn=-n.or+n.Gg):Mn>n.or-n.Gg&&(Mn=n.or-n.Gg);var Pn=on/(0,n.g3)(We(Mn),Rr);return[Pn*(0,n.g$)(Rr*gn),on-Pn*(0,n.W8)(Rr*gn)]}return an.invert=function(gn,Mn){var Pn=on-Mn,Kn=(0,n.kq)(Rr)*(0,n._I)(gn*gn+Pn*Pn),ai=(0,n.WE)(gn,(0,n.a2)(Pn))*(0,n.kq)(Pn);return Pn*Rr<0&&(ai-=n.pi*(0,n.kq)(gn)*(0,n.kq)(Pn)),[ai/Rr,2*(0,n.MQ)((0,n.g3)(on/Kn,1/Rr))-n.or]},an}function Ue(){return pr(er).scale(109.5).parallels([30,30])}var ar=t(69604);function It(hr,Lr){var Ir=(0,n.W8)(hr),Rr=hr===Lr?(0,n.g$)(hr):(Ir-(0,n.W8)(Lr))/(Lr-hr),on=Ir/Rr+hr;if((0,n.a2)(Rr)<n.Gg)return ar.u;function an(gn,Mn){var Pn=on-Mn,Kn=Rr*gn;return[Pn*(0,n.g$)(Kn),on-Pn*(0,n.W8)(Kn)]}return an.invert=function(gn,Mn){var Pn=on-Mn,Kn=(0,n.WE)(gn,(0,n.a2)(Pn))*(0,n.kq)(Pn);return Pn*Rr<0&&(Kn-=n.pi*(0,n.kq)(gn)*(0,n.kq)(Pn)),[Kn/Rr,on-(0,n.kq)(Rr)*(0,n._I)(gn*gn+Pn*Pn)]},an}function Ut(){return pr(It).scale(131.154).center([0,13.9389])}var Me=1.340264,ke=-.081106,qe=893e-6,Ke=.003796,Je=(0,n._I)(3)/2,Ve=12;function Pe(hr,Lr){var Ir=(0,n.qR)(Je*(0,n.g$)(Lr)),Rr=Ir*Ir,on=Rr*Rr*Rr;return[hr*(0,n.W8)(Ir)/(Je*(Me+3*ke*Rr+on*(7*qe+9*Ke*Rr))),Ir*(Me+ke*Rr+on*(qe+Ke*Rr))]}Pe.invert=function(hr,Lr){for(var Ir=Lr,Rr=Ir*Ir,on=Rr*Rr*Rr,an=0,gn,Mn,Pn;an<Ve&&(Mn=Ir*(Me+ke*Rr+on*(qe+Ke*Rr))-Lr,Pn=Me+3*ke*Rr+on*(7*qe+9*Ke*Rr),Ir-=gn=Mn/Pn,Rr=Ir*Ir,on=Rr*Rr*Rr,!((0,n.a2)(gn)<n.a8));++an);return[Je*hr*(Me+3*ke*Rr+on*(7*qe+9*Ke*Rr))/(0,n.W8)(Ir),(0,n.qR)((0,n.g$)(Ir)/Je)]};function rr(){return(0,Ne.c)(Pe).scale(177.158)}var lr=t(53285),cr=t(15196);function ir(){var hr=1,Lr=0,Ir=0,Rr=1,on=1,an=0,gn,Mn,Pn=null,Kn,ai,ui,ni=1,Cn=1,ur=(0,cr.s)({point:function(An,Ln){var qn=sn([An,Ln]);this.stream.point(qn[0],qn[1])}}),qr=nt.c,Ur,nn;function En(){return ni=hr*Rr,Cn=hr*on,Ur=nn=null,sn}function sn(An){var Ln=An[0]*ni,qn=An[1]*Cn;if(an){var ii=qn*gn-Ln*Mn;Ln=Ln*gn+qn*Mn,qn=ii}return[Ln+Lr,qn+Ir]}return sn.invert=function(An){var Ln=An[0]-Lr,qn=An[1]-Ir;if(an){var ii=qn*gn+Ln*Mn;Ln=Ln*gn-qn*Mn,qn=ii}return[Ln/ni,qn/Cn]},sn.stream=function(An){return Ur&&nn===An?Ur:Ur=ur(qr(nn=An))},sn.postclip=function(An){return arguments.length?(qr=An,Pn=Kn=ai=ui=null,En()):qr},sn.clipExtent=function(An){return arguments.length?(qr=An==null?(Pn=Kn=ai=ui=null,nt.c):(0,d.c)(Pn=+An[0][0],Kn=+An[0][1],ai=+An[1][0],ui=+An[1][1]),En()):Pn==null?null:[[Pn,Kn],[ai,ui]]},sn.scale=function(An){return arguments.length?(hr=+An,En()):hr},sn.translate=function(An){return arguments.length?(Lr=+An[0],Ir=+An[1],En()):[Lr,Ir]},sn.angle=function(An){return arguments.length?(an=An%360*n.qw,Mn=(0,n.g$)(an),gn=(0,n.W8)(an),En()):an*n.oh},sn.reflectX=function(An){return arguments.length?(Rr=An?-1:1,En()):Rr<0},sn.reflectY=function(An){return arguments.length?(on=An?-1:1,En()):on<0},sn.fitExtent=function(An,Ln){return(0,$e.QX)(sn,An,Ln)},sn.fitSize=function(An,Ln){return(0,$e.UV)(sn,An,Ln)},sn.fitWidth=function(An,Ln){return(0,$e.Qx)(sn,An,Ln)},sn.fitHeight=function(An,Ln){return(0,$e.OW)(sn,An,Ln)},sn}var Er=t(47984),kr=t(4888),Mr=t(62280);function $r(hr,Lr){var Ir=(0,n.W8)(Lr),Rr=1+(0,n.W8)(hr)*Ir;return[Ir*(0,n.g$)(hr)/Rr,(0,n.g$)(Lr)/Rr]}$r.invert=(0,Mr.g)(function(hr){return 2*(0,n.MQ)(hr)});function Gr(){return(0,Ne.c)($r).scale(250).clipAngle(142)}function vn(hr,Lr){return[(0,n.Yz)((0,n.a6)((n.or+Lr)/2)),-hr]}vn.invert=function(hr,Lr){return[-Lr,2*(0,n.MQ)((0,n.oN)(hr))-n.or]};function yn(){var hr=Ce(vn),Lr=hr.center,Ir=hr.rotate;return hr.center=function(Rr){return arguments.length?Lr([-Rr[1],Rr[0]]):(Rr=Lr(),[Rr[1],-Rr[0]])},hr.rotate=function(Rr){return arguments.length?Ir([Rr[0],Rr[1],Rr.length>2?Rr[2]+90:90]):(Rr=Ir(),[Rr[0],Rr[1],Rr[2]-90])},Ir([0,0,90]).scale(159.155)}},27284:function(tt,U,t){t.d(U,{c:function(){return S}});var E=t(64528);function S(i,L){var T=i[0]*E.qw,v=i[1]*E.qw,d=L[0]*E.qw,r=L[1]*E.qw,e=(0,E.W8)(v),l=(0,E.g$)(v),n=(0,E.W8)(r),s=(0,E.g$)(r),o=e*(0,E.W8)(T),f=e*(0,E.g$)(T),b=n*(0,E.W8)(d),h=n*(0,E.g$)(d),_=2*(0,E.qR)((0,E._I)((0,E.SD)(r-v)+e*n*(0,E.SD)(d-T))),a=(0,E.g$)(_),c=_?function(p){var x=(0,E.g$)(p*=_)/a,k=(0,E.g$)(_-p)/a,y=k*o+x*b,A=k*f+x*h,C=k*l+x*s;return[(0,E.WE)(A,y)*E.oh,(0,E.WE)(C,(0,E._I)(y*y+A*A))*E.oh]}:function(){return[T*E.oh,v*E.oh]};return c.distance=_,c}},64528:function(tt,U,t){t.d(U,{Gg:function(){return E},Km:function(){return o},MQ:function(){return l},SD:function(){return y},W8:function(){return s},WE:function(){return n},Yz:function(){return b},_I:function(){return c},a2:function(){return e},a6:function(){return p},a8:function(){return S},g$:function(){return _},g3:function(){return h},kD:function(){return v},kq:function(){return a},mE:function(){return x},oN:function(){return f},oh:function(){return d},or:function(){return L},pi:function(){return i},qR:function(){return k},qw:function(){return r},wL:function(){return T}});var E=1e-6,S=1e-12,i=Math.PI,L=i/2,T=i/4,v=i*2,d=180/i,r=i/180,e=Math.abs,l=Math.atan,n=Math.atan2,s=Math.cos,o=Math.ceil,f=Math.exp,b=Math.log,h=Math.pow,_=Math.sin,a=Math.sign||function(A){return A>0?1:A<0?-1:0},c=Math.sqrt,p=Math.tan;function x(A){return A>1?0:A<-1?i:Math.acos(A)}function k(A){return A>1?L:A<-1?-L:Math.asin(A)}function y(A){return(A=_(A/2))*A}},70932:function(tt,U,t){t.d(U,{c:function(){return E}});function E(){}},73784:function(tt,U,t){var E=t(70932),S=1/0,i=S,L=-S,T=L,v={point:d,lineStart:E.c,lineEnd:E.c,polygonStart:E.c,polygonEnd:E.c,result:function(){var r=[[S,i],[L,T]];return L=T=-(i=S=1/0),r}};function d(r,e){r<S&&(S=r),r>L&&(L=r),e<i&&(i=e),e>T&&(T=e)}U.c=v},41860:function(tt,U,t){t.d(U,{c:function(){return S}});var E=t(64528);function S(i,L){return(0,E.a2)(i[0]-L[0])<E.Gg&&(0,E.a2)(i[1]-L[1])<E.Gg}},58196:function(tt,U,t){t.d(U,{c:function(){return v}});var E=t(88728),S=t(84220),i=t(64528),L=(0,E.c)();function T(d){return(0,i.a2)(d[0])<=i.pi?d[0]:(0,i.kq)(d[0])*(((0,i.a2)(d[0])+i.pi)%i.kD-i.pi)}function v(d,r){var e=T(r),l=r[1],n=(0,i.g$)(l),s=[(0,i.g$)(e),-(0,i.W8)(e),0],o=0,f=0;L.reset(),n===1?l=i.or+i.Gg:n===-1&&(l=-i.or-i.Gg);for(var b=0,h=d.length;b<h;++b)if(a=(_=d[b]).length)for(var _,a,c=_[a-1],p=T(c),x=c[1]/2+i.wL,k=(0,i.g$)(x),y=(0,i.W8)(x),A=0;A<a;++A,p=u,k=M,y=w,c=C){var C=_[A],u=T(C),m=C[1]/2+i.wL,M=(0,i.g$)(m),w=(0,i.W8)(m),z=u-p,O=z>=0?1:-1,D=O*z,P=D>i.pi,F=k*M;if(L.add((0,i.WE)(F*O*(0,i.g$)(D),y*w+F*(0,i.W8)(D))),o+=P?z+O*i.kD:z,P^p>=e^u>=e){var R=(0,S.CW)((0,S.ux)(c),(0,S.ux)(C));(0,S.cJ)(R);var N=(0,S.CW)(s,R);(0,S.cJ)(N);var B=(P^z>=0?-1:1)*(0,i.qR)(N[2]);(l>B||l===B&&(R[0]||R[1]))&&(f+=P^z>=0?1:-1)}}return(o<-i.Gg||o<i.Gg&&L<-i.Gg)^f&1}},62280:function(tt,U,t){t.d(U,{a:function(){return S},g:function(){return i}});var E=t(64528);function S(L){return function(T,v){var d=(0,E.W8)(T),r=(0,E.W8)(v),e=L(d*r);return[e*r*(0,E.g$)(T),e*(0,E.g$)(v)]}}function i(L){return function(T,v){var d=(0,E._I)(T*T+v*v),r=L(d),e=(0,E.g$)(r),l=(0,E.W8)(r);return[(0,E.WE)(T*e,d*l),(0,E.qR)(d&&v*e/d)]}}},54724:function(tt,U,t){t.d(U,{c:function(){return T},y:function(){return L}});var E=t(64528),S=t(62280),i=t(87952),L=(0,S.a)(function(v){return(0,E._I)(2/(1+v))});L.invert=(0,S.g)(function(v){return 2*(0,E.qR)(v/2)});function T(){return(0,i.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(tt,U,t){t.d(U,{O:function(){return L},c:function(){return T}});var E=t(64528),S=t(62280),i=t(87952),L=(0,S.a)(function(v){return(v=(0,E.mE)(v))&&v/(0,E.g$)(v)});L.invert=(0,S.g)(function(v){return v});function T(){return(0,i.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(tt,U,t){t.d(U,{c:function(){return i},u:function(){return S}});var E=t(87952);function S(L,T){return[L,T]}S.invert=S;function i(){return(0,E.c)(S).scale(152.63)}},86420:function(tt,U,t){t.d(U,{OW:function(){return d},QX:function(){return L},Qx:function(){return v},UV:function(){return T}});var E=t(16016),S=t(73784);function i(r,e,l){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,E.c)(l,r.stream(S.c)),e(S.c.result()),n!=null&&r.clipExtent(n),r}function L(r,e,l){return i(r,function(n){var s=e[1][0]-e[0][0],o=e[1][1]-e[0][1],f=Math.min(s/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),b=+e[0][0]+(s-f*(n[1][0]+n[0][0]))/2,h=+e[0][1]+(o-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([b,h])},l)}function T(r,e,l){return L(r,[[0,0],e],l)}function v(r,e,l){return i(r,function(n){var s=+e,o=s/(n[1][0]-n[0][0]),f=(s-o*(n[1][0]+n[0][0]))/2,b=-o*n[0][1];r.scale(150*o).translate([f,b])},l)}function d(r,e,l){return i(r,function(n){var s=+e,o=s/(n[1][1]-n[0][1]),f=-o*n[0][0],b=(s-o*(n[1][1]+n[0][1]))/2;r.scale(150*o).translate([f,b])},l)}},53285:function(tt,U,t){t.d(U,{Y:function(){return L},c:function(){return T}});var E=t(64528),S=t(62280),i=t(87952);function L(v,d){var r=(0,E.W8)(d),e=(0,E.W8)(v)*r;return[r*(0,E.g$)(v)/e,(0,E.g$)(d)/e]}L.invert=(0,S.g)(E.MQ);function T(){return(0,i.c)(L).scale(144.049).clipAngle(60)}},87952:function(tt,U,t){t.d(U,{c:function(){return p},U:function(){return x}});var E=t(78284),S=t(2728),i=t(21676),L=t(68120),T=t(7376),v=t(64528),d=t(92992),r=t(15196),e=t(86420),l=t(84220),n=16,s=(0,v.W8)(30*v.qw);function o(k,y){return+y?b(k,y):f(k)}function f(k){return(0,r.s)({point:function(y,A){y=k(y,A),this.stream.point(y[0],y[1])}})}function b(k,y){function A(C,u,m,M,w,z,O,D,P,F,R,N,B,q){var V=O-C,J=D-u,it=V*V+J*J;if(it>4*y&&B--){var nt=M+F,Y=w+R,Z=z+N,$=(0,v._I)(nt*nt+Y*Y+Z*Z),G=(0,v.qR)(Z/=$),rt=(0,v.a2)((0,v.a2)(Z)-1)<v.Gg||(0,v.a2)(m-P)<v.Gg?(m+P)/2:(0,v.WE)(Y,nt),ot=k(rt,G),W=ot[0],H=ot[1],at=W-C,Q=H-u,ct=J*at-V*Q;(ct*ct/it>y||(0,v.a2)((V*at+J*Q)/it-.5)>.3||M*F+w*R+z*N<s)&&(A(C,u,m,M,w,z,W,H,rt,nt/=$,Y/=$,Z,B,q),q.point(W,H),A(W,H,rt,nt,Y,Z,O,D,P,F,R,N,B,q))}}return function(C){var u,m,M,w,z,O,D,P,F,R,N,B,q={point:V,lineStart:J,lineEnd:nt,polygonStart:function(){C.polygonStart(),q.lineStart=Y},polygonEnd:function(){C.polygonEnd(),q.lineStart=J}};function V(G,rt){G=k(G,rt),C.point(G[0],G[1])}function J(){P=NaN,q.point=it,C.lineStart()}function it(G,rt){var ot=(0,l.ux)([G,rt]),W=k(G,rt);A(P,F,D,R,N,B,P=W[0],F=W[1],D=G,R=ot[0],N=ot[1],B=ot[2],n,C),C.point(P,F)}function nt(){q.point=V,C.lineEnd()}function Y(){J(),q.point=Z,q.lineEnd=$}function Z(G,rt){it(u=G,rt),m=P,M=F,w=R,z=N,O=B,q.point=it}function $(){A(P,F,D,R,N,B,m,M,u,w,z,O,n,C),q.lineEnd=nt,nt()}return q}}var h=(0,r.s)({point:function(k,y){this.stream.point(k*v.qw,y*v.qw)}});function _(k){return(0,r.s)({point:function(y,A){var C=k(y,A);return this.stream.point(C[0],C[1])}})}function a(k,y,A,C,u){function m(M,w){return M*=C,w*=u,[y+k*M,A-k*w]}return m.invert=function(M,w){return[(M-y)/k*C,(A-w)/k*u]},m}function c(k,y,A,C,u,m){var M=(0,v.W8)(m),w=(0,v.g$)(m),z=M*k,O=w*k,D=M/k,P=w/k,F=(w*A-M*y)/k,R=(w*y+M*A)/k;function N(B,q){return B*=C,q*=u,[z*B-O*q+y,A-O*B-z*q]}return N.invert=function(B,q){return[C*(D*B-P*q+F),u*(R-P*B-D*q)]},N}function p(k){return x(function(){return k})()}function x(k){var y,A=150,C=480,u=250,m=0,M=0,w=0,z=0,O=0,D,P=0,F=1,R=1,N=null,B=E.c,q=null,V,J,it,nt=T.c,Y=.5,Z,$,G,rt,ot;function W(ct){return G(ct[0]*v.qw,ct[1]*v.qw)}function H(ct){return ct=G.invert(ct[0],ct[1]),ct&&[ct[0]*v.oh,ct[1]*v.oh]}W.stream=function(ct){return rt&&ot===ct?rt:rt=h(_(D)(B(Z(nt(ot=ct)))))},W.preclip=function(ct){return arguments.length?(B=ct,N=void 0,Q()):B},W.postclip=function(ct){return arguments.length?(nt=ct,q=V=J=it=null,Q()):nt},W.clipAngle=function(ct){return arguments.length?(B=+ct?(0,S.c)(N=ct*v.qw):(N=null,E.c),Q()):N*v.oh},W.clipExtent=function(ct){return arguments.length?(nt=ct==null?(q=V=J=it=null,T.c):(0,i.c)(q=+ct[0][0],V=+ct[0][1],J=+ct[1][0],it=+ct[1][1]),Q()):q==null?null:[[q,V],[J,it]]},W.scale=function(ct){return arguments.length?(A=+ct,at()):A},W.translate=function(ct){return arguments.length?(C=+ct[0],u=+ct[1],at()):[C,u]},W.center=function(ct){return arguments.length?(m=ct[0]%360*v.qw,M=ct[1]%360*v.qw,at()):[m*v.oh,M*v.oh]},W.rotate=function(ct){return arguments.length?(w=ct[0]%360*v.qw,z=ct[1]%360*v.qw,O=ct.length>2?ct[2]%360*v.qw:0,at()):[w*v.oh,z*v.oh,O*v.oh]},W.angle=function(ct){return arguments.length?(P=ct%360*v.qw,at()):P*v.oh},W.reflectX=function(ct){return arguments.length?(F=ct?-1:1,at()):F<0},W.reflectY=function(ct){return arguments.length?(R=ct?-1:1,at()):R<0},W.precision=function(ct){return arguments.length?(Z=o($,Y=ct*ct),Q()):(0,v._I)(Y)},W.fitExtent=function(ct,ft){return(0,e.QX)(W,ct,ft)},W.fitSize=function(ct,ft){return(0,e.UV)(W,ct,ft)},W.fitWidth=function(ct,ft){return(0,e.Qx)(W,ct,ft)},W.fitHeight=function(ct,ft){return(0,e.OW)(W,ct,ft)};function at(){var ct=c(A,0,0,F,R,P).apply(null,y(m,M)),ft=(P?c:a)(A,C-ct[0],u-ct[1],F,R,P);return D=(0,d.O)(w,z,O),$=(0,L.c)(y,ft),G=(0,L.c)(D,$),Z=o($,Y),Q()}function Q(){return rt=ot=null,W}return function(){return y=k.apply(this,arguments),W.invert=y.invert&&H,at()}}},47984:function(tt,U,t){t.d(U,{c:function(){return L},g:function(){return i}});var E=t(87952),S=t(64528);function i(T,v){var d=v*v,r=d*d;return[T*(.8707-.131979*d+r*(-.013791+r*(.003971*d-.001529*r))),v*(1.007226+d*(.015085+r*(-.044475+.028874*d-.005916*r)))]}i.invert=function(T,v){var d=v,r=25,e;do{var l=d*d,n=l*l;d-=e=(d*(1.007226+l*(.015085+n*(-.044475+.028874*l-.005916*n)))-v)/(1.007226+l*(.045255+n*(-.311325+.259866*l-.06507600000000001*n)))}while((0,S.a2)(e)>S.Gg&&--r>0);return[T/(.8707+(l=d*d)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),d]};function L(){return(0,E.c)(i).scale(175.295)}},4888:function(tt,U,t){t.d(U,{c:function(){return T},t:function(){return L}});var E=t(64528),S=t(62280),i=t(87952);function L(v,d){return[(0,E.W8)(d)*(0,E.g$)(v),(0,E.g$)(d)]}L.invert=(0,S.g)(E.qR);function T(){return(0,i.c)(L).scale(249.5).clipAngle(90+E.Gg)}},92992:function(tt,U,t){t.d(U,{O:function(){return L},c:function(){return r}});var E=t(68120),S=t(64528);function i(e,l){return[(0,S.a2)(e)>S.pi?e+Math.round(-e/S.kD)*S.kD:e,l]}i.invert=i;function L(e,l,n){return(e%=S.kD)?l||n?(0,E.c)(v(e),d(l,n)):v(e):l||n?d(l,n):i}function T(e){return function(l,n){return l+=e,[l>S.pi?l-S.kD:l<-S.pi?l+S.kD:l,n]}}function v(e){var l=T(e);return l.invert=T(-e),l}function d(e,l){var n=(0,S.W8)(e),s=(0,S.g$)(e),o=(0,S.W8)(l),f=(0,S.g$)(l);function b(h,_){var a=(0,S.W8)(_),c=(0,S.W8)(h)*a,p=(0,S.g$)(h)*a,x=(0,S.g$)(_),k=x*n+c*s;return[(0,S.WE)(p*o-k*f,c*n-x*s),(0,S.qR)(k*o+p*f)]}return b.invert=function(h,_){var a=(0,S.W8)(_),c=(0,S.W8)(h)*a,p=(0,S.g$)(h)*a,x=(0,S.g$)(_),k=x*o-p*f;return[(0,S.WE)(p*o+x*f,c*n+k*s),(0,S.qR)(k*n-c*s)]},b}function r(e){e=L(e[0]*S.qw,e[1]*S.qw,e.length>2?e[2]*S.qw:0);function l(n){return n=e(n[0]*S.qw,n[1]*S.qw),n[0]*=S.oh,n[1]*=S.oh,n}return l.invert=function(n){return n=e.invert(n[0]*S.qw,n[1]*S.qw),n[0]*=S.oh,n[1]*=S.oh,n},l}},16016:function(tt,U,t){t.d(U,{c:function(){return v}});function E(d,r){d&&i.hasOwnProperty(d.type)&&i[d.type](d,r)}var S={Feature:function(d,r){E(d.geometry,r)},FeatureCollection:function(d,r){for(var e=d.features,l=-1,n=e.length;++l<n;)E(e[l].geometry,r)}},i={Sphere:function(d,r){r.sphere()},Point:function(d,r){d=d.coordinates,r.point(d[0],d[1],d[2])},MultiPoint:function(d,r){for(var e=d.coordinates,l=-1,n=e.length;++l<n;)d=e[l],r.point(d[0],d[1],d[2])},LineString:function(d,r){L(d.coordinates,r,0)},MultiLineString:function(d,r){for(var e=d.coordinates,l=-1,n=e.length;++l<n;)L(e[l],r,0)},Polygon:function(d,r){T(d.coordinates,r)},MultiPolygon:function(d,r){for(var e=d.coordinates,l=-1,n=e.length;++l<n;)T(e[l],r)},GeometryCollection:function(d,r){for(var e=d.geometries,l=-1,n=e.length;++l<n;)E(e[l],r)}};function L(d,r,e){var l=-1,n=d.length-e,s;for(r.lineStart();++l<n;)s=d[l],r.point(s[0],s[1],s[2]);r.lineEnd()}function T(d,r){var e=-1,l=d.length;for(r.polygonStart();++e<l;)L(d[e],r,1);r.polygonEnd()}function v(d,r){d&&S.hasOwnProperty(d.type)?S[d.type](d,r):E(d,r)}},15196:function(tt,U,t){t.d(U,{c:function(){return E},s:function(){return S}});function E(L){return{stream:S(L)}}function S(L){return function(T){var v=new i;for(var d in L)v[d]=L[d];return v.stream=T,v}}function i(){}i.prototype={constructor:i,point:function(L,T){this.stream.point(L,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(tt,U,t){t.r(U),t.d(U,{cluster:function(){return r},hierarchy:function(){return k},pack:function(){return H},packEnclose:function(){return z},packSiblings:function(){return Z},partition:function(){return xt},stratify:function(){return Ot},tree:function(){return oe},treemap:function(){return Ft},treemapBinary:function(){return $t},treemapDice:function(){return yt},treemapResquarify:function(){return Bt},treemapSlice:function(){return ce},treemapSliceDice:function(){return Wt},treemapSquarify:function(){return Tt}});function E(Mt,St){return Mt.parent===St.parent?1:2}function S(Mt){return Mt.reduce(i,0)/Mt.length}function i(Mt,St){return Mt+St.x}function L(Mt){return 1+Mt.reduce(T,0)}function T(Mt,St){return Math.max(Mt,St.y)}function v(Mt){for(var St;St=Mt.children;)Mt=St[0];return Mt}function d(Mt){for(var St;St=Mt.children;)Mt=St[St.length-1];return Mt}function r(){var Mt=E,St=1,Dt=1,dt=!1;function ht(bt){var zt,qt=0;bt.eachAfter(function(ge){var be=ge.children;be?(ge.x=S(be),ge.y=L(be)):(ge.x=zt?qt+=Mt(ge,zt):0,ge.y=0,zt=ge)});var te=v(bt),re=d(bt),Ye=te.x-Mt(te,re)/2,Be=re.x+Mt(re,te)/2;return bt.eachAfter(dt?function(ge){ge.x=(ge.x-bt.x)*St,ge.y=(bt.y-ge.y)*Dt}:function(ge){ge.x=(ge.x-Ye)/(Be-Ye)*St,ge.y=(1-(bt.y?ge.y/bt.y:1))*Dt})}return ht.separation=function(bt){return arguments.length?(Mt=bt,ht):Mt},ht.size=function(bt){return arguments.length?(dt=!1,St=+bt[0],Dt=+bt[1],ht):dt?null:[St,Dt]},ht.nodeSize=function(bt){return arguments.length?(dt=!0,St=+bt[0],Dt=+bt[1],ht):dt?[St,Dt]:null},ht}function e(Mt){var St=0,Dt=Mt.children,dt=Dt&&Dt.length;if(!dt)St=1;else for(;--dt>=0;)St+=Dt[dt].value;Mt.value=St}function l(){return this.eachAfter(e)}function n(Mt){var St=this,Dt,dt=[St],ht,bt,zt;do for(Dt=dt.reverse(),dt=[];St=Dt.pop();)if(Mt(St),ht=St.children,ht)for(bt=0,zt=ht.length;bt<zt;++bt)dt.push(ht[bt]);while(dt.length);return this}function s(Mt){for(var St=this,Dt=[St],dt,ht;St=Dt.pop();)if(Mt(St),dt=St.children,dt)for(ht=dt.length-1;ht>=0;--ht)Dt.push(dt[ht]);return this}function o(Mt){for(var St=this,Dt=[St],dt=[],ht,bt,zt;St=Dt.pop();)if(dt.push(St),ht=St.children,ht)for(bt=0,zt=ht.length;bt<zt;++bt)Dt.push(ht[bt]);for(;St=dt.pop();)Mt(St);return this}function f(Mt){return this.eachAfter(function(St){for(var Dt=+Mt(St.data)||0,dt=St.children,ht=dt&&dt.length;--ht>=0;)Dt+=dt[ht].value;St.value=Dt})}function b(Mt){return this.eachBefore(function(St){St.children&&St.children.sort(Mt)})}function h(Mt){for(var St=this,Dt=_(St,Mt),dt=[St];St!==Dt;)St=St.parent,dt.push(St);for(var ht=dt.length;Mt!==Dt;)dt.splice(ht,0,Mt),Mt=Mt.parent;return dt}function _(Mt,St){if(Mt===St)return Mt;var Dt=Mt.ancestors(),dt=St.ancestors(),ht=null;for(Mt=Dt.pop(),St=dt.pop();Mt===St;)ht=Mt,Mt=Dt.pop(),St=dt.pop();return ht}function a(){for(var Mt=this,St=[Mt];Mt=Mt.parent;)St.push(Mt);return St}function c(){var Mt=[];return this.each(function(St){Mt.push(St)}),Mt}function p(){var Mt=[];return this.eachBefore(function(St){St.children||Mt.push(St)}),Mt}function x(){var Mt=this,St=[];return Mt.each(function(Dt){Dt!==Mt&&St.push({source:Dt.parent,target:Dt})}),St}function k(Mt,St){var Dt=new m(Mt),dt=+Mt.value&&(Dt.value=Mt.value),ht,bt=[Dt],zt,qt,te,re;for(St==null&&(St=A);ht=bt.pop();)if(dt&&(ht.value=+ht.data.value),(qt=St(ht.data))&&(re=qt.length))for(ht.children=new Array(re),te=re-1;te>=0;--te)bt.push(zt=ht.children[te]=new m(qt[te])),zt.parent=ht,zt.depth=ht.depth+1;return Dt.eachBefore(u)}function y(){return k(this).eachBefore(C)}function A(Mt){return Mt.children}function C(Mt){Mt.data=Mt.data.data}function u(Mt){var St=0;do Mt.height=St;while((Mt=Mt.parent)&&Mt.height<++St)}function m(Mt){this.data=Mt,this.depth=this.height=0,this.parent=null}m.prototype=k.prototype={constructor:m,count:l,each:n,eachAfter:o,eachBefore:s,sum:f,sort:b,path:h,ancestors:a,descendants:c,leaves:p,links:x,copy:y};var M=Array.prototype.slice;function w(Mt){for(var St=Mt.length,Dt,dt;St;)dt=Math.random()*St--|0,Dt=Mt[St],Mt[St]=Mt[dt],Mt[dt]=Dt;return Mt}function z(Mt){for(var St=0,Dt=(Mt=w(M.call(Mt))).length,dt=[],ht,bt;St<Dt;)ht=Mt[St],bt&&P(bt,ht)?++St:(bt=R(dt=O(dt,ht)),St=0);return bt}function O(Mt,St){var Dt,dt;if(F(St,Mt))return[St];for(Dt=0;Dt<Mt.length;++Dt)if(D(St,Mt[Dt])&&F(B(Mt[Dt],St),Mt))return[Mt[Dt],St];for(Dt=0;Dt<Mt.length-1;++Dt)for(dt=Dt+1;dt<Mt.length;++dt)if(D(B(Mt[Dt],Mt[dt]),St)&&D(B(Mt[Dt],St),Mt[dt])&&D(B(Mt[dt],St),Mt[Dt])&&F(q(Mt[Dt],Mt[dt],St),Mt))return[Mt[Dt],Mt[dt],St];throw new Error}function D(Mt,St){var Dt=Mt.r-St.r,dt=St.x-Mt.x,ht=St.y-Mt.y;return Dt<0||Dt*Dt<dt*dt+ht*ht}function P(Mt,St){var Dt=Mt.r-St.r+1e-6,dt=St.x-Mt.x,ht=St.y-Mt.y;return Dt>0&&Dt*Dt>dt*dt+ht*ht}function F(Mt,St){for(var Dt=0;Dt<St.length;++Dt)if(!P(Mt,St[Dt]))return!1;return!0}function R(Mt){switch(Mt.length){case 1:return N(Mt[0]);case 2:return B(Mt[0],Mt[1]);case 3:return q(Mt[0],Mt[1],Mt[2])}}function N(Mt){return{x:Mt.x,y:Mt.y,r:Mt.r}}function B(Mt,St){var Dt=Mt.x,dt=Mt.y,ht=Mt.r,bt=St.x,zt=St.y,qt=St.r,te=bt-Dt,re=zt-dt,Ye=qt-ht,Be=Math.sqrt(te*te+re*re);return{x:(Dt+bt+te/Be*Ye)/2,y:(dt+zt+re/Be*Ye)/2,r:(Be+ht+qt)/2}}function q(Mt,St,Dt){var dt=Mt.x,ht=Mt.y,bt=Mt.r,zt=St.x,qt=St.y,te=St.r,re=Dt.x,Ye=Dt.y,Be=Dt.r,ge=dt-zt,be=dt-re,Ne=ht-qt,pr=ht-Ye,fe=te-bt,De=Be-bt,Ge=dt*dt+ht*ht-bt*bt,vr=Ge-zt*zt-qt*qt+te*te,$e=Ge-re*re-Ye*Ye+Be*Be,Kt=be*Ne-ge*pr,ie=(Ne*$e-pr*vr)/(Kt*2)-dt,he=(pr*fe-Ne*De)/Kt,Ae=(be*vr-ge*$e)/(Kt*2)-ht,Ee=(ge*De-be*fe)/Kt,Fe=he*he+Ee*Ee-1,Re=2*(bt+ie*he+Ae*Ee),Ce=ie*ie+Ae*Ae-bt*bt,We=-(Fe?(Re+Math.sqrt(Re*Re-4*Fe*Ce))/(2*Fe):Ce/Re);return{x:dt+ie+he*We,y:ht+Ae+Ee*We,r:We}}function V(Mt,St,Dt){var dt=Mt.x-St.x,ht,bt,zt=Mt.y-St.y,qt,te,re=dt*dt+zt*zt;re?(bt=St.r+Dt.r,bt*=bt,te=Mt.r+Dt.r,te*=te,bt>te?(ht=(re+te-bt)/(2*re),qt=Math.sqrt(Math.max(0,te/re-ht*ht)),Dt.x=Mt.x-ht*dt-qt*zt,Dt.y=Mt.y-ht*zt+qt*dt):(ht=(re+bt-te)/(2*re),qt=Math.sqrt(Math.max(0,bt/re-ht*ht)),Dt.x=St.x+ht*dt-qt*zt,Dt.y=St.y+ht*zt+qt*dt)):(Dt.x=St.x+Dt.r,Dt.y=St.y)}function J(Mt,St){var Dt=Mt.r+St.r-1e-6,dt=St.x-Mt.x,ht=St.y-Mt.y;return Dt>0&&Dt*Dt>dt*dt+ht*ht}function it(Mt){var St=Mt._,Dt=Mt.next._,dt=St.r+Dt.r,ht=(St.x*Dt.r+Dt.x*St.r)/dt,bt=(St.y*Dt.r+Dt.y*St.r)/dt;return ht*ht+bt*bt}function nt(Mt){this._=Mt,this.next=null,this.previous=null}function Y(Mt){if(!(ht=Mt.length))return 0;var St,Dt,dt,ht,bt,zt,qt,te,re,Ye,Be;if(St=Mt[0],St.x=0,St.y=0,!(ht>1))return St.r;if(Dt=Mt[1],St.x=-Dt.r,Dt.x=St.r,Dt.y=0,!(ht>2))return St.r+Dt.r;V(Dt,St,dt=Mt[2]),St=new nt(St),Dt=new nt(Dt),dt=new nt(dt),St.next=dt.previous=Dt,Dt.next=St.previous=dt,dt.next=Dt.previous=St;t:for(qt=3;qt<ht;++qt){V(St._,Dt._,dt=Mt[qt]),dt=new nt(dt),te=Dt.next,re=St.previous,Ye=Dt._.r,Be=St._.r;do if(Ye<=Be){if(J(te._,dt._)){Dt=te,St.next=Dt,Dt.previous=St,--qt;continue t}Ye+=te._.r,te=te.next}else{if(J(re._,dt._)){St=re,St.next=Dt,Dt.previous=St,--qt;continue t}Be+=re._.r,re=re.previous}while(te!==re.next);for(dt.previous=St,dt.next=Dt,St.next=Dt.previous=Dt=dt,bt=it(St);(dt=dt.next)!==Dt;)(zt=it(dt))<bt&&(St=dt,bt=zt);Dt=St.next}for(St=[Dt._],dt=Dt;(dt=dt.next)!==Dt;)St.push(dt._);for(dt=z(St),qt=0;qt<ht;++qt)St=Mt[qt],St.x-=dt.x,St.y-=dt.y;return dt.r}function Z(Mt){return Y(Mt),Mt}function $(Mt){return Mt==null?null:G(Mt)}function G(Mt){if(typeof Mt!="function")throw new Error;return Mt}function rt(){return 0}function ot(Mt){return function(){return Mt}}function W(Mt){return Math.sqrt(Mt.value)}function H(){var Mt=null,St=1,Dt=1,dt=rt;function ht(bt){return bt.x=St/2,bt.y=Dt/2,Mt?bt.eachBefore(at(Mt)).eachAfter(Q(dt,.5)).eachBefore(ct(1)):bt.eachBefore(at(W)).eachAfter(Q(rt,1)).eachAfter(Q(dt,bt.r/Math.min(St,Dt))).eachBefore(ct(Math.min(St,Dt)/(2*bt.r))),bt}return ht.radius=function(bt){return arguments.length?(Mt=$(bt),ht):Mt},ht.size=function(bt){return arguments.length?(St=+bt[0],Dt=+bt[1],ht):[St,Dt]},ht.padding=function(bt){return arguments.length?(dt=typeof bt=="function"?bt:ot(+bt),ht):dt},ht}function at(Mt){return function(St){St.children||(St.r=Math.max(0,+Mt(St)||0))}}function Q(Mt,St){return function(Dt){if(dt=Dt.children){var dt,ht,bt=dt.length,zt=Mt(Dt)*St||0,qt;if(zt)for(ht=0;ht<bt;++ht)dt[ht].r+=zt;if(qt=Y(dt),zt)for(ht=0;ht<bt;++ht)dt[ht].r-=zt;Dt.r=qt+zt}}}function ct(Mt){return function(St){var Dt=St.parent;St.r*=Mt,Dt&&(St.x=Dt.x+Mt*St.x,St.y=Dt.y+Mt*St.y)}}function ft(Mt){Mt.x0=Math.round(Mt.x0),Mt.y0=Math.round(Mt.y0),Mt.x1=Math.round(Mt.x1),Mt.y1=Math.round(Mt.y1)}function yt(Mt,St,Dt,dt,ht){for(var bt=Mt.children,zt,qt=-1,te=bt.length,re=Mt.value&&(dt-St)/Mt.value;++qt<te;)zt=bt[qt],zt.y0=Dt,zt.y1=ht,zt.x0=St,zt.x1=St+=zt.value*re}function xt(){var Mt=1,St=1,Dt=0,dt=!1;function ht(zt){var qt=zt.height+1;return zt.x0=zt.y0=Dt,zt.x1=Mt,zt.y1=St/qt,zt.eachBefore(bt(St,qt)),dt&&zt.eachBefore(ft),zt}function bt(zt,qt){return function(te){te.children&&yt(te,te.x0,zt*(te.depth+1)/qt,te.x1,zt*(te.depth+2)/qt);var re=te.x0,Ye=te.y0,Be=te.x1-Dt,ge=te.y1-Dt;Be<re&&(re=Be=(re+Be)/2),ge<Ye&&(Ye=ge=(Ye+ge)/2),te.x0=re,te.y0=Ye,te.x1=Be,te.y1=ge}}return ht.round=function(zt){return arguments.length?(dt=!!zt,ht):dt},ht.size=function(zt){return arguments.length?(Mt=+zt[0],St=+zt[1],ht):[Mt,St]},ht.padding=function(zt){return arguments.length?(Dt=+zt,ht):Dt},ht}var Lt="$",gt={depth:-1},mt={};function vt(Mt){return Mt.id}function At(Mt){return Mt.parentId}function Ot(){var Mt=vt,St=At;function Dt(dt){var ht,bt,zt=dt.length,qt,te,re,Ye=new Array(zt),Be,ge,be={};for(bt=0;bt<zt;++bt)ht=dt[bt],re=Ye[bt]=new m(ht),(Be=Mt(ht,bt,dt))!=null&&(Be+="")&&(ge=Lt+(re.id=Be),be[ge]=ge in be?mt:re);for(bt=0;bt<zt;++bt)if(re=Ye[bt],Be=St(dt[bt],bt,dt),Be==null||!(Be+="")){if(qt)throw new Error("multiple roots");qt=re}else{if(te=be[Lt+Be],!te)throw new Error("missing: "+Be);if(te===mt)throw new Error("ambiguous: "+Be);te.children?te.children.push(re):te.children=[re],re.parent=te}if(!qt)throw new Error("no root");if(qt.parent=gt,qt.eachBefore(function(Ne){Ne.depth=Ne.parent.depth+1,--zt}).eachBefore(u),qt.parent=null,zt>0)throw new Error("cycle");return qt}return Dt.id=function(dt){return arguments.length?(Mt=G(dt),Dt):Mt},Dt.parentId=function(dt){return arguments.length?(St=G(dt),Dt):St},Dt}function Pt(Mt,St){return Mt.parent===St.parent?1:2}function Et(Mt){var St=Mt.children;return St?St[0]:Mt.t}function Nt(Mt){var St=Mt.children;return St?St[St.length-1]:Mt.t}function ne(Mt,St,Dt){var dt=Dt/(St.i-Mt.i);St.c-=dt,St.s+=Dt,Mt.c+=dt,St.z+=Dt,St.m+=Dt}function Gt(Mt){for(var St=0,Dt=0,dt=Mt.children,ht=dt.length,bt;--ht>=0;)bt=dt[ht],bt.z+=St,bt.m+=St,St+=bt.s+(Dt+=bt.c)}function pe(Mt,St,Dt){return Mt.a.parent===St.parent?Mt.a:Dt}function Vt(Mt,St){this._=Mt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=St}Vt.prototype=Object.create(m.prototype);function ae(Mt){for(var St=new Vt(Mt,0),Dt,dt=[St],ht,bt,zt,qt;Dt=dt.pop();)if(bt=Dt._.children)for(Dt.children=new Array(qt=bt.length),zt=qt-1;zt>=0;--zt)dt.push(ht=Dt.children[zt]=new Vt(bt[zt],zt)),ht.parent=Dt;return(St.parent=new Vt(null,0)).children=[St],St}function oe(){var Mt=Pt,St=1,Dt=1,dt=null;function ht(re){var Ye=ae(re);if(Ye.eachAfter(bt),Ye.parent.m=-Ye.z,Ye.eachBefore(zt),dt)re.eachBefore(te);else{var Be=re,ge=re,be=re;re.eachBefore(function(Ge){Ge.x<Be.x&&(Be=Ge),Ge.x>ge.x&&(ge=Ge),Ge.depth>be.depth&&(be=Ge)});var Ne=Be===ge?1:Mt(Be,ge)/2,pr=Ne-Be.x,fe=St/(ge.x+Ne+pr),De=Dt/(be.depth||1);re.eachBefore(function(Ge){Ge.x=(Ge.x+pr)*fe,Ge.y=Ge.depth*De})}return re}function bt(re){var Ye=re.children,Be=re.parent.children,ge=re.i?Be[re.i-1]:null;if(Ye){Gt(re);var be=(Ye[0].z+Ye[Ye.length-1].z)/2;ge?(re.z=ge.z+Mt(re._,ge._),re.m=re.z-be):re.z=be}else ge&&(re.z=ge.z+Mt(re._,ge._));re.parent.A=qt(re,ge,re.parent.A||Be[0])}function zt(re){re._.x=re.z+re.parent.m,re.m+=re.parent.m}function qt(re,Ye,Be){if(Ye){for(var ge=re,be=re,Ne=Ye,pr=ge.parent.children[0],fe=ge.m,De=be.m,Ge=Ne.m,vr=pr.m,$e;Ne=Nt(Ne),ge=Et(ge),Ne&&ge;)pr=Et(pr),be=Nt(be),be.a=re,$e=Ne.z+Ge-ge.z-fe+Mt(Ne._,ge._),$e>0&&(ne(pe(Ne,re,Be),re,$e),fe+=$e,De+=$e),Ge+=Ne.m,fe+=ge.m,vr+=pr.m,De+=be.m;Ne&&!Nt(be)&&(be.t=Ne,be.m+=Ge-De),ge&&!Et(pr)&&(pr.t=ge,pr.m+=fe-vr,Be=re)}return Be}function te(re){re.x*=St,re.y=re.depth*Dt}return ht.separation=function(re){return arguments.length?(Mt=re,ht):Mt},ht.size=function(re){return arguments.length?(dt=!1,St=+re[0],Dt=+re[1],ht):dt?null:[St,Dt]},ht.nodeSize=function(re){return arguments.length?(dt=!0,St=+re[0],Dt=+re[1],ht):dt?[St,Dt]:null},ht}function ce(Mt,St,Dt,dt,ht){for(var bt=Mt.children,zt,qt=-1,te=bt.length,re=Mt.value&&(ht-Dt)/Mt.value;++qt<te;)zt=bt[qt],zt.x0=St,zt.x1=dt,zt.y0=Dt,zt.y1=Dt+=zt.value*re}var le=(1+Math.sqrt(5))/2;function ye(Mt,St,Dt,dt,ht,bt){for(var zt=[],qt=St.children,te,re,Ye=0,Be=0,ge=qt.length,be,Ne,pr=St.value,fe,De,Ge,vr,$e,Kt,ie;Ye<ge;){be=ht-Dt,Ne=bt-dt;do fe=qt[Be++].value;while(!fe&&Be<ge);for(De=Ge=fe,Kt=Math.max(Ne/be,be/Ne)/(pr*Mt),ie=fe*fe*Kt,$e=Math.max(Ge/ie,ie/De);Be<ge;++Be){if(fe+=re=qt[Be].value,re<De&&(De=re),re>Ge&&(Ge=re),ie=fe*fe*Kt,vr=Math.max(Ge/ie,ie/De),vr>$e){fe-=re;break}$e=vr}zt.push(te={value:fe,dice:be<Ne,children:qt.slice(Ye,Be)}),te.dice?yt(te,Dt,dt,ht,pr?dt+=Ne*fe/pr:bt):ce(te,Dt,dt,pr?Dt+=be*fe/pr:ht,bt),pr-=fe,Ye=Be}return zt}var Tt=function Mt(St){function Dt(dt,ht,bt,zt,qt){ye(St,dt,ht,bt,zt,qt)}return Dt.ratio=function(dt){return Mt((dt=+dt)>1?dt:1)},Dt}(le);function Ft(){var Mt=Tt,St=!1,Dt=1,dt=1,ht=[0],bt=rt,zt=rt,qt=rt,te=rt,re=rt;function Ye(ge){return ge.x0=ge.y0=0,ge.x1=Dt,ge.y1=dt,ge.eachBefore(Be),ht=[0],St&&ge.eachBefore(ft),ge}function Be(ge){var be=ht[ge.depth],Ne=ge.x0+be,pr=ge.y0+be,fe=ge.x1-be,De=ge.y1-be;fe<Ne&&(Ne=fe=(Ne+fe)/2),De<pr&&(pr=De=(pr+De)/2),ge.x0=Ne,ge.y0=pr,ge.x1=fe,ge.y1=De,ge.children&&(be=ht[ge.depth+1]=bt(ge)/2,Ne+=re(ge)-be,pr+=zt(ge)-be,fe-=qt(ge)-be,De-=te(ge)-be,fe<Ne&&(Ne=fe=(Ne+fe)/2),De<pr&&(pr=De=(pr+De)/2),Mt(ge,Ne,pr,fe,De))}return Ye.round=function(ge){return arguments.length?(St=!!ge,Ye):St},Ye.size=function(ge){return arguments.length?(Dt=+ge[0],dt=+ge[1],Ye):[Dt,dt]},Ye.tile=function(ge){return arguments.length?(Mt=G(ge),Ye):Mt},Ye.padding=function(ge){return arguments.length?Ye.paddingInner(ge).paddingOuter(ge):Ye.paddingInner()},Ye.paddingInner=function(ge){return arguments.length?(bt=typeof ge=="function"?ge:ot(+ge),Ye):bt},Ye.paddingOuter=function(ge){return arguments.length?Ye.paddingTop(ge).paddingRight(ge).paddingBottom(ge).paddingLeft(ge):Ye.paddingTop()},Ye.paddingTop=function(ge){return arguments.length?(zt=typeof ge=="function"?ge:ot(+ge),Ye):zt},Ye.paddingRight=function(ge){return arguments.length?(qt=typeof ge=="function"?ge:ot(+ge),Ye):qt},Ye.paddingBottom=function(ge){return arguments.length?(te=typeof ge=="function"?ge:ot(+ge),Ye):te},Ye.paddingLeft=function(ge){return arguments.length?(re=typeof ge=="function"?ge:ot(+ge),Ye):re},Ye}function $t(Mt,St,Dt,dt,ht){var bt=Mt.children,zt,qt=bt.length,te,re=new Array(qt+1);for(re[0]=te=zt=0;zt<qt;++zt)re[zt+1]=te+=bt[zt].value;Ye(0,qt,Mt.value,St,Dt,dt,ht);function Ye(Be,ge,be,Ne,pr,fe,De){if(Be>=ge-1){var Ge=bt[Be];Ge.x0=Ne,Ge.y0=pr,Ge.x1=fe,Ge.y1=De;return}for(var vr=re[Be],$e=be/2+vr,Kt=Be+1,ie=ge-1;Kt<ie;){var he=Kt+ie>>>1;re[he]<$e?Kt=he+1:ie=he}$e-re[Kt-1]<re[Kt]-$e&&Be+1<Kt&&--Kt;var Ae=re[Kt]-vr,Ee=be-Ae;if(fe-Ne>De-pr){var Fe=(Ne*Ee+fe*Ae)/be;Ye(Be,Kt,Ae,Ne,pr,Fe,De),Ye(Kt,ge,Ee,Fe,pr,fe,De)}else{var Re=(pr*Ee+De*Ae)/be;Ye(Be,Kt,Ae,Ne,pr,fe,Re),Ye(Kt,ge,Ee,Ne,Re,fe,De)}}}function Wt(Mt,St,Dt,dt,ht){(Mt.depth&1?ce:yt)(Mt,St,Dt,dt,ht)}var Bt=function Mt(St){function Dt(dt,ht,bt,zt,qt){if((te=dt._squarify)&&te.ratio===St)for(var te,re,Ye,Be,ge=-1,be,Ne=te.length,pr=dt.value;++ge<Ne;){for(re=te[ge],Ye=re.children,Be=re.value=0,be=Ye.length;Be<be;++Be)re.value+=Ye[Be].value;re.dice?yt(re,ht,bt,zt,bt+=(qt-bt)*re.value/pr):ce(re,ht,bt,ht+=(zt-ht)*re.value/pr,qt),pr-=re.value}else dt._squarify=te=ye(St,dt,ht,bt,zt,qt),te.ratio=St}return Dt.ratio=function(dt){return Mt((dt=+dt)>1?dt:1)},Dt}(le)},10132:function(tt,U,t){t.d(U,{ak:function(){return h}});var E=Math.PI,S=2*E,i=1e-6,L=S-i;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new T}T.prototype=v.prototype={constructor:T,moveTo:function(_,a){this._+="M"+(this._x0=this._x1=+_)+","+(this._y0=this._y1=+a)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(_,a){this._+="L"+(this._x1=+_)+","+(this._y1=+a)},quadraticCurveTo:function(_,a,c,p){this._+="Q"+ +_+","+ +a+","+(this._x1=+c)+","+(this._y1=+p)},bezierCurveTo:function(_,a,c,p,x,k){this._+="C"+ +_+","+ +a+","+ +c+","+ +p+","+(this._x1=+x)+","+(this._y1=+k)},arcTo:function(_,a,c,p,x){_=+_,a=+a,c=+c,p=+p,x=+x;var k=this._x1,y=this._y1,A=c-_,C=p-a,u=k-_,m=y-a,M=u*u+m*m;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=_)+","+(this._y1=a);else if(M>i)if(!(Math.abs(m*A-C*u)>i)||!x)this._+="L"+(this._x1=_)+","+(this._y1=a);else{var w=c-k,z=p-y,O=A*A+C*C,D=w*w+z*z,P=Math.sqrt(O),F=Math.sqrt(M),R=x*Math.tan((E-Math.acos((O+M-D)/(2*P*F)))/2),N=R/F,B=R/P;Math.abs(N-1)>i&&(this._+="L"+(_+N*u)+","+(a+N*m)),this._+="A"+x+","+x+",0,0,"+ +(m*w>u*z)+","+(this._x1=_+B*A)+","+(this._y1=a+B*C)}},arc:function(_,a,c,p,x,k){_=+_,a=+a,c=+c,k=!!k;var y=c*Math.cos(p),A=c*Math.sin(p),C=_+y,u=a+A,m=1^k,M=k?p-x:x-p;if(c<0)throw new Error("negative radius: "+c);this._x1===null?this._+="M"+C+","+u:(Math.abs(this._x1-C)>i||Math.abs(this._y1-u)>i)&&(this._+="L"+C+","+u),c&&(M<0&&(M=M%S+S),M>L?this._+="A"+c+","+c+",0,1,"+m+","+(_-y)+","+(a-A)+"A"+c+","+c+",0,1,"+m+","+(this._x1=C)+","+(this._y1=u):M>i&&(this._+="A"+c+","+c+",0,"+ +(M>=E)+","+m+","+(this._x1=_+c*Math.cos(x))+","+(this._y1=a+c*Math.sin(x))))},rect:function(_,a,c,p){this._+="M"+(this._x0=this._x1=+_)+","+(this._y0=this._y1=+a)+"h"+ +c+"v"+ +p+"h"+-c+"Z"},toString:function(){return this._}};var d=v,r=Array.prototype.slice;function e(_){return function(){return _}}function l(_){return _[0]}function n(_){return _[1]}function s(_){return _.source}function o(_){return _.target}function f(_){var a=s,c=o,p=l,x=n,k=null;function y(){var A,C=r.call(arguments),u=a.apply(this,C),m=c.apply(this,C);if(k||(k=A=d()),_(k,+p.apply(this,(C[0]=u,C)),+x.apply(this,C),+p.apply(this,(C[0]=m,C)),+x.apply(this,C)),A)return k=null,A+""||null}return y.source=function(A){return arguments.length?(a=A,y):a},y.target=function(A){return arguments.length?(c=A,y):c},y.x=function(A){return arguments.length?(p=typeof A=="function"?A:e(+A),y):p},y.y=function(A){return arguments.length?(x=typeof A=="function"?A:e(+A),y):x},y.context=function(A){return arguments.length?(k=A??null,y):k},y}function b(_,a,c,p,x){_.moveTo(a,c),_.bezierCurveTo(a=(a+p)/2,c,a,x,p,x)}function h(){return f(b)}},94336:function(tt,U,t){t.d(U,{Yn:function(){return $t},m_:function(){return l},E9:function(){return Wt}});var E=t(8208),S=t(58931),i=t(46192),L=t(68936),T=t(32171),v=t(53528);function d(Mt){if(0<=Mt.y&&Mt.y<100){var St=new Date(-1,Mt.m,Mt.d,Mt.H,Mt.M,Mt.S,Mt.L);return St.setFullYear(Mt.y),St}return new Date(Mt.y,Mt.m,Mt.d,Mt.H,Mt.M,Mt.S,Mt.L)}function r(Mt){if(0<=Mt.y&&Mt.y<100){var St=new Date(Date.UTC(-1,Mt.m,Mt.d,Mt.H,Mt.M,Mt.S,Mt.L));return St.setUTCFullYear(Mt.y),St}return new Date(Date.UTC(Mt.y,Mt.m,Mt.d,Mt.H,Mt.M,Mt.S,Mt.L))}function e(Mt,St,Dt){return{y:Mt,m:St,d:Dt,H:0,M:0,S:0,L:0}}function l(Mt){var St=Mt.dateTime,Dt=Mt.date,dt=Mt.time,ht=Mt.periods,bt=Mt.days,zt=Mt.shortDays,qt=Mt.months,te=Mt.shortMonths,re=_(ht),Ye=a(ht),Be=_(bt),ge=a(bt),be=_(zt),Ne=a(zt),pr=_(qt),fe=a(qt),De=_(te),Ge=a(te),vr={a:It,A:Ut,b:Me,B:ke,c:null,d:V,e:V,f:Z,H:J,I:it,j:nt,L:Y,m:$,M:G,p:qe,q:Ke,Q:ye,s:Tt,S:rt,u:ot,U:W,V:H,w:at,W:Q,x:null,X:null,y:ct,Y:ft,Z:yt,"%":le},$e={a:Je,A:Ve,b:Pe,B:rr,c:null,d:xt,e:xt,f:At,H:Lt,I:gt,j:mt,L:vt,m:Ot,M:Pt,p:lr,q:cr,Q:ye,s:Tt,S:Et,u:Nt,U:ne,V:Gt,w:pe,W:Vt,x:null,X:null,y:ae,Y:oe,Z:ce,"%":le},Kt={a:Fe,A:Re,b:Ce,B:We,c:er,d:w,e:w,f:R,H:O,I:O,j:z,L:F,m:M,M:D,p:Ee,q:m,Q:B,s:q,S:P,u:p,U:x,V:k,w:c,W:y,x:Ue,X:ar,y:C,Y:A,Z:u,"%":N};vr.x=ie(Dt,vr),vr.X=ie(dt,vr),vr.c=ie(St,vr),$e.x=ie(Dt,$e),$e.X=ie(dt,$e),$e.c=ie(St,$e);function ie(ir,Er){return function(kr){var Mr=[],$r=-1,Gr=0,vn=ir.length,yn,hr,Lr;for(kr instanceof Date||(kr=new Date(+kr));++$r<vn;)ir.charCodeAt($r)===37&&(Mr.push(ir.slice(Gr,$r)),(hr=n[yn=ir.charAt(++$r)])!=null?yn=ir.charAt(++$r):hr=yn==="e"?" ":"0",(Lr=Er[yn])&&(yn=Lr(kr,hr)),Mr.push(yn),Gr=$r+1);return Mr.push(ir.slice(Gr,$r)),Mr.join("")}}function he(ir,Er){return function(kr){var Mr=e(1900,void 0,1),$r=Ae(Mr,ir,kr+="",0),Gr,vn;if($r!=kr.length)return null;if("Q"in Mr)return new Date(Mr.Q);if("s"in Mr)return new Date(Mr.s*1e3+("L"in Mr?Mr.L:0));if(Er&&!("Z"in Mr)&&(Mr.Z=0),"p"in Mr&&(Mr.H=Mr.H%12+Mr.p*12),Mr.m===void 0&&(Mr.m="q"in Mr?Mr.q:0),"V"in Mr){if(Mr.V<1||Mr.V>53)return null;"w"in Mr||(Mr.w=1),"Z"in Mr?(Gr=r(e(Mr.y,0,1)),vn=Gr.getUTCDay(),Gr=vn>4||vn===0?E.ot.ceil(Gr):(0,E.ot)(Gr),Gr=S.c.offset(Gr,(Mr.V-1)*7),Mr.y=Gr.getUTCFullYear(),Mr.m=Gr.getUTCMonth(),Mr.d=Gr.getUTCDate()+(Mr.w+6)%7):(Gr=d(e(Mr.y,0,1)),vn=Gr.getDay(),Gr=vn>4||vn===0?i.qT.ceil(Gr):(0,i.qT)(Gr),Gr=L.c.offset(Gr,(Mr.V-1)*7),Mr.y=Gr.getFullYear(),Mr.m=Gr.getMonth(),Mr.d=Gr.getDate()+(Mr.w+6)%7)}else("W"in Mr||"U"in Mr)&&("w"in Mr||(Mr.w="u"in Mr?Mr.u%7:"W"in Mr?1:0),vn="Z"in Mr?r(e(Mr.y,0,1)).getUTCDay():d(e(Mr.y,0,1)).getDay(),Mr.m=0,Mr.d="W"in Mr?(Mr.w+6)%7+Mr.W*7-(vn+5)%7:Mr.w+Mr.U*7-(vn+6)%7);return"Z"in Mr?(Mr.H+=Mr.Z/100|0,Mr.M+=Mr.Z%100,r(Mr)):d(Mr)}}function Ae(ir,Er,kr,Mr){for(var $r=0,Gr=Er.length,vn=kr.length,yn,hr;$r<Gr;){if(Mr>=vn)return-1;if(yn=Er.charCodeAt($r++),yn===37){if(yn=Er.charAt($r++),hr=Kt[yn in n?Er.charAt($r++):yn],!hr||(Mr=hr(ir,kr,Mr))<0)return-1}else if(yn!=kr.charCodeAt(Mr++))return-1}return Mr}function Ee(ir,Er,kr){var Mr=re.exec(Er.slice(kr));return Mr?(ir.p=Ye[Mr[0].toLowerCase()],kr+Mr[0].length):-1}function Fe(ir,Er,kr){var Mr=be.exec(Er.slice(kr));return Mr?(ir.w=Ne[Mr[0].toLowerCase()],kr+Mr[0].length):-1}function Re(ir,Er,kr){var Mr=Be.exec(Er.slice(kr));return Mr?(ir.w=ge[Mr[0].toLowerCase()],kr+Mr[0].length):-1}function Ce(ir,Er,kr){var Mr=De.exec(Er.slice(kr));return Mr?(ir.m=Ge[Mr[0].toLowerCase()],kr+Mr[0].length):-1}function We(ir,Er,kr){var Mr=pr.exec(Er.slice(kr));return Mr?(ir.m=fe[Mr[0].toLowerCase()],kr+Mr[0].length):-1}function er(ir,Er,kr){return Ae(ir,St,Er,kr)}function Ue(ir,Er,kr){return Ae(ir,Dt,Er,kr)}function ar(ir,Er,kr){return Ae(ir,dt,Er,kr)}function It(ir){return zt[ir.getDay()]}function Ut(ir){return bt[ir.getDay()]}function Me(ir){return te[ir.getMonth()]}function ke(ir){return qt[ir.getMonth()]}function qe(ir){return ht[+(ir.getHours()>=12)]}function Ke(ir){return 1+~~(ir.getMonth()/3)}function Je(ir){return zt[ir.getUTCDay()]}function Ve(ir){return bt[ir.getUTCDay()]}function Pe(ir){return te[ir.getUTCMonth()]}function rr(ir){return qt[ir.getUTCMonth()]}function lr(ir){return ht[+(ir.getUTCHours()>=12)]}function cr(ir){return 1+~~(ir.getUTCMonth()/3)}return{format:function(ir){var Er=ie(ir+="",vr);return Er.toString=function(){return ir},Er},parse:function(ir){var Er=he(ir+="",!1);return Er.toString=function(){return ir},Er},utcFormat:function(ir){var Er=ie(ir+="",$e);return Er.toString=function(){return ir},Er},utcParse:function(ir){var Er=he(ir+="",!0);return Er.toString=function(){return ir},Er}}}var n={"-":"",_:" ",0:"0"},s=/^\s*\d+/,o=/^%/,f=/[\\^$*+?|[\]().{}]/g;function b(Mt,St,Dt){var dt=Mt<0?"-":"",ht=(dt?-Mt:Mt)+"",bt=ht.length;return dt+(bt<Dt?new Array(Dt-bt+1).join(St)+ht:ht)}function h(Mt){return Mt.replace(f,"\\$&")}function _(Mt){return new RegExp("^(?:"+Mt.map(h).join("|")+")","i")}function a(Mt){for(var St={},Dt=-1,dt=Mt.length;++Dt<dt;)St[Mt[Dt].toLowerCase()]=Dt;return St}function c(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+1));return dt?(Mt.w=+dt[0],Dt+dt[0].length):-1}function p(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+1));return dt?(Mt.u=+dt[0],Dt+dt[0].length):-1}function x(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.U=+dt[0],Dt+dt[0].length):-1}function k(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.V=+dt[0],Dt+dt[0].length):-1}function y(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.W=+dt[0],Dt+dt[0].length):-1}function A(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+4));return dt?(Mt.y=+dt[0],Dt+dt[0].length):-1}function C(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.y=+dt[0]+(+dt[0]>68?1900:2e3),Dt+dt[0].length):-1}function u(Mt,St,Dt){var dt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(St.slice(Dt,Dt+6));return dt?(Mt.Z=dt[1]?0:-(dt[2]+(dt[3]||"00")),Dt+dt[0].length):-1}function m(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+1));return dt?(Mt.q=dt[0]*3-3,Dt+dt[0].length):-1}function M(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.m=dt[0]-1,Dt+dt[0].length):-1}function w(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.d=+dt[0],Dt+dt[0].length):-1}function z(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+3));return dt?(Mt.m=0,Mt.d=+dt[0],Dt+dt[0].length):-1}function O(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.H=+dt[0],Dt+dt[0].length):-1}function D(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.M=+dt[0],Dt+dt[0].length):-1}function P(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+2));return dt?(Mt.S=+dt[0],Dt+dt[0].length):-1}function F(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+3));return dt?(Mt.L=+dt[0],Dt+dt[0].length):-1}function R(Mt,St,Dt){var dt=s.exec(St.slice(Dt,Dt+6));return dt?(Mt.L=Math.floor(dt[0]/1e3),Dt+dt[0].length):-1}function N(Mt,St,Dt){var dt=o.exec(St.slice(Dt,Dt+1));return dt?Dt+dt[0].length:-1}function B(Mt,St,Dt){var dt=s.exec(St.slice(Dt));return dt?(Mt.Q=+dt[0],Dt+dt[0].length):-1}function q(Mt,St,Dt){var dt=s.exec(St.slice(Dt));return dt?(Mt.s=+dt[0],Dt+dt[0].length):-1}function V(Mt,St){return b(Mt.getDate(),St,2)}function J(Mt,St){return b(Mt.getHours(),St,2)}function it(Mt,St){return b(Mt.getHours()%12||12,St,2)}function nt(Mt,St){return b(1+L.c.count((0,T.c)(Mt),Mt),St,3)}function Y(Mt,St){return b(Mt.getMilliseconds(),St,3)}function Z(Mt,St){return Y(Mt,St)+"000"}function $(Mt,St){return b(Mt.getMonth()+1,St,2)}function G(Mt,St){return b(Mt.getMinutes(),St,2)}function rt(Mt,St){return b(Mt.getSeconds(),St,2)}function ot(Mt){var St=Mt.getDay();return St===0?7:St}function W(Mt,St){return b(i.uU.count((0,T.c)(Mt)-1,Mt),St,2)}function H(Mt,St){var Dt=Mt.getDay();return Mt=Dt>=4||Dt===0?(0,i.kD)(Mt):i.kD.ceil(Mt),b(i.kD.count((0,T.c)(Mt),Mt)+((0,T.c)(Mt).getDay()===4),St,2)}function at(Mt){return Mt.getDay()}function Q(Mt,St){return b(i.qT.count((0,T.c)(Mt)-1,Mt),St,2)}function ct(Mt,St){return b(Mt.getFullYear()%100,St,2)}function ft(Mt,St){return b(Mt.getFullYear()%1e4,St,4)}function yt(Mt){var St=Mt.getTimezoneOffset();return(St>0?"-":(St*=-1,"+"))+b(St/60|0,"0",2)+b(St%60,"0",2)}function xt(Mt,St){return b(Mt.getUTCDate(),St,2)}function Lt(Mt,St){return b(Mt.getUTCHours(),St,2)}function gt(Mt,St){return b(Mt.getUTCHours()%12||12,St,2)}function mt(Mt,St){return b(1+S.c.count((0,v.c)(Mt),Mt),St,3)}function vt(Mt,St){return b(Mt.getUTCMilliseconds(),St,3)}function At(Mt,St){return vt(Mt,St)+"000"}function Ot(Mt,St){return b(Mt.getUTCMonth()+1,St,2)}function Pt(Mt,St){return b(Mt.getUTCMinutes(),St,2)}function Et(Mt,St){return b(Mt.getUTCSeconds(),St,2)}function Nt(Mt){var St=Mt.getUTCDay();return St===0?7:St}function ne(Mt,St){return b(E.EV.count((0,v.c)(Mt)-1,Mt),St,2)}function Gt(Mt,St){var Dt=Mt.getUTCDay();return Mt=Dt>=4||Dt===0?(0,E.yA)(Mt):E.yA.ceil(Mt),b(E.yA.count((0,v.c)(Mt),Mt)+((0,v.c)(Mt).getUTCDay()===4),St,2)}function pe(Mt){return Mt.getUTCDay()}function Vt(Mt,St){return b(E.ot.count((0,v.c)(Mt)-1,Mt),St,2)}function ae(Mt,St){return b(Mt.getUTCFullYear()%100,St,2)}function oe(Mt,St){return b(Mt.getUTCFullYear()%1e4,St,4)}function ce(){return"+0000"}function le(){return"%"}function ye(Mt){return+Mt}function Tt(Mt){return Math.floor(+Mt/1e3)}var Ft,$t,Wt;Bt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bt(Mt){return Ft=l(Mt),$t=Ft.format,Ft.parse,Wt=Ft.utcFormat,Ft.utcParse,Ft}},68936:function(tt,U,t){t.d(U,{m:function(){return L}});var E=t(81628),S=t(69792),i=(0,E.c)(function(T){T.setHours(0,0,0,0)},function(T,v){T.setDate(T.getDate()+v)},function(T,v){return(v-T-(v.getTimezoneOffset()-T.getTimezoneOffset())*S.iy)/S.SK},function(T){return T.getDate()-1});U.c=i;var L=i.range},69792:function(tt,U,t){t.d(U,{KK:function(){return T},SK:function(){return L},cg:function(){return i},iy:function(){return S},yc:function(){return E}});var E=1e3,S=6e4,i=36e5,L=864e5,T=6048e5},73220:function(tt,U,t){t.r(U),t.d(U,{timeDay:function(){return b.c},timeDays:function(){return b.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return o},timeHours:function(){return f},timeInterval:function(){return E.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return L},timeMinute:function(){return l},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return a},timeMonths:function(){return c},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return d},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return p.c},timeYears:function(){return p.Q},utcDay:function(){return m.c},utcDays:function(){return m.o},utcFriday:function(){return M.od},utcFridays:function(){return M.iG},utcHour:function(){return C},utcHours:function(){return u},utcMillisecond:function(){return i},utcMilliseconds:function(){return L},utcMinute:function(){return k},utcMinutes:function(){return y},utcMonday:function(){return M.ot},utcMondays:function(){return M.iO},utcMonth:function(){return z},utcMonths:function(){return O},utcSaturday:function(){return M.Ad},utcSaturdays:function(){return M.K8},utcSecond:function(){return d},utcSeconds:function(){return r},utcSunday:function(){return M.EV},utcSundays:function(){return M.Wq},utcThursday:function(){return M.yA},utcThursdays:function(){return M.ob},utcTuesday:function(){return M.sG},utcTuesdays:function(){return M.kl},utcWednesday:function(){return M._6},utcWednesdays:function(){return M.W_},utcWeek:function(){return M.EV},utcWeeks:function(){return M.Wq},utcYear:function(){return D.c},utcYears:function(){return D.i}});var E=t(81628),S=(0,E.c)(function(){},function(P,F){P.setTime(+P+F)},function(P,F){return F-P});S.every=function(P){return P=Math.floor(P),!isFinite(P)||!(P>0)?null:P>1?(0,E.c)(function(F){F.setTime(Math.floor(F/P)*P)},function(F,R){F.setTime(+F+R*P)},function(F,R){return(R-F)/P}):S};var i=S,L=S.range,T=t(69792),v=(0,E.c)(function(P){P.setTime(P-P.getMilliseconds())},function(P,F){P.setTime(+P+F*T.yc)},function(P,F){return(F-P)/T.yc},function(P){return P.getUTCSeconds()}),d=v,r=v.range,e=(0,E.c)(function(P){P.setTime(P-P.getMilliseconds()-P.getSeconds()*T.yc)},function(P,F){P.setTime(+P+F*T.iy)},function(P,F){return(F-P)/T.iy},function(P){return P.getMinutes()}),l=e,n=e.range,s=(0,E.c)(function(P){P.setTime(P-P.getMilliseconds()-P.getSeconds()*T.yc-P.getMinutes()*T.iy)},function(P,F){P.setTime(+P+F*T.cg)},function(P,F){return(F-P)/T.cg},function(P){return P.getHours()}),o=s,f=s.range,b=t(68936),h=t(46192),_=(0,E.c)(function(P){P.setDate(1),P.setHours(0,0,0,0)},function(P,F){P.setMonth(P.getMonth()+F)},function(P,F){return F.getMonth()-P.getMonth()+(F.getFullYear()-P.getFullYear())*12},function(P){return P.getMonth()}),a=_,c=_.range,p=t(32171),x=(0,E.c)(function(P){P.setUTCSeconds(0,0)},function(P,F){P.setTime(+P+F*T.iy)},function(P,F){return(F-P)/T.iy},function(P){return P.getUTCMinutes()}),k=x,y=x.range,A=(0,E.c)(function(P){P.setUTCMinutes(0,0,0)},function(P,F){P.setTime(+P+F*T.cg)},function(P,F){return(F-P)/T.cg},function(P){return P.getUTCHours()}),C=A,u=A.range,m=t(58931),M=t(8208),w=(0,E.c)(function(P){P.setUTCDate(1),P.setUTCHours(0,0,0,0)},function(P,F){P.setUTCMonth(P.getUTCMonth()+F)},function(P,F){return F.getUTCMonth()-P.getUTCMonth()+(F.getUTCFullYear()-P.getUTCFullYear())*12},function(P){return P.getUTCMonth()}),z=w,O=w.range,D=t(53528)},81628:function(tt,U,t){t.d(U,{c:function(){return i}});var E=new Date,S=new Date;function i(L,T,v,d){function r(e){return L(e=arguments.length===0?new Date:new Date(+e)),e}return r.floor=function(e){return L(e=new Date(+e)),e},r.ceil=function(e){return L(e=new Date(e-1)),T(e,1),L(e),e},r.round=function(e){var l=r(e),n=r.ceil(e);return e-l<n-e?l:n},r.offset=function(e,l){return T(e=new Date(+e),l==null?1:Math.floor(l)),e},r.range=function(e,l,n){var s=[],o;if(e=r.ceil(e),n=n==null?1:Math.floor(n),!(e<l)||!(n>0))return s;do s.push(o=new Date(+e)),T(e,n),L(e);while(o<e&&e<l);return s},r.filter=function(e){return i(function(l){if(l>=l)for(;L(l),!e(l);)l.setTime(l-1)},function(l,n){if(l>=l)if(n<0)for(;++n<=0;)for(;T(l,-1),!e(l););else for(;--n>=0;)for(;T(l,1),!e(l););})},v&&(r.count=function(e,l){return E.setTime(+e),S.setTime(+l),L(E),L(S),Math.floor(v(E,S))},r.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?r.filter(d?function(l){return d(l)%e===0}:function(l){return r.count(0,l)%e===0}):r}),r}},58931:function(tt,U,t){t.d(U,{o:function(){return L}});var E=t(81628),S=t(69792),i=(0,E.c)(function(T){T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCDate(T.getUTCDate()+v)},function(T,v){return(v-T)/S.SK},function(T){return T.getUTCDate()-1});U.c=i;var L=i.range},8208:function(tt,U,t){t.d(U,{Ad:function(){return l},EV:function(){return L},K8:function(){return _},W_:function(){return f},Wq:function(){return n},_6:function(){return d},iG:function(){return h},iO:function(){return s},kl:function(){return o},ob:function(){return b},od:function(){return e},ot:function(){return T},sG:function(){return v},yA:function(){return r}});var E=t(81628),S=t(69792);function i(a){return(0,E.c)(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-a)%7),c.setUTCHours(0,0,0,0)},function(c,p){c.setUTCDate(c.getUTCDate()+p*7)},function(c,p){return(p-c)/S.KK})}var L=i(0),T=i(1),v=i(2),d=i(3),r=i(4),e=i(5),l=i(6),n=L.range,s=T.range,o=v.range,f=d.range,b=r.range,h=e.range,_=l.range},53528:function(tt,U,t){t.d(U,{i:function(){return i}});var E=t(81628),S=(0,E.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,T){L.setUTCFullYear(L.getUTCFullYear()+T)},function(L,T){return T.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});S.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,E.c)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/L)*L),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCFullYear(T.getUTCFullYear()+v*L)})},U.c=S;var i=S.range},46192:function(tt,U,t){t.d(U,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return o},QP:function(){return s},Wc:function(){return l},aI:function(){return _},eC:function(){return b},eg:function(){return d},iB:function(){return e},kD:function(){return r},qT:function(){return T},sJ:function(){return h},sn:function(){return f},uU:function(){return L}});var E=t(81628),S=t(69792);function i(a){return(0,E.c)(function(c){c.setDate(c.getDate()-(c.getDay()+7-a)%7),c.setHours(0,0,0,0)},function(c,p){c.setDate(c.getDate()+p*7)},function(c,p){return(p-c-(p.getTimezoneOffset()-c.getTimezoneOffset())*S.iy)/S.KK})}var L=i(0),T=i(1),v=i(2),d=i(3),r=i(4),e=i(5),l=i(6),n=L.range,s=T.range,o=v.range,f=d.range,b=r.range,h=e.range,_=l.range},32171:function(tt,U,t){t.d(U,{Q:function(){return i}});var E=t(81628),S=(0,E.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,T){L.setFullYear(L.getFullYear()+T)},function(L,T){return T.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});S.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,E.c)(function(T){T.setFullYear(Math.floor(T.getFullYear()/L)*L),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,v){T.setFullYear(T.getFullYear()+v*L)})},U.c=S;var i=S.range},64348:function(tt,U,t){var E=t(39640)(),S=t(53664),i=E&&S("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch{i=!1}var L=S("%SyntaxError%"),T=S("%TypeError%"),v=t(2304);tt.exports=function(d,r,e){if(!d||typeof d!="object"&&typeof d!="function")throw new T("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new T("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new T("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new T("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new T("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new T("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,f=!!v&&v(d,r);if(i)i(d,r,{configurable:s===null&&f?f.configurable:!s,enumerable:l===null&&f?f.enumerable:!l,value:e,writable:n===null&&f?f.writable:!n});else if(o||!l&&!n&&!s)d[r]=e;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(tt,U,t){var E=t(41820),S=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,L=Array.prototype.concat,T=Object.defineProperty,v=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},d=t(39640)(),r=T&&d,e=function(n,s,o,f){if(s in n){if(f===!0){if(n[s]===o)return}else if(!v(f)||!f())return}r?T(n,s,{configurable:!0,enumerable:!1,value:o,writable:!0}):n[s]=o},l=function(n,s){var o=arguments.length>2?arguments[2]:{},f=E(s);S&&(f=L.call(f,Object.getOwnPropertySymbols(s)));for(var b=0;b<f.length;b+=1)e(n,f[b],s[f[b]],o[f[b]])};l.supportsDescriptors=!!r,tt.exports=l},31264:function(tt){tt.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},63768:function(tt){tt.exports=S;var U=S.canvas=document.createElement("canvas"),t=U.getContext("2d"),E=i([32,126]);S.createPairs=i,S.ascii=E;function S(L,T){Array.isArray(L)&&(L=L.join(", "));var v={},d,r=16,e=.05;T&&(T.length===2&&typeof T[0]=="number"?d=i(T):Array.isArray(T)?d=T:(T.o?d=i(T.o):T.pairs&&(d=T.pairs),T.fontSize&&(r=T.fontSize),T.threshold!=null&&(e=T.threshold))),d||(d=E),t.font=r+"px "+L;for(var l=0;l<d.length;l++){var n=d[l],s=t.measureText(n[0]).width+t.measureText(n[1]).width,o=t.measureText(n).width;if(Math.abs(s-o)>r*e){var f=(o-s)/r;v[n]=f*1e3}}return v}function i(L){for(var T=[],v=L[0];v<=L[1];v++)for(var d=String.fromCharCode(v),r=L[0];r<L[1];r++){var e=String.fromCharCode(r),l=d+e;T.push(l)}return T}},22235:function(tt,U,t){var E=t(49972),S=t(48816),i={M:"moveTo",C:"bezierCurveTo"};tt.exports=function(L,T){L.beginPath(),S(E(T)).forEach(function(v){var d=v[0],r=v.slice(1);L[i[d]].apply(L,r)}),L.closePath()}},72512:function(tt){tt.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(tt){function U(S,i,L){var T=S[L]|0;if(T<=0)return[];var v=new Array(T),d;if(L===S.length-1)for(d=0;d<T;++d)v[d]=i;else for(d=0;d<T;++d)v[d]=U(S,i,L+1);return v}function t(S,i){var L,T;for(L=new Array(S),T=0;T<S;++T)L[T]=i;return L}function E(S,i){switch(typeof i>"u"&&(i=0),typeof S){case"number":if(S>0)return t(S|0,i);break;case"object":if(typeof S.length=="number")return U(S,i,0);break}return[]}tt.exports=E},28912:function(tt){tt.exports=U,tt.exports.default=U;function U(O,D,P){P=P||2;var F=D&&D.length,R=F?D[0]*P:O.length,N=t(O,0,R,P,!0),B=[];if(!N||N.next===N.prev)return B;var q,V,J,it,nt,Y,Z;if(F&&(N=d(O,D,N,P)),O.length>80*P){q=J=O[0],V=it=O[1];for(var $=P;$<R;$+=P)nt=O[$],Y=O[$+1],nt<q&&(q=nt),Y<V&&(V=Y),nt>J&&(J=nt),Y>it&&(it=Y);Z=Math.max(J-q,it-V),Z=Z!==0?1/Z:0}return S(N,B,P,q,V,Z),B}function t(O,D,P,F,R){var N,B;if(R===z(O,D,P,F)>0)for(N=D;N<P;N+=F)B=m(N,O[N],O[N+1],B);else for(N=P-F;N>=D;N-=F)B=m(N,O[N],O[N+1],B);return B&&c(B,B.next)&&(M(B),B=B.next),B}function E(O,D){if(!O)return O;D||(D=O);var P=O,F;do if(F=!1,!P.steiner&&(c(P,P.next)||a(P.prev,P,P.next)===0)){if(M(P),P=D=P.prev,P===P.next)break;F=!0}else P=P.next;while(F||P!==D);return D}function S(O,D,P,F,R,N,B){if(O){!B&&N&&s(O,F,R,N);for(var q=O,V,J;O.prev!==O.next;){if(V=O.prev,J=O.next,N?L(O,F,R,N):i(O)){D.push(V.i/P),D.push(O.i/P),D.push(J.i/P),M(O),O=J.next,q=J.next;continue}if(O=J,O===q){B?B===1?(O=T(E(O),D,P),S(O,D,P,F,R,N,2)):B===2&&v(O,D,P,F,R,N):S(E(O),D,P,F,R,N,1);break}}}}function i(O){var D=O.prev,P=O,F=O.next;if(a(D,P,F)>=0)return!1;for(var R=O.next.next;R!==O.prev;){if(h(D.x,D.y,P.x,P.y,F.x,F.y,R.x,R.y)&&a(R.prev,R,R.next)>=0)return!1;R=R.next}return!0}function L(O,D,P,F){var R=O.prev,N=O,B=O.next;if(a(R,N,B)>=0)return!1;for(var q=R.x<N.x?R.x<B.x?R.x:B.x:N.x<B.x?N.x:B.x,V=R.y<N.y?R.y<B.y?R.y:B.y:N.y<B.y?N.y:B.y,J=R.x>N.x?R.x>B.x?R.x:B.x:N.x>B.x?N.x:B.x,it=R.y>N.y?R.y>B.y?R.y:B.y:N.y>B.y?N.y:B.y,nt=f(q,V,D,P,F),Y=f(J,it,D,P,F),Z=O.prevZ,$=O.nextZ;Z&&Z.z>=nt&&$&&$.z<=Y;){if(Z!==O.prev&&Z!==O.next&&h(R.x,R.y,N.x,N.y,B.x,B.y,Z.x,Z.y)&&a(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,$!==O.prev&&$!==O.next&&h(R.x,R.y,N.x,N.y,B.x,B.y,$.x,$.y)&&a($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;Z&&Z.z>=nt;){if(Z!==O.prev&&Z!==O.next&&h(R.x,R.y,N.x,N.y,B.x,B.y,Z.x,Z.y)&&a(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;$&&$.z<=Y;){if($!==O.prev&&$!==O.next&&h(R.x,R.y,N.x,N.y,B.x,B.y,$.x,$.y)&&a($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function T(O,D,P){var F=O;do{var R=F.prev,N=F.next.next;!c(R,N)&&p(R,F,F.next,N)&&A(R,N)&&A(N,R)&&(D.push(R.i/P),D.push(F.i/P),D.push(N.i/P),M(F),M(F.next),F=O=N),F=F.next}while(F!==O);return E(F)}function v(O,D,P,F,R,N){var B=O;do{for(var q=B.next.next;q!==B.prev;){if(B.i!==q.i&&_(B,q)){var V=u(B,q);B=E(B,B.next),V=E(V,V.next),S(B,D,P,F,R,N),S(V,D,P,F,R,N);return}q=q.next}B=B.next}while(B!==O)}function d(O,D,P,F){var R=[],N,B,q,V,J;for(N=0,B=D.length;N<B;N++)q=D[N]*F,V=N<B-1?D[N+1]*F:O.length,J=t(O,q,V,F,!1),J===J.next&&(J.steiner=!0),R.push(b(J));for(R.sort(r),N=0;N<R.length;N++)e(R[N],P),P=E(P,P.next);return P}function r(O,D){return O.x-D.x}function e(O,D){if(D=l(O,D),D){var P=u(D,O);E(D,D.next),E(P,P.next)}}function l(O,D){var P=D,F=O.x,R=O.y,N=-1/0,B;do{if(R<=P.y&&R>=P.next.y&&P.next.y!==P.y){var q=P.x+(R-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(q<=F&&q>N){if(N=q,q===F){if(R===P.y)return P;if(R===P.next.y)return P.next}B=P.x<P.next.x?P:P.next}}P=P.next}while(P!==D);if(!B)return null;if(F===N)return B;var V=B,J=B.x,it=B.y,nt=1/0,Y;P=B;do F>=P.x&&P.x>=J&&F!==P.x&&h(R<it?F:N,R,J,it,R<it?N:F,R,P.x,P.y)&&(Y=Math.abs(R-P.y)/(F-P.x),A(P,O)&&(Y<nt||Y===nt&&(P.x>B.x||P.x===B.x&&n(B,P)))&&(B=P,nt=Y)),P=P.next;while(P!==V);return B}function n(O,D){return a(O.prev,O,D.prev)<0&&a(D.next,O,O.next)<0}function s(O,D,P,F){var R=O;do R.z===null&&(R.z=f(R.x,R.y,D,P,F)),R.prevZ=R.prev,R.nextZ=R.next,R=R.next;while(R!==O);R.prevZ.nextZ=null,R.prevZ=null,o(R)}function o(O){var D,P,F,R,N,B,q,V,J=1;do{for(P=O,O=null,N=null,B=0;P;){for(B++,F=P,q=0,D=0;D<J&&(q++,F=F.nextZ,!!F);D++);for(V=J;q>0||V>0&&F;)q!==0&&(V===0||!F||P.z<=F.z)?(R=P,P=P.nextZ,q--):(R=F,F=F.nextZ,V--),N?N.nextZ=R:O=R,R.prevZ=N,N=R;P=F}N.nextZ=null,J*=2}while(B>1);return O}function f(O,D,P,F,R){return O=32767*(O-P)*R,D=32767*(D-F)*R,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,O|D<<1}function b(O){var D=O,P=O;do(D.x<P.x||D.x===P.x&&D.y<P.y)&&(P=D),D=D.next;while(D!==O);return P}function h(O,D,P,F,R,N,B,q){return(R-B)*(D-q)-(O-B)*(N-q)>=0&&(O-B)*(F-q)-(P-B)*(D-q)>=0&&(P-B)*(N-q)-(R-B)*(F-q)>=0}function _(O,D){return O.next.i!==D.i&&O.prev.i!==D.i&&!y(O,D)&&(A(O,D)&&A(D,O)&&C(O,D)&&(a(O.prev,O,D.prev)||a(O,D.prev,D))||c(O,D)&&a(O.prev,O,O.next)>0&&a(D.prev,D,D.next)>0)}function a(O,D,P){return(D.y-O.y)*(P.x-D.x)-(D.x-O.x)*(P.y-D.y)}function c(O,D){return O.x===D.x&&O.y===D.y}function p(O,D,P,F){var R=k(a(O,D,P)),N=k(a(O,D,F)),B=k(a(P,F,O)),q=k(a(P,F,D));return!!(R!==N&&B!==q||R===0&&x(O,P,D)||N===0&&x(O,F,D)||B===0&&x(P,O,F)||q===0&&x(P,D,F))}function x(O,D,P){return D.x<=Math.max(O.x,P.x)&&D.x>=Math.min(O.x,P.x)&&D.y<=Math.max(O.y,P.y)&&D.y>=Math.min(O.y,P.y)}function k(O){return O>0?1:O<0?-1:0}function y(O,D){var P=O;do{if(P.i!==O.i&&P.next.i!==O.i&&P.i!==D.i&&P.next.i!==D.i&&p(P,P.next,O,D))return!0;P=P.next}while(P!==O);return!1}function A(O,D){return a(O.prev,O,O.next)<0?a(O,D,O.next)>=0&&a(O,O.prev,D)>=0:a(O,D,O.prev)<0||a(O,O.next,D)<0}function C(O,D){var P=O,F=!1,R=(O.x+D.x)/2,N=(O.y+D.y)/2;do P.y>N!=P.next.y>N&&P.next.y!==P.y&&R<(P.next.x-P.x)*(N-P.y)/(P.next.y-P.y)+P.x&&(F=!F),P=P.next;while(P!==O);return F}function u(O,D){var P=new w(O.i,O.x,O.y),F=new w(D.i,D.x,D.y),R=O.next,N=D.prev;return O.next=D,D.prev=O,P.next=R,R.prev=P,F.next=P,P.prev=F,N.next=F,F.prev=N,F}function m(O,D,P,F){var R=new w(O,D,P);return F?(R.next=F.next,R.prev=F,F.next.prev=R,F.next=R):(R.prev=R,R.next=R),R}function M(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function w(O,D,P){this.i=O,this.x=D,this.y=P,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(O,D,P,F){var R=D&&D.length,N=R?D[0]*P:O.length,B=Math.abs(z(O,0,N,P));if(R)for(var q=0,V=D.length;q<V;q++){var J=D[q]*P,it=q<V-1?D[q+1]*P:O.length;B-=Math.abs(z(O,J,it,P))}var nt=0;for(q=0;q<F.length;q+=3){var Y=F[q]*P,Z=F[q+1]*P,$=F[q+2]*P;nt+=Math.abs((O[Y]-O[$])*(O[Z+1]-O[Y+1])-(O[Y]-O[Z])*(O[$+1]-O[Y+1]))}return B===0&&nt===0?0:Math.abs((nt-B)/B)};function z(O,D,P,F){for(var R=0,N=D,B=P-F;N<P;N+=F)R+=(O[B]-O[N])*(O[N+1]+O[B+1]),B=N;return R}U.flatten=function(O){for(var D=O[0][0].length,P={vertices:[],holes:[],dimensions:D},F=0,R=0;R<O.length;R++){for(var N=0;N<O[R].length;N++)for(var B=0;B<D;B++)P.vertices.push(O[R][N][B]);R>0&&(F+=O[R-1].length,P.holes.push(F))}return P}},6688:function(tt,U,t){var E=t(78484);tt.exports=function(S,i){var L=[],T=[],v=[],d={},r=[],e;function l(p){v[p]=!1,d.hasOwnProperty(p)&&Object.keys(d[p]).forEach(function(x){delete d[p][x],v[x]&&l(x)})}function n(p){var x=!1;T.push(p),v[p]=!0;var k,y;for(k=0;k<r[p].length;k++)y=r[p][k],y===e?(s(e,T),x=!0):v[y]||(x=n(y));if(x)l(p);else for(k=0;k<r[p].length;k++){y=r[p][k];var A=d[y];A||(A={},d[y]=A),A[y]=!0}return T.pop(),x}function s(p,x){var k=[].concat(x).concat(p);i?i(n):L.push(k)}function o(p){for(var x=0;x<S.length;x++)x<p&&(S[x]=[]),S[x]=S[x].filter(function(k){return k>=p})}function f(p){o(p);for(var x=S,k=E(x),y=k.components.filter(function(z){return z.length>1}),A=1/0,C,u=0;u<y.length;u++)for(var m=0;m<y[u].length;m++)y[u][m]<A&&(A=y[u][m],C=u);var M=y[C];if(!M)return!1;var w=S.map(function(z,O){return M.indexOf(O)===-1?[]:z.filter(function(D){return M.indexOf(D)!==-1})});return{leastVertex:A,adjList:w}}e=0;for(var b=S.length;e<b;){var h=f(e);if(e=h.leastVertex,r=h.adjList,r){for(var _=0;_<r.length;_++)for(var a=0;a<r[_].length;a++){var c=r[_][a];v[+c]=!1,d[c]={}}n(e),e=e+1}else e=b}if(!i)return L}},41476:function(tt,U,t){var E=t(9252);tt.exports=function(){return E(this).length=0,this}},74772:function(tt,U,t){tt.exports=t(44716)()?Array.from:t(80816)},44716:function(tt){tt.exports=function(){var U=Array.from,t,E;return typeof U!="function"?!1:(t=["raz","dwa"],E=U(t),!!(E&&E!==t&&E[1]==="dwa"))}},80816:function(tt,U,t){var E=t(92664).iterator,S=t(60948),i=t(17024),L=t(81304),T=t(34044),v=t(9252),d=t(42584),r=t(29768),e=Array.isArray,l=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;tt.exports=function(o){var f=arguments[1],b=arguments[2],h,_,a,c,p,x,k,y,A,C;if(o=Object(v(o)),d(f)&&T(f),!this||this===Array||!i(this)){if(!f){if(S(o))return p=o.length,p!==1?Array.apply(null,o):(c=new Array(1),c[0]=o[0],c);if(e(o)){for(c=new Array(p=o.length),_=0;_<p;++_)c[_]=o[_];return c}}c=[]}else h=this;if(!e(o)){if((A=o[E])!==void 0){for(k=T(A).call(o),h&&(c=new h),y=k.next(),_=0;!y.done;)C=f?l.call(f,b,y.value,_):y.value,h?(n.value=C,s(c,_,n)):c[_]=C,y=k.next(),++_;p=_}else if(r(o)){for(p=o.length,h&&(c=new h),_=0,a=0;_<p;++_)C=o[_],_+1<p&&(x=C.charCodeAt(0),x>=55296&&x<=56319&&(C+=o[++_])),C=f?l.call(f,b,C,a):C,h?(n.value=C,s(c,a,n)):c[a]=C,++a;p=a}}if(p===void 0)for(p=L(o.length),h&&(c=new h(p)),_=0;_<p;++_)C=f?l.call(f,b,o[_],_):o[_],h?(n.value=C,s(c,_,n)):c[_]=C;return h&&(n.value=null,c.length=p),c}},60948:function(tt){var U=Object.prototype.toString,t=U.call(function(){return arguments}());tt.exports=function(E){return U.call(E)===t}},17024:function(tt){var U=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);tt.exports=function(E){return typeof E=="function"&&t(U.call(E))}},33208:function(tt){tt.exports=function(){}},85608:function(tt,U,t){tt.exports=t(37328)()?Math.sign:t(92928)},37328:function(tt){tt.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},92928:function(tt){tt.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},96936:function(tt,U,t){var E=t(85608),S=Math.abs,i=Math.floor;tt.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:E(L)*i(S(L)))}},81304:function(tt,U,t){var E=t(96936),S=Math.max;tt.exports=function(i){return S(0,E(i))}},14428:function(tt,U,t){var E=t(34044),S=t(9252),i=Function.prototype.bind,L=Function.prototype.call,T=Object.keys,v=Object.prototype.propertyIsEnumerable;tt.exports=function(d,r){return function(e,l){var n,s=arguments[2],o=arguments[3];return e=Object(S(e)),E(l),n=T(e),o&&n.sort(typeof o=="function"?i.call(o,e):void 0),typeof d!="function"&&(d=n[d]),L.call(d,n,function(f,b){return v.call(e,f)?L.call(l,s,e[f],f,e,b):r})}}},38452:function(tt,U,t){tt.exports=t(96276)()?Object.assign:t(81892)},96276:function(tt){tt.exports=function(){var U=Object.assign,t;return typeof U!="function"?!1:(t={foo:"raz"},U(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},81892:function(tt,U,t){var E=t(54768),S=t(9252),i=Math.max;tt.exports=function(L,T){var v,d,r=i(arguments.length,2),e;for(L=Object(S(L)),e=function(l){try{L[l]=T[l]}catch(n){v||(v=n)}},d=1;d<r;++d)T=arguments[d],E(T).forEach(e);if(v!==void 0)throw v;return L}},95920:function(tt,U,t){var E=t(74772),S=t(38452),i=t(9252);tt.exports=function(L){var T=Object(i(L)),v=arguments[1],d=Object(arguments[2]);if(T!==L&&!v)return T;var r={};return v?E(v,function(e){(d.ensure||e in L)&&(r[e]=L[e])}):S(r,L),r}},14452:function(tt,U,t){var E=Object.create,S;t(63092)()||(S=t(8672)),tt.exports=function(){var i,L,T;return!S||S.level!==1?E:(i={},L={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=T}),Object.defineProperties(i,L),Object.defineProperty(S,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(v,d){return E(v===null?i:v,d)})}()},42748:function(tt,U,t){tt.exports=t(14428)("forEach")},69127:function(tt,U,t){var E=t(42584),S={function:!0,object:!0};tt.exports=function(i){return E(i)&&S[typeof i]||!1}},42584:function(tt,U,t){var E=t(33208)();tt.exports=function(S){return S!==E&&S!==null}},54768:function(tt,U,t){tt.exports=t(87888)()?Object.keys:t(89592)},87888:function(tt){tt.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(tt,U,t){var E=t(42584),S=Object.keys;tt.exports=function(i){return S(E(i)?Object(i):i)}},84323:function(tt,U,t){var E=t(34044),S=t(42748),i=Function.prototype.call;tt.exports=function(L,T){var v={},d=arguments[2];return E(T),S(L,function(r,e,l,n){v[e]=i.call(T,d,r,e,l,n)}),v}},50868:function(tt,U,t){var E=t(42584),S=Array.prototype.forEach,i=Object.create,L=function(T,v){var d;for(d in T)v[d]=T[d]};tt.exports=function(T){var v=i(null);return S.call(arguments,function(d){E(d)&&L(Object(d),v)}),v}},69932:function(tt,U,t){tt.exports=t(63092)()?Object.setPrototypeOf:t(8672)},63092:function(tt){var U=Object.create,t=Object.getPrototypeOf,E={};tt.exports=function(){var S=Object.setPrototypeOf,i=arguments[0]||U;return typeof S!="function"?!1:t(S(i(null),E))===E}},8672:function(tt,U,t){var E=t(69127),S=t(9252),i=Object.prototype.isPrototypeOf,L=Object.defineProperty,T={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(d,r){if(S(d),r===null||E(r))return d;throw new TypeError("Prototype must be null or an object")},tt.exports=function(d){var r,e;return d?(d.level===2?d.set?(e=d.set,r=function(l,n){return e.call(v(l,n),n),l}):r=function(l,n){return v(l,n).__proto__=n,l}:r=function l(n,s){var o;return v(n,s),o=i.call(l.nullPolyfill,n),o&&delete l.nullPolyfill.__proto__,s===null&&(s=l.nullPolyfill),n.__proto__=s,o&&L(l.nullPolyfill,"__proto__",T),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:d.level})):null}(function(){var d=Object.create(null),r={},e,l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{e=l.set,e.call(d,r)}catch{}if(Object.getPrototypeOf(d)===r)return{set:e,level:2}}return d.__proto__=r,Object.getPrototypeOf(d)===r?{level:2}:(d={},d.__proto__=r,Object.getPrototypeOf(d)===r?{level:1}:!1)}()),t(14452)},34044:function(tt){tt.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},92584:function(tt,U,t){var E=t(69127);tt.exports=function(S){if(!E(S))throw new TypeError(S+" is not an Object");return S}},9252:function(tt,U,t){var E=t(42584);tt.exports=function(S){if(!E(S))throw new TypeError("Cannot use null or undefined");return S}},71056:function(tt,U,t){tt.exports=t(42976)()?String.prototype.contains:t(93040)},42976:function(tt){var U="razdwatrzy";tt.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},93040:function(tt){var U=String.prototype.indexOf;tt.exports=function(t){return U.call(this,t,arguments[1])>-1}},29768:function(tt){var U=Object.prototype.toString,t=U.call("");tt.exports=function(E){return typeof E=="string"||E&&typeof E=="object"&&(E instanceof String||U.call(E)===t)||!1}},82252:function(tt){var U=Object.create(null),t=Math.random;tt.exports=function(){var E;do E=t().toString(36).slice(2);while(U[E]);return E}},52104:function(tt,U,t){var E=t(69932),S=t(71056),i=t(21092),L=t(92664),T=t(85512),v=Object.defineProperty,d;d=tt.exports=function(r,e){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");T.call(this,r),e?S.call(e,"key+value")?e="key+value":S.call(e,"key")?e="key":e="value":e="value",v(this,"__kind__",i("",e))},E&&E(d,T),delete d.prototype.constructor,d.prototype=Object.create(T.prototype,{_resolve:i(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(d.prototype,L.toStringTag,i("c","Array Iterator"))},76024:function(tt,U,t){var E=t(60948),S=t(34044),i=t(29768),L=t(76252),T=Array.isArray,v=Function.prototype.call,d=Array.prototype.some;tt.exports=function(r,e){var l,n=arguments[2],s,o,f,b,h,_,a;if(T(r)||E(r)?l="array":i(r)?l="string":r=L(r),S(e),o=function(){f=!0},l==="array"){d.call(r,function(c){return v.call(e,n,c,o),f});return}if(l==="string"){for(h=r.length,b=0;b<h&&(_=r[b],b+1<h&&(a=_.charCodeAt(0),a>=55296&&a<=56319&&(_+=r[++b])),v.call(e,n,_,o),!f);++b);return}for(s=r.next();!s.done;){if(v.call(e,n,s.value,o),f)return;s=r.next()}}},76252:function(tt,U,t){var E=t(60948),S=t(29768),i=t(52104),L=t(80940),T=t(52891),v=t(92664).iterator;tt.exports=function(d){return typeof T(d)[v]=="function"?d[v]():E(d)?new i(d):S(d)?new L(d):new i(d)}},85512:function(tt,U,t){var E=t(41476),S=t(38452),i=t(34044),L=t(9252),T=t(21092),v=t(27940),d=t(92664),r=Object.defineProperty,e=Object.defineProperties,l;tt.exports=l=function(n,s){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");e(this,{__list__:T("w",L(n)),__context__:T("w",s),__nextIndex__:T("w",0)}),s&&(i(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete l.prototype.constructor,e(l.prototype,S({_next:T(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:T(function(){return this._createResult(this._next())}),_createResult:T(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:T(function(n){return this.__list__[n]}),_unBind:T(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:T(function(){return"[object "+(this[d.toStringTag]||"Object")+"]"})},v({_onAdd:T(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",T("c",[n]));return}this.__redo__.forEach(function(s,o){s>=n&&(this.__redo__[o]=++s)},this),this.__redo__.push(n)}}),_onDelete:T(function(n){var s;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(s=this.__redo__.indexOf(n),s!==-1&&this.__redo__.splice(s,1),this.__redo__.forEach(function(o,f){o>n&&(this.__redo__[f]=--o)},this)))}),_onClear:T(function(){this.__redo__&&E.call(this.__redo__),this.__nextIndex__=0})}))),r(l.prototype,d.iterator,T(function(){return this}))},76368:function(tt,U,t){var E=t(60948),S=t(42584),i=t(29768),L=t(92664).iterator,T=Array.isArray;tt.exports=function(v){return S(v)?T(v)||i(v)||E(v)?!0:typeof v[L]=="function":!1}},80940:function(tt,U,t){var E=t(69932),S=t(21092),i=t(92664),L=t(85512),T=Object.defineProperty,v;v=tt.exports=function(d){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");d=String(d),L.call(this,d),T(this,"__length__",S("",d.length))},E&&E(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:S(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:S(function(d){var r=this.__list__[d],e;return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),T(v.prototype,i.toStringTag,S("c","String Iterator"))},52891:function(tt,U,t){var E=t(76368);tt.exports=function(S){if(!E(S))throw new TypeError(S+" is not iterable");return S}},60964:function(tt){function U(E,S){if(E==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(E),L=1;L<arguments.length;L++){var T=arguments[L];if(T!=null)for(var v=Object.keys(Object(T)),d=0,r=v.length;d<r;d++){var e=v[d],l=Object.getOwnPropertyDescriptor(T,e);l!==void 0&&l.enumerable&&(i[e]=T[e])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}tt.exports={assign:U,polyfill:t}},92664:function(tt,U,t){tt.exports=t(43580)()?t(12296).Symbol:t(18376)},43580:function(tt,U,t){var E=t(12296),S={object:!0,symbol:!0};tt.exports=function(){var i=E.Symbol,L;if(typeof i!="function")return!1;L=i("test symbol");try{String(L)}catch{return!1}return!(!S[typeof i.iterator]||!S[typeof i.toPrimitive]||!S[typeof i.toStringTag])}},53908:function(tt){tt.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},96863:function(tt,U,t){var E=t(21092),S=Object.create,i=Object.defineProperty,L=Object.prototype,T=S(null);tt.exports=function(v){for(var d=0,r,e;T[v+(d||"")];)++d;return v+=d||"",T[v]=!0,r="@@"+v,i(L,r,E.gs(null,function(l){e||(e=!0,i(this,r,E(l)),e=!1)})),r}},53540:function(tt,U,t){var E=t(21092),S=t(12296).Symbol;tt.exports=function(i){return Object.defineProperties(i,{hasInstance:E("",S&&S.hasInstance||i("hasInstance")),isConcatSpreadable:E("",S&&S.isConcatSpreadable||i("isConcatSpreadable")),iterator:E("",S&&S.iterator||i("iterator")),match:E("",S&&S.match||i("match")),replace:E("",S&&S.replace||i("replace")),search:E("",S&&S.search||i("search")),species:E("",S&&S.species||i("species")),split:E("",S&&S.split||i("split")),toPrimitive:E("",S&&S.toPrimitive||i("toPrimitive")),toStringTag:E("",S&&S.toStringTag||i("toStringTag")),unscopables:E("",S&&S.unscopables||i("unscopables"))})}},73852:function(tt,U,t){var E=t(21092),S=t(63948),i=Object.create(null);tt.exports=function(L){return Object.defineProperties(L,{for:E(function(T){return i[T]?i[T]:i[T]=L(String(T))}),keyFor:E(function(T){var v;S(T);for(v in i)if(i[v]===T)return v})})}},18376:function(tt,U,t){var E=t(21092),S=t(63948),i=t(12296).Symbol,L=t(96863),T=t(53540),v=t(73852),d=Object.create,r=Object.defineProperties,e=Object.defineProperty,l,n,s;if(typeof i=="function")try{String(i()),s=!0}catch{}else i=null;n=function(o){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return l(o)},tt.exports=l=function o(f){var b;if(this instanceof o)throw new TypeError("Symbol is not a constructor");return s?i(f):(b=d(n.prototype),f=f===void 0?"":String(f),r(b,{__description__:E("",f),__name__:E("",L(f))}))},T(l),v(l),r(n.prototype,{constructor:E(l),toString:E("",function(){return this.__name__})}),r(l.prototype,{toString:E(function(){return"Symbol ("+S(this).__description__+")"}),valueOf:E(function(){return S(this)})}),e(l.prototype,l.toPrimitive,E("",function(){var o=S(this);return typeof o=="symbol"?o:o.toString()})),e(l.prototype,l.toStringTag,E("c","Symbol")),e(n.prototype,l.toStringTag,E("c",l.prototype[l.toStringTag])),e(n.prototype,l.toPrimitive,E("c",l.prototype[l.toPrimitive]))},63948:function(tt,U,t){var E=t(53908);tt.exports=function(S){if(!E(S))throw new TypeError(S+" is not a symbol");return S}},60463:function(tt,U,t){tt.exports=t(96979)()?WeakMap:t(64864)},96979:function(tt){tt.exports=function(){var U,t;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(t)!=="one")}},69876:function(tt){tt.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(tt,U,t){var E=t(42584),S=t(69932),i=t(92584),L=t(9252),T=t(82252),v=t(21092),d=t(76252),r=t(76024),e=t(92664).toStringTag,l=t(69876),n=Array.isArray,s=Object.defineProperty,o=Object.prototype.hasOwnProperty,f=Object.getPrototypeOf,b;tt.exports=b=function(){var h=arguments[0],_;if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");return _=l&&S&&WeakMap!==b?S(new WeakMap,f(this)):this,E(h)&&(n(h)||(h=d(h))),s(_,"__weakMapData__",v("c","$weakMap$"+T())),h&&r(h,function(a){L(a),_.set(a[0],a[1])}),_},l&&(S&&S(b,WeakMap),b.prototype=Object.create(WeakMap.prototype,{constructor:v(b)})),Object.defineProperties(b.prototype,{delete:v(function(h){return o.call(i(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(o.call(i(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return o.call(i(h),this.__weakMapData__)}),set:v(function(h,_){return s(i(h),this.__weakMapData__,v("c",_)),this}),toString:v(function(){return"[object WeakMap]"})}),s(b.prototype,e,v("c","WeakMap"))},61252:function(tt){var U=typeof Reflect=="object"?Reflect:null,t=U&&typeof U.apply=="function"?U.apply:function(c,p,x){return Function.prototype.apply.call(c,p,x)},E;U&&typeof U.ownKeys=="function"?E=U.ownKeys:Object.getOwnPropertySymbols?E=function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:E=function(c){return Object.getOwnPropertyNames(c)};function S(c){console&&console.warn&&console.warn(c)}var i=Number.isNaN||function(c){return c!==c};function L(){L.init.call(this)}tt.exports=L,tt.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var T=10;function v(c){if(typeof c!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(c){if(typeof c!="number"||c<0||i(c))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+c+".");T=c}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(c){if(typeof c!="number"||c<0||i(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this};function d(c){return c._maxListeners===void 0?L.defaultMaxListeners:c._maxListeners}L.prototype.getMaxListeners=function(){return d(this)},L.prototype.emit=function(c){for(var p=[],x=1;x<arguments.length;x++)p.push(arguments[x]);var k=c==="error",y=this._events;if(y!==void 0)k=k&&y.error===void 0;else if(!k)return!1;if(k){var A;if(p.length>0&&(A=p[0]),A instanceof Error)throw A;var C=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw C.context=A,C}var u=y[c];if(u===void 0)return!1;if(typeof u=="function")t(u,this,p);else for(var m=u.length,M=o(u,m),x=0;x<m;++x)t(M[x],this,p);return!0};function r(c,p,x,k){var y,A,C;if(v(x),A=c._events,A===void 0?(A=c._events=Object.create(null),c._eventsCount=0):(A.newListener!==void 0&&(c.emit("newListener",p,x.listener?x.listener:x),A=c._events),C=A[p]),C===void 0)C=A[p]=x,++c._eventsCount;else if(typeof C=="function"?C=A[p]=k?[x,C]:[C,x]:k?C.unshift(x):C.push(x),y=d(c),y>0&&C.length>y&&!C.warned){C.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=c,u.type=p,u.count=C.length,S(u)}return c}L.prototype.addListener=function(c,p){return r(this,c,p,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(c,p){return r(this,c,p,!0)};function e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(c,p,x){var k={fired:!1,wrapFn:void 0,target:c,type:p,listener:x},y=e.bind(k);return y.listener=x,k.wrapFn=y,y}L.prototype.once=function(c,p){return v(p),this.on(c,l(this,c,p)),this},L.prototype.prependOnceListener=function(c,p){return v(p),this.prependListener(c,l(this,c,p)),this},L.prototype.removeListener=function(c,p){var x,k,y,A,C;if(v(p),k=this._events,k===void 0)return this;if(x=k[c],x===void 0)return this;if(x===p||x.listener===p)--this._eventsCount===0?this._events=Object.create(null):(delete k[c],k.removeListener&&this.emit("removeListener",c,x.listener||p));else if(typeof x!="function"){for(y=-1,A=x.length-1;A>=0;A--)if(x[A]===p||x[A].listener===p){C=x[A].listener,y=A;break}if(y<0)return this;y===0?x.shift():f(x,y),x.length===1&&(k[c]=x[0]),k.removeListener!==void 0&&this.emit("removeListener",c,C||p)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(c){var p,x,k;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[c]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[c]),this;if(arguments.length===0){var y=Object.keys(x),A;for(k=0;k<y.length;++k)A=y[k],A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(p=x[c],typeof p=="function")this.removeListener(c,p);else if(p!==void 0)for(k=p.length-1;k>=0;k--)this.removeListener(c,p[k]);return this};function n(c,p,x){var k=c._events;if(k===void 0)return[];var y=k[p];return y===void 0?[]:typeof y=="function"?x?[y.listener||y]:[y]:x?b(y):o(y,y.length)}L.prototype.listeners=function(c){return n(this,c,!0)},L.prototype.rawListeners=function(c){return n(this,c,!1)},L.listenerCount=function(c,p){return typeof c.listenerCount=="function"?c.listenerCount(p):s.call(c,p)},L.prototype.listenerCount=s;function s(c){var p=this._events;if(p!==void 0){var x=p[c];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?E(this._events):[]};function o(c,p){for(var x=new Array(p),k=0;k<p;++k)x[k]=c[k];return x}function f(c,p){for(;p+1<c.length;p++)c[p]=c[p+1];c.pop()}function b(c){for(var p=new Array(c.length),x=0;x<p.length;++x)p[x]=c[x].listener||c[x];return p}function h(c,p){return new Promise(function(x,k){function y(C){c.removeListener(p,A),k(C)}function A(){typeof c.removeListener=="function"&&c.removeListener("error",y),x([].slice.call(arguments))}a(c,p,A,{once:!0}),p!=="error"&&_(c,y,{once:!0})})}function _(c,p,x){typeof c.on=="function"&&a(c,"error",p,x)}function a(c,p,x,k){if(typeof c.on=="function")k.once?c.once(p,x):c.on(p,x);else if(typeof c.addEventListener=="function")c.addEventListener(p,function y(A){k.once&&c.removeEventListener(p,y),x(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof c)}},39072:function(tt){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};tt.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},12296:function(tt,U,t){tt.exports=t(45072)()?globalThis:t(39072)},45072:function(tt){tt.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(tt,U,t){var E=t(94576);tt.exports=function(S){var i=typeof S;if(i==="string"){var L=S;if(S=+S,S===0&&E(L))return!1}else if(i!=="number")return!1;return S-S<1}},47520:function(tt,U,t){var E=t(72512);tt.exports=S;function S(i,L,T){if(!i)throw new TypeError("must specify data as first parameter");if(T=+(T||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var v=i[0].length,d=i.length*v,r,e,l,n;(!L||typeof L=="string")&&(L=new(E(L||"float32"))(d+T));var s=L.length-T;if(d!==s)throw new Error("source length "+d+" ("+v+"x"+i.length+") does not match destination length "+s);for(r=0,l=T;r<i.length;r++)for(e=0;e<v;e++)L[l++]=i[r][e]===null?NaN:i[r][e]}else if(!L||typeof L=="string"){var o=E(L||"float32");if(Array.isArray(i)||L==="array")for(L=new o(i.length+T),r=0,l=T,n=L.length;l<n;l++,r++)L[l]=i[r]===null?NaN:i[r];else T===0?L=new o(i):(L=new o(i.length+T),L.set(i,T))}else L.set(i,T);return L}},33888:function(tt,U,t){var E=t(49395),S=[32,126];tt.exports=i;function i(L){L=L||{};var T=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),d=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],e=L.chars||S;if(d&&typeof d!="string"&&(d=E(d)),!Array.isArray(e))e=String(e).split("");else if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){for(var l=[],n=e[0],s=0;n<=e[1];n++)l[s++]=String.fromCharCode(n);e=l}T=T.slice(),v.width=T[0],v.height=T[1];var o=v.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,v.width,v.height),o.font=d,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";for(var f=r[0]/2,b=r[1]/2,n=0;n<e.length;n++)o.fillText(e[n],f,b),(f+=r[0])>T[0]-r[0]/2&&(f=r[0]/2,b+=r[1]);return v}},71920:function(tt){tt.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(e,L){L||(L={}),(typeof e=="string"||Array.isArray(e))&&(L.family=e);var T=Array.isArray(L.family)?L.family.join(", "):L.family;if(!T)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,d=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",e=[r,d,v].join(" ")+"px "+T,l=L.origin||"top";if(U.cache[T]&&v<=U.cache[T].em)return t(U.cache[T],l);var n=L.canvas||U.canvas,s=n.getContext("2d"),o={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},f=Math.ceil(v*1.5);n.height=f,n.width=f*.5,s.font=e;var b="H",h={top:0};s.clearRect(0,0,f,f),s.textBaseline="top",s.fillStyle="black",s.fillText(b,0,0);var _=E(s.getImageData(0,0,f,f));s.clearRect(0,0,f,f),s.textBaseline="bottom",s.fillText(b,0,f);var a=E(s.getImageData(0,0,f,f));h.lineHeight=h.bottom=f-a+_,s.clearRect(0,0,f,f),s.textBaseline="alphabetic",s.fillText(b,0,f);var c=E(s.getImageData(0,0,f,f)),p=f-c-1+_;h.baseline=h.alphabetic=p,s.clearRect(0,0,f,f),s.textBaseline="middle",s.fillText(b,0,f*.5);var x=E(s.getImageData(0,0,f,f));h.median=h.middle=f-x-1+_-f*.5,s.clearRect(0,0,f,f),s.textBaseline="hanging",s.fillText(b,0,f*.5);var k=E(s.getImageData(0,0,f,f));h.hanging=f-k-1+_-f*.5,s.clearRect(0,0,f,f),s.textBaseline="ideographic",s.fillText(b,0,f);var y=E(s.getImageData(0,0,f,f));if(h.ideographic=f-y-1+_,o.upper&&(s.clearRect(0,0,f,f),s.textBaseline="top",s.fillText(o.upper,0,0),h.upper=E(s.getImageData(0,0,f,f)),h.capHeight=h.baseline-h.upper),o.lower&&(s.clearRect(0,0,f,f),s.textBaseline="top",s.fillText(o.lower,0,0),h.lower=E(s.getImageData(0,0,f,f)),h.xHeight=h.baseline-h.lower),o.tittle&&(s.clearRect(0,0,f,f),s.textBaseline="top",s.fillText(o.tittle,0,0),h.tittle=E(s.getImageData(0,0,f,f))),o.ascent&&(s.clearRect(0,0,f,f),s.textBaseline="top",s.fillText(o.ascent,0,0),h.ascent=E(s.getImageData(0,0,f,f))),o.descent&&(s.clearRect(0,0,f,f),s.textBaseline="top",s.fillText(o.descent,0,0),h.descent=S(s.getImageData(0,0,f,f))),o.overshoot){s.clearRect(0,0,f,f),s.textBaseline="top",s.fillText(o.overshoot,0,0);var A=S(s.getImageData(0,0,f,f));h.overshoot=A-p}for(var C in h)h[C]/=v;return h.em=v,U.cache[T]=h,t(h,l)}function t(i,L){var T={};typeof L=="string"&&(L=i[L]);for(var v in i)v!=="em"&&(T[v]=i[v]-L);return T}function E(i){for(var L=i.height,T=i.data,v=3;v<T.length;v+=4)if(T[v]!==0)return Math.floor((v-3)*.25/L)}function S(i){for(var L=i.height,T=i.data,v=T.length-1;v>0;v-=4)if(T[v]!==0)return Math.floor((v-3)*.25/L)}},46492:function(tt,U,t){var E=t(90720),S=Object.prototype.toString,i=Object.prototype.hasOwnProperty,L=function(r,e,l){for(var n=0,s=r.length;n<s;n++)i.call(r,n)&&(l==null?e(r[n],n,r):e.call(l,r[n],n,r))},T=function(r,e,l){for(var n=0,s=r.length;n<s;n++)l==null?e(r.charAt(n),n,r):e.call(l,r.charAt(n),n,r)},v=function(r,e,l){for(var n in r)i.call(r,n)&&(l==null?e(r[n],n,r):e.call(l,r[n],n,r))},d=function(r,e,l){if(!E(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=l),S.call(r)==="[object Array]"?L(r,e,n):typeof r=="string"?T(r,e,n):v(r,e,n)};tt.exports=d},74336:function(tt){var U="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,E=Math.max,S="[object Function]",i=function(v,d){for(var r=[],e=0;e<v.length;e+=1)r[e]=v[e];for(var l=0;l<d.length;l+=1)r[l+v.length]=d[l];return r},L=function(v,d){for(var r=[],e=d||0,l=0;e<v.length;e+=1,l+=1)r[l]=v[e];return r},T=function(v,d){for(var r="",e=0;e<v.length;e+=1)r+=v[e],e+1<v.length&&(r+=d);return r};tt.exports=function(v){var d=this;if(typeof d!="function"||t.apply(d)!==S)throw new TypeError(U+d);for(var r=L(arguments,1),e,l=function(){if(this instanceof e){var b=d.apply(this,i(r,arguments));return Object(b)===b?b:this}return d.apply(v,i(r,arguments))},n=E(0,d.length-r.length),s=[],o=0;o<n;o++)s[o]="$"+o;if(e=Function("binder","return function ("+T(s,",")+"){ return binder.apply(this,arguments); }")(l),d.prototype){var f=function(){};f.prototype=d.prototype,e.prototype=new f,f.prototype=null}return e}},8844:function(tt,U,t){var E=t(74336);tt.exports=Function.prototype.bind||E},13380:function(tt){tt.exports=U;function U(t,E){if(typeof t!="string")throw new TypeError("must specify type string");if(E=E||{},typeof document>"u"&&!E.canvas)return null;var S=E.canvas||document.createElement("canvas");typeof E.width=="number"&&(S.width=E.width),typeof E.height=="number"&&(S.height=E.height);var i=E,L;try{var T=[t];t.indexOf("webgl")===0&&T.push("experimental-"+t);for(var v=0;v<T.length;v++)if(L=S.getContext(T[v],i),L)return L}catch{L=null}return L||null}},53664:function(tt,U,t){var E,S=SyntaxError,i=Function,L=TypeError,T=function(w){try{return i('"use strict"; return ('+w+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var d=function(){throw new L},r=v?function(){try{return arguments.callee,d}catch{try{return v(arguments,"callee").get}catch{return d}}}():d,e=t(71080)(),l=t(69572)(),n=Object.getPrototypeOf||(l?function(w){return w.__proto__}:null),s={},o=typeof Uint8Array>"u"||!n?E:n(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?E:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?E:ArrayBuffer,"%ArrayIteratorPrototype%":e&&n?n([][Symbol.iterator]()):E,"%AsyncFromSyncIteratorPrototype%":E,"%AsyncFunction%":s,"%AsyncGenerator%":s,"%AsyncGeneratorFunction%":s,"%AsyncIteratorPrototype%":s,"%Atomics%":typeof Atomics>"u"?E:Atomics,"%BigInt%":typeof BigInt>"u"?E:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?E:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?E:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?E:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?E:Float32Array,"%Float64Array%":typeof Float64Array>"u"?E:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?E:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":s,"%Int8Array%":typeof Int8Array>"u"?E:Int8Array,"%Int16Array%":typeof Int16Array>"u"?E:Int16Array,"%Int32Array%":typeof Int32Array>"u"?E:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e&&n?n(n([][Symbol.iterator]())):E,"%JSON%":typeof JSON=="object"?JSON:E,"%Map%":typeof Map>"u"?E:Map,"%MapIteratorPrototype%":typeof Map>"u"||!e||!n?E:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?E:Promise,"%Proxy%":typeof Proxy>"u"?E:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?E:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?E:Set,"%SetIteratorPrototype%":typeof Set>"u"||!e||!n?E:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?E:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e&&n?n(""[Symbol.iterator]()):E,"%Symbol%":e?Symbol:E,"%SyntaxError%":S,"%ThrowTypeError%":r,"%TypedArray%":o,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?E:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?E:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?E:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?E:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?E:WeakMap,"%WeakRef%":typeof WeakRef>"u"?E:WeakRef,"%WeakSet%":typeof WeakSet>"u"?E:WeakSet};if(n)try{null.error}catch(w){var b=n(n(w));f["%Error.prototype%"]=b}var h=function w(z){var O;if(z==="%AsyncFunction%")O=T("async function () {}");else if(z==="%GeneratorFunction%")O=T("function* () {}");else if(z==="%AsyncGeneratorFunction%")O=T("async function* () {}");else if(z==="%AsyncGenerator%"){var D=w("%AsyncGeneratorFunction%");D&&(O=D.prototype)}else if(z==="%AsyncIteratorPrototype%"){var P=w("%AsyncGenerator%");P&&n&&(O=n(P.prototype))}return f[z]=O,O},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},a=t(8844),c=t(92064),p=a.call(Function.call,Array.prototype.concat),x=a.call(Function.apply,Array.prototype.splice),k=a.call(Function.call,String.prototype.replace),y=a.call(Function.call,String.prototype.slice),A=a.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,u=/\\(\\)?/g,m=function(w){var z=y(w,0,1),O=y(w,-1);if(z==="%"&&O!=="%")throw new S("invalid intrinsic syntax, expected closing `%`");if(O==="%"&&z!=="%")throw new S("invalid intrinsic syntax, expected opening `%`");var D=[];return k(w,C,function(P,F,R,N){D[D.length]=R?k(N,u,"$1"):F||P}),D},M=function(w,z){var O=w,D;if(c(_,O)&&(D=_[O],O="%"+D[0]+"%"),c(f,O)){var P=f[O];if(P===s&&(P=h(O)),typeof P>"u"&&!z)throw new L("intrinsic "+w+" exists, but is not available. Please file an issue!");return{alias:D,name:O,value:P}}throw new S("intrinsic "+w+" does not exist!")};tt.exports=function(w,z){if(typeof w!="string"||w.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new L('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,w)===null)throw new S("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=m(w),D=O.length>0?O[0]:"",P=M("%"+D+"%",z),F=P.name,R=P.value,N=!1,B=P.alias;B&&(D=B[0],x(O,p([0,1],B)));for(var q=1,V=!0;q<O.length;q+=1){var J=O[q],it=y(J,0,1),nt=y(J,-1);if((it==='"'||it==="'"||it==="`"||nt==='"'||nt==="'"||nt==="`")&&it!==nt)throw new S("property names with quotes must have matching quotes");if((J==="constructor"||!V)&&(N=!0),D+="."+J,F="%"+D+"%",c(f,F))R=f[F];else if(R!=null){if(!(J in R)){if(!z)throw new L("base intrinsic for "+w+" exists, but the property is not available.");return}if(v&&q+1>=O.length){var Y=v(R,J);V=!!Y,V&&"get"in Y&&!("originalValue"in Y.get)?R=Y.get:R=R[J]}else V=c(R,J),R=R[J];V&&!N&&(f[F]=R)}}return R}},12408:function(tt){tt.exports=U;function U(t,E){var S=E[0],i=E[1],L=E[2],T=E[3],v=E[4],d=E[5],r=E[6],e=E[7],l=E[8],n=E[9],s=E[10],o=E[11],f=E[12],b=E[13],h=E[14],_=E[15];return t[0]=d*(s*_-o*h)-n*(r*_-e*h)+b*(r*o-e*s),t[1]=-(i*(s*_-o*h)-n*(L*_-T*h)+b*(L*o-T*s)),t[2]=i*(r*_-e*h)-d*(L*_-T*h)+b*(L*e-T*r),t[3]=-(i*(r*o-e*s)-d*(L*o-T*s)+n*(L*e-T*r)),t[4]=-(v*(s*_-o*h)-l*(r*_-e*h)+f*(r*o-e*s)),t[5]=S*(s*_-o*h)-l*(L*_-T*h)+f*(L*o-T*s),t[6]=-(S*(r*_-e*h)-v*(L*_-T*h)+f*(L*e-T*r)),t[7]=S*(r*o-e*s)-v*(L*o-T*s)+l*(L*e-T*r),t[8]=v*(n*_-o*b)-l*(d*_-e*b)+f*(d*o-e*n),t[9]=-(S*(n*_-o*b)-l*(i*_-T*b)+f*(i*o-T*n)),t[10]=S*(d*_-e*b)-v*(i*_-T*b)+f*(i*e-T*d),t[11]=-(S*(d*o-e*n)-v*(i*o-T*n)+l*(i*e-T*d)),t[12]=-(v*(n*h-s*b)-l*(d*h-r*b)+f*(d*s-r*n)),t[13]=S*(n*h-s*b)-l*(i*h-L*b)+f*(i*s-L*n),t[14]=-(S*(d*h-r*b)-v*(i*h-L*b)+f*(i*r-L*d)),t[15]=S*(d*s-r*n)-v*(i*s-L*n)+l*(i*r-L*d),t}},76860:function(tt){tt.exports=U;function U(t){var E=new Float32Array(16);return E[0]=t[0],E[1]=t[1],E[2]=t[2],E[3]=t[3],E[4]=t[4],E[5]=t[5],E[6]=t[6],E[7]=t[7],E[8]=t[8],E[9]=t[9],E[10]=t[10],E[11]=t[11],E[12]=t[12],E[13]=t[13],E[14]=t[14],E[15]=t[15],E}},64492:function(tt){tt.exports=U;function U(t,E){return t[0]=E[0],t[1]=E[1],t[2]=E[2],t[3]=E[3],t[4]=E[4],t[5]=E[5],t[6]=E[6],t[7]=E[7],t[8]=E[8],t[9]=E[9],t[10]=E[10],t[11]=E[11],t[12]=E[12],t[13]=E[13],t[14]=E[14],t[15]=E[15],t}},54212:function(tt){tt.exports=U;function U(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},70800:function(tt){tt.exports=U;function U(t){var E=t[0],S=t[1],i=t[2],L=t[3],T=t[4],v=t[5],d=t[6],r=t[7],e=t[8],l=t[9],n=t[10],s=t[11],o=t[12],f=t[13],b=t[14],h=t[15],_=E*v-S*T,a=E*d-i*T,c=E*r-L*T,p=S*d-i*v,x=S*r-L*v,k=i*r-L*d,y=e*f-l*o,A=e*b-n*o,C=e*h-s*o,u=l*b-n*f,m=l*h-s*f,M=n*h-s*b;return _*M-a*m+c*u+p*C-x*A+k*y}},61784:function(tt){tt.exports=U;function U(t,E){var S=E[0],i=E[1],L=E[2],T=E[3],v=S+S,d=i+i,r=L+L,e=S*v,l=i*v,n=i*d,s=L*v,o=L*d,f=L*r,b=T*v,h=T*d,_=T*r;return t[0]=1-n-f,t[1]=l+_,t[2]=s-h,t[3]=0,t[4]=l-_,t[5]=1-e-f,t[6]=o+b,t[7]=0,t[8]=s+h,t[9]=o-b,t[10]=1-e-n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},91616:function(tt){tt.exports=U;function U(t,E,S){var i,L,T,v=S[0],d=S[1],r=S[2],e=Math.sqrt(v*v+d*d+r*r);return Math.abs(e)<1e-6?null:(e=1/e,v*=e,d*=e,r*=e,i=Math.sin(E),L=Math.cos(E),T=1-L,t[0]=v*v*T+L,t[1]=d*v*T+r*i,t[2]=r*v*T-d*i,t[3]=0,t[4]=v*d*T-r*i,t[5]=d*d*T+L,t[6]=r*d*T+v*i,t[7]=0,t[8]=v*r*T+d*i,t[9]=d*r*T-v*i,t[10]=r*r*T+L,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},51944:function(tt){tt.exports=U;function U(t,E,S){var i=E[0],L=E[1],T=E[2],v=E[3],d=i+i,r=L+L,e=T+T,l=i*d,n=i*r,s=i*e,o=L*r,f=L*e,b=T*e,h=v*d,_=v*r,a=v*e;return t[0]=1-(o+b),t[1]=n+a,t[2]=s-_,t[3]=0,t[4]=n-a,t[5]=1-(l+b),t[6]=f+h,t[7]=0,t[8]=s+_,t[9]=f-h,t[10]=1-(l+o),t[11]=0,t[12]=S[0],t[13]=S[1],t[14]=S[2],t[15]=1,t}},69444:function(tt){tt.exports=U;function U(t,E){return t[0]=E[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=E[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=E[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},48268:function(tt){tt.exports=U;function U(t,E){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=E[0],t[13]=E[1],t[14]=E[2],t[15]=1,t}},21856:function(tt){tt.exports=U;function U(t,E){var S=Math.sin(E),i=Math.cos(E);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=S,t[7]=0,t[8]=0,t[9]=-S,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},79216:function(tt){tt.exports=U;function U(t,E){var S=Math.sin(E),i=Math.cos(E);return t[0]=i,t[1]=0,t[2]=-S,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=S,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},57736:function(tt){tt.exports=U;function U(t,E){var S=Math.sin(E),i=Math.cos(E);return t[0]=i,t[1]=S,t[2]=0,t[3]=0,t[4]=-S,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},38848:function(tt){tt.exports=U;function U(t,E,S,i,L,T,v){var d=1/(S-E),r=1/(L-i),e=1/(T-v);return t[0]=T*2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=T*2*r,t[6]=0,t[7]=0,t[8]=(S+E)*d,t[9]=(L+i)*r,t[10]=(v+T)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=v*T*2*e,t[15]=0,t}},36635:function(tt){tt.exports=U;function U(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},36524:function(tt,U,t){tt.exports={create:t(54212),clone:t(76860),copy:t(64492),identity:t(36635),transpose:t(86520),invert:t(4308),adjoint:t(12408),determinant:t(70800),multiply:t(80944),translate:t(35176),scale:t(68152),rotate:t(30016),rotateX:t(15456),rotateY:t(64840),rotateZ:t(4192),fromRotation:t(91616),fromRotationTranslation:t(51944),fromScaling:t(69444),fromTranslation:t(48268),fromXRotation:t(21856),fromYRotation:t(79216),fromZRotation:t(57736),fromQuat:t(61784),frustum:t(38848),perspective:t(51296),perspectiveFromFieldOfView:t(63688),ortho:t(97688),lookAt:t(56508),str:t(89412)}},4308:function(tt){tt.exports=U;function U(t,E){var S=E[0],i=E[1],L=E[2],T=E[3],v=E[4],d=E[5],r=E[6],e=E[7],l=E[8],n=E[9],s=E[10],o=E[11],f=E[12],b=E[13],h=E[14],_=E[15],a=S*d-i*v,c=S*r-L*v,p=S*e-T*v,x=i*r-L*d,k=i*e-T*d,y=L*e-T*r,A=l*b-n*f,C=l*h-s*f,u=l*_-o*f,m=n*h-s*b,M=n*_-o*b,w=s*_-o*h,z=a*w-c*M+p*m+x*u-k*C+y*A;return z?(z=1/z,t[0]=(d*w-r*M+e*m)*z,t[1]=(L*M-i*w-T*m)*z,t[2]=(b*y-h*k+_*x)*z,t[3]=(s*k-n*y-o*x)*z,t[4]=(r*u-v*w-e*C)*z,t[5]=(S*w-L*u+T*C)*z,t[6]=(h*p-f*y-_*c)*z,t[7]=(l*y-s*p+o*c)*z,t[8]=(v*M-d*u+e*A)*z,t[9]=(i*u-S*M-T*A)*z,t[10]=(f*k-b*p+_*a)*z,t[11]=(n*p-l*k-o*a)*z,t[12]=(d*C-v*m-r*A)*z,t[13]=(S*m-i*C+L*A)*z,t[14]=(b*c-f*x-h*a)*z,t[15]=(l*x-n*c+s*a)*z,t):null}},56508:function(tt,U,t){var E=t(36635);tt.exports=S;function S(i,L,T,v){var d,r,e,l,n,s,o,f,b,h,_=L[0],a=L[1],c=L[2],p=v[0],x=v[1],k=v[2],y=T[0],A=T[1],C=T[2];return Math.abs(_-y)<1e-6&&Math.abs(a-A)<1e-6&&Math.abs(c-C)<1e-6?E(i):(o=_-y,f=a-A,b=c-C,h=1/Math.sqrt(o*o+f*f+b*b),o*=h,f*=h,b*=h,d=x*b-k*f,r=k*o-p*b,e=p*f-x*o,h=Math.sqrt(d*d+r*r+e*e),h?(h=1/h,d*=h,r*=h,e*=h):(d=0,r=0,e=0),l=f*e-b*r,n=b*d-o*e,s=o*r-f*d,h=Math.sqrt(l*l+n*n+s*s),h?(h=1/h,l*=h,n*=h,s*=h):(l=0,n=0,s=0),i[0]=d,i[1]=l,i[2]=o,i[3]=0,i[4]=r,i[5]=n,i[6]=f,i[7]=0,i[8]=e,i[9]=s,i[10]=b,i[11]=0,i[12]=-(d*_+r*a+e*c),i[13]=-(l*_+n*a+s*c),i[14]=-(o*_+f*a+b*c),i[15]=1,i)}},80944:function(tt){tt.exports=U;function U(t,E,S){var i=E[0],L=E[1],T=E[2],v=E[3],d=E[4],r=E[5],e=E[6],l=E[7],n=E[8],s=E[9],o=E[10],f=E[11],b=E[12],h=E[13],_=E[14],a=E[15],c=S[0],p=S[1],x=S[2],k=S[3];return t[0]=c*i+p*d+x*n+k*b,t[1]=c*L+p*r+x*s+k*h,t[2]=c*T+p*e+x*o+k*_,t[3]=c*v+p*l+x*f+k*a,c=S[4],p=S[5],x=S[6],k=S[7],t[4]=c*i+p*d+x*n+k*b,t[5]=c*L+p*r+x*s+k*h,t[6]=c*T+p*e+x*o+k*_,t[7]=c*v+p*l+x*f+k*a,c=S[8],p=S[9],x=S[10],k=S[11],t[8]=c*i+p*d+x*n+k*b,t[9]=c*L+p*r+x*s+k*h,t[10]=c*T+p*e+x*o+k*_,t[11]=c*v+p*l+x*f+k*a,c=S[12],p=S[13],x=S[14],k=S[15],t[12]=c*i+p*d+x*n+k*b,t[13]=c*L+p*r+x*s+k*h,t[14]=c*T+p*e+x*o+k*_,t[15]=c*v+p*l+x*f+k*a,t}},97688:function(tt){tt.exports=U;function U(t,E,S,i,L,T,v){var d=1/(E-S),r=1/(i-L),e=1/(T-v);return t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*e,t[11]=0,t[12]=(E+S)*d,t[13]=(L+i)*r,t[14]=(v+T)*e,t[15]=1,t}},51296:function(tt){tt.exports=U;function U(t,E,S,i,L){var T=1/Math.tan(E/2),v=1/(i-L);return t[0]=T/S,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=T,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(L+i)*v,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*L*i*v,t[15]=0,t}},63688:function(tt){tt.exports=U;function U(t,E,S,i){var L=Math.tan(E.upDegrees*Math.PI/180),T=Math.tan(E.downDegrees*Math.PI/180),v=Math.tan(E.leftDegrees*Math.PI/180),d=Math.tan(E.rightDegrees*Math.PI/180),r=2/(v+d),e=2/(L+T);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=-((v-d)*r*.5),t[9]=(L-T)*e*.5,t[10]=i/(S-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*S/(S-i),t[15]=0,t}},30016:function(tt){tt.exports=U;function U(t,E,S,i){var L=i[0],T=i[1],v=i[2],d=Math.sqrt(L*L+T*T+v*v),r,e,l,n,s,o,f,b,h,_,a,c,p,x,k,y,A,C,u,m,M,w,z,O;return Math.abs(d)<1e-6?null:(d=1/d,L*=d,T*=d,v*=d,r=Math.sin(S),e=Math.cos(S),l=1-e,n=E[0],s=E[1],o=E[2],f=E[3],b=E[4],h=E[5],_=E[6],a=E[7],c=E[8],p=E[9],x=E[10],k=E[11],y=L*L*l+e,A=T*L*l+v*r,C=v*L*l-T*r,u=L*T*l-v*r,m=T*T*l+e,M=v*T*l+L*r,w=L*v*l+T*r,z=T*v*l-L*r,O=v*v*l+e,t[0]=n*y+b*A+c*C,t[1]=s*y+h*A+p*C,t[2]=o*y+_*A+x*C,t[3]=f*y+a*A+k*C,t[4]=n*u+b*m+c*M,t[5]=s*u+h*m+p*M,t[6]=o*u+_*m+x*M,t[7]=f*u+a*m+k*M,t[8]=n*w+b*z+c*O,t[9]=s*w+h*z+p*O,t[10]=o*w+_*z+x*O,t[11]=f*w+a*z+k*O,E!==t&&(t[12]=E[12],t[13]=E[13],t[14]=E[14],t[15]=E[15]),t)}},15456:function(tt){tt.exports=U;function U(t,E,S){var i=Math.sin(S),L=Math.cos(S),T=E[4],v=E[5],d=E[6],r=E[7],e=E[8],l=E[9],n=E[10],s=E[11];return E!==t&&(t[0]=E[0],t[1]=E[1],t[2]=E[2],t[3]=E[3],t[12]=E[12],t[13]=E[13],t[14]=E[14],t[15]=E[15]),t[4]=T*L+e*i,t[5]=v*L+l*i,t[6]=d*L+n*i,t[7]=r*L+s*i,t[8]=e*L-T*i,t[9]=l*L-v*i,t[10]=n*L-d*i,t[11]=s*L-r*i,t}},64840:function(tt){tt.exports=U;function U(t,E,S){var i=Math.sin(S),L=Math.cos(S),T=E[0],v=E[1],d=E[2],r=E[3],e=E[8],l=E[9],n=E[10],s=E[11];return E!==t&&(t[4]=E[4],t[5]=E[5],t[6]=E[6],t[7]=E[7],t[12]=E[12],t[13]=E[13],t[14]=E[14],t[15]=E[15]),t[0]=T*L-e*i,t[1]=v*L-l*i,t[2]=d*L-n*i,t[3]=r*L-s*i,t[8]=T*i+e*L,t[9]=v*i+l*L,t[10]=d*i+n*L,t[11]=r*i+s*L,t}},4192:function(tt){tt.exports=U;function U(t,E,S){var i=Math.sin(S),L=Math.cos(S),T=E[0],v=E[1],d=E[2],r=E[3],e=E[4],l=E[5],n=E[6],s=E[7];return E!==t&&(t[8]=E[8],t[9]=E[9],t[10]=E[10],t[11]=E[11],t[12]=E[12],t[13]=E[13],t[14]=E[14],t[15]=E[15]),t[0]=T*L+e*i,t[1]=v*L+l*i,t[2]=d*L+n*i,t[3]=r*L+s*i,t[4]=e*L-T*i,t[5]=l*L-v*i,t[6]=n*L-d*i,t[7]=s*L-r*i,t}},68152:function(tt){tt.exports=U;function U(t,E,S){var i=S[0],L=S[1],T=S[2];return t[0]=E[0]*i,t[1]=E[1]*i,t[2]=E[2]*i,t[3]=E[3]*i,t[4]=E[4]*L,t[5]=E[5]*L,t[6]=E[6]*L,t[7]=E[7]*L,t[8]=E[8]*T,t[9]=E[9]*T,t[10]=E[10]*T,t[11]=E[11]*T,t[12]=E[12],t[13]=E[13],t[14]=E[14],t[15]=E[15],t}},89412:function(tt){tt.exports=U;function U(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},35176:function(tt){tt.exports=U;function U(t,E,S){var i=S[0],L=S[1],T=S[2],v,d,r,e,l,n,s,o,f,b,h,_;return E===t?(t[12]=E[0]*i+E[4]*L+E[8]*T+E[12],t[13]=E[1]*i+E[5]*L+E[9]*T+E[13],t[14]=E[2]*i+E[6]*L+E[10]*T+E[14],t[15]=E[3]*i+E[7]*L+E[11]*T+E[15]):(v=E[0],d=E[1],r=E[2],e=E[3],l=E[4],n=E[5],s=E[6],o=E[7],f=E[8],b=E[9],h=E[10],_=E[11],t[0]=v,t[1]=d,t[2]=r,t[3]=e,t[4]=l,t[5]=n,t[6]=s,t[7]=o,t[8]=f,t[9]=b,t[10]=h,t[11]=_,t[12]=v*i+l*L+f*T+E[12],t[13]=d*i+n*L+b*T+E[13],t[14]=r*i+s*L+h*T+E[14],t[15]=e*i+o*L+_*T+E[15]),t}},86520:function(tt){tt.exports=U;function U(t,E){if(t===E){var S=E[1],i=E[2],L=E[3],T=E[6],v=E[7],d=E[11];t[1]=E[4],t[2]=E[8],t[3]=E[12],t[4]=S,t[6]=E[9],t[7]=E[13],t[8]=i,t[9]=T,t[11]=E[14],t[12]=L,t[13]=v,t[14]=d}else t[0]=E[0],t[1]=E[4],t[2]=E[8],t[3]=E[12],t[4]=E[1],t[5]=E[5],t[6]=E[9],t[7]=E[13],t[8]=E[2],t[9]=E[6],t[10]=E[10],t[11]=E[14],t[12]=E[3],t[13]=E[7],t[14]=E[11],t[15]=E[15];return t}},23352:function(tt,U,t){var E=t(42771),S=t(55616),i=t(28624),L=t(55212),T=t(60463),v=t(72160),d=t(33888),r=t(14144),e=t(51160),l=t(58908),n=t(65819),s=t(23464),o=t(63768),f=t(50896),b=t(71920),h=t(47520),_=t(308),a=_.nextPow2,c=new T,p=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(p=!0),document.body.removeChild(x)}var k=function(A){y(A)?(A={regl:A},this.gl=A.regl._gl):this.gl=L(A),this.shader=c.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=A.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),c.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(l(A)?A:{})};k.prototype.createShader=function(){var A=this.regl,C=A({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:A.prop("count"),offset:A.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:A.this("sizeBuffer")},width:{offset:0,stride:8,buffer:A.this("sizeBuffer")},char:A.this("charBuffer"),position:A.this("position")},uniforms:{atlasSize:function(m,M){return[M.atlas.width,M.atlas.height]},atlasDim:function(m,M){return[M.atlas.cols,M.atlas.rows]},atlas:function(m,M){return M.atlas.texture},charStep:function(m,M){return M.atlas.step},em:function(m,M){return M.atlas.em},color:A.prop("color"),opacity:A.prop("opacity"),viewport:A.this("viewportArray"),scale:A.this("scale"),align:A.prop("align"),baseline:A.prop("baseline"),translate:A.this("translate"),positionOffset:A.prop("positionOffset")},primitive:"points",viewport:A.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),u={};return{regl:A,draw:C,atlas:u}},k.prototype.update=function(A){var C=this;if(typeof A=="string")A={text:A};else if(!A)return;A=S(A,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),A.opacity!=null&&(Array.isArray(A.opacity)?this.opacity=A.opacity.map(function(Pt){return parseFloat(Pt)}):this.opacity=parseFloat(A.opacity)),A.viewport!=null&&(this.viewport=e(A.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),A.kerning!=null&&(this.kerning=A.kerning),A.offset!=null&&(typeof A.offset=="number"&&(A.offset=[A.offset,0]),this.positionOffset=h(A.offset)),A.direction&&(this.direction=A.direction),A.range&&(this.range=A.range,this.scale=[1/(A.range[2]-A.range[0]),1/(A.range[3]-A.range[1])],this.translate=[-A.range[0],-A.range[1]]),A.scale&&(this.scale=A.scale),A.translate&&(this.translate=A.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!A.font&&(A.font=k.baseFontSize+"px sans-serif");var u=!1,m=!1;if(A.font&&(Array.isArray(A.font)?A.font:[A.font]).forEach(function(Pt,Et){if(typeof Pt=="string")try{Pt=E.parse(Pt)}catch{Pt=E.parse(k.baseFontSize+"px "+Pt)}else{var Nt=Pt.style,ne=Pt.weight,Gt=Pt.stretch,pe=Pt.variant;Pt=E.parse(E.stringify(Pt)),Nt&&(Pt.style=Nt),ne&&(Pt.weight=ne),Gt&&(Pt.stretch=Gt),pe&&(Pt.variant=pe)}var Vt=E.stringify({size:k.baseFontSize,family:Pt.family,stretch:p?Pt.stretch:void 0,variant:Pt.variant,weight:Pt.weight,style:Pt.style}),ae=n(Pt.size),oe=Math.round(ae[0]*s(ae[1]));if(oe!==C.fontSize[Et]&&(m=!0,C.fontSize[Et]=oe),(!C.font[Et]||Vt!=C.font[Et].baseString)&&(u=!0,C.font[Et]=k.fonts[Vt],!C.font[Et])){var ce=Pt.family.join(", "),le=[Pt.style];Pt.style!=Pt.variant&&le.push(Pt.variant),Pt.variant!=Pt.weight&&le.push(Pt.weight),p&&Pt.weight!=Pt.stretch&&le.push(Pt.stretch),C.font[Et]={baseString:Vt,family:ce,weight:Pt.weight,stretch:Pt.stretch,style:Pt.style,variant:Pt.variant,width:{},kerning:{},metrics:b(ce,{origin:"top",fontSize:k.baseFontSize,fontStyle:le.join(" ")})},k.fonts[Vt]=C.font[Et]}}),(u||m)&&this.font.forEach(function(Pt,Et){var Nt=E.stringify({size:C.fontSize[Et],family:Pt.family,stretch:p?Pt.stretch:void 0,variant:Pt.variant,weight:Pt.weight,style:Pt.style});if(C.fontAtlas[Et]=C.shader.atlas[Nt],!C.fontAtlas[Et]){var ne=Pt.metrics;C.shader.atlas[Nt]=C.fontAtlas[Et]={fontString:Nt,step:Math.ceil(C.fontSize[Et]*ne.bottom*.5)*2,em:C.fontSize[Et],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:C.regl.texture()}}A.text==null&&(A.text=C.text)}),typeof A.text=="string"&&A.position&&A.position.length>2){for(var M=Array(A.position.length*.5),w=0;w<M.length;w++)M[w]=A.text;A.text=M}var z;if(A.text!=null||u){if(this.textOffsets=[0],Array.isArray(A.text)){this.count=A.text[0].length,this.counts=[this.count];for(var O=1;O<A.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+A.text[O-1].length,this.count+=A.text[O].length,this.counts.push(A.text[O].length);this.text=A.text.join("")}else this.text=A.text,this.count=this.text.length,this.counts=[this.count];z=[],this.font.forEach(function(Pt,Et){k.atlasContext.font=Pt.baseString;for(var Nt=C.fontAtlas[Et],ne=0;ne<C.text.length;ne++){var Gt=C.text.charAt(ne);if(Nt.ids[Gt]==null&&(Nt.ids[Gt]=Nt.chars.length,Nt.chars.push(Gt),z.push(Gt)),Pt.width[Gt]==null&&(Pt.width[Gt]=k.atlasContext.measureText(Gt).width/k.baseFontSize,C.kerning)){var pe=[];for(var Vt in Pt.width)pe.push(Vt+Gt,Gt+Vt);f(Pt.kerning,o(Pt.family,{pairs:pe}))}}})}if(A.position)if(A.position.length>2){for(var D=!A.position[0].length,P=r.mallocFloat(this.count*2),F=0,R=0;F<this.counts.length;F++){var N=this.counts[F];if(D)for(var B=0;B<N;B++)P[R++]=A.position[F*2],P[R++]=A.position[F*2+1];else for(var q=0;q<N;q++)P[R++]=A.position[F][0],P[R++]=A.position[F][1]}this.position.call?this.position({type:"float",data:P}):this.position=this.regl.buffer({type:"float",data:P}),r.freeFloat(P)}else this.position.destroy&&this.position.destroy(),this.position={constant:A.position};if(A.text||u){var V=r.mallocUint8(this.count),J=r.mallocFloat(this.count*2);this.textWidth=[];for(var it=0,nt=0;it<this.counts.length;it++){for(var Y=this.counts[it],Z=this.font[it]||this.font[0],$=this.fontAtlas[it]||this.fontAtlas[0],G=0;G<Y;G++){var rt=this.text.charAt(nt),ot=this.text.charAt(nt-1);if(V[nt]=$.ids[rt],J[nt*2]=Z.width[rt],G){var W=J[nt*2-2],H=J[nt*2],at=J[nt*2-1],Q=at+W*.5+H*.5;if(this.kerning){var ct=Z.kerning[ot+rt];ct&&(Q+=ct*.001)}J[nt*2+1]=Q}else J[nt*2+1]=J[nt*2]*.5;nt++}this.textWidth.push(J.length?J[nt*2-2]*.5+J[nt*2-1]:0)}A.align||(A.align=this.align),this.charBuffer({data:V,type:"uint8",usage:"stream"}),this.sizeBuffer({data:J,type:"float",usage:"stream"}),r.freeUint8(V),r.freeFloat(J),z.length&&this.font.forEach(function(Pt,Et){var Nt=C.fontAtlas[Et],ne=Nt.step,Gt=Math.floor(k.maxAtlasSize/ne),pe=Math.min(Gt,Nt.chars.length),Vt=Math.ceil(Nt.chars.length/pe),ae=a(pe*ne),oe=a(Vt*ne);Nt.width=ae,Nt.height=oe,Nt.rows=Vt,Nt.cols=pe,Nt.em&&Nt.texture({data:d({canvas:k.atlasCanvas,font:Nt.fontString,chars:Nt.chars,shape:[ae,oe],step:[ne,ne]})})})}if(A.align&&(this.align=A.align,this.alignOffset=this.textWidth.map(function(Pt,Et){var Nt=Array.isArray(C.align)?C.align.length>1?C.align[Et]:C.align[0]:C.align;if(typeof Nt=="number")return Nt;switch(Nt){case"right":case"end":return-Pt;case"center":case"centre":case"middle":return-Pt*.5}return 0})),this.baseline==null&&A.baseline==null&&(A.baseline=0),A.baseline!=null&&(this.baseline=A.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Pt,Et){var Nt=(C.font[Et]||C.font[0]).metrics,ne=0;return ne+=Nt.bottom*.5,typeof Pt=="number"?ne+=Pt-Nt.baseline:ne+=-Nt[Pt],ne*=-1,ne})),A.color!=null)if(A.color||(A.color="transparent"),typeof A.color=="string"||!isNaN(A.color))this.color=v(A.color,"uint8");else{var ft;if(typeof A.color[0]=="number"&&A.color.length>this.counts.length){var yt=A.color.length;ft=r.mallocUint8(yt);for(var xt=(A.color.subarray||A.color.slice).bind(A.color),Lt=0;Lt<yt;Lt+=4)ft.set(v(xt(Lt,Lt+4),"uint8"),Lt)}else{var gt=A.color.length;ft=r.mallocUint8(gt*4);for(var mt=0;mt<gt;mt++)ft.set(v(A.color[mt]||0,"uint8"),mt*4)}this.color=ft}if(A.position||A.text||A.color||A.baseline||A.align||A.font||A.offset||A.opacity){var vt=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(vt){var At=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(At);for(var Ot=0;Ot<this.batch.length;Ot++)this.batch[Ot]={count:this.counts.length>1?this.counts[Ot]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ot]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ot*4,Ot*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ot]:this.opacity,baseline:this.baselineOffset[Ot]!=null?this.baselineOffset[Ot]:this.baselineOffset[0],align:this.align?this.alignOffset[Ot]!=null?this.alignOffset[Ot]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ot]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ot*2,Ot*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},k.prototype.destroy=function(){},k.prototype.kerning=!0,k.prototype.position={constant:new Float32Array(2)},k.prototype.translate=null,k.prototype.scale=null,k.prototype.font=null,k.prototype.text="",k.prototype.positionOffset=[0,0],k.prototype.opacity=1,k.prototype.color=new Uint8Array([0,0,0,255]),k.prototype.alignOffset=[0,0],k.maxAtlasSize=1024,k.atlasCanvas=document.createElement("canvas"),k.atlasContext=k.atlasCanvas.getContext("2d",{alpha:!1}),k.baseFontSize=64,k.fonts={};function y(A){return typeof A=="function"&&A._gl&&A.prop&&A.texture&&A.buffer}tt.exports=k},55212:function(tt,U,t){var E=t(55616);tt.exports=function(d){if(d?typeof d=="string"&&(d={container:d}):d={},i(d)?d={container:d}:L(d)?d={container:d}:T(d)?d={gl:d}:d=E(d,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),d.pixelRatio||(d.pixelRatio=t.g.pixelRatio||1),d.gl)return d.gl;if(d.canvas&&(d.container=d.canvas.parentNode),d.container){if(typeof d.container=="string"){var r=document.querySelector(d.container);if(!r)throw Error("Element "+d.container+" is not found");d.container=r}i(d.container)?(d.canvas=d.container,d.container=d.canvas.parentNode):d.canvas||(d.canvas=v(),d.container.appendChild(d.canvas),S(d))}else if(!d.canvas)if(typeof document<"u")d.container=document.body||document.documentElement,d.canvas=v(),d.container.appendChild(d.canvas),S(d);else throw Error("Not DOM environment. Use headless-gl.");return d.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(e){try{d.gl=d.canvas.getContext(e,d.attrs)}catch{}return d.gl}),d.gl};function S(d){if(d.container)if(d.container==document.body)document.body.style.width||(d.canvas.width=d.width||d.pixelRatio*t.g.innerWidth),document.body.style.height||(d.canvas.height=d.height||d.pixelRatio*t.g.innerHeight);else{var r=d.container.getBoundingClientRect();d.canvas.width=d.width||r.right-r.left,d.canvas.height=d.height||r.bottom-r.top}}function i(d){return typeof d.getContext=="function"&&"width"in d&&"height"in d}function L(d){return typeof d.nodeName=="string"&&typeof d.appendChild=="function"&&typeof d.getBoundingClientRect=="function"}function T(d){return typeof d.drawArrays=="function"||typeof d.drawElements=="function"}function v(){var d=document.createElement("canvas");return d.style.position="absolute",d.style.top=0,d.style.left=0,d}},26444:function(tt){tt.exports=function(U){typeof U=="string"&&(U=[U]);for(var t=[].slice.call(arguments,1),E=[],S=0;S<U.length-1;S++)E.push(U[S],t[S]||"");return E.push(U[S]),E.join("")}},2304:function(tt,U,t){var E=t(53664),S=E("%Object.getOwnPropertyDescriptor%",!0);if(S)try{S([],"length")}catch{S=null}tt.exports=S},52264:function(tt,U,t){var E=t(24200),S;typeof t.g.matchMedia=="function"?S=!t.g.matchMedia("(hover: none)").matches:S=E,tt.exports=S},89184:function(tt,U,t){var E=t(24200);function S(){var i=!1;try{var L=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{i=!1}return i}tt.exports=E&&S()},39640:function(tt,U,t){var E=t(53664),S=E("%Object.defineProperty%",!0),i=function(){if(S)try{return S({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return S([],"length",{value:1}).length!==1}catch{return!0}},tt.exports=i},69572:function(tt){var U={foo:{}},t=Object;tt.exports=function(){return{__proto__:U}.foo===U.foo&&!({__proto__:null}instanceof t)}},71080:function(tt,U,t){var E=typeof Symbol<"u"&&Symbol,S=t(89320);tt.exports=function(){return typeof E!="function"||typeof Symbol!="function"||typeof E("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:S()}},89320:function(tt){tt.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var U={},t=Symbol("test"),E=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(E)!=="[object Symbol]")return!1;var S=42;U[t]=S;for(t in U)return!1;if(typeof Object.keys=="function"&&Object.keys(U).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(U).length!==0)return!1;var i=Object.getOwnPropertySymbols(U);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(U,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var L=Object.getOwnPropertyDescriptor(U,t);if(L.value!==S||L.enumerable!==!0)return!1}return!0}},46672:function(tt,U,t){var E=t(89320);tt.exports=function(){return E()&&!!Symbol.toStringTag}},92064:function(tt,U,t){var E=Function.prototype.call,S=Object.prototype.hasOwnProperty,i=t(8844);tt.exports=i.call(E,S)},35984:function(tt,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(t,E,S,i,L){var T,v,d=L*8-i-1,r=(1<<d)-1,e=r>>1,l=-7,n=S?L-1:0,s=S?-1:1,o=t[E+n];for(n+=s,T=o&(1<<-l)-1,o>>=-l,l+=d;l>0;T=T*256+t[E+n],n+=s,l-=8);for(v=T&(1<<-l)-1,T>>=-l,l+=i;l>0;v=v*256+t[E+n],n+=s,l-=8);if(T===0)T=1-e;else{if(T===r)return v?NaN:(o?-1:1)*(1/0);v=v+Math.pow(2,i),T=T-e}return(o?-1:1)*v*Math.pow(2,T-i)},U.write=function(t,E,S,i,L,T){var v,d,r,e=T*8-L-1,l=(1<<e)-1,n=l>>1,s=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,o=i?0:T-1,f=i?1:-1,b=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(d=isNaN(E)?1:0,v=l):(v=Math.floor(Math.log(E)/Math.LN2),E*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?E+=s/r:E+=s*Math.pow(2,1-n),E*r>=2&&(v++,r/=2),v+n>=l?(d=0,v=l):v+n>=1?(d=(E*r-1)*Math.pow(2,L),v=v+n):(d=E*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;t[S+o]=d&255,o+=f,d/=256,L-=8);for(v=v<<L|d,e+=L;e>0;t[S+o]=v&255,o+=f,v/=256,e-=8);t[S+o-f]|=b*128}},6768:function(tt){typeof Object.create=="function"?tt.exports=function(U,t){t&&(U.super_=t,U.prototype=Object.create(t.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}))}:tt.exports=function(U,t){if(t){U.super_=t;var E=function(){};E.prototype=t.prototype,U.prototype=new E,U.prototype.constructor=U}}},91148:function(tt,U,t){var E=t(46672)(),S=t(99676),i=S("Object.prototype.toString"),L=function(d){return E&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:i(d)==="[object Arguments]"},T=function(d){return L(d)?!0:d!==null&&typeof d=="object"&&typeof d.length=="number"&&d.length>=0&&i(d)!=="[object Array]"&&i(d.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=T,tt.exports=v?L:T},24200:function(tt){tt.exports=!0},90720:function(tt){var U=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,E,S;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{E=Object.defineProperty({},"length",{get:function(){throw S}}),S={},t(function(){throw 42},null,E)}catch(_){_!==S&&(t=null)}else t=null;var i=/^\s*class\b/,L=function(_){try{var a=U.call(_);return i.test(a)}catch{return!1}},T=function(_){try{return L(_)?!1:(U.call(_),!0)}catch{return!1}},v=Object.prototype.toString,d="[object Object]",r="[object Function]",e="[object GeneratorFunction]",l="[object HTMLAllCollection]",n="[object HTML document.all class]",s="[object HTMLCollection]",o=typeof Symbol=="function"&&!!Symbol.toStringTag,f=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(b=function(_){if((f||!_)&&(typeof _>"u"||typeof _=="object"))try{var a=v.call(_);return(a===l||a===n||a===s||a===d)&&_("")==null}catch{}return!1})}tt.exports=t?function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,E)}catch(a){if(a!==S)return!1}return!L(_)&&T(_)}:function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(o)return T(_);if(L(_))return!1;var a=v.call(_);return a!==r&&a!==e&&!/^\[object HTML/.test(a)?!1:T(_)}},84420:function(tt,U,t){var E=Object.prototype.toString,S=Function.prototype.toString,i=/^\s*(?:function)?\*/,L=t(46672)(),T=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},d;tt.exports=function(r){if(typeof r!="function")return!1;if(i.test(S.call(r)))return!0;if(!L){var e=E.call(r);return e==="[object GeneratorFunction]"}if(!T)return!1;if(typeof d>"u"){var l=v();d=l?T(l):!1}return T(r)===d}},96604:function(tt){tt.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(tt){tt.exports=function(U){return U!==U}},1560:function(tt,U,t){var E=t(57916),S=t(81288),i=t(85992),L=t(57740),T=t(59736),v=E(L(),Number);S(v,{getPolyfill:L,implementation:i,shim:T}),tt.exports=v},57740:function(tt,U,t){var E=t(85992);tt.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:E}},59736:function(tt,U,t){var E=t(81288),S=t(57740);tt.exports=function(){var i=S();return E(Number,{isNaN:i},{isNaN:function(){return Number.isNaN!==i}}),i}},18400:function(tt){tt.exports=function(U){var t=typeof U;return U!==null&&(t==="object"||t==="function")}},58908:function(tt){var U=Object.prototype.toString;tt.exports=function(t){var E;return U.call(t)==="[object Object]"&&(E=Object.getPrototypeOf(t),E===null||E===Object.getPrototypeOf({}))}},94576:function(tt){tt.exports=function(U){for(var t=U.length,E,S=0;S<t;S++)if(E=U.charCodeAt(S),(E<9||E>13)&&E!==32&&E!==133&&E!==160&&E!==5760&&E!==6158&&(E<8192||E>8205)&&E!==8232&&E!==8233&&E!==8239&&E!==8287&&E!==8288&&E!==12288&&E!==65279)return!1;return!0}},53520:function(tt){tt.exports=function(U){return typeof U!="string"?!1:(U=U.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(U)&&/[\dz]$/i.test(U)&&U.length>4))}},7728:function(tt,U,t){var E=t(46492),S=t(63436),i=t(99676),L=i("Object.prototype.toString"),T=t(46672)(),v=t(2304),d=typeof globalThis>"u"?t.g:globalThis,r=S(),e=i("Array.prototype.indexOf",!0)||function(f,b){for(var h=0;h<f.length;h+=1)if(f[h]===b)return h;return-1},l=i("String.prototype.slice"),n={},s=Object.getPrototypeOf;T&&v&&s&&E(r,function(f){var b=new d[f];if(Symbol.toStringTag in b){var h=s(b),_=v(h,Symbol.toStringTag);if(!_){var a=s(h);_=v(a,Symbol.toStringTag)}n[f]=_.get}});var o=function(f){var b=!1;return E(n,function(h,_){if(!b)try{b=h.call(f)===_}catch{}}),b};tt.exports=function(f){if(!f||typeof f!="object")return!1;if(!T||!(Symbol.toStringTag in f)){var b=l(L(f),8,-1);return e(r,b)>-1}return v?o(f):!1}},76244:function(tt){tt.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},62644:function(tt,U,t){tt.exports=S;var E=t(93784);function S(i,L){L||(L=i,i=window);var T=0,v=0,d=0,r={shift:!1,alt:!1,control:!1,meta:!1},e=!1;function l(x){var k=!1;return"altKey"in x&&(k=k||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(k=k||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(k=k||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(k=k||x.metaKey!==r.meta,r.meta=!!x.metaKey),k}function n(x,k){var y=E.x(k),A=E.y(k);"buttons"in k&&(x=k.buttons|0),(x!==T||y!==v||A!==d||l(k))&&(T=x|0,v=y||0,d=A||0,L&&L(T,v,d,r))}function s(x){n(0,x)}function o(){(T||v||d||r.shift||r.alt||r.meta||r.control)&&(v=d=0,T=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function f(x){l(x)&&L&&L(T,v,d,r)}function b(x){E.buttons(x)===0?n(0,x):n(T,x)}function h(x){n(T|E.buttons(x),x)}function _(x){n(T&~E.buttons(x),x)}function a(){e||(e=!0,i.addEventListener("mousemove",b),i.addEventListener("mousedown",h),i.addEventListener("mouseup",_),i.addEventListener("mouseleave",s),i.addEventListener("mouseenter",s),i.addEventListener("mouseout",s),i.addEventListener("mouseover",s),i.addEventListener("blur",o),i.addEventListener("keyup",f),i.addEventListener("keydown",f),i.addEventListener("keypress",f),i!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}function c(){e&&(e=!1,i.removeEventListener("mousemove",b),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",_),i.removeEventListener("mouseleave",s),i.removeEventListener("mouseenter",s),i.removeEventListener("mouseout",s),i.removeEventListener("mouseover",s),i.removeEventListener("blur",o),i.removeEventListener("keyup",f),i.removeEventListener("keydown",f),i.removeEventListener("keypress",f),i!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))}a();var p={element:i};return Object.defineProperties(p,{enabled:{get:function(){return e},set:function(x){x?a():c()},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),p}},29128:function(tt){var U={left:0,top:0};tt.exports=t;function t(S,i,L){i=i||S.currentTarget||S.srcElement,Array.isArray(L)||(L=[0,0]);var T=S.clientX||0,v=S.clientY||0,d=E(i);return L[0]=T-d.left,L[1]=v-d.top,L}function E(S){return S===window||S===document||S===document.body?U:S.getBoundingClientRect()}},93784:function(tt,U){function t(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var T=L.which;if(T===2)return 4;if(T===3)return 2;if(T>0)return 1<<T-1}else if("button"in L){var T=L.button;if(T===1)return 4;if(T===2)return 2;if(T>=0)return 1<<T}}return 0}U.buttons=t;function E(L){return L.target||L.srcElement||window}U.element=E;function S(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var T=E(L),v=T.getBoundingClientRect();return L.clientX-v.left}return 0}U.x=S;function i(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var T=E(L),v=T.getBoundingClientRect();return L.clientY-v.top}return 0}U.y=i},97264:function(tt,U,t){var E=t(23464);tt.exports=S;function S(i,L,T){typeof i=="function"&&(T=!!L,L=i,i=window);var v=E("ex",i),d=function(r){T&&r.preventDefault();var e=r.deltaX||0,l=r.deltaY||0,n=r.deltaZ||0,s=r.deltaMode,o=1;switch(s){case 1:o=v;break;case 2:o=window.innerHeight;break}if(e*=o,l*=o,n*=o,e||l||n)return L(e,l,n,r)};return i.addEventListener("wheel",d),d}},88324:function(tt,U,t){var E;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(S,i,L){i[S]=i[S]||L(),tt.exports?tt.exports=i[S]:(E=(function(){return i[S]}).call(U,t,U,tt),E!==void 0&&(tt.exports=E))})("Promise",typeof t.g<"u"?t.g:this,function(){var S,i,L,T=Object.prototype.toString,v=typeof setImmediate<"u"?function(a){return setImmediate(a)}:setTimeout;try{Object.defineProperty({},"x",{}),S=function(a,c,p,x){return Object.defineProperty(a,c,{value:p,writable:!0,configurable:x!==!1})}}catch{S=function(a,c,p){return a[c]=p,a}}L=function(){var a,c,p;function x(k,y){this.fn=k,this.self=y,this.next=void 0}return{add:function(k,y){p=new x(k,y),c?c.next=p:a=p,c=p,p=void 0},drain:function(){var k=a;for(a=c=i=void 0;k;)k.fn.call(k.self),k=k.next}}}();function d(a,c){L.add(a,c),i||(i=v(L.drain))}function r(a){var c,p=typeof a;return a!=null&&(p=="object"||p=="function")&&(c=a.then),typeof c=="function"?c:!1}function e(){for(var a=0;a<this.chain.length;a++)l(this,this.state===1?this.chain[a].success:this.chain[a].failure,this.chain[a]);this.chain.length=0}function l(a,c,p){var x,k;try{c===!1?p.reject(a.msg):(c===!0?x=a.msg:x=c.call(void 0,a.msg),x===p.promise?p.reject(TypeError("Promise-chain cycle")):(k=r(x))?k.call(x,p.resolve,p.reject):p.resolve(x))}catch(y){p.reject(y)}}function n(a){var c,p=this;if(!p.triggered){p.triggered=!0,p.def&&(p=p.def);try{(c=r(a))?d(function(){var x=new f(p);try{c.call(a,function(){n.apply(x,arguments)},function(){s.apply(x,arguments)})}catch(k){s.call(x,k)}}):(p.msg=a,p.state=1,p.chain.length>0&&d(e,p))}catch(x){s.call(new f(p),x)}}}function s(a){var c=this;c.triggered||(c.triggered=!0,c.def&&(c=c.def),c.msg=a,c.state=2,c.chain.length>0&&d(e,c))}function o(a,c,p,x){for(var k=0;k<c.length;k++)(function(y){a.resolve(c[y]).then(function(A){p(y,A)},x)})(k)}function f(a){this.def=a,this.triggered=!1}function b(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(a){if(typeof a!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var c=new b(this);this.then=function(p,x){var k={success:typeof p=="function"?p:!0,failure:typeof x=="function"?x:!1};return k.promise=new this.constructor(function(y,A){if(typeof y!="function"||typeof A!="function")throw TypeError("Not a function");k.resolve=y,k.reject=A}),c.chain.push(k),c.state!==0&&d(e,c),k.promise},this.catch=function(p){return this.then(void 0,p)};try{a.call(void 0,function(p){n.call(c,p)},function(p){s.call(c,p)})}catch(p){s.call(c,p)}}var _=S({},"constructor",h,!1);return h.prototype=_,S(_,"__NPO__",0,!1),S(h,"resolve",function(a){var c=this;return a&&typeof a=="object"&&a.__NPO__===1?a:new c(function(p,x){if(typeof p!="function"||typeof x!="function")throw TypeError("Not a function");p(a)})}),S(h,"reject",function(a){return new this(function(c,p){if(typeof c!="function"||typeof p!="function")throw TypeError("Not a function");p(a)})}),S(h,"all",function(a){var c=this;return T.call(a)!="[object Array]"?c.reject(TypeError("Not an array")):a.length===0?c.resolve([]):new c(function(p,x){if(typeof p!="function"||typeof x!="function")throw TypeError("Not a function");var k=a.length,y=Array(k),A=0;o(c,a,function(C,u){y[C]=u,++A===k&&p(y)},x)})}),S(h,"race",function(a){var c=this;return T.call(a)!="[object Array]"?c.reject(TypeError("Not an array")):new c(function(p,x){if(typeof p!="function"||typeof x!="function")throw TypeError("Not a function");o(c,a,function(k,y){p(y)},x)})}),h})},48816:function(tt){var U=Math.PI,t=v(120);tt.exports=E;function E(d){for(var r,e=[],l=0,n=0,s=0,o=0,f=null,b=null,h=0,_=0,a=0,c=d.length;a<c;a++){var p=d[a],x=p[0];switch(x){case"M":s=p[1],o=p[2];break;case"A":p=L(h,_,p[1],p[2],v(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(e.push(p.splice(0,7)),p.unshift("C"));break;case"S":var k=h,y=_;(r=="C"||r=="S")&&(k+=k-l,y+=y-n),p=["C",k,y,p[1],p[2],p[3],p[4]];break;case"T":r=="Q"||r=="T"?(f=h*2-f,b=_*2-b):(f=h,b=_),p=i(h,_,f,b,p[1],p[2]);break;case"Q":f=p[1],b=p[2],p=i(h,_,p[1],p[2],p[3],p[4]);break;case"L":p=S(h,_,p[1],p[2]);break;case"H":p=S(h,_,p[1],_);break;case"V":p=S(h,_,h,p[1]);break;case"Z":p=S(h,_,s,o);break}r=x,h=p[p.length-2],_=p[p.length-1],p.length>4?(l=p[p.length-4],n=p[p.length-3]):(l=h,n=_),e.push(p)}return e}function S(d,r,e,l){return["C",d,r,e,l,e,l]}function i(d,r,e,l,n,s){return["C",d/3+.6666666666666666*e,r/3+.6666666666666666*l,n/3+.6666666666666666*e,s/3+.6666666666666666*l,n,s]}function L(d,r,e,l,n,s,o,f,b,h){if(h)u=h[0],m=h[1],A=h[2],C=h[3];else{var _=T(d,r,-n);d=_.x,r=_.y,_=T(f,b,-n),f=_.x,b=_.y;var a=(d-f)/2,c=(r-b)/2,p=a*a/(e*e)+c*c/(l*l);p>1&&(p=Math.sqrt(p),e=p*e,l=p*l);var x=e*e,k=l*l,y=(s==o?-1:1)*Math.sqrt(Math.abs((x*k-x*c*c-k*a*a)/(x*c*c+k*a*a)));y==1/0&&(y=1);var A=y*e*c/l+(d+f)/2,C=y*-l*a/e+(r+b)/2,u=Math.asin(((r-C)/l).toFixed(9)),m=Math.asin(((b-C)/l).toFixed(9));u=d<A?U-u:u,m=f<A?U-m:m,u<0&&(u=U*2+u),m<0&&(m=U*2+m),o&&u>m&&(u=u-U*2),!o&&m>u&&(m=m-U*2)}if(Math.abs(m-u)>t){var M=m,w=f,z=b;m=u+t*(o&&m>u?1:-1),f=A+e*Math.cos(m),b=C+l*Math.sin(m);var O=L(f,b,e,l,n,0,o,w,z,[m,M,A,C])}var D=Math.tan((m-u)/4),P=4/3*e*D,F=4/3*l*D,R=[2*d-(d+P*Math.sin(u)),2*r-(r-F*Math.cos(u)),f+P*Math.sin(m),b-F*Math.cos(m),f,b];if(h)return R;O&&(R=R.concat(O));for(var N=0;N<R.length;){var B=T(R[N],R[N+1],n);R[N++]=B.x,R[N++]=B.y}return R}function T(d,r,e){return{x:d*Math.cos(e)-r*Math.sin(e),y:d*Math.sin(e)+r*Math.cos(e)}}function v(d){return d*(U/180)}},50896:function(tt){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function S(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function i(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var T={},v=0;v<10;v++)T["_"+String.fromCharCode(v)]=v;var d=Object.getOwnPropertyNames(T).map(function(e){return T[e]});if(d.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}tt.exports=i()?Object.assign:function(L,T){for(var v,d=S(L),r,e=1;e<arguments.length;e++){v=Object(arguments[e]);for(var l in v)t.call(v,l)&&(d[l]=v[l]);if(U){r=U(v);for(var n=0;n<r.length;n++)E.call(v,r[n])&&(d[r[n]]=v[r[n]])}}return d}},76835:function(tt){var U=function(t){return t!==t};tt.exports=function(t,E){return t===0&&E===0?1/t===1/E:!!(t===E||U(t)&&U(E))}},39896:function(tt,U,t){var E=t(81288),S=t(57916),i=t(76835),L=t(66148),T=t(16408),v=S(L(),Object);E(v,{getPolyfill:L,implementation:i,shim:T}),tt.exports=v},66148:function(tt,U,t){var E=t(76835);tt.exports=function(){return typeof Object.is=="function"?Object.is:E}},16408:function(tt,U,t){var E=t(66148),S=t(81288);tt.exports=function(){var i=E();return S(Object,{is:i},{is:function(){return Object.is!==i}}),i}},32764:function(tt,U,t){var E;if(!Object.keys){var S=Object.prototype.hasOwnProperty,i=Object.prototype.toString,L=t(97344),T=Object.prototype.propertyIsEnumerable,v=!T.call({toString:null},"toString"),d=T.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(o){var f=o.constructor;return f&&f.prototype===o},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!l["$"+o]&&S.call(window,o)&&window[o]!==null&&typeof window[o]=="object")try{e(window[o])}catch{return!0}}catch{return!0}return!1}(),s=function(o){if(typeof window>"u"||!n)return e(o);try{return e(o)}catch{return!1}};E=function(o){var f=o!==null&&typeof o=="object",b=i.call(o)==="[object Function]",h=L(o),_=f&&i.call(o)==="[object String]",a=[];if(!f&&!b&&!h)throw new TypeError("Object.keys called on a non-object");var c=d&&b;if(_&&o.length>0&&!S.call(o,0))for(var p=0;p<o.length;++p)a.push(String(p));if(h&&o.length>0)for(var x=0;x<o.length;++x)a.push(String(x));else for(var k in o)!(c&&k==="prototype")&&S.call(o,k)&&a.push(String(k));if(v)for(var y=s(o),A=0;A<r.length;++A)!(y&&r[A]==="constructor")&&S.call(o,r[A])&&a.push(r[A]);return a}}tt.exports=E},41820:function(tt,U,t){var E=Array.prototype.slice,S=t(97344),i=Object.keys,L=i?function(v){return i(v)}:t(32764),T=Object.keys;L.shim=function(){if(Object.keys){var v=function(){var d=Object.keys(arguments);return d&&d.length===arguments.length}(1,2);v||(Object.keys=function(d){return S(d)?T(E.call(d)):T(d)})}else Object.keys=L;return Object.keys||L},tt.exports=L},97344:function(tt){var U=Object.prototype.toString;tt.exports=function(t){var E=U.call(t),S=E==="[object Arguments]";return S||(S=E!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&U.call(t.callee)==="[object Function]"),S}},32868:function(tt){function U(S,i){if(typeof S!="string")return[S];var L=[S];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var T=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],v=i.escape||"___",d=!!i.flat;T.forEach(function(l){var n=new RegExp(["\\",l[0],"[^\\",l[0],"\\",l[1],"]*\\",l[1]].join("")),s=[];function o(f,b,h){var _=L.push(f.slice(l[0].length,-l[1].length))-1;return s.push(_),v+_+v}L.forEach(function(f,b){for(var h,_=0;f!=h;)if(h=f,f=f.replace(n,o),_++>1e4)throw Error("References have circular dependency. Please, check them.");L[b]=f}),s=s.reverse(),L=L.map(function(f){return s.forEach(function(b){f=f.replace(new RegExp("(\\"+v+b+"\\"+v+")","g"),l[0]+"$1"+l[1])}),f})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function e(l,n,s){for(var o=[],f,b=0;f=r.exec(l);){if(b++>1e4)throw Error("Circular references in parenthesis");o.push(l.slice(0,f.index)),o.push(e(n[f[1]],n)),l=l.slice(f.index+f[0].length)}return o.push(l),o}return d?L:e(L[0],L)}function t(S,i){if(i&&i.flat){var L=i&&i.escape||"___",T=S[0],v;if(!T)return"";for(var d=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;T!=v;){if(r++>1e4)throw Error("Circular references in "+S);v=T,T=T.replace(d,e)}return T}return S.reduce(function l(n,s){return Array.isArray(s)&&(s=s.reduce(l,"")),n+s},"");function e(l,n){if(S[n]==null)throw Error("Reference "+n+"is undefined");return S[n]}}function E(S,i){return Array.isArray(S)?t(S,i):U(S,i)}E.parse=U,E.stringify=t,tt.exports=E},51160:function(tt,U,t){var E=t(55616);tt.exports=S;function S(i){var L;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?L={width:i[0],height:i[0],x:0,y:0}:i.length===2?L={width:i[0],height:i[1],x:0,y:0}:L={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=E(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:i.left||0,y:i.top||0},i.width==null?i.right?L.width=i.right-L.x:L.width=0:L.width=i.width,i.height==null?i.bottom?L.height=i.bottom-L.y:L.height=0:L.height=i.height),L}},21984:function(tt){tt.exports=E;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function E(L){var T=[];return L.replace(t,function(v,d,r){var e=d.toLowerCase();for(r=i(r),e=="m"&&r.length>2&&(T.push([d].concat(r.splice(0,2))),e="l",d=d=="m"?"l":"L");;){if(r.length==U[e])return r.unshift(d),T.push(r);if(r.length<U[e])throw new Error("malformed path data");T.push([d].concat(r.splice(0,U[e])))}}),T}var S=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(L){var T=L.match(S);return T?T.map(Number):[]}},65819:function(tt){tt.exports=function(U,t){t||(t=[0,""]),U=String(U);var E=parseFloat(U,10);return t[0]=E,t[1]=U.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},41984:function(tt,U,t){var E=t(4168);(function(){var S,i,L,T,v,d;typeof performance<"u"&&performance!==null&&performance.now?tt.exports=function(){return performance.now()}:typeof E<"u"&&E!==null&&E.hrtime?(tt.exports=function(){return(S()-v)/1e6},i=E.hrtime,S=function(){var r;return r=i(),r[0]*1e9+r[1]},T=S(),d=E.uptime()*1e9,v=T-d):Date.now?(tt.exports=function(){return Date.now()-L},L=Date.now()):(tt.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(tt){tt.exports=function(E,S,i){var L={},T,v;if(typeof S=="string"&&(S=t(S)),Array.isArray(S)){var d={};for(v=0;v<S.length;v++)d[S[v]]=!0;S=d}for(T in S)S[T]=t(S[T]);var r={};for(T in S){var e=S[T];if(Array.isArray(e))for(v=0;v<e.length;v++){var l=e[v];if(i&&(r[l]=!0),l in E){if(L[T]=E[l],i)for(var n=v;n<e.length;n++)r[e[n]]=!0;break}}else T in E&&(S[T]&&(L[T]=E[T]),i&&(r[T]=!0))}if(i)for(T in E)r[T]||(L[T]=E[T]);return L};var U={};function t(E){return U[E]?U[E]:(typeof E=="string"&&(E=U[E]=E.split(/\s*,\s*|\s+/)),E)}},61456:function(tt){tt.exports=function(U,t,E,S){var i=U[0],L=U[1],T=!1;E===void 0&&(E=0),S===void 0&&(S=t.length);for(var v=S-E,d=0,r=v-1;d<v;r=d++){var e=t[d+E][0],l=t[d+E][1],n=t[r+E][0],s=t[r+E][1],o=l>L!=s>L&&i<(n-e)*(L-l)/(s-l)+e;o&&(T=!T)}return T}},14756:function(tt,U,t){/*
* @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
* @license MIT
* @preserve Project Home: https://github.com/voidqk/polybooljs
*/var E=t(7688),S=t(28648),i=t(72200),L=t(11403),T=t(82368),v=t(17792),d=!1,r=S(),e;e={buildLog:function(n){return n===!0?d=E():n===!1&&(d=!1),d===!1?!1:d.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var s=i(!0,r,d);return n.regions.forEach(s.addRegion),{segments:s.calculate(n.inverted),inverted:n.inverted}},combine:function(n,s){var o=i(!1,r,d);return{combined:o.calculate(n.segments,n.inverted,s.segments,s.inverted),inverted1:n.inverted,inverted2:s.inverted}},selectUnion:function(n){return{segments:T.union(n.combined,d),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:T.intersect(n.combined,d),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:T.difference(n.combined,d),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:T.differenceRev(n.combined,d),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:T.xor(n.combined,d),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,d),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(e,n)},polygonToGeoJSON:function(n){return v.fromPolygon(e,r,n)},union:function(n,s){return l(n,s,e.selectUnion)},intersect:function(n,s){return l(n,s,e.selectIntersect)},difference:function(n,s){return l(n,s,e.selectDifference)},differenceRev:function(n,s){return l(n,s,e.selectDifferenceRev)},xor:function(n,s){return l(n,s,e.selectXor)}};function l(n,s,o){var f=e.segments(n),b=e.segments(s),h=e.combine(f,b),_=o(h);return e.polygon(_)}typeof window=="object"&&(window.PolyBool=e),tt.exports=e},7688:function(tt){function U(){var t,E=0,S=!1;function i(L,T){return t.list.push({type:L,data:T?JSON.parse(JSON.stringify(T)):void 0}),t}return t={list:[],segmentId:function(){return E++},checkIntersection:function(L,T){return i("check",{seg1:L,seg2:T})},segmentChop:function(L,T){return i("div_seg",{seg:L,pt:T}),i("chop",{seg:L,pt:T})},statusRemove:function(L){return i("pop_seg",{seg:L})},segmentUpdate:function(L){return i("seg_update",{seg:L})},segmentNew:function(L,T){return i("new_seg",{seg:L,primary:T})},segmentRemove:function(L){return i("rem_seg",{seg:L})},tempStatus:function(L,T,v){return i("temp_status",{seg:L,above:T,below:v})},rewind:function(L){return i("rewind",{seg:L})},status:function(L,T,v){return i("status",{seg:L,above:T,below:v})},vert:function(L){return L===S?t:(S=L,i("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),i("log",{txt:L})},reset:function(){return i("reset")},selected:function(L){return i("selected",{segs:L})},chainStart:function(L){return i("chain_start",{seg:L})},chainRemoveHead:function(L,T){return i("chain_rem_head",{index:L,pt:T})},chainRemoveTail:function(L,T){return i("chain_rem_tail",{index:L,pt:T})},chainNew:function(L,T){return i("chain_new",{pt1:L,pt2:T})},chainMatch:function(L){return i("chain_match",{index:L})},chainClose:function(L){return i("chain_close",{index:L})},chainAddHead:function(L,T){return i("chain_add_head",{index:L,pt:T})},chainAddTail:function(L,T){return i("chain_add_tail",{index:L,pt:T})},chainConnect:function(L,T){return i("chain_con",{index1:L,index2:T})},chainReverse:function(L){return i("chain_rev",{index:L})},chainJoin:function(L,T){return i("chain_join",{index1:L,index2:T})},done:function(){return i("done")}},t}tt.exports=U},28648:function(tt){function U(t){typeof t!="number"&&(t=1e-10);var E={epsilon:function(S){return typeof S=="number"&&(t=S),t},pointAboveOrOnLine:function(S,i,L){var T=i[0],v=i[1],d=L[0],r=L[1],e=S[0],l=S[1];return(d-T)*(l-v)-(r-v)*(e-T)>=-t},pointBetween:function(S,i,L){var T=S[1]-i[1],v=L[0]-i[0],d=S[0]-i[0],r=L[1]-i[1],e=d*v+T*r;if(e<t)return!1;var l=v*v+r*r;return!(e-l>-t)},pointsSameX:function(S,i){return Math.abs(S[0]-i[0])<t},pointsSameY:function(S,i){return Math.abs(S[1]-i[1])<t},pointsSame:function(S,i){return E.pointsSameX(S,i)&&E.pointsSameY(S,i)},pointsCompare:function(S,i){return E.pointsSameX(S,i)?E.pointsSameY(S,i)?0:S[1]<i[1]?-1:1:S[0]<i[0]?-1:1},pointsCollinear:function(S,i,L){var T=S[0]-i[0],v=S[1]-i[1],d=i[0]-L[0],r=i[1]-L[1];return Math.abs(T*r-d*v)<t},linesIntersect:function(S,i,L,T){var v=i[0]-S[0],d=i[1]-S[1],r=T[0]-L[0],e=T[1]-L[1],l=v*e-d*r;if(Math.abs(l)<t)return!1;var n=S[0]-L[0],s=S[1]-L[1],o=(r*s-e*n)/l,f=(v*s-d*n)/l,b={alongA:0,alongB:0,pt:[S[0]+o*v,S[1]+o*d]};return o<=-t?b.alongA=-2:o<t?b.alongA=-1:o-1<=-t?b.alongA=0:o-1<t?b.alongA=1:b.alongA=2,f<=-t?b.alongB=-2:f<t?b.alongB=-1:f-1<=-t?b.alongB=0:f-1<t?b.alongB=1:b.alongB=2,b},pointInsideRegion:function(S,i){for(var L=S[0],T=S[1],v=i[i.length-1][0],d=i[i.length-1][1],r=!1,e=0;e<i.length;e++){var l=i[e][0],n=i[e][1];n-T>t!=d-T>t&&(v-l)*(T-n)/(d-n)+l-L>t&&(r=!r),v=l,d=n}return r}};return E}tt.exports=U},17792:function(tt){var U={toPolygon:function(t,E){function S(T){if(T.length<=0)return t.segments({inverted:!1,regions:[]});function v(e){var l=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[l]})}for(var d=v(T[0]),r=1;r<T.length;r++)d=t.selectDifference(t.combine(d,v(T[r])));return d}if(E.type==="Polygon")return t.polygon(S(E.coordinates));if(E.type==="MultiPolygon"){for(var i=t.segments({inverted:!1,regions:[]}),L=0;L<E.coordinates.length;L++)i=t.selectUnion(t.combine(i,S(E.coordinates[L])));return t.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,E,S){S=t.polygon(t.segments(S));function i(o,f){return E.pointInsideRegion([(o[0][0]+o[1][0])*.5,(o[0][1]+o[1][1])*.5],f)}function L(o){return{region:o,children:[]}}var T=L(null);function v(o,f){for(var b=0;b<o.children.length;b++){var h=o.children[b];if(i(f,h.region)){v(h,f);return}}for(var _=L(f),b=0;b<o.children.length;b++){var h=o.children[b];i(h.region,f)&&(_.children.push(h),o.children.splice(b,1),b--)}o.children.push(_)}for(var d=0;d<S.regions.length;d++){var r=S.regions[d];r.length<3||v(T,r)}function e(o,f){for(var b=0,h=o[o.length-1][0],_=o[o.length-1][1],a=[],c=0;c<o.length;c++){var p=o[c][0],x=o[c][1];a.push([p,x]),b+=x*h-p*_,h=p,_=x}var k=b<0;return k!==f&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var l=[];function n(o){var f=[e(o.region,!1)];l.push(f);for(var b=0;b<o.children.length;b++)f.push(s(o.children[b]))}function s(o){for(var f=0;f<o.children.length;f++)n(o.children[f]);return e(o.region,!0)}for(var d=0;d<T.children.length;d++)n(T.children[d]);return l.length<=0?{type:"Polygon",coordinates:[]}:l.length==1?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}};tt.exports=U},72200:function(tt,U,t){var E=t(48088);function S(i,L,T){function v(_,a){return{id:T?T.segmentId():-1,start:_,end:a,myFill:{above:null,below:null},otherFill:null}}function d(_,a,c){return{id:T?T.segmentId():-1,start:_,end:a,myFill:{above:c.myFill.above,below:c.myFill.below},otherFill:null}}var r=E.create();function e(_,a,c,p,x,k){var y=L.pointsCompare(a,x);return y!==0?y:L.pointsSame(c,k)?0:_!==p?_?1:-1:L.pointAboveOrOnLine(c,p?x:k,p?k:x)?1:-1}function l(_,a){r.insertBefore(_,function(c){var p=e(_.isStart,_.pt,a,c.isStart,c.pt,c.other.pt);return p<0})}function n(_,a){var c=E.node({isStart:!0,pt:_.start,seg:_,primary:a,other:null,status:null});return l(c,_.end),c}function s(_,a,c){var p=E.node({isStart:!1,pt:a.end,seg:a,primary:c,other:_,status:null});_.other=p,l(p,_.pt)}function o(_,a){var c=n(_,a);return s(c,_,a),c}function f(_,a){T&&T.segmentChop(_.seg,a),_.other.remove(),_.seg.end=a,_.other.pt=a,l(_.other,_.pt)}function b(_,a){var c=d(a,_.seg.end,_.seg);return f(_,a),o(c,_.primary)}function h(_,a){var c=E.create();function p(P,F){var R=P.seg.start,N=P.seg.end,B=F.seg.start,q=F.seg.end;return L.pointsCollinear(R,B,q)?L.pointsCollinear(N,B,q)||L.pointAboveOrOnLine(N,B,q)?1:-1:L.pointAboveOrOnLine(R,B,q)?1:-1}function x(P){return c.findTransition(function(F){var R=p(P,F.ev);return R>0})}function k(P,F){var R=P.seg,N=F.seg,B=R.start,q=R.end,V=N.start,J=N.end;T&&T.checkIntersection(R,N);var it=L.linesIntersect(B,q,V,J);if(it===!1){if(!L.pointsCollinear(B,q,V)||L.pointsSame(B,J)||L.pointsSame(q,V))return!1;var nt=L.pointsSame(B,V),Y=L.pointsSame(q,J);if(nt&&Y)return F;var Z=!nt&&L.pointBetween(B,V,J),$=!Y&&L.pointBetween(q,V,J);if(nt)return $?b(F,q):b(P,J),F;Z&&(Y||($?b(F,q):b(P,J)),b(F,B))}else it.alongA===0&&(it.alongB===-1?b(P,V):it.alongB===0?b(P,it.pt):it.alongB===1&&b(P,J)),it.alongB===0&&(it.alongA===-1?b(F,B):it.alongA===0?b(F,it.pt):it.alongA===1&&b(F,q));return!1}for(var y=[];!r.isEmpty();){var A=r.getHead();if(T&&T.vert(A.pt[0]),A.isStart){let P=function(){if(u){var F=k(A,u);if(F)return F}return m?k(A,m):!1};T&&T.segmentNew(A.seg,A.primary);var C=x(A),u=C.before?C.before.ev:null,m=C.after?C.after.ev:null;T&&T.tempStatus(A.seg,u?u.seg:!1,m?m.seg:!1);var M=P();if(M){if(i){var w;A.seg.myFill.below===null?w=!0:w=A.seg.myFill.above!==A.seg.myFill.below,w&&(M.seg.myFill.above=!M.seg.myFill.above)}else M.seg.otherFill=A.seg.myFill;T&&T.segmentUpdate(M.seg),A.other.remove(),A.remove()}if(r.getHead()!==A){T&&T.rewind(A.seg);continue}if(i){var w;A.seg.myFill.below===null?w=!0:w=A.seg.myFill.above!==A.seg.myFill.below,m?A.seg.myFill.below=m.seg.myFill.above:A.seg.myFill.below=_,w?A.seg.myFill.above=!A.seg.myFill.below:A.seg.myFill.above=A.seg.myFill.below}else if(A.seg.otherFill===null){var z;m?A.primary===m.primary?z=m.seg.otherFill.above:z=m.seg.myFill.above:z=A.primary?a:_,A.seg.otherFill={above:z,below:z}}T&&T.status(A.seg,u?u.seg:!1,m?m.seg:!1),A.other.status=C.insert(E.node({ev:A}))}else{var O=A.status;if(O===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(c.exists(O.prev)&&c.exists(O.next)&&k(O.prev.ev,O.next.ev),T&&T.statusRemove(O.ev.seg),O.remove(),!A.primary){var D=A.seg.myFill;A.seg.myFill=A.seg.otherFill,A.seg.otherFill=D}y.push(A.seg)}r.getHead().remove()}return T&&T.done(),y}return i?{addRegion:function(_){for(var a,c=_[_.length-1],p=0;p<_.length;p++){a=c,c=_[p];var x=L.pointsCompare(a,c);x!==0&&o(v(x<0?a:c,x<0?c:a),!0)}},calculate:function(_){return h(_,!1)}}:{calculate:function(_,a,c,p){return _.forEach(function(x){o(d(x.start,x.end,x),!0)}),c.forEach(function(x){o(d(x.start,x.end,x),!1)}),h(a,p)}}}tt.exports=S},48088:function(tt){var U={create:function(){var t={root:{root:!0,next:null},exists:function(E){return!(E===null||E===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(E,S){for(var i=t.root,L=t.root.next;L!==null;){if(S(L)){E.prev=L.prev,E.next=L,L.prev.next=E,L.prev=E;return}i=L,L=L.next}i.next=E,E.prev=i,E.next=null},findTransition:function(E){for(var S=t.root,i=t.root.next;i!==null&&!E(i);)S=i,i=i.next;return{before:S===t.root?null:S,after:i,insert:function(L){return L.prev=S,L.next=i,S.next=L,i!==null&&(i.prev=L),L}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};tt.exports=U},11403:function(tt){function U(t,E,S){var i=[],L=[];return t.forEach(function(T){var v=T.start,d=T.end;if(E.pointsSame(v,d)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}S&&S.chainStart(T);var r={index:0,matches_head:!1,matches_pt1:!1},e={index:0,matches_head:!1,matches_pt1:!1},l=r;function n(M,w,z){return l.index=M,l.matches_head=w,l.matches_pt1=z,l===r?(l=e,!1):(l=null,!0)}for(var s=0;s<i.length;s++){var o=i[s],f=o[0];o[1];var b=o[o.length-1];if(o[o.length-2],E.pointsSame(f,v)){if(n(s,!0,!0))break}else if(E.pointsSame(f,d)){if(n(s,!0,!1))break}else if(E.pointsSame(b,v)){if(n(s,!1,!0))break}else if(E.pointsSame(b,d)&&n(s,!1,!1))break}if(l===r){i.push([v,d]),S&&S.chainNew(v,d);return}if(l===e){S&&S.chainMatch(r.index);var h=r.index,_=r.matches_pt1?d:v,a=r.matches_head,o=i[h],c=a?o[0]:o[o.length-1],p=a?o[1]:o[o.length-2],x=a?o[o.length-1]:o[0],k=a?o[o.length-2]:o[1];if(E.pointsCollinear(p,c,_)&&(a?(S&&S.chainRemoveHead(r.index,_),o.shift()):(S&&S.chainRemoveTail(r.index,_),o.pop()),c=p),E.pointsSame(x,_)){i.splice(h,1),E.pointsCollinear(k,x,c)&&(a?(S&&S.chainRemoveTail(r.index,c),o.pop()):(S&&S.chainRemoveHead(r.index,c),o.shift())),S&&S.chainClose(r.index),L.push(o);return}a?(S&&S.chainAddHead(r.index,_),o.unshift(_)):(S&&S.chainAddTail(r.index,_),o.push(_));return}function y(M){S&&S.chainReverse(M),i[M].reverse()}function A(M,w){var z=i[M],O=i[w],D=z[z.length-1],P=z[z.length-2],F=O[0],R=O[1];E.pointsCollinear(P,D,F)&&(S&&S.chainRemoveTail(M,D),z.pop(),D=P),E.pointsCollinear(D,F,R)&&(S&&S.chainRemoveHead(w,F),O.shift()),S&&S.chainJoin(M,w),i[M]=z.concat(O),i.splice(w,1)}var C=r.index,u=e.index;S&&S.chainConnect(C,u);var m=i[C].length<i[u].length;r.matches_head?e.matches_head?m?(y(C),A(C,u)):(y(u),A(u,C)):A(u,C):e.matches_head?A(C,u):m?(y(C),A(u,C)):(y(u),A(C,u))}),L}tt.exports=U},82368:function(tt){function U(E,S,i){var L=[];return E.forEach(function(T){var v=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);S[v]!==0&&L.push({id:i?i.segmentId():-1,start:T.start,end:T.end,myFill:{above:S[v]===1,below:S[v]===2},otherFill:null})}),i&&i.selected(L),L}var t={union:function(E,S){return U(E,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],S)},intersect:function(E,S){return U(E,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],S)},difference:function(E,S){return U(E,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],S)},differenceRev:function(E,S){return U(E,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],S)},xor:function(E,S){return U(E,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],S)}};tt.exports=t},9696:function(tt,U,t){var E=t(29936).Transform,S=t(55619);function i(){E.call(this,{readableObjectMode:!0})}i.prototype=Object.create(E.prototype),i.prototype.constructor=i,S(i.prototype),U.gS=function(T,v,d){for(var r=v,e=0;e<d.length;)if(T[r++]!==d[e++])return!1;return!0},U.wR=function(T,v){var d=[],r=0;if(v&&v==="hex")for(;r<T.length;)d.push(parseInt(T.slice(r,r+2),16)),r+=2;else for(;r<T.length;r++)d.push(T.charCodeAt(r)&255);return d},U.Bz=function(T,v){return T[v]|T[v+1]<<8},U.eW=function(T,v){return T[v+1]|T[v]<<8},U.st=function(T,v){return T[v]|T[v+1]<<8|T[v+2]<<16|T[v+3]*16777216},U.eI=function(T,v){return T[v+3]|T[v+2]<<8|T[v+1]<<16|T[v]*16777216};function L(T,v,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=T,v&&(this.code=v),d&&(this.statusCode=d)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},11688:function(tt){function U(S,i){var L=new Error(S);return L.code=i,L}function t(S){try{return decodeURIComponent(escape(S))}catch{return S}}function E(S,i,L){this.input=S.subarray(i,L),this.start=i;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if(T!=="II*\0"&&T!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=T[0]==="M"}E.prototype.each=function(S){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,S)}},E.prototype.read_uint16=function(S){var i=this.input;if(S+2>i.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?i[S]*256+i[S+1]:i[S]+i[S+1]*256},E.prototype.read_uint32=function(S){var i=this.input;if(S+4>i.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?i[S]*16777216+i[S+1]*65536+i[S+2]*256+i[S+3]:i[S]+i[S+1]*256+i[S+2]*65536+i[S+3]*16777216},E.prototype.is_subifd_link=function(S,i){return S===0&&i===34665||S===0&&i===34853||S===34665&&i===40965},E.prototype.exif_format_length=function(S){switch(S){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},E.prototype.exif_format_read=function(S,i){var L;switch(S){case 1:case 2:return L=this.input[i],L;case 6:return L=this.input[i],L|(L&128)*33554430;case 3:return L=this.read_uint16(i),L;case 8:return L=this.read_uint16(i),L|(L&32768)*131070;case 4:return L=this.read_uint32(i),L;case 9:return L=this.read_uint32(i),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},E.prototype.scan_ifd=function(S,i,L){var T=this.read_uint16(i);i+=2;for(var v=0;v<T;v++){var d=this.read_uint16(i),r=this.read_uint16(i+2),e=this.read_uint32(i+4),l=this.exif_format_length(r),n=e*l,s=n<=4?i+8:this.read_uint32(i+8),o=!1;if(s+n>this.input.length)throw U("unexpected EOF","EBADDATA");for(var f=[],b=s,h=0;h<e;h++,b+=l){var _=this.exif_format_read(r,b);if(_===null){f=null;break}f.push(_)}Array.isArray(f)&&r===2&&(f=t(String.fromCharCode.apply(null,f)),f&&f[f.length-1]==="\0"&&(f=f.slice(0,-1))),this.is_subifd_link(S,d)&&Array.isArray(f)&&Number.isInteger(f[0])&&f[0]>0&&(this.ifds_to_read.push({id:d,offset:f[0]}),o=!0);var a={is_big_endian:this.big_endian,ifd:S,tag:d,format:r,count:e,entry_offset:i+this.start,data_length:n,data_offset:s+this.start,value:f,is_subifd_link:o};if(L(a)===!1){this.aborted=!0;return}i+=12}S===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},tt.exports.ExifParser=E,tt.exports.get_orientation=function(S){var i=0;try{return new E(S,0,S.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return i=L.value[0],!1}),i}catch{return-1}}},44600:function(tt,U,t){var E=t(9696).eW,S=t(9696).eI;function i(n,s){if(n.length<4+s)return null;var o=S(n,s);return n.length<o+s||o<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(s+4,s+8)),data:n.slice(s+8,s+o),end:s+o}}tt.exports.unbox=i;function L(n,s){for(var o=0;;){var f=i(n,o);if(!f)break;switch(f.boxtype){case"ispe":s.sizes.push({width:S(f.data,4),height:S(f.data,8)});break;case"irot":s.transforms.push({type:"irot",value:f.data[0]&3});break;case"imir":s.transforms.push({type:"imir",value:f.data[0]&1});break}o=f.end}}function T(n,s,o){for(var f=0,b=0;b<o;b++)f=f*256+(n[s+b]||0);return f}function v(n,s){for(var o=n[4]>>4&15,f=n[4]&15,b=n[5]>>4&15,h=E(n,6),_=8,a=0;a<h;a++){var c=E(n,_);_+=2;var p=E(n,_);_+=2;var x=T(n,_,b);_+=b;var k=E(n,_);if(_+=2,p===0&&k===1){var y=T(n,_,o),A=T(n,_+o,f);s.item_loc[c]={length:A,offset:y+x}}_+=k*(o+f)}}function d(n,s){for(var o=E(n,4),f=6,b=0;b<o;b++){var h=i(n,f);if(!h)break;if(h.boxtype==="infe"){for(var _=E(h.data,4),a="",c=8;c<h.data.length&&h.data[c];c++)a+=String.fromCharCode(h.data[c]);s.item_inf[a]=_}f=h.end}}function r(n,s){for(var o=0;;){var f=i(n,o);if(!f)break;f.boxtype==="ipco"&&L(f.data,s),o=f.end}}function e(n,s){for(var o=4;;){var f=i(n,o);if(!f)break;f.boxtype==="iprp"&&r(f.data,s),f.boxtype==="iloc"&&v(f.data,s),f.boxtype==="iinf"&&d(f.data,s),o=f.end}}function l(n){var s=n.reduce(function(b,h){return b.width>h.width||b.width===h.width&&b.height>h.height?b:h}),o=n.reduce(function(b,h){return b.height>h.height||b.height===h.height&&b.width>h.width?b:h}),f;return s.width>o.height||s.width===o.height&&s.height>o.width?f=s:f=o,f}tt.exports.readSizeFromMeta=function(n){var s={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(e(n,s),!!s.sizes.length){var o=l(s.sizes),f=1;s.transforms.forEach(function(h){var _={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},a={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?f=a[f]:(f=a[f],f=_[f],f=_[f])),h.type==="irot")for(var c=0;c<h.value;c++)f=_[f]});var b=null;return s.item_inf.Exif&&(b=s.item_loc[s.item_inf.Exif]),{width:o.width,height:o.height,orientation:s.transforms.length?f:null,variants:s.sizes,exif_location:b}}},tt.exports.getMimeType=function(n){var s=String.fromCharCode.apply(null,n.slice(0,4)),o={};o[s]=!0;for(var f=8;f<n.length;f+=4)o[String.fromCharCode.apply(null,n.slice(f,f+4))]=!0;if(!(!o.mif1&&!o.msf1&&!o.miaf))return s==="avif"||s==="avis"||s==="avio"?{type:"avif",mime:"image/avif"}:s==="heic"||s==="heix"?{type:"heic",mime:"image/heic"}:s==="hevc"||s==="hevx"?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).eI,L=t(44600),T=t(11688),v=E("ftyp");tt.exports=function(d){if(S(d,4,v)){var r=L.unbox(d,0);if(r){var e=L.getMimeType(r.data);if(e){for(var l,n=r.end;;){var s=L.unbox(d,n);if(!s)break;if(n=s.end,s.boxtype==="mdat")return;if(s.boxtype==="meta"){l=s.data;break}}if(l){var o=L.readSizeFromMeta(l);if(o){var f={width:o.width,height:o.height,type:e.type,mime:e.mime,wUnits:"px",hUnits:"px"};if(o.variants.length>1&&(f.variants=o.variants),o.orientation&&(f.orientation=o.orientation),o.exif_location&&o.exif_location.offset+o.exif_location.length<=d.length){var b=i(d,o.exif_location.offset),h=d.slice(o.exif_location.offset+b+4,o.exif_location.offset+o.exif_location.length),_=T.get_orientation(h);_>0&&(f.orientation=_)}return f}}}}}}},38728:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).Bz,L=E("BM");tt.exports=function(T){if(!(T.length<26)&&S(T,0,L))return{width:i(T,18),height:i(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).Bz,L=E("GIF87a"),T=E("GIF89a");tt.exports=function(v){if(!(v.length<10)&&!(!S(v,0,L)&&!S(v,0,T)))return{width:i(v,6),height:i(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(tt,U,t){var E=t(9696).Bz,S=0,i=1,L=16;tt.exports=function(T){var v=E(T,0),d=E(T,2),r=E(T,4);if(!(v!==S||d!==i||!r)){for(var e=[],l={width:0,height:0},n=0;n<r;n++){var s=T[6+L*n]||256,o=T[6+L*n+1]||256,f={width:s,height:o};e.push(f),(s>l.width||o>l.height)&&(l=f)}return{width:l.width,height:l.height,variants:e,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(tt,U,t){var E=t(9696).eW,S=t(9696).wR,i=t(9696).gS,L=t(11688),T=S("Exif\0\0");tt.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var d=2;;){for(;;){if(v.length-d<2)return;if(v[d++]===255)break}for(var r=v[d++],e;r===255;)r=v[d++];if(208<=r&&r<=217||r===1)e=0;else if(192<=r&&r<=254){if(v.length-d<2)return;e=E(v,d)-2,d+=2}else return;if(r===217||r===218)return;var l;if(r===225&&e>=10&&i(v,d,T)&&(l=L.get_orientation(v.slice(d+6,d+e))),e>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-d<e)return;var n={width:E(v,d+3),height:E(v,d+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return l>0&&(n.orientation=l),n}d+=e}}},37276:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).eI,L=E(`\x89PNG\r

`),T=E("IHDR");tt.exports=function(v){if(!(v.length<24)&&S(v,0,L)&&S(v,12,T))return{width:i(v,16),height:i(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).eI,L=E("8BPS\0");tt.exports=function(T){if(!(T.length<22)&&S(T,0,L))return{width:i(T,18),height:i(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(tt){function U(l){return l===32||l===9||l===13||l===10}function t(l){return typeof l=="number"&&isFinite(l)&&l>0}function E(l){var n=0,s=l.length;for(l[0]===239&&l[1]===187&&l[2]===191&&(n=3);n<s&&U(l[n]);)n++;return n===s?!1:l[n]===60}var S=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,T=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,d=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(l){var n=l.match(L),s=l.match(T),o=l.match(v);return{width:n&&(n[1]||n[2]),height:s&&(s[1]||s[2]),viewbox:o&&(o[1]||o[2])}}function e(l){return d.test(l)?l.match(d)[0]:"px"}tt.exports=function(l){if(E(l)){for(var n="",s=0;s<l.length;s++)n+=String.fromCharCode(l[s]);var o=(n.match(S)||[""])[0];if(i.test(o)){var f=r(o),b=parseFloat(f.width),h=parseFloat(f.height);if(f.width&&f.height)return!t(b)||!t(h)?void 0:{width:b,height:h,type:"svg",mime:"image/svg+xml",wUnits:e(f.width),hUnits:e(f.height)};var _=(f.viewbox||"").split(" "),a={width:_[2],height:_[3]},c=parseFloat(a.width),p=parseFloat(a.height);if(!(!t(c)||!t(p))&&e(a.width)===e(a.height)){var x=c/p;return f.width?t(b)?{width:b,height:b/x,type:"svg",mime:"image/svg+xml",wUnits:e(f.width),hUnits:e(f.width)}:void 0:f.height?t(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:e(f.height),hUnits:e(f.height)}:void 0:{width:c,height:p,type:"svg",mime:"image/svg+xml",wUnits:e(a.width),hUnits:e(a.height)}}}}}},98792:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).Bz,L=t(9696).eW,T=t(9696).st,v=t(9696).eI,d=E("II*\0"),r=E("MM\0*");function e(s,o,f){return f?L(s,o):i(s,o)}function l(s,o,f){return f?v(s,o):T(s,o)}function n(s,o,f){var b=e(s,o+2,f),h=l(s,o+4,f);return h!==1||b!==3&&b!==4?null:b===3?e(s,o+8,f):l(s,o+8,f)}tt.exports=function(s){if(!(s.length<8)&&!(!S(s,0,d)&&!S(s,0,r))){var o=s[0]===77,f=l(s,4,o)-8;if(!(f<0)){var b=f+8;if(!(s.length-b<2)){var h=e(s,b+0,o)*12;if(!(h<=0)&&(b+=2,!(s.length-b<h))){var _,a,c,p;for(_=0;_<h;_+=12)p=e(s,b+_,o),p===256?a=n(s,b+_,o):p===257&&(c=n(s,b+_,o));if(a&&c)return{width:a,height:c,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(tt,U,t){var E=t(9696).wR,S=t(9696).gS,i=t(9696).Bz,L=t(9696).st,T=t(11688),v=E("RIFF"),d=E("WEBP");function r(n,s){if(!(n[s+3]!==157||n[s+4]!==1||n[s+5]!==42))return{width:i(n,s+6)&16383,height:i(n,s+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function e(n,s){if(n[s]===47){var o=L(n,s+1);return{width:(o&16383)+1,height:(o>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function l(n,s){return{width:(n[s+6]<<16|n[s+5]<<8|n[s+4])+1,height:(n[s+9]<<s|n[s+8]<<8|n[s+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}tt.exports=function(n){if(!(n.length<16)&&!(!S(n,0,v)&&!S(n,8,d))){var s=12,o=null,f=0,b=L(n,4)+8;if(!(b>n.length)){for(;s+8<b;){if(n[s]===0){s++;continue}var h=String.fromCharCode.apply(null,n.slice(s,s+4)),_=L(n,s+4);h==="VP8 "&&_>=10?o=o||r(n,s+8):h==="VP8L"&&_>=9?o=o||e(n,s+8):h==="VP8X"&&_>=10?o=o||l(n,s+8):h==="EXIF"&&(f=T.get_orientation(n.slice(s+8,s+8+_)),s=1/0),s+=8+_}if(o)return f>0&&(o.orientation=f),o}}}},87480:function(tt,U,t){tt.exports={avif:t(40528),bmp:t(38728),gif:t(5588),ico:t(41924),jpeg:t(87968),png:t(37276),psd:t(90328),svg:t(16024),tiff:t(98792),webp:t(20704)}},19480:function(tt,U,t){var E=t(87480);function S(i){for(var L=Object.keys(E),T=0;T<L.length;T++){var v=E[L[T]](i);if(v)return v}return null}tt.exports=function(i){return S(i)},tt.exports.parsers=E},4168:function(tt){var U=tt.exports={},t,E;function S(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=S}catch{t=S}try{typeof clearTimeout=="function"?E=clearTimeout:E=i}catch{E=i}})();function L(f){if(t===setTimeout)return setTimeout(f,0);if((t===S||!t)&&setTimeout)return t=setTimeout,setTimeout(f,0);try{return t(f,0)}catch{try{return t.call(null,f,0)}catch{return t.call(this,f,0)}}}function T(f){if(E===clearTimeout)return clearTimeout(f);if((E===i||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(f);try{return E(f)}catch{try{return E.call(null,f)}catch{return E.call(this,f)}}}var v=[],d=!1,r,e=-1;function l(){!d||!r||(d=!1,r.length?v=r.concat(v):e=-1,v.length&&n())}function n(){if(!d){var f=L(l);d=!0;for(var b=v.length;b;){for(r=v,v=[];++e<b;)r&&r[e].run();e=-1,b=v.length}r=null,d=!1,T(f)}}U.nextTick=function(f){var b=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)b[h-1]=arguments[h];v.push(new s(f,b)),v.length===1&&!d&&L(n)};function s(f,b){this.fun=f,this.array=b}s.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function o(){}U.on=o,U.addListener=o,U.once=o,U.off=o,U.removeListener=o,U.removeAllListeners=o,U.emit=o,U.prependListener=o,U.prependOnceListener=o,U.listeners=function(f){return[]},U.binding=function(f){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(f){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},3951:function(tt,U,t){for(var E=t(41984),S=typeof window>"u"?t.g:window,i=["moz","webkit"],L="AnimationFrame",T=S["request"+L],v=S["cancel"+L]||S["cancelRequest"+L],d=0;!T&&d<i.length;d++)T=S[i[d]+"Request"+L],v=S[i[d]+"Cancel"+L]||S[i[d]+"CancelRequest"+L];if(!T||!v){var r=0,e=0,l=[],n=1e3/60;T=function(s){if(l.length===0){var o=E(),f=Math.max(0,n-(o-r));r=f+o,setTimeout(function(){var b=l.slice(0);l.length=0;for(var h=0;h<b.length;h++)if(!b[h].cancelled)try{b[h].callback(r)}catch(_){setTimeout(function(){throw _},0)}},Math.round(f))}return l.push({handle:++e,callback:s,cancelled:!1}),e},v=function(s){for(var o=0;o<l.length;o++)l[o].handle===s&&(l[o].cancelled=!0)}}tt.exports=function(s){return T.call(S,s)},tt.exports.cancel=function(){v.apply(S,arguments)},tt.exports.polyfill=function(s){s||(s=S),s.requestAnimationFrame=T,s.cancelAnimationFrame=v}},24544:function(tt,U,t){var E=t(76752),S=t(72160),i=t(45223),L=t(55616),T=t(50896),v=t(47520),d=t(37816),r=d.float32,e=d.fract32;tt.exports=n;var l=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(s,o){if(typeof s=="function"?(o||(o={}),o.regl=s):o=s,o.length&&(o.positions=o),s=o.regl,!s.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var f=s._gl,b,h,_,a,c,p,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},k=[];return a=s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),_=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),c=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=s.buffer({usage:"static",type:"float",data:l}),u(o),b=s({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:s.prop("range"),lineWidth:s.prop("lineWidth"),capSize:s.prop("capSize"),opacity:s.prop("opacity"),scale:s.prop("scale"),translate:s.prop("translate"),scaleFract:s.prop("scaleFract"),translateFract:s.prop("translateFract"),viewport:function(M,w){return[w.viewport.x,w.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{color:{buffer:a,offset:function(M,w){return w.offset*4},divisor:1},position:{buffer:h,offset:function(M,w){return w.offset*8},divisor:1},positionFract:{buffer:_,offset:function(M,w){return w.offset*8},divisor:1},error:{buffer:c,offset:function(M,w){return w.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:!1,instances:s.prop("count"),count:l.length}),T(y,{update:u,draw:A,destroy:m,regl:s,gl:f,canvas:f.canvas,groups:k}),y;function y(M){M?u(M):M===null&&m(),A()}function A(M){if(typeof M=="number")return C(M);M&&!Array.isArray(M)&&(M=[M]),s._refresh(),k.forEach(function(w,z){if(w){if(M&&(M[z]?w.draw=!0:w.draw=!1),!w.draw){w.draw=!0;return}C(z)}})}function C(M){typeof M=="number"&&(M=k[M]),M!=null&&M&&M.count&&M.color&&M.opacity&&M.positions&&M.positions.length>1&&(M.scaleRatio=[M.scale[0]*M.viewport.width,M.scale[1]*M.viewport.height],b(M),M.after&&M.after(M))}function u(M){if(M){M.length!=null?typeof M[0]=="number"&&(M=[{positions:M}]):Array.isArray(M)||(M=[M]);var w=0,z=0;if(y.groups=k=M.map(function(B,q){var V=k[q];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return V;return B=L(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),V||(k[q]=V={id:q,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=T({},x,B)),i(V,B,[{lineWidth:function(J){return+J*.5},capSize:function(J){return+J*.5},opacity:parseFloat,errors:function(J){return J=v(J),z+=J.length,J},positions:function(J,it){return J=v(J,"float64"),it.count=Math.floor(J.length/2),it.bounds=E(J,2),it.offset=w,w+=it.count,J}},{color:function(J,it){var nt=it.count;if(J||(J="transparent"),!Array.isArray(J)||typeof J[0]=="number"){var Y=J;J=Array(nt);for(var Z=0;Z<nt;Z++)J[Z]=Y}if(J.length<nt)throw Error("Not enough colors");for(var $=new Uint8Array(nt*4),G=0;G<nt;G++){var rt=S(J[G],"uint8");$.set(rt,G*4)}return $},range:function(J,it,nt){var Y=it.bounds;return J||(J=Y),it.scale=[1/(J[2]-J[0]),1/(J[3]-J[1])],it.translate=[-J[0],-J[1]],it.scaleFract=e(it.scale),it.translateFract=e(it.translate),J},viewport:function(J){var it;return Array.isArray(J)?it={x:J[0],y:J[1],width:J[2]-J[0],height:J[3]-J[1]}:J?(it={x:J.x||J.left||0,y:J.y||J.top||0},J.right?it.width=J.right-it.x:it.width=J.w||J.width||0,J.bottom?it.height=J.bottom-it.y:it.height=J.h||J.height||0):it={x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},it}}]),V}),w||z){var O=k.reduce(function(B,q,V){return B+(q?q.count:0)},0),D=new Float64Array(O*2),P=new Uint8Array(O*4),F=new Float32Array(O*4);k.forEach(function(B,q){if(B){var V=B.positions,J=B.count,it=B.offset,nt=B.color,Y=B.errors;J&&(P.set(nt,it*4),F.set(Y,it*4),D.set(V,it*2))}});var R=r(D);h(R);var N=e(D,R);_(N),a(P),c(F)}}}function m(){h.destroy(),_.destroy(),a.destroy(),c.destroy(),p.destroy()}}},13472:function(tt,U,t){var E=t(72160),S=t(76752),i=t(50896),L=t(55616),T=t(47520),v=t(28912),d=t(71152),r=t(37816),e=r.float32,l=r.fract32,n=t(60463),s=t(51160),o=t(10272),f=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,b=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,_=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,a=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,c=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;tt.exports=p;function p(x,k){if(!(this instanceof p))return new p(x,k);if(typeof x=="function"?(k||(k={}),k.regl=x):k=x,k.length&&(k.positions=k),x=k.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=p.shaders.has(x)?p.shaders.get(x):p.shaders.set(x,p.createShaders(x)).get(x),this.update(k)}p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new n,p.createShaders=function(x){var k=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),y={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(m,M){return M.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(m,M){return[M.viewport.x,M.viewport.y,m.viewportWidth,m.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(m,M){return!M.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},A=x(i({vert:f,frag:b,attributes:{lineEnd:{buffer:k,divisor:0,stride:8,offset:0},lineTop:{buffer:k,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},y)),C;try{C=x(i({cull:{enable:!0,face:"back"},vert:a,frag:c,attributes:{lineEnd:{buffer:k,divisor:0,stride:8,offset:0},lineTop:{buffer:k,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},y))}catch{C=A}var u=x({primitive:"triangle",elements:function(m,M){return M.triangles},offset:0,vert:h,frag:_,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(m,M){return[M.viewport.x,M.viewport.y,m.viewportWidth,m.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:y.blend,depth:{enable:!1},scissor:y.scissor,stencil:y.stencil,viewport:y.viewport});return{fill:u,rect:A,miter:C}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var x,k=[],y=arguments.length;y--;)k[y]=arguments[y];k.length&&(x=this).update.apply(x,k),this.draw()},p.prototype.draw=function(){for(var x=this,k=[],y=arguments.length;y--;)k[y]=arguments[y];return(k.length?k:this.passes).forEach(function(A,C){var u;if(A&&Array.isArray(A))return(u=x).draw.apply(u,A);typeof A=="number"&&(A=x.passes[A]),A&&A.count>1&&A.opacity&&(x.regl._refresh(),A.fill&&A.triangles&&A.triangles.length>2&&x.shaders.fill(A),A.thickness&&(A.scale[0]*A.viewport.width>p.precisionThreshold||A.scale[1]*A.viewport.height>p.precisionThreshold||A.join==="rect"||!A.join&&(A.thickness<=2||A.count>=p.maxPoints)?x.shaders.rect(A):x.shaders.miter(A)))}),this},p.prototype.update=function(x){var k=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var y=this,A=y.regl,C=y.gl;if(x.forEach(function(z,O){var D=k.passes[O];if(z!==void 0){if(z===null){k.passes[O]=null;return}if(typeof z[0]=="number"&&(z={positions:z}),z=L(z,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),D||(k.passes[O]=D={id:O,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:A.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:A.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:A.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:A.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},z=i({},p.defaults,z)),z.thickness!=null&&(D.thickness=parseFloat(z.thickness)),z.opacity!=null&&(D.opacity=parseFloat(z.opacity)),z.miterLimit!=null&&(D.miterLimit=parseFloat(z.miterLimit)),z.overlay!=null&&(D.overlay=!!z.overlay,O<p.maxLines&&(D.depth=2*(p.maxLines-1-O%p.maxLines)/p.maxLines-1)),z.join!=null&&(D.join=z.join),z.hole!=null&&(D.hole=z.hole),z.fill!=null&&(D.fill=z.fill?E(z.fill,"uint8"):null),z.viewport!=null&&(D.viewport=s(z.viewport)),D.viewport||(D.viewport=s([C.drawingBufferWidth,C.drawingBufferHeight])),z.close!=null&&(D.close=z.close),z.positions===null&&(z.positions=[]),z.positions){var P,F;if(z.positions.x&&z.positions.y){var R=z.positions.x,N=z.positions.y;F=D.count=Math.max(R.length,N.length),P=new Float64Array(F*2);for(var B=0;B<F;B++)P[B*2]=R[B],P[B*2+1]=N[B]}else P=T(z.positions,"float64"),F=D.count=Math.floor(P.length/2);var q=D.bounds=S(P,2);if(D.fill){for(var V=[],J={},it=0,nt=0,Y=0,Z=D.count;nt<Z;nt++){var $=P[nt*2],G=P[nt*2+1];isNaN($)||isNaN(G)||$==null||G==null?($=P[it*2],G=P[it*2+1],J[nt]=it):it=nt,V[Y++]=$,V[Y++]=G}if(z.splitNull){D.count-1 in J||(J[D.count]=D.count-1);var rt=Object.keys(J).map(Number).sort(function(ht,bt){return ht-bt}),ot=[],W=0,H=D.hole!=null?D.hole[0]:null;if(H!=null){var at=o(rt,function(ht){return ht>=H});rt=rt.slice(0,at),rt.push(H)}for(var Q=function(ht){var bt=V.slice(W*2,rt[ht]*2).concat(H?V.slice(H*2):[]),zt=(D.hole||[]).map(function(te){return te-H+(rt[ht]-W)}),qt=v(bt,zt);qt=qt.map(function(te){return te+W+(te+W<rt[ht]?0:H-rt[ht])}),ot.push.apply(ot,qt),W=rt[ht]+1},ct=0;ct<rt.length;ct++)Q(ct);for(var ft=0,yt=ot.length;ft<yt;ft++)J[ot[ft]]!=null&&(ot[ft]=J[ot[ft]]);D.triangles=ot}else{for(var xt=v(V,D.hole||[]),Lt=0,gt=xt.length;Lt<gt;Lt++)J[xt[Lt]]!=null&&(xt[Lt]=J[xt[Lt]]);D.triangles=xt}}var mt=new Float64Array(P);d(mt,2,q);var vt=new Float64Array(F*2+6);D.close?P[0]===P[F*2-2]&&P[1]===P[F*2-1]?(vt[0]=mt[F*2-4],vt[1]=mt[F*2-3]):(vt[0]=mt[F*2-2],vt[1]=mt[F*2-1]):(vt[0]=mt[0],vt[1]=mt[1]),vt.set(mt,2),D.close?P[0]===P[F*2-2]&&P[1]===P[F*2-1]?(vt[F*2+2]=mt[2],vt[F*2+3]=mt[3],D.count-=1):(vt[F*2+2]=mt[0],vt[F*2+3]=mt[1],vt[F*2+4]=mt[2],vt[F*2+5]=mt[3]):(vt[F*2+2]=mt[F*2-2],vt[F*2+3]=mt[F*2-1],vt[F*2+4]=mt[F*2-2],vt[F*2+5]=mt[F*2-1]);var At=e(vt);D.positionBuffer(At);var Ot=l(vt,At);D.positionFractBuffer(Ot)}if(z.range?D.range=z.range:D.range||(D.range=D.bounds),(z.range||z.positions)&&D.count){var Pt=D.bounds,Et=Pt[2]-Pt[0],Nt=Pt[3]-Pt[1],ne=D.range[2]-D.range[0],Gt=D.range[3]-D.range[1];D.scale=[Et/ne,Nt/Gt],D.translate=[-D.range[0]/ne+Pt[0]/ne||0,-D.range[1]/Gt+Pt[1]/Gt||0],D.scaleFract=l(D.scale),D.translateFract=l(D.translate)}if(z.dashes){var pe=0,Vt;if(!z.dashes||z.dashes.length<2)pe=1,Vt=new Uint8Array([255,255,255,255,255,255,255,255]);else{pe=0;for(var ae=0;ae<z.dashes.length;++ae)pe+=z.dashes[ae];Vt=new Uint8Array(pe*p.dashMult);for(var oe=0,ce=255,le=0;le<2;le++)for(var ye=0;ye<z.dashes.length;++ye){for(var Tt=0,Ft=z.dashes[ye]*p.dashMult*.5;Tt<Ft;++Tt)Vt[oe++]=ce;ce^=255}}D.dashLength=pe,D.dashTexture({channels:1,data:Vt,width:Vt.length,height:1,mag:"linear",min:"linear"},0,0)}if(z.color){var $t=D.count,Wt=z.color;Wt||(Wt="transparent");var Bt=new Uint8Array($t*4+4);if(!Array.isArray(Wt)||typeof Wt[0]=="number")for(var Mt=E(Wt,"uint8"),St=0;St<$t+1;St++)Bt.set(Mt,St*4);else{for(var Dt=0;Dt<$t;Dt++){var dt=E(Wt[Dt],"uint8");Bt.set(dt,Dt*4)}Bt.set(E(Wt[0],"uint8"),$t*4)}D.colorBuffer({usage:"dynamic",type:"uint8",data:Bt})}}}),x.length<this.passes.length){for(var u=x.length;u<this.passes.length;u++){var m=this.passes[u];m&&(m.colorBuffer.destroy(),m.positionBuffer.destroy(),m.dashTexture.destroy())}this.passes.length=x.length}for(var M=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&M.push(this.passes[w]);return this.passes=M,this}},p.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(tt,U,t){function E(m,M){var w=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(w!=null){var z,O,D,P,F=[],R=!0,N=!1;try{if(D=(w=w.call(m)).next,M===0){if(Object(w)!==w)return;R=!1}else for(;!(R=(z=D.call(w)).done)&&(F.push(z.value),F.length!==M);R=!0);}catch(B){N=!0,O=B}finally{try{if(!R&&w.return!=null&&(P=w.return(),Object(P)!==P))return}finally{if(N)throw O}}return F}}function S(m,M){return T(m)||E(m,M)||d(m,M)||l()}function i(m){return L(m)||v(m)||d(m)||e()}function L(m){if(Array.isArray(m))return r(m)}function T(m){if(Array.isArray(m))return m}function v(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function d(m,M){if(m){if(typeof m=="string")return r(m,M);var w=Object.prototype.toString.call(m).slice(8,-1);if(w==="Object"&&m.constructor&&(w=m.constructor.name),w==="Map"||w==="Set")return Array.from(m);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return r(m,M)}}function r(m,M){(M==null||M>m.length)&&(M=m.length);for(var w=0,z=new Array(M);w<M;w++)z[w]=m[w];return z}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=t(72160),s=t(76752),o=t(3808),f=t(3108),b=t(50896),h=t(26444),_=t(55616),a=t(45223),c=t(47520),p=t(96604),x=t(37816),k=t(51160),y=A;function A(m,M){var w=this;if(!(this instanceof A))return new A(m,M);typeof m=="function"?(M||(M={}),M.regl=m):(M=m,m=null),M&&M.length&&(M.positions=M),m=M.regl;var z=m._gl,O,D=[],P={},F=[],R=[null],N=[null],B=255,q=100;this.tooManyColors=p,O=m.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),b(this,{regl:m,gl:z,groups:F,markerCache:N,markerTextures:R,palette:D,paletteIds:P,paletteTexture:O,maxColors:B,maxSize:q,canvas:z.canvas}),this.update(M);var V={uniforms:{constPointSize:!!M.constPointSize,opacity:m.prop("opacity"),paletteSize:function(nt,Y){return[w.tooManyColors?0:B,O.height]},pixelRatio:m.context("pixelRatio"),scale:m.prop("scale"),scaleFract:m.prop("scaleFract"),translate:m.prop("translate"),translateFract:m.prop("translateFract"),markerTexture:m.prop("markerTexture"),paletteTexture:O},attributes:{x:function(nt,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(nt,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(nt,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(nt,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(nt,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/w.maxSize)]}},borderSize:function(nt,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/w.maxSize)]}},colorId:function(nt,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?D.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(nt,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?D.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(nt,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:m.prop("viewport")},viewport:m.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:m.prop("elements"),count:m.prop("count"),offset:m.prop("offset"),primitive:"points"},J=b({},V);J.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),J.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=m(J);var it=b({},V);it.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),it.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(it.frag=it.frag.replace("smoothstep","smoothStep"),J.frag=J.frag.replace("smoothstep","smoothStep")),this.drawCircle=m(it)}A.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},A.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},A.prototype.draw=function(){for(var m=this,M=arguments.length,w=new Array(M),z=0;z<M;z++)w[z]=arguments[z];var O=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var D=0;D<w.length;D++)this.drawItem(D,w[D]);else O.forEach(function(P,F){m.drawItem(F)});return this},A.prototype.drawItem=function(m,M){var w=this.groups,z=w[m];if(typeof M=="number"&&(m=M,z=w[M],M=null),!!(z&&z.count&&z.opacity)){z.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,z,M));for(var O=[],D=1;D<z.activation.length;D++)!z.activation[D]||z.activation[D]!==!0&&!z.activation[D].data.length||O.push.apply(O,i(this.getMarkerDrawOptions(D,z,M)));O.length&&this.drawMarker(O)}},A.prototype.getMarkerDrawOptions=function(m,M,w){var z=M.range,O=M.tree,D=M.viewport,P=M.activation,F=M.selectionBuffer,R=M.count;if(this.regl,!O)return w?[b({},M,{markerTexture:this.markerTextures[m],activation:P[m],count:w.length,elements:w,offset:0})]:[b({},M,{markerTexture:this.markerTextures[m],activation:P[m],offset:0})];var N=[],B=O.range(z,{lod:!0,px:[(z[2]-z[0])/D.width,(z[3]-z[1])/D.height]});if(w){for(var q=P[m],V=q.data,J=new Uint8Array(R),it=0;it<w.length;it++){var nt=w[it];J[nt]=V?V[nt]:1}F.subdata(J)}for(var Y=B.length;Y--;){var Z=S(B[Y],2),$=Z[0],G=Z[1];N.push(b({},M,{markerTexture:this.markerTextures[m],activation:w?F:P[m],offset:$,count:G-$}))}return N},A.prototype.update=function(){for(var m=this,M=arguments.length,w=new Array(M),z=0;z<M;z++)w[z]=arguments[z];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var O=this.groups,D=this.gl,P=this.regl,F=this.maxSize,R=this.maxColors,N=this.palette;this.groups=O=w.map(function(B,q){var V=O[q];if(B===void 0)return V;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=_(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(m.tooManyColors=B.tooManyColors),V||(O[q]=V={id:q,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:P.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:P.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=b({},A.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=V.marker,delete V.marker),B.marker&&!("positions"in B)&&(B.positions=V.positions,delete V.positions);var J=0,it=0;if(a(V,B,[{snap:!0,size:function(mt,vt){return mt==null&&(mt=A.defaults.size),J+=mt&&mt.length?1:0,mt},borderSize:function(mt,vt){return mt==null&&(mt=A.defaults.borderSize),J+=mt&&mt.length?1:0,mt},opacity:parseFloat,color:function(mt,vt){return mt==null&&(mt=A.defaults.color),mt=m.updateColor(mt),it++,mt},borderColor:function(mt,vt){return mt==null&&(mt=A.defaults.borderColor),mt=m.updateColor(mt),it++,mt},bounds:function(mt,vt,At){return"range"in At||(At.range=null),mt},positions:function(mt,vt,At){var Ot=vt.snap,Pt=vt.positionBuffer,Et=vt.positionFractBuffer,Nt=vt.selectionBuffer;if(mt.x||mt.y)return mt.x.length?vt.xAttr={buffer:P.buffer(mt.x),offset:0,stride:4,count:mt.x.length}:vt.xAttr={buffer:mt.x.buffer,offset:mt.x.offset*4||0,stride:(mt.x.stride||1)*4,count:mt.x.count},mt.y.length?vt.yAttr={buffer:P.buffer(mt.y),offset:0,stride:4,count:mt.y.length}:vt.yAttr={buffer:mt.y.buffer,offset:mt.y.offset*4||0,stride:(mt.y.stride||1)*4,count:mt.y.count},vt.count=Math.max(vt.xAttr.count,vt.yAttr.count),mt;mt=c(mt,"float64");var ne=vt.count=Math.floor(mt.length/2),Gt=vt.bounds=ne?s(mt,2):null;if(!At.range&&!vt.range&&(delete vt.range,At.range=Gt),!At.marker&&!vt.marker&&(delete vt.marker,At.marker=null),Ot&&(Ot===!0||ne>Ot)?vt.tree=f(mt,{bounds:Gt}):Ot&&Ot.length&&(vt.tree=Ot),vt.tree){var pe={primitive:"points",usage:"static",data:vt.tree,type:"uint32"};vt.elements?vt.elements(pe):vt.elements=P.elements(pe)}var Vt=x.float32(mt);Pt({data:Vt,usage:"dynamic"});var ae=x.fract32(mt,Vt);return Et({data:ae,usage:"dynamic"}),Nt({data:new Uint8Array(ne),type:"uint8",usage:"stream"}),mt}},{marker:function(mt,vt,At){var Ot=vt.activation;if(Ot.forEach(function(ae){return ae&&ae.destroy&&ae.destroy()}),Ot.length=0,!mt||typeof mt[0]=="number"){var Pt=m.addMarker(mt);Ot[Pt]=!0}else{for(var Et=[],Nt=0,ne=Math.min(mt.length,vt.count);Nt<ne;Nt++){var Gt=m.addMarker(mt[Nt]);Et[Gt]||(Et[Gt]=new Uint8Array(vt.count)),Et[Gt][Nt]=1}for(var pe=0;pe<Et.length;pe++)if(Et[pe]){var Vt={data:Et[pe],type:"uint8",usage:"static"};Ot[pe]?Ot[pe](Vt):Ot[pe]=P.buffer(Vt),Ot[pe].data=Et[pe]}}return mt},range:function(mt,vt,At){var Ot=vt.bounds;if(Ot)return mt||(mt=Ot),vt.scale=[1/(mt[2]-mt[0]),1/(mt[3]-mt[1])],vt.translate=[-mt[0],-mt[1]],vt.scaleFract=x.fract(vt.scale),vt.translateFract=x.fract(vt.translate),mt},viewport:function(mt){var vt=k(mt||[D.drawingBufferWidth,D.drawingBufferHeight]);return vt}}]),J){var nt=V,Y=nt.count,Z=nt.size,$=nt.borderSize,G=nt.sizeBuffer,rt=new Uint8Array(Y*2);if(Z.length||$.length)for(var ot=0;ot<Y;ot++)rt[ot*2]=Math.round((Z[ot]==null?Z:Z[ot])*255/F),rt[ot*2+1]=Math.round(($[ot]==null?$:$[ot])*255/F);G({data:rt,usage:"dynamic"})}if(it){var W=V,H=W.count,at=W.color,Q=W.borderColor,ct=W.colorBuffer,ft;if(m.tooManyColors){if(at.length||Q.length){ft=new Uint8Array(H*8);for(var yt=0;yt<H;yt++){var xt=at[yt];ft[yt*8]=N[xt*4],ft[yt*8+1]=N[xt*4+1],ft[yt*8+2]=N[xt*4+2],ft[yt*8+3]=N[xt*4+3];var Lt=Q[yt];ft[yt*8+4]=N[Lt*4],ft[yt*8+5]=N[Lt*4+1],ft[yt*8+6]=N[Lt*4+2],ft[yt*8+7]=N[Lt*4+3]}}}else if(at.length||Q.length){ft=new Uint8Array(H*4+2);for(var gt=0;gt<H;gt++)at[gt]!=null&&(ft[gt*4]=at[gt]%R,ft[gt*4+1]=Math.floor(at[gt]/R)),Q[gt]!=null&&(ft[gt*4+2]=Q[gt]%R,ft[gt*4+3]=Math.floor(Q[gt]/R))}ct({data:ft||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return V})}},A.prototype.addMarker=function(m){var M=this.markerTextures,w=this.regl,z=this.markerCache,O=m==null?0:z.indexOf(m);if(O>=0)return O;var D;if(m instanceof Uint8Array||m instanceof Uint8ClampedArray)D=m;else{D=new Uint8Array(m.length);for(var P=0,F=m.length;P<F;P++)D[P]=m[P]*255}var R=Math.floor(Math.sqrt(D.length));return O=M.length,z.push(m),M.push(w.texture({channels:1,data:D,radius:R,mag:"linear",min:"linear"})),O},A.prototype.updateColor=function(m){var M=this.paletteIds,w=this.palette,z=this.maxColors;Array.isArray(m)||(m=[m]);var O=[];if(typeof m[0]=="number"){var D=[];if(Array.isArray(m))for(var P=0;P<m.length;P+=4)D.push(m.slice(P,P+4));else for(var F=0;F<m.length;F+=4)D.push(m.subarray(F,F+4));m=D}for(var R=0;R<m.length;R++){var N=m[R];N=n(N,"uint8");var B=o(N,!1);if(M[B]==null){var q=w.length;M[B]=Math.floor(q/4),w[q]=N[0],w[q+1]=N[1],w[q+2]=N[2],w[q+3]=N[3]}O[R]=M[B]}return!this.tooManyColors&&w.length>z*4&&(this.tooManyColors=!0),this.updatePalette(w),O.length===1?O[0]:O},A.prototype.updatePalette=function(m){if(!this.tooManyColors){var M=this.maxColors,w=this.paletteTexture,z=Math.ceil(m.length*.25/M);if(z>1){m=m.slice();for(var O=m.length*.25%M;O<z*M;O++)m.push(0,0,0,0)}w.height<z&&w.resize(M,z),w.subimage({width:Math.min(m.length*.25,M),height:z,data:m},0,0)}},A.prototype.destroy=function(){return this.groups.forEach(function(m){m.sizeBuffer.destroy(),m.positionBuffer.destroy(),m.positionFractBuffer.destroy(),m.colorBuffer.destroy(),m.activation.forEach(function(M){return M&&M.destroy&&M.destroy()}),m.selectionBuffer.destroy(),m.elements&&m.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(m){return m&&m.destroy&&m.destroy()}),this};var C=t(50896),u=function(m,M){var w=new y(m,M),z=w.render.bind(w);return C(z,{render:z,update:w.update.bind(w),draw:w.draw.bind(w),destroy:w.destroy.bind(w),regl:w.regl,gl:w.gl,canvas:w.gl.canvas,groups:w.groups,markers:w.markerCache,palette:w.palette}),z};tt.exports=u},55795:function(tt,U,t){var E=t(38540),S=t(55616),i=t(76752),L=t(3951),T=t(67752),v=t(51160),d=t(47520);tt.exports=r;function r(s,o){if(!(this instanceof r))return new r(s);this.traces=[],this.passes={},this.regl=s,this.scatter=E(s),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var s=this,o,f=[],b=arguments.length;b--;)f[b]=arguments[b];return f.length&&(o=this).update.apply(o,f),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,L(function(){s.dirty=!1})),this)},r.prototype.update=function(){for(var s,o=[],f=arguments.length;f--;)o[f]=arguments[f];if(o.length){for(var b=0;b<o.length;b++)this.updateItem(b,o[b]);this.traces=this.traces.filter(Boolean);for(var h=[],_=0,a=0;a<this.traces.length;a++){for(var c=this.traces[a],p=this.traces[a].passes,x=0;x<p.length;x++)h.push(this.passes[p[x]]);c.passOffset=_,_+=c.passes.length}return(s=this.scatter).update.apply(s,h),this}},r.prototype.updateItem=function(s,o){var f=this,b=f.regl;if(o===null)return this.traces[s]=null,this;if(!o)return this;var h=S(o,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),_=this.traces[s]||(this.traces[s]={id:s,buffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([b._gl.drawingBufferWidth,b._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(_.color=h.color),h.size!=null&&(_.size=h.size),h.marker!=null&&(_.marker=h.marker),h.borderColor!=null&&(_.borderColor=h.borderColor),h.borderSize!=null&&(_.borderSize=h.borderSize),h.opacity!=null&&(_.opacity=h.opacity),h.viewport&&(_.viewport=v(h.viewport)),h.diagonal!=null&&(_.diagonal=h.diagonal),h.upper!=null&&(_.upper=h.upper),h.lower!=null&&(_.lower=h.lower),h.data){_.buffer(d(h.data)),_.columns=h.data.length,_.count=h.data[0].length,_.bounds=[];for(var a=0;a<_.columns;a++)_.bounds[a]=i(h.data[a],1)}var c;h.range&&(_.range=h.range,c=_.range&&typeof _.range[0]!="number"),h.domain&&(_.domain=h.domain);var p=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===_.columns&&typeof h.padding[h.padding.length-1]=="number"?(_.padding=h.padding.map(n),p=!0):_.padding=n(h.padding));var x=_.columns,k=_.count,y=_.viewport.width,A=_.viewport.height,C=_.viewport.x,u=_.viewport.y,m=y/x,M=A/x;_.passes=[];for(var w=0;w<x;w++)for(var z=0;z<x;z++)if(!(!_.diagonal&&z===w)&&!(!_.upper&&w>z)&&!(!_.lower&&w<z)){var O=e(_.id,w,z),D=this.passes[O]||(this.passes[O]={});if(h.data&&(h.transpose?D.positions={x:{buffer:_.buffer,offset:z,count:k,stride:x},y:{buffer:_.buffer,offset:w,count:k,stride:x}}:D.positions={x:{buffer:_.buffer,offset:z*k,count:k},y:{buffer:_.buffer,offset:w*k,count:k}},D.bounds=l(_.bounds,w,z)),h.domain||h.viewport||h.data){var P=p?l(_.padding,w,z):_.padding;if(_.domain){var F=l(_.domain,w,z),R=F[0],N=F[1],B=F[2],q=F[3];D.viewport=[C+R*y+P[0],u+N*A+P[1],C+B*y-P[2],u+q*A-P[3]]}else D.viewport=[C+z*m+m*P[0],u+w*M+M*P[1],C+(z+1)*m-m*P[2],u+(w+1)*M-M*P[3]]}h.color&&(D.color=_.color),h.size&&(D.size=_.size),h.marker&&(D.marker=_.marker),h.borderSize&&(D.borderSize=_.borderSize),h.borderColor&&(D.borderColor=_.borderColor),h.opacity&&(D.opacity=_.opacity),h.range&&(D.range=c?l(_.range,w,z):_.range||D.bounds),_.passes.push(O)}return this},r.prototype.draw=function(){for(var s,o=[],f=arguments.length;f--;)o[f]=arguments[f];if(!o.length)this.scatter.draw();else{for(var b=[],h=0;h<o.length;h++)if(typeof o[h]=="number"){var _=this.traces[o[h]],a=_.passes,c=_.passOffset;b.push.apply(b,T(c,c+a.length))}else if(o[h].length){var p=o[h],x=this.traces[h],k=x.passes,y=x.passOffset;k=k.map(function(A,C){b[y+C]=p})}(s=this.scatter).draw.apply(s,b)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function e(s,o,f){var b=s.id!=null?s.id:s,h=o,_=f,a=b<<16|(h&255)<<8|_&255;return a}function l(s,o,f){var b,h,_,a,c=s[o],p=s[f];return c.length>2?(c[0],c[2],b=c[1],h=c[3]):c.length?(b=c[0],h=c[1]):(c.x,b=c.y,c.x+c.width,h=c.y+c.height),p.length>2?(_=p[0],a=p[2],p[1],p[3]):p.length?(_=p[0],a=p[1]):(_=p.x,p.y,a=p.x+p.width,p.y+p.height),[_,b,a,h]}function n(s){if(typeof s=="number")return[s,s,s,s];if(s.length===2)return[s[0],s[1],s[0],s[1]];var o=v(s);return[o.x,o.y,o.x+o.width,o.y+o.height]}},28624:function(tt){(function(U,t){tt.exports=t()})(this,function(){function U(fe,De){this.id=ct++,this.type=fe,this.data=De}function t(fe){if(fe.length===0)return[];var De=fe.charAt(0),Ge=fe.charAt(fe.length-1);if(1<fe.length&&De===Ge&&(De==='"'||De==="'"))return['"'+fe.substr(1,fe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(De=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(fe))return t(fe.substr(0,De.index)).concat(t(De[1])).concat(t(fe.substr(De.index+De[0].length)));if(De=fe.split("."),De.length===1)return['"'+fe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(fe=[],Ge=0;Ge<De.length;++Ge)fe=fe.concat(t(De[Ge]));return fe}function E(fe){return"["+t(fe).join("][")+"]"}function S(fe,De){if(typeof fe=="function")return new U(0,fe);if(typeof fe=="number"||typeof fe=="boolean")return new U(5,fe);if(Array.isArray(fe))return new U(6,fe.map(function(Ge,vr){return S(Ge)}));if(fe instanceof U)return fe}function i(){var fe={"":0},De=[""];return{id:function(Ge){var vr=fe[Ge];return vr||(vr=fe[Ge]=De.length,De.push(Ge),vr)},str:function(Ge){return De[Ge]}}}function L(fe,De,Ge){function vr(){var ie=window.innerWidth,he=window.innerHeight;fe!==document.body&&(he=$e.getBoundingClientRect(),ie=he.right-he.left,he=he.bottom-he.top),$e.width=Ge*ie,$e.height=Ge*he}var $e=document.createElement("canvas");Q($e.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),fe.appendChild($e),fe===document.body&&($e.style.position="absolute",Q(fe.style,{margin:0,padding:0}));var Kt;return fe!==document.body&&typeof ResizeObserver=="function"?(Kt=new ResizeObserver(function(){setTimeout(vr)}),Kt.observe(fe)):window.addEventListener("resize",vr,!1),vr(),{canvas:$e,onDestroy:function(){Kt?Kt.disconnect():window.removeEventListener("resize",vr),fe.removeChild($e)}}}function T(fe,De){function Ge(vr){try{return fe.getContext(vr,De)}catch{return null}}return Ge("webgl")||Ge("experimental-webgl")||Ge("webgl-experimental")}function v(fe){return typeof fe=="string"?fe.split():fe}function d(fe){return typeof fe=="string"?document.querySelector(fe):fe}function r(fe){var De=fe||{},Ge,vr,$e,Kt;fe={};var ie=[],he=[],Ae=typeof window>"u"?1:window.devicePixelRatio,Ee=!1,Fe={},Re=function(We){},Ce=function(){};if(typeof De=="string"?Ge=document.querySelector(De):typeof De=="object"&&(typeof De.nodeName=="string"&&typeof De.appendChild=="function"&&typeof De.getBoundingClientRect=="function"?Ge=De:typeof De.drawArrays=="function"||typeof De.drawElements=="function"?(Kt=De,$e=Kt.canvas):("gl"in De?Kt=De.gl:"canvas"in De?$e=d(De.canvas):"container"in De&&(vr=d(De.container)),"attributes"in De&&(fe=De.attributes),"extensions"in De&&(ie=v(De.extensions)),"optionalExtensions"in De&&(he=v(De.optionalExtensions)),"onDone"in De&&(Re=De.onDone),"profile"in De&&(Ee=!!De.profile),"pixelRatio"in De&&(Ae=+De.pixelRatio),"cachedCode"in De&&(Fe=De.cachedCode))),Ge&&(Ge.nodeName.toLowerCase()==="canvas"?$e=Ge:vr=Ge),!Kt){if(!$e){if(Ge=L(vr||document.body,Re,Ae),!Ge)return null;$e=Ge.canvas,Ce=Ge.onDestroy}fe.premultipliedAlpha===void 0&&(fe.premultipliedAlpha=!0),Kt=T($e,fe)}return Kt?{gl:Kt,canvas:$e,container:vr,extensions:ie,optionalExtensions:he,pixelRatio:Ae,profile:Ee,cachedCode:Fe,onDone:Re,onDestroy:Ce}:(Ce(),Re("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function e(fe,De){function Ge(ie){ie=ie.toLowerCase();var he;try{he=vr[ie]=fe.getExtension(ie)}catch{}return!!he}for(var vr={},$e=0;$e<De.extensions.length;++$e){var Kt=De.extensions[$e];if(!Ge(Kt))return De.onDestroy(),De.onDone('"'+Kt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return De.optionalExtensions.forEach(Ge),{extensions:vr,restore:function(){Object.keys(vr).forEach(function(ie){if(vr[ie]&&!Ge(ie))throw Error("(regl): error restoring extension "+ie)})}}}function l(fe,De){for(var Ge=Array(fe),vr=0;vr<fe;++vr)Ge[vr]=De(vr);return Ge}function n(fe){var De,Ge;return De=(65535<fe)<<4,fe>>>=De,Ge=(255<fe)<<3,fe>>>=Ge,De|=Ge,Ge=(15<fe)<<2,fe>>>=Ge,De|=Ge,Ge=(3<fe)<<1,De|Ge|fe>>>Ge>>1}function s(){function fe(vr){t:{for(var $e=16;268435456>=$e;$e*=16)if(vr<=$e){vr=$e;break t}vr=0}return $e=Ge[n(vr)>>2],0<$e.length?$e.pop():new ArrayBuffer(vr)}function De(vr){Ge[n(vr.byteLength)>>2].push(vr)}var Ge=l(8,function(){return[]});return{alloc:fe,free:De,allocType:function(vr,$e){var Kt=null;switch(vr){case 5120:Kt=new Int8Array(fe($e),0,$e);break;case 5121:Kt=new Uint8Array(fe($e),0,$e);break;case 5122:Kt=new Int16Array(fe(2*$e),0,$e);break;case 5123:Kt=new Uint16Array(fe(2*$e),0,$e);break;case 5124:Kt=new Int32Array(fe(4*$e),0,$e);break;case 5125:Kt=new Uint32Array(fe(4*$e),0,$e);break;case 5126:Kt=new Float32Array(fe(4*$e),0,$e);break;default:return null}return Kt.length!==$e?Kt.subarray(0,$e):Kt},freeType:function(vr){De(vr.buffer)}}}function o(fe){return!!fe&&typeof fe=="object"&&Array.isArray(fe.shape)&&Array.isArray(fe.stride)&&typeof fe.offset=="number"&&fe.shape.length===fe.stride.length&&(Array.isArray(fe.data)||mt(fe.data))}function f(fe,De,Ge,vr,$e,Kt){for(var ie=0;ie<De;++ie)for(var he=fe[ie],Ae=0;Ae<Ge;++Ae)for(var Ee=he[Ae],Fe=0;Fe<vr;++Fe)$e[Kt++]=Ee[Fe]}function b(fe,De,Ge,vr,$e){for(var Kt=1,ie=Ge+1;ie<De.length;++ie)Kt*=De[ie];var he=De[Ge];if(De.length-Ge===4){var Ae=De[Ge+1],Ee=De[Ge+2];for(De=De[Ge+3],ie=0;ie<he;++ie)f(fe[ie],Ae,Ee,De,vr,$e),$e+=Kt}else for(ie=0;ie<he;++ie)b(fe[ie],De,Ge+1,vr,$e),$e+=Kt}function h(fe){return Ot[Object.prototype.toString.call(fe)]|0}function _(fe,De){for(var Ge=0;Ge<De.length;++Ge)fe[Ge]=De[Ge]}function a(fe,De,Ge,vr,$e,Kt,ie){for(var he=0,Ae=0;Ae<Ge;++Ae)for(var Ee=0;Ee<vr;++Ee)fe[he++]=De[$e*Ae+Kt*Ee+ie]}function c(fe,De,Ge,vr){function $e(Re){this.id=Ae++,this.buffer=fe.createBuffer(),this.type=Re,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Ge.profile&&(this.stats={size:0})}function Kt(Re,Ce,We){Re.byteLength=Ce.byteLength,fe.bufferData(Re.type,Ce,We)}function ie(Re,Ce,We,er,Ue,ar){if(Re.usage=We,Array.isArray(Ce)){if(Re.dtype=er||5126,0<Ce.length)if(Array.isArray(Ce[0])){Ue=ne(Ce);for(var It=er=1;It<Ue.length;++It)er*=Ue[It];Re.dimension=er,Ce=Nt(Ce,Ue,Re.dtype),Kt(Re,Ce,We),ar?Re.persistentData=Ce:Lt.freeType(Ce)}else typeof Ce[0]=="number"?(Re.dimension=Ue,Ue=Lt.allocType(Re.dtype,Ce.length),_(Ue,Ce),Kt(Re,Ue,We),ar?Re.persistentData=Ue:Lt.freeType(Ue)):mt(Ce[0])&&(Re.dimension=Ce[0].length,Re.dtype=er||h(Ce[0])||5126,Ce=Nt(Ce,[Ce.length,Ce[0].length],Re.dtype),Kt(Re,Ce,We),ar?Re.persistentData=Ce:Lt.freeType(Ce))}else if(mt(Ce))Re.dtype=er||h(Ce),Re.dimension=Ue,Kt(Re,Ce,We),ar&&(Re.persistentData=new Uint8Array(new Uint8Array(Ce.buffer)));else if(o(Ce)){Ue=Ce.shape;var Ut=Ce.stride,It=Ce.offset,Me=0,ke=0,qe=0,Ke=0;Ue.length===1?(Me=Ue[0],ke=1,qe=Ut[0],Ke=0):Ue.length===2&&(Me=Ue[0],ke=Ue[1],qe=Ut[0],Ke=Ut[1]),Re.dtype=er||h(Ce.data)||5126,Re.dimension=ke,Ue=Lt.allocType(Re.dtype,Me*ke),a(Ue,Ce.data,Me,ke,qe,Ke,It),Kt(Re,Ue,We),ar?Re.persistentData=Ue:Lt.freeType(Ue)}else Ce instanceof ArrayBuffer&&(Re.dtype=5121,Re.dimension=Ue,Kt(Re,Ce,We),ar&&(Re.persistentData=new Uint8Array(new Uint8Array(Ce))))}function he(Re){De.bufferCount--,vr(Re),fe.deleteBuffer(Re.buffer),Re.buffer=null,delete Ee[Re.id]}var Ae=0,Ee={};$e.prototype.bind=function(){fe.bindBuffer(this.type,this.buffer)},$e.prototype.destroy=function(){he(this)};var Fe=[];return Ge.profile&&(De.getTotalBufferSize=function(){var Re=0;return Object.keys(Ee).forEach(function(Ce){Re+=Ee[Ce].stats.size}),Re}),{create:function(Re,Ce,We,er){function Ue(It){var Ut=35044,Me=null,ke=0,qe=0,Ke=1;return Array.isArray(It)||mt(It)||o(It)||It instanceof ArrayBuffer?Me=It:typeof It=="number"?ke=It|0:It&&("data"in It&&(Me=It.data),"usage"in It&&(Ut=Et[It.usage]),"type"in It&&(qe=Pt[It.type]),"dimension"in It&&(Ke=It.dimension|0),"length"in It&&(ke=It.length|0)),ar.bind(),Me?ie(ar,Me,Ut,qe,Ke,er):(ke&&fe.bufferData(ar.type,ke,Ut),ar.dtype=qe||5121,ar.usage=Ut,ar.dimension=Ke,ar.byteLength=ke),Ge.profile&&(ar.stats.size=ar.byteLength*Gt[ar.dtype]),Ue}De.bufferCount++;var ar=new $e(Ce);return Ee[ar.id]=ar,We||Ue(Re),Ue._reglType="buffer",Ue._buffer=ar,Ue.subdata=function(It,Ut){var Me=(Ut||0)|0,ke;if(ar.bind(),mt(It)||It instanceof ArrayBuffer)fe.bufferSubData(ar.type,Me,It);else if(Array.isArray(It)){if(0<It.length)if(typeof It[0]=="number"){var qe=Lt.allocType(ar.dtype,It.length);_(qe,It),fe.bufferSubData(ar.type,Me,qe),Lt.freeType(qe)}else(Array.isArray(It[0])||mt(It[0]))&&(ke=ne(It),qe=Nt(It,ke,ar.dtype),fe.bufferSubData(ar.type,Me,qe),Lt.freeType(qe))}else if(o(It)){ke=It.shape;var Ke=It.stride,Je=qe=0,Ve=0,Pe=0;ke.length===1?(qe=ke[0],Je=1,Ve=Ke[0],Pe=0):ke.length===2&&(qe=ke[0],Je=ke[1],Ve=Ke[0],Pe=Ke[1]),ke=Array.isArray(It.data)?ar.dtype:h(It.data),ke=Lt.allocType(ke,qe*Je),a(ke,It.data,qe,Je,Ve,Pe,It.offset),fe.bufferSubData(ar.type,Me,ke),Lt.freeType(ke)}return Ue},Ge.profile&&(Ue.stats=ar.stats),Ue.destroy=function(){he(ar)},Ue},createStream:function(Re,Ce){var We=Fe.pop();return We||(We=new $e(Re)),We.bind(),ie(We,Ce,35040,0,1,!1),We},destroyStream:function(Re){Fe.push(Re)},clear:function(){vt(Ee).forEach(he),Fe.forEach(he)},getBuffer:function(Re){return Re&&Re._buffer instanceof $e?Re._buffer:null},restore:function(){vt(Ee).forEach(function(Re){Re.buffer=fe.createBuffer(),fe.bindBuffer(Re.type,Re.buffer),fe.bufferData(Re.type,Re.persistentData||Re.byteLength,Re.usage)})},_initBuffer:ie}}function p(fe,De,Ge,vr){function $e(Re){this.id=Ae++,he[this.id]=this,this.buffer=Re,this.primType=4,this.type=this.vertCount=0}function Kt(Re,Ce,We,er,Ue,ar,It){Re.buffer.bind();var Ut;if(Ce?((Ut=It)||mt(Ce)&&(!o(Ce)||mt(Ce.data))||(Ut=De.oes_element_index_uint?5125:5123),Ge._initBuffer(Re.buffer,Ce,We,Ut,3)):(fe.bufferData(34963,ar,We),Re.buffer.dtype=Ut||5121,Re.buffer.usage=We,Re.buffer.dimension=3,Re.buffer.byteLength=ar),Ut=It,!It){switch(Re.buffer.dtype){case 5121:case 5120:Ut=5121;break;case 5123:case 5122:Ut=5123;break;case 5125:case 5124:Ut=5125}Re.buffer.dtype=Ut}Re.type=Ut,Ce=Ue,0>Ce&&(Ce=Re.buffer.byteLength,Ut===5123?Ce>>=1:Ut===5125&&(Ce>>=2)),Re.vertCount=Ce,Ce=er,0>er&&(Ce=4,er=Re.buffer.dimension,er===1&&(Ce=0),er===2&&(Ce=1),er===3&&(Ce=4)),Re.primType=Ce}function ie(Re){vr.elementsCount--,delete he[Re.id],Re.buffer.destroy(),Re.buffer=null}var he={},Ae=0,Ee={uint8:5121,uint16:5123};De.oes_element_index_uint&&(Ee.uint32=5125),$e.prototype.bind=function(){this.buffer.bind()};var Fe=[];return{create:function(Re,Ce){function We(ar){if(ar)if(typeof ar=="number")er(ar),Ue.primType=4,Ue.vertCount=ar|0,Ue.type=5121;else{var It=null,Ut=35044,Me=-1,ke=-1,qe=0,Ke=0;Array.isArray(ar)||mt(ar)||o(ar)?It=ar:("data"in ar&&(It=ar.data),"usage"in ar&&(Ut=Et[ar.usage]),"primitive"in ar&&(Me=pe[ar.primitive]),"count"in ar&&(ke=ar.count|0),"type"in ar&&(Ke=Ee[ar.type]),"length"in ar?qe=ar.length|0:(qe=ke,Ke===5123||Ke===5122?qe*=2:(Ke===5125||Ke===5124)&&(qe*=4))),Kt(Ue,It,Ut,Me,ke,qe,Ke)}else er(),Ue.primType=4,Ue.vertCount=0,Ue.type=5121;return We}var er=Ge.create(null,34963,!0),Ue=new $e(er._buffer);return vr.elementsCount++,We(Re),We._reglType="elements",We._elements=Ue,We.subdata=function(ar,It){return er.subdata(ar,It),We},We.destroy=function(){ie(Ue)},We},createStream:function(Re){var Ce=Fe.pop();return Ce||(Ce=new $e(Ge.create(null,34963,!0,!1)._buffer)),Kt(Ce,Re,35040,-1,-1,0,0),Ce},destroyStream:function(Re){Fe.push(Re)},getElements:function(Re){return typeof Re=="function"&&Re._elements instanceof $e?Re._elements:null},clear:function(){vt(he).forEach(ie)}}}function x(fe){for(var De=Lt.allocType(5123,fe.length),Ge=0;Ge<fe.length;++Ge)if(isNaN(fe[Ge]))De[Ge]=65535;else if(fe[Ge]===1/0)De[Ge]=31744;else if(fe[Ge]===-1/0)De[Ge]=64512;else{Vt[0]=fe[Ge];var Kt=ae[0],vr=Kt>>>31<<15,$e=(Kt<<1>>>24)-127,Kt=Kt>>13&1023;De[Ge]=-24>$e?vr:-14>$e?vr+(Kt+1024>>-14-$e):15<$e?vr+31744:vr+($e+15<<10)+Kt}return De}function k(fe){return Array.isArray(fe)||mt(fe)}function y(fe){return"[object "+fe+"]"}function A(fe){return Array.isArray(fe)&&(fe.length===0||typeof fe[0]=="number")}function C(fe){return!!(Array.isArray(fe)&&fe.length!==0&&k(fe[0]))}function u(fe){return Object.prototype.toString.call(fe)}function m(fe){if(!fe)return!1;var De=u(fe);return 0<=Mt.indexOf(De)?!0:A(fe)||C(fe)||o(fe)}function M(fe,De){fe.type===36193?(fe.data=x(De),Lt.freeType(De)):fe.data=De}function w(fe,De,Ge,vr,$e,Kt){if(fe=typeof Dt[fe]<"u"?Dt[fe]:le[fe]*St[De],Kt&&(fe*=6),$e){for(vr=0;1<=Ge;)vr+=fe*Ge*Ge,Ge/=2;return vr}return fe*Ge*vr}function z(fe,De,Ge,vr,$e,Kt,ie){function he(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ae(ur,qr){ur.internalformat=qr.internalformat,ur.format=qr.format,ur.type=qr.type,ur.compressed=qr.compressed,ur.premultiplyAlpha=qr.premultiplyAlpha,ur.flipY=qr.flipY,ur.unpackAlignment=qr.unpackAlignment,ur.colorSpace=qr.colorSpace,ur.width=qr.width,ur.height=qr.height,ur.channels=qr.channels}function Ee(ur,qr){if(typeof qr=="object"&&qr){"premultiplyAlpha"in qr&&(ur.premultiplyAlpha=qr.premultiplyAlpha),"flipY"in qr&&(ur.flipY=qr.flipY),"alignment"in qr&&(ur.unpackAlignment=qr.alignment),"colorSpace"in qr&&(ur.colorSpace=$r[qr.colorSpace]),"type"in qr&&(ur.type=Gr[qr.type]);var Ur=ur.width,nn=ur.height,En=ur.channels,sn=!1;"shape"in qr?(Ur=qr.shape[0],nn=qr.shape[1],qr.shape.length===3&&(En=qr.shape[2],sn=!0)):("radius"in qr&&(Ur=nn=qr.radius),"width"in qr&&(Ur=qr.width),"height"in qr&&(nn=qr.height),"channels"in qr&&(En=qr.channels,sn=!0)),ur.width=Ur|0,ur.height=nn|0,ur.channels=En|0,Ur=!1,"format"in qr&&(Ur=qr.format,nn=ur.internalformat=vn[Ur],ur.format=Mn[nn],Ur in Gr&&!("type"in qr)&&(ur.type=Gr[Ur]),Ur in yn&&(ur.compressed=!0),Ur=!0),!sn&&Ur?ur.channels=le[ur.format]:sn&&!Ur&&ur.channels!==ce[ur.format]&&(ur.format=ur.internalformat=ce[ur.channels])}}function Fe(ur){fe.pixelStorei(37440,ur.flipY),fe.pixelStorei(37441,ur.premultiplyAlpha),fe.pixelStorei(37443,ur.colorSpace),fe.pixelStorei(3317,ur.unpackAlignment)}function Re(){he.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ce(ur,qr){var Ur=null;if(m(qr)?Ur=qr:qr&&(Ee(ur,qr),"x"in qr&&(ur.xOffset=qr.x|0),"y"in qr&&(ur.yOffset=qr.y|0),m(qr.data)&&(Ur=qr.data)),qr.copy){var nn=$e.viewportWidth,En=$e.viewportHeight;ur.width=ur.width||nn-ur.xOffset,ur.height=ur.height||En-ur.yOffset,ur.needsCopy=!0}else if(!Ur)ur.width=ur.width||1,ur.height=ur.height||1,ur.channels=ur.channels||4;else if(mt(Ur))ur.channels=ur.channels||4,ur.data=Ur,"type"in qr||ur.type!==5121||(ur.type=Ot[Object.prototype.toString.call(Ur)]|0);else if(A(Ur)){switch(ur.channels=ur.channels||4,nn=Ur,En=nn.length,ur.type){case 5121:case 5123:case 5125:case 5126:En=Lt.allocType(ur.type,En),En.set(nn),ur.data=En;break;case 36193:ur.data=x(nn)}ur.alignment=1,ur.needsFree=!0}else if(o(Ur)){nn=Ur.data,Array.isArray(nn)||ur.type!==5121||(ur.type=Ot[Object.prototype.toString.call(nn)]|0);var En=Ur.shape,sn=Ur.stride,An,Ln,qn,ii;En.length===3?(qn=En[2],ii=sn[2]):ii=qn=1,An=En[0],Ln=En[1],En=sn[0],sn=sn[1],ur.alignment=1,ur.width=An,ur.height=Ln,ur.channels=qn,ur.format=ur.internalformat=ce[qn],ur.needsFree=!0,An=ii,Ur=Ur.offset,qn=ur.width,ii=ur.height,Ln=ur.channels;for(var Li=Lt.allocType(ur.type===36193?5126:ur.type,qn*ii*Ln),dr=0,Sr=0;Sr<ii;++Sr)for(var gr=0;gr<qn;++gr)for(var Pr=0;Pr<Ln;++Pr)Li[dr++]=nn[En*gr+sn*Sr+An*Pr+Ur];M(ur,Li)}else if(u(Ur)===ye||u(Ur)===Tt||u(Ur)===Ft)u(Ur)===ye||u(Ur)===Tt?ur.element=Ur:ur.element=Ur.canvas,ur.width=ur.element.width,ur.height=ur.element.height,ur.channels=4;else if(u(Ur)===$t)ur.element=Ur,ur.width=Ur.width,ur.height=Ur.height,ur.channels=4;else if(u(Ur)===Wt)ur.element=Ur,ur.width=Ur.naturalWidth,ur.height=Ur.naturalHeight,ur.channels=4;else if(u(Ur)===Bt)ur.element=Ur,ur.width=Ur.videoWidth,ur.height=Ur.videoHeight,ur.channels=4;else if(C(Ur)){for(nn=ur.width||Ur[0].length,En=ur.height||Ur.length,sn=ur.channels,sn=k(Ur[0][0])?sn||Ur[0][0].length:sn||1,An=At.shape(Ur),qn=1,ii=0;ii<An.length;++ii)qn*=An[ii];qn=Lt.allocType(ur.type===36193?5126:ur.type,qn),At.flatten(Ur,An,"",qn),M(ur,qn),ur.alignment=1,ur.width=nn,ur.height=En,ur.channels=sn,ur.format=ur.internalformat=ce[sn],ur.needsFree=!0}}function We(ur,qr,Ur,nn,En){var sn=ur.element,An=ur.data,Ln=ur.internalformat,qn=ur.format,ii=ur.type,Li=ur.width,dr=ur.height;Fe(ur),sn?fe.texSubImage2D(qr,En,Ur,nn,qn,ii,sn):ur.compressed?fe.compressedTexSubImage2D(qr,En,Ur,nn,Ln,Li,dr,An):ur.needsCopy?(vr(),fe.copyTexSubImage2D(qr,En,Ur,nn,ur.xOffset,ur.yOffset,Li,dr)):fe.texSubImage2D(qr,En,Ur,nn,Li,dr,qn,ii,An)}function er(){return Pn.pop()||new Re}function Ue(ur){ur.needsFree&&Lt.freeType(ur.data),Re.call(ur),Pn.push(ur)}function ar(){he.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function It(ur,qr,Ur){var nn=ur.images[0]=er();ur.mipmask=1,nn.width=ur.width=qr,nn.height=ur.height=Ur,nn.channels=ur.channels=4}function Ut(ur,qr){var Ur=null;if(m(qr))Ur=ur.images[0]=er(),Ae(Ur,ur),Ce(Ur,qr),ur.mipmask=1;else if(Ee(ur,qr),Array.isArray(qr.mipmap))for(var nn=qr.mipmap,En=0;En<nn.length;++En)Ur=ur.images[En]=er(),Ae(Ur,ur),Ur.width>>=En,Ur.height>>=En,Ce(Ur,nn[En]),ur.mipmask|=1<<En;else Ur=ur.images[0]=er(),Ae(Ur,ur),Ce(Ur,qr),ur.mipmask=1;Ae(ur,ur.images[0])}function Me(ur,qr){for(var Ur=ur.images,nn=0;nn<Ur.length&&Ur[nn];++nn){var En=Ur[nn],sn=qr,An=nn,Ln=En.element,qn=En.data,ii=En.internalformat,Li=En.format,dr=En.type,Sr=En.width,gr=En.height;Fe(En),Ln?fe.texImage2D(sn,An,Li,Li,dr,Ln):En.compressed?fe.compressedTexImage2D(sn,An,ii,Sr,gr,0,qn):En.needsCopy?(vr(),fe.copyTexImage2D(sn,An,Li,En.xOffset,En.yOffset,Sr,gr,0)):fe.texImage2D(sn,An,Li,Sr,gr,0,Li,dr,qn||null)}}function ke(){var ur=Kn.pop()||new ar;he.call(ur);for(var qr=ur.mipmask=0;16>qr;++qr)ur.images[qr]=null;return ur}function qe(ur){for(var qr=ur.images,Ur=0;Ur<qr.length;++Ur)qr[Ur]&&Ue(qr[Ur]),qr[Ur]=null;Kn.push(ur)}function Ke(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Je(ur,qr){"min"in qr&&(ur.minFilter=Mr[qr.min],0<=oe.indexOf(ur.minFilter)&&!("faces"in qr)&&(ur.genMipmaps=!0)),"mag"in qr&&(ur.magFilter=kr[qr.mag]);var Ur=ur.wrapS,nn=ur.wrapT;if("wrap"in qr){var En=qr.wrap;typeof En=="string"?Ur=nn=Er[En]:Array.isArray(En)&&(Ur=Er[En[0]],nn=Er[En[1]])}else"wrapS"in qr&&(Ur=Er[qr.wrapS]),"wrapT"in qr&&(nn=Er[qr.wrapT]);if(ur.wrapS=Ur,ur.wrapT=nn,"anisotropic"in qr&&(ur.anisotropic=qr.anisotropic),"mipmap"in qr){switch(Ur=!1,typeof qr.mipmap){case"string":ur.mipmapHint=ir[qr.mipmap],Ur=ur.genMipmaps=!0;break;case"boolean":Ur=ur.genMipmaps=qr.mipmap;break;case"object":ur.genMipmaps=!1,Ur=!0}!Ur||"min"in qr||(ur.minFilter=9984)}}function Ve(ur,qr){fe.texParameteri(qr,10241,ur.minFilter),fe.texParameteri(qr,10240,ur.magFilter),fe.texParameteri(qr,10242,ur.wrapS),fe.texParameteri(qr,10243,ur.wrapT),De.ext_texture_filter_anisotropic&&fe.texParameteri(qr,34046,ur.anisotropic),ur.genMipmaps&&(fe.hint(33170,ur.mipmapHint),fe.generateMipmap(qr))}function Pe(ur){he.call(this),this.mipmask=0,this.internalformat=6408,this.id=ai++,this.refCount=1,this.target=ur,this.texture=fe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ke,ie.profile&&(this.stats={size:0})}function rr(ur){fe.activeTexture(33984),fe.bindTexture(ur.target,ur.texture)}function lr(){var ur=Cn[0];ur?fe.bindTexture(ur.target,ur.texture):fe.bindTexture(3553,null)}function cr(ur){var qr=ur.texture,Ur=ur.unit,nn=ur.target;0<=Ur&&(fe.activeTexture(33984+Ur),fe.bindTexture(nn,null),Cn[Ur]=null),fe.deleteTexture(qr),ur.texture=null,ur.params=null,ur.pixels=null,ur.refCount=0,delete ui[ur.id],Kt.textureCount--}var ir={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Er={repeat:10497,clamp:33071,mirror:33648},kr={nearest:9728,linear:9729},Mr=Q({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kr),$r={none:0,browser:37444},Gr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},vn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},yn={};De.ext_srgb&&(vn.srgb=35904,vn.srgba=35906),De.oes_texture_float&&(Gr.float32=Gr.float=5126),De.oes_texture_half_float&&(Gr.float16=Gr["half float"]=36193),De.webgl_depth_texture&&(Q(vn,{depth:6402,"depth stencil":34041}),Q(Gr,{uint16:5123,uint32:5125,"depth stencil":34042})),De.webgl_compressed_texture_s3tc&&Q(yn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),De.webgl_compressed_texture_atc&&Q(yn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),De.webgl_compressed_texture_pvrtc&&Q(yn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),De.webgl_compressed_texture_etc1&&(yn["rgb etc1"]=36196);var hr=Array.prototype.slice.call(fe.getParameter(34467));Object.keys(yn).forEach(function(ur){var qr=yn[ur];0<=hr.indexOf(qr)&&(vn[ur]=qr)});var Lr=Object.keys(vn);Ge.textureFormats=Lr;var Ir=[];Object.keys(vn).forEach(function(ur){Ir[vn[ur]]=ur});var Rr=[];Object.keys(Gr).forEach(function(ur){Rr[Gr[ur]]=ur});var on=[];Object.keys(kr).forEach(function(ur){on[kr[ur]]=ur});var an=[];Object.keys(Mr).forEach(function(ur){an[Mr[ur]]=ur});var gn=[];Object.keys(Er).forEach(function(ur){gn[Er[ur]]=ur});var Mn=Lr.reduce(function(ur,qr){var Ur=vn[qr];return Ur===6409||Ur===6406||Ur===6409||Ur===6410||Ur===6402||Ur===34041||De.ext_srgb&&(Ur===35904||Ur===35906)?ur[Ur]=Ur:Ur===32855||0<=qr.indexOf("rgba")?ur[Ur]=6408:ur[Ur]=6407,ur},{}),Pn=[],Kn=[],ai=0,ui={},ni=Ge.maxTextureUnits,Cn=Array(ni).map(function(){return null});return Q(Pe.prototype,{bind:function(){this.bindCount+=1;var ur=this.unit;if(0>ur){for(var qr=0;qr<ni;++qr){var Ur=Cn[qr];if(Ur){if(0<Ur.bindCount)continue;Ur.unit=-1}Cn[qr]=this,ur=qr;break}ie.profile&&Kt.maxTextureUnits<ur+1&&(Kt.maxTextureUnits=ur+1),this.unit=ur,fe.activeTexture(33984+ur),fe.bindTexture(this.target,this.texture)}return ur},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&cr(this)}}),ie.profile&&(Kt.getTotalTextureSize=function(){var ur=0;return Object.keys(ui).forEach(function(qr){ur+=ui[qr].stats.size}),ur}),{create2D:function(ur,qr){function Ur(En,sn){var An=nn.texInfo;Ke.call(An);var Ln=ke();return typeof En=="number"?typeof sn=="number"?It(Ln,En|0,sn|0):It(Ln,En|0,En|0):En?(Je(An,En),Ut(Ln,En)):It(Ln,1,1),An.genMipmaps&&(Ln.mipmask=(Ln.width<<1)-1),nn.mipmask=Ln.mipmask,Ae(nn,Ln),nn.internalformat=Ln.internalformat,Ur.width=Ln.width,Ur.height=Ln.height,rr(nn),Me(Ln,3553),Ve(An,3553),lr(),qe(Ln),ie.profile&&(nn.stats.size=w(nn.internalformat,nn.type,Ln.width,Ln.height,An.genMipmaps,!1)),Ur.format=Ir[nn.internalformat],Ur.type=Rr[nn.type],Ur.mag=on[An.magFilter],Ur.min=an[An.minFilter],Ur.wrapS=gn[An.wrapS],Ur.wrapT=gn[An.wrapT],Ur}var nn=new Pe(3553);return ui[nn.id]=nn,Kt.textureCount++,Ur(ur,qr),Ur.subimage=function(En,sn,An,Ln){sn|=0,An|=0,Ln|=0;var qn=er();return Ae(qn,nn),qn.width=0,qn.height=0,Ce(qn,En),qn.width=qn.width||(nn.width>>Ln)-sn,qn.height=qn.height||(nn.height>>Ln)-An,rr(nn),We(qn,3553,sn,An,Ln),lr(),Ue(qn),Ur},Ur.resize=function(En,sn){var An=En|0,Ln=sn|0||An;if(An===nn.width&&Ln===nn.height)return Ur;Ur.width=nn.width=An,Ur.height=nn.height=Ln,rr(nn);for(var qn=0;nn.mipmask>>qn;++qn){var ii=An>>qn,Li=Ln>>qn;if(!ii||!Li)break;fe.texImage2D(3553,qn,nn.format,ii,Li,0,nn.format,nn.type,null)}return lr(),ie.profile&&(nn.stats.size=w(nn.internalformat,nn.type,An,Ln,!1,!1)),Ur},Ur._reglType="texture2d",Ur._texture=nn,ie.profile&&(Ur.stats=nn.stats),Ur.destroy=function(){nn.decRef()},Ur},createCube:function(ur,qr,Ur,nn,En,sn){function An(ii,Li,dr,Sr,gr,Pr){var fn,wn=Ln.texInfo;for(Ke.call(wn),fn=0;6>fn;++fn)qn[fn]=ke();if(typeof ii=="number"||!ii)for(ii=ii|0||1,fn=0;6>fn;++fn)It(qn[fn],ii,ii);else if(typeof ii=="object")if(Li)Ut(qn[0],ii),Ut(qn[1],Li),Ut(qn[2],dr),Ut(qn[3],Sr),Ut(qn[4],gr),Ut(qn[5],Pr);else if(Je(wn,ii),Ee(Ln,ii),"faces"in ii)for(ii=ii.faces,fn=0;6>fn;++fn)Ae(qn[fn],Ln),Ut(qn[fn],ii[fn]);else for(fn=0;6>fn;++fn)Ut(qn[fn],ii);for(Ae(Ln,qn[0]),Ln.mipmask=wn.genMipmaps?(qn[0].width<<1)-1:qn[0].mipmask,Ln.internalformat=qn[0].internalformat,An.width=qn[0].width,An.height=qn[0].height,rr(Ln),fn=0;6>fn;++fn)Me(qn[fn],34069+fn);for(Ve(wn,34067),lr(),ie.profile&&(Ln.stats.size=w(Ln.internalformat,Ln.type,An.width,An.height,wn.genMipmaps,!0)),An.format=Ir[Ln.internalformat],An.type=Rr[Ln.type],An.mag=on[wn.magFilter],An.min=an[wn.minFilter],An.wrapS=gn[wn.wrapS],An.wrapT=gn[wn.wrapT],fn=0;6>fn;++fn)qe(qn[fn]);return An}var Ln=new Pe(34067);ui[Ln.id]=Ln,Kt.cubeCount++;var qn=Array(6);return An(ur,qr,Ur,nn,En,sn),An.subimage=function(ii,Li,dr,Sr,gr){dr|=0,Sr|=0,gr|=0;var Pr=er();return Ae(Pr,Ln),Pr.width=0,Pr.height=0,Ce(Pr,Li),Pr.width=Pr.width||(Ln.width>>gr)-dr,Pr.height=Pr.height||(Ln.height>>gr)-Sr,rr(Ln),We(Pr,34069+ii,dr,Sr,gr),lr(),Ue(Pr),An},An.resize=function(ii){if(ii|=0,ii!==Ln.width){An.width=Ln.width=ii,An.height=Ln.height=ii,rr(Ln);for(var Li=0;6>Li;++Li)for(var dr=0;Ln.mipmask>>dr;++dr)fe.texImage2D(34069+Li,dr,Ln.format,ii>>dr,ii>>dr,0,Ln.format,Ln.type,null);return lr(),ie.profile&&(Ln.stats.size=w(Ln.internalformat,Ln.type,An.width,An.height,!1,!0)),An}},An._reglType="textureCube",An._texture=Ln,ie.profile&&(An.stats=Ln.stats),An.destroy=function(){Ln.decRef()},An},clear:function(){for(var ur=0;ur<ni;++ur)fe.activeTexture(33984+ur),fe.bindTexture(3553,null),Cn[ur]=null;vt(ui).forEach(cr),Kt.cubeCount=0,Kt.textureCount=0},getTexture:function(ur){return null},restore:function(){for(var ur=0;ur<ni;++ur){var qr=Cn[ur];qr&&(qr.bindCount=0,qr.unit=-1,Cn[ur]=null)}vt(ui).forEach(function(Ur){Ur.texture=fe.createTexture(),fe.bindTexture(Ur.target,Ur.texture);for(var nn=0;32>nn;++nn)if(Ur.mipmask&1<<nn)if(Ur.target===3553)fe.texImage2D(3553,nn,Ur.internalformat,Ur.width>>nn,Ur.height>>nn,0,Ur.internalformat,Ur.type,null);else for(var En=0;6>En;++En)fe.texImage2D(34069+En,nn,Ur.internalformat,Ur.width>>nn,Ur.height>>nn,0,Ur.internalformat,Ur.type,null);Ve(Ur.texInfo,Ur.target)})},refresh:function(){for(var ur=0;ur<ni;++ur){var qr=Cn[ur];qr&&(qr.bindCount=0,qr.unit=-1,Cn[ur]=null),fe.activeTexture(33984+ur),fe.bindTexture(3553,null),fe.bindTexture(34067,null)}}}}function O(fe,De,Ge,vr,$e,Kt){function ie(Pe,rr,lr){this.target=Pe,this.texture=rr,this.renderbuffer=lr;var cr=Pe=0;rr?(Pe=rr.width,cr=rr.height):lr&&(Pe=lr.width,cr=lr.height),this.width=Pe,this.height=cr}function he(Pe){Pe&&(Pe.texture&&Pe.texture._texture.decRef(),Pe.renderbuffer&&Pe.renderbuffer._renderbuffer.decRef())}function Ae(Pe,rr,lr){Pe&&(Pe.texture?Pe.texture._texture.refCount+=1:Pe.renderbuffer._renderbuffer.refCount+=1)}function Ee(Pe,rr){rr&&(rr.texture?fe.framebufferTexture2D(36160,Pe,rr.target,rr.texture._texture.texture,0):fe.framebufferRenderbuffer(36160,Pe,36161,rr.renderbuffer._renderbuffer.renderbuffer))}function Fe(Pe){var rr=3553,lr=null,cr=null,ir=Pe;return typeof Pe=="object"&&(ir=Pe.data,"target"in Pe&&(rr=Pe.target|0)),Pe=ir._reglType,Pe==="texture2d"||Pe==="textureCube"?lr=ir:Pe==="renderbuffer"&&(cr=ir,rr=36161),new ie(rr,lr,cr)}function Re(Pe,rr,lr,cr,ir){return lr?(Pe=vr.create2D({width:Pe,height:rr,format:cr,type:ir}),Pe._texture.refCount=0,new ie(3553,Pe,null)):(Pe=$e.create({width:Pe,height:rr,format:cr}),Pe._renderbuffer.refCount=0,new ie(36161,null,Pe))}function Ce(Pe){return Pe&&(Pe.texture||Pe.renderbuffer)}function We(Pe,rr,lr){Pe&&(Pe.texture?Pe.texture.resize(rr,lr):Pe.renderbuffer&&Pe.renderbuffer.resize(rr,lr),Pe.width=rr,Pe.height=lr)}function er(){this.id=Je++,Ve[this.id]=this,this.framebuffer=fe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Ue(Pe){Pe.colorAttachments.forEach(he),he(Pe.depthAttachment),he(Pe.stencilAttachment),he(Pe.depthStencilAttachment)}function ar(Pe){fe.deleteFramebuffer(Pe.framebuffer),Pe.framebuffer=null,Kt.framebufferCount--,delete Ve[Pe.id]}function It(Pe){var rr;fe.bindFramebuffer(36160,Pe.framebuffer);var lr=Pe.colorAttachments;for(rr=0;rr<lr.length;++rr)Ee(36064+rr,lr[rr]);for(rr=lr.length;rr<Ge.maxColorAttachments;++rr)fe.framebufferTexture2D(36160,36064+rr,3553,null,0);fe.framebufferTexture2D(36160,33306,3553,null,0),fe.framebufferTexture2D(36160,36096,3553,null,0),fe.framebufferTexture2D(36160,36128,3553,null,0),Ee(36096,Pe.depthAttachment),Ee(36128,Pe.stencilAttachment),Ee(33306,Pe.depthStencilAttachment),fe.checkFramebufferStatus(36160),fe.isContextLost(),fe.bindFramebuffer(36160,Me.next?Me.next.framebuffer:null),Me.cur=Me.next,fe.getError()}function Ut(Pe,rr){function lr(ir,Er){var kr,Mr=0,$r=0,Gr=!0,vn=!0;kr=null;var yn=!0,hr="rgba",Lr="uint8",Ir=1,Rr=null,on=null,an=null,gn=!1;typeof ir=="number"?(Mr=ir|0,$r=Er|0||Mr):ir?("shape"in ir?($r=ir.shape,Mr=$r[0],$r=$r[1]):("radius"in ir&&(Mr=$r=ir.radius),"width"in ir&&(Mr=ir.width),"height"in ir&&($r=ir.height)),("color"in ir||"colors"in ir)&&(kr=ir.color||ir.colors,Array.isArray(kr)),kr||("colorCount"in ir&&(Ir=ir.colorCount|0),"colorTexture"in ir&&(yn=!!ir.colorTexture,hr="rgba4"),"colorType"in ir&&(Lr=ir.colorType,!yn)&&(Lr==="half float"||Lr==="float16"?hr="rgba16f":(Lr==="float"||Lr==="float32")&&(hr="rgba32f")),"colorFormat"in ir&&(hr=ir.colorFormat,0<=ke.indexOf(hr)?yn=!0:0<=qe.indexOf(hr)&&(yn=!1))),("depthTexture"in ir||"depthStencilTexture"in ir)&&(gn=!(!ir.depthTexture&&!ir.depthStencilTexture)),"depth"in ir&&(typeof ir.depth=="boolean"?Gr=ir.depth:(Rr=ir.depth,vn=!1)),"stencil"in ir&&(typeof ir.stencil=="boolean"?vn=ir.stencil:(on=ir.stencil,Gr=!1)),"depthStencil"in ir&&(typeof ir.depthStencil=="boolean"?Gr=vn=ir.depthStencil:(an=ir.depthStencil,vn=Gr=!1))):Mr=$r=1;var Mn=null,Pn=null,Kn=null,ai=null;if(Array.isArray(kr))Mn=kr.map(Fe);else if(kr)Mn=[Fe(kr)];else for(Mn=Array(Ir),kr=0;kr<Ir;++kr)Mn[kr]=Re(Mr,$r,yn,hr,Lr);for(Mr=Mr||Mn[0].width,$r=$r||Mn[0].height,Rr?Pn=Fe(Rr):Gr&&!vn&&(Pn=Re(Mr,$r,gn,"depth","uint32")),on?Kn=Fe(on):vn&&!Gr&&(Kn=Re(Mr,$r,!1,"stencil","uint8")),an?ai=Fe(an):!Rr&&!on&&vn&&Gr&&(ai=Re(Mr,$r,gn,"depth stencil","depth stencil")),Gr=null,kr=0;kr<Mn.length;++kr)Ae(Mn[kr]),Mn[kr]&&Mn[kr].texture&&(vn=bt[Mn[kr].texture._texture.format]*zt[Mn[kr].texture._texture.type],Gr===null&&(Gr=vn));return Ae(Pn),Ae(Kn),Ae(ai),Ue(cr),cr.width=Mr,cr.height=$r,cr.colorAttachments=Mn,cr.depthAttachment=Pn,cr.stencilAttachment=Kn,cr.depthStencilAttachment=ai,lr.color=Mn.map(Ce),lr.depth=Ce(Pn),lr.stencil=Ce(Kn),lr.depthStencil=Ce(ai),lr.width=cr.width,lr.height=cr.height,It(cr),lr}var cr=new er;return Kt.framebufferCount++,lr(Pe,rr),Q(lr,{resize:function(ir,Er){var kr=Math.max(ir|0,1),Mr=Math.max(Er|0||kr,1);if(kr===cr.width&&Mr===cr.height)return lr;for(var $r=cr.colorAttachments,Gr=0;Gr<$r.length;++Gr)We($r[Gr],kr,Mr);return We(cr.depthAttachment,kr,Mr),We(cr.stencilAttachment,kr,Mr),We(cr.depthStencilAttachment,kr,Mr),cr.width=lr.width=kr,cr.height=lr.height=Mr,It(cr),lr},_reglType:"framebuffer",_framebuffer:cr,destroy:function(){ar(cr),Ue(cr)},use:function(ir){Me.setFBO({framebuffer:lr},ir)}})}var Me={cur:null,next:null,dirty:!1,setFBO:null},ke=["rgba"],qe=["rgba4","rgb565","rgb5 a1"];De.ext_srgb&&qe.push("srgba"),De.ext_color_buffer_half_float&&qe.push("rgba16f","rgb16f"),De.webgl_color_buffer_float&&qe.push("rgba32f");var Ke=["uint8"];De.oes_texture_half_float&&Ke.push("half float","float16"),De.oes_texture_float&&Ke.push("float","float32");var Je=0,Ve={};return Q(Me,{getFramebuffer:function(Pe){return typeof Pe=="function"&&Pe._reglType==="framebuffer"&&(Pe=Pe._framebuffer,Pe instanceof er)?Pe:null},create:Ut,createCube:function(Pe){function rr(cr){var ir,Er={color:null},kr=0,Mr=null;ir="rgba";var $r="uint8",Gr=1;if(typeof cr=="number"?kr=cr|0:cr?("shape"in cr?kr=cr.shape[0]:("radius"in cr&&(kr=cr.radius|0),"width"in cr?kr=cr.width|0:"height"in cr&&(kr=cr.height|0)),("color"in cr||"colors"in cr)&&(Mr=cr.color||cr.colors,Array.isArray(Mr)),Mr||("colorCount"in cr&&(Gr=cr.colorCount|0),"colorType"in cr&&($r=cr.colorType),"colorFormat"in cr&&(ir=cr.colorFormat)),"depth"in cr&&(Er.depth=cr.depth),"stencil"in cr&&(Er.stencil=cr.stencil),"depthStencil"in cr&&(Er.depthStencil=cr.depthStencil)):kr=1,Mr)if(Array.isArray(Mr))for(cr=[],ir=0;ir<Mr.length;++ir)cr[ir]=Mr[ir];else cr=[Mr];else for(cr=Array(Gr),Mr={radius:kr,format:ir,type:$r},ir=0;ir<Gr;++ir)cr[ir]=vr.createCube(Mr);for(Er.color=Array(cr.length),ir=0;ir<cr.length;++ir)Gr=cr[ir],kr=kr||Gr.width,Er.color[ir]={target:34069,data:cr[ir]};for(ir=0;6>ir;++ir){for(Gr=0;Gr<cr.length;++Gr)Er.color[Gr].target=34069+ir;0<ir&&(Er.depth=lr[0].depth,Er.stencil=lr[0].stencil,Er.depthStencil=lr[0].depthStencil),lr[ir]?lr[ir](Er):lr[ir]=Ut(Er)}return Q(rr,{width:kr,height:kr,color:cr})}var lr=Array(6);return rr(Pe),Q(rr,{faces:lr,resize:function(cr){var ir=cr|0;if(ir===rr.width)return rr;var Er=rr.color;for(cr=0;cr<Er.length;++cr)Er[cr].resize(ir);for(cr=0;6>cr;++cr)lr[cr].resize(ir);return rr.width=rr.height=ir,rr},_reglType:"framebufferCube",destroy:function(){lr.forEach(function(cr){cr.destroy()})}})},clear:function(){vt(Ve).forEach(ar)},restore:function(){Me.cur=null,Me.next=null,Me.dirty=!0,vt(Ve).forEach(function(Pe){Pe.framebuffer=fe.createFramebuffer(),It(Pe)})}})}function D(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function P(fe,De,Ge,vr,$e,Kt,ie){function he(It){if(It!==ar.currentVAO){var Ut=De.oes_vertex_array_object;It?Ut.bindVertexArrayOES(It.vao):Ut.bindVertexArrayOES(null),ar.currentVAO=It}}function Ae(It){if(It!==ar.currentVAO){if(It)It.bindAttrs();else{for(var Ut=De.angle_instanced_arrays,Me=0;Me<We.length;++Me){var ke=We[Me];ke.buffer?(fe.enableVertexAttribArray(Me),ke.buffer.bind(),fe.vertexAttribPointer(Me,ke.size,ke.type,ke.normalized,ke.stride,ke.offfset),Ut&&ke.divisor&&Ut.vertexAttribDivisorANGLE(Me,ke.divisor)):(fe.disableVertexAttribArray(Me),fe.vertexAttrib4f(Me,ke.x,ke.y,ke.z,ke.w))}ie.elements?fe.bindBuffer(34963,ie.elements.buffer.buffer):fe.bindBuffer(34963,null)}ar.currentVAO=It}}function Ee(){vt(Ue).forEach(function(It){It.destroy()})}function Fe(){this.id=++er,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var It=De.oes_vertex_array_object;this.vao=It?It.createVertexArrayOES():null,Ue[this.id]=this,this.buffers=[]}function Re(){De.oes_vertex_array_object&&vt(Ue).forEach(function(It){It.refresh()})}var Ce=Ge.maxAttributes,We=Array(Ce);for(Ge=0;Ge<Ce;++Ge)We[Ge]=new D;var er=0,Ue={},ar={Record:D,scope:{},state:We,currentVAO:null,targetVAO:null,restore:De.oes_vertex_array_object?Re:function(){},createVAO:function(It){function Ut(ke){var qe;Array.isArray(ke)?(qe=ke,Me.elements&&Me.ownsElements&&Me.elements.destroy(),Me.elements=null,Me.ownsElements=!1,Me.offset=0,Me.count=0,Me.instances=-1,Me.primitive=4):(ke.elements?(qe=ke.elements,Me.ownsElements?(typeof qe=="function"&&qe._reglType==="elements"?Me.elements.destroy():Me.elements(qe),Me.ownsElements=!1):Kt.getElements(ke.elements)?(Me.elements=ke.elements,Me.ownsElements=!1):(Me.elements=Kt.create(ke.elements),Me.ownsElements=!0)):(Me.elements=null,Me.ownsElements=!1),qe=ke.attributes,Me.offset=0,Me.count=-1,Me.instances=-1,Me.primitive=4,Me.elements&&(Me.count=Me.elements._elements.vertCount,Me.primitive=Me.elements._elements.primType),"offset"in ke&&(Me.offset=ke.offset|0),"count"in ke&&(Me.count=ke.count|0),"instances"in ke&&(Me.instances=ke.instances|0),"primitive"in ke&&(Me.primitive=pe[ke.primitive])),ke={};var Ke=Me.attributes;Ke.length=qe.length;for(var Je=0;Je<qe.length;++Je){var Ve=qe[Je],Pe=Ke[Je]=new D,rr=Ve.data||Ve;if(Array.isArray(rr)||mt(rr)||o(rr)){var lr;Me.buffers[Je]&&(lr=Me.buffers[Je],mt(rr)&&lr._buffer.byteLength>=rr.byteLength?lr.subdata(rr):(lr.destroy(),Me.buffers[Je]=null)),Me.buffers[Je]||(lr=Me.buffers[Je]=$e.create(Ve,34962,!1,!0)),Pe.buffer=$e.getBuffer(lr),Pe.size=Pe.buffer.dimension|0,Pe.normalized=!1,Pe.type=Pe.buffer.dtype,Pe.offset=0,Pe.stride=0,Pe.divisor=0,Pe.state=1,ke[Je]=1}else $e.getBuffer(Ve)?(Pe.buffer=$e.getBuffer(Ve),Pe.size=Pe.buffer.dimension|0,Pe.normalized=!1,Pe.type=Pe.buffer.dtype,Pe.offset=0,Pe.stride=0,Pe.divisor=0,Pe.state=1):$e.getBuffer(Ve.buffer)?(Pe.buffer=$e.getBuffer(Ve.buffer),Pe.size=(+Ve.size||Pe.buffer.dimension)|0,Pe.normalized=!!Ve.normalized||!1,Pe.type="type"in Ve?Pt[Ve.type]:Pe.buffer.dtype,Pe.offset=(Ve.offset||0)|0,Pe.stride=(Ve.stride||0)|0,Pe.divisor=(Ve.divisor||0)|0,Pe.state=1):"x"in Ve&&(Pe.x=+Ve.x||0,Pe.y=+Ve.y||0,Pe.z=+Ve.z||0,Pe.w=+Ve.w||0,Pe.state=2)}for(lr=0;lr<Me.buffers.length;++lr)!ke[lr]&&Me.buffers[lr]&&(Me.buffers[lr].destroy(),Me.buffers[lr]=null);return Me.refresh(),Ut}var Me=new Fe;return vr.vaoCount+=1,Ut.destroy=function(){for(var ke=0;ke<Me.buffers.length;++ke)Me.buffers[ke]&&Me.buffers[ke].destroy();Me.buffers.length=0,Me.ownsElements&&(Me.elements.destroy(),Me.elements=null,Me.ownsElements=!1),Me.destroy()},Ut._vao=Me,Ut._reglType="vao",Ut(It)},getVAO:function(It){return typeof It=="function"&&It._vao?It._vao:null},destroyBuffer:function(It){for(var Ut=0;Ut<We.length;++Ut){var Me=We[Ut];Me.buffer===It&&(fe.disableVertexAttribArray(Ut),Me.buffer=null)}},setVAO:De.oes_vertex_array_object?he:Ae,clear:De.oes_vertex_array_object?Ee:function(){}};return Fe.prototype.bindAttrs=function(){for(var It=De.angle_instanced_arrays,Ut=this.attributes,Me=0;Me<Ut.length;++Me){var ke=Ut[Me];ke.buffer?(fe.enableVertexAttribArray(Me),fe.bindBuffer(34962,ke.buffer.buffer),fe.vertexAttribPointer(Me,ke.size,ke.type,ke.normalized,ke.stride,ke.offset),It&&ke.divisor&&It.vertexAttribDivisorANGLE(Me,ke.divisor)):(fe.disableVertexAttribArray(Me),fe.vertexAttrib4f(Me,ke.x,ke.y,ke.z,ke.w))}for(It=Ut.length;It<Ce;++It)fe.disableVertexAttribArray(It);(It=Kt.getElements(this.elements))?fe.bindBuffer(34963,It.buffer.buffer):fe.bindBuffer(34963,null)},Fe.prototype.refresh=function(){var It=De.oes_vertex_array_object;It&&(It.bindVertexArrayOES(this.vao),this.bindAttrs(),ar.currentVAO=null,It.bindVertexArrayOES(null))},Fe.prototype.destroy=function(){if(this.vao){var It=De.oes_vertex_array_object;this===ar.currentVAO&&(ar.currentVAO=null,It.bindVertexArrayOES(null)),It.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Ue[this.id]&&(delete Ue[this.id],--vr.vaoCount)},ar}function F(fe,De,Ge,vr){function $e(er,Ue,ar,It){this.name=er,this.id=Ue,this.location=ar,this.info=It}function Kt(er,Ue){for(var ar=0;ar<er.length;++ar)if(er[ar].id===Ue.id){er[ar].location=Ue.location;return}er.push(Ue)}function ie(er,Ue,ar){ar=er===35632?Ee:Fe;var It=ar[Ue];if(!It){var Ut=De.str(Ue),It=fe.createShader(er);fe.shaderSource(It,Ut),fe.compileShader(It),ar[Ue]=It}return It}function he(er,Ue){this.id=We++,this.fragId=er,this.vertId=Ue,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,vr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ae(er,Ue,ar){var It;It=ie(35632,er.fragId);var Ut=ie(35633,er.vertId);if(Ue=er.program=fe.createProgram(),fe.attachShader(Ue,It),fe.attachShader(Ue,Ut),ar)for(It=0;It<ar.length;++It)Ut=ar[It],fe.bindAttribLocation(Ue,Ut[0],Ut[1]);fe.linkProgram(Ue),Ut=fe.getProgramParameter(Ue,35718),vr.profile&&(er.stats.uniformsCount=Ut);var Me=er.uniforms;for(It=0;It<Ut;++It)if(ar=fe.getActiveUniform(Ue,It))if(1<ar.size)for(var ke=0;ke<ar.size;++ke){var qe=ar.name.replace("[0]","["+ke+"]");Kt(Me,new $e(qe,De.id(qe),fe.getUniformLocation(Ue,qe),ar))}else Kt(Me,new $e(ar.name,De.id(ar.name),fe.getUniformLocation(Ue,ar.name),ar));for(Ut=fe.getProgramParameter(Ue,35721),vr.profile&&(er.stats.attributesCount=Ut),er=er.attributes,It=0;It<Ut;++It)(ar=fe.getActiveAttrib(Ue,It))&&Kt(er,new $e(ar.name,De.id(ar.name),fe.getAttribLocation(Ue,ar.name),ar))}var Ee={},Fe={},Re={},Ce=[],We=0;return vr.profile&&(Ge.getMaxUniformsCount=function(){var er=0;return Ce.forEach(function(Ue){Ue.stats.uniformsCount>er&&(er=Ue.stats.uniformsCount)}),er},Ge.getMaxAttributesCount=function(){var er=0;return Ce.forEach(function(Ue){Ue.stats.attributesCount>er&&(er=Ue.stats.attributesCount)}),er}),{clear:function(){var er=fe.deleteShader.bind(fe);vt(Ee).forEach(er),Ee={},vt(Fe).forEach(er),Fe={},Ce.forEach(function(Ue){fe.deleteProgram(Ue.program)}),Ce.length=0,Re={},Ge.shaderCount=0},program:function(er,Ue,ar,It){var Ut=Re[Ue];Ut||(Ut=Re[Ue]={});var Me=Ut[er];if(Me&&(Me.refCount++,!It))return Me;var ke=new he(Ue,er);return Ge.shaderCount++,Ae(ke,ar,It),Me||(Ut[er]=ke),Ce.push(ke),Q(ke,{destroy:function(){if(ke.refCount--,0>=ke.refCount){fe.deleteProgram(ke.program);var qe=Ce.indexOf(ke);Ce.splice(qe,1),Ge.shaderCount--}0>=Ut[ke.vertId].refCount&&(fe.deleteShader(Fe[ke.vertId]),delete Fe[ke.vertId],delete Re[ke.fragId][ke.vertId]),Object.keys(Re[ke.fragId]).length||(fe.deleteShader(Ee[ke.fragId]),delete Ee[ke.fragId],delete Re[ke.fragId])}})},restore:function(){Ee={},Fe={};for(var er=0;er<Ce.length;++er)Ae(Ce[er],null,Ce[er].attributes.map(function(Ue){return[Ue.location,Ue.name]}))},shader:ie,frag:-1,vert:-1}}function R(fe,De,Ge,vr,$e,Kt,ie){function he(Ee){var Fe;Fe=De.next===null?5121:De.next.colorAttachments[0].texture._texture.type;var Re=0,Ce=0,We=vr.framebufferWidth,er=vr.framebufferHeight,Ue=null;return mt(Ee)?Ue=Ee:Ee&&(Re=Ee.x|0,Ce=Ee.y|0,We=(Ee.width||vr.framebufferWidth-Re)|0,er=(Ee.height||vr.framebufferHeight-Ce)|0,Ue=Ee.data||null),Ge(),Ee=We*er*4,Ue||(Fe===5121?Ue=new Uint8Array(Ee):Fe===5126&&(Ue=Ue||new Float32Array(Ee))),fe.pixelStorei(3333,4),fe.readPixels(Re,Ce,We,er,6408,Fe,Ue),Ue}function Ae(Ee){var Fe;return De.setFBO({framebuffer:Ee.framebuffer},function(){Fe=he(Ee)}),Fe}return function(Ee){return Ee&&"framebuffer"in Ee?Ae(Ee):he(Ee)}}function N(fe){for(var De=Array(fe.length>>2),vr=0;vr<De.length;vr++)De[vr]=0;for(vr=0;vr<8*fe.length;vr+=8)De[vr>>5]|=(fe.charCodeAt(vr/8)&255)<<24-vr%32;var Ge=8*fe.length;fe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var vr=Array(64),$e,Kt,ie,he,Ae,Ee,Fe,Re,Ce,We,er;for(De[Ge>>5]|=128<<24-Ge%32,De[(Ge+64>>9<<4)+15]=Ge,Re=0;Re<De.length;Re+=16){for(Ge=fe[0],$e=fe[1],Kt=fe[2],ie=fe[3],he=fe[4],Ae=fe[5],Ee=fe[6],Fe=fe[7],Ce=0;64>Ce;Ce++){if(16>Ce)vr[Ce]=De[Ce+Re];else{We=Ce,er=vr[Ce-2],er=V(er,17)^V(er,19)^er>>>10,er=J(er,vr[Ce-7]);var Ue;Ue=vr[Ce-15],Ue=V(Ue,7)^V(Ue,18)^Ue>>>3,vr[We]=J(J(er,Ue),vr[Ce-16])}We=he,We=V(We,6)^V(We,11)^V(We,25),We=J(J(J(J(Fe,We),he&Ae^~he&Ee),qt[Ce]),vr[Ce]),Fe=Ge,Fe=V(Fe,2)^V(Fe,13)^V(Fe,22),er=J(Fe,Ge&$e^Ge&Kt^$e&Kt),Fe=Ee,Ee=Ae,Ae=he,he=J(ie,We),ie=Kt,Kt=$e,$e=Ge,Ge=J(We,er)}fe[0]=J(Ge,fe[0]),fe[1]=J($e,fe[1]),fe[2]=J(Kt,fe[2]),fe[3]=J(ie,fe[3]),fe[4]=J(he,fe[4]),fe[5]=J(Ae,fe[5]),fe[6]=J(Ee,fe[6]),fe[7]=J(Fe,fe[7])}for(De="",vr=0;vr<32*fe.length;vr+=8)De+=String.fromCharCode(fe[vr>>5]>>>24-vr%32&255);return De}function B(fe){for(var De="",Ge,vr=0;vr<fe.length;vr++)Ge=fe.charCodeAt(vr),De+="0123456789abcdef".charAt(Ge>>>4&15)+"0123456789abcdef".charAt(Ge&15);return De}function q(fe){for(var De="",Ge=-1,vr,$e;++Ge<fe.length;)vr=fe.charCodeAt(Ge),$e=Ge+1<fe.length?fe.charCodeAt(Ge+1):0,55296<=vr&&56319>=vr&&56320<=$e&&57343>=$e&&(vr=65536+((vr&1023)<<10)+($e&1023),Ge++),127>=vr?De+=String.fromCharCode(vr):2047>=vr?De+=String.fromCharCode(192|vr>>>6&31,128|vr&63):65535>=vr?De+=String.fromCharCode(224|vr>>>12&15,128|vr>>>6&63,128|vr&63):2097151>=vr&&(De+=String.fromCharCode(240|vr>>>18&7,128|vr>>>12&63,128|vr>>>6&63,128|vr&63));return De}function V(fe,De){return fe>>>De|fe<<32-De}function J(fe,De){var Ge=(fe&65535)+(De&65535);return(fe>>16)+(De>>16)+(Ge>>16)<<16|Ge&65535}function it(fe){return Array.prototype.slice.call(fe)}function nt(fe){return it(fe).join("")}function Y(fe){function De(){var Fe=[],Re=[];return Q(function(){Fe.push.apply(Fe,it(arguments))},{def:function(){var Ce="v"+$e++;return Re.push(Ce),0<arguments.length&&(Fe.push(Ce,"="),Fe.push.apply(Fe,it(arguments)),Fe.push(";")),Ce},toString:function(){return nt([0<Re.length?"var "+Re.join(",")+";":"",nt(Fe)])}})}function Ge(){function Fe(Ue,ar){Ce(Ue,ar,"=",Re.def(Ue,ar),";")}var Re=De(),Ce=De(),We=Re.toString,er=Ce.toString;return Q(function(){Re.apply(Re,it(arguments))},{def:Re.def,entry:Re,exit:Ce,save:Fe,set:function(Ue,ar,It){Fe(Ue,ar),Re(Ue,ar,"=",It,";")},toString:function(){return We()+er()}})}var vr=fe&&fe.cache,$e=0,Kt=[],ie=[],he=[],Ae=De(),Ee={};return{global:Ae,link:function(Fe,Re){var Ce=Re&&Re.stable;if(!Ce){for(var We=0;We<ie.length;++We)if(ie[We]===Fe&&!he[We])return Kt[We]}return We="g"+$e++,Kt.push(We),ie.push(Fe),he.push(Ce),We},block:De,proc:function(Fe,Re){function Ce(){var ar="a"+We.length;return We.push(ar),ar}var We=[];Re=Re||0;for(var er=0;er<Re;++er)Ce();var er=Ge(),Ue=er.toString;return Ee[Fe]=Q(er,{arg:Ce,toString:function(){return nt(["function(",We.join(),"){",Ue(),"}"])}})},scope:Ge,cond:function(){var Fe=nt(arguments),Re=Ge(),Ce=Ge(),We=Re.toString,er=Ce.toString;return Q(Re,{then:function(){return Re.apply(Re,it(arguments)),this},else:function(){return Ce.apply(Ce,it(arguments)),this},toString:function(){var Ue=er();return Ue&&(Ue="else{"+Ue+"}"),nt(["if(",Fe,"){",We(),"}",Ue])}})},compile:function(){var Fe=['"use strict";',Ae,"return {"];Object.keys(Ee).forEach(function(We){Fe.push('"',We,'":',Ee[We].toString(),",")}),Fe.push("}");var Re=nt(Fe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ce;return vr&&(Ce=B(N(q(Re))),vr[Ce])?vr[Ce].apply(null,ie):(Re=Function.apply(null,Kt.concat(Re)),vr&&(vr[Ce]=Re),Re.apply(null,ie))}}}function Z(fe){return Array.isArray(fe)||mt(fe)||o(fe)}function $(fe){return fe.sort(function(De,Ge){return De==="viewport"?-1:Ge==="viewport"?1:De<Ge?-1:1})}function G(fe,De,Ge,vr){this.thisDep=fe,this.contextDep=De,this.propDep=Ge,this.append=vr}function rt(fe){return fe&&!(fe.thisDep||fe.contextDep||fe.propDep)}function ot(fe){return new G(!1,!1,!1,fe)}function W(fe,De){var Ge=fe.type;if(Ge===0)return Ge=fe.data.length,new G(!0,1<=Ge,2<=Ge,De);if(Ge===4)return Ge=fe.data,new G(Ge.thisDep,Ge.contextDep,Ge.propDep,De);if(Ge===5)return new G(!1,!1,!1,De);if(Ge===6){for(var vr=Ge=!1,$e=!1,Kt=0;Kt<fe.data.length;++Kt){var ie=fe.data[Kt];ie.type===1?$e=!0:ie.type===2?vr=!0:ie.type===3?Ge=!0:ie.type===0?(Ge=!0,ie=ie.data,1<=ie&&(vr=!0),2<=ie&&($e=!0)):ie.type===4&&(Ge=Ge||ie.data.thisDep,vr=vr||ie.data.contextDep,$e=$e||ie.data.propDep)}return new G(Ge,vr,$e,De)}return new G(Ge===3,Ge===2,Ge===1,De)}function H(fe,De,Ge,vr,$e,Kt,ie,he,Ae,Ee,Fe,Re,Ce,We,er,Ue){function ar(dr){return dr.replace(".","_")}function It(dr,Sr,gr){var Pr=ar(dr);sn.push(dr),En[Pr]=nn[Pr]=!!gr,An[Pr]=Sr}function Ut(dr,Sr,gr){var Pr=ar(dr);sn.push(dr),Array.isArray(gr)?(nn[Pr]=gr.slice(),En[Pr]=gr.slice()):nn[Pr]=En[Pr]=gr,Ln[Pr]=Sr}function Me(){var dr=Y({cache:er}),Sr=dr.link,gr=dr.global;dr.id=Li++,dr.batchId="0";var Pr=Sr(qn),fn=dr.shared={props:"a0"};Object.keys(qn).forEach(function(jr){fn[jr]=gr.def(Pr,".",jr)});var wn=dr.next={},un=dr.current={};Object.keys(Ln).forEach(function(jr){Array.isArray(nn[jr])&&(wn[jr]=gr.def(fn.next,".",jr),un[jr]=gr.def(fn.current,".",jr))});var tn=dr.constants={};Object.keys(ii).forEach(function(jr){tn[jr]=gr.def(JSON.stringify(ii[jr]))}),dr.invoke=function(jr,Fr){switch(Fr.type){case 0:var Wr=["this",fn.context,fn.props,dr.batchId];return jr.def(Sr(Fr.data),".call(",Wr.slice(0,Math.max(Fr.data.length+1,4)),")");case 1:return jr.def(fn.props,Fr.data);case 2:return jr.def(fn.context,Fr.data);case 3:return jr.def("this",Fr.data);case 4:return Fr.data.append(dr,jr),Fr.data.ref;case 5:return Fr.data.toString();case 6:return Fr.data.map(function(mn){return dr.invoke(jr,mn)})}},dr.attribCache={};var xr={};return dr.scopeAttrib=function(jr){if(jr=De.id(jr),jr in xr)return xr[jr];var Fr=Ee.scope[jr];return Fr||(Fr=Ee.scope[jr]=new ni),xr[jr]=Sr(Fr)},dr}function ke(dr){var Sr=dr.static;dr=dr.dynamic;var gr;if("profile"in Sr){var Pr=!!Sr.profile;gr=ot(function(wn,un){return Pr}),gr.enable=Pr}else if("profile"in dr){var fn=dr.profile;gr=W(fn,function(wn,un){return wn.invoke(un,fn)})}return gr}function qe(dr,Sr){var gr=dr.static,Pr=dr.dynamic;if("framebuffer"in gr){var fn=gr.framebuffer;return fn?(fn=he.getFramebuffer(fn),ot(function(un,tn){var xr=un.link(fn),jr=un.shared;return tn.set(jr.framebuffer,".next",xr),jr=jr.context,tn.set(jr,".framebufferWidth",xr+".width"),tn.set(jr,".framebufferHeight",xr+".height"),xr})):ot(function(un,tn){var xr=un.shared;return tn.set(xr.framebuffer,".next","null"),xr=xr.context,tn.set(xr,".framebufferWidth",xr+".drawingBufferWidth"),tn.set(xr,".framebufferHeight",xr+".drawingBufferHeight"),"null"})}if("framebuffer"in Pr){var wn=Pr.framebuffer;return W(wn,function(un,tn){var Fr=un.invoke(tn,wn),xr=un.shared,jr=xr.framebuffer,Fr=tn.def(jr,".getFramebuffer(",Fr,")");return tn.set(jr,".next",Fr),xr=xr.context,tn.set(xr,".framebufferWidth",Fr+"?"+Fr+".width:"+xr+".drawingBufferWidth"),tn.set(xr,".framebufferHeight",Fr+"?"+Fr+".height:"+xr+".drawingBufferHeight"),Fr})}return null}function Ke(dr,Sr,gr){function Pr(tn){if(tn in fn){var xr=fn[tn];tn=!0;var jr=xr.x|0,Fr=xr.y|0,Wr,mn;return"width"in xr?Wr=xr.width|0:tn=!1,"height"in xr?mn=xr.height|0:tn=!1,new G(!tn&&Sr&&Sr.thisDep,!tn&&Sr&&Sr.contextDep,!tn&&Sr&&Sr.propDep,function(xn,Rn){var Sn=xn.shared.context,ri=Wr;"width"in xr||(ri=Rn.def(Sn,".","framebufferWidth","-",jr));var $n=mn;return"height"in xr||($n=Rn.def(Sn,".","framebufferHeight","-",Fr)),[jr,Fr,ri,$n]})}if(tn in wn){var kn=wn[tn];return tn=W(kn,function(xn,Rn){var _i=xn.invoke(Rn,kn),Sn=xn.shared.context,ri=Rn.def(_i,".x|0"),$n=Rn.def(_i,".y|0"),oi=Rn.def('"width" in ',_i,"?",_i,".width|0:","(",Sn,".","framebufferWidth","-",ri,")"),_i=Rn.def('"height" in ',_i,"?",_i,".height|0:","(",Sn,".","framebufferHeight","-",$n,")");return[ri,$n,oi,_i]}),Sr&&(tn.thisDep=tn.thisDep||Sr.thisDep,tn.contextDep=tn.contextDep||Sr.contextDep,tn.propDep=tn.propDep||Sr.propDep),tn}return Sr?new G(Sr.thisDep,Sr.contextDep,Sr.propDep,function(xn,Rn){var Sn=xn.shared.context;return[0,0,Rn.def(Sn,".","framebufferWidth"),Rn.def(Sn,".","framebufferHeight")]}):null}var fn=dr.static,wn=dr.dynamic;if(dr=Pr("viewport")){var un=dr;dr=new G(dr.thisDep,dr.contextDep,dr.propDep,function(tn,xr){var jr=un.append(tn,xr),Fr=tn.shared.context;return xr.set(Fr,".viewportWidth",jr[2]),xr.set(Fr,".viewportHeight",jr[3]),jr})}return{viewport:dr,scissor_box:Pr("scissor.box")}}function Je(dr,Sr){var gr=dr.static;if(typeof gr.frag=="string"&&typeof gr.vert=="string"){if(0<Object.keys(Sr.dynamic).length)return null;var gr=Sr.static,Pr=Object.keys(gr);if(0<Pr.length&&typeof gr[Pr[0]]=="number"){for(var fn=[],wn=0;wn<Pr.length;++wn)fn.push([gr[Pr[wn]]|0,Pr[wn]]);return fn}}return null}function Ve(dr,Sr,gr){function Pr(jr){if(jr in fn){var Fr=De.id(fn[jr]);return jr=ot(function(){return Fr}),jr.id=Fr,jr}if(jr in wn){var Wr=wn[jr];return W(Wr,function(mn,kn){var xn=mn.invoke(kn,Wr);return kn.def(mn.shared.strings,".id(",xn,")")})}return null}var fn=dr.static,wn=dr.dynamic,un=Pr("frag"),tn=Pr("vert"),xr=null;return rt(un)&&rt(tn)?(xr=Fe.program(tn.id,un.id,null,gr),dr=ot(function(jr,Fr){return jr.link(xr)})):dr=new G(un&&un.thisDep||tn&&tn.thisDep,un&&un.contextDep||tn&&tn.contextDep,un&&un.propDep||tn&&tn.propDep,function(jr,Fr){var Wr=jr.shared.shader,mn;mn=un?un.append(jr,Fr):Fr.def(Wr,".","frag");var kn;return kn=tn?tn.append(jr,Fr):Fr.def(Wr,".","vert"),Fr.def(Wr+".program("+kn+","+mn+")")}),{frag:un,vert:tn,progVar:dr,program:xr}}function Pe(dr,Sr){function gr(xn,Rn){if(xn in Pr){var Sn=Pr[xn]|0;return Rn?wn.offset=Sn:wn.instances=Sn,ot(function($n,oi){return Rn&&($n.OFFSET=Sn),Sn})}if(xn in fn){var ri=fn[xn];return W(ri,function($n,oi){var _i=$n.invoke(oi,ri);return Rn&&($n.OFFSET=_i),_i})}if(Rn){if(xr)return ot(function($n,oi){return $n.OFFSET=0});if(un)return new G(tn.thisDep,tn.contextDep,tn.propDep,function($n,oi){return oi.def($n.shared.vao+".currentVAO?"+$n.shared.vao+".currentVAO.offset:0")})}else if(un)return new G(tn.thisDep,tn.contextDep,tn.propDep,function($n,oi){return oi.def($n.shared.vao+".currentVAO?"+$n.shared.vao+".currentVAO.instances:-1")});return null}var Pr=dr.static,fn=dr.dynamic,wn={},un=!1,tn=function(){if("vao"in Pr){var xn=Pr.vao;return xn!==null&&Ee.getVAO(xn)===null&&(xn=Ee.createVAO(xn)),un=!0,wn.vao=xn,ot(function(Sn){var ri=Ee.getVAO(xn);return ri?Sn.link(ri):"null"})}if("vao"in fn){un=!0;var Rn=fn.vao;return W(Rn,function(Sn,ri){var $n=Sn.invoke(ri,Rn);return ri.def(Sn.shared.vao+".getVAO("+$n+")")})}return null}(),xr=!1,jr=function(){if("elements"in Pr){var xn=Pr.elements;if(wn.elements=xn,Z(xn)){var Rn=wn.elements=Kt.create(xn,!0),xn=Kt.getElements(Rn);xr=!0}else xn&&(xn=Kt.getElements(xn),xr=!0);return Rn=ot(function(ri,$n){if(xn){var oi=ri.link(xn);return ri.ELEMENTS=oi}return ri.ELEMENTS=null}),Rn.value=xn,Rn}if("elements"in fn){xr=!0;var Sn=fn.elements;return W(Sn,function(ri,$n){var oi=ri.shared,ta=oi.isBufferArgs,oi=oi.elements,Gi=ri.invoke($n,Sn),_i=$n.def("null"),ta=$n.def(ta,"(",Gi,")"),Gi=ri.cond(ta).then(_i,"=",oi,".createStream(",Gi,");").else(_i,"=",oi,".getElements(",Gi,");");return $n.entry(Gi),$n.exit(ri.cond(ta).then(oi,".destroyStream(",_i,");")),ri.ELEMENTS=_i})}return un?new G(tn.thisDep,tn.contextDep,tn.propDep,function(ri,$n){return $n.def(ri.shared.vao+".currentVAO?"+ri.shared.elements+".getElements("+ri.shared.vao+".currentVAO.elements):null")}):null}(),Fr=gr("offset",!0),Wr=function(){if("primitive"in Pr){var xn=Pr.primitive;return wn.primitive=xn,ot(function(Sn,ri){return pe[xn]})}if("primitive"in fn){var Rn=fn.primitive;return W(Rn,function(Sn,ri){var $n=Sn.constants.primTypes,oi=Sn.invoke(ri,Rn);return ri.def($n,"[",oi,"]")})}return xr?rt(jr)?jr.value?ot(function(Sn,ri){return ri.def(Sn.ELEMENTS,".primType")}):ot(function(){return 4}):new G(jr.thisDep,jr.contextDep,jr.propDep,function(Sn,ri){var $n=Sn.ELEMENTS;return ri.def($n,"?",$n,".primType:",4)}):un?new G(tn.thisDep,tn.contextDep,tn.propDep,function(Sn,ri){return ri.def(Sn.shared.vao+".currentVAO?"+Sn.shared.vao+".currentVAO.primitive:4")}):null}(),mn=function(){if("count"in Pr){var xn=Pr.count|0;return wn.count=xn,ot(function(){return xn})}if("count"in fn){var Rn=fn.count;return W(Rn,function(Sn,ri){return Sn.invoke(ri,Rn)})}return xr?rt(jr)?jr?Fr?new G(Fr.thisDep,Fr.contextDep,Fr.propDep,function(Sn,ri){return ri.def(Sn.ELEMENTS,".vertCount-",Sn.OFFSET)}):ot(function(Sn,ri){return ri.def(Sn.ELEMENTS,".vertCount")}):ot(function(){return-1}):new G(jr.thisDep||Fr.thisDep,jr.contextDep||Fr.contextDep,jr.propDep||Fr.propDep,function(Sn,ri){var $n=Sn.ELEMENTS;return Sn.OFFSET?ri.def($n,"?",$n,".vertCount-",Sn.OFFSET,":-1"):ri.def($n,"?",$n,".vertCount:-1")}):un?new G(tn.thisDep,tn.contextDep,tn.propDep,function(Sn,ri){return ri.def(Sn.shared.vao,".currentVAO?",Sn.shared.vao,".currentVAO.count:-1")}):null}(),kn=gr("instances",!1);return{elements:jr,primitive:Wr,count:mn,instances:kn,offset:Fr,vao:tn,vaoActive:un,elementsActive:xr,static:wn}}function rr(dr,Sr){var gr=dr.static,Pr=dr.dynamic,fn={};return sn.forEach(function(wn){function un(xr,jr){if(wn in gr){var Fr=xr(gr[wn]);fn[tn]=ot(function(){return Fr})}else if(wn in Pr){var Wr=Pr[wn];fn[tn]=W(Wr,function(mn,kn){return jr(mn,kn,mn.invoke(kn,Wr))})}}var tn=ar(wn);switch(wn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return un(function(xr){return xr},function(xr,jr,Fr){return Fr});case"depth.func":return un(function(xr){return Be[xr]},function(xr,jr,Fr){return jr.def(xr.constants.compareFuncs,"[",Fr,"]")});case"depth.range":return un(function(xr){return xr},function(xr,jr,Fr){return xr=jr.def("+",Fr,"[0]"),jr=jr.def("+",Fr,"[1]"),[xr,jr]});case"blend.func":return un(function(xr){return[Ye["srcRGB"in xr?xr.srcRGB:xr.src],Ye["dstRGB"in xr?xr.dstRGB:xr.dst],Ye["srcAlpha"in xr?xr.srcAlpha:xr.src],Ye["dstAlpha"in xr?xr.dstAlpha:xr.dst]]},function(xr,jr,Fr){function Wr(Rn,Sn){return jr.def('"',Rn,Sn,'" in ',Fr,"?",Fr,".",Rn,Sn,":",Fr,".",Rn)}xr=xr.constants.blendFuncs;var mn=Wr("src","RGB"),xn=Wr("dst","RGB"),mn=jr.def(xr,"[",mn,"]"),kn=jr.def(xr,"[",Wr("src","Alpha"),"]"),xn=jr.def(xr,"[",xn,"]");return xr=jr.def(xr,"[",Wr("dst","Alpha"),"]"),[mn,xn,kn,xr]});case"blend.equation":return un(function(xr){if(typeof xr=="string")return[Cn[xr],Cn[xr]];if(typeof xr=="object")return[Cn[xr.rgb],Cn[xr.alpha]]},function(xr,jr,Fr){var Wr=xr.constants.blendEquations,mn=jr.def(),kn=jr.def();return xr=xr.cond("typeof ",Fr,'==="string"'),xr.then(mn,"=",kn,"=",Wr,"[",Fr,"];"),xr.else(mn,"=",Wr,"[",Fr,".rgb];",kn,"=",Wr,"[",Fr,".alpha];"),jr(xr),[mn,kn]});case"blend.color":return un(function(xr){return l(4,function(jr){return+xr[jr]})},function(xr,jr,Fr){return l(4,function(Wr){return jr.def("+",Fr,"[",Wr,"]")})});case"stencil.mask":return un(function(xr){return xr|0},function(xr,jr,Fr){return jr.def(Fr,"|0")});case"stencil.func":return un(function(xr){return[Be[xr.cmp||"keep"],xr.ref||0,"mask"in xr?xr.mask:-1]},function(xr,jr,Fr){xr=jr.def('"cmp" in ',Fr,"?",xr.constants.compareFuncs,"[",Fr,".cmp]",":",7680);var Wr=jr.def(Fr,".ref|0");return jr=jr.def('"mask" in ',Fr,"?",Fr,".mask|0:-1"),[xr,Wr,jr]});case"stencil.opFront":case"stencil.opBack":return un(function(xr){return[wn==="stencil.opBack"?1029:1028,ge[xr.fail||"keep"],ge[xr.zfail||"keep"],ge[xr.zpass||"keep"]]},function(xr,jr,Fr){function Wr(kn){return jr.def('"',kn,'" in ',Fr,"?",mn,"[",Fr,".",kn,"]:",7680)}var mn=xr.constants.stencilOps;return[wn==="stencil.opBack"?1029:1028,Wr("fail"),Wr("zfail"),Wr("zpass")]});case"polygonOffset.offset":return un(function(xr){return[xr.factor|0,xr.units|0]},function(xr,jr,Fr){return xr=jr.def(Fr,".factor|0"),jr=jr.def(Fr,".units|0"),[xr,jr]});case"cull.face":return un(function(xr){var jr=0;return xr==="front"?jr=1028:xr==="back"&&(jr=1029),jr},function(xr,jr,Fr){return jr.def(Fr,'==="front"?',1028,":",1029)});case"lineWidth":return un(function(xr){return xr},function(xr,jr,Fr){return Fr});case"frontFace":return un(function(xr){return be[xr]},function(xr,jr,Fr){return jr.def(Fr+'==="cw"?2304:2305')});case"colorMask":return un(function(xr){return xr.map(function(jr){return!!jr})},function(xr,jr,Fr){return l(4,function(Wr){return"!!"+Fr+"["+Wr+"]"})});case"sample.coverage":return un(function(xr){return["value"in xr?xr.value:1,!!xr.invert]},function(xr,jr,Fr){return xr=jr.def('"value" in ',Fr,"?+",Fr,".value:1"),jr=jr.def("!!",Fr,".invert"),[xr,jr]})}}),fn}function lr(dr,Sr){var gr=dr.static,Pr=dr.dynamic,fn={};return Object.keys(gr).forEach(function(wn){var un=gr[wn],tn;if(typeof un=="number"||typeof un=="boolean")tn=ot(function(){return un});else if(typeof un=="function"){var xr=un._reglType;xr==="texture2d"||xr==="textureCube"?tn=ot(function(jr){return jr.link(un)}):(xr==="framebuffer"||xr==="framebufferCube")&&(tn=ot(function(jr){return jr.link(un.color[0])}))}else k(un)&&(tn=ot(function(jr){return jr.global.def("[",l(un.length,function(Fr){return un[Fr]}),"]")}));tn.value=un,fn[wn]=tn}),Object.keys(Pr).forEach(function(wn){var un=Pr[wn];fn[wn]=W(un,function(tn,xr){return tn.invoke(xr,un)})}),fn}function cr(dr,Sr){var gr=dr.static,Pr=dr.dynamic,fn={};return Object.keys(gr).forEach(function(wn){var un=gr[wn],tn=De.id(wn),xr=new ni;if(Z(un))xr.state=1,xr.buffer=$e.getBuffer($e.create(un,34962,!1,!0)),xr.type=0;else{var jr=$e.getBuffer(un);if(jr)xr.state=1,xr.buffer=jr,xr.type=0;else if("constant"in un){var Fr=un.constant;xr.buffer="null",xr.state=2,typeof Fr=="number"?xr.x=Fr:te.forEach(function(Sn,ri){ri<Fr.length&&(xr[Sn]=Fr[ri])})}else{var jr=Z(un.buffer)?$e.getBuffer($e.create(un.buffer,34962,!1,!0)):$e.getBuffer(un.buffer),Wr=un.offset|0,mn=un.stride|0,kn=un.size|0,xn=!!un.normalized,Rn=0;"type"in un&&(Rn=Pt[un.type]),un=un.divisor|0,xr.buffer=jr,xr.state=1,xr.size=kn,xr.normalized=xn,xr.type=Rn||jr.dtype,xr.offset=Wr,xr.stride=mn,xr.divisor=un}}fn[wn]=ot(function(Sn,ri){var $n=Sn.attribCache;if(tn in $n)return $n[tn];var oi={isStream:!1};return Object.keys(xr).forEach(function(_i){oi[_i]=xr[_i]}),xr.buffer&&(oi.buffer=Sn.link(xr.buffer),oi.type=oi.type||oi.buffer+".dtype"),$n[tn]=oi})}),Object.keys(Pr).forEach(function(wn){var un=Pr[wn];fn[wn]=W(un,function(tn,xr){function jr($n){xr(xn[$n],"=",Fr,".",$n,"|0;")}var Fr=tn.invoke(xr,un),kn=tn.shared,Wr=tn.constants,mn=kn.isBufferArgs,kn=kn.buffer,xn={isStream:xr.def(!1)},Rn=new ni;Rn.state=1,Object.keys(Rn).forEach(function($n){xn[$n]=xr.def(""+Rn[$n])});var Sn=xn.buffer,ri=xn.type;return xr("if(",mn,"(",Fr,")){",xn.isStream,"=true;",Sn,"=",kn,".createStream(",34962,",",Fr,");",ri,"=",Sn,".dtype;","}else{",Sn,"=",kn,".getBuffer(",Fr,");","if(",Sn,"){",ri,"=",Sn,".dtype;",'}else if("constant" in ',Fr,"){",xn.state,"=",2,";","if(typeof "+Fr+'.constant === "number"){',xn[te[0]],"=",Fr,".constant;",te.slice(1).map(function($n){return xn[$n]}).join("="),"=0;","}else{",te.map(function($n,oi){return xn[$n]+"="+Fr+".constant.length>"+oi+"?"+Fr+".constant["+oi+"]:0;"}).join(""),"}}else{","if(",mn,"(",Fr,".buffer)){",Sn,"=",kn,".createStream(",34962,",",Fr,".buffer);","}else{",Sn,"=",kn,".getBuffer(",Fr,".buffer);","}",ri,'="type" in ',Fr,"?",Wr.glTypes,"[",Fr,".type]:",Sn,".dtype;",xn.normalized,"=!!",Fr,".normalized;"),jr("size"),jr("offset"),jr("stride"),jr("divisor"),xr("}}"),xr.exit("if(",xn.isStream,"){",kn,".destroyStream(",Sn,");","}"),xn})}),fn}function ir(dr){var Sr=dr.static,gr=dr.dynamic,Pr={};return Object.keys(Sr).forEach(function(fn){var wn=Sr[fn];Pr[fn]=ot(function(un,tn){return typeof wn=="number"||typeof wn=="boolean"?""+wn:un.link(wn)})}),Object.keys(gr).forEach(function(fn){var wn=gr[fn];Pr[fn]=W(wn,function(un,tn){return un.invoke(tn,wn)})}),Pr}function Er(dr,Sr,gr,Pr,fn){function wn(Rn){var Sn=tn[Rn];Sn&&(jr[Rn]=Sn)}var un=Je(dr,Sr),mn=qe(dr),tn=Ke(dr,mn),xr=Pe(dr),jr=rr(dr),Fr=Ve(dr,fn,un);wn("viewport"),wn(ar("scissor.box"));var Wr=0<Object.keys(jr).length,mn={framebuffer:mn,draw:xr,shader:Fr,state:jr,dirty:Wr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(mn.profile=ke(dr),mn.uniforms=lr(gr),mn.drawVAO=mn.scopeVAO=xr.vao,!mn.drawVAO&&Fr.program&&!un&&Ge.angle_instanced_arrays&&xr.static.elements){var kn=!0;if(dr=Fr.program.attributes.map(function(Rn){return Rn=Sr.static[Rn],kn=kn&&!!Rn,Rn}),kn&&0<dr.length){var xn=Ee.getVAO(Ee.createVAO({attributes:dr,elements:xr.static.elements}));mn.drawVAO=new G(null,null,null,function(Rn,Sn){return Rn.link(xn)}),mn.useVAO=!0}}return un?mn.useVAO=!0:mn.attributes=cr(Sr),mn.context=ir(Pr),mn}function kr(dr,Sr,gr){var Pr=dr.shared.context,fn=dr.scope();Object.keys(gr).forEach(function(wn){Sr.save(Pr,"."+wn);var un=gr[wn].append(dr,Sr);Array.isArray(un)?fn(Pr,".",wn,"=[",un.join(),"];"):fn(Pr,".",wn,"=",un,";")}),Sr(fn)}function Mr(dr,Sr,gr,Pr){var tn=dr.shared,fn=tn.gl,wn=tn.framebuffer,un;qr&&(un=Sr.def(tn.extensions,".webgl_draw_buffers"));var xr=dr.constants,tn=xr.drawBuffer,xr=xr.backBuffer;dr=gr?gr.append(dr,Sr):Sr.def(wn,".next"),Pr||Sr("if(",dr,"!==",wn,".cur){"),Sr("if(",dr,"){",fn,".bindFramebuffer(",36160,",",dr,".framebuffer);"),qr&&Sr(un,".drawBuffersWEBGL(",tn,"[",dr,".colorAttachments.length]);"),Sr("}else{",fn,".bindFramebuffer(",36160,",null);"),qr&&Sr(un,".drawBuffersWEBGL(",xr,");"),Sr("}",wn,".cur=",dr,";"),Pr||Sr("}")}function $r(dr,Sr,gr){var Pr=dr.shared,fn=Pr.gl,wn=dr.current,un=dr.next,tn=Pr.current,xr=Pr.next,jr=dr.cond(tn,".dirty");sn.forEach(function(Fr){if(Fr=ar(Fr),!(Fr in gr.state)){var Wr,mn;if(Fr in un){Wr=un[Fr],mn=wn[Fr];var kn=l(nn[Fr].length,function(xn){return jr.def(Wr,"[",xn,"]")});jr(dr.cond(kn.map(function(xn,Rn){return xn+"!=="+mn+"["+Rn+"]"}).join("||")).then(fn,".",Ln[Fr],"(",kn,");",kn.map(function(xn,Rn){return mn+"["+Rn+"]="+xn}).join(";"),";"))}else Wr=jr.def(xr,".",Fr),kn=dr.cond(Wr,"!==",tn,".",Fr),jr(kn),Fr in An?kn(dr.cond(Wr).then(fn,".enable(",An[Fr],");").else(fn,".disable(",An[Fr],");"),tn,".",Fr,"=",Wr,";"):kn(fn,".",Ln[Fr],"(",Wr,");",tn,".",Fr,"=",Wr,";")}}),Object.keys(gr.state).length===0&&jr(tn,".dirty=false;"),Sr(jr)}function Gr(dr,Sr,gr,Pr){var fn=dr.shared,wn=dr.current,un=fn.current,tn=fn.gl,xr;$(Object.keys(gr)).forEach(function(jr){var Fr=gr[jr];if(!Pr||Pr(Fr)){var Wr=Fr.append(dr,Sr);if(An[jr]){var mn=An[jr];rt(Fr)?(xr=dr.link(Wr,{stable:!0}),Sr(dr.cond(xr).then(tn,".enable(",mn,");").else(tn,".disable(",mn,");")),Sr(un,".",jr,"=",xr,";")):(Sr(dr.cond(Wr).then(tn,".enable(",mn,");").else(tn,".disable(",mn,");")),Sr(un,".",jr,"=",Wr,";"))}else if(k(Wr)){var kn=wn[jr];Sr(tn,".",Ln[jr],"(",Wr,");",Wr.map(function(xn,Rn){return kn+"["+Rn+"]="+xn}).join(";"),";")}else rt(Fr)?(xr=dr.link(Wr,{stable:!0}),Sr(tn,".",Ln[jr],"(",xr,");",un,".",jr,"=",xr,";")):Sr(tn,".",Ln[jr],"(",Wr,");",un,".",jr,"=",Wr,";")}})}function vn(dr,Sr){ur&&(dr.instancing=Sr.def(dr.shared.extensions,".angle_instanced_arrays"))}function yn(dr,Sr,gr,Pr,fn){function wn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function un(Rn){kn=Sr.def(),Rn(kn,"=",wn(),";"),typeof fn=="string"?Rn(Fr,".count+=",fn,";"):Rn(Fr,".count++;"),We&&(Pr?(xn=Sr.def(),Rn(xn,"=",mn,".getNumPendingQueries();")):Rn(mn,".beginQuery(",Fr,");"))}function tn(Rn){Rn(Fr,".cpuTime+=",wn(),"-",kn,";"),We&&(Pr?Rn(mn,".pushScopeStats(",xn,",",mn,".getNumPendingQueries(),",Fr,");"):Rn(mn,".endQuery();"))}function xr(Rn){var Sn=Sr.def(Wr,".profile");Sr(Wr,".profile=",Rn,";"),Sr.exit(Wr,".profile=",Sn,";")}var jr=dr.shared,Fr=dr.stats,Wr=jr.current,mn=jr.timer;gr=gr.profile;var kn,xn;if(gr){if(rt(gr)){gr.enable?(un(Sr),tn(Sr.exit),xr("true")):xr("false");return}gr=gr.append(dr,Sr),xr(gr)}else gr=Sr.def(Wr,".profile");jr=dr.block(),un(jr),Sr("if(",gr,"){",jr,"}"),dr=dr.block(),tn(dr),Sr.exit("if(",gr,"){",dr,"}")}function hr(dr,Sr,gr,Pr,fn){function wn(xr){switch(xr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function un(xr,jr,Fr){function Wr(){Sr("if(!",Rn,".buffer){",kn,".enableVertexAttribArray(",xn,");}");var oi=Fr.type,_i;_i=Fr.size?Sr.def(Fr.size,"||",jr):jr,Sr("if(",Rn,".type!==",oi,"||",Rn,".size!==",_i,"||",$n.map(function(ta){return Rn+"."+ta+"!=="+Fr[ta]}).join("||"),"){",kn,".bindBuffer(",34962,",",Sn,".buffer);",kn,".vertexAttribPointer(",[xn,_i,oi,Fr.normalized,Fr.stride,Fr.offset],");",Rn,".type=",oi,";",Rn,".size=",_i,";",$n.map(function(ta){return Rn+"."+ta+"="+Fr[ta]+";"}).join(""),"}"),ur&&(oi=Fr.divisor,Sr("if(",Rn,".divisor!==",oi,"){",dr.instancing,".vertexAttribDivisorANGLE(",[xn,oi],");",Rn,".divisor=",oi,";}"))}function mn(){Sr("if(",Rn,".buffer){",kn,".disableVertexAttribArray(",xn,");",Rn,".buffer=null;","}if(",te.map(function(oi,_i){return Rn+"."+oi+"!=="+ri[_i]}).join("||"),"){",kn,".vertexAttrib4f(",xn,",",ri,");",te.map(function(oi,_i){return Rn+"."+oi+"="+ri[_i]+";"}).join(""),"}")}var kn=tn.gl,xn=Sr.def(xr,".location"),Rn=Sr.def(tn.attributes,"[",xn,"]");xr=Fr.state;var Sn=Fr.buffer,ri=[Fr.x,Fr.y,Fr.z,Fr.w],$n=["buffer","normalized","offset","stride"];xr===1?Wr():xr===2?mn():(Sr("if(",xr,"===",1,"){"),Wr(),Sr("}else{"),mn(),Sr("}"))}var tn=dr.shared;Pr.forEach(function(xr){var jr=xr.name,Fr=gr.attributes[jr],Wr;if(Fr){if(!fn(Fr))return;Wr=Fr.append(dr,Sr)}else{if(!fn(Ne))return;var mn=dr.scopeAttrib(jr);Wr={},Object.keys(new ni).forEach(function(kn){Wr[kn]=Sr.def(mn,".",kn)})}un(dr.link(xr),wn(xr.info.type),Wr)})}function Lr(dr,Sr,gr,Pr,fn,wn){for(var un=dr.shared,tn=un.gl,xr,jr=0;jr<Pr.length;++jr){var kn=Pr[jr],Fr=kn.name,Wr=kn.info.type,mn=gr.uniforms[Fr],kn=dr.link(kn)+".location",xn;if(mn){if(!fn(mn))continue;if(rt(mn)){if(Fr=mn.value,Wr===35678||Wr===35680)Wr=dr.link(Fr._texture||Fr.color[0]._texture),Sr(tn,".uniform1i(",kn,",",Wr+".bind());"),Sr.exit(Wr,".unbind();");else if(Wr===35674||Wr===35675||Wr===35676)Fr=dr.global.def("new Float32Array(["+Array.prototype.slice.call(Fr)+"])"),mn=2,Wr===35675?mn=3:Wr===35676&&(mn=4),Sr(tn,".uniformMatrix",mn,"fv(",kn,",false,",Fr,");");else{switch(Wr){case 5126:xr="1f";break;case 35664:xr="2f";break;case 35665:xr="3f";break;case 35666:xr="4f";break;case 35670:xr="1i";break;case 5124:xr="1i";break;case 35671:xr="2i";break;case 35667:xr="2i";break;case 35672:xr="3i";break;case 35668:xr="3i";break;case 35673:xr="4i";break;case 35669:xr="4i"}Sr(tn,".uniform",xr,"(",kn,",",k(Fr)?Array.prototype.slice.call(Fr):Fr,");")}continue}else xn=mn.append(dr,Sr)}else{if(!fn(Ne))continue;xn=Sr.def(un.uniforms,"[",De.id(Fr),"]")}switch(Wr===35678?Sr("if(",xn,"&&",xn,'._reglType==="framebuffer"){',xn,"=",xn,".color[0];","}"):Wr===35680&&Sr("if(",xn,"&&",xn,'._reglType==="framebufferCube"){',xn,"=",xn,".color[0];","}"),Fr=1,Wr){case 35678:case 35680:Wr=Sr.def(xn,"._texture"),Sr(tn,".uniform1i(",kn,",",Wr,".bind());"),Sr.exit(Wr,".unbind();");continue;case 5124:case 35670:xr="1i";break;case 35667:case 35671:xr="2i",Fr=2;break;case 35668:case 35672:xr="3i",Fr=3;break;case 35669:case 35673:xr="4i",Fr=4;break;case 5126:xr="1f";break;case 35664:xr="2f",Fr=2;break;case 35665:xr="3f",Fr=3;break;case 35666:xr="4f",Fr=4;break;case 35674:xr="Matrix2fv";break;case 35675:xr="Matrix3fv";break;case 35676:xr="Matrix4fv"}if(xr.charAt(0)==="M"){Sr(tn,".uniform",xr,"(",kn,",");var kn=Math.pow(Wr-35674+2,2),Rn=dr.global.def("new Float32Array(",kn,")");Array.isArray(xn)?Sr("false,(",l(kn,function($n){return Rn+"["+$n+"]="+xn[$n]}),",",Rn,")"):Sr("false,(Array.isArray(",xn,")||",xn," instanceof Float32Array)?",xn,":(",l(kn,function($n){return Rn+"["+$n+"]="+xn+"["+$n+"]"}),",",Rn,")"),Sr(");")}else{if(1<Fr){for(var Wr=[],Sn=[],mn=0;mn<Fr;++mn)Array.isArray(xn)?Sn.push(xn[mn]):Sn.push(Sr.def(xn+"["+mn+"]")),wn&&Wr.push(Sr.def());wn&&Sr("if(!",dr.batchId,"||",Wr.map(function(ri,$n){return ri+"!=="+Sn[$n]}).join("||"),"){",Wr.map(function(ri,$n){return ri+"="+Sn[$n]+";"}).join("")),Sr(tn,".uniform",xr,"(",kn,",",Sn.join(","),");")}else wn&&(Wr=Sr.def(),Sr("if(!",dr.batchId,"||",Wr,"!==",xn,"){",Wr,"=",xn,";")),Sr(tn,".uniform",xr,"(",kn,",",xn,");");wn&&Sr("}")}}}function Ir(dr,Sr,gr,Pr){function fn(oi){var _i=Fr[oi];return _i?_i.contextDep&&Pr.contextDynamic||_i.propDep?_i.append(dr,gr):_i.append(dr,Sr):Sr.def(jr,".",oi)}function wn(){function oi(){gr(Sn,".drawElementsInstancedANGLE(",[mn,xn,ri,kn+"<<(("+ri+"-5121)>>1)",Rn],");")}function _i(){gr(Sn,".drawArraysInstancedANGLE(",[mn,kn,xn,Rn],");")}Wr&&Wr!=="null"?$n?oi():(gr("if(",Wr,"){"),oi(),gr("}else{"),_i(),gr("}")):_i()}function un(){function oi(){gr(xr+".drawElements("+[mn,xn,ri,kn+"<<(("+ri+"-5121)>>1)"]+");")}function _i(){gr(xr+".drawArrays("+[mn,kn,xn]+");")}Wr&&Wr!=="null"?$n?oi():(gr("if(",Wr,"){"),oi(),gr("}else{"),_i(),gr("}")):_i()}var tn=dr.shared,xr=tn.gl,jr=tn.draw,Fr=Pr.draw,Wr=function(){var oi=Fr.elements,_i=Sr;return oi?((oi.contextDep&&Pr.contextDynamic||oi.propDep)&&(_i=gr),oi=oi.append(dr,_i),Fr.elementsActive&&_i("if("+oi+")"+xr+".bindBuffer(34963,"+oi+".buffer.buffer);")):(oi=_i.def(),_i(oi,"=",jr,".","elements",";","if(",oi,"){",xr,".bindBuffer(",34963,",",oi,".buffer.buffer);}","else if(",tn.vao,".currentVAO){",oi,"=",dr.shared.elements+".getElements("+tn.vao,".currentVAO.elements);",Ur?"":"if("+oi+")"+xr+".bindBuffer(34963,"+oi+".buffer.buffer);","}")),oi}(),mn=fn("primitive"),kn=fn("offset"),xn=function(){var oi=Fr.count,_i=Sr;return oi?((oi.contextDep&&Pr.contextDynamic||oi.propDep)&&(_i=gr),oi=oi.append(dr,_i)):oi=_i.def(jr,".","count"),oi}();if(typeof xn=="number"){if(xn===0)return}else gr("if(",xn,"){"),gr.exit("}");var Rn,Sn;ur&&(Rn=fn("instances"),Sn=dr.instancing);var ri=Wr+".type",$n=Fr.elements&&rt(Fr.elements)&&!Fr.vaoActive;ur&&(typeof Rn!="number"||0<=Rn)?typeof Rn=="string"?(gr("if(",Rn,">0){"),wn(),gr("}else if(",Rn,"<0){"),un(),gr("}")):wn():un()}function Rr(dr,Sr,gr,Pr,fn){return Sr=Me(),fn=Sr.proc("body",fn),ur&&(Sr.instancing=fn.def(Sr.shared.extensions,".angle_instanced_arrays")),dr(Sr,fn,gr,Pr),Sr.compile().body}function on(dr,Sr,gr,Pr){vn(dr,Sr),gr.useVAO?gr.drawVAO?Sr(dr.shared.vao,".setVAO(",gr.drawVAO.append(dr,Sr),");"):Sr(dr.shared.vao,".setVAO(",dr.shared.vao,".targetVAO);"):(Sr(dr.shared.vao,".setVAO(null);"),hr(dr,Sr,gr,Pr.attributes,function(){return!0})),Lr(dr,Sr,gr,Pr.uniforms,function(){return!0},!1),Ir(dr,Sr,Sr,gr)}function an(dr,Sr){var gr=dr.proc("draw",1);vn(dr,gr),kr(dr,gr,Sr.context),Mr(dr,gr,Sr.framebuffer),$r(dr,gr,Sr),Gr(dr,gr,Sr.state),yn(dr,gr,Sr,!1,!0);var Pr=Sr.shader.progVar.append(dr,gr);if(gr(dr.shared.gl,".useProgram(",Pr,".program);"),Sr.shader.program)on(dr,gr,Sr,Sr.shader.program);else{gr(dr.shared.vao,".setVAO(null);");var fn=dr.global.def("{}"),wn=gr.def(Pr,".id"),un=gr.def(fn,"[",wn,"]");gr(dr.cond(un).then(un,".call(this,a0);").else(un,"=",fn,"[",wn,"]=",dr.link(function(tn){return Rr(on,dr,Sr,tn,1)}),"(",Pr,");",un,".call(this,a0);"))}0<Object.keys(Sr.state).length&&gr(dr.shared.current,".dirty=true;"),dr.shared.vao&&gr(dr.shared.vao,".setVAO(null);")}function gn(dr,Sr,gr,Pr){function fn(){return!0}dr.batchId="a1",vn(dr,Sr),hr(dr,Sr,gr,Pr.attributes,fn),Lr(dr,Sr,gr,Pr.uniforms,fn,!1),Ir(dr,Sr,Sr,gr)}function Mn(dr,Sr,gr,Pr){function fn(Wr){return Wr.contextDep&&un||Wr.propDep}function wn(Wr){return!fn(Wr)}vn(dr,Sr);var un=gr.contextDep,tn=Sr.def(),xr=Sr.def();dr.shared.props=xr,dr.batchId=tn;var jr=dr.scope(),Fr=dr.scope();Sr(jr.entry,"for(",tn,"=0;",tn,"<","a1",";++",tn,"){",xr,"=","a0","[",tn,"];",Fr,"}",jr.exit),gr.needsContext&&kr(dr,Fr,gr.context),gr.needsFramebuffer&&Mr(dr,Fr,gr.framebuffer),Gr(dr,Fr,gr.state,fn),gr.profile&&fn(gr.profile)&&yn(dr,Fr,gr,!1,!0),Pr?(gr.useVAO?gr.drawVAO?fn(gr.drawVAO)?Fr(dr.shared.vao,".setVAO(",gr.drawVAO.append(dr,Fr),");"):jr(dr.shared.vao,".setVAO(",gr.drawVAO.append(dr,jr),");"):jr(dr.shared.vao,".setVAO(",dr.shared.vao,".targetVAO);"):(jr(dr.shared.vao,".setVAO(null);"),hr(dr,jr,gr,Pr.attributes,wn),hr(dr,Fr,gr,Pr.attributes,fn)),Lr(dr,jr,gr,Pr.uniforms,wn,!1),Lr(dr,Fr,gr,Pr.uniforms,fn,!0),Ir(dr,jr,Fr,gr)):(Sr=dr.global.def("{}"),Pr=gr.shader.progVar.append(dr,Fr),xr=Fr.def(Pr,".id"),jr=Fr.def(Sr,"[",xr,"]"),Fr(dr.shared.gl,".useProgram(",Pr,".program);","if(!",jr,"){",jr,"=",Sr,"[",xr,"]=",dr.link(function(Wr){return Rr(gn,dr,gr,Wr,2)}),"(",Pr,");}",jr,".call(this,a0[",tn,"],",tn,");"))}function Pn(dr,Sr){function gr(jr){return jr.contextDep&&fn||jr.propDep}var Pr=dr.proc("batch",2);dr.batchId="0",vn(dr,Pr);var fn=!1,wn=!0;Object.keys(Sr.context).forEach(function(jr){fn=fn||Sr.context[jr].propDep}),fn||(kr(dr,Pr,Sr.context),wn=!1);var un=Sr.framebuffer,tn=!1;if(un?(un.propDep?fn=tn=!0:un.contextDep&&fn&&(tn=!0),tn||Mr(dr,Pr,un)):Mr(dr,Pr,null),Sr.state.viewport&&Sr.state.viewport.propDep&&(fn=!0),$r(dr,Pr,Sr),Gr(dr,Pr,Sr.state,function(jr){return!gr(jr)}),Sr.profile&&gr(Sr.profile)||yn(dr,Pr,Sr,!1,"a1"),Sr.contextDep=fn,Sr.needsContext=wn,Sr.needsFramebuffer=tn,wn=Sr.shader.progVar,wn.contextDep&&fn||wn.propDep)Mn(dr,Pr,Sr,null);else if(wn=wn.append(dr,Pr),Pr(dr.shared.gl,".useProgram(",wn,".program);"),Sr.shader.program)Mn(dr,Pr,Sr,Sr.shader.program);else{Pr(dr.shared.vao,".setVAO(null);");var un=dr.global.def("{}"),tn=Pr.def(wn,".id"),xr=Pr.def(un,"[",tn,"]");Pr(dr.cond(xr).then(xr,".call(this,a0,a1);").else(xr,"=",un,"[",tn,"]=",dr.link(function(Wr){return Rr(Mn,dr,Sr,Wr,2)}),"(",wn,");",xr,".call(this,a0,a1);"))}0<Object.keys(Sr.state).length&&Pr(dr.shared.current,".dirty=true;"),dr.shared.vao&&Pr(dr.shared.vao,".setVAO(null);")}function Kn(dr,Sr){function gr(tn){var xr=Sr.shader[tn];xr&&(xr=xr.append(dr,Pr),isNaN(xr)?Pr.set(fn.shader,"."+tn,xr):Pr.set(fn.shader,"."+tn,dr.link(xr,{stable:!0})))}var Pr=dr.proc("scope",3);dr.batchId="a2";var fn=dr.shared,wn=fn.current;if(kr(dr,Pr,Sr.context),Sr.framebuffer&&Sr.framebuffer.append(dr,Pr),$(Object.keys(Sr.state)).forEach(function(tn){var xr=Sr.state[tn],jr=xr.append(dr,Pr);k(jr)?jr.forEach(function(Fr,Wr){isNaN(Fr)?Pr.set(dr.next[tn],"["+Wr+"]",Fr):Pr.set(dr.next[tn],"["+Wr+"]",dr.link(Fr,{stable:!0}))}):rt(xr)?Pr.set(fn.next,"."+tn,dr.link(jr,{stable:!0})):Pr.set(fn.next,"."+tn,jr)}),yn(dr,Pr,Sr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(tn){var xr=Sr.draw[tn];xr&&(xr=xr.append(dr,Pr),isNaN(xr)?Pr.set(fn.draw,"."+tn,xr):Pr.set(fn.draw,"."+tn,dr.link(xr),{stable:!0}))}),Object.keys(Sr.uniforms).forEach(function(tn){var xr=Sr.uniforms[tn].append(dr,Pr);Array.isArray(xr)&&(xr="["+xr.map(function(jr){return isNaN(jr)?jr:dr.link(jr,{stable:!0})})+"]"),Pr.set(fn.uniforms,"["+dr.link(De.id(tn),{stable:!0})+"]",xr)}),Object.keys(Sr.attributes).forEach(function(tn){var xr=Sr.attributes[tn].append(dr,Pr),jr=dr.scopeAttrib(tn);Object.keys(new ni).forEach(function(Fr){Pr.set(jr,"."+Fr,xr[Fr])})}),Sr.scopeVAO){var un=Sr.scopeVAO.append(dr,Pr);isNaN(un)?Pr.set(fn.vao,".targetVAO",un):Pr.set(fn.vao,".targetVAO",dr.link(un,{stable:!0}))}gr("vert"),gr("frag"),0<Object.keys(Sr.state).length&&(Pr(wn,".dirty=true;"),Pr.exit(wn,".dirty=true;")),Pr("a1(",dr.shared.context,",a0,",dr.batchId,");")}function ai(dr){if(typeof dr=="object"&&!k(dr)){for(var Sr=Object.keys(dr),gr=0;gr<Sr.length;++gr)if(ft.isDynamic(dr[Sr[gr]]))return!0;return!1}}function ui(dr,Sr,gr){function Pr(Wr,mn){un.forEach(function(kn){var xn=fn[kn];ft.isDynamic(xn)&&(xn=Wr.invoke(mn,xn),mn(Fr,".",kn,"=",xn,";"))})}var fn=Sr.static[gr];if(fn&&ai(fn)){var wn=dr.global,un=Object.keys(fn),tn=!1,xr=!1,jr=!1,Fr=dr.global.def("{}");un.forEach(function(Wr){var mn=fn[Wr];if(ft.isDynamic(mn))typeof mn=="function"&&(mn=fn[Wr]=ft.unbox(mn)),Wr=W(mn,null),tn=tn||Wr.thisDep,jr=jr||Wr.propDep,xr=xr||Wr.contextDep;else{switch(wn(Fr,".",Wr,"="),typeof mn){case"number":wn(mn);break;case"string":wn('"',mn,'"');break;case"object":Array.isArray(mn)&&wn("[",mn.join(),"]");break;default:wn(dr.link(mn))}wn(";")}}),Sr.dynamic[gr]=new ft.DynamicVariable(4,{thisDep:tn,contextDep:xr,propDep:jr,ref:Fr,append:Pr}),delete Sr.static[gr]}}var ni=Ee.Record,Cn={add:32774,subtract:32778,"reverse subtract":32779};Ge.ext_blend_minmax&&(Cn.min=32775,Cn.max=32776);var ur=Ge.angle_instanced_arrays,qr=Ge.webgl_draw_buffers,Ur=Ge.oes_vertex_array_object,nn={dirty:!0,profile:Ue.profile},En={},sn=[],An={},Ln={};It("dither",3024),It("blend.enable",3042),Ut("blend.color","blendColor",[0,0,0,0]),Ut("blend.equation","blendEquationSeparate",[32774,32774]),Ut("blend.func","blendFuncSeparate",[1,0,1,0]),It("depth.enable",2929,!0),Ut("depth.func","depthFunc",513),Ut("depth.range","depthRange",[0,1]),Ut("depth.mask","depthMask",!0),Ut("colorMask","colorMask",[!0,!0,!0,!0]),It("cull.enable",2884),Ut("cull.face","cullFace",1029),Ut("frontFace","frontFace",2305),Ut("lineWidth","lineWidth",1),It("polygonOffset.enable",32823),Ut("polygonOffset.offset","polygonOffset",[0,0]),It("sample.alpha",32926),It("sample.enable",32928),Ut("sample.coverage","sampleCoverage",[1,!1]),It("stencil.enable",2960),Ut("stencil.mask","stencilMask",-1),Ut("stencil.func","stencilFunc",[519,0,-1]),Ut("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ut("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),It("scissor.enable",3089),Ut("scissor.box","scissor",[0,0,fe.drawingBufferWidth,fe.drawingBufferHeight]),Ut("viewport","viewport",[0,0,fe.drawingBufferWidth,fe.drawingBufferHeight]);var qn={gl:fe,context:Ce,strings:De,next:En,current:nn,draw:Re,elements:Kt,buffer:$e,shader:Fe,attributes:Ee.state,vao:Ee,uniforms:Ae,framebuffer:he,extensions:Ge,timer:We,isBufferArgs:Z},ii={primTypes:pe,compareFuncs:Be,blendFuncs:Ye,blendEquations:Cn,stencilOps:ge,glTypes:Pt,orientationType:be};qr&&(ii.backBuffer=[1029],ii.drawBuffer=l(vr.maxDrawbuffers,function(dr){return dr===0?[0]:l(dr,function(Sr){return 36064+Sr})}));var Li=0;return{next:En,current:nn,procs:function(){var dr=Me(),Sr=dr.proc("poll"),gr=dr.proc("refresh"),Pr=dr.block();Sr(Pr),gr(Pr);var xr=dr.shared,fn=xr.gl,wn=xr.next,un=xr.current;Pr(un,".dirty=false;"),Mr(dr,Sr),Mr(dr,gr,null,!0);var tn;ur&&(tn=dr.link(ur)),Ge.oes_vertex_array_object&&gr(dr.link(Ge.oes_vertex_array_object),".bindVertexArrayOES(null);");var xr=gr.def(xr.attributes),jr=gr.def(0),Fr=dr.cond(jr,".buffer");Fr.then(fn,".enableVertexAttribArray(i);",fn,".bindBuffer(",34962,",",jr,".buffer.buffer);",fn,".vertexAttribPointer(i,",jr,".size,",jr,".type,",jr,".normalized,",jr,".stride,",jr,".offset);").else(fn,".disableVertexAttribArray(i);",fn,".vertexAttrib4f(i,",jr,".x,",jr,".y,",jr,".z,",jr,".w);",jr,".buffer=null;");var Wr=dr.link(vr.maxAttributes,{stable:!0});return gr("for(var i=0;i<",Wr,";++i){",jr,"=",xr,"[i];",Fr,"}"),ur&&gr("for(var i=0;i<",Wr,";++i){",tn,".vertexAttribDivisorANGLE(i,",xr,"[i].divisor);","}"),gr(dr.shared.vao,".currentVAO=null;",dr.shared.vao,".setVAO(",dr.shared.vao,".targetVAO);"),Object.keys(An).forEach(function(mn){var kn=An[mn],xn=Pr.def(wn,".",mn),Rn=dr.block();Rn("if(",xn,"){",fn,".enable(",kn,")}else{",fn,".disable(",kn,")}",un,".",mn,"=",xn,";"),gr(Rn),Sr("if(",xn,"!==",un,".",mn,"){",Rn,"}")}),Object.keys(Ln).forEach(function(mn){var kn=Ln[mn],xn=nn[mn],Rn,Sn,ri=dr.block();ri(fn,".",kn,"("),k(xn)?(kn=xn.length,Rn=dr.global.def(wn,".",mn),Sn=dr.global.def(un,".",mn),ri(l(kn,function($n){return Rn+"["+$n+"]"}),");",l(kn,function($n){return Sn+"["+$n+"]="+Rn+"["+$n+"];"}).join("")),Sr("if(",l(kn,function($n){return Rn+"["+$n+"]!=="+Sn+"["+$n+"]"}).join("||"),"){",ri,"}")):(Rn=Pr.def(wn,".",mn),Sn=Pr.def(un,".",mn),ri(Rn,");",un,".",mn,"=",Rn,";"),Sr("if(",Rn,"!==",Sn,"){",ri,"}")),gr(ri)}),dr.compile()}(),compile:function(dr,Sr,gr,Pr,fn){var wn=Me();wn.stats=wn.link(fn),Object.keys(Sr.static).forEach(function(tn){ui(wn,Sr,tn)}),re.forEach(function(tn){ui(wn,dr,tn)});var un=Er(dr,Sr,gr,Pr,wn);return un.shader.program&&(un.shader.program.attributes.sort(function(tn,xr){return tn.name<xr.name?-1:1}),un.shader.program.uniforms.sort(function(tn,xr){return tn.name<xr.name?-1:1})),an(wn,un),Kn(wn,un),Pn(wn,un),Q(wn.compile(),{destroy:function(){un.shader.program.destroy()}})}}}function at(fe,De){for(var Ge=0;Ge<fe.length;++Ge)if(fe[Ge]===De)return Ge;return-1}var Q=function(fe,De){for(var Ge=Object.keys(De),vr=0;vr<Ge.length;++vr)fe[Ge[vr]]=De[Ge[vr]];return fe},ct=0,ft={DynamicVariable:U,define:function(fe,De){return new U(fe,E(De+""))},isDynamic:function(fe){return typeof fe=="function"&&!fe._reglType||fe instanceof U},unbox:S,accessor:E},yt={next:typeof requestAnimationFrame=="function"?function(fe){return requestAnimationFrame(fe)}:function(fe){return setTimeout(fe,16)},cancel:typeof cancelAnimationFrame=="function"?function(fe){return cancelAnimationFrame(fe)}:clearTimeout},xt=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Lt=s();Lt.zero=s();var gt=function(fe,De){var Ge=1;De.ext_texture_filter_anisotropic&&(Ge=fe.getParameter(34047));var vr=1,$e=1;De.webgl_draw_buffers&&(vr=fe.getParameter(34852),$e=fe.getParameter(36063));var Kt=!!De.oes_texture_float;if(Kt){Kt=fe.createTexture(),fe.bindTexture(3553,Kt),fe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ie=fe.createFramebuffer();if(fe.bindFramebuffer(36160,ie),fe.framebufferTexture2D(36160,36064,3553,Kt,0),fe.bindTexture(3553,null),fe.checkFramebufferStatus(36160)!==36053)Kt=!1;else{fe.viewport(0,0,1,1),fe.clearColor(1,0,0,1),fe.clear(16384);var he=Lt.allocType(5126,4);fe.readPixels(0,0,1,1,6408,5126,he),fe.getError()?Kt=!1:(fe.deleteFramebuffer(ie),fe.deleteTexture(Kt),Kt=he[0]===1),Lt.freeType(he)}}return he=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(he=fe.createTexture(),ie=Lt.allocType(5121,36),fe.activeTexture(33984),fe.bindTexture(34067,he),fe.texImage2D(34069,0,6408,3,3,0,6408,5121,ie),Lt.freeType(ie),fe.bindTexture(34067,null),fe.deleteTexture(he),he=!fe.getError()),{colorBits:[fe.getParameter(3410),fe.getParameter(3411),fe.getParameter(3412),fe.getParameter(3413)],depthBits:fe.getParameter(3414),stencilBits:fe.getParameter(3415),subpixelBits:fe.getParameter(3408),extensions:Object.keys(De).filter(function(Ae){return!!De[Ae]}),maxAnisotropic:Ge,maxDrawbuffers:vr,maxColorAttachments:$e,pointSizeDims:fe.getParameter(33901),lineWidthDims:fe.getParameter(33902),maxViewportDims:fe.getParameter(3386),maxCombinedTextureUnits:fe.getParameter(35661),maxCubeMapSize:fe.getParameter(34076),maxRenderbufferSize:fe.getParameter(34024),maxTextureUnits:fe.getParameter(34930),maxTextureSize:fe.getParameter(3379),maxAttributes:fe.getParameter(34921),maxVertexUniforms:fe.getParameter(36347),maxVertexTextureUnits:fe.getParameter(35660),maxVaryingVectors:fe.getParameter(36348),maxFragmentUniforms:fe.getParameter(36349),glsl:fe.getParameter(35724),renderer:fe.getParameter(7937),vendor:fe.getParameter(7936),version:fe.getParameter(7938),readFloat:Kt,npotTextureCube:he}},mt=function(fe){return fe instanceof Uint8Array||fe instanceof Uint16Array||fe instanceof Uint32Array||fe instanceof Int8Array||fe instanceof Int16Array||fe instanceof Int32Array||fe instanceof Float32Array||fe instanceof Float64Array||fe instanceof Uint8ClampedArray},vt=function(fe){return Object.keys(fe).map(function(De){return fe[De]})},At={shape:function(fe){for(var De=[];fe.length;fe=fe[0])De.push(fe.length);return De},flatten:function(fe,De,Ge,vr){var $e=1;if(De.length)for(var Kt=0;Kt<De.length;++Kt)$e*=De[Kt];else $e=0;switch(Ge=vr||Lt.allocType(Ge,$e),De.length){case 0:break;case 1:for(vr=De[0],De=0;De<vr;++De)Ge[De]=fe[De];break;case 2:for(vr=De[0],De=De[1],Kt=$e=0;Kt<vr;++Kt)for(var ie=fe[Kt],he=0;he<De;++he)Ge[$e++]=ie[he];break;case 3:f(fe,De[0],De[1],De[2],Ge,0);break;default:b(fe,De,0,Ge,0)}return Ge}},Ot={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Pt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Et={dynamic:35048,stream:35040,static:35044},Nt=At.flatten,ne=At.shape,Gt=[];Gt[5120]=1,Gt[5122]=2,Gt[5124]=4,Gt[5121]=1,Gt[5123]=2,Gt[5125]=4,Gt[5126]=4;var pe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Vt=new Float32Array(1),ae=new Uint32Array(Vt.buffer),oe=[9984,9986,9985,9987],ce=[0,6409,6410,6407,6408],le={};le[6409]=le[6406]=le[6402]=1,le[34041]=le[6410]=2,le[6407]=le[35904]=3,le[6408]=le[35906]=4;var ye=y("HTMLCanvasElement"),Tt=y("OffscreenCanvas"),Ft=y("CanvasRenderingContext2D"),$t=y("ImageBitmap"),Wt=y("HTMLImageElement"),Bt=y("HTMLVideoElement"),Mt=Object.keys(Ot).concat([ye,Tt,Ft,$t,Wt,Bt]),St=[];St[5121]=1,St[5126]=4,St[36193]=2,St[5123]=2,St[5125]=4;var Dt=[];Dt[32854]=2,Dt[32855]=2,Dt[36194]=2,Dt[34041]=4,Dt[33776]=.5,Dt[33777]=.5,Dt[33778]=1,Dt[33779]=1,Dt[35986]=.5,Dt[35987]=1,Dt[34798]=1,Dt[35840]=.5,Dt[35841]=.25,Dt[35842]=.5,Dt[35843]=.25,Dt[36196]=.5;var dt=[];dt[32854]=2,dt[32855]=2,dt[36194]=2,dt[33189]=2,dt[36168]=1,dt[34041]=4,dt[35907]=4,dt[34836]=16,dt[34842]=8,dt[34843]=6;var ht=function(fe,De,Ge,vr,$e){function Kt(Re){this.id=Ee++,this.refCount=1,this.renderbuffer=Re,this.format=32854,this.height=this.width=0,$e.profile&&(this.stats={size:0})}function ie(Re){var Ce=Re.renderbuffer;fe.bindRenderbuffer(36161,null),fe.deleteRenderbuffer(Ce),Re.renderbuffer=null,Re.refCount=0,delete Fe[Re.id],vr.renderbufferCount--}var he={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};De.ext_srgb&&(he.srgba=35907),De.ext_color_buffer_half_float&&(he.rgba16f=34842,he.rgb16f=34843),De.webgl_color_buffer_float&&(he.rgba32f=34836);var Ae=[];Object.keys(he).forEach(function(Re){Ae[he[Re]]=Re});var Ee=0,Fe={};return Kt.prototype.decRef=function(){0>=--this.refCount&&ie(this)},$e.profile&&(vr.getTotalRenderbufferSize=function(){var Re=0;return Object.keys(Fe).forEach(function(Ce){Re+=Fe[Ce].stats.size}),Re}),{create:function(Re,Ce){function We(Ue,ar){var It=0,Ut=0,Me=32854;if(typeof Ue=="object"&&Ue?("shape"in Ue?(Ut=Ue.shape,It=Ut[0]|0,Ut=Ut[1]|0):("radius"in Ue&&(It=Ut=Ue.radius|0),"width"in Ue&&(It=Ue.width|0),"height"in Ue&&(Ut=Ue.height|0)),"format"in Ue&&(Me=he[Ue.format])):typeof Ue=="number"?(It=Ue|0,Ut=typeof ar=="number"?ar|0:It):Ue||(It=Ut=1),It!==er.width||Ut!==er.height||Me!==er.format)return We.width=er.width=It,We.height=er.height=Ut,er.format=Me,fe.bindRenderbuffer(36161,er.renderbuffer),fe.renderbufferStorage(36161,Me,It,Ut),$e.profile&&(er.stats.size=dt[er.format]*er.width*er.height),We.format=Ae[er.format],We}var er=new Kt(fe.createRenderbuffer());return Fe[er.id]=er,vr.renderbufferCount++,We(Re,Ce),We.resize=function(Ue,ar){var It=Ue|0,Ut=ar|0||It;return It===er.width&&Ut===er.height||(We.width=er.width=It,We.height=er.height=Ut,fe.bindRenderbuffer(36161,er.renderbuffer),fe.renderbufferStorage(36161,er.format,It,Ut),$e.profile&&(er.stats.size=dt[er.format]*er.width*er.height)),We},We._reglType="renderbuffer",We._renderbuffer=er,$e.profile&&(We.stats=er.stats),We.destroy=function(){er.decRef()},We},clear:function(){vt(Fe).forEach(ie)},restore:function(){vt(Fe).forEach(function(Re){Re.renderbuffer=fe.createRenderbuffer(),fe.bindRenderbuffer(36161,Re.renderbuffer),fe.renderbufferStorage(36161,Re.format,Re.width,Re.height)}),fe.bindRenderbuffer(36161,null)}}},bt=[];bt[6408]=4,bt[6407]=3;var zt=[];zt[5121]=1,zt[5126]=4,zt[36193]=2;var qt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],te=["x","y","z","w"],re="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ye={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Be={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ge={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},be={cw:2304,ccw:2305},Ne=new G(!1,!1,!1,function(){}),pr=function(fe,De){function Ge(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function vr(Fe,Re,Ce){var We=ie.pop()||new Ge;We.startQueryIndex=Fe,We.endQueryIndex=Re,We.sum=0,We.stats=Ce,he.push(We)}if(!De.ext_disjoint_timer_query)return null;var $e=[],Kt=[],ie=[],he=[],Ae=[],Ee=[];return{beginQuery:function(Fe){var Re=$e.pop()||De.ext_disjoint_timer_query.createQueryEXT();De.ext_disjoint_timer_query.beginQueryEXT(35007,Re),Kt.push(Re),vr(Kt.length-1,Kt.length,Fe)},endQuery:function(){De.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:vr,update:function(){var Fe,Re;if(Fe=Kt.length,Fe!==0){Ee.length=Math.max(Ee.length,Fe+1),Ae.length=Math.max(Ae.length,Fe+1),Ae[0]=0;var Ce=Ee[0]=0;for(Re=Fe=0;Re<Kt.length;++Re){var We=Kt[Re];De.ext_disjoint_timer_query.getQueryObjectEXT(We,34919)?(Ce+=De.ext_disjoint_timer_query.getQueryObjectEXT(We,34918),$e.push(We)):Kt[Fe++]=We,Ae[Re+1]=Ce,Ee[Re+1]=Fe}for(Kt.length=Fe,Re=Fe=0;Re<he.length;++Re){var Ce=he[Re],er=Ce.startQueryIndex,We=Ce.endQueryIndex;Ce.sum+=Ae[We]-Ae[er],er=Ee[er],We=Ee[We],We===er?(Ce.stats.gpuTime+=Ce.sum/1e6,ie.push(Ce)):(Ce.startQueryIndex=er,Ce.endQueryIndex=We,he[Fe++]=Ce)}he.length=Fe}},getNumPendingQueries:function(){return Kt.length},clear:function(){$e.push.apply($e,Kt);for(var Fe=0;Fe<$e.length;Fe++)De.ext_disjoint_timer_query.deleteQueryEXT($e[Fe]);Kt.length=0,$e.length=0},restore:function(){Kt.length=0,$e.length=0}}};return function(fe){function De(){if(yn.length===0)Me&&Me.update(),Rr=null;else{Rr=yt.next(De),Fe();for(var an=yn.length-1;0<=an;--an){var gn=yn[an];gn&&gn(Ke,null,0)}We.flush(),Me&&Me.update()}}function Ge(){!Rr&&0<yn.length&&(Rr=yt.next(De))}function vr(){Rr&&(yt.cancel(De),Rr=null)}function $e(an){an.preventDefault(),vr(),hr.forEach(function(gn){gn()})}function Kt(an){We.getError(),Ue.restore(),cr.restore(),Pe.restore(),ir.restore(),Er.restore(),kr.restore(),lr.restore(),Me&&Me.restore(),Mr.procs.refresh(),Ge(),Lr.forEach(function(gn){gn()})}function ie(an){function gn(nn,En){var sn={},An={};return Object.keys(nn).forEach(function(Ln){var qn=nn[Ln];if(ft.isDynamic(qn))An[Ln]=ft.unbox(qn,Ln);else{if(En&&Array.isArray(qn)){for(var ii=0;ii<qn.length;++ii)if(ft.isDynamic(qn[ii])){An[Ln]=ft.unbox(qn,Ln);return}}sn[Ln]=qn}}),{dynamic:An,static:sn}}function Mn(nn){for(;Ur.length<nn;)Ur.push(null);return Ur}var Pn=gn(an.context||{},!0),Kn=gn(an.uniforms||{},!0),ai=gn(an.attributes||{},!1);an=gn(function(nn){function En(An){if(An in sn){var Ln=sn[An];delete sn[An],Object.keys(Ln).forEach(function(qn){sn[An+"."+qn]=Ln[qn]})}}var sn=Q({},nn);return delete sn.uniforms,delete sn.attributes,delete sn.context,delete sn.vao,"stencil"in sn&&sn.stencil.op&&(sn.stencil.opBack=sn.stencil.opFront=sn.stencil.op,delete sn.stencil.op),En("blend"),En("depth"),En("cull"),En("stencil"),En("polygonOffset"),En("scissor"),En("sample"),"vao"in nn&&(sn.vao=nn.vao),sn}(an),!1);var ui={gpuTime:0,cpuTime:0,count:0},ni=Mr.compile(an,ai,Kn,Pn,ui),Cn=ni.draw,ur=ni.batch,qr=ni.scope,Ur=[];return Q(function(nn,En){var sn;if(typeof nn=="function")return qr.call(this,null,nn,0);if(typeof En=="function")if(typeof nn=="number")for(sn=0;sn<nn;++sn)qr.call(this,null,En,sn);else if(Array.isArray(nn))for(sn=0;sn<nn.length;++sn)qr.call(this,nn[sn],En,sn);else return qr.call(this,nn,En,0);else if(typeof nn=="number"){if(0<nn)return ur.call(this,Mn(nn|0),nn|0)}else if(Array.isArray(nn)){if(nn.length)return ur.call(this,nn,nn.length)}else return Cn.call(this,nn)},{stats:ui,destroy:function(){ni.destroy()}})}function he(an,gn){var Mn=0;Mr.procs.poll();var Pn=gn.color;Pn&&(We.clearColor(+Pn[0]||0,+Pn[1]||0,+Pn[2]||0,+Pn[3]||0),Mn|=16384),"depth"in gn&&(We.clearDepth(+gn.depth),Mn|=256),"stencil"in gn&&(We.clearStencil(gn.stencil|0),Mn|=1024),We.clear(Mn)}function Ae(an){return yn.push(an),Ge(),{cancel:function(){function gn(){var Pn=at(yn,gn);yn[Pn]=yn[yn.length-1],--yn.length,0>=yn.length&&vr()}var Mn=at(yn,an);yn[Mn]=gn}}}function Ee(){var an=Gr.viewport,gn=Gr.scissor_box;an[0]=an[1]=gn[0]=gn[1]=0,Ke.viewportWidth=Ke.framebufferWidth=Ke.drawingBufferWidth=an[2]=gn[2]=We.drawingBufferWidth,Ke.viewportHeight=Ke.framebufferHeight=Ke.drawingBufferHeight=an[3]=gn[3]=We.drawingBufferHeight}function Fe(){Ke.tick+=1,Ke.time=Ce(),Ee(),Mr.procs.poll()}function Re(){ir.refresh(),Ee(),Mr.procs.refresh(),Me&&Me.update()}function Ce(){return(xt()-ke)/1e3}if(fe=r(fe),!fe)return null;var We=fe.gl,er=We.getContextAttributes();We.isContextLost();var Ue=e(We,fe);if(!Ue)return null;var $r=i(),ar={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},It=fe.cachedCode||{},Ut=Ue.extensions,Me=pr(We,Ut),ke=xt(),Je=We.drawingBufferWidth,qe=We.drawingBufferHeight,Ke={tick:0,time:0,viewportWidth:Je,viewportHeight:qe,framebufferWidth:Je,framebufferHeight:qe,drawingBufferWidth:Je,drawingBufferHeight:qe,pixelRatio:fe.pixelRatio},Je={elements:null,primitive:4,count:-1,offset:0,instances:-1},Ve=gt(We,Ut),Pe=c(We,ar,fe,function(an){return lr.destroyBuffer(an)}),rr=p(We,Ut,Pe,ar),lr=P(We,Ut,Ve,ar,Pe,rr,Je),cr=F(We,$r,ar,fe),ir=z(We,Ut,Ve,function(){Mr.procs.poll()},Ke,ar,fe),Er=ht(We,Ut,Ve,ar,fe),kr=O(We,Ut,Ve,ir,Er,ar),Mr=H(We,$r,Ut,Ve,Pe,rr,ir,kr,{},lr,cr,Je,Ke,Me,It,fe),$r=R(We,kr,Mr.procs.poll,Ke),Gr=Mr.next,vn=We.canvas,yn=[],hr=[],Lr=[],Ir=[fe.onDestroy],Rr=null;vn&&(vn.addEventListener("webglcontextlost",$e,!1),vn.addEventListener("webglcontextrestored",Kt,!1));var on=kr.setFBO=ie({framebuffer:ft.define.call(null,1,"framebuffer")});return Re(),er=Q(ie,{clear:function(an){if("framebuffer"in an)if(an.framebuffer&&an.framebuffer_reglType==="framebufferCube")for(var gn=0;6>gn;++gn)on(Q({framebuffer:an.framebuffer.faces[gn]},an),he);else on(an,he);else he(null,an)},prop:ft.define.bind(null,1),context:ft.define.bind(null,2),this:ft.define.bind(null,3),draw:ie({}),buffer:function(an){return Pe.create(an,34962,!1,!1)},elements:function(an){return rr.create(an,!1)},texture:ir.create2D,cube:ir.createCube,renderbuffer:Er.create,framebuffer:kr.create,framebufferCube:kr.createCube,vao:lr.createVAO,attributes:er,frame:Ae,on:function(an,gn){var Mn;switch(an){case"frame":return Ae(gn);case"lost":Mn=hr;break;case"restore":Mn=Lr;break;case"destroy":Mn=Ir}return Mn.push(gn),{cancel:function(){for(var Pn=0;Pn<Mn.length;++Pn)if(Mn[Pn]===gn){Mn[Pn]=Mn[Mn.length-1],Mn.pop();break}}}},limits:Ve,hasExtension:function(an){return 0<=Ve.extensions.indexOf(an.toLowerCase())},read:$r,destroy:function(){yn.length=0,vr(),vn&&(vn.removeEventListener("webglcontextlost",$e),vn.removeEventListener("webglcontextrestored",Kt)),cr.clear(),kr.clear(),Er.clear(),lr.clear(),ir.clear(),rr.clear(),Pe.clear(),Me&&Me.clear(),Ir.forEach(function(an){an()})},_gl:We,_refresh:Re,poll:function(){Fe(),Me&&Me.update()},now:Ce,stats:ar,getCachedCode:function(){return It},preloadCachedCode:function(an){Object.entries(an).forEach(function(gn){It[gn[0]]=gn[1]})}}),fe.onDone(null,er),er}})},30456:function(tt,U,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var E=t(33576),S=E.Buffer;function i(T,v){for(var d in T)v[d]=T[d]}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?tt.exports=E:(i(E,U),U.Buffer=L);function L(T,v,d){return S(T,v,d)}L.prototype=Object.create(S.prototype),i(S,L),L.from=function(T,v,d){if(typeof T=="number")throw new TypeError("Argument must not be a number");return S(T,v,d)},L.alloc=function(T,v,d){if(typeof T!="number")throw new TypeError("Argument must be a number");var r=S(T);return v!==void 0?typeof d=="string"?r.fill(v,d):r.fill(v):r.fill(0),r},L.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return S(T)},L.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(T)}},14500:function(tt,U,t){var E=t(53664),S=t(64348),i=t(39640)(),L=t(2304),T=E("%TypeError%"),v=E("%Math.floor%");tt.exports=function(d,r){if(typeof d!="function")throw new T("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||v(r)!==r)throw new T("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],l=!0,n=!0;if("length"in d&&L){var s=L(d,"length");s&&!s.configurable&&(l=!1),s&&!s.writable&&(n=!1)}return(l||n||!e)&&(i?S(d,"length",r,!0,!0):S(d,"length",r)),d}},29936:function(tt,U,t){tt.exports=i;var E=t(61252).EventEmitter,S=t(6768);S(i,E),i.Readable=t(12348),i.Writable=t(11288),i.Duplex=t(15316),i.Transform=t(22477),i.PassThrough=t(27136),i.finished=t(15932),i.pipeline=t(38180),i.Stream=i;function i(){E.call(this)}i.prototype.pipe=function(L,T){var v=this;function d(f){L.writable&&L.write(f)===!1&&v.pause&&v.pause()}v.on("data",d);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!T||T.end!==!1)&&(v.on("end",l),v.on("close",n));var e=!1;function l(){e||(e=!0,L.end())}function n(){e||(e=!0,typeof L.destroy=="function"&&L.destroy())}function s(f){if(o(),E.listenerCount(this,"error")===0)throw f}v.on("error",s),L.on("error",s);function o(){v.removeListener("data",d),L.removeListener("drain",r),v.removeListener("end",l),v.removeListener("close",n),v.removeListener("error",s),L.removeListener("error",s),v.removeListener("end",o),v.removeListener("close",o),L.removeListener("close",o)}return v.on("end",o),v.on("close",o),L.on("close",o),L.emit("pipe",v),L}},92784:function(tt){function U(v,d){v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.__proto__=d}var t={};function E(v,d,r){r||(r=Error);function e(n,s,o){return typeof d=="string"?d:d(n,s,o)}var l=function(n){U(s,n);function s(o,f,b){return n.call(this,e(o,f,b))||this}return s}(r);l.prototype.name=r.name,l.prototype.code=v,t[v]=l}function S(v,d){if(Array.isArray(v)){var r=v.length;return v=v.map(function(e){return String(e)}),r>2?"one of ".concat(d," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(d," ").concat(v[0]," or ").concat(v[1]):"of ".concat(d," ").concat(v[0])}else return"of ".concat(d," ").concat(String(v))}function i(v,d,r){return v.substr(!r||r<0?0:+r,d.length)===d}function L(v,d,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-d.length,r)===d}function T(v,d,r){return typeof r!="number"&&(r=0),r+d.length>v.length?!1:v.indexOf(d,r)!==-1}E("ERR_INVALID_OPT_VALUE",function(v,d){return'The value "'+d+'" is invalid for option "'+v+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(v,d,r){var e;typeof d=="string"&&i(d,"not ")?(e="must not be",d=d.replace(/^not /,"")):e="must be";var l;if(L(v," argument"))l="The ".concat(v," ").concat(e," ").concat(S(d,"type"));else{var n=T(v,".")?"property":"argument";l='The "'.concat(v,'" ').concat(n," ").concat(e," ").concat(S(d,"type"))}return l+=". Received type ".concat(typeof r),l},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.i=t},15316:function(tt,U,t){var E=t(4168),S=Object.keys||function(n){var s=[];for(var o in n)s.push(o);return s};tt.exports=r;var i=t(12348),L=t(11288);t(6768)(r,i);for(var T=S(L.prototype),v=0;v<T.length;v++){var d=T[v];r.prototype[d]||(r.prototype[d]=L.prototype[d])}function r(n){if(!(this instanceof r))return new r(n);i.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||E.nextTick(l,this)}function l(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},27136:function(tt,U,t){tt.exports=S;var E=t(22477);t(6768)(S,E);function S(i){if(!(this instanceof S))return new S(i);E.call(this,i)}S.prototype._transform=function(i,L,T){T(null,i)}},12348:function(tt,U,t){var E=t(4168);tt.exports=m;var S;m.ReadableState=u,t(61252).EventEmitter;var i=function(W,H){return W.listeners(H).length},L=t(4776),T=t(33576).Buffer,v=t.g.Uint8Array||function(){};function d(W){return T.from(W)}function r(W){return T.isBuffer(W)||W instanceof v}var e=t(19768),l;e&&e.debuglog?l=e.debuglog("stream"):l=function(){};var n=t(47264),s=t(55324),o=t(24888),f=o.getHighWaterMark,b=t(92784).i,h=b.ERR_INVALID_ARG_TYPE,_=b.ERR_STREAM_PUSH_AFTER_EOF,a=b.ERR_METHOD_NOT_IMPLEMENTED,c=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,x,k;t(6768)(m,L);var y=s.errorOrDestroy,A=["error","close","destroy","pause","resume"];function C(W,H,at){if(typeof W.prependListener=="function")return W.prependListener(H,at);!W._events||!W._events[H]?W.on(H,at):Array.isArray(W._events[H])?W._events[H].unshift(at):W._events[H]=[at,W._events[H]]}function u(W,H,at){S=S||t(15316),W=W||{},typeof at!="boolean"&&(at=H instanceof S),this.objectMode=!!W.objectMode,at&&(this.objectMode=this.objectMode||!!W.readableObjectMode),this.highWaterMark=f(this,W,"readableHighWaterMark",at),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(p||(p=t(86032).o),this.decoder=new p(W.encoding),this.encoding=W.encoding)}function m(W){if(S=S||t(15316),!(this instanceof m))return new m(W);var H=this instanceof S;this._readableState=new u(W,this,H),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),L.call(this)}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(W){this._readableState&&(this._readableState.destroyed=W)}}),m.prototype.destroy=s.destroy,m.prototype._undestroy=s.undestroy,m.prototype._destroy=function(W,H){H(W)},m.prototype.push=function(W,H){var at=this._readableState,Q;return at.objectMode?Q=!0:typeof W=="string"&&(H=H||at.defaultEncoding,H!==at.encoding&&(W=T.from(W,H),H=""),Q=!0),M(this,W,H,!1,Q)},m.prototype.unshift=function(W){return M(this,W,null,!0,!1)};function M(W,H,at,Q,ct){l("readableAddChunk",H);var ft=W._readableState;if(H===null)ft.reading=!1,F(W,ft);else{var yt;if(ct||(yt=z(ft,H)),yt)y(W,yt);else if(ft.objectMode||H&&H.length>0)if(typeof H!="string"&&!ft.objectMode&&Object.getPrototypeOf(H)!==T.prototype&&(H=d(H)),Q)ft.endEmitted?y(W,new c):w(W,ft,H,!0);else if(ft.ended)y(W,new _);else{if(ft.destroyed)return!1;ft.reading=!1,ft.decoder&&!at?(H=ft.decoder.write(H),ft.objectMode||H.length!==0?w(W,ft,H,!1):B(W,ft)):w(W,ft,H,!1)}else Q||(ft.reading=!1,B(W,ft))}return!ft.ended&&(ft.length<ft.highWaterMark||ft.length===0)}function w(W,H,at,Q){H.flowing&&H.length===0&&!H.sync?(H.awaitDrain=0,W.emit("data",at)):(H.length+=H.objectMode?1:at.length,Q?H.buffer.unshift(at):H.buffer.push(at),H.needReadable&&R(W)),B(W,H)}function z(W,H){var at;return!r(H)&&typeof H!="string"&&H!==void 0&&!W.objectMode&&(at=new h("chunk",["string","Buffer","Uint8Array"],H)),at}m.prototype.isPaused=function(){return this._readableState.flowing===!1},m.prototype.setEncoding=function(W){p||(p=t(86032).o);var H=new p(W);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;for(var at=this._readableState.buffer.head,Q="";at!==null;)Q+=H.write(at.data),at=at.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};var O=1073741824;function D(W){return W>=O?W=O:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}function P(W,H){return W<=0||H.length===0&&H.ended?0:H.objectMode?1:W!==W?H.flowing&&H.length?H.buffer.head.data.length:H.length:(W>H.highWaterMark&&(H.highWaterMark=D(W)),W<=H.length?W:H.ended?H.length:(H.needReadable=!0,0))}m.prototype.read=function(W){l("read",W),W=parseInt(W,10);var H=this._readableState,at=W;if(W!==0&&(H.emittedReadable=!1),W===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return l("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?G(this):R(this),null;if(W=P(W,H),W===0&&H.ended)return H.length===0&&G(this),null;var Q=H.needReadable;l("need readable",Q),(H.length===0||H.length-W<H.highWaterMark)&&(Q=!0,l("length less than watermark",Q)),H.ended||H.reading?(Q=!1,l("reading or ended",Q)):Q&&(l("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(W=P(at,H)));var ct;return W>0?ct=$(W,H):ct=null,ct===null?(H.needReadable=H.length<=H.highWaterMark,W=0):(H.length-=W,H.awaitDrain=0),H.length===0&&(H.ended||(H.needReadable=!0),at!==W&&H.ended&&G(this)),ct!==null&&this.emit("data",ct),ct};function F(W,H){if(l("onEofChunk"),!H.ended){if(H.decoder){var at=H.decoder.end();at&&at.length&&(H.buffer.push(at),H.length+=H.objectMode?1:at.length)}H.ended=!0,H.sync?R(W):(H.needReadable=!1,H.emittedReadable||(H.emittedReadable=!0,N(W)))}}function R(W){var H=W._readableState;l("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(l("emitReadable",H.flowing),H.emittedReadable=!0,E.nextTick(N,W))}function N(W){var H=W._readableState;l("emitReadable_",H.destroyed,H.length,H.ended),!H.destroyed&&(H.length||H.ended)&&(W.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,Z(W)}function B(W,H){H.readingMore||(H.readingMore=!0,E.nextTick(q,W,H))}function q(W,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){var at=H.length;if(l("maybeReadMore read 0"),W.read(0),at===H.length)break}H.readingMore=!1}m.prototype._read=function(W){y(this,new a("_read()"))},m.prototype.pipe=function(W,H){var at=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=W;break;case 1:Q.pipes=[Q.pipes,W];break;default:Q.pipes.push(W);break}Q.pipesCount+=1,l("pipe count=%d opts=%j",Q.pipesCount,H);var ct=(!H||H.end!==!1)&&W!==E.stdout&&W!==E.stderr,ft=ct?xt:Et;Q.endEmitted?E.nextTick(ft):at.once("end",ft),W.on("unpipe",yt);function yt(Nt,ne){l("onunpipe"),Nt===at&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,mt())}function xt(){l("onend"),W.end()}var Lt=V(at);W.on("drain",Lt);var gt=!1;function mt(){l("cleanup"),W.removeListener("close",Ot),W.removeListener("finish",Pt),W.removeListener("drain",Lt),W.removeListener("error",At),W.removeListener("unpipe",yt),at.removeListener("end",xt),at.removeListener("end",Et),at.removeListener("data",vt),gt=!0,Q.awaitDrain&&(!W._writableState||W._writableState.needDrain)&&Lt()}at.on("data",vt);function vt(Nt){l("ondata");var ne=W.write(Nt);l("dest.write",ne),ne===!1&&((Q.pipesCount===1&&Q.pipes===W||Q.pipesCount>1&&ot(Q.pipes,W)!==-1)&&!gt&&(l("false write response, pause",Q.awaitDrain),Q.awaitDrain++),at.pause())}function At(Nt){l("onerror",Nt),Et(),W.removeListener("error",At),i(W,"error")===0&&y(W,Nt)}C(W,"error",At);function Ot(){W.removeListener("finish",Pt),Et()}W.once("close",Ot);function Pt(){l("onfinish"),W.removeListener("close",Ot),Et()}W.once("finish",Pt);function Et(){l("unpipe"),at.unpipe(W)}return W.emit("pipe",at),Q.flowing||(l("pipe resume"),at.resume()),W};function V(W){return function(){var H=W._readableState;l("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&i(W,"data")&&(H.flowing=!0,Z(W))}}m.prototype.unpipe=function(W){var H=this._readableState,at={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return W&&W!==H.pipes?this:(W||(W=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,W&&W.emit("unpipe",this,at),this);if(!W){var Q=H.pipes,ct=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var ft=0;ft<ct;ft++)Q[ft].emit("unpipe",this,{hasUnpiped:!1});return this}var yt=ot(H.pipes,W);return yt===-1?this:(H.pipes.splice(yt,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),W.emit("unpipe",this,at),this)},m.prototype.on=function(W,H){var at=L.prototype.on.call(this,W,H),Q=this._readableState;return W==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):W==="readable"&&!Q.endEmitted&&!Q.readableListening&&(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,l("on readable",Q.length,Q.reading),Q.length?R(this):Q.reading||E.nextTick(it,this)),at},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(W,H){var at=L.prototype.removeListener.call(this,W,H);return W==="readable"&&E.nextTick(J,this),at},m.prototype.removeAllListeners=function(W){var H=L.prototype.removeAllListeners.apply(this,arguments);return(W==="readable"||W===void 0)&&E.nextTick(J,this),H};function J(W){var H=W._readableState;H.readableListening=W.listenerCount("readable")>0,H.resumeScheduled&&!H.paused?H.flowing=!0:W.listenerCount("data")>0&&W.resume()}function it(W){l("readable nexttick read 0"),W.read(0)}m.prototype.resume=function(){var W=this._readableState;return W.flowing||(l("resume"),W.flowing=!W.readableListening,nt(this,W)),W.paused=!1,this};function nt(W,H){H.resumeScheduled||(H.resumeScheduled=!0,E.nextTick(Y,W,H))}function Y(W,H){l("resume",H.reading),H.reading||W.read(0),H.resumeScheduled=!1,W.emit("resume"),Z(W),H.flowing&&!H.reading&&W.read(0)}m.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(W){var H=W._readableState;for(l("flow",H.flowing);H.flowing&&W.read()!==null;);}m.prototype.wrap=function(W){var H=this,at=this._readableState,Q=!1;W.on("end",function(){if(l("wrapped end"),at.decoder&&!at.ended){var yt=at.decoder.end();yt&&yt.length&&H.push(yt)}H.push(null)}),W.on("data",function(yt){if(l("wrapped data"),at.decoder&&(yt=at.decoder.write(yt)),!(at.objectMode&&yt==null)&&!(!at.objectMode&&(!yt||!yt.length))){var xt=H.push(yt);xt||(Q=!0,W.pause())}});for(var ct in W)this[ct]===void 0&&typeof W[ct]=="function"&&(this[ct]=function(yt){return function(){return W[yt].apply(W,arguments)}}(ct));for(var ft=0;ft<A.length;ft++)W.on(A[ft],this.emit.bind(this,A[ft]));return this._read=function(yt){l("wrapped _read",yt),Q&&(Q=!1,W.resume())},this},typeof Symbol=="function"&&(m.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=t(60328)),x(this)}),Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(m.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(m.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(W){this._readableState&&(this._readableState.flowing=W)}}),m._fromList=$,Object.defineProperty(m.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(W,H){if(H.length===0)return null;var at;return H.objectMode?at=H.buffer.shift():!W||W>=H.length?(H.decoder?at=H.buffer.join(""):H.buffer.length===1?at=H.buffer.first():at=H.buffer.concat(H.length),H.buffer.clear()):at=H.buffer.consume(W,H.decoder),at}function G(W){var H=W._readableState;l("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,E.nextTick(rt,H,W))}function rt(W,H){if(l("endReadableNT",W.endEmitted,W.length),!W.endEmitted&&W.length===0&&(W.endEmitted=!0,H.readable=!1,H.emit("end"),W.autoDestroy)){var at=H._writableState;(!at||at.autoDestroy&&at.finished)&&H.destroy()}}typeof Symbol=="function"&&(m.from=function(W,H){return k===void 0&&(k=t(90555)),k(m,W,H)});function ot(W,H){for(var at=0,Q=W.length;at<Q;at++)if(W[at]===H)return at;return-1}},22477:function(tt,U,t){tt.exports=r;var E=t(92784).i,S=E.ERR_METHOD_NOT_IMPLEMENTED,i=E.ERR_MULTIPLE_CALLBACK,L=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=E.ERR_TRANSFORM_WITH_LENGTH_0,v=t(15316);t(6768)(r,v);function d(n,s){var o=this._transformState;o.transforming=!1;var f=o.writecb;if(f===null)return this.emit("error",new i);o.writechunk=null,o.writecb=null,s!=null&&this.push(s),f(n);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",e)}function e(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(s,o){l(n,s,o)}):l(this,null,null)}r.prototype.push=function(n,s){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,s)},r.prototype._transform=function(n,s,o){o(new S("_transform()"))},r.prototype._write=function(n,s,o){var f=this._transformState;if(f.writecb=o,f.writechunk=n,f.writeencoding=s,!f.transforming){var b=this._readableState;(f.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},r.prototype._read=function(n){var s=this._transformState;s.writechunk!==null&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},r.prototype._destroy=function(n,s){v.prototype._destroy.call(this,n,function(o){s(o)})};function l(n,s,o){if(s)return n.emit("error",s);if(o!=null&&n.push(o),n._writableState.length)throw new T;if(n._transformState.transforming)throw new L;return n.push(null)}},11288:function(tt,U,t){var E=t(4168);tt.exports=u;function S(Z){var $=this;this.next=null,this.entry=null,this.finish=function(){Y($,Z)}}var i;u.WritableState=A;var L={deprecate:t(96656)},T=t(4776),v=t(33576).Buffer,d=t.g.Uint8Array||function(){};function r(Z){return v.from(Z)}function e(Z){return v.isBuffer(Z)||Z instanceof d}var l=t(55324),n=t(24888),s=n.getHighWaterMark,o=t(92784).i,f=o.ERR_INVALID_ARG_TYPE,b=o.ERR_METHOD_NOT_IMPLEMENTED,h=o.ERR_MULTIPLE_CALLBACK,_=o.ERR_STREAM_CANNOT_PIPE,a=o.ERR_STREAM_DESTROYED,c=o.ERR_STREAM_NULL_VALUES,p=o.ERR_STREAM_WRITE_AFTER_END,x=o.ERR_UNKNOWN_ENCODING,k=l.errorOrDestroy;t(6768)(u,T);function y(){}function A(Z,$,G){i=i||t(15316),Z=Z||{},typeof G!="boolean"&&(G=$ instanceof i),this.objectMode=!!Z.objectMode,G&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=s(this,Z,"writableHighWaterMark",G),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var rt=Z.decodeStrings===!1;this.decodeStrings=!rt,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ot){F($,ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}A.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,$=[];Z;)$.push(Z),Z=Z.next;return $},function(){try{Object.defineProperty(A.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(Z){return C.call(this,Z)?!0:this!==u?!1:Z&&Z._writableState instanceof A}})):C=function(Z){return Z instanceof this};function u(Z){i=i||t(15316);var $=this instanceof i;if(!$&&!C.call(u,this))return new u(Z);this._writableState=new A(Z,this,$),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),T.call(this)}u.prototype.pipe=function(){k(this,new _)};function m(Z,$){var G=new p;k(Z,G),E.nextTick($,G)}function M(Z,$,G,rt){var ot;return G===null?ot=new c:typeof G!="string"&&!$.objectMode&&(ot=new f("chunk",["string","Buffer"],G)),ot?(k(Z,ot),E.nextTick(rt,ot),!1):!0}u.prototype.write=function(Z,$,G){var rt=this._writableState,ot=!1,W=!rt.objectMode&&e(Z);return W&&!v.isBuffer(Z)&&(Z=r(Z)),typeof $=="function"&&(G=$,$=null),W?$="buffer":$||($=rt.defaultEncoding),typeof G!="function"&&(G=y),rt.ending?m(this,G):(W||M(this,rt,Z,G))&&(rt.pendingcb++,ot=z(this,rt,W,Z,$,G)),ot},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&B(this,Z))},u.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new x(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(Z,$,G){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof $=="string"&&($=v.from($,G)),$}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(Z,$,G,rt,ot,W){if(!G){var H=w($,rt,ot);rt!==H&&(G=!0,ot="buffer",rt=H)}var at=$.objectMode?1:rt.length;$.length+=at;var Q=$.length<$.highWaterMark;if(Q||($.needDrain=!0),$.writing||$.corked){var ct=$.lastBufferedRequest;$.lastBufferedRequest={chunk:rt,encoding:ot,isBuf:G,callback:W,next:null},ct?ct.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else O(Z,$,!1,at,rt,ot,W);return Q}function O(Z,$,G,rt,ot,W,H){$.writelen=rt,$.writecb=H,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new a("write")):G?Z._writev(ot,$.onwrite):Z._write(ot,W,$.onwrite),$.sync=!1}function D(Z,$,G,rt,ot){--$.pendingcb,G?(E.nextTick(ot,rt),E.nextTick(it,Z,$),Z._writableState.errorEmitted=!0,k(Z,rt)):(ot(rt),Z._writableState.errorEmitted=!0,k(Z,rt),it(Z,$))}function P(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function F(Z,$){var G=Z._writableState,rt=G.sync,ot=G.writecb;if(typeof ot!="function")throw new h;if(P(G),$)D(Z,G,rt,$,ot);else{var W=q(G)||Z.destroyed;!W&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&B(Z,G),rt?E.nextTick(R,Z,G,W,ot):R(Z,G,W,ot)}}function R(Z,$,G,rt){G||N(Z,$),$.pendingcb--,rt(),it(Z,$)}function N(Z,$){$.length===0&&$.needDrain&&($.needDrain=!1,Z.emit("drain"))}function B(Z,$){$.bufferProcessing=!0;var G=$.bufferedRequest;if(Z._writev&&G&&G.next){var rt=$.bufferedRequestCount,ot=new Array(rt),W=$.corkedRequestsFree;W.entry=G;for(var H=0,at=!0;G;)ot[H]=G,G.isBuf||(at=!1),G=G.next,H+=1;ot.allBuffers=at,O(Z,$,!0,$.length,ot,"",W.finish),$.pendingcb++,$.lastBufferedRequest=null,W.next?($.corkedRequestsFree=W.next,W.next=null):$.corkedRequestsFree=new S($),$.bufferedRequestCount=0}else{for(;G;){var Q=G.chunk,ct=G.encoding,ft=G.callback,yt=$.objectMode?1:Q.length;if(O(Z,$,!1,yt,Q,ct,ft),G=G.next,$.bufferedRequestCount--,$.writing)break}G===null&&($.lastBufferedRequest=null)}$.bufferedRequest=G,$.bufferProcessing=!1}u.prototype._write=function(Z,$,G){G(new b("_write()"))},u.prototype._writev=null,u.prototype.end=function(Z,$,G){var rt=this._writableState;return typeof Z=="function"?(G=Z,Z=null,$=null):typeof $=="function"&&(G=$,$=null),Z!=null&&this.write(Z,$),rt.corked&&(rt.corked=1,this.uncork()),rt.ending||nt(this,rt,G),this},Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function q(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function V(Z,$){Z._final(function(G){$.pendingcb--,G&&k(Z,G),$.prefinished=!0,Z.emit("prefinish"),it(Z,$)})}function J(Z,$){!$.prefinished&&!$.finalCalled&&(typeof Z._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,E.nextTick(V,Z,$)):($.prefinished=!0,Z.emit("prefinish")))}function it(Z,$){var G=q($);if(G&&(J(Z,$),$.pendingcb===0&&($.finished=!0,Z.emit("finish"),$.autoDestroy))){var rt=Z._readableState;(!rt||rt.autoDestroy&&rt.endEmitted)&&Z.destroy()}return G}function nt(Z,$,G){$.ending=!0,it(Z,$),G&&($.finished?E.nextTick(G):Z.once("finish",G)),$.ended=!0,Z.writable=!1}function Y(Z,$,G){var rt=Z.entry;for(Z.entry=null;rt;){var ot=rt.callback;$.pendingcb--,ot(G),rt=rt.next}$.corkedRequestsFree.next=Z}Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),u.prototype.destroy=l.destroy,u.prototype._undestroy=l.undestroy,u.prototype._destroy=function(Z,$){$(Z)}},60328:function(tt,U,t){var E=t(4168),S;function i(c,p,x){return p in c?Object.defineProperty(c,p,{value:x,enumerable:!0,configurable:!0,writable:!0}):c[p]=x,c}var L=t(15932),T=Symbol("lastResolve"),v=Symbol("lastReject"),d=Symbol("error"),r=Symbol("ended"),e=Symbol("lastPromise"),l=Symbol("handlePromise"),n=Symbol("stream");function s(c,p){return{value:c,done:p}}function o(c){var p=c[T];if(p!==null){var x=c[n].read();x!==null&&(c[e]=null,c[T]=null,c[v]=null,p(s(x,!1)))}}function f(c){E.nextTick(o,c)}function b(c,p){return function(x,k){c.then(function(){if(p[r]){x(s(void 0,!0));return}p[l](x,k)},k)}}var h=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((S={get stream(){return this[n]},next:function(){var c=this,p=this[d];if(p!==null)return Promise.reject(p);if(this[r])return Promise.resolve(s(void 0,!0));if(this[n].destroyed)return new Promise(function(A,C){E.nextTick(function(){c[d]?C(c[d]):A(s(void 0,!0))})});var x=this[e],k;if(x)k=new Promise(b(x,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(s(y,!1));k=new Promise(this[l])}return this[e]=k,k}},i(S,Symbol.asyncIterator,function(){return this}),i(S,"return",function(){var c=this;return new Promise(function(p,x){c[n].destroy(null,function(k){if(k){x(k);return}p(s(void 0,!0))})})}),S),h),a=function(c){var p,x=Object.create(_,(p={},i(p,n,{value:c,writable:!0}),i(p,T,{value:null,writable:!0}),i(p,v,{value:null,writable:!0}),i(p,d,{value:null,writable:!0}),i(p,r,{value:c._readableState.endEmitted,writable:!0}),i(p,l,{value:function(k,y){var A=x[n].read();A?(x[e]=null,x[T]=null,x[v]=null,k(s(A,!1))):(x[T]=k,x[v]=y)},writable:!0}),p));return x[e]=null,L(c,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=x[v];y!==null&&(x[e]=null,x[T]=null,x[v]=null,y(k)),x[d]=k;return}var A=x[T];A!==null&&(x[e]=null,x[T]=null,x[v]=null,A(s(void 0,!0))),x[r]=!0}),c.on("readable",f.bind(null,x)),x};tt.exports=a},47264:function(tt,U,t){function E(o,f){var b=Object.keys(o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(o);f&&(h=h.filter(function(_){return Object.getOwnPropertyDescriptor(o,_).enumerable})),b.push.apply(b,h)}return b}function S(o){for(var f=1;f<arguments.length;f++){var b=arguments[f]!=null?arguments[f]:{};f%2?E(Object(b),!0).forEach(function(h){i(o,h,b[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(b)):E(Object(b)).forEach(function(h){Object.defineProperty(o,h,Object.getOwnPropertyDescriptor(b,h))})}return o}function i(o,f,b){return f in o?Object.defineProperty(o,f,{value:b,enumerable:!0,configurable:!0,writable:!0}):o[f]=b,o}function L(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}function T(o,f){for(var b=0;b<f.length;b++){var h=f[b];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}function v(o,f,b){return f&&T(o.prototype,f),b&&T(o,b),o}var d=t(33576),r=d.Buffer,e=t(21576),l=e.inspect,n=l&&l.custom||"inspect";function s(o,f,b){r.prototype.copy.call(o,f,b)}tt.exports=function(){function o(){L(this,o),this.head=null,this.tail=null,this.length=0}return v(o,[{key:"push",value:function(f){var b={data:f,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(f){var b={data:f,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var b=this.head,h=""+b.data;b=b.next;)h+=f+b.data;return h}},{key:"concat",value:function(f){if(this.length===0)return r.alloc(0);for(var b=r.allocUnsafe(f>>>0),h=this.head,_=0;h;)s(h.data,b,_),_+=h.data.length,h=h.next;return b}},{key:"consume",value:function(f,b){var h;return f<this.head.data.length?(h=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?h=this.shift():h=b?this._getString(f):this._getBuffer(f),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var b=this.head,h=1,_=b.data;for(f-=_.length;b=b.next;){var a=b.data,c=f>a.length?a.length:f;if(c===a.length?_+=a:_+=a.slice(0,f),f-=c,f===0){c===a.length?(++h,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=a.slice(c));break}++h}return this.length-=h,_}},{key:"_getBuffer",value:function(f){var b=r.allocUnsafe(f),h=this.head,_=1;for(h.data.copy(b),f-=h.data.length;h=h.next;){var a=h.data,c=f>a.length?a.length:f;if(a.copy(b,b.length-f,0,c),f-=c,f===0){c===a.length?(++_,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=a.slice(c));break}++_}return this.length-=_,b}},{key:n,value:function(f,b){return l(this,S({},b,{depth:0,customInspect:!1}))}}]),o}()},55324:function(tt,U,t){var E=t(4168);function S(r,e){var l=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,E.nextTick(v,this,r)):E.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(o){!e&&o?l._writableState?l._writableState.errorEmitted?E.nextTick(L,l):(l._writableState.errorEmitted=!0,E.nextTick(i,l,o)):E.nextTick(i,l,o):e?(E.nextTick(L,l),e(o)):E.nextTick(L,l)}),this)}function i(r,e){v(r,e),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,e){r.emit("error",e)}function d(r,e){var l=r._readableState,n=r._writableState;l&&l.autoDestroy||n&&n.autoDestroy?r.destroy(e):r.emit("error",e)}tt.exports={destroy:S,undestroy:T,errorOrDestroy:d}},15932:function(tt,U,t){var E=t(92784).i.ERR_STREAM_PREMATURE_CLOSE;function S(v){var d=!1;return function(){if(!d){d=!0;for(var r=arguments.length,e=new Array(r),l=0;l<r;l++)e[l]=arguments[l];v.apply(this,e)}}}function i(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function T(v,d,r){if(typeof d=="function")return T(v,null,d);d||(d={}),r=S(r||i);var e=d.readable||d.readable!==!1&&v.readable,l=d.writable||d.writable!==!1&&v.writable,n=function(){v.writable||o()},s=v._writableState&&v._writableState.finished,o=function(){l=!1,s=!0,e||r.call(v)},f=v._readableState&&v._readableState.endEmitted,b=function(){e=!1,f=!0,l||r.call(v)},h=function(c){r.call(v,c)},_=function(){var c;if(e&&!f)return(!v._readableState||!v._readableState.ended)&&(c=new E),r.call(v,c);if(l&&!s)return(!v._writableState||!v._writableState.ended)&&(c=new E),r.call(v,c)},a=function(){v.req.on("finish",o)};return L(v)?(v.on("complete",o),v.on("abort",_),v.req?a():v.on("request",a)):l&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",b),v.on("finish",o),d.error!==!1&&v.on("error",h),v.on("close",_),function(){v.removeListener("complete",o),v.removeListener("abort",_),v.removeListener("request",a),v.req&&v.req.removeListener("finish",o),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",o),v.removeListener("end",b),v.removeListener("error",h),v.removeListener("close",_)}}tt.exports=T},90555:function(tt){tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(tt,U,t){var E;function S(o){var f=!1;return function(){f||(f=!0,o.apply(void 0,arguments))}}var i=t(92784).i,L=i.ERR_MISSING_ARGS,T=i.ERR_STREAM_DESTROYED;function v(o){if(o)throw o}function d(o){return o.setHeader&&typeof o.abort=="function"}function r(o,f,b,h){h=S(h);var _=!1;o.on("close",function(){_=!0}),E===void 0&&(E=t(15932)),E(o,{readable:f,writable:b},function(c){if(c)return h(c);_=!0,h()});var a=!1;return function(c){if(!_&&!a){if(a=!0,d(o))return o.abort();if(typeof o.destroy=="function")return o.destroy();h(c||new T("pipe"))}}}function e(o){o()}function l(o,f){return o.pipe(f)}function n(o){return!o.length||typeof o[o.length-1]!="function"?v:o.pop()}function s(){for(var o=arguments.length,f=new Array(o),b=0;b<o;b++)f[b]=arguments[b];var h=n(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new L("streams");var _,a=f.map(function(c,p){var x=p<f.length-1,k=p>0;return r(c,x,k,function(y){_||(_=y),y&&a.forEach(e),!x&&(a.forEach(e),h(_))})});return f.reduce(l)}tt.exports=s},24888:function(tt,U,t){var E=t(92784).i.ERR_INVALID_OPT_VALUE;function S(L,T,v){return L.highWaterMark!=null?L.highWaterMark:T?L[v]:null}function i(L,T,v,d){var r=S(T,d,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var e=d?v:"highWaterMark";throw new E(e,r)}return Math.floor(r)}return L.objectMode?16:16384}tt.exports={getHighWaterMark:i}},4776:function(tt,U,t){tt.exports=t(61252).EventEmitter},86032:function(tt,U,t){var E=t(30456).Buffer,S=E.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(a){if(!a)return"utf8";for(var c;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(c)return;a=(""+a).toLowerCase(),c=!0}}function L(a){var c=i(a);if(typeof c!="string"&&(E.isEncoding===S||!S(a)))throw new Error("Unknown encoding: "+a);return c||a}U.o=T;function T(a){this.encoding=L(a);var c;switch(this.encoding){case"utf16le":this.text=s,this.end=o,c=4;break;case"utf8":this.fillLast=e,c=4;break;case"base64":this.text=f,this.end=b,c=3;break;default:this.write=h,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(c)}T.prototype.write=function(a){if(a.length===0)return"";var c,p;if(this.lastNeed){if(c=this.fillLast(a),c===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<a.length?c?c+this.text(a,p):this.text(a,p):c||""},T.prototype.end=n,T.prototype.text=l,T.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length};function v(a){return a<=127?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:a>>6===2?-1:-2}function d(a,c,p){var x=c.length-1;if(x<p)return 0;var k=v(c[x]);return k>=0?(k>0&&(a.lastNeed=k-1),k):--x<p||k===-2?0:(k=v(c[x]),k>=0?(k>0&&(a.lastNeed=k-2),k):--x<p||k===-2?0:(k=v(c[x]),k>=0?(k>0&&(k===2?k=0:a.lastNeed=k-3),k):0))}function r(a,c,p){if((c[0]&192)!==128)return a.lastNeed=0,"\uFFFD";if(a.lastNeed>1&&c.length>1){if((c[1]&192)!==128)return a.lastNeed=1,"\uFFFD";if(a.lastNeed>2&&c.length>2&&(c[2]&192)!==128)return a.lastNeed=2,"\uFFFD"}}function e(a){var c=this.lastTotal-this.lastNeed,p=r(this,a);if(p!==void 0)return p;if(this.lastNeed<=a.length)return a.copy(this.lastChar,c,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,c,0,a.length),this.lastNeed-=a.length}function l(a,c){var p=d(this,a,c);if(!this.lastNeed)return a.toString("utf8",c);this.lastTotal=p;var x=a.length-(p-this.lastNeed);return a.copy(this.lastChar,0,x),a.toString("utf8",c,x)}function n(a){var c=a&&a.length?this.write(a):"";return this.lastNeed?c+"\uFFFD":c}function s(a,c){if((a.length-c)%2===0){var p=a.toString("utf16le",c);if(p){var x=p.charCodeAt(p.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",c,a.length-1)}function o(a){var c=a&&a.length?this.write(a):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return c+this.lastChar.toString("utf16le",0,p)}return c}function f(a,c){var p=(a.length-c)%3;return p===0?a.toString("base64",c):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",c,a.length-p))}function b(a){var c=a&&a.length?this.write(a):"";return this.lastNeed?c+this.lastChar.toString("base64",0,3-this.lastNeed):c}function h(a){return a.toString(this.encoding)}function _(a){return a&&a.length?this.write(a):""}},55619:function(tt,U,t){var E=t(45408),S=t(86844)("stream-parser");tt.exports=d;var i=-1,L=0,T=1,v=2;function d(a){var c=a&&typeof a._transform=="function",p=a&&typeof a._write=="function";if(!c&&!p)throw new Error("must pass a Writable or Transform stream in");S("extending Parser into stream"),a._bytes=e,a._skipBytes=l,c&&(a._passthrough=n),c?a._transform=o:a._write=s}function r(a){S("initializing parser stream"),a._parserBytesLeft=0,a._parserBuffers=[],a._parserBuffered=0,a._parserState=i,a._parserCallback=null,typeof a.push=="function"&&(a._parserOutput=a.push.bind(a)),a._parserInit=!0}function e(a,c){E(!this._parserCallback,'there is already a "callback" set!'),E(isFinite(a)&&a>0,'can only buffer a finite number of bytes > 0, got "'+a+'"'),this._parserInit||r(this),S("buffering %o bytes",a),this._parserBytesLeft=a,this._parserCallback=c,this._parserState=L}function l(a,c){E(!this._parserCallback,'there is already a "callback" set!'),E(a>0,'can only skip > 0 bytes, got "'+a+'"'),this._parserInit||r(this),S("skipping %o bytes",a),this._parserBytesLeft=a,this._parserCallback=c,this._parserState=T}function n(a,c){E(!this._parserCallback,'There is already a "callback" set!'),E(a>0,'can only pass through > 0 bytes, got "'+a+'"'),this._parserInit||r(this),S("passing through %o bytes",a),this._parserBytesLeft=a,this._parserCallback=c,this._parserState=v}function s(a,c,p){this._parserInit||r(this),S("write(%o bytes)",a.length),typeof c=="function"&&(p=c),h(this,a,null,p)}function o(a,c,p){this._parserInit||r(this),S("transform(%o bytes)",a.length),typeof c!="function"&&(c=this._parserOutput),h(this,a,c,p)}function f(a,c,p,x){return a._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):c.length<=a._parserBytesLeft?function(){return b(a,c,p,x)}:function(){var k=c.slice(0,a._parserBytesLeft);return b(a,k,p,function(y){if(y)return x(y);if(c.length>k.length)return function(){return f(a,c.slice(k.length),p,x)}})}}function b(a,c,p,x){if(a._parserBytesLeft-=c.length,S("%o bytes left for stream piece",a._parserBytesLeft),a._parserState===L?(a._parserBuffers.push(c),a._parserBuffered+=c.length):a._parserState===v&&p(c),a._parserBytesLeft===0){var k=a._parserCallback;if(k&&a._parserState===L&&a._parserBuffers.length>1&&(c=Buffer.concat(a._parserBuffers,a._parserBuffered)),a._parserState!==L&&(c=null),a._parserCallback=null,a._parserBuffered=0,a._parserState=i,a._parserBuffers.splice(0),k){var y=[];c&&y.push(c),p&&y.push(p);var A=k.length>y.length;A&&y.push(_(x));var C=k.apply(a,y);if(!A||x===C)return x}}else return x}var h=_(f);function _(a){return function(){for(var c=a.apply(this,arguments);typeof c=="function";)c=c();return c}}},86844:function(tt,U,t){var E=t(4168);U=tt.exports=t(89416),U.log=L,U.formatArgs=i,U.save=T,U.load=v,U.useColors=S,U.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function S(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function i(r){var e=this.useColors;if(r[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+r[0]+(e?"%c ":" ")+"+"+U.humanize(this.diff),!!e){var l="color: "+this.color;r.splice(1,0,l,"color: inherit");var n=0,s=0;r[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(n++,o==="%c"&&(s=n))}),r.splice(s,0,l)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function T(r){try{r==null?U.storage.removeItem("debug"):U.storage.debug=r}catch{}}function v(){var r;try{r=U.storage.debug}catch{}return!r&&typeof E<"u"&&"env"in E&&(r=E.env.DEBUG),r}U.enable(v());function d(){try{return window.localStorage}catch{}}},89416:function(tt,U,t){U=tt.exports=i.debug=i.default=i,U.coerce=d,U.disable=T,U.enable=L,U.enabled=v,U.humanize=t(93744),U.names=[],U.skips=[],U.formatters={};var E;function S(r){var e=0,l;for(l in r)e=(e<<5)-e+r.charCodeAt(l),e|=0;return U.colors[Math.abs(e)%U.colors.length]}function i(r){function e(){if(e.enabled){var l=e,n=+new Date,s=n-(E||n);l.diff=s,l.prev=E,l.curr=n,E=n;for(var o=new Array(arguments.length),f=0;f<o.length;f++)o[f]=arguments[f];o[0]=U.coerce(o[0]),typeof o[0]!="string"&&o.unshift("%O");var b=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(_,a){if(_==="%%")return _;b++;var c=U.formatters[a];if(typeof c=="function"){var p=o[b];_=c.call(l,p),o.splice(b,1),b--}return _}),U.formatArgs.call(l,o);var h=e.log||U.log||console.log.bind(console);h.apply(l,o)}}return e.namespace=r,e.enabled=U.enabled(r),e.useColors=U.useColors(),e.color=S(r),typeof U.init=="function"&&U.init(e),e}function L(r){U.save(r),U.names=[],U.skips=[];for(var e=(typeof r=="string"?r:"").split(/[\s,]+/),l=e.length,n=0;n<l;n++)e[n]&&(r=e[n].replace(/\*/g,".*?"),r[0]==="-"?U.skips.push(new RegExp("^"+r.substr(1)+"$")):U.names.push(new RegExp("^"+r+"$")))}function T(){U.enable("")}function v(r){var e,l;for(e=0,l=U.skips.length;e<l;e++)if(U.skips[e].test(r))return!1;for(e=0,l=U.names.length;e<l;e++)if(U.names[e].test(r))return!0;return!1}function d(r){return r instanceof Error?r.stack||r.message:r}},93744:function(tt){var U=1e3,t=U*60,E=t*60,S=E*24,i=S*365.25;tt.exports=function(r,e){e=e||{};var l=typeof r;if(l==="string"&&r.length>0)return L(r);if(l==="number"&&isNaN(r)===!1)return e.long?v(r):T(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(e){var l=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return l*i;case"days":case"day":case"d":return l*S;case"hours":case"hour":case"hrs":case"hr":case"h":return l*E;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function T(r){return r>=S?Math.round(r/S)+"d":r>=E?Math.round(r/E)+"h":r>=t?Math.round(r/t)+"m":r>=U?Math.round(r/U)+"s":r+"ms"}function v(r){return d(r,S,"day")||d(r,E,"hour")||d(r,t,"minute")||d(r,U,"second")||r+" ms"}function d(r,e,l){if(!(r<e))return r<e*1.5?Math.floor(r/e)+" "+l:Math.ceil(r/e)+" "+l+"s"}},39956:function(tt,U,t){var E=t(32868);tt.exports=function(S,i,L){if(S==null)throw Error("First argument should be a string");if(i==null)throw Error("Separator should be a string or a RegExp");L?(typeof L=="string"||Array.isArray(L))&&(L={ignore:L}):L={},L.escape==null&&(L.escape=!0),L.ignore==null?L.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof L.ignore=="string"&&(L.ignore=[L.ignore]),L.ignore=L.ignore.map(function(s){return s.length===1&&(s=s+s),s}));var T=E.parse(S,{flat:!0,brackets:L.ignore}),v=T[0],d=v.split(i);if(L.escape){for(var r=[],e=0;e<d.length;e++){var l=d[e],n=d[e+1];l[l.length-1]==="\\"&&l[l.length-2]!=="\\"?(r.push(l+i+n),e++):r.push(l)}d=r}for(var e=0;e<d.length;e++)T[0]=d[e],d[e]=E.stringify(T,{flat:!0});return d}},78484:function(tt){tt.exports=U;function U(t){for(var E=t.length,S=new Array(E),i=new Array(E),L=new Array(E),T=new Array(E),v=new Array(E),d=new Array(E),r=0;r<E;++r)S[r]=-1,i[r]=0,L[r]=!1,T[r]=0,v[r]=-1,d[r]=[];var e=0,l=[],n=[];function s(h){var _=[h],a=[h];for(S[h]=i[h]=e,L[h]=!0,e+=1;a.length>0;){h=a[a.length-1];var c=t[h];if(T[h]<c.length){for(var p=T[h];p<c.length;++p){var x=c[p];if(S[x]<0){S[x]=i[x]=e,L[x]=!0,e+=1,_.push(x),a.push(x);break}else L[x]&&(i[h]=Math.min(i[h],i[x])|0);v[x]>=0&&d[h].push(v[x])}T[h]=p}else{if(i[h]===S[h]){for(var k=[],y=[],A=0,p=_.length-1;p>=0;--p){var C=_[p];if(L[C]=!1,k.push(C),y.push(d[C]),A+=d[C].length,v[C]=l.length,C===h){_.length=p;break}}l.push(k);for(var u=new Array(A),p=0;p<y.length;p++)for(var m=0;m<y[p].length;m++)u[--A]=y[p][m];n.push(u)}a.pop()}}}for(var r=0;r<E;++r)S[r]<0&&s(r);for(var o,r=0;r<n.length;r++){var f=n[r];if(f.length!==0){f.sort(function(_,a){return _-a}),o=[f[0]];for(var b=1;b<f.length;b++)f[b]!==f[b-1]&&o.push(f[b]);n[r]=o}}return{components:l,adjacencyList:n}}},92848:function(tt,U,t){t.r(U);var E=function(){function r(e,l){var n=[],s=!0,o=!1,f=void 0;try{for(var b=e[Symbol.iterator](),h;!(s=(h=b.next()).done)&&(n.push(h.value),!(l&&n.length===l));s=!0);}catch(_){o=!0,f=_}finally{try{!s&&b.return&&b.return()}finally{if(o)throw f}}return n}return function(e,l){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=Math.PI*2,i=function(r,e,l,n,s,o,f){var b=r.x,h=r.y;b*=e,h*=l;var _=n*b-s*h,a=s*b+n*h;return{x:_+o,y:a+f}},L=function(r,e){var l=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=Math.cos(r),s=Math.sin(r),o=Math.cos(r+e),f=Math.sin(r+e);return[{x:n-s*l,y:s+n*l},{x:o+f*l,y:f-o*l},{x:o,y:f}]},T=function(r,e,l,n){var s=r*n-e*l<0?-1:1,o=r*l+e*n;return o>1&&(o=1),o<-1&&(o=-1),s*Math.acos(o)},v=function(r,e,l,n,s,o,f,b,h,_,a,c){var p=Math.pow(s,2),x=Math.pow(o,2),k=Math.pow(a,2),y=Math.pow(c,2),A=p*x-p*y-x*k;A<0&&(A=0),A/=p*y+x*k,A=Math.sqrt(A)*(f===b?-1:1);var C=A*s/o*c,u=A*-o/s*a,m=_*C-h*u+(r+l)/2,M=h*C+_*u+(e+n)/2,w=(a-C)/s,z=(c-u)/o,O=(-a-C)/s,D=(-c-u)/o,P=T(1,0,w,z),F=T(w,z,O,D);return b===0&&F>0&&(F-=S),b===1&&F<0&&(F+=S),[m,M,P,F]},d=function(r){var e=r.px,l=r.py,n=r.cx,s=r.cy,o=r.rx,f=r.ry,b=r.xAxisRotation,h=b===void 0?0:b,_=r.largeArcFlag,a=_===void 0?0:_,c=r.sweepFlag,p=c===void 0?0:c,x=[];if(o===0||f===0)return[];var k=Math.sin(h*S/360),y=Math.cos(h*S/360),A=y*(e-n)/2+k*(l-s)/2,C=-k*(e-n)/2+y*(l-s)/2;if(A===0&&C===0)return[];o=Math.abs(o),f=Math.abs(f);var u=Math.pow(A,2)/Math.pow(o,2)+Math.pow(C,2)/Math.pow(f,2);u>1&&(o*=Math.sqrt(u),f*=Math.sqrt(u));var m=v(e,l,n,s,o,f,a,p,k,y,A,C),M=E(m,4),w=M[0],z=M[1],O=M[2],D=M[3],P=Math.abs(D)/(S/4);Math.abs(1-P)<1e-7&&(P=1);var F=Math.max(Math.ceil(P),1);D/=F;for(var R=0;R<F;R++)x.push(L(O,D)),O+=D;return x.map(function(N){var B=i(N[0],o,f,y,k,w,z),q=B.x,V=B.y,J=i(N[1],o,f,y,k,w,z),it=J.x,nt=J.y,Y=i(N[2],o,f,y,k,w,z),Z=Y.x,$=Y.y;return{x1:q,y1:V,x2:it,y2:nt,x:Z,y:$}})};U.default=d},74840:function(tt,U,t){var E=t(21984),S=t(49972),i=t(41976),L=t(53520),T=t(45408);tt.exports=v;function v(d){if(Array.isArray(d)&&d.length===1&&typeof d[0]=="string"&&(d=d[0]),typeof d=="string"&&(T(L(d),"String is not an SVG path."),d=E(d)),T(Array.isArray(d),"Argument should be a string or an array of path segments."),d=S(d),d=i(d),!d.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],e=0,l=d.length;e<l;e++)for(var n=d[e].slice(1),s=0;s<n.length;s+=2)n[s+0]<r[0]&&(r[0]=n[s+0]),n[s+1]<r[1]&&(r[1]=n[s+1]),n[s+0]>r[2]&&(r[2]=n[s+0]),n[s+1]>r[3]&&(r[3]=n[s+1]);return r}},41976:function(tt,U,t){tt.exports=S;var E=t(92848);function S(T){for(var v,d=[],r=0,e=0,l=0,n=0,s=null,o=null,f=0,b=0,h=0,_=T.length;h<_;h++){var a=T[h],c=a[0];switch(c){case"M":l=a[1],n=a[2];break;case"A":var p=E({px:f,py:b,cx:a[6],cy:a[7],rx:a[1],ry:a[2],xAxisRotation:a[3],largeArcFlag:a[4],sweepFlag:a[5]});if(!p.length)continue;for(var x=0,k;x<p.length;x++)k=p[x],a=["C",k.x1,k.y1,k.x2,k.y2,k.x,k.y],x<p.length-1&&d.push(a);break;case"S":var y=f,A=b;(v=="C"||v=="S")&&(y+=y-r,A+=A-e),a=["C",y,A,a[1],a[2],a[3],a[4]];break;case"T":v=="Q"||v=="T"?(s=f*2-s,o=b*2-o):(s=f,o=b),a=L(f,b,s,o,a[1],a[2]);break;case"Q":s=a[1],o=a[2],a=L(f,b,a[1],a[2],a[3],a[4]);break;case"L":a=i(f,b,a[1],a[2]);break;case"H":a=i(f,b,a[1],b);break;case"V":a=i(f,b,f,a[1]);break;case"Z":a=i(f,b,l,n);break}v=c,f=a[a.length-2],b=a[a.length-1],a.length>4?(r=a[a.length-4],e=a[a.length-3]):(r=f,e=b),d.push(a)}return d}function i(T,v,d,r){return["C",T,v,d,r,d,r]}function L(T,v,d,r,e,l){return["C",T/3+.6666666666666666*d,v/3+.6666666666666666*r,e/3+.6666666666666666*d,l/3+.6666666666666666*r,e,l]}},20472:function(tt,U,t){var E=t(74840),S=t(21984),i=t(22235),L=t(53520),T=t(29620),v=document.createElement("canvas"),d=v.getContext("2d");tt.exports=r;function r(n,s){if(!L(n))throw Error("Argument should be valid svg path string");s||(s={});var o,f;s.shape?(o=s.shape[0],f=s.shape[1]):(o=v.width=s.w||s.width||200,f=v.height=s.h||s.height||200);var b=Math.min(o,f),h=s.stroke||0,_=s.viewbox||s.viewBox||E(n),a=[o/(_[2]-_[0]),f/(_[3]-_[1])],c=Math.min(a[0]||0,a[1]||0)/2;if(d.fillStyle="black",d.fillRect(0,0,o,f),d.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?d.strokeStyle="white":d.strokeStyle="black",d.lineWidth=Math.abs(h)),d.translate(o*.5,f*.5),d.scale(c,c),l()){var p=new Path2D(n);d.fill(p),h&&d.stroke(p)}else{var x=S(n);i(d,x),d.fill(),h&&d.stroke()}d.setTransform(1,0,0,1,0,0);var k=T(d,{cutoff:s.cutoff!=null?s.cutoff:.5,radius:s.radius!=null?s.radius:b*.5});return k}var e;function l(){if(e!=null)return e;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return e=!1;var s=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(s);var o=n.getImageData(0,0,1,1);return e=o&&o.data&&o.data[3]===255}},49760:function(tt,U,t){var E;(function(S){var i=/^\s+/,L=/\s+$/,T=0,v=S.round,d=S.min,r=S.max,e=S.random;function l(H,at){if(H=H||"",at=at||{},H instanceof l)return H;if(!(this instanceof l))return new l(H,at);var Q=n(H);this._originalInput=H,this._r=Q.r,this._g=Q.g,this._b=Q.b,this._a=Q.a,this._roundA=v(100*this._a)/100,this._format=at.format||Q.format,this._gradientType=at.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=Q.ok,this._tc_id=T++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var H=this.toRgb();return(H.r*299+H.g*587+H.b*114)/1e3},getLuminance:function(){var H=this.toRgb(),at,Q,ct,ft,yt,xt;return at=H.r/255,Q=H.g/255,ct=H.b/255,at<=.03928?ft=at/12.92:ft=S.pow((at+.055)/1.055,2.4),Q<=.03928?yt=Q/12.92:yt=S.pow((Q+.055)/1.055,2.4),ct<=.03928?xt=ct/12.92:xt=S.pow((ct+.055)/1.055,2.4),.2126*ft+.7152*yt+.0722*xt},setAlpha:function(H){return this._a=N(H),this._roundA=v(100*this._a)/100,this},toHsv:function(){var H=b(this._r,this._g,this._b);return{h:H.h*360,s:H.s,v:H.v,a:this._a}},toHsvString:function(){var H=b(this._r,this._g,this._b),at=v(H.h*360),Q=v(H.s*100),ct=v(H.v*100);return this._a==1?"hsv("+at+", "+Q+"%, "+ct+"%)":"hsva("+at+", "+Q+"%, "+ct+"%, "+this._roundA+")"},toHsl:function(){var H=o(this._r,this._g,this._b);return{h:H.h*360,s:H.s,l:H.l,a:this._a}},toHslString:function(){var H=o(this._r,this._g,this._b),at=v(H.h*360),Q=v(H.s*100),ct=v(H.l*100);return this._a==1?"hsl("+at+", "+Q+"%, "+ct+"%)":"hsla("+at+", "+Q+"%, "+ct+"%, "+this._roundA+")"},toHex:function(H){return _(this._r,this._g,this._b,H)},toHexString:function(H){return"#"+this.toHex(H)},toHex8:function(H){return a(this._r,this._g,this._b,this._a,H)},toHex8String:function(H){return"#"+this.toHex8(H)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[_(this._r,this._g,this._b,!0)]||!1},toFilter:function(H){var at="#"+c(this._r,this._g,this._b,this._a),Q=at,ct=this._gradientType?"GradientType = 1, ":"";if(H){var ft=l(H);Q="#"+c(ft._r,ft._g,ft._b,ft._a)}return"progid:DXImageTransform.Microsoft.gradient("+ct+"startColorstr="+at+",endColorstr="+Q+")"},toString:function(H){var at=!!H;H=H||this._format;var Q=!1,ct=this._a<1&&this._a>=0,ft=!at&&ct&&(H==="hex"||H==="hex6"||H==="hex3"||H==="hex4"||H==="hex8"||H==="name");return ft?H==="name"&&this._a===0?this.toName():this.toRgbString():(H==="rgb"&&(Q=this.toRgbString()),H==="prgb"&&(Q=this.toPercentageRgbString()),(H==="hex"||H==="hex6")&&(Q=this.toHexString()),H==="hex3"&&(Q=this.toHexString(!0)),H==="hex4"&&(Q=this.toHex8String(!0)),H==="hex8"&&(Q=this.toHex8String()),H==="name"&&(Q=this.toName()),H==="hsl"&&(Q=this.toHslString()),H==="hsv"&&(Q=this.toHsvString()),Q||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(H,at){var Q=H.apply(null,[this].concat([].slice.call(at)));return this._r=Q._r,this._g=Q._g,this._b=Q._b,this.setAlpha(Q._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(u,arguments)},_applyCombination:function(H,at){return H.apply(null,[this].concat([].slice.call(at)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},l.fromRatio=function(H,at){if(typeof H=="object"){var Q={};for(var ct in H)H.hasOwnProperty(ct)&&(ct==="a"?Q[ct]=H[ct]:Q[ct]=Y(H[ct]));H=Q}return l(H,at)};function n(H){var at={r:0,g:0,b:0},Q=1,ct=null,ft=null,yt=null,xt=!1,Lt=!1;return typeof H=="string"&&(H=ot(H)),typeof H=="object"&&(rt(H.r)&&rt(H.g)&&rt(H.b)?(at=s(H.r,H.g,H.b),xt=!0,Lt=String(H.r).substr(-1)==="%"?"prgb":"rgb"):rt(H.h)&&rt(H.s)&&rt(H.v)?(ct=Y(H.s),ft=Y(H.v),at=h(H.h,ct,ft),xt=!0,Lt="hsv"):rt(H.h)&&rt(H.s)&&rt(H.l)&&(ct=Y(H.s),yt=Y(H.l),at=f(H.h,ct,yt),xt=!0,Lt="hsl"),H.hasOwnProperty("a")&&(Q=H.a)),Q=N(Q),{ok:xt,format:H.format||Lt,r:d(255,r(at.r,0)),g:d(255,r(at.g,0)),b:d(255,r(at.b,0)),a:Q}}function s(H,at,Q){return{r:B(H,255)*255,g:B(at,255)*255,b:B(Q,255)*255}}function o(H,at,Q){H=B(H,255),at=B(at,255),Q=B(Q,255);var ct=r(H,at,Q),ft=d(H,at,Q),yt,xt,Lt=(ct+ft)/2;if(ct==ft)yt=xt=0;else{var gt=ct-ft;switch(xt=Lt>.5?gt/(2-ct-ft):gt/(ct+ft),ct){case H:yt=(at-Q)/gt+(at<Q?6:0);break;case at:yt=(Q-H)/gt+2;break;case Q:yt=(H-at)/gt+4;break}yt/=6}return{h:yt,s:xt,l:Lt}}function f(H,at,Q){var ct,ft,yt;H=B(H,360),at=B(at,100),Q=B(Q,100);function xt(mt,vt,At){return At<0&&(At+=1),At>1&&(At-=1),At<.16666666666666666?mt+(vt-mt)*6*At:At<.5?vt:At<.6666666666666666?mt+(vt-mt)*(.6666666666666666-At)*6:mt}if(at===0)ct=ft=yt=Q;else{var Lt=Q<.5?Q*(1+at):Q+at-Q*at,gt=2*Q-Lt;ct=xt(gt,Lt,H+.3333333333333333),ft=xt(gt,Lt,H),yt=xt(gt,Lt,H-.3333333333333333)}return{r:ct*255,g:ft*255,b:yt*255}}function b(H,at,Q){H=B(H,255),at=B(at,255),Q=B(Q,255);var ct=r(H,at,Q),ft=d(H,at,Q),yt,xt,Lt=ct,gt=ct-ft;if(xt=ct===0?0:gt/ct,ct==ft)yt=0;else{switch(ct){case H:yt=(at-Q)/gt+(at<Q?6:0);break;case at:yt=(Q-H)/gt+2;break;case Q:yt=(H-at)/gt+4;break}yt/=6}return{h:yt,s:xt,v:Lt}}function h(H,at,Q){H=B(H,360)*6,at=B(at,100),Q=B(Q,100);var ct=S.floor(H),ft=H-ct,yt=Q*(1-at),xt=Q*(1-ft*at),Lt=Q*(1-(1-ft)*at),gt=ct%6,mt=[Q,xt,yt,yt,Lt,Q][gt],vt=[Lt,Q,Q,xt,yt,yt][gt],At=[yt,yt,Lt,Q,Q,xt][gt];return{r:mt*255,g:vt*255,b:At*255}}function _(H,at,Q,ct){var ft=[nt(v(H).toString(16)),nt(v(at).toString(16)),nt(v(Q).toString(16))];return ct&&ft[0].charAt(0)==ft[0].charAt(1)&&ft[1].charAt(0)==ft[1].charAt(1)&&ft[2].charAt(0)==ft[2].charAt(1)?ft[0].charAt(0)+ft[1].charAt(0)+ft[2].charAt(0):ft.join("")}function a(H,at,Q,ct,ft){var yt=[nt(v(H).toString(16)),nt(v(at).toString(16)),nt(v(Q).toString(16)),nt(Z(ct))];return ft&&yt[0].charAt(0)==yt[0].charAt(1)&&yt[1].charAt(0)==yt[1].charAt(1)&&yt[2].charAt(0)==yt[2].charAt(1)&&yt[3].charAt(0)==yt[3].charAt(1)?yt[0].charAt(0)+yt[1].charAt(0)+yt[2].charAt(0)+yt[3].charAt(0):yt.join("")}function c(H,at,Q,ct){var ft=[nt(Z(ct)),nt(v(H).toString(16)),nt(v(at).toString(16)),nt(v(Q).toString(16))];return ft.join("")}l.equals=function(H,at){return!H||!at?!1:l(H).toRgbString()==l(at).toRgbString()},l.random=function(){return l.fromRatio({r:e(),g:e(),b:e()})};function p(H,at){at=at===0?0:at||10;var Q=l(H).toHsl();return Q.s-=at/100,Q.s=q(Q.s),l(Q)}function x(H,at){at=at===0?0:at||10;var Q=l(H).toHsl();return Q.s+=at/100,Q.s=q(Q.s),l(Q)}function k(H){return l(H).desaturate(100)}function y(H,at){at=at===0?0:at||10;var Q=l(H).toHsl();return Q.l+=at/100,Q.l=q(Q.l),l(Q)}function A(H,at){at=at===0?0:at||10;var Q=l(H).toRgb();return Q.r=r(0,d(255,Q.r-v(255*-(at/100)))),Q.g=r(0,d(255,Q.g-v(255*-(at/100)))),Q.b=r(0,d(255,Q.b-v(255*-(at/100)))),l(Q)}function C(H,at){at=at===0?0:at||10;var Q=l(H).toHsl();return Q.l-=at/100,Q.l=q(Q.l),l(Q)}function u(H,at){var Q=l(H).toHsl(),ct=(Q.h+at)%360;return Q.h=ct<0?360+ct:ct,l(Q)}function m(H){var at=l(H).toHsl();return at.h=(at.h+180)%360,l(at)}function M(H){var at=l(H).toHsl(),Q=at.h;return[l(H),l({h:(Q+120)%360,s:at.s,l:at.l}),l({h:(Q+240)%360,s:at.s,l:at.l})]}function w(H){var at=l(H).toHsl(),Q=at.h;return[l(H),l({h:(Q+90)%360,s:at.s,l:at.l}),l({h:(Q+180)%360,s:at.s,l:at.l}),l({h:(Q+270)%360,s:at.s,l:at.l})]}function z(H){var at=l(H).toHsl(),Q=at.h;return[l(H),l({h:(Q+72)%360,s:at.s,l:at.l}),l({h:(Q+216)%360,s:at.s,l:at.l})]}function O(H,at,Q){at=at||6,Q=Q||30;var ct=l(H).toHsl(),ft=360/Q,yt=[l(H)];for(ct.h=(ct.h-(ft*at>>1)+720)%360;--at;)ct.h=(ct.h+ft)%360,yt.push(l(ct));return yt}function D(H,at){at=at||6;for(var Q=l(H).toHsv(),ct=Q.h,ft=Q.s,yt=Q.v,xt=[],Lt=1/at;at--;)xt.push(l({h:ct,s:ft,v:yt})),yt=(yt+Lt)%1;return xt}l.mix=function(H,at,Q){Q=Q===0?0:Q||50;var ct=l(H).toRgb(),ft=l(at).toRgb(),yt=Q/100,xt={r:(ft.r-ct.r)*yt+ct.r,g:(ft.g-ct.g)*yt+ct.g,b:(ft.b-ct.b)*yt+ct.b,a:(ft.a-ct.a)*yt+ct.a};return l(xt)},l.readability=function(H,at){var Q=l(H),ct=l(at);return(S.max(Q.getLuminance(),ct.getLuminance())+.05)/(S.min(Q.getLuminance(),ct.getLuminance())+.05)},l.isReadable=function(H,at,Q){var ct=l.readability(H,at),ft,yt;switch(yt=!1,ft=W(Q),ft.level+ft.size){case"AAsmall":case"AAAlarge":yt=ct>=4.5;break;case"AAlarge":yt=ct>=3;break;case"AAAsmall":yt=ct>=7;break}return yt},l.mostReadable=function(H,at,Q){var ct=null,ft=0,yt,xt,Lt,gt;Q=Q||{},xt=Q.includeFallbackColors,Lt=Q.level,gt=Q.size;for(var mt=0;mt<at.length;mt++)yt=l.readability(H,at[mt]),yt>ft&&(ft=yt,ct=l(at[mt]));return l.isReadable(H,ct,{level:Lt,size:gt})||!xt?ct:(Q.includeFallbackColors=!1,l.mostReadable(H,["#fff","#000"],Q))};var P=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=l.hexNames=R(P);function R(H){var at={};for(var Q in H)H.hasOwnProperty(Q)&&(at[H[Q]]=Q);return at}function N(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function B(H,at){J(H)&&(H="100%");var Q=it(H);return H=d(at,r(0,parseFloat(H))),Q&&(H=parseInt(H*at,10)/100),S.abs(H-at)<1e-6?1:H%at/parseFloat(at)}function q(H){return d(1,r(0,H))}function V(H){return parseInt(H,16)}function J(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function it(H){return typeof H=="string"&&H.indexOf("%")!=-1}function nt(H){return H.length==1?"0"+H:""+H}function Y(H){return H<=1&&(H=H*100+"%"),H}function Z(H){return S.round(parseFloat(H)*255).toString(16)}function $(H){return V(H)/255}var G=function(){var H="[-\\+]?\\d+%?",at="[-\\+]?\\d*\\.\\d+%?",Q="(?:"+at+")|(?:"+H+")",ct="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",ft="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?";return{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+ct),rgba:new RegExp("rgba"+ft),hsl:new RegExp("hsl"+ct),hsla:new RegExp("hsla"+ft),hsv:new RegExp("hsv"+ct),hsva:new RegExp("hsva"+ft),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function rt(H){return!!G.CSS_UNIT.exec(H)}function ot(H){H=H.replace(i,"").replace(L,"").toLowerCase();var at=!1;if(P[H])H=P[H],at=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Q;return(Q=G.rgb.exec(H))?{r:Q[1],g:Q[2],b:Q[3]}:(Q=G.rgba.exec(H))?{r:Q[1],g:Q[2],b:Q[3],a:Q[4]}:(Q=G.hsl.exec(H))?{h:Q[1],s:Q[2],l:Q[3]}:(Q=G.hsla.exec(H))?{h:Q[1],s:Q[2],l:Q[3],a:Q[4]}:(Q=G.hsv.exec(H))?{h:Q[1],s:Q[2],v:Q[3]}:(Q=G.hsva.exec(H))?{h:Q[1],s:Q[2],v:Q[3],a:Q[4]}:(Q=G.hex8.exec(H))?{r:V(Q[1]),g:V(Q[2]),b:V(Q[3]),a:$(Q[4]),format:at?"name":"hex8"}:(Q=G.hex6.exec(H))?{r:V(Q[1]),g:V(Q[2]),b:V(Q[3]),format:at?"name":"hex"}:(Q=G.hex4.exec(H))?{r:V(Q[1]+""+Q[1]),g:V(Q[2]+""+Q[2]),b:V(Q[3]+""+Q[3]),a:$(Q[4]+""+Q[4]),format:at?"name":"hex8"}:(Q=G.hex3.exec(H))?{r:V(Q[1]+""+Q[1]),g:V(Q[2]+""+Q[2]),b:V(Q[3]+""+Q[3]),format:at?"name":"hex"}:!1}function W(H){var at,Q;return H=H||{level:"AA",size:"small"},at=(H.level||"AA").toUpperCase(),Q=(H.size||"small").toLowerCase(),at!=="AA"&&at!=="AAA"&&(at="AA"),Q!=="small"&&Q!=="large"&&(Q="small"),{level:at,size:Q}}tt.exports?tt.exports=l:(E=(function(){return l}).call(U,t,U,tt),E!==void 0&&(tt.exports=E))})(Math)},37816:function(tt){tt.exports=E,tt.exports.float32=tt.exports.float=E,tt.exports.fract32=tt.exports.fract=t;var U=new Float32Array(1);function t(S,i){if(S.length){if(S instanceof Float32Array)return new Float32Array(S.length);i instanceof Float32Array||(i=E(S));for(var L=0,T=i.length;L<T;L++)i[L]=S[L]-i[L];return i}return E(S-E(S))}function E(S){return S.length?S instanceof Float32Array?S:new Float32Array(S):(U[0]=S,U[0])}},23464:function(tt,U,t){var E=t(65819);tt.exports=T;var S=96;function i(v,d){var r=E(getComputedStyle(v).getPropertyValue(d));return r[0]*T(r[1],v)}function L(v,d){var r=document.createElement("div");r.style["font-size"]="128"+v,d.appendChild(r);var e=i(r,"font-size")/128;return d.removeChild(r),e}function T(v,d){switch(d=d||document.body,v=(v||"px").trim().toLowerCase(),(d===window||d===document)&&(d=document.body),v){case"%":return d.clientHeight/100;case"ch":case"ex":return L(v,d);case"em":return i(d,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return S;case"cm":return S/2.54;case"mm":return S/25.4;case"pt":return S/72;case"pc":return S/6}return 1}},55712:function(tt,U,t){t.d(U,{NO:function(){return L}});function E(d,r){for(var e,l=d.length,n=l-r;n<--l;)e=d[n],d[n++]=d[l],d[l]=e}function S(d){return d}function i(d){if(d==null)return S;var r,e,l=d.scale[0],n=d.scale[1],s=d.translate[0],o=d.translate[1];return function(f,b){b||(r=e=0);var h=2,_=f.length,a=new Array(_);for(a[0]=(r+=f[0])*l+s,a[1]=(e+=f[1])*n+o;h<_;)a[h]=f[h],++h;return a}}function L(d,r){return typeof r=="string"&&(r=d.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(e){return T(d,e)})}:T(d,r)}function T(d,r){var e=r.id,l=r.bbox,n=r.properties==null?{}:r.properties,s=v(d,r);return e==null&&l==null?{type:"Feature",properties:n,geometry:s}:l==null?{type:"Feature",id:e,properties:n,geometry:s}:{type:"Feature",id:e,bbox:l,properties:n,geometry:s}}function v(d,r){var e=i(d.transform),l=d.arcs;function n(_,a){a.length&&a.pop();for(var c=l[_<0?~_:_],p=0,x=c.length;p<x;++p)a.push(e(c[p],p));_<0&&E(a,x)}function s(_){return e(_)}function o(_){for(var a=[],c=0,p=_.length;c<p;++c)n(_[c],a);return a.length<2&&a.push(a[0]),a}function f(_){for(var a=o(_);a.length<4;)a.push(a[0]);return a}function b(_){return _.map(f)}function h(_){var a=_.type,c;switch(a){case"GeometryCollection":return{type:a,geometries:_.geometries.map(h)};case"Point":c=s(_.coordinates);break;case"MultiPoint":c=_.coordinates.map(s);break;case"LineString":c=o(_.arcs);break;case"MultiLineString":c=_.arcs.map(o);break;case"Polygon":c=b(_.arcs);break;case"MultiPolygon":c=_.arcs.map(b);break;default:return null}return{type:a,coordinates:c}}return h(r)}},73384:function(tt,U,t){var E=t(54612);tt.exports=function(S){if(typeof S!="function"||!hasOwnProperty.call(S,"length"))return!1;try{if(typeof S.length!="number"||typeof S.call!="function"||typeof S.apply!="function")return!1}catch{return!1}return!E(S)}},57980:function(tt,U,t){var E=t(81680),S=t(7328),i=t(33940),L=t(18856),T=function(v,d){return v.replace("%v",L(d))};tt.exports=function(v,d,r){if(!S(r))throw new TypeError(T(d,v));if(!E(v)){if("default"in r)return r.default;if(r.isOptional)return null}var e=i(r.errorMessage);throw E(e)||(e=d),new TypeError(T(e,v))}},32336:function(tt){tt.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},18856:function(tt,U,t){var E=t(32336),S=/[\n\r\u2028\u2029]/g;tt.exports=function(i){var L=E(i);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"\u2026"),L=L.replace(S,function(T){switch(T){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(tt,U,t){var E=t(81680),S={object:!0,function:!0,undefined:!0};tt.exports=function(i){return E(i)?hasOwnProperty.call(S,typeof i):!1}},87396:function(tt,U,t){var E=t(57980),S=t(85488);tt.exports=function(i){return S(i)?i:E(i,"%v is not a plain function",arguments[1])}},85488:function(tt,U,t){var E=t(73384),S=/^\s*class[\s{/}]/,i=Function.prototype.toString;tt.exports=function(L){return!(!E(L)||S.test(i.call(L)))}},54612:function(tt,U,t){var E=t(7328);tt.exports=function(S){if(!E(S))return!1;try{return S.constructor?S.constructor.prototype===S:!1}catch{return!1}}},33940:function(tt,U,t){var E=t(81680),S=t(7328),i=Object.prototype.toString;tt.exports=function(L){if(!E(L))return null;if(S(L)){var T=L.toString;if(typeof T!="function"||T===i)return null}try{return""+L}catch{return null}}},18496:function(tt,U,t){var E=t(57980),S=t(81680);tt.exports=function(i){return S(i)?i:E(i,"Cannot use %v",arguments[1])}},81680:function(tt){var U=void 0;tt.exports=function(t){return t!==U&&t!==null}},14144:function(tt,U,t){var E=t(308),S=t(10352),i=t(33576).Buffer;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:S([32,0]),UINT16:S([32,0]),UINT32:S([32,0]),BIGUINT64:S([32,0]),INT8:S([32,0]),INT16:S([32,0]),INT32:S([32,0]),BIGINT64:S([32,0]),FLOAT:S([32,0]),DOUBLE:S([32,0]),DATA:S([32,0]),UINT8C:S([32,0]),BUFFER:S([32,0])});var L=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",d=t.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=S([32,0])),d.BIGUINT64||(d.BIGUINT64=S([32,0])),d.BIGINT64||(d.BIGINT64=S([32,0])),d.BUFFER||(d.BUFFER=S([32,0]));var r=d.DATA,e=d.BUFFER;U.free=function(u){if(i.isBuffer(u))e[E.log2(u.length)].push(u);else{if(Object.prototype.toString.call(u)!=="[object ArrayBuffer]"&&(u=u.buffer),!u)return;var m=u.length||u.byteLength,M=E.log2(m)|0;r[M].push(u)}};function l(u){if(u){var m=u.length||u.byteLength,M=E.log2(m);r[M].push(u)}}function n(u){l(u.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=n,U.freeArrayBuffer=l,U.freeBuffer=function(u){e[E.log2(u.length)].push(u)},U.malloc=function(u,m){if(m===void 0||m==="arraybuffer")return s(u);switch(m){case"uint8":return o(u);case"uint16":return f(u);case"uint32":return b(u);case"int8":return h(u);case"int16":return _(u);case"int32":return a(u);case"float":case"float32":return c(u);case"double":case"float64":return p(u);case"uint8_clamped":return x(u);case"bigint64":return y(u);case"biguint64":return k(u);case"buffer":return C(u);case"data":case"dataview":return A(u);default:return null}return null};function s(m){var m=E.nextPow2(m),M=E.log2(m),w=r[M];return w.length>0?w.pop():new ArrayBuffer(m)}U.mallocArrayBuffer=s;function o(u){return new Uint8Array(s(u),0,u)}U.mallocUint8=o;function f(u){return new Uint16Array(s(2*u),0,u)}U.mallocUint16=f;function b(u){return new Uint32Array(s(4*u),0,u)}U.mallocUint32=b;function h(u){return new Int8Array(s(u),0,u)}U.mallocInt8=h;function _(u){return new Int16Array(s(2*u),0,u)}U.mallocInt16=_;function a(u){return new Int32Array(s(4*u),0,u)}U.mallocInt32=a;function c(u){return new Float32Array(s(4*u),0,u)}U.mallocFloat32=U.mallocFloat=c;function p(u){return new Float64Array(s(8*u),0,u)}U.mallocFloat64=U.mallocDouble=p;function x(u){return L?new Uint8ClampedArray(s(u),0,u):o(u)}U.mallocUint8Clamped=x;function k(u){return T?new BigUint64Array(s(8*u),0,u):null}U.mallocBigUint64=k;function y(u){return v?new BigInt64Array(s(8*u),0,u):null}U.mallocBigInt64=y;function A(u){return new DataView(s(u),0,u)}U.mallocDataView=A;function C(u){u=E.nextPow2(u);var m=E.log2(u),M=e[m];return M.length>0?M.pop():new i(u)}U.mallocBuffer=C,U.clearCache=function(){for(var u=0;u<32;++u)d.UINT8[u].length=0,d.UINT16[u].length=0,d.UINT32[u].length=0,d.INT8[u].length=0,d.INT16[u].length=0,d.INT32[u].length=0,d.FLOAT[u].length=0,d.DOUBLE[u].length=0,d.BIGUINT64[u].length=0,d.BIGINT64[u].length=0,d.UINT8C[u].length=0,r[u].length=0,e[u].length=0}},92384:function(tt){var U=/[\'\"]/;tt.exports=function(t){return t?(U.test(t.charAt(0))&&(t=t.substr(1)),U.test(t.charAt(t.length-1))&&(t=t.substr(0,t.length-1)),t):""}},45223:function(tt){tt.exports=function(U,t,E){Array.isArray(E)||(E=[].slice.call(arguments,2));for(var S=0,i=E.length;S<i;S++){var L=E[S];for(var T in L)if(!(t[T]!==void 0&&!Array.isArray(t[T])&&U[T]===t[T])&&T in t){var v;if(L[T]===!0)v=t[T];else if(L[T]===!1||typeof L[T]=="function"&&(v=L[T](t[T],U,t),v===void 0))continue;U[T]=v}}return U}},96656:function(tt,U,t){tt.exports=E;function E(i,L){if(S("noDeprecation"))return i;var T=!1;function v(){if(!T){if(S("throwDeprecation"))throw new Error(L);S("traceDeprecation")?console.trace(L):console.warn(L),T=!0}return i.apply(this,arguments)}return v}function S(i){try{if(!t.g.localStorage)return!1}catch{return!1}var L=t.g.localStorage[i];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(tt){tt.exports=function(U){return U&&typeof U=="object"&&typeof U.copy=="function"&&typeof U.fill=="function"&&typeof U.readUInt8=="function"}},41088:function(tt,U,t){var E=t(91148),S=t(84420),i=t(96632),L=t(7728);function T(yt){return yt.call.bind(yt)}var v=typeof BigInt<"u",d=typeof Symbol<"u",r=T(Object.prototype.toString),e=T(Number.prototype.valueOf),l=T(String.prototype.valueOf),n=T(Boolean.prototype.valueOf);if(v)var s=T(BigInt.prototype.valueOf);if(d)var o=T(Symbol.prototype.valueOf);function f(yt,xt){if(typeof yt!="object")return!1;try{return xt(yt),!0}catch{return!1}}U.isArgumentsObject=E,U.isGeneratorFunction=S,U.isTypedArray=L;function b(yt){return typeof Promise<"u"&&yt instanceof Promise||yt!==null&&typeof yt=="object"&&typeof yt.then=="function"&&typeof yt.catch=="function"}U.isPromise=b;function h(yt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(yt):L(yt)||V(yt)}U.isArrayBufferView=h;function _(yt){return i(yt)==="Uint8Array"}U.isUint8Array=_;function a(yt){return i(yt)==="Uint8ClampedArray"}U.isUint8ClampedArray=a;function c(yt){return i(yt)==="Uint16Array"}U.isUint16Array=c;function p(yt){return i(yt)==="Uint32Array"}U.isUint32Array=p;function x(yt){return i(yt)==="Int8Array"}U.isInt8Array=x;function k(yt){return i(yt)==="Int16Array"}U.isInt16Array=k;function y(yt){return i(yt)==="Int32Array"}U.isInt32Array=y;function A(yt){return i(yt)==="Float32Array"}U.isFloat32Array=A;function C(yt){return i(yt)==="Float64Array"}U.isFloat64Array=C;function u(yt){return i(yt)==="BigInt64Array"}U.isBigInt64Array=u;function m(yt){return i(yt)==="BigUint64Array"}U.isBigUint64Array=m;function M(yt){return r(yt)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function w(yt){return typeof Map>"u"?!1:M.working?M(yt):yt instanceof Map}U.isMap=w;function z(yt){return r(yt)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function O(yt){return typeof Set>"u"?!1:z.working?z(yt):yt instanceof Set}U.isSet=O;function D(yt){return r(yt)==="[object WeakMap]"}D.working=typeof WeakMap<"u"&&D(new WeakMap);function P(yt){return typeof WeakMap>"u"?!1:D.working?D(yt):yt instanceof WeakMap}U.isWeakMap=P;function F(yt){return r(yt)==="[object WeakSet]"}F.working=typeof WeakSet<"u"&&F(new WeakSet);function R(yt){return F(yt)}U.isWeakSet=R;function N(yt){return r(yt)==="[object ArrayBuffer]"}N.working=typeof ArrayBuffer<"u"&&N(new ArrayBuffer);function B(yt){return typeof ArrayBuffer>"u"?!1:N.working?N(yt):yt instanceof ArrayBuffer}U.isArrayBuffer=B;function q(yt){return r(yt)==="[object DataView]"}q.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&q(new DataView(new ArrayBuffer(1),0,1));function V(yt){return typeof DataView>"u"?!1:q.working?q(yt):yt instanceof DataView}U.isDataView=V;var J=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function it(yt){return r(yt)==="[object SharedArrayBuffer]"}function nt(yt){return typeof J>"u"?!1:(typeof it.working>"u"&&(it.working=it(new J)),it.working?it(yt):yt instanceof J)}U.isSharedArrayBuffer=nt;function Y(yt){return r(yt)==="[object AsyncFunction]"}U.isAsyncFunction=Y;function Z(yt){return r(yt)==="[object Map Iterator]"}U.isMapIterator=Z;function $(yt){return r(yt)==="[object Set Iterator]"}U.isSetIterator=$;function G(yt){return r(yt)==="[object Generator]"}U.isGeneratorObject=G;function rt(yt){return r(yt)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=rt;function ot(yt){return f(yt,e)}U.isNumberObject=ot;function W(yt){return f(yt,l)}U.isStringObject=W;function H(yt){return f(yt,n)}U.isBooleanObject=H;function at(yt){return v&&f(yt,s)}U.isBigIntObject=at;function Q(yt){return d&&f(yt,o)}U.isSymbolObject=Q;function ct(yt){return ot(yt)||W(yt)||H(yt)||at(yt)||Q(yt)}U.isBoxedPrimitive=ct;function ft(yt){return typeof Uint8Array<"u"&&(B(yt)||nt(yt))}U.isAnyArrayBuffer=ft,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(yt){Object.defineProperty(U,yt,{enumerable:!1,value:function(){throw new Error(yt+" is not supported in userland")}})})},35840:function(tt,U,t){var E=t(4168),S=Object.getOwnPropertyDescriptors||function(V){for(var J=Object.keys(V),it={},nt=0;nt<J.length;nt++)it[J[nt]]=Object.getOwnPropertyDescriptor(V,J[nt]);return it},i=/%[sdj%]/g;U.format=function(V){if(!k(V)){for(var J=[],it=0;it<arguments.length;it++)J.push(d(arguments[it]));return J.join(" ")}for(var it=1,nt=arguments,Y=nt.length,Z=String(V).replace(i,function(rt){if(rt==="%%")return"%";if(it>=Y)return rt;switch(rt){case"%s":return String(nt[it++]);case"%d":return Number(nt[it++]);case"%j":try{return JSON.stringify(nt[it++])}catch{return"[Circular]"}default:return rt}}),$=nt[it];it<Y;$=nt[++it])c($)||!u($)?Z+=" "+$:Z+=" "+d($);return Z},U.deprecate=function(V,J){if(typeof E<"u"&&E.noDeprecation===!0)return V;if(typeof E>"u")return function(){return U.deprecate(V,J).apply(this,arguments)};var it=!1;function nt(){if(!it){if(E.throwDeprecation)throw new Error(J);E.traceDeprecation?console.trace(J):console.error(J),it=!0}return V.apply(this,arguments)}return nt};var L={},T=/^$/;if(E.env.NODE_DEBUG){var v=E.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+v+"$","i")}U.debuglog=function(V){if(V=V.toUpperCase(),!L[V])if(T.test(V)){var J=E.pid;L[V]=function(){var it=U.format.apply(U,arguments);console.error("%s %d: %s",V,J,it)}}else L[V]=function(){};return L[V]};function d(V,J){var it={seen:[],stylize:e};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),a(J)?it.showHidden=J:J&&U._extend(it,J),A(it.showHidden)&&(it.showHidden=!1),A(it.depth)&&(it.depth=2),A(it.colors)&&(it.colors=!1),A(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=r),n(it,V,it.depth)}U.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(V,J){var it=d.styles[J];return it?"\x1B["+d.colors[it][0]+"m"+V+"\x1B["+d.colors[it][1]+"m":V}function e(V,J){return V}function l(V){var J={};return V.forEach(function(it,nt){J[it]=!0}),J}function n(V,J,it){if(V.customInspect&&J&&w(J.inspect)&&J.inspect!==U.inspect&&!(J.constructor&&J.constructor.prototype===J)){var nt=J.inspect(it,V);return k(nt)||(nt=n(V,nt,it)),nt}var Y=s(V,J);if(Y)return Y;var Z=Object.keys(J),$=l(Z);if(V.showHidden&&(Z=Object.getOwnPropertyNames(J)),M(J)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return o(J);if(Z.length===0){if(w(J)){var G=J.name?": "+J.name:"";return V.stylize("[Function"+G+"]","special")}if(C(J))return V.stylize(RegExp.prototype.toString.call(J),"regexp");if(m(J))return V.stylize(Date.prototype.toString.call(J),"date");if(M(J))return o(J)}var rt="",ot=!1,W=["{","}"];if(_(J)&&(ot=!0,W=["[","]"]),w(J)){var H=J.name?": "+J.name:"";rt=" [Function"+H+"]"}if(C(J)&&(rt=" "+RegExp.prototype.toString.call(J)),m(J)&&(rt=" "+Date.prototype.toUTCString.call(J)),M(J)&&(rt=" "+o(J)),Z.length===0&&(!ot||J.length==0))return W[0]+rt+W[1];if(it<0)return C(J)?V.stylize(RegExp.prototype.toString.call(J),"regexp"):V.stylize("[Object]","special");V.seen.push(J);var at;return ot?at=f(V,J,it,$,Z):at=Z.map(function(Q){return b(V,J,it,$,Q,ot)}),V.seen.pop(),h(at,rt,W)}function s(V,J){if(A(J))return V.stylize("undefined","undefined");if(k(J)){var it="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(it,"string")}if(x(J))return V.stylize(""+J,"number");if(a(J))return V.stylize(""+J,"boolean");if(c(J))return V.stylize("null","null")}function o(V){return"["+Error.prototype.toString.call(V)+"]"}function f(V,J,it,nt,Y){for(var Z=[],$=0,G=J.length;$<G;++$)R(J,String($))?Z.push(b(V,J,it,nt,String($),!0)):Z.push("");return Y.forEach(function(rt){rt.match(/^\d+$/)||Z.push(b(V,J,it,nt,rt,!0))}),Z}function b(V,J,it,nt,Y,Z){var $,G,rt;if(rt=Object.getOwnPropertyDescriptor(J,Y)||{value:J[Y]},rt.get?rt.set?G=V.stylize("[Getter/Setter]","special"):G=V.stylize("[Getter]","special"):rt.set&&(G=V.stylize("[Setter]","special")),R(nt,Y)||($="["+Y+"]"),G||(V.seen.indexOf(rt.value)<0?(c(it)?G=n(V,rt.value,null):G=n(V,rt.value,it-1),G.indexOf(`
`)>-1&&(Z?G=G.split(`
`).map(function(ot){return"  "+ot}).join(`
`).slice(2):G=`
`+G.split(`
`).map(function(ot){return"   "+ot}).join(`
`))):G=V.stylize("[Circular]","special")),A($)){if(Z&&Y.match(/^\d+$/))return G;$=JSON.stringify(""+Y),$.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($=$.slice(1,-1),$=V.stylize($,"name")):($=$.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$=V.stylize($,"string"))}return $+": "+G}function h(V,J,it){var nt=0,Y=V.reduce(function(Z,$){return nt++,$.indexOf(`
`)>=0&&nt++,Z+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Y>60?it[0]+(J===""?"":J+`
 `)+" "+V.join(`,
  `)+" "+it[1]:it[0]+J+" "+V.join(", ")+" "+it[1]}U.types=t(41088);function _(V){return Array.isArray(V)}U.isArray=_;function a(V){return typeof V=="boolean"}U.isBoolean=a;function c(V){return V===null}U.isNull=c;function p(V){return V==null}U.isNullOrUndefined=p;function x(V){return typeof V=="number"}U.isNumber=x;function k(V){return typeof V=="string"}U.isString=k;function y(V){return typeof V=="symbol"}U.isSymbol=y;function A(V){return V===void 0}U.isUndefined=A;function C(V){return u(V)&&O(V)==="[object RegExp]"}U.isRegExp=C,U.types.isRegExp=C;function u(V){return typeof V=="object"&&V!==null}U.isObject=u;function m(V){return u(V)&&O(V)==="[object Date]"}U.isDate=m,U.types.isDate=m;function M(V){return u(V)&&(O(V)==="[object Error]"||V instanceof Error)}U.isError=M,U.types.isNativeError=M;function w(V){return typeof V=="function"}U.isFunction=w;function z(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||typeof V>"u"}U.isPrimitive=z,U.isBuffer=t(75272);function O(V){return Object.prototype.toString.call(V)}function D(V){return V<10?"0"+V.toString(10):V.toString(10)}var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var V=new Date,J=[D(V.getHours()),D(V.getMinutes()),D(V.getSeconds())].join(":");return[V.getDate(),P[V.getMonth()],J].join(" ")}U.log=function(){console.log("%s - %s",F(),U.format.apply(U,arguments))},U.inherits=t(6768),U._extend=function(V,J){if(!J||!u(J))return V;for(var it=Object.keys(J),nt=it.length;nt--;)V[it[nt]]=J[it[nt]];return V};function R(V,J){return Object.prototype.hasOwnProperty.call(V,J)}var N=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;U.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(N&&V[N]){var J=V[N];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,N,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var it,nt,Y=new Promise(function(G,rt){it=G,nt=rt}),Z=[],$=0;$<arguments.length;$++)Z.push(arguments[$]);Z.push(function(G,rt){G?nt(G):it(rt)});try{V.apply(this,Z)}catch(G){nt(G)}return Y}return Object.setPrototypeOf(J,Object.getPrototypeOf(V)),N&&Object.defineProperty(J,N,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,S(V))},U.promisify.custom=N;function B(V,J){if(!V){var it=new Error("Promise was rejected with a falsy value");it.reason=V,V=it}return J(V)}function q(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var it=[],nt=0;nt<arguments.length;nt++)it.push(arguments[nt]);var Y=it.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var Z=this,$=function(){return Y.apply(Z,arguments)};V.apply(this,it).then(function(G){E.nextTick($.bind(null,null,G))},function(G){E.nextTick(B.bind(null,G,$))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(V)),Object.defineProperties(J,S(V)),J}U.callbackify=q},5408:function(tt,U,t){var E=t(13380);tt.exports=function(S){return E("webgl",S)}},96632:function(tt,U,t){var E=t(46492),S=t(63436),i=t(57916),L=t(99676),T=t(2304),v=L("Object.prototype.toString"),d=t(46672)(),r=typeof globalThis>"u"?t.g:globalThis,e=S(),l=L("String.prototype.slice"),n=Object.getPrototypeOf,s=L("Array.prototype.indexOf",!0)||function(h,_){for(var a=0;a<h.length;a+=1)if(h[a]===_)return a;return-1},o={__proto__:null};d&&T&&n?E(e,function(h){var _=new r[h];if(Symbol.toStringTag in _){var a=n(_),c=T(a,Symbol.toStringTag);if(!c){var p=n(a);c=T(p,Symbol.toStringTag)}o["$"+h]=i(c.get)}}):E(e,function(h){var _=new r[h],a=_.slice||_.set;a&&(o["$"+h]=i(a))});var f=function(h){var _=!1;return E(o,function(a,c){if(!_)try{"$"+a(h)===c&&(_=l(c,1))}catch{}}),_},b=function(h){var _=!1;return E(o,function(a,c){if(!_)try{a(h),_=l(c,1)}catch{}}),_};tt.exports=function(h){if(!h||typeof h!="object")return!1;if(!d){var _=l(v(h),8,-1);return s(e,_)>-1?_:_!=="Object"?!1:b(h)}return T?f(h):null}},67020:function(tt,U,t){var E=t(38700),S=t(50896),i=E.instance();function L(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}L.prototype=new E.baseCalendar,S(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,f){if(typeof o=="string"){var b=o.match(v);return b?b[0]:""}var h=this._validateYear(o),_=o.month(),a=""+this.toChineseMonth(h,_);return f&&a.length<2&&(a="0"+a),this.isIntercalaryMonth(h,_)&&(a+="i"),a},monthNames:function(o){if(typeof o=="string"){var f=o.match(d);return f?f[0]:""}var b=this._validateYear(o),h=o.month(),_=this.toChineseMonth(b,h),a=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][_-1];return this.isIntercalaryMonth(b,h)&&(a="\u95F0"+a),a},monthNamesShort:function(o){if(typeof o=="string"){var f=o.match(r);return f?f[0]:""}var b=this._validateYear(o),h=o.month(),_=this.toChineseMonth(b,h),a=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][_-1];return this.isIntercalaryMonth(b,h)&&(a="\u95F0"+a),a},parseMonth:function(o,f){o=this._validateYear(o);var b=parseInt(f),h;if(isNaN(b))f[0]==="\u95F0"&&(h=!0,f=f.substring(1)),f[f.length-1]==="\u6708"&&(f=f.substring(0,f.length-1)),b=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(f);else{var _=f[f.length-1];h=_==="i"||_==="I"}var a=this.toMonthIndex(o,b,h);return a},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,f){if(o.year&&(o=o.year()),typeof o!="number"||o<1888||o>2111)throw f.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,f,b){var h=this.intercalaryMonth(o),_=b&&f!==h;if(_||f<1||f>12)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return h?!b&&f<=h?a=f-1:a=f:a=f-1,a},toChineseMonth:function(o,f){o.year&&(o=o.year(),f=o.month());var b=this.intercalaryMonth(o),h=b?12:11;if(f<0||f>h)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var _;return b?f<b?_=f+1:_=f:_=f+1,_},intercalaryMonth:function(o){o=this._validateYear(o);var f=e[o-e[0]],b=f>>13;return b},isIntercalaryMonth:function(o,f){o.year&&(o=o.year(),f=o.month());var b=this.intercalaryMonth(o);return!!b&&b===f},leapYear:function(o){return this.intercalaryMonth(o)!==0},weekOfYear:function(o,f,b){var h=this._validateYear(o,E.local.invalidyear),_=l[h-l[0]],a=_>>9&4095,c=_>>5&15,p=_&31,x;x=i.newDate(a,c,p),x.add(4-(x.dayOfWeek()||7),"d");var k=this.toJD(o,f,b)-x.toJD();return 1+Math.floor(k/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,f){o.year&&(f=o.month(),o=o.year()),o=this._validateYear(o);var b=e[o-e[0]],h=b>>13,_=h?12:11;if(f>_)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var a=b&1<<12-f?30:29;return a},weekDay:function(o,f,b){return(this.dayOfWeek(o,f,b)||7)<6},toJD:function(o,f,b){var h=this._validate(o,a,b,E.local.invalidDate);o=this._validateYear(h.year()),f=h.month(),b=h.day();var _=this.isIntercalaryMonth(o,f),a=this.toChineseMonth(o,f),c=s(o,a,b,_);return i.toJD(c.year,c.month,c.day)},fromJD:function(o){var f=i.fromJD(o),b=n(f.year(),f.month(),f.day()),h=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,h,b.day)},fromString:function(o){var f=o.match(T),b=this._validateYear(+f[1]),h=+f[2],_=!!f[3],a=this.toMonthIndex(b,h,_),c=+f[4];return this.newDate(b,a,c)},add:function(o,f,b){var h=o.year(),_=o.month(),a=this.isIntercalaryMonth(h,_),c=this.toChineseMonth(h,_),p=Object.getPrototypeOf(L.prototype).add.call(this,o,f,b);if(b==="y"){var x=p.year(),k=p.month(),y=this.isIntercalaryMonth(x,c),A=a&&y?this.toMonthIndex(x,c,!0):this.toMonthIndex(x,c,!1);A!==k&&p.month(A)}return p}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,d=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;E.calendars.chinese=L;var e=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(o,f,b,h){var _,a;if(typeof o=="object")_=o,a=f||{};else{var c=typeof o=="number"&&o>=1888&&o<=2111;if(!c)throw new Error("Solar year outside range 1888-2111");var p=typeof f=="number"&&f>=1&&f<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var x=typeof b=="number"&&b>=1&&b<=31;if(!x)throw new Error("Solar day outside range 1 - 31");_={year:o,month:f,day:b},a=h||{}}var k=l[_.year-l[0]],y=_.year<<9|_.month<<5|_.day;a.year=y>=k?_.year:_.year-1,k=l[a.year-l[0]];var A=k>>9&4095,C=k>>5&15,u=k&31,m,M=new Date(A,C-1,u),w=new Date(_.year,_.month-1,_.day);m=Math.round((w-M)/864e5);var z=e[a.year-e[0]],O;for(O=0;O<13;O++){var D=z&1<<12-O?30:29;if(m<D)break;m-=D}var P=z>>13;return!P||O<P?(a.isIntercalary=!1,a.month=1+O):O===P?(a.isIntercalary=!0,a.month=O):(a.isIntercalary=!1,a.month=O),a.day=1+m,a}function s(o,f,b,h,_){var a,c;if(typeof o=="object")c=o,a=f||{};else{var p=typeof o=="number"&&o>=1888&&o<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var x=typeof f=="number"&&f>=1&&f<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var k=typeof b=="number"&&b>=1&&b<=30;if(!k)throw new Error("Lunar day outside range 1 - 30");var y;typeof h=="object"?(y=!1,a=h):(y=!!h,a=_||{}),c={year:o,month:f,day:b,isIntercalary:y}}var A;A=c.day-1;var C=e[c.year-e[0]],u=C>>13,m;u&&(c.month>u||c.isIntercalary)?m=c.month:m=c.month-1;for(var M=0;M<m;M++){var w=C&1<<12-M?30:29;A+=w}var z=l[c.year-l[0]],O=z>>9&4095,D=z>>5&15,P=z&31,F=new Date(O,D-1,P+A);return a.year=F.getFullYear(),a.month=1+F.getMonth(),a.day=F.getDate(),a}},89792:function(tt,U,t){var E=t(38700),S=t(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,E.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear),13},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,E.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var d=this._validate(L,T,v,E.local.invalidDate);return L=d.year(),L<0&&L++,d.day()+(d.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var T=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(T/30)+1,r=T-(d-1)*30+1;return this.newDate(v,d,r)}}),E.calendars.coptic=i},55668:function(tt,U,t){var E=t(38700),S=t(50896);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,E.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,E.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,E.local.invalidYear),400},weekOfYear:function(T,v,d){var r=this.newDate(T,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,E.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate);return(r.day()+1)%8},weekDay:function(T,v,d){var r=this.dayOfWeek(T,v,d);return r>=2&&r<=6},extraInfo:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate);return T=r.year()+(r.year()<0?1:0),v=r.month(),d=r.day(),d+(v>1?16:0)+(v>2?(v-2)*32:0)+(T-1)*400+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(T/400)+1;T-=(v-1)*400,T+=T>15?16:0;var d=Math.floor(T/32)+1,r=T-(d-1)*32+1;return this.newDate(v<=0?v-1:v,d,r)}});var L={20:"Fruitbat",21:"Anchovy"};E.calendars.discworld=i},65168:function(tt,U,t){var E=t(38700),S=t(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,E.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear),13},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,E.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var d=this._validate(L,T,v,E.local.invalidDate);return L=d.year(),L<0&&L++,d.day()+(d.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var T=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(T/30)+1,r=T-(d-1)*30+1;return this.newDate(v,d,r)}}),E.calendars.ethiopian=i},2084:function(tt,U,t){var E=t(38700),S=t(50896);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,E.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(T){return T=T<0?T+1:T,L(T*7+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,E.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,v,d){var r=this.newDate(T,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,E.local.invalidYear);return T=v.year(),this.toJD(T===-1?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,v){return T.year&&(v=T.month(),T=T.year()),this._validate(T,v,this.minDay,E.local.invalidMonth),v===12&&this.leapYear(T)||v===8&&L(this.daysInYear(T),10)===5?30:v===9&&L(this.daysInYear(T),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(T,v,d){return this.dayOfWeek(T,v,d)!==6},extraInfo:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate);T=r.year(),v=r.month(),d=r.day();var e=T<=0?T+1:T,l=this.jdEpoch+this._delay1(e)+this._delay2(e)+d+1;if(v<7){for(var n=7;n<=this.monthsInYear(T);n++)l+=this.daysInMonth(T,n);for(var n=1;n<v;n++)l+=this.daysInMonth(T,n)}else for(var n=7;n<v;n++)l+=this.daysInMonth(T,n);return l},_delay1:function(T){var v=Math.floor((235*T-234)/19),d=12084+13753*v,r=v*29+Math.floor(d/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(T){var v=this._delay1(T-1),d=this._delay1(T),r=this._delay1(T+1);return r-d===356?2:d-v===382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var v=Math.floor((T-this.jdEpoch)*98496/35975351)-1;T>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var d=T<this.toJD(v,1,1)?7:1;T>this.toJD(v,d,this.daysInMonth(v,d));)d++;var r=T-this.toJD(v,d,1)+1;return this.newDate(v,d,r)}});function L(T,v){return T-v*Math.floor(T/v)}E.calendars.hebrew=i},26368:function(tt,U,t){var E=t(38700),S=t(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var T=this._validate(L,this.minMonth,this.minDay,E.local.invalidYear);return(T.year()*11+14)%30<11},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,E.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return this.dayOfWeek(L,T,v)!==5},toJD:function(L,T,v){var d=this._validate(L,T,v,E.local.invalidDate);return L=d.year(),T=d.month(),v=d.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(T-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var T=Math.floor((30*(L-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var v=Math.min(12,Math.ceil((L-29-this.toJD(T,1,1))/29.5)+1),d=L-this.toJD(T,v,1)+1;return this.newDate(T,v,d)}}),E.calendars.islamic=i},24747:function(tt,U,t){var E=t(38700),S=t(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,E.local.invalidYear),v=T.year()<0?T.year()+1:T.year();return v%4===0},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,E.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var d=this._validate(L,T,v,E.local.invalidDate);return L=d.year(),T=d.month(),v=d.day(),L<0&&L++,T<=2&&(L--,T+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(T+1))+v-1524.5},fromJD:function(L){var T=Math.floor(L+.5),v=T+1524,d=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*d),e=Math.floor((v-r)/30.6001),l=e-Math.floor(e<14?1:13),n=d-Math.floor(l>2?4716:4715),s=v-r-Math.floor(30.6001*e);return n<=0&&n--,this.newDate(n,l,s)}}),E.calendars.julian=i},65616:function(tt,U,t){var E=t(38700),S=t(50896);function i(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,E.local.invalidYear),!1},formatYear:function(v){var d=this._validate(v,this.minMonth,this.minDay,E.local.invalidYear);v=d.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var e=Math.floor(v/20);return r+"."+e+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var d=0,r=0;r<v.length;r++){var e=parseInt(v[r],10);if(Math.abs(e)>19||r>0&&e<0)throw"Invalid Mayan year";d=d*20+e}return d},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,E.local.invalidYear),18},weekOfYear:function(v,d,r){return this._validate(v,d,r,E.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,E.local.invalidYear),360},daysInMonth:function(v,d){return this._validate(v,d,this.minDay,E.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,d,r){var e=this._validate(v,d,r,E.local.invalidDate);return e.day()},weekDay:function(v,d,r){return this._validate(v,d,r,E.local.invalidDate),!0},extraInfo:function(v,d,r){var e=this._validate(v,d,r,E.local.invalidDate),l=e.toJD(),n=this._toHaab(l),s=this._toTzolkin(l);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(v){v-=this.jdEpoch;var d=L(v+8+17*20,365);return[Math.floor(d/20)+1,L(d,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[T(v+20,20),T(v+4,13)]},toJD:function(v,d,r){var e=this._validate(v,d,r,E.local.invalidDate);return e.day()+e.month()*20+e.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var d=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),e=v%20;return this.newDate(d,r,e)}});function L(v,d){return v-d*Math.floor(v/d)}function T(v,d){return L(v-1,d)+1}E.calendars.mayan=i},30632:function(tt,U,t){var E=t(38700),S=t(50896);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar;var L=E.instance("gregorian");S(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(T,v,d){var r=this.newDate(T,v,d);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,E.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return(this.dayOfWeek(T,v,d)||7)<6},toJD:function(e,v,d){var r=this._validate(e,v,d,E.local.invalidMonth),e=r.year();e<0&&e++;for(var l=r.day(),n=1;n<r.month();n++)l+=this.daysPerMonth[n-1];return l+L.toJD(e+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var v=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(v+1,1,1);)v++;for(var d=T-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;d>this.daysInMonth(v,r);)d-=this.daysInMonth(v,r),r++;return this.newDate(v,r,d)}}),E.calendars.nanakshahi=i},73040:function(tt,U,t){var E=t(38700),S=t(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,T,v){var d=this.newDate(L,T,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(L){var T=this._validate(L,this.minMonth,this.minDay,E.local.invalidYear);if(L=T.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,d=this.minMonth;d<=12;d++)v+=this.NEPALI_CALENDAR_DATA[L][d];return v},daysInMonth:function(L,T){return L.year&&(T=L.month(),L=L.year()),this._validate(L,T,this.minDay,E.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[L][T]},weekDay:function(L,T,v){return this.dayOfWeek(L,T,v)!==6},toJD:function(L,T,v){var d=this._validate(L,T,v,E.local.invalidDate);L=d.year(),T=d.month(),v=d.day();var r=E.instance(),e=0,l=T,n=L;this._createMissingCalendarData(L);var s=L-(l>9||l===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(T!==9&&(e=v,l--);l!==9;)l<=0&&(l=12,n--),e+=this.NEPALI_CALENDAR_DATA[n][l],l--;return T===9?(e+=v-this.NEPALI_CALENDAR_DATA[n][0],e<0&&(e+=r.daysInYear(s))):e+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(s,1,1).add(e,"d").toJD()},fromJD:function(L){var T=E.instance(),v=T.fromJD(L),d=v.year(),r=v.dayOfYear(),e=d+56;this._createMissingCalendarData(e);for(var l=9,n=this.NEPALI_CALENDAR_DATA[e][0],s=this.NEPALI_CALENDAR_DATA[e][l]-n+1;r>s;)l++,l>12&&(l=1,e++),s+=this.NEPALI_CALENDAR_DATA[e][l];var o=this.NEPALI_CALENDAR_DATA[e][l]-(s-r);return this.newDate(e,l,o)},_createMissingCalendarData:function(L){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),E.calendars.nepali=i},1104:function(tt,U,t){var E=t(38700),S=t(50896);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,E.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(T,v,d){var r=this.newDate(T,v,d);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,E.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return this.dayOfWeek(T,v,d)!==5},toJD:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate);T=r.year(),v=r.month(),d=r.day();var e=T-(T>=0?474:473),l=474+L(e,2820);return d+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((l*682-110)/2816)+(l-1)*365+Math.floor(e/2820)*1029983+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var v=T-this.toJD(475,1,1),d=Math.floor(v/1029983),r=L(v,1029983),e=2820;if(r!==1029982){var l=Math.floor(r/366),n=L(r,366);e=Math.floor((2134*l+2816*n+2815)/1028522)+l+1}var s=e+2820*d+474;s=s<=0?s-1:s;var o=T-this.toJD(s,1,1)+1,f=o<=186?Math.ceil(o/31):Math.ceil((o-6)/30),b=T-this.toJD(s,f,1)+1;return this.newDate(s,f,b)}});function L(T,v){return T-v*Math.floor(T/v)}E.calendars.persian=i,E.calendars.jalali=i},51456:function(tt,U,t){var E=t(38700),S=t(50896),i=E.instance();function L(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}L.prototype=new E.baseCalendar,S(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,E.local.invalidYear),d=this._t2gYear(v.year());return i.leapYear(d)},weekOfYear:function(e,v,d){var r=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear),e=this._t2gYear(r.year());return i.weekOfYear(e,r.month(),r.day())},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,E.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return(this.dayOfWeek(T,v,d)||7)<6},toJD:function(e,v,d){var r=this._validate(e,v,d,E.local.invalidDate),e=this._t2gYear(r.year());return i.toJD(e,r.month(),r.day())},fromJD:function(T){var v=i.fromJD(T),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),E.calendars.taiwan=L},4592:function(tt,U,t){var E=t(38700),S=t(50896),i=E.instance();function L(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}L.prototype=new E.baseCalendar,S(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,E.local.invalidYear),d=this._t2gYear(v.year());return i.leapYear(d)},weekOfYear:function(e,v,d){var r=this._validate(e,this.minMonth,this.minDay,E.local.invalidYear),e=this._t2gYear(r.year());return i.weekOfYear(e,r.month(),r.day())},daysInMonth:function(T,v){var d=this._validate(T,v,this.minDay,E.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(T,v,d){return(this.dayOfWeek(T,v,d)||7)<6},toJD:function(e,v,d){var r=this._validate(e,v,d,E.local.invalidDate),e=this._t2gYear(r.year());return i.toJD(e,r.month(),r.day())},fromJD:function(T){var v=i.fromJD(T),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),E.calendars.thai=L},45348:function(tt,U,t){var E=t(38700),S=t(50896);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,S(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,E.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(T,v,d){var r=this.newDate(T,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var v=0,d=1;d<=12;d++)v+=this.daysInMonth(T,d);return v},daysInMonth:function(T,v){for(var d=this._validate(T,v,this.minDay,E.local.invalidMonth),r=d.toJD()-24e5+.5,e=0,l=0;l<L.length;l++){if(L[l]>r)return L[e]-L[e-1];e++}return 30},weekDay:function(T,v,d){return this.dayOfWeek(T,v,d)!==5},toJD:function(T,v,d){var r=this._validate(T,v,d,E.local.invalidDate),e=12*(r.year()-1)+r.month()-15292,l=r.day()+L[e-1]-1;return l+24e5-.5},fromJD:function(T){for(var v=T-24e5+.5,d=0,r=0;r<L.length&&!(L[r]>v);r++)d++;var e=d+15292,l=Math.floor((e-1)/12),n=l+1,s=e-12*l,o=v-L[d-1]+1;return this.newDate(n,s,o)},isValid:function(T,v,d){var r=E.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(T=T.year!=null?T.year:T,r=T>=1276&&T<=1500),r},_validate:function(T,v,d,r){var e=E.baseCalendar.prototype._validate.apply(this,arguments);if(e.year<1276||e.year>1500)throw r.replace(/\{0\}/,this.local.name);return e}}),E.calendars.ummalqura=i;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(tt,U,t){var E=t(50896);function S(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}E(S.prototype,{instance:function(r,e){r=(r||"gregorian").toLowerCase(),e=e||"";var l=this._localCals[r+"-"+e];if(!l&&this.calendars[r]&&(l=new this.calendars[r](e),this._localCals[r+"-"+e]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return l},newDate:function(r,e,l,n,s){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,s):n)||this.instance(),n.newDate(r,e,l)},substituteDigits:function(r){return function(e){return(e+"").replace(/[0-9]/g,function(l){return r[l]})}},substituteChineseDigits:function(r,e){return function(l){for(var n="",s=0;l>0;){var o=l%10;n=(o===0?"":r[o]+e[s])+n,s++,l=Math.floor(l/10)}return n.indexOf(r[1]+e[1])===0&&(n=n.substr(1)),n||r[0]}}});function i(r,e,l,n){if(this._calendar=r,this._year=e,this._month=l,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,e){return r=""+r,"000000".substring(0,e-r.length)+r}E(i.prototype,{newDate:function(r,e,l){return this._calendar.newDate(r??this,e,l)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,e,l){if(!this._calendar.isValid(r,e,l))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=e,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,e){return this._calendar.add(this,r,e)},set:function(r,e){return this._calendar.set(this,r,e)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var e=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function T(){this.shortYearCutoff="+10"}E(T.prototype,{_validateLevel:0,newDate:function(r,e,l){return r==null?this.today():(r.year&&(this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate),l=r.day(),e=r.month(),r=r.year()),new i(this,r,e,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var e=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+L(Math.abs(e.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(r,e){var l=this._validate(r,e,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(r,e){var l=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,l,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),l},daysInYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(r,e,l){var n=this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,e,l){var n=this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,e,l){return this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(r,e,l){return this._validate(r,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,e,l),e,l)},_add:function(r,e,l){if(this._validateLevel++,l==="d"||l==="w"){var n=r.toJD()+e*(l==="w"?this.daysInWeek():1),s=r.calendar().fromJD(n);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var o=r.year()+(l==="y"?e:0),f=r.monthOfYear()+(l==="m"?e:0),s=r.day(),b=function(a){for(;f<a.minMonth;)o--,f+=a.monthsInYear(o);for(var c=a.monthsInYear(o);f>c-1+a.minMonth;)o++,f-=c,c=a.monthsInYear(o)};l==="y"?(r.month()!==this.fromMonthOfYear(o,f)&&(f=this.newDate(o,r.month(),this.minDay).monthOfYear()),f=Math.min(f,this.monthsInYear(o)),s=Math.min(s,this.daysInMonth(o,this.fromMonthOfYear(o,f)))):l==="m"&&(b(this),s=Math.min(s,this.daysInMonth(o,this.fromMonthOfYear(o,f))));var h=[o,this.fromMonthOfYear(o,f),s];return this._validateLevel--,h}catch(_){throw this._validateLevel--,_}},_correctAdd:function(r,e,l,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(e[0]===0||r.year()>0!=e[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=l<0?-1:1;e=this._add(r,l*s[0]+o*s[1],s[2])}return r.date(e[0],e[1],e[2])},set:function(r,e,l){this._validate(r,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var n=l==="y"?e:r.year(),s=l==="m"?e:r.month(),o=l==="d"?e:r.day();return(l==="y"||l==="m")&&(o=Math.min(o,this.daysInMonth(n,s))),r.date(n,s,o)},isValid:function(r,e,l){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var s=this.newDate(r,e,this.minDay);n=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(s)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(s)}return this._validateLevel--,n},toJSDate:function(r,e,l){var n=this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(d.instance().fromJSDate(r).toJD())},_validate:function(r,e,l,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,e,l))throw n.replace(/\{0\}/,this.local.name);var s=this.newDate(r,e,l);return this._validateLevel--,s}catch(o){throw this._validateLevel--,o}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new T,E(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var e=this._validate(l,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),l=e.year()+(e.year()<0?1:0);return l%4===0&&(l%100!==0||l%400===0)},weekOfYear:function(r,e,l){var n=this.newDate(r,e,l);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,e){var l=this._validate(r,e,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(r,e,l){return(this.dayOfWeek(r,e,l)||7)<6},toJD:function(r,e,l){var n=this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate);r=n.year(),e=n.month(),l=n.day(),r<0&&r++,e<3&&(e+=12,r--);var s=Math.floor(r/100),o=2-s+Math.floor(s/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(e+1))+l+o-1524.5},fromJD:function(r){var e=Math.floor(r+.5),l=Math.floor((e-186721625e-2)/36524.25);l=e+1+l-Math.floor(l/4);var n=l+1524,s=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*s),f=Math.floor((n-o)/30.6001),b=n-o-Math.floor(f*30.6001),h=f-(f>13.5?13:1),_=s-(h>2.5?4716:4715);return _<=0&&_--,this.newDate(_,h,b)},toJSDate:function(r,e,l){var n=this._validate(r,e,l,d.local.invalidDate||d.regionalOptions[""].invalidDate),s=new Date(n.year(),n.month()-1,n.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var d=tt.exports=new S;d.cdate=i,d.baseCalendar=T,d.calendars.gregorian=v},15168:function(tt,U,t){var E=t(50896),S=t(38700);E(S.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),S.local=S.regionalOptions[""],E(S.cdate.prototype,{formatDate:function(i,L){return typeof i!="string"&&(L=i,i=""),this._calendar.formatDate(i||"",this,L)}}),E(S.baseCalendar.prototype,{UNIX_EPOCH:S.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:S.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,L,T){if(typeof i!="string"&&(T=L,L=i,i=""),!L)return"";if(L.calendar()!==this)throw S.local.invalidFormat||S.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,T=T||{};for(var v=T.dayNamesShort||this.local.dayNamesShort,d=T.dayNames||this.local.dayNames,r=T.monthNumbers||this.local.monthNumbers,e=T.monthNamesShort||this.local.monthNamesShort,l=T.monthNames||this.local.monthNames,n=T.calculateWeek||this.local.calculateWeek,s=function(y,A){for(var C=1;k+C<i.length&&i.charAt(k+C)===y;)C++;return k+=C-1,Math.floor(C/(A||1))>1},o=function(y,A,C,u){var m=""+A;if(s(y,u))for(;m.length<C;)m="0"+m;return m},f=function(y,A,C,u){return s(y)?u[A]:C[A]},b=this,h=function(y){return typeof r=="function"?r.call(b,y,s("m")):c(o("m",y.month(),2))},_=function(y,A){return A?typeof l=="function"?l.call(b,y):l[y.month()-b.minMonth]:typeof e=="function"?e.call(b,y):e[y.month()-b.minMonth]},a=this.local.digits,c=function(y){return T.localNumbers&&a?a(y):y},p="",x=!1,k=0;k<i.length;k++)if(x)i.charAt(k)==="'"&&!s("'")?x=!1:p+=i.charAt(k);else switch(i.charAt(k)){case"d":p+=c(o("d",L.day(),2));break;case"D":p+=f("D",L.dayOfWeek(),v,d);break;case"o":p+=o("o",L.dayOfYear(),3);break;case"w":p+=o("w",L.weekOfYear(),2);break;case"m":p+=h(L);break;case"M":p+=_(L,s("M"));break;case"y":p+=s("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":s("Y",2),p+=L.formatYear();break;case"J":p+=L.toJD();break;case"@":p+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":p+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?p+="'":x=!0;break;default:p+=i.charAt(k)}return p},parseDate:function(i,L,T){if(L==null)throw S.local.invalidArguments||S.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;i=i||this.local.dateFormat,T=T||{};var v=T.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var d=T.dayNamesShort||this.local.dayNamesShort,r=T.dayNames||this.local.dayNames,e=T.parseMonth||this.local.parseMonth,l=T.monthNumbers||this.local.monthNumbers,n=T.monthNamesShort||this.local.monthNamesShort,s=T.monthNames||this.local.monthNames,o=-1,f=-1,b=-1,h=-1,_=-1,a=!1,c=!1,p=function(O,D){for(var P=1;M+P<i.length&&i.charAt(M+P)===O;)P++;return M+=P-1,Math.floor(P/(D||1))>1},x=function(O,D){var P=p(O,D),F=[2,3,P?4:2,P?4:2,10,11,20]["oyYJ@!".indexOf(O)+1],R=new RegExp("^-?\\d{1,"+F+"}"),N=L.substring(m).match(R);if(!N)throw(S.local.missingNumberAt||S.regionalOptions[""].missingNumberAt).replace(/\{0\}/,m);return m+=N[0].length,parseInt(N[0],10)},k=this,y=function(){if(typeof l=="function"){p("m");var O=l.call(k,L.substring(m));return m+=O.length,O}return x("m")},A=function(O,D,P,F){for(var R=p(O,F)?P:D,N=0;N<R.length;N++)if(L.substr(m,R[N].length).toLowerCase()===R[N].toLowerCase())return m+=R[N].length,N+k.minMonth;throw(S.local.unknownNameAt||S.regionalOptions[""].unknownNameAt).replace(/\{0\}/,m)},C=function(){if(typeof s=="function"){var O=p("M")?s.call(k,L.substring(m)):n.call(k,L.substring(m));return m+=O.length,O}return A("M",n,s)},u=function(){if(L.charAt(m)!==i.charAt(M))throw(S.local.unexpectedLiteralAt||S.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,m);m++},m=0,M=0;M<i.length;M++)if(c)i.charAt(M)==="'"&&!p("'")?c=!1:u();else switch(i.charAt(M)){case"d":h=x("d");break;case"D":A("D",d,r);break;case"o":_=x("o");break;case"w":x("w");break;case"m":b=y();break;case"M":b=C();break;case"y":var w=M;a=!p("y",2),M=w,f=x("y",2);break;case"Y":f=x("Y",2);break;case"J":o=x("J")+.5,L.charAt(m)==="."&&(m++,x("J"));break;case"@":o=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":o=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":m=L.length;break;case"'":p("'")?u():c=!0;break;default:u()}if(m<L.length)throw S.local.unexpectedText||S.regionalOptions[""].unexpectedText;if(f===-1?f=this.today().year():f<100&&a&&(f+=v===-1?1900:this.today().year()-this.today().year()%100-(f<=v?0:100)),typeof b=="string"&&(b=e.call(this,f,b)),_>-1){b=1,h=_;for(var z=this.daysInMonth(f,b);h>z;z=this.daysInMonth(f,b))b++,h-=z}return o>-1?this.fromJD(o):this.newDate(f,b,h)},determineDate:function(i,L,T,v,d){T&&typeof T!="object"&&(d=v,v=T,T=null),typeof v!="string"&&(d=v,v="");var r=this,e=function(l){try{return r.parseDate(v,l,d)}catch{}l=l.toLowerCase();for(var n=(l.match(/^c/)&&T?T.newDate():null)||r.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=s.exec(l);o;)n.add(parseInt(o[1],10),o[2]||"d"),o=s.exec(l);return n};return L=L?L.newDate():null,i=i==null?L:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?L:r.today().add(i,"d"):r.newDate(i),i}})},21576:function(){},19768:function(){},63436:function(tt,U,t){var E=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],S=typeof globalThis>"u"?t.g:globalThis;tt.exports=function(){for(var i=[],L=0;L<E.length;L++)typeof S[E[L]]=="function"&&(i[i.length]=E[L]);return i}},67756:function(tt,U,t){t.d(U,{qy:function(){return mt},Gz:function(){return ot}});function E(vt,At,Ot){vt.prototype=At.prototype=Ot,Ot.constructor=vt}function S(vt,At){var Ot=Object.create(vt.prototype);for(var Pt in At)Ot[Pt]=At[Pt];return Ot}function i(){}var L=.7,T=1/L,v="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),s=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(d,"\\)$")),o=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(d,"\\)$")),f=new RegExp("^hsl\\(".concat(d,",").concat(r,",").concat(r,"\\)$")),b=new RegExp("^hsla\\(".concat(d,",").concat(r,",").concat(r,",").concat(d,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E(i,x,{copy:function(vt){return Object.assign(new this.constructor,this,vt)},displayable:function(){return this.rgb().displayable()},hex:_,formatHex:_,formatHex8:a,formatHsl:c,formatRgb:p,toString:p});function _(){return this.rgb().formatHex()}function a(){return this.rgb().formatHex8()}function c(){return F(this).formatHsl()}function p(){return this.rgb().formatRgb()}function x(vt){var At,Ot;return vt=(vt+"").trim().toLowerCase(),(At=e.exec(vt))?(Ot=At[1].length,At=parseInt(At[1],16),Ot===6?k(At):Ot===3?new u(At>>8&15|At>>4&240,At>>4&15|At&240,(At&15)<<4|At&15,1):Ot===8?y(At>>24&255,At>>16&255,At>>8&255,(At&255)/255):Ot===4?y(At>>12&15|At>>8&240,At>>8&15|At>>4&240,At>>4&15|At&240,((At&15)<<4|At&15)/255):null):(At=l.exec(vt))?new u(At[1],At[2],At[3],1):(At=n.exec(vt))?new u(At[1]*255/100,At[2]*255/100,At[3]*255/100,1):(At=s.exec(vt))?y(At[1],At[2],At[3],At[4]):(At=o.exec(vt))?y(At[1]*255/100,At[2]*255/100,At[3]*255/100,At[4]):(At=f.exec(vt))?P(At[1],At[2]/100,At[3]/100,1):(At=b.exec(vt))?P(At[1],At[2]/100,At[3]/100,At[4]):h.hasOwnProperty(vt)?k(h[vt]):vt==="transparent"?new u(NaN,NaN,NaN,0):null}function k(vt){return new u(vt>>16&255,vt>>8&255,vt&255,1)}function y(vt,At,Ot,Pt){return Pt<=0&&(vt=At=Ot=NaN),new u(vt,At,Ot,Pt)}function A(vt){return vt instanceof i||(vt=x(vt)),vt?(vt=vt.rgb(),new u(vt.r,vt.g,vt.b,vt.opacity)):new u}function C(vt,At,Ot,Pt){return arguments.length===1?A(vt):new u(vt,At,Ot,Pt??1)}function u(vt,At,Ot,Pt){this.r=+vt,this.g=+At,this.b=+Ot,this.opacity=+Pt}E(u,C,S(i,{brighter:function(vt){return vt=vt==null?T:Math.pow(T,vt),new u(this.r*vt,this.g*vt,this.b*vt,this.opacity)},darker:function(vt){return vt=vt==null?L:Math.pow(L,vt),new u(this.r*vt,this.g*vt,this.b*vt,this.opacity)},rgb:function(){return this},clamp:function(){return new u(O(this.r),O(this.g),O(this.b),z(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m,formatHex:m,formatHex8:M,formatRgb:w,toString:w}));function m(){return"#".concat(D(this.r)).concat(D(this.g)).concat(D(this.b))}function M(){return"#".concat(D(this.r)).concat(D(this.g)).concat(D(this.b)).concat(D((isNaN(this.opacity)?1:this.opacity)*255))}function w(){var vt=z(this.opacity);return"".concat(vt===1?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(vt===1?")":", ".concat(vt,")"))}function z(vt){return isNaN(vt)?1:Math.max(0,Math.min(1,vt))}function O(vt){return Math.max(0,Math.min(255,Math.round(vt)||0))}function D(vt){return vt=O(vt),(vt<16?"0":"")+vt.toString(16)}function P(vt,At,Ot,Pt){return Pt<=0?vt=At=Ot=NaN:Ot<=0||Ot>=1?vt=At=NaN:At<=0&&(vt=NaN),new N(vt,At,Ot,Pt)}function F(vt){if(vt instanceof N)return new N(vt.h,vt.s,vt.l,vt.opacity);if(vt instanceof i||(vt=x(vt)),!vt)return new N;if(vt instanceof N)return vt;vt=vt.rgb();var At=vt.r/255,Ot=vt.g/255,Pt=vt.b/255,Et=Math.min(At,Ot,Pt),Nt=Math.max(At,Ot,Pt),ne=NaN,Gt=Nt-Et,pe=(Nt+Et)/2;return Gt?(At===Nt?ne=(Ot-Pt)/Gt+(Ot<Pt)*6:Ot===Nt?ne=(Pt-At)/Gt+2:ne=(At-Ot)/Gt+4,Gt/=pe<.5?Nt+Et:2-Nt-Et,ne*=60):Gt=pe>0&&pe<1?0:ne,new N(ne,Gt,pe,vt.opacity)}function R(vt,At,Ot,Pt){return arguments.length===1?F(vt):new N(vt,At,Ot,Pt??1)}function N(vt,At,Ot,Pt){this.h=+vt,this.s=+At,this.l=+Ot,this.opacity=+Pt}E(N,R,S(i,{brighter:function(vt){return vt=vt==null?T:Math.pow(T,vt),new N(this.h,this.s,this.l*vt,this.opacity)},darker:function(vt){return vt=vt==null?L:Math.pow(L,vt),new N(this.h,this.s,this.l*vt,this.opacity)},rgb:function(){var vt=this.h%360+(this.h<0)*360,At=isNaN(vt)||isNaN(this.s)?0:this.s,Ot=this.l,Pt=Ot+(Ot<.5?Ot:1-Ot)*At,Et=2*Ot-Pt;return new u(V(vt>=240?vt-240:vt+120,Et,Pt),V(vt,Et,Pt),V(vt<120?vt+240:vt-120,Et,Pt),this.opacity)},clamp:function(){return new N(B(this.h),q(this.s),q(this.l),z(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var vt=z(this.opacity);return"".concat(vt===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(q(this.s)*100,"%, ").concat(q(this.l)*100,"%").concat(vt===1?")":", ".concat(vt,")"))}}));function B(vt){return vt=(vt||0)%360,vt<0?vt+360:vt}function q(vt){return Math.max(0,Math.min(1,vt||0))}function V(vt,At,Ot){return(vt<60?At+(Ot-At)*vt/60:vt<180?Ot:vt<240?At+(Ot-At)*(240-vt)/60:At)*255}var J=function(vt){return function(){return vt}};function it(vt,At){return function(Ot){return vt+Ot*At}}function nt(vt,At,Ot){return vt=Math.pow(vt,Ot),At=Math.pow(At,Ot)-vt,Ot=1/Ot,function(Pt){return Math.pow(vt+Pt*At,Ot)}}function Y(vt){return(vt=+vt)==1?Z:function(At,Ot){return Ot-At?nt(At,Ot,vt):J(isNaN(At)?Ot:At)}}function Z(vt,At){var Ot=At-vt;return Ot?it(vt,Ot):J(isNaN(vt)?At:vt)}var $=function vt(At){var Ot=Y(At);function Pt(Et,Nt){var ne=Ot((Et=C(Et)).r,(Nt=C(Nt)).r),Gt=Ot(Et.g,Nt.g),pe=Ot(Et.b,Nt.b),Vt=Z(Et.opacity,Nt.opacity);return function(ae){return Et.r=ne(ae),Et.g=Gt(ae),Et.b=pe(ae),Et.opacity=Vt(ae),Et+""}}return Pt.gamma=vt,Pt}(1);function G(vt,At){var Ot=At?At.length:0,Pt=vt?Math.min(Ot,vt.length):0,Et=new Array(Pt),Nt=new Array(Ot),ne;for(ne=0;ne<Pt;++ne)Et[ne]=mt(vt[ne],At[ne]);for(;ne<Ot;++ne)Nt[ne]=At[ne];return function(Gt){for(ne=0;ne<Pt;++ne)Nt[ne]=Et[ne](Gt);return Nt}}function rt(vt,At){var Ot=new Date;return vt=+vt,At=+At,function(Pt){return Ot.setTime(vt*(1-Pt)+At*Pt),Ot}}function ot(vt,At){return vt=+vt,At=+At,function(Ot){return vt*(1-Ot)+At*Ot}}function W(vt){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(At){return typeof At}:function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},W(vt)}function H(vt,At){var Ot={},Pt={},Et;(vt===null||W(vt)!=="object")&&(vt={}),(At===null||W(At)!=="object")&&(At={});for(Et in At)Et in vt?Ot[Et]=mt(vt[Et],At[Et]):Pt[Et]=At[Et];return function(Nt){for(Et in Ot)Pt[Et]=Ot[Et](Nt);return Pt}}var at=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q=new RegExp(at.source,"g");function ct(vt){return function(){return vt}}function ft(vt){return function(At){return vt(At)+""}}function yt(vt,At){var Ot=at.lastIndex=Q.lastIndex=0,Pt,Et,Nt,ne=-1,Gt=[],pe=[];for(vt=vt+"",At=At+"";(Pt=at.exec(vt))&&(Et=Q.exec(At));)(Nt=Et.index)>Ot&&(Nt=At.slice(Ot,Nt),Gt[ne]?Gt[ne]+=Nt:Gt[++ne]=Nt),(Pt=Pt[0])===(Et=Et[0])?Gt[ne]?Gt[ne]+=Et:Gt[++ne]=Et:(Gt[++ne]=null,pe.push({i:ne,x:ot(Pt,Et)})),Ot=Q.lastIndex;return Ot<At.length&&(Nt=At.slice(Ot),Gt[ne]?Gt[ne]+=Nt:Gt[++ne]=Nt),Gt.length<2?pe[0]?ft(pe[0].x):ct(At):(At=pe.length,function(Vt){for(var ae=0,oe;ae<At;++ae)Gt[(oe=pe[ae]).i]=oe.x(Vt);return Gt.join("")})}function xt(vt,At){At||(At=[]);var Ot=vt?Math.min(At.length,vt.length):0,Pt=At.slice(),Et;return function(Nt){for(Et=0;Et<Ot;++Et)Pt[Et]=vt[Et]*(1-Nt)+At[Et]*Nt;return Pt}}function Lt(vt){return ArrayBuffer.isView(vt)&&!(vt instanceof DataView)}function gt(vt){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(At){return typeof At}:function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},gt(vt)}function mt(vt,At){var Ot=gt(At),Pt;return At==null||Ot==="boolean"?J(At):(Ot==="number"?ot:Ot==="string"?(Pt=x(At))?(At=Pt,$):yt:At instanceof x?$:At instanceof Date?rt:Lt(At)?xt:Array.isArray(At)?G:typeof At.valueOf!="function"&&typeof At.toString!="function"||isNaN(At)?H:ot)(vt,At)}},30584:function(tt){tt.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(tt){tt.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(tt){tt.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(tt){tt.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(tt){tt.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(tt){tt.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},xf={};function xl(tt){var U=xf[tt];if(U!==void 0)return U.exports;var t=xf[tt]={exports:{}};return Th[tt].call(t.exports,t,t.exports,xl),t.exports}(function(){xl.n=function(tt){var U=tt&&tt.__esModule?function(){return tt.default}:function(){return tt};return xl.d(U,{a:U}),U}})(),function(){xl.d=function(tt,U){for(var t in U)xl.o(U,t)&&!xl.o(tt,t)&&Object.defineProperty(tt,t,{enumerable:!0,get:U[t]})}}(),function(){xl.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){xl.o=function(tt,U){return Object.prototype.hasOwnProperty.call(tt,U)}}(),function(){xl.r=function(tt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(tt,"__esModule",{value:!0})}}();var zp=xl(13792);return zp}()})})(Pp);var F1=Pp.exports,D1=I1(F1);export{D1 as default};
