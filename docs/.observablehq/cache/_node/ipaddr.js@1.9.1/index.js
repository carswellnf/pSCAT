var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var m={exports:{}};m.exports,function(f){(function(){var I,a,d,w,c,l,g,b,v;a={},b=this,f!==null&&f.exports?f.exports=a:b.ipaddr=a,g=function(t,r,n,e){var i,o;if(t.length!==r.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(i=0;e>0;){if(o=n-e,o<0&&(o=0),t[i]>>o!==r[i]>>o)return!1;e-=n,i+=1}return!0},a.subnetMatch=function(t,r,n){var e,i,o,s,p;n==null&&(n="unicast");for(o in r)for(s=r[o],s[0]&&!(s[0]instanceof Array)&&(s=[s]),e=0,i=s.length;e<i;e++)if(p=s[e],t.kind()===p[0].kind()&&t.match.apply(t,p))return o;return n},a.IPv4=function(){function t(r){var n,e,i;if(r.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(n=0,e=r.length;n<e;n++)if(i=r[n],!(0<=i&&i<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=r}return t.prototype.kind=function(){return"ipv4"},t.prototype.toString=function(){return this.octets.join(".")},t.prototype.toNormalizedString=function(){return this.toString()},t.prototype.toByteArray=function(){return this.octets.slice(0)},t.prototype.match=function(r,n){var e;if(n===void 0&&(e=r,r=e[0],n=e[1]),r.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return g(this.octets,r.octets,8,n)},t.prototype.SpecialRanges={unspecified:[[new t([0,0,0,0]),8]],broadcast:[[new t([255,255,255,255]),32]],multicast:[[new t([224,0,0,0]),4]],linkLocal:[[new t([169,254,0,0]),16]],loopback:[[new t([127,0,0,0]),8]],carrierGradeNat:[[new t([100,64,0,0]),10]],private:[[new t([10,0,0,0]),8],[new t([172,16,0,0]),12],[new t([192,168,0,0]),16]],reserved:[[new t([192,0,0,0]),24],[new t([192,0,2,0]),24],[new t([192,88,99,0]),24],[new t([198,51,100,0]),24],[new t([203,0,113,0]),24],[new t([240,0,0,0]),4]]},t.prototype.range=function(){return a.subnetMatch(this,this.SpecialRanges)},t.prototype.toIPv4MappedAddress=function(){return a.IPv6.parse("::ffff:"+this.toString())},t.prototype.prefixLengthFromSubnetMask=function(){var r,n,e,i,o,s,p;for(p={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},r=0,o=!1,n=e=3;e>=0;n=e+=-1)if(i=this.octets[n],i in p){if(s=p[i],o&&s!==0)return null;s!==8&&(o=!0),r+=s}else return null;return 32-r},t}(),d="(0?\\d+|0x[a-f0-9]+)",w={fourOctet:new RegExp("^"+d+"\\."+d+"\\."+d+"\\."+d+"$","i"),longValue:new RegExp("^"+d+"$","i")},a.IPv4.parser=function(t){var r,n,e,i,o;if(n=function(s){return s[0]==="0"&&s[1]!=="x"?parseInt(s,8):parseInt(s)},r=t.match(w.fourOctet))return function(){var s,p,u,h;for(u=r.slice(1,6),h=[],s=0,p=u.length;s<p;s++)e=u[s],h.push(n(e));return h}();if(r=t.match(w.longValue)){if(o=n(r[1]),o>4294967295||o<0)throw new Error("ipaddr: address outside defined range");return function(){var s,p;for(p=[],i=s=0;s<=24;i=s+=8)p.push(o>>i&255);return p}().reverse()}else return null},a.IPv6=function(){function t(r,n){var e,i,o,s,p,u;if(r.length===16)for(this.parts=[],e=i=0;i<=14;e=i+=2)this.parts.push(r[e]<<8|r[e+1]);else if(r.length===8)this.parts=r;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(u=this.parts,o=0,s=u.length;o<s;o++)if(p=u[o],!(0<=p&&p<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");n&&(this.zoneId=n)}return t.prototype.kind=function(){return"ipv6"},t.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},t.prototype.toRFC5952String=function(){var r,n,e,i,o;for(i=/((^|:)(0(:|$)){2,})/g,o=this.toNormalizedString(),r=0,n=-1;e=i.exec(o);)e[0].length>n&&(r=e.index,n=e[0].length);return n<0?o:o.substring(0,r)+"::"+o.substring(r+n)},t.prototype.toByteArray=function(){var r,n,e,i,o;for(r=[],o=this.parts,n=0,e=o.length;n<e;n++)i=o[n],r.push(i>>8),r.push(i&255);return r},t.prototype.toNormalizedString=function(){var r,n,e;return r=(function(){var i,o,s,p;for(s=this.parts,p=[],i=0,o=s.length;i<o;i++)n=s[i],p.push(n.toString(16));return p}).call(this).join(":"),e="",this.zoneId&&(e="%"+this.zoneId),r+e},t.prototype.toFixedLengthString=function(){var r,n,e;return r=(function(){var i,o,s,p;for(s=this.parts,p=[],i=0,o=s.length;i<o;i++)n=s[i],p.push(n.toString(16).padStart(4,"0"));return p}).call(this).join(":"),e="",this.zoneId&&(e="%"+this.zoneId),r+e},t.prototype.match=function(r,n){var e;if(n===void 0&&(e=r,r=e[0],n=e[1]),r.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return g(this.parts,r.parts,16,n)},t.prototype.SpecialRanges={unspecified:[new t([0,0,0,0,0,0,0,0]),128],linkLocal:[new t([65152,0,0,0,0,0,0,0]),10],multicast:[new t([65280,0,0,0,0,0,0,0]),8],loopback:[new t([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new t([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new t([0,0,0,0,0,65535,0,0]),96],rfc6145:[new t([0,0,0,0,65535,0,0,0]),96],rfc6052:[new t([100,65435,0,0,0,0,0,0]),96],"6to4":[new t([8194,0,0,0,0,0,0,0]),16],teredo:[new t([8193,0,0,0,0,0,0,0]),32],reserved:[[new t([8193,3512,0,0,0,0,0,0]),32]]},t.prototype.range=function(){return a.subnetMatch(this,this.SpecialRanges)},t.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},t.prototype.toIPv4Address=function(){var r,n,e;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return e=this.parts.slice(-2),r=e[0],n=e[1],new a.IPv4([r>>8,r&255,n>>8,n&255])},t.prototype.prefixLengthFromSubnetMask=function(){var r,n,e,i,o,s,p;for(p={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},r=0,o=!1,n=e=7;e>=0;n=e+=-1)if(i=this.parts[n],i in p){if(s=p[i],o&&s!==0)return null;s!==16&&(o=!0),r+=s}else return null;return 128-r},t}(),c="(?:[0-9a-f]+::?)+",v="%[0-9a-z]{1,}",l={zoneIndex:new RegExp(v,"i"),native:new RegExp("^(::)?("+c+")?([0-9a-f]+)?(::)?("+v+")?$","i"),transitional:new RegExp("^((?:"+c+")|(?:::)(?:"+c+")?)"+(d+"\\."+d+"\\."+d+"\\."+d)+("("+v+")?$"),"i")},I=function(t,r){var n,e,i,o,s,p;if(t.indexOf("::")!==t.lastIndexOf("::"))return null;for(p=(t.match(l.zoneIndex)||[])[0],p&&(p=p.substring(1),t=t.replace(/%.+$/,"")),n=0,e=-1;(e=t.indexOf(":",e+1))>=0;)n++;if(t.substr(0,2)==="::"&&n--,t.substr(-2,2)==="::"&&n--,n>r)return null;for(s=r-n,o=":";s--;)o+="0:";return t=t.replace("::",o),t[0]===":"&&(t=t.slice(1)),t[t.length-1]===":"&&(t=t.slice(0,-1)),r=function(){var u,h,P,y;for(P=t.split(":"),y=[],u=0,h=P.length;u<h;u++)i=P[u],y.push(parseInt(i,16));return y}(),{parts:r,zoneId:p}},a.IPv6.parser=function(t){var r,n,e,i,o,s,p;if(l.native.test(t))return I(t,8);if((i=t.match(l.transitional))&&(p=i[6]||"",r=I(i[1].slice(0,-1)+p,6),r.parts)){for(s=[parseInt(i[2]),parseInt(i[3]),parseInt(i[4]),parseInt(i[5])],n=0,e=s.length;n<e;n++)if(o=s[n],!(0<=o&&o<=255))return null;return r.parts.push(s[0]<<8|s[1]),r.parts.push(s[2]<<8|s[3]),{parts:r.parts,zoneId:r.zoneId}}return null},a.IPv4.isIPv4=a.IPv6.isIPv6=function(t){return this.parser(t)!==null},a.IPv4.isValid=function(t){try{return new this(this.parser(t)),!0}catch{return!1}},a.IPv4.isValidFourPartDecimal=function(t){return!!(a.IPv4.isValid(t)&&t.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},a.IPv6.isValid=function(t){var r;if(typeof t=="string"&&t.indexOf(":")===-1)return!1;try{return r=this.parser(t),new this(r.parts,r.zoneId),!0}catch{return!1}},a.IPv4.parse=function(t){var r;if(r=this.parser(t),r===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(r)},a.IPv6.parse=function(t){var r;if(r=this.parser(t),r.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(r.parts,r.zoneId)},a.IPv4.parseCIDR=function(t){var r,n,e;if((n=t.match(/^(.+)\/(\d+)$/))&&(r=parseInt(n[2]),r>=0&&r<=32))return e=[this.parse(n[1]),r],Object.defineProperty(e,"toString",{value:function(){return this.join("/")}}),e;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},a.IPv4.subnetMaskFromPrefixLength=function(t){var r,n,e;if(t=parseInt(t),t<0||t>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(e=[0,0,0,0],n=0,r=Math.floor(t/8);n<r;)e[n]=255,n++;return r<4&&(e[r]=Math.pow(2,t%8)-1<<8-t%8),new this(e)},a.IPv4.broadcastAddressFromCIDR=function(t){var r,n,e,i,o;try{for(r=this.parseCIDR(t),e=r[0].toByteArray(),o=this.subnetMaskFromPrefixLength(r[1]).toByteArray(),i=[],n=0;n<4;)i.push(parseInt(e[n],10)|parseInt(o[n],10)^255),n++;return new this(i)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},a.IPv4.networkAddressFromCIDR=function(t){var r,n,e,i,o;try{for(r=this.parseCIDR(t),e=r[0].toByteArray(),o=this.subnetMaskFromPrefixLength(r[1]).toByteArray(),i=[],n=0;n<4;)i.push(parseInt(e[n],10)&parseInt(o[n],10)),n++;return new this(i)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},a.IPv6.parseCIDR=function(t){var r,n,e;if((n=t.match(/^(.+)\/(\d+)$/))&&(r=parseInt(n[2]),r>=0&&r<=128))return e=[this.parse(n[1]),r],Object.defineProperty(e,"toString",{value:function(){return this.join("/")}}),e;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},a.isValid=function(t){return a.IPv6.isValid(t)||a.IPv4.isValid(t)},a.parse=function(t){if(a.IPv6.isValid(t))return a.IPv6.parse(t);if(a.IPv4.isValid(t))return a.IPv4.parse(t);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},a.parseCIDR=function(t){try{return a.IPv6.parseCIDR(t)}catch{try{return a.IPv4.parseCIDR(t)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},a.fromByteArray=function(t){var r;if(r=t.length,r===4)return new a.IPv4(t);if(r===16)return new a.IPv6(t);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},a.process=function(t){var r;return r=this.parse(t),r.kind()==="ipv6"&&r.isIPv4MappedAddress()?r.toIPv4Address():r}}).call(x)}(m);var R=m.exports,k=E(R);export{k as default};
