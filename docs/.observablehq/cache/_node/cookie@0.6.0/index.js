var d={},l=d.parse=v,m=d.serialize=w,h=Object.prototype.toString,c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function v(r,s){if(typeof r!="string")throw new TypeError("argument str must be a string");for(var p={},e=s||{},f=e.decode||y,t=0;t<r.length;){var i=r.indexOf("=",t);if(i===-1)break;var a=r.indexOf(";",t);if(a===-1)a=r.length;else if(a<i){t=r.lastIndexOf(";",i-1)+1;continue}var o=r.slice(t,i).trim();if(p[o]===void 0){var n=r.slice(i+1,a).trim();n.charCodeAt(0)===34&&(n=n.slice(1,-1)),p[o]=x(n,f)}t=a+1}return p}function w(r,s,p){var e=p||{},f=e.encode||S;if(typeof f!="function")throw new TypeError("option encode is invalid");if(!c.test(r))throw new TypeError("argument name is invalid");var t=f(s);if(t&&!c.test(t))throw new TypeError("argument val is invalid");var i=r+"="+t;if(e.maxAge!=null){var a=e.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(a)}if(e.domain){if(!c.test(e.domain))throw new TypeError("option domain is invalid");i+="; Domain="+e.domain}if(e.path){if(!c.test(e.path))throw new TypeError("option path is invalid");i+="; Path="+e.path}if(e.expires){var o=e.expires;if(!g(o)||isNaN(o.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+o.toUTCString()}if(e.httpOnly&&(i+="; HttpOnly"),e.secure&&(i+="; Secure"),e.partitioned&&(i+="; Partitioned"),e.priority){var n=typeof e.priority=="string"?e.priority.toLowerCase():e.priority;switch(n){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(e.sameSite){var u=typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite;switch(u){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function y(r){return r.indexOf("%")!==-1?decodeURIComponent(r):r}function S(r){return encodeURIComponent(r)}function g(r){return h.call(r)==="[object Date]"||r instanceof Date}function x(r,s){try{return s(r)}catch{return r}}export{d as default,l as parse,m as serialize};
